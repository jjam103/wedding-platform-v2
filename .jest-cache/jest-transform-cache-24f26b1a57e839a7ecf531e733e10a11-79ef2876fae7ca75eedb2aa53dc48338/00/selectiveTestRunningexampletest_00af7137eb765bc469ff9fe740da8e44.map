{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/__tests__/examples/selectiveTestRunning.example.test.ts"],"sourcesContent":["/**\n * Example: Selective Test Running with Tags\n * \n * This file demonstrates how to use the test tagging system\n * for selective test execution.\n * \n * Run examples:\n * - npm run test:fast          # Run only fast tests\n * - npm run test:critical      # Run only critical tests\n * - npm run test:unit          # Run only unit tests\n * - npm test -- --testNamePattern='@tag:auth'  # Run auth tests\n */\n\nimport {\n  describeWithTags,\n  itWithTags,\n  describeFast,\n  describeSlow,\n  describeCritical,\n  describeUnit,\n  describeIntegration,\n} from '../helpers/testTags';\n\n// Example 1: Basic tagging\ndescribeWithTags('Email Validation', ['unit', 'fast'], () => {\n  itWithTags('should validate correct email', ['fast'], () => {\n    const email = 'test@example.com';\n    const isValid = email.includes('@') && email.includes('.');\n    expect(isValid).toBe(true);\n  });\n  \n  itWithTags('should reject invalid email', ['fast'], () => {\n    const email = 'invalid-email';\n    const isValid = email.includes('@') && email.includes('.');\n    expect(isValid).toBe(false);\n  });\n});\n\n// Example 2: Using helper functions\ndescribeFast('String Utilities', () => {\n  it('should capitalize string', () => {\n    const result = 'hello'.charAt(0).toUpperCase() + 'hello'.slice(1);\n    expect(result).toBe('Hello');\n  });\n  \n  it('should trim whitespace', () => {\n    const result = '  hello  '.trim();\n    expect(result).toBe('hello');\n  });\n});\n\n// Example 3: Critical tests\ndescribeCritical('Authentication Logic', () => {\n  it('should hash password', () => {\n    // Simplified example\n    const password = 'secret123';\n    const hashed = Buffer.from(password).toString('base64');\n    expect(hashed).not.toBe(password);\n  });\n  \n  it('should validate password strength', () => {\n    const password = 'Str0ng!Pass';\n    const isStrong = password.length >= 8 && /[A-Z]/.test(password) && /[0-9]/.test(password);\n    expect(isStrong).toBe(true);\n  });\n});\n\n// Example 4: Multiple tags\ndescribeWithTags('Database Queries', ['integration', 'slow', 'requires-db'], () => {\n  itWithTags('should query users table', ['database'], async () => {\n    // Mock database query\n    const users = await Promise.resolve([\n      { id: 1, name: 'John' },\n      { id: 2, name: 'Jane' },\n    ]);\n    \n    expect(users).toHaveLength(2);\n  });\n  \n  itWithTags('should handle query errors', ['database', 'error-handling'], async () => {\n    // Mock database error\n    try {\n      await Promise.reject(new Error('Connection failed'));\n    } catch (error) {\n      expect(error).toBeInstanceOf(Error);\n    }\n  });\n});\n\n// Example 5: Feature-specific tags\ndescribeWithTags('RSVP Service', ['unit', 'fast', 'rsvp'], () => {\n  itWithTags('should calculate attendance', ['fast'], () => {\n    const rsvps = [\n      { status: 'attending' },\n      { status: 'attending' },\n      { status: 'declined' },\n    ];\n    \n    const attending = rsvps.filter(r => r.status === 'attending').length;\n    expect(attending).toBe(2);\n  });\n  \n  itWithTags('should validate RSVP deadline', ['fast'], () => {\n    const deadline = new Date('2024-12-31');\n    const now = new Date('2024-12-01');\n    const isBeforeDeadline = now < deadline;\n    \n    expect(isBeforeDeadline).toBe(true);\n  });\n});\n\n// Example 6: Slow integration test\ndescribeSlow('External API Integration', () => {\n  it('should fetch data from external API', async () => {\n    // Mock slow API call\n    await new Promise(resolve => setTimeout(resolve, 100));\n    const data = { status: 'success' };\n    \n    expect(data.status).toBe('success');\n  });\n});\n\n// Example 7: Unit test with multiple feature tags\ndescribeUnit('Budget Calculations', () => {\n  itWithTags('should calculate total budget', ['budget', 'fast'], () => {\n    const items = [\n      { cost: 100 },\n      { cost: 200 },\n      { cost: 300 },\n    ];\n    \n    const total = items.reduce((sum, item) => sum + item.cost, 0);\n    expect(total).toBe(600);\n  });\n  \n  itWithTags('should calculate per-guest cost', ['budget', 'fast'], () => {\n    const totalCost = 1000;\n    const guestCount = 50;\n    const perGuestCost = totalCost / guestCount;\n    \n    expect(perGuestCost).toBe(20);\n  });\n});\n\n// Example 8: Integration test with auth\ndescribeIntegration('API Authentication', () => {\n  itWithTags('should require auth token', ['auth', 'api'], async () => {\n    // Mock API request without auth\n    const response = { status: 401, error: 'Unauthorized' };\n    \n    expect(response.status).toBe(401);\n    expect(response.error).toBe('Unauthorized');\n  });\n  \n  itWithTags('should accept valid auth token', ['auth', 'api'], async () => {\n    // Mock API request with auth\n    const response = { status: 200, data: { user: 'test' } };\n    \n    expect(response.status).toBe(200);\n    expect(response.data).toBeDefined();\n  });\n});\n"],"names":["describeWithTags","itWithTags","email","isValid","includes","expect","toBe","describeFast","it","result","charAt","toUpperCase","slice","trim","describeCritical","password","hashed","Buffer","from","toString","not","isStrong","length","test","users","Promise","resolve","id","name","toHaveLength","reject","Error","error","toBeInstanceOf","rsvps","status","attending","filter","r","deadline","Date","now","isBeforeDeadline","describeSlow","setTimeout","data","describeUnit","items","cost","total","reduce","sum","item","totalCost","guestCount","perGuestCost","describeIntegration","response","user","toBeDefined"],"mappings":"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"}