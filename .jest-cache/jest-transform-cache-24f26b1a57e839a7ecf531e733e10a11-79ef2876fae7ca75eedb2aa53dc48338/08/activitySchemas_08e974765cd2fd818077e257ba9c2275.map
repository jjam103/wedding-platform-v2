{"version":3,"names":["activityFilterSchema","cov_jryqrwngd","f","s","activitySearchSchema","createActivitySchema","updateActivitySchema","baseActivitySchema","_zod","z","object","eventId","string","uuid","nullable","optional","name","trim","min","max","description","activityType","locationId","startTime","datetime","endTime","capacity","coerce","number","int","positive","costPerPerson","nonnegative","hostSubsidy","adultsOnly","boolean","plusOneAllowed","visibility","array","status","enum","displayOrder","refine","data","b","Date","message","path","partial","startTimeFrom","startTimeTo","page","pageSize","query"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/activitySchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Base schema for activity data without refinements.\n */\nconst baseActivitySchema = z.object({\n  eventId: z.string().uuid('Invalid event ID format').nullable().optional(),\n  name: z.string().trim().min(1, 'Activity name is required').max(100, 'Activity name must be 100 characters or less'),\n  description: z.string().max(2000, 'Description must be 2000 characters or less').nullable().optional(),\n  activityType: z.string().trim().min(1, 'Activity type is required'),\n  locationId: z.string().uuid('Invalid location ID format').nullable().optional(),\n  startTime: z.string().datetime('Invalid start time format'),\n  endTime: z.string().datetime('Invalid end time format').nullable().optional(),\n  capacity: z.coerce.number().int().positive('Capacity must be a positive integer').nullable().optional(),\n  costPerPerson: z.coerce.number().nonnegative('Cost per person must be non-negative').nullable().optional(),\n  hostSubsidy: z.coerce.number().nonnegative('Host subsidy must be non-negative').nullable().optional(),\n  adultsOnly: z.boolean().optional(),\n  plusOneAllowed: z.boolean().optional(),\n  visibility: z.array(z.string()).optional(),\n  status: z.enum(['draft', 'published']).optional(),\n  displayOrder: z.number().int().nonnegative().optional(),\n});\n\n/**\n * Schema for creating a new activity.\n * All required fields must be provided.\n */\nexport const createActivitySchema = baseActivitySchema.refine(\n  (data) => {\n    if (data.endTime && data.startTime) {\n      return new Date(data.startTime) <= new Date(data.endTime);\n    }\n    return true;\n  },\n  {\n    message: 'End time must be after or equal to start time',\n    path: ['endTime'],\n  }\n);\n\n/**\n * Schema for updating an existing activity.\n * All fields are optional for partial updates.\n */\nexport const updateActivitySchema = baseActivitySchema.partial().refine(\n  (data) => {\n    if (data.endTime && data.startTime) {\n      return new Date(data.startTime) <= new Date(data.endTime);\n    }\n    return true;\n  },\n  {\n    message: 'End time must be after or equal to start time',\n    path: ['endTime'],\n  }\n);\n\n/**\n * Schema for activity list filters.\n */\nexport const activityFilterSchema = z.object({\n  eventId: z.string().uuid().optional(),\n  activityType: z.string().optional(),\n  status: z.enum(['draft', 'published']).optional(),\n  locationId: z.string().uuid().optional(),\n  adultsOnly: z.boolean().optional(),\n  startTimeFrom: z.string().datetime().optional(),\n  startTimeTo: z.string().datetime().optional(),\n  page: z.number().int().positive().optional(),\n  pageSize: z.number().int().positive().max(100).optional(),\n});\n\n/**\n * Schema for activity search.\n */\nexport const activitySearchSchema = z.object({\n  query: z.string().min(1, 'Search query is required'),\n  page: z.number().int().positive().optional(),\n  pageSize: z.number().int().positive().max(100).optional(),\n});\n\n/**\n * Type definitions derived from schemas.\n */\nexport type CreateActivityDTO = z.infer<typeof createActivitySchema>;\nexport type UpdateActivityDTO = z.infer<typeof updateActivitySchema>;\nexport type ActivityFilterDTO = z.infer<typeof activityFilterSchema>;\nexport type ActivitySearchDTO = z.infer<typeof activitySearchSchema>;\n\n/**\n * Activity entity type matching database structure.\n */\nexport interface Activity {\n  id: string;\n  eventId: string | null;\n  name: string;\n  slug: string;\n  description: string | null;\n  activityType: string;\n  locationId: string | null;\n  startTime: string;\n  endTime: string | null;\n  capacity: number | null;\n  costPerPerson: number | null;\n  hostSubsidy: number | null;\n  adultsOnly: boolean;\n  plusOneAllowed: boolean;\n  visibility: string[];\n  status: 'draft' | 'published';\n  displayOrder: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Paginated activity list response.\n */\nexport interface PaginatedActivities {\n  activities: Activity[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\n/**\n * Activity capacity information.\n */\nexport interface ActivityCapacity {\n  activityId: string;\n  activityName: string;\n  capacity: number | null;\n  currentAttendees: number;\n  availableSpots: number | null;\n  utilizationPercentage: number | null;\n  isNearCapacity: boolean; // true if >= 90% capacity\n  isAtCapacity: boolean; // true if >= 100% capacity\n}\n"],"mappings":"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","ignoreList":[]}