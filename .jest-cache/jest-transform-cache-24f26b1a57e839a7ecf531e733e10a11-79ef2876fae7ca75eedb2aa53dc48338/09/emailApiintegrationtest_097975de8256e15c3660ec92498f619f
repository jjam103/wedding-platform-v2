667178ca8a0825b1599785810e61d229
/**
 * Integration Test: Email API
 * 
 * Tests email sending, template management, and email logs API endpoints.
 */ // Polyfill Web APIs for Next.js server components
"use strict";
// Mock the email service BEFORE importing route handlers
jest.mock('@/services/emailService', ()=>({
        getEmailLogs: jest.fn(),
        sendBulkEmail: jest.fn(),
        listTemplates: jest.fn(),
        createTemplate: jest.fn(),
        getTemplate: jest.fn(),
        updateTemplate: jest.fn(),
        deleteTemplate: jest.fn(),
        getEmailAnalytics: jest.fn()
    }));
// Mock Next.js server module
jest.mock('next/server', ()=>({
        NextResponse: {
            json: (data, init)=>({
                    json: async ()=>data,
                    status: init?.status || 200
                })
        },
        NextRequest: jest.fn()
    }));
// Mock the Supabase server client
jest.mock('@/lib/supabaseServer', ()=>({
        createAuthenticatedClient: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _util = require("util");
const _route = require("../../app/api/admin/emails/route");
const _route1 = require("../../app/api/admin/emails/send/route");
const _route2 = require("../../app/api/admin/emails/templates/route");
const _route3 = require("../../app/api/admin/emails/templates/[id]/route");
const _route4 = require("../../app/api/admin/emails/analytics/route");
global.TextEncoder = _util.TextEncoder;
global.TextDecoder = _util.TextDecoder;
describe('Email API Integration Tests', ()=>{
    let mockSupabase;
    let mockGetEmailLogs;
    let mockSendBulkEmail;
    let mockListTemplates;
    let mockCreateTemplate;
    let mockGetTemplate;
    let mockUpdateTemplate;
    let mockDeleteTemplate;
    let mockGetEmailAnalytics;
    beforeEach(()=>{
        // Reset all mocks
        jest.clearAllMocks();
        // Mock Supabase client
        mockSupabase = {
            auth: {
                getSession: jest.fn()
            }
        };
        // Mock service functions
        mockGetEmailLogs = require('@/services/emailService').getEmailLogs;
        mockSendBulkEmail = require('@/services/emailService').sendBulkEmail;
        mockListTemplates = require('@/services/emailService').listTemplates;
        mockCreateTemplate = require('@/services/emailService').createTemplate;
        mockGetTemplate = require('@/services/emailService').getTemplate;
        mockUpdateTemplate = require('@/services/emailService').updateTemplate;
        mockDeleteTemplate = require('@/services/emailService').deleteTemplate;
        mockGetEmailAnalytics = require('@/services/emailService').getEmailAnalytics;
        // Mock createAuthenticatedClient
        const { createAuthenticatedClient } = require('@/lib/supabaseServer');
        createAuthenticatedClient.mockResolvedValue(mockSupabase);
        // Mock successful authentication by default
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'user-1',
                        email: 'admin@example.com'
                    },
                    access_token: 'mock-token'
                }
            },
            error: null
        });
    });
    describe('GET /api/admin/emails', ()=>{
        it('should return email logs when authenticated', async ()=>{
            // Arrange
            const mockEmailLogs = [
                {
                    id: 'log-1',
                    recipient_email: 'guest@example.com',
                    subject: 'RSVP Reminder',
                    delivery_status: 'delivered',
                    sent_at: '2024-01-01T10:00:00Z',
                    delivered_at: '2024-01-01T10:01:00Z',
                    created_at: '2024-01-01T10:00:00Z'
                },
                {
                    id: 'log-2',
                    recipient_email: 'guest2@example.com',
                    subject: 'Welcome Email',
                    delivery_status: 'sent',
                    sent_at: '2024-01-01T11:00:00Z',
                    created_at: '2024-01-01T11:00:00Z'
                }
            ];
            mockGetEmailLogs.mockResolvedValue({
                success: true,
                data: mockEmailLogs
            });
            const request = new Request('http://localhost:3000/api/admin/emails', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual(mockEmailLogs);
            expect(mockGetEmailLogs).toHaveBeenCalledWith();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockGetEmailLogs).not.toHaveBeenCalled();
        });
        it('should return 500 when service fails', async ()=>{
            // Arrange
            mockGetEmailLogs.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database connection failed'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
        it('should handle authentication errors', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: {
                    message: 'Session expired'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
    });
    describe('POST /api/admin/emails/send', ()=>{
        it('should send bulk email when authenticated with valid data', async ()=>{
            // Arrange
            const bulkEmailData = {
                recipients: [
                    'guest1@example.com',
                    'guest2@example.com'
                ],
                subject: 'Wedding Update',
                html: '<p>Important wedding information</p>',
                text: 'Important wedding information'
            };
            mockSendBulkEmail.mockResolvedValue({
                success: true,
                data: {
                    sent: 2,
                    failed: 0
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(bulkEmailData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.sent).toBe(2);
            expect(data.data.failed).toBe(0);
            expect(mockSendBulkEmail).toHaveBeenCalledWith(bulkEmailData);
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    recipients: [
                        'test@example.com'
                    ],
                    subject: 'Test',
                    html: '<p>Test</p>'
                })
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockSendBulkEmail).not.toHaveBeenCalled();
        });
        it('should return 400 for invalid email data', async ()=>{
            // Arrange
            const invalidData = {
                recipients: [
                    'invalid-email'
                ],
                subject: '',
                html: ''
            };
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(invalidData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.details).toBeDefined();
            expect(mockSendBulkEmail).not.toHaveBeenCalled();
        });
        it('should return 400 for missing required fields', async ()=>{
            // Arrange
            const incompleteData = {
                recipients: [
                    'test@example.com'
                ]
            };
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(incompleteData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockSendBulkEmail).not.toHaveBeenCalled();
        });
        it('should return 500 when email service fails', async ()=>{
            // Arrange
            const validData = {
                recipients: [
                    'test@example.com'
                ],
                subject: 'Test Subject',
                html: '<p>Test content</p>'
            };
            mockSendBulkEmail.mockResolvedValue({
                success: false,
                error: {
                    code: 'EMAIL_SERVICE_ERROR',
                    message: 'Resend API error'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(validData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('EMAIL_SERVICE_ERROR');
        });
        it('should handle template-based bulk emails', async ()=>{
            // Arrange
            const templateData = {
                recipients: [
                    'guest1@example.com',
                    'guest2@example.com'
                ],
                subject: 'RSVP Reminder',
                html: '<p>Please RSVP by {{deadline}}</p>',
                template_id: '123e4567-e89b-12d3-a456-426614174000',
                variables: {
                    deadline: '2024-02-01'
                }
            };
            mockSendBulkEmail.mockResolvedValue({
                success: true,
                data: {
                    sent: 2,
                    failed: 0
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(templateData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(mockSendBulkEmail).toHaveBeenCalledWith(templateData);
        });
        it('should validate maximum recipients limit', async ()=>{
            // Arrange - Create array with 101 recipients (over limit)
            const tooManyRecipients = Array.from({
                length: 101
            }, (_, i)=>`user${i}@example.com`);
            const invalidData = {
                recipients: tooManyRecipients,
                subject: 'Test',
                html: '<p>Test</p>'
            };
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(invalidData)
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockSendBulkEmail).not.toHaveBeenCalled();
        });
    });
    describe('GET /api/admin/emails/templates', ()=>{
        it('should return email templates when authenticated', async ()=>{
            // Arrange
            const mockTemplates = [
                {
                    id: 'template-1',
                    name: 'RSVP Reminder',
                    subject: 'Please RSVP by {{deadline}}',
                    body_html: '<p>Dear {{guest_name}}, please RSVP by {{deadline}}</p>',
                    body_text: 'Dear {{guest_name}}, please RSVP by {{deadline}}',
                    variables: [
                        'guest_name',
                        'deadline'
                    ],
                    created_at: '2024-01-01T10:00:00Z',
                    updated_at: '2024-01-01T10:00:00Z'
                },
                {
                    id: 'template-2',
                    name: 'Welcome Email',
                    subject: 'Welcome to our wedding!',
                    body_html: '<p>Welcome {{guest_name}}! We are excited to celebrate with you.</p>',
                    body_text: 'Welcome {{guest_name}}! We are excited to celebrate with you.',
                    variables: [
                        'guest_name'
                    ],
                    created_at: '2024-01-01T11:00:00Z',
                    updated_at: '2024-01-01T11:00:00Z'
                }
            ];
            mockListTemplates.mockResolvedValue({
                success: true,
                data: mockTemplates
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual(mockTemplates);
            expect(data.data).toHaveLength(2);
            expect(mockListTemplates).toHaveBeenCalledWith();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockListTemplates).not.toHaveBeenCalled();
        });
        it('should return empty array when no templates exist', async ()=>{
            // Arrange
            mockListTemplates.mockResolvedValue({
                success: true,
                data: []
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual([]);
            expect(data.data).toHaveLength(0);
        });
        it('should return 500 when service fails', async ()=>{
            // Arrange
            mockListTemplates.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to fetch templates'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
        it('should handle templates with complex variables', async ()=>{
            // Arrange
            const complexTemplate = {
                id: 'template-complex',
                name: 'Activity Reminder',
                subject: '{{activity_name}} reminder for {{event_date}}',
                body_html: `
          <h1>{{activity_name}}</h1>
          <p>Dear {{guest_name}},</p>
          <p>This is a reminder about {{activity_name}} on {{event_date}} at {{event_time}}.</p>
          <p>Location: {{location_name}}</p>
          <p>Please arrive by {{arrival_time}}.</p>
        `,
                body_text: 'Dear {{guest_name}}, reminder about {{activity_name}} on {{event_date}} at {{event_time}}. Location: {{location_name}}. Please arrive by {{arrival_time}}.',
                variables: [
                    'guest_name',
                    'activity_name',
                    'event_date',
                    'event_time',
                    'location_name',
                    'arrival_time'
                ],
                created_at: '2024-01-01T12:00:00Z',
                updated_at: '2024-01-01T12:00:00Z'
            };
            mockListTemplates.mockResolvedValue({
                success: true,
                data: [
                    complexTemplate
                ]
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data[0].variables).toHaveLength(6);
            expect(data.data[0].variables).toContain('guest_name');
            expect(data.data[0].variables).toContain('activity_name');
        });
    });
    describe('POST /api/admin/emails/templates', ()=>{
        it('should create email template when authenticated with valid data', async ()=>{
            // Arrange
            const templateData = {
                name: 'New Template',
                subject: 'Hello {{guest_name}}',
                body_html: '<p>Hello {{guest_name}}, welcome!</p>',
                body_text: 'Hello {{guest_name}}, welcome!',
                variables: [
                    'guest_name'
                ]
            };
            const createdTemplate = {
                id: 'template-new',
                ...templateData,
                created_at: '2024-01-01T10:00:00Z',
                updated_at: '2024-01-01T10:00:00Z'
            };
            mockCreateTemplate.mockResolvedValue({
                success: true,
                data: createdTemplate
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(templateData)
            });
            // Act
            const response = await (0, _route2.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(201);
            expect(data.success).toBe(true);
            expect(data.data.id).toBe('template-new');
            expect(data.data.name).toBe('New Template');
            expect(mockCreateTemplate).toHaveBeenCalledWith(templateData);
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: 'Test Template',
                    subject: 'Test',
                    body_html: '<p>Test</p>'
                })
            });
            // Act
            const response = await (0, _route2.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockCreateTemplate).not.toHaveBeenCalled();
        });
        it('should return 400 for invalid template data', async ()=>{
            // Arrange
            const invalidData = {
                name: '',
                subject: 'Test',
                body_html: ''
            };
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(invalidData)
            });
            // Act
            const response = await (0, _route2.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.details).toBeDefined();
            expect(mockCreateTemplate).not.toHaveBeenCalled();
        });
        it('should return 500 when service fails', async ()=>{
            // Arrange
            const validData = {
                name: 'Test Template',
                subject: 'Test Subject',
                body_html: '<p>Test content</p>',
                body_text: 'Test content',
                variables: [
                    'guest_name'
                ]
            };
            mockCreateTemplate.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to create template'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(validData)
            });
            // Act
            const response = await (0, _route2.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
    });
    describe('GET /api/admin/emails/templates/[id]', ()=>{
        it('should return specific template when authenticated', async ()=>{
            // Arrange
            const mockTemplate = {
                id: 'template-1',
                name: 'RSVP Reminder',
                subject: 'Please RSVP by {{deadline}}',
                body_html: '<p>Dear {{guest_name}}, please RSVP by {{deadline}}</p>',
                body_text: 'Dear {{guest_name}}, please RSVP by {{deadline}}',
                variables: [
                    'guest_name',
                    'deadline'
                ],
                created_at: '2024-01-01T10:00:00Z',
                updated_at: '2024-01-01T10:00:00Z'
            };
            mockGetTemplate.mockResolvedValue({
                success: true,
                data: mockTemplate
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route3.GET)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual(mockTemplate);
            expect(mockGetTemplate).toHaveBeenCalledWith('template-1');
        });
        it('should return 404 when template not found', async ()=>{
            // Arrange
            mockGetTemplate.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Template not found'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/nonexistent', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route3.GET)(request, {
                params: Promise.resolve({
                    id: 'nonexistent'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(404);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('NOT_FOUND');
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route3.GET)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockGetTemplate).not.toHaveBeenCalled();
        });
    });
    describe('PUT /api/admin/emails/templates/[id]', ()=>{
        it('should update template when authenticated with valid data', async ()=>{
            // Arrange
            const updateData = {
                name: 'Updated Template',
                subject: 'Updated {{guest_name}}',
                body_html: '<p>Updated {{guest_name}}</p>'
            };
            const updatedTemplate = {
                id: 'template-1',
                ...updateData,
                body_text: 'Updated {{guest_name}}',
                variables: [
                    'guest_name'
                ],
                created_at: '2024-01-01T10:00:00Z',
                updated_at: '2024-01-01T11:00:00Z'
            };
            mockUpdateTemplate.mockResolvedValue({
                success: true,
                data: updatedTemplate
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(updateData)
            });
            // Act
            const response = await (0, _route3.PUT)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.name).toBe('Updated Template');
            expect(mockUpdateTemplate).toHaveBeenCalledWith('template-1', updateData);
        });
        it('should return 404 when template not found', async ()=>{
            // Arrange
            mockUpdateTemplate.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Template not found'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/nonexistent', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: 'Updated'
                })
            });
            // Act
            const response = await (0, _route3.PUT)(request, {
                params: Promise.resolve({
                    id: 'nonexistent'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(404);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('NOT_FOUND');
        });
        it('should return 400 for invalid update data', async ()=>{
            // Arrange
            const invalidData = {
                name: ''
            };
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(invalidData)
            });
            // Act
            const response = await (0, _route3.PUT)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockUpdateTemplate).not.toHaveBeenCalled();
        });
    });
    describe('DELETE /api/admin/emails/templates/[id]', ()=>{
        it('should delete template when authenticated', async ()=>{
            // Arrange
            mockDeleteTemplate.mockResolvedValue({
                success: true,
                data: undefined
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'DELETE'
            });
            // Act
            const response = await (0, _route3.DELETE)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(mockDeleteTemplate).toHaveBeenCalledWith('template-1');
        });
        it('should return 404 when template not found', async ()=>{
            // Arrange
            mockDeleteTemplate.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Template not found'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/nonexistent', {
                method: 'DELETE'
            });
            // Act
            const response = await (0, _route3.DELETE)(request, {
                params: Promise.resolve({
                    id: 'nonexistent'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(404);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('NOT_FOUND');
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/templates/template-1', {
                method: 'DELETE'
            });
            // Act
            const response = await (0, _route3.DELETE)(request, {
                params: Promise.resolve({
                    id: 'template-1'
                })
            });
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockDeleteTemplate).not.toHaveBeenCalled();
        });
    });
    describe('GET /api/admin/emails/analytics', ()=>{
        it('should return email analytics when authenticated', async ()=>{
            // Arrange
            const mockAnalytics = {
                total: 150,
                delivered: 140,
                bounced: 5,
                failed: 5,
                delivery_rate: 93.33,
                bounce_rate: 3.33,
                failure_rate: 3.33,
                recent_activity: [
                    {
                        date: '2024-01-01',
                        sent: 25,
                        delivered: 24,
                        bounced: 1,
                        failed: 0
                    },
                    {
                        date: '2024-01-02',
                        sent: 30,
                        delivered: 28,
                        bounced: 1,
                        failed: 1
                    }
                ]
            };
            mockGetEmailAnalytics.mockResolvedValue({
                success: true,
                data: mockAnalytics
            });
            const request = new Request('http://localhost:3000/api/admin/emails/analytics', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route4.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.total).toBe(150);
            expect(data.data.delivery_rate).toBe(93.33);
            expect(data.data.recent_activity).toHaveLength(2);
            expect(mockGetEmailAnalytics).toHaveBeenCalledWith();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/emails/analytics', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route4.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(mockGetEmailAnalytics).not.toHaveBeenCalled();
        });
        it('should return 500 when service fails', async ()=>{
            // Arrange
            mockGetEmailAnalytics.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to fetch analytics'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/emails/analytics', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route4.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
        it('should handle empty analytics data', async ()=>{
            // Arrange
            const emptyAnalytics = {
                total: 0,
                delivered: 0,
                bounced: 0,
                failed: 0,
                delivery_rate: 0,
                bounce_rate: 0,
                failure_rate: 0,
                recent_activity: []
            };
            mockGetEmailAnalytics.mockResolvedValue({
                success: true,
                data: emptyAnalytics
            });
            const request = new Request('http://localhost:3000/api/admin/emails/analytics', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route4.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.total).toBe(0);
            expect(data.data.recent_activity).toHaveLength(0);
        });
    });
    describe('Error Handling', ()=>{
        it('should handle malformed JSON in POST requests', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: 'invalid json{'
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNKNOWN_ERROR');
        });
        it('should handle missing Content-Type header', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/emails/send', {
                method: 'POST',
                body: JSON.stringify({
                    recipients: [
                        'test@example.com'
                    ],
                    subject: 'Test',
                    html: '<p>Test</p>'
                })
            });
            // Act
            const response = await (0, _route1.POST)(request);
            const data = await response.json();
            // Assert - Should still work as Next.js handles JSON parsing
            expect(response.status).toBe(200);
            expect(mockSendBulkEmail).toHaveBeenCalled();
        });
        it('should handle service throwing unexpected errors', async ()=>{
            // Arrange
            mockGetEmailLogs.mockRejectedValue(new Error('Unexpected service error'));
            const request = new Request('http://localhost:3000/api/admin/emails', {
                method: 'GET'
            });
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNKNOWN_ERROR');
            expect(data.error.message).toBe('Unexpected service error');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL2VtYWlsQXBpLmludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnRlZ3JhdGlvbiBUZXN0OiBFbWFpbCBBUElcbiAqIFxuICogVGVzdHMgZW1haWwgc2VuZGluZywgdGVtcGxhdGUgbWFuYWdlbWVudCwgYW5kIGVtYWlsIGxvZ3MgQVBJIGVuZHBvaW50cy5cbiAqL1xuXG4vLyBQb2x5ZmlsbCBXZWIgQVBJcyBmb3IgTmV4dC5qcyBzZXJ2ZXIgY29tcG9uZW50c1xuaW1wb3J0IHsgVGV4dEVuY29kZXIsIFRleHREZWNvZGVyIH0gZnJvbSAndXRpbCc7XG5nbG9iYWwuVGV4dEVuY29kZXIgPSBUZXh0RW5jb2Rlcjtcbmdsb2JhbC5UZXh0RGVjb2RlciA9IFRleHREZWNvZGVyIGFzIGFueTtcblxuLy8gTW9jayB0aGUgZW1haWwgc2VydmljZSBCRUZPUkUgaW1wb3J0aW5nIHJvdXRlIGhhbmRsZXJzXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvZW1haWxTZXJ2aWNlJywgKCkgPT4gKHtcbiAgZ2V0RW1haWxMb2dzOiBqZXN0LmZuKCksXG4gIHNlbmRCdWxrRW1haWw6IGplc3QuZm4oKSxcbiAgbGlzdFRlbXBsYXRlczogamVzdC5mbigpLFxuICBjcmVhdGVUZW1wbGF0ZTogamVzdC5mbigpLFxuICBnZXRUZW1wbGF0ZTogamVzdC5mbigpLFxuICB1cGRhdGVUZW1wbGF0ZTogamVzdC5mbigpLFxuICBkZWxldGVUZW1wbGF0ZTogamVzdC5mbigpLFxuICBnZXRFbWFpbEFuYWx5dGljczogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgc2VydmVyIG1vZHVsZVxuamVzdC5tb2NrKCduZXh0L3NlcnZlcicsICgpID0+ICh7XG4gIE5leHRSZXNwb25zZToge1xuICAgIGpzb246IChkYXRhOiBhbnksIGluaXQ/OiBhbnkpID0+ICh7XG4gICAgICBqc29uOiBhc3luYyAoKSA9PiBkYXRhLFxuICAgICAgc3RhdHVzOiBpbml0Py5zdGF0dXMgfHwgMjAwLFxuICAgIH0pLFxuICB9LFxuICBOZXh0UmVxdWVzdDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIHRoZSBTdXBhYmFzZSBzZXJ2ZXIgY2xpZW50XG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlU2VydmVyJywgKCkgPT4gKHtcbiAgY3JlYXRlQXV0aGVudGljYXRlZENsaWVudDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBJbXBvcnQgcm91dGUgaGFuZGxlcnMgYWZ0ZXIgbW9ja2luZ1xuaW1wb3J0IHsgR0VUIGFzIGdldEVtYWlsTG9ncyB9IGZyb20gJ0AvYXBwL2FwaS9hZG1pbi9lbWFpbHMvcm91dGUnO1xuaW1wb3J0IHsgUE9TVCBhcyBzZW5kQnVsa0VtYWlsIH0gZnJvbSAnQC9hcHAvYXBpL2FkbWluL2VtYWlscy9zZW5kL3JvdXRlJztcbmltcG9ydCB7IEdFVCBhcyBnZXRFbWFpbFRlbXBsYXRlcywgUE9TVCBhcyBjcmVhdGVFbWFpbFRlbXBsYXRlIH0gZnJvbSAnQC9hcHAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvcm91dGUnO1xuaW1wb3J0IHsgR0VUIGFzIGdldEVtYWlsVGVtcGxhdGUsIFBVVCBhcyB1cGRhdGVFbWFpbFRlbXBsYXRlLCBERUxFVEUgYXMgZGVsZXRlRW1haWxUZW1wbGF0ZSB9IGZyb20gJ0AvYXBwL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzL1tpZF0vcm91dGUnO1xuaW1wb3J0IHsgR0VUIGFzIGdldEVtYWlsQW5hbHl0aWNzIH0gZnJvbSAnQC9hcHAvYXBpL2FkbWluL2VtYWlscy9hbmFseXRpY3Mvcm91dGUnO1xuXG5kZXNjcmliZSgnRW1haWwgQVBJIEludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICBsZXQgbW9ja1N1cGFiYXNlOiBhbnk7XG4gIGxldCBtb2NrR2V0RW1haWxMb2dzOiBqZXN0Lk1vY2s7XG4gIGxldCBtb2NrU2VuZEJ1bGtFbWFpbDogamVzdC5Nb2NrO1xuICBsZXQgbW9ja0xpc3RUZW1wbGF0ZXM6IGplc3QuTW9jaztcbiAgbGV0IG1vY2tDcmVhdGVUZW1wbGF0ZTogamVzdC5Nb2NrO1xuICBsZXQgbW9ja0dldFRlbXBsYXRlOiBqZXN0Lk1vY2s7XG4gIGxldCBtb2NrVXBkYXRlVGVtcGxhdGU6IGplc3QuTW9jaztcbiAgbGV0IG1vY2tEZWxldGVUZW1wbGF0ZTogamVzdC5Nb2NrO1xuICBsZXQgbW9ja0dldEVtYWlsQW5hbHl0aWNzOiBqZXN0Lk1vY2s7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgYWxsIG1vY2tzXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAvLyBNb2NrIFN1cGFiYXNlIGNsaWVudFxuICAgIG1vY2tTdXBhYmFzZSA9IHtcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgZ2V0U2Vzc2lvbjogamVzdC5mbigpLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gTW9jayBzZXJ2aWNlIGZ1bmN0aW9uc1xuICAgIG1vY2tHZXRFbWFpbExvZ3MgPSByZXF1aXJlKCdAL3NlcnZpY2VzL2VtYWlsU2VydmljZScpLmdldEVtYWlsTG9ncztcbiAgICBtb2NrU2VuZEJ1bGtFbWFpbCA9IHJlcXVpcmUoJ0Avc2VydmljZXMvZW1haWxTZXJ2aWNlJykuc2VuZEJ1bGtFbWFpbDtcbiAgICBtb2NrTGlzdFRlbXBsYXRlcyA9IHJlcXVpcmUoJ0Avc2VydmljZXMvZW1haWxTZXJ2aWNlJykubGlzdFRlbXBsYXRlcztcbiAgICBtb2NrQ3JlYXRlVGVtcGxhdGUgPSByZXF1aXJlKCdAL3NlcnZpY2VzL2VtYWlsU2VydmljZScpLmNyZWF0ZVRlbXBsYXRlO1xuICAgIG1vY2tHZXRUZW1wbGF0ZSA9IHJlcXVpcmUoJ0Avc2VydmljZXMvZW1haWxTZXJ2aWNlJykuZ2V0VGVtcGxhdGU7XG4gICAgbW9ja1VwZGF0ZVRlbXBsYXRlID0gcmVxdWlyZSgnQC9zZXJ2aWNlcy9lbWFpbFNlcnZpY2UnKS51cGRhdGVUZW1wbGF0ZTtcbiAgICBtb2NrRGVsZXRlVGVtcGxhdGUgPSByZXF1aXJlKCdAL3NlcnZpY2VzL2VtYWlsU2VydmljZScpLmRlbGV0ZVRlbXBsYXRlO1xuICAgIG1vY2tHZXRFbWFpbEFuYWx5dGljcyA9IHJlcXVpcmUoJ0Avc2VydmljZXMvZW1haWxTZXJ2aWNlJykuZ2V0RW1haWxBbmFseXRpY3M7XG5cbiAgICAvLyBNb2NrIGNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnRcbiAgICBjb25zdCB7IGNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnQgfSA9IHJlcXVpcmUoJ0AvbGliL3N1cGFiYXNlU2VydmVyJyk7XG4gICAgY3JlYXRlQXV0aGVudGljYXRlZENsaWVudC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3VwYWJhc2UpO1xuXG4gICAgLy8gTW9jayBzdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uIGJ5IGRlZmF1bHRcbiAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgIHVzZXI6IHsgaWQ6ICd1c2VyLTEnLCBlbWFpbDogJ2FkbWluQGV4YW1wbGUuY29tJyB9LFxuICAgICAgICAgIGFjY2Vzc190b2tlbjogJ21vY2stdG9rZW4nLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vZW1haWxzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtYWlsIGxvZ3Mgd2hlbiBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja0VtYWlsTG9ncyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnbG9nLTEnLFxuICAgICAgICAgIHJlY2lwaWVudF9lbWFpbDogJ2d1ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdWJqZWN0OiAnUlNWUCBSZW1pbmRlcicsXG4gICAgICAgICAgZGVsaXZlcnlfc3RhdHVzOiAnZGVsaXZlcmVkJyxcbiAgICAgICAgICBzZW50X2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgICAgIGRlbGl2ZXJlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDE6MDBaJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdsb2ctMicsXG4gICAgICAgICAgcmVjaXBpZW50X2VtYWlsOiAnZ3Vlc3QyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdWJqZWN0OiAnV2VsY29tZSBFbWFpbCcsXG4gICAgICAgICAgZGVsaXZlcnlfc3RhdHVzOiAnc2VudCcsXG4gICAgICAgICAgc2VudF9hdDogJzIwMjQtMDEtMDFUMTE6MDA6MDBaJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMTowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0dldEVtYWlsTG9ncy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tFbWFpbExvZ3MsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxMb2dzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9FcXVhbChtb2NrRW1haWxMb2dzKTtcbiAgICAgIGV4cGVjdChtb2NrR2V0RW1haWxMb2dzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldEVtYWlsTG9ncyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChtb2NrR2V0RW1haWxMb2dzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIHdoZW4gc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tHZXRFbWFpbExvZ3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxMb2dzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhdXRoZW50aWNhdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdTZXNzaW9uIGV4cGlyZWQnIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxMb2dzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOQVVUSE9SSVpFRCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2FkbWluL2VtYWlscy9zZW5kJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2VuZCBidWxrIGVtYWlsIHdoZW4gYXV0aGVudGljYXRlZCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBidWxrRW1haWxEYXRhID0ge1xuICAgICAgICByZWNpcGllbnRzOiBbJ2d1ZXN0MUBleGFtcGxlLmNvbScsICdndWVzdDJAZXhhbXBsZS5jb20nXSxcbiAgICAgICAgc3ViamVjdDogJ1dlZGRpbmcgVXBkYXRlJyxcbiAgICAgICAgaHRtbDogJzxwPkltcG9ydGFudCB3ZWRkaW5nIGluZm9ybWF0aW9uPC9wPicsXG4gICAgICAgIHRleHQ6ICdJbXBvcnRhbnQgd2VkZGluZyBpbmZvcm1hdGlvbicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU2VuZEJ1bGtFbWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgc2VudDogMiwgZmFpbGVkOiAwIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy9zZW5kJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJ1bGtFbWFpbERhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQnVsa0VtYWlsKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5zZW50KS50b0JlKDIpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5mYWlsZWQpLnRvQmUoMCk7XG4gICAgICBleHBlY3QobW9ja1NlbmRCdWxrRW1haWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGJ1bGtFbWFpbERhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcmVjaXBpZW50czogWyd0ZXN0QGV4YW1wbGUuY29tJ10sXG4gICAgICAgICAgc3ViamVjdDogJ1Rlc3QnLFxuICAgICAgICAgIGh0bWw6ICc8cD5UZXN0PC9wPicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQnVsa0VtYWlsKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOQVVUSE9SSVpFRCcpO1xuICAgICAgZXhwZWN0KG1vY2tTZW5kQnVsa0VtYWlsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBpbnZhbGlkIGVtYWlsIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgcmVjaXBpZW50czogWydpbnZhbGlkLWVtYWlsJ10sIC8vIEludmFsaWQgZW1haWwgZm9ybWF0XG4gICAgICAgIHN1YmplY3Q6ICcnLCAvLyBFbXB0eSBzdWJqZWN0XG4gICAgICAgIGh0bWw6ICcnLCAvLyBFbXB0eSBIVE1MXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3NlbmQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW52YWxpZERhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQnVsa0VtYWlsKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmRldGFpbHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobW9ja1NlbmRCdWxrRW1haWwpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW5jb21wbGV0ZURhdGEgPSB7XG4gICAgICAgIHJlY2lwaWVudHM6IFsndGVzdEBleGFtcGxlLmNvbSddLFxuICAgICAgICAvLyBNaXNzaW5nIHN1YmplY3QgYW5kIGh0bWxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbmNvbXBsZXRlRGF0YSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRCdWxrRW1haWwocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KG1vY2tTZW5kQnVsa0VtYWlsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIHdoZW4gZW1haWwgc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkRGF0YSA9IHtcbiAgICAgICAgcmVjaXBpZW50czogWyd0ZXN0QGV4YW1wbGUuY29tJ10sXG4gICAgICAgIHN1YmplY3Q6ICdUZXN0IFN1YmplY3QnLFxuICAgICAgICBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU2VuZEJ1bGtFbWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdFTUFJTF9TRVJWSUNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnUmVzZW5kIEFQSSBlcnJvcicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy9zZW5kJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHZhbGlkRGF0YSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRCdWxrRW1haWwocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnRU1BSUxfU0VSVklDRV9FUlJPUicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGVtcGxhdGUtYmFzZWQgYnVsayBlbWFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSB7XG4gICAgICAgIHJlY2lwaWVudHM6IFsnZ3Vlc3QxQGV4YW1wbGUuY29tJywgJ2d1ZXN0MkBleGFtcGxlLmNvbSddLFxuICAgICAgICBzdWJqZWN0OiAnUlNWUCBSZW1pbmRlcicsXG4gICAgICAgIGh0bWw6ICc8cD5QbGVhc2UgUlNWUCBieSB7e2RlYWRsaW5lfX08L3A+JyxcbiAgICAgICAgdGVtcGxhdGVfaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLCAvLyBWYWxpZCBVVUlEIGZvcm1hdFxuICAgICAgICB2YXJpYWJsZXM6IHsgZGVhZGxpbmU6ICcyMDI0LTAyLTAxJyB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja1NlbmRCdWxrRW1haWwubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7IHNlbnQ6IDIsIGZhaWxlZDogMCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZURhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQnVsa0VtYWlsKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tTZW5kQnVsa0VtYWlsKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh0ZW1wbGF0ZURhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBtYXhpbXVtIHJlY2lwaWVudHMgbGltaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlIC0gQ3JlYXRlIGFycmF5IHdpdGggMTAxIHJlY2lwaWVudHMgKG92ZXIgbGltaXQpXG4gICAgICBjb25zdCB0b29NYW55UmVjaXBpZW50cyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMSB9LCAoXywgaSkgPT4gYHVzZXIke2l9QGV4YW1wbGUuY29tYCk7XG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgcmVjaXBpZW50czogdG9vTWFueVJlY2lwaWVudHMsXG4gICAgICAgIHN1YmplY3Q6ICdUZXN0JyxcbiAgICAgICAgaHRtbDogJzxwPlRlc3Q8L3A+JyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnZhbGlkRGF0YSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRCdWxrRW1haWwocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KG1vY2tTZW5kQnVsa0VtYWlsKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBlbWFpbCB0ZW1wbGF0ZXMgd2hlbiBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja1RlbXBsYXRlcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndGVtcGxhdGUtMScsXG4gICAgICAgICAgbmFtZTogJ1JTVlAgUmVtaW5kZXInLFxuICAgICAgICAgIHN1YmplY3Q6ICdQbGVhc2UgUlNWUCBieSB7e2RlYWRsaW5lfX0nLFxuICAgICAgICAgIGJvZHlfaHRtbDogJzxwPkRlYXIge3tndWVzdF9uYW1lfX0sIHBsZWFzZSBSU1ZQIGJ5IHt7ZGVhZGxpbmV9fTwvcD4nLFxuICAgICAgICAgIGJvZHlfdGV4dDogJ0RlYXIge3tndWVzdF9uYW1lfX0sIHBsZWFzZSBSU1ZQIGJ5IHt7ZGVhZGxpbmV9fScsXG4gICAgICAgICAgdmFyaWFibGVzOiBbJ2d1ZXN0X25hbWUnLCAnZGVhZGxpbmUnXSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3RlbXBsYXRlLTInLFxuICAgICAgICAgIG5hbWU6ICdXZWxjb21lIEVtYWlsJyxcbiAgICAgICAgICBzdWJqZWN0OiAnV2VsY29tZSB0byBvdXIgd2VkZGluZyEnLFxuICAgICAgICAgIGJvZHlfaHRtbDogJzxwPldlbGNvbWUge3tndWVzdF9uYW1lfX0hIFdlIGFyZSBleGNpdGVkIHRvIGNlbGVicmF0ZSB3aXRoIHlvdS48L3A+JyxcbiAgICAgICAgICBib2R5X3RleHQ6ICdXZWxjb21lIHt7Z3Vlc3RfbmFtZX19ISBXZSBhcmUgZXhjaXRlZCB0byBjZWxlYnJhdGUgd2l0aCB5b3UuJyxcbiAgICAgICAgICB2YXJpYWJsZXM6IFsnZ3Vlc3RfbmFtZSddLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDExOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMTE6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tMaXN0VGVtcGxhdGVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1RlbXBsYXRlcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxUZW1wbGF0ZXMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0VxdWFsKG1vY2tUZW1wbGF0ZXMpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KG1vY2tMaXN0VGVtcGxhdGVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbFRlbXBsYXRlcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFRlbXBsYXRlcykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gbm8gdGVtcGxhdGVzIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0xpc3RUZW1wbGF0ZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxUZW1wbGF0ZXMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0VxdWFsKFtdKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDUwMCB3aGVuIHNlcnZpY2UgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrTGlzdFRlbXBsYXRlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCB0ZW1wbGF0ZXMnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbFRlbXBsYXRlcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdGVtcGxhdGVzIHdpdGggY29tcGxleCB2YXJpYWJsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBjb21wbGV4VGVtcGxhdGUgPSB7XG4gICAgICAgIGlkOiAndGVtcGxhdGUtY29tcGxleCcsXG4gICAgICAgIG5hbWU6ICdBY3Rpdml0eSBSZW1pbmRlcicsXG4gICAgICAgIHN1YmplY3Q6ICd7e2FjdGl2aXR5X25hbWV9fSByZW1pbmRlciBmb3Ige3tldmVudF9kYXRlfX0nLFxuICAgICAgICBib2R5X2h0bWw6IGBcbiAgICAgICAgICA8aDE+e3thY3Rpdml0eV9uYW1lfX08L2gxPlxuICAgICAgICAgIDxwPkRlYXIge3tndWVzdF9uYW1lfX0sPC9wPlxuICAgICAgICAgIDxwPlRoaXMgaXMgYSByZW1pbmRlciBhYm91dCB7e2FjdGl2aXR5X25hbWV9fSBvbiB7e2V2ZW50X2RhdGV9fSBhdCB7e2V2ZW50X3RpbWV9fS48L3A+XG4gICAgICAgICAgPHA+TG9jYXRpb246IHt7bG9jYXRpb25fbmFtZX19PC9wPlxuICAgICAgICAgIDxwPlBsZWFzZSBhcnJpdmUgYnkge3thcnJpdmFsX3RpbWV9fS48L3A+XG4gICAgICAgIGAsXG4gICAgICAgIGJvZHlfdGV4dDogJ0RlYXIge3tndWVzdF9uYW1lfX0sIHJlbWluZGVyIGFib3V0IHt7YWN0aXZpdHlfbmFtZX19IG9uIHt7ZXZlbnRfZGF0ZX19IGF0IHt7ZXZlbnRfdGltZX19LiBMb2NhdGlvbjoge3tsb2NhdGlvbl9uYW1lfX0uIFBsZWFzZSBhcnJpdmUgYnkge3thcnJpdmFsX3RpbWV9fS4nLFxuICAgICAgICB2YXJpYWJsZXM6IFsnZ3Vlc3RfbmFtZScsICdhY3Rpdml0eV9uYW1lJywgJ2V2ZW50X2RhdGUnLCAnZXZlbnRfdGltZScsICdsb2NhdGlvbl9uYW1lJywgJ2Fycml2YWxfdGltZSddLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMjowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMjowMDowMFonLFxuICAgICAgfTtcblxuICAgICAgbW9ja0xpc3RUZW1wbGF0ZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbY29tcGxleFRlbXBsYXRlXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxUZW1wbGF0ZXMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhWzBdLnZhcmlhYmxlcykudG9IYXZlTGVuZ3RoKDYpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YVswXS52YXJpYWJsZXMpLnRvQ29udGFpbignZ3Vlc3RfbmFtZScpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YVswXS52YXJpYWJsZXMpLnRvQ29udGFpbignYWN0aXZpdHlfbmFtZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUE9TVCAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgZW1haWwgdGVtcGxhdGUgd2hlbiBhdXRoZW50aWNhdGVkIHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHRlbXBsYXRlRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ05ldyBUZW1wbGF0ZScsXG4gICAgICAgIHN1YmplY3Q6ICdIZWxsbyB7e2d1ZXN0X25hbWV9fScsXG4gICAgICAgIGJvZHlfaHRtbDogJzxwPkhlbGxvIHt7Z3Vlc3RfbmFtZX19LCB3ZWxjb21lITwvcD4nLFxuICAgICAgICBib2R5X3RleHQ6ICdIZWxsbyB7e2d1ZXN0X25hbWV9fSwgd2VsY29tZSEnLFxuICAgICAgICB2YXJpYWJsZXM6IFsnZ3Vlc3RfbmFtZSddLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgY3JlYXRlZFRlbXBsYXRlID0ge1xuICAgICAgICBpZDogJ3RlbXBsYXRlLW5ldycsXG4gICAgICAgIC4uLnRlbXBsYXRlRGF0YSxcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tDcmVhdGVUZW1wbGF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGNyZWF0ZWRUZW1wbGF0ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZURhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVFbWFpbFRlbXBsYXRlKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5pZCkudG9CZSgndGVtcGxhdGUtbmV3Jyk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLm5hbWUpLnRvQmUoJ05ldyBUZW1wbGF0ZScpO1xuICAgICAgZXhwZWN0KG1vY2tDcmVhdGVUZW1wbGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgodGVtcGxhdGVEYXRhKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgc2Vzc2lvbjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogJ1Rlc3QgVGVtcGxhdGUnLFxuICAgICAgICAgIHN1YmplY3Q6ICdUZXN0JyxcbiAgICAgICAgICBib2R5X2h0bWw6ICc8cD5UZXN0PC9wPicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVFbWFpbFRlbXBsYXRlKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOQVVUSE9SSVpFRCcpO1xuICAgICAgZXhwZWN0KG1vY2tDcmVhdGVUZW1wbGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgaW52YWxpZCB0ZW1wbGF0ZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52YWxpZERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICcnLCAvLyBFbXB0eSBuYW1lXG4gICAgICAgIHN1YmplY3Q6ICdUZXN0JyxcbiAgICAgICAgYm9keV9odG1sOiAnJywgLy8gRW1wdHkgSFRNTFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW52YWxpZERhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVFbWFpbFRlbXBsYXRlKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmRldGFpbHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobW9ja0NyZWF0ZVRlbXBsYXRlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIHdoZW4gc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHZhbGlkRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgVGVtcGxhdGUnLFxuICAgICAgICBzdWJqZWN0OiAnVGVzdCBTdWJqZWN0JyxcbiAgICAgICAgYm9keV9odG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicsXG4gICAgICAgIGJvZHlfdGV4dDogJ1Rlc3QgY29udGVudCcsXG4gICAgICAgIHZhcmlhYmxlczogWydndWVzdF9uYW1lJ10sXG4gICAgICB9O1xuXG4gICAgICBtb2NrQ3JlYXRlVGVtcGxhdGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY3JlYXRlIHRlbXBsYXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh2YWxpZERhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVFbWFpbFRlbXBsYXRlKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzL1tpZF0nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3BlY2lmaWMgdGVtcGxhdGUgd2hlbiBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja1RlbXBsYXRlID0ge1xuICAgICAgICBpZDogJ3RlbXBsYXRlLTEnLFxuICAgICAgICBuYW1lOiAnUlNWUCBSZW1pbmRlcicsXG4gICAgICAgIHN1YmplY3Q6ICdQbGVhc2UgUlNWUCBieSB7e2RlYWRsaW5lfX0nLFxuICAgICAgICBib2R5X2h0bWw6ICc8cD5EZWFyIHt7Z3Vlc3RfbmFtZX19LCBwbGVhc2UgUlNWUCBieSB7e2RlYWRsaW5lfX08L3A+JyxcbiAgICAgICAgYm9keV90ZXh0OiAnRGVhciB7e2d1ZXN0X25hbWV9fSwgcGxlYXNlIFJTVlAgYnkge3tkZWFkbGluZX19JyxcbiAgICAgICAgdmFyaWFibGVzOiBbJ2d1ZXN0X25hbWUnLCAnZGVhZGxpbmUnXSxcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tHZXRUZW1wbGF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tUZW1wbGF0ZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcy90ZW1wbGF0ZS0xJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbFRlbXBsYXRlKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3RlbXBsYXRlLTEnIH0pIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9FcXVhbChtb2NrVGVtcGxhdGUpO1xuICAgICAgZXhwZWN0KG1vY2tHZXRUZW1wbGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3RlbXBsYXRlLTEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCB3aGVuIHRlbXBsYXRlIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tHZXRUZW1wbGF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdUZW1wbGF0ZSBub3QgZm91bmQnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzL25vbmV4aXN0ZW50Jywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbFRlbXBsYXRlKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ25vbmV4aXN0ZW50JyB9KSB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDQpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdOT1RfRk9VTkQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgc2Vzc2lvbjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcy90ZW1wbGF0ZS0xJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbFRlbXBsYXRlKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3RlbXBsYXRlLTEnIH0pIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOQVVUSE9SSVpFRCcpO1xuICAgICAgZXhwZWN0KG1vY2tHZXRUZW1wbGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvW2lkXScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSB0ZW1wbGF0ZSB3aGVuIGF1dGhlbnRpY2F0ZWQgd2l0aCB2YWxpZCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1VwZGF0ZWQgVGVtcGxhdGUnLFxuICAgICAgICBzdWJqZWN0OiAnVXBkYXRlZCB7e2d1ZXN0X25hbWV9fScsXG4gICAgICAgIGJvZHlfaHRtbDogJzxwPlVwZGF0ZWQge3tndWVzdF9uYW1lfX08L3A+JyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRUZW1wbGF0ZSA9IHtcbiAgICAgICAgaWQ6ICd0ZW1wbGF0ZS0xJyxcbiAgICAgICAgLi4udXBkYXRlRGF0YSxcbiAgICAgICAgYm9keV90ZXh0OiAnVXBkYXRlZCB7e2d1ZXN0X25hbWV9fScsXG4gICAgICAgIHZhcmlhYmxlczogWydndWVzdF9uYW1lJ10sXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDExOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrVXBkYXRlVGVtcGxhdGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB1cGRhdGVkVGVtcGxhdGUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvdGVtcGxhdGUtMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZURhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB1cGRhdGVFbWFpbFRlbXBsYXRlKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3RlbXBsYXRlLTEnIH0pIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5uYW1lKS50b0JlKCdVcGRhdGVkIFRlbXBsYXRlJyk7XG4gICAgICBleHBlY3QobW9ja1VwZGF0ZVRlbXBsYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVtcGxhdGUtMScsIHVwZGF0ZURhdGEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IHdoZW4gdGVtcGxhdGUgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja1VwZGF0ZVRlbXBsYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ05PVF9GT1VORCcsXG4gICAgICAgICAgbWVzc2FnZTogJ1RlbXBsYXRlIG5vdCBmb3VuZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvbm9uZXhpc3RlbnQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6ICdVcGRhdGVkJyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBkYXRlRW1haWxUZW1wbGF0ZShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdub25leGlzdGVudCcgfSkgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnTk9UX0ZPVU5EJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIGludmFsaWQgdXBkYXRlIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgbmFtZTogJycsIC8vIEVtcHR5IG5hbWVcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvdGVtcGxhdGVzL3RlbXBsYXRlLTEnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnZhbGlkRGF0YSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVwZGF0ZUVtYWlsVGVtcGxhdGUocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAndGVtcGxhdGUtMScgfSkgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KG1vY2tVcGRhdGVUZW1wbGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvW2lkXScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSB0ZW1wbGF0ZSB3aGVuIGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrRGVsZXRlVGVtcGxhdGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvdGVtcGxhdGUtMScsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVsZXRlRW1haWxUZW1wbGF0ZShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICd0ZW1wbGF0ZS0xJyB9KSB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRGVsZXRlVGVtcGxhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZW1wbGF0ZS0xJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgd2hlbiB0ZW1wbGF0ZSBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrRGVsZXRlVGVtcGxhdGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICBtZXNzYWdlOiAnVGVtcGxhdGUgbm90IGZvdW5kJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcy9ub25leGlzdGVudCcsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVsZXRlRW1haWxUZW1wbGF0ZShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdub25leGlzdGVudCcgfSkgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnTk9UX0ZPVU5EJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDEgd2hlbiBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMvdGVtcGxhdGUtMScsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGVsZXRlRW1haWxUZW1wbGF0ZShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICd0ZW1wbGF0ZS0xJyB9KSB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChtb2NrRGVsZXRlVGVtcGxhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9hZG1pbi9lbWFpbHMvYW5hbHl0aWNzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGVtYWlsIGFuYWx5dGljcyB3aGVuIGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrQW5hbHl0aWNzID0ge1xuICAgICAgICB0b3RhbDogMTUwLFxuICAgICAgICBkZWxpdmVyZWQ6IDE0MCxcbiAgICAgICAgYm91bmNlZDogNSxcbiAgICAgICAgZmFpbGVkOiA1LFxuICAgICAgICBkZWxpdmVyeV9yYXRlOiA5My4zMyxcbiAgICAgICAgYm91bmNlX3JhdGU6IDMuMzMsXG4gICAgICAgIGZhaWx1cmVfcmF0ZTogMy4zMyxcbiAgICAgICAgcmVjZW50X2FjdGl2aXR5OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGF0ZTogJzIwMjQtMDEtMDEnLFxuICAgICAgICAgICAgc2VudDogMjUsXG4gICAgICAgICAgICBkZWxpdmVyZWQ6IDI0LFxuICAgICAgICAgICAgYm91bmNlZDogMSxcbiAgICAgICAgICAgIGZhaWxlZDogMCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRhdGU6ICcyMDI0LTAxLTAyJyxcbiAgICAgICAgICAgIHNlbnQ6IDMwLFxuICAgICAgICAgICAgZGVsaXZlcmVkOiAyOCxcbiAgICAgICAgICAgIGJvdW5jZWQ6IDEsXG4gICAgICAgICAgICBmYWlsZWQ6IDEsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tHZXRFbWFpbEFuYWx5dGljcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tBbmFseXRpY3MsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy9hbmFseXRpY3MnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldEVtYWlsQW5hbHl0aWNzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS50b3RhbCkudG9CZSgxNTApO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5kZWxpdmVyeV9yYXRlKS50b0JlKDkzLjMzKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEucmVjZW50X2FjdGl2aXR5KS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QobW9ja0dldEVtYWlsQW5hbHl0aWNzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvYW5hbHl0aWNzJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbEFuYWx5dGljcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChtb2NrR2V0RW1haWxBbmFseXRpY3MpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA1MDAgd2hlbiBzZXJ2aWNlIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0dldEVtYWlsQW5hbHl0aWNzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIGFuYWx5dGljcycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2VtYWlscy9hbmFseXRpY3MnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldEVtYWlsQW5hbHl0aWNzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBhbmFseXRpY3MgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGVtcHR5QW5hbHl0aWNzID0ge1xuICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgZGVsaXZlcmVkOiAwLFxuICAgICAgICBib3VuY2VkOiAwLFxuICAgICAgICBmYWlsZWQ6IDAsXG4gICAgICAgIGRlbGl2ZXJ5X3JhdGU6IDAsXG4gICAgICAgIGJvdW5jZV9yYXRlOiAwLFxuICAgICAgICBmYWlsdXJlX3JhdGU6IDAsXG4gICAgICAgIHJlY2VudF9hY3Rpdml0eTogW10sXG4gICAgICB9O1xuXG4gICAgICBtb2NrR2V0RW1haWxBbmFseXRpY3MubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBlbXB0eUFuYWx5dGljcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL2FuYWx5dGljcycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0RW1haWxBbmFseXRpY3MocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLnRvdGFsKS50b0JlKDApO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5yZWNlbnRfYWN0aXZpdHkpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBKU09OIGluIFBPU1QgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzL3NlbmQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogJ2ludmFsaWQganNvbnsnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kQnVsa0VtYWlsKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOS05PV05fRVJST1InKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgQ29udGVudC1UeXBlIGhlYWRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9lbWFpbHMvc2VuZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByZWNpcGllbnRzOiBbJ3Rlc3RAZXhhbXBsZS5jb20nXSxcbiAgICAgICAgICBzdWJqZWN0OiAnVGVzdCcsXG4gICAgICAgICAgaHRtbDogJzxwPlRlc3Q8L3A+JyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRCdWxrRW1haWwocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnQgLSBTaG91bGQgc3RpbGwgd29yayBhcyBOZXh0LmpzIGhhbmRsZXMgSlNPTiBwYXJzaW5nXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QobW9ja1NlbmRCdWxrRW1haWwpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgdGhyb3dpbmcgdW5leHBlY3RlZCBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrR2V0RW1haWxMb2dzLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignVW5leHBlY3RlZCBzZXJ2aWNlIGVycm9yJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZW1haWxzJywge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRFbWFpbExvZ3MocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5LTk9XTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9CZSgnVW5leHBlY3RlZCBzZXJ2aWNlIGVycm9yJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiZ2V0RW1haWxMb2dzIiwiZm4iLCJzZW5kQnVsa0VtYWlsIiwibGlzdFRlbXBsYXRlcyIsImNyZWF0ZVRlbXBsYXRlIiwiZ2V0VGVtcGxhdGUiLCJ1cGRhdGVUZW1wbGF0ZSIsImRlbGV0ZVRlbXBsYXRlIiwiZ2V0RW1haWxBbmFseXRpY3MiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsImluaXQiLCJzdGF0dXMiLCJOZXh0UmVxdWVzdCIsImNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnQiLCJnbG9iYWwiLCJUZXh0RW5jb2RlciIsIlRleHREZWNvZGVyIiwiZGVzY3JpYmUiLCJtb2NrU3VwYWJhc2UiLCJtb2NrR2V0RW1haWxMb2dzIiwibW9ja1NlbmRCdWxrRW1haWwiLCJtb2NrTGlzdFRlbXBsYXRlcyIsIm1vY2tDcmVhdGVUZW1wbGF0ZSIsIm1vY2tHZXRUZW1wbGF0ZSIsIm1vY2tVcGRhdGVUZW1wbGF0ZSIsIm1vY2tEZWxldGVUZW1wbGF0ZSIsIm1vY2tHZXRFbWFpbEFuYWx5dGljcyIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiYXV0aCIsImdldFNlc3Npb24iLCJyZXF1aXJlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzZXNzaW9uIiwidXNlciIsImlkIiwiZW1haWwiLCJhY2Nlc3NfdG9rZW4iLCJlcnJvciIsIml0IiwibW9ja0VtYWlsTG9ncyIsInJlY2lwaWVudF9lbWFpbCIsInN1YmplY3QiLCJkZWxpdmVyeV9zdGF0dXMiLCJzZW50X2F0IiwiZGVsaXZlcmVkX2F0IiwiY3JlYXRlZF9hdCIsInN1Y2Nlc3MiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsIm1ldGhvZCIsInJlc3BvbnNlIiwiZXhwZWN0IiwidG9CZSIsInRvRXF1YWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImNvZGUiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibWVzc2FnZSIsImJ1bGtFbWFpbERhdGEiLCJyZWNpcGllbnRzIiwiaHRtbCIsInRleHQiLCJzZW50IiwiZmFpbGVkIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaW52YWxpZERhdGEiLCJkZXRhaWxzIiwidG9CZURlZmluZWQiLCJpbmNvbXBsZXRlRGF0YSIsInZhbGlkRGF0YSIsInRlbXBsYXRlRGF0YSIsInRlbXBsYXRlX2lkIiwidmFyaWFibGVzIiwiZGVhZGxpbmUiLCJ0b29NYW55UmVjaXBpZW50cyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpIiwibW9ja1RlbXBsYXRlcyIsIm5hbWUiLCJib2R5X2h0bWwiLCJib2R5X3RleHQiLCJ1cGRhdGVkX2F0IiwiZ2V0RW1haWxUZW1wbGF0ZXMiLCJ0b0hhdmVMZW5ndGgiLCJjb21wbGV4VGVtcGxhdGUiLCJ0b0NvbnRhaW4iLCJjcmVhdGVkVGVtcGxhdGUiLCJjcmVhdGVFbWFpbFRlbXBsYXRlIiwibW9ja1RlbXBsYXRlIiwiZ2V0RW1haWxUZW1wbGF0ZSIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRUZW1wbGF0ZSIsInVwZGF0ZUVtYWlsVGVtcGxhdGUiLCJ1bmRlZmluZWQiLCJkZWxldGVFbWFpbFRlbXBsYXRlIiwibW9ja0FuYWx5dGljcyIsInRvdGFsIiwiZGVsaXZlcmVkIiwiYm91bmNlZCIsImRlbGl2ZXJ5X3JhdGUiLCJib3VuY2VfcmF0ZSIsImZhaWx1cmVfcmF0ZSIsInJlY2VudF9hY3Rpdml0eSIsImRhdGUiLCJlbXB0eUFuYWx5dGljcyIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUMsR0FFRCxrREFBa0Q7O0FBS2xELHlEQUF5RDtBQUN6REEsS0FBS0MsSUFBSSxDQUFDLDJCQUEyQixJQUFPLENBQUE7UUFDMUNDLGNBQWNGLEtBQUtHLEVBQUU7UUFDckJDLGVBQWVKLEtBQUtHLEVBQUU7UUFDdEJFLGVBQWVMLEtBQUtHLEVBQUU7UUFDdEJHLGdCQUFnQk4sS0FBS0csRUFBRTtRQUN2QkksYUFBYVAsS0FBS0csRUFBRTtRQUNwQkssZ0JBQWdCUixLQUFLRyxFQUFFO1FBQ3ZCTSxnQkFBZ0JULEtBQUtHLEVBQUU7UUFDdkJPLG1CQUFtQlYsS0FBS0csRUFBRTtJQUM1QixDQUFBO0FBRUEsNkJBQTZCO0FBQzdCSCxLQUFLQyxJQUFJLENBQUMsZUFBZSxJQUFPLENBQUE7UUFDOUJVLGNBQWM7WUFDWkMsTUFBTSxDQUFDQyxNQUFXQyxPQUFnQixDQUFBO29CQUNoQ0YsTUFBTSxVQUFZQztvQkFDbEJFLFFBQVFELE1BQU1DLFVBQVU7Z0JBQzFCLENBQUE7UUFDRjtRQUNBQyxhQUFhaEIsS0FBS0csRUFBRTtJQUN0QixDQUFBO0FBRUEsa0NBQWtDO0FBQ2xDSCxLQUFLQyxJQUFJLENBQUMsd0JBQXdCLElBQU8sQ0FBQTtRQUN2Q2dCLDJCQUEyQmpCLEtBQUtHLEVBQUU7SUFDcEMsQ0FBQTs7OztzQkE5QnlDO3VCQWlDTDt3QkFDRTt3QkFDZ0M7d0JBQzZCO3dCQUMxRDtBQXBDekNlLE9BQU9DLFdBQVcsR0FBR0EsaUJBQVc7QUFDaENELE9BQU9FLFdBQVcsR0FBR0EsaUJBQVc7QUFxQ2hDQyxTQUFTLCtCQUErQjtJQUN0QyxJQUFJQztJQUNKLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlDO0lBQ0osSUFBSUM7SUFFSkMsV0FBVztRQUNULGtCQUFrQjtRQUNsQi9CLEtBQUtnQyxhQUFhO1FBRWxCLHVCQUF1QjtRQUN2QlYsZUFBZTtZQUNiVyxNQUFNO2dCQUNKQyxZQUFZbEMsS0FBS0csRUFBRTtZQUNyQjtRQUNGO1FBRUEseUJBQXlCO1FBQ3pCb0IsbUJBQW1CWSxRQUFRLDJCQUEyQmpDLFlBQVk7UUFDbEVzQixvQkFBb0JXLFFBQVEsMkJBQTJCL0IsYUFBYTtRQUNwRXFCLG9CQUFvQlUsUUFBUSwyQkFBMkI5QixhQUFhO1FBQ3BFcUIscUJBQXFCUyxRQUFRLDJCQUEyQjdCLGNBQWM7UUFDdEVxQixrQkFBa0JRLFFBQVEsMkJBQTJCNUIsV0FBVztRQUNoRXFCLHFCQUFxQk8sUUFBUSwyQkFBMkIzQixjQUFjO1FBQ3RFcUIscUJBQXFCTSxRQUFRLDJCQUEyQjFCLGNBQWM7UUFDdEVxQix3QkFBd0JLLFFBQVEsMkJBQTJCekIsaUJBQWlCO1FBRTVFLGlDQUFpQztRQUNqQyxNQUFNLEVBQUVPLHlCQUF5QixFQUFFLEdBQUdrQixRQUFRO1FBQzlDbEIsMEJBQTBCbUIsaUJBQWlCLENBQUNkO1FBRTVDLDRDQUE0QztRQUM1Q0EsYUFBYVcsSUFBSSxDQUFDQyxVQUFVLENBQUNFLGlCQUFpQixDQUFDO1lBQzdDdkIsTUFBTTtnQkFDSndCLFNBQVM7b0JBQ1BDLE1BQU07d0JBQUVDLElBQUk7d0JBQVVDLE9BQU87b0JBQW9CO29CQUNqREMsY0FBYztnQkFDaEI7WUFDRjtZQUNBQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBckIsU0FBUyx5QkFBeUI7UUFDaENzQixHQUFHLCtDQUErQztZQUNoRCxVQUFVO1lBQ1YsTUFBTUMsZ0JBQWdCO2dCQUNwQjtvQkFDRUwsSUFBSTtvQkFDSk0saUJBQWlCO29CQUNqQkMsU0FBUztvQkFDVEMsaUJBQWlCO29CQUNqQkMsU0FBUztvQkFDVEMsY0FBYztvQkFDZEMsWUFBWTtnQkFDZDtnQkFDQTtvQkFDRVgsSUFBSTtvQkFDSk0saUJBQWlCO29CQUNqQkMsU0FBUztvQkFDVEMsaUJBQWlCO29CQUNqQkMsU0FBUztvQkFDVEUsWUFBWTtnQkFDZDthQUNEO1lBRUQzQixpQkFBaUJhLGlCQUFpQixDQUFDO2dCQUNqQ2UsU0FBUztnQkFDVHRDLE1BQU0rQjtZQUNSO1lBRUEsTUFBTVEsVUFBVSxJQUFJQyxRQUFRLDBDQUEwQztnQkFDcEVDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1yRCxJQUFBQSxVQUFZLEVBQUNrRDtZQUNwQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksRUFBRTZDLE9BQU8sQ0FBQ2Q7WUFDMUJZLE9BQU9qQyxrQkFBa0JvQyxvQkFBb0I7UUFDL0M7UUFFQWhCLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87WUFDVDtZQUVBLE1BQU1VLFVBQVUsSUFBSUMsUUFBUSwwQ0FBMEM7Z0JBQ3BFQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNckQsSUFBQUEsVUFBWSxFQUFDa0Q7WUFDcEMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDa0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDN0JELE9BQU9qQyxrQkFBa0JzQyxHQUFHLENBQUNDLGdCQUFnQjtRQUMvQztRQUVBbkIsR0FBRyx3Q0FBd0M7WUFDekMsVUFBVTtZQUNWcEIsaUJBQWlCYSxpQkFBaUIsQ0FBQztnQkFDakNlLFNBQVM7Z0JBQ1RULE9BQU87b0JBQ0xrQixNQUFNO29CQUNORyxTQUFTO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNWCxVQUFVLElBQUlDLFFBQVEsMENBQTBDO2dCQUNwRUMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTXJELElBQUFBLFVBQVksRUFBQ2tEO1lBQ3BDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1FBQy9CO1FBRUFkLEdBQUcsdUNBQXVDO1lBQ3hDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87b0JBQUVxQixTQUFTO2dCQUFrQjtZQUN0QztZQUVBLE1BQU1YLFVBQVUsSUFBSUMsUUFBUSwwQ0FBMEM7Z0JBQ3BFQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNckQsSUFBQUEsVUFBWSxFQUFDa0Q7WUFDcEMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDa0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7UUFDL0I7SUFDRjtJQUVBcEMsU0FBUywrQkFBK0I7UUFDdENzQixHQUFHLDZEQUE2RDtZQUM5RCxVQUFVO1lBQ1YsTUFBTXFCLGdCQUFnQjtnQkFDcEJDLFlBQVk7b0JBQUM7b0JBQXNCO2lCQUFxQjtnQkFDeERuQixTQUFTO2dCQUNUb0IsTUFBTTtnQkFDTkMsTUFBTTtZQUNSO1lBRUEzQyxrQkFBa0JZLGlCQUFpQixDQUFDO2dCQUNsQ2UsU0FBUztnQkFDVHRDLE1BQU07b0JBQUV1RCxNQUFNO29CQUFHQyxRQUFRO2dCQUFFO1lBQzdCO1lBRUEsTUFBTWpCLFVBQVUsSUFBSUMsUUFBUSwrQ0FBK0M7Z0JBQ3pFQyxRQUFRO2dCQUNSZ0IsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDVDtZQUN2QjtZQUVBLE1BQU07WUFDTixNQUFNVCxXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksQ0FBQ3VELElBQUksRUFBRVgsSUFBSSxDQUFDO1lBQzVCRCxPQUFPM0MsS0FBS0EsSUFBSSxDQUFDd0QsTUFBTSxFQUFFWixJQUFJLENBQUM7WUFDOUJELE9BQU9oQyxtQkFBbUJtQyxvQkFBb0IsQ0FBQ0s7UUFDakQ7UUFFQXJCLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87WUFDVDtZQUVBLE1BQU1VLFVBQVUsSUFBSUMsUUFBUSwrQ0FBK0M7Z0JBQ3pFQyxRQUFRO2dCQUNSZ0IsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQlIsWUFBWTt3QkFBQztxQkFBbUI7b0JBQ2hDbkIsU0FBUztvQkFDVG9CLE1BQU07Z0JBQ1I7WUFDRjtZQUVBLE1BQU07WUFDTixNQUFNWCxXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUM3QkQsT0FBT2hDLG1CQUFtQnFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ2hEO1FBRUFuQixHQUFHLDRDQUE0QztZQUM3QyxVQUFVO1lBQ1YsTUFBTStCLGNBQWM7Z0JBQ2xCVCxZQUFZO29CQUFDO2lCQUFnQjtnQkFDN0JuQixTQUFTO2dCQUNUb0IsTUFBTTtZQUNSO1lBRUEsTUFBTWQsVUFBVSxJQUFJQyxRQUFRLCtDQUErQztnQkFDekVDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNDO1lBQ3ZCO1lBRUEsTUFBTTtZQUNOLE1BQU1uQixXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNpQyxPQUFPLEVBQUVDLFdBQVc7WUFDdENwQixPQUFPaEMsbUJBQW1CcUMsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDaEQ7UUFFQW5CLEdBQUcsaURBQWlEO1lBQ2xELFVBQVU7WUFDVixNQUFNa0MsaUJBQWlCO2dCQUNyQlosWUFBWTtvQkFBQztpQkFBbUI7WUFFbEM7WUFFQSxNQUFNYixVQUFVLElBQUlDLFFBQVEsK0NBQStDO2dCQUN6RUMsUUFBUTtnQkFDUmdCLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ0k7WUFDdkI7WUFFQSxNQUFNO1lBQ04sTUFBTXRCLFdBQVcsTUFBTW5ELElBQUFBLFlBQWEsRUFBQ2dEO1lBQ3JDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQzdCRCxPQUFPaEMsbUJBQW1CcUMsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDaEQ7UUFFQW5CLEdBQUcsOENBQThDO1lBQy9DLFVBQVU7WUFDVixNQUFNbUMsWUFBWTtnQkFDaEJiLFlBQVk7b0JBQUM7aUJBQW1CO2dCQUNoQ25CLFNBQVM7Z0JBQ1RvQixNQUFNO1lBQ1I7WUFFQTFDLGtCQUFrQlksaUJBQWlCLENBQUM7Z0JBQ2xDZSxTQUFTO2dCQUNUVCxPQUFPO29CQUNMa0IsTUFBTTtvQkFDTkcsU0FBUztnQkFDWDtZQUNGO1lBRUEsTUFBTVgsVUFBVSxJQUFJQyxRQUFRLCtDQUErQztnQkFDekVDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNLO1lBQ3ZCO1lBRUEsTUFBTTtZQUNOLE1BQU12QixXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztRQUMvQjtRQUVBZCxHQUFHLDRDQUE0QztZQUM3QyxVQUFVO1lBQ1YsTUFBTW9DLGVBQWU7Z0JBQ25CZCxZQUFZO29CQUFDO29CQUFzQjtpQkFBcUI7Z0JBQ3hEbkIsU0FBUztnQkFDVG9CLE1BQU07Z0JBQ05jLGFBQWE7Z0JBQ2JDLFdBQVc7b0JBQUVDLFVBQVU7Z0JBQWE7WUFDdEM7WUFFQTFELGtCQUFrQlksaUJBQWlCLENBQUM7Z0JBQ2xDZSxTQUFTO2dCQUNUdEMsTUFBTTtvQkFBRXVELE1BQU07b0JBQUdDLFFBQVE7Z0JBQUU7WUFDN0I7WUFFQSxNQUFNakIsVUFBVSxJQUFJQyxRQUFRLCtDQUErQztnQkFDekVDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNNO1lBQ3ZCO1lBRUEsTUFBTTtZQUNOLE1BQU14QixXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBT2hDLG1CQUFtQm1DLG9CQUFvQixDQUFDb0I7UUFDakQ7UUFFQXBDLEdBQUcsNENBQTRDO1lBQzdDLDBEQUEwRDtZQUMxRCxNQUFNd0Msb0JBQW9CQyxNQUFNQyxJQUFJLENBQUM7Z0JBQUVDLFFBQVE7WUFBSSxHQUFHLENBQUNDLEdBQUdDLElBQU0sQ0FBQyxJQUFJLEVBQUVBLEVBQUUsWUFBWSxDQUFDO1lBQ3RGLE1BQU1kLGNBQWM7Z0JBQ2xCVCxZQUFZa0I7Z0JBQ1pyQyxTQUFTO2dCQUNUb0IsTUFBTTtZQUNSO1lBRUEsTUFBTWQsVUFBVSxJQUFJQyxRQUFRLCtDQUErQztnQkFDekVDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNDO1lBQ3ZCO1lBRUEsTUFBTTtZQUNOLE1BQU1uQixXQUFXLE1BQU1uRCxJQUFBQSxZQUFhLEVBQUNnRDtZQUNyQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUM3QkQsT0FBT2hDLG1CQUFtQnFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ2hEO0lBQ0Y7SUFFQXpDLFNBQVMsbUNBQW1DO1FBQzFDc0IsR0FBRyxvREFBb0Q7WUFDckQsVUFBVTtZQUNWLE1BQU04QyxnQkFBZ0I7Z0JBQ3BCO29CQUNFbEQsSUFBSTtvQkFDSm1ELE1BQU07b0JBQ041QyxTQUFTO29CQUNUNkMsV0FBVztvQkFDWEMsV0FBVztvQkFDWFgsV0FBVzt3QkFBQzt3QkFBYztxQkFBVztvQkFDckMvQixZQUFZO29CQUNaMkMsWUFBWTtnQkFDZDtnQkFDQTtvQkFDRXRELElBQUk7b0JBQ0ptRCxNQUFNO29CQUNONUMsU0FBUztvQkFDVDZDLFdBQVc7b0JBQ1hDLFdBQVc7b0JBQ1hYLFdBQVc7d0JBQUM7cUJBQWE7b0JBQ3pCL0IsWUFBWTtvQkFDWjJDLFlBQVk7Z0JBQ2Q7YUFDRDtZQUVEcEUsa0JBQWtCVyxpQkFBaUIsQ0FBQztnQkFDbENlLFNBQVM7Z0JBQ1R0QyxNQUFNNEU7WUFDUjtZQUVBLE1BQU1yQyxVQUFVLElBQUlDLFFBQVEsb0RBQW9EO2dCQUM5RUMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTXVDLElBQUFBLFdBQWlCLEVBQUMxQztZQUN6QyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksRUFBRTZDLE9BQU8sQ0FBQytCO1lBQzFCakMsT0FBTzNDLEtBQUtBLElBQUksRUFBRWtGLFlBQVksQ0FBQztZQUMvQnZDLE9BQU8vQixtQkFBbUJrQyxvQkFBb0I7UUFDaEQ7UUFFQWhCLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87WUFDVDtZQUVBLE1BQU1VLFVBQVUsSUFBSUMsUUFBUSxvREFBb0Q7Z0JBQzlFQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNdUMsSUFBQUEsV0FBaUIsRUFBQzFDO1lBQ3pDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQzdCRCxPQUFPL0IsbUJBQW1Cb0MsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDaEQ7UUFFQW5CLEdBQUcscURBQXFEO1lBQ3RELFVBQVU7WUFDVmxCLGtCQUFrQlcsaUJBQWlCLENBQUM7Z0JBQ2xDZSxTQUFTO2dCQUNUdEMsTUFBTSxFQUFFO1lBQ1Y7WUFFQSxNQUFNdUMsVUFBVSxJQUFJQyxRQUFRLG9EQUFvRDtnQkFDOUVDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU11QyxJQUFBQSxXQUFpQixFQUFDMUM7WUFDekMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLQSxJQUFJLEVBQUU2QyxPQUFPLENBQUMsRUFBRTtZQUM1QkYsT0FBTzNDLEtBQUtBLElBQUksRUFBRWtGLFlBQVksQ0FBQztRQUNqQztRQUVBcEQsR0FBRyx3Q0FBd0M7WUFDekMsVUFBVTtZQUNWbEIsa0JBQWtCVyxpQkFBaUIsQ0FBQztnQkFDbENlLFNBQVM7Z0JBQ1RULE9BQU87b0JBQ0xrQixNQUFNO29CQUNORyxTQUFTO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNWCxVQUFVLElBQUlDLFFBQVEsb0RBQW9EO2dCQUM5RUMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTXVDLElBQUFBLFdBQWlCLEVBQUMxQztZQUN6QyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztRQUMvQjtRQUVBZCxHQUFHLGtEQUFrRDtZQUNuRCxVQUFVO1lBQ1YsTUFBTXFELGtCQUFrQjtnQkFDdEJ6RCxJQUFJO2dCQUNKbUQsTUFBTTtnQkFDTjVDLFNBQVM7Z0JBQ1Q2QyxXQUFXLENBQUM7Ozs7OztRQU1aLENBQUM7Z0JBQ0RDLFdBQVc7Z0JBQ1hYLFdBQVc7b0JBQUM7b0JBQWM7b0JBQWlCO29CQUFjO29CQUFjO29CQUFpQjtpQkFBZTtnQkFDdkcvQixZQUFZO2dCQUNaMkMsWUFBWTtZQUNkO1lBRUFwRSxrQkFBa0JXLGlCQUFpQixDQUFDO2dCQUNsQ2UsU0FBUztnQkFDVHRDLE1BQU07b0JBQUNtRjtpQkFBZ0I7WUFDekI7WUFFQSxNQUFNNUMsVUFBVSxJQUFJQyxRQUFRLG9EQUFvRDtnQkFDOUVDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU11QyxJQUFBQSxXQUFpQixFQUFDMUM7WUFDekMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLQSxJQUFJLENBQUMsRUFBRSxDQUFDb0UsU0FBUyxFQUFFYyxZQUFZLENBQUM7WUFDNUN2QyxPQUFPM0MsS0FBS0EsSUFBSSxDQUFDLEVBQUUsQ0FBQ29FLFNBQVMsRUFBRWdCLFNBQVMsQ0FBQztZQUN6Q3pDLE9BQU8zQyxLQUFLQSxJQUFJLENBQUMsRUFBRSxDQUFDb0UsU0FBUyxFQUFFZ0IsU0FBUyxDQUFDO1FBQzNDO0lBQ0Y7SUFFQTVFLFNBQVMsb0NBQW9DO1FBQzNDc0IsR0FBRyxtRUFBbUU7WUFDcEUsVUFBVTtZQUNWLE1BQU1vQyxlQUFlO2dCQUNuQlcsTUFBTTtnQkFDTjVDLFNBQVM7Z0JBQ1Q2QyxXQUFXO2dCQUNYQyxXQUFXO2dCQUNYWCxXQUFXO29CQUFDO2lCQUFhO1lBQzNCO1lBRUEsTUFBTWlCLGtCQUFrQjtnQkFDdEIzRCxJQUFJO2dCQUNKLEdBQUd3QyxZQUFZO2dCQUNmN0IsWUFBWTtnQkFDWjJDLFlBQVk7WUFDZDtZQUVBbkUsbUJBQW1CVSxpQkFBaUIsQ0FBQztnQkFDbkNlLFNBQVM7Z0JBQ1R0QyxNQUFNcUY7WUFDUjtZQUVBLE1BQU05QyxVQUFVLElBQUlDLFFBQVEsb0RBQW9EO2dCQUM5RUMsUUFBUTtnQkFDUmdCLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ007WUFDdkI7WUFFQSxNQUFNO1lBQ04sTUFBTXhCLFdBQVcsTUFBTTRDLElBQUFBLFlBQW1CLEVBQUMvQztZQUMzQyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksQ0FBQzBCLEVBQUUsRUFBRWtCLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksQ0FBQzZFLElBQUksRUFBRWpDLElBQUksQ0FBQztZQUM1QkQsT0FBTzlCLG9CQUFvQmlDLG9CQUFvQixDQUFDb0I7UUFDbEQ7UUFFQXBDLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87WUFDVDtZQUVBLE1BQU1VLFVBQVUsSUFBSUMsUUFBUSxvREFBb0Q7Z0JBQzlFQyxRQUFRO2dCQUNSZ0IsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQmlCLE1BQU07b0JBQ041QyxTQUFTO29CQUNUNkMsV0FBVztnQkFDYjtZQUNGO1lBRUEsTUFBTTtZQUNOLE1BQU1wQyxXQUFXLE1BQU00QyxJQUFBQSxZQUFtQixFQUFDL0M7WUFDM0MsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDa0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDN0JELE9BQU85QixvQkFBb0JtQyxHQUFHLENBQUNDLGdCQUFnQjtRQUNqRDtRQUVBbkIsR0FBRywrQ0FBK0M7WUFDaEQsVUFBVTtZQUNWLE1BQU0rQixjQUFjO2dCQUNsQmdCLE1BQU07Z0JBQ041QyxTQUFTO2dCQUNUNkMsV0FBVztZQUNiO1lBRUEsTUFBTXZDLFVBQVUsSUFBSUMsUUFBUSxvREFBb0Q7Z0JBQzlFQyxRQUFRO2dCQUNSZ0IsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDQztZQUN2QjtZQUVBLE1BQU07WUFDTixNQUFNbkIsV0FBVyxNQUFNNEMsSUFBQUEsWUFBbUIsRUFBQy9DO1lBQzNDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2lDLE9BQU8sRUFBRUMsV0FBVztZQUN0Q3BCLE9BQU85QixvQkFBb0JtQyxHQUFHLENBQUNDLGdCQUFnQjtRQUNqRDtRQUVBbkIsR0FBRyx3Q0FBd0M7WUFDekMsVUFBVTtZQUNWLE1BQU1tQyxZQUFZO2dCQUNoQlksTUFBTTtnQkFDTjVDLFNBQVM7Z0JBQ1Q2QyxXQUFXO2dCQUNYQyxXQUFXO2dCQUNYWCxXQUFXO29CQUFDO2lCQUFhO1lBQzNCO1lBRUF2RCxtQkFBbUJVLGlCQUFpQixDQUFDO2dCQUNuQ2UsU0FBUztnQkFDVFQsT0FBTztvQkFDTGtCLE1BQU07b0JBQ05HLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLE1BQU1YLFVBQVUsSUFBSUMsUUFBUSxvREFBb0Q7Z0JBQzlFQyxRQUFRO2dCQUNSZ0IsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDSztZQUN2QjtZQUVBLE1BQU07WUFDTixNQUFNdkIsV0FBVyxNQUFNNEMsSUFBQUEsWUFBbUIsRUFBQy9DO1lBQzNDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1FBQy9CO0lBQ0Y7SUFFQXBDLFNBQVMsd0NBQXdDO1FBQy9Dc0IsR0FBRyxzREFBc0Q7WUFDdkQsVUFBVTtZQUNWLE1BQU15RCxlQUFlO2dCQUNuQjdELElBQUk7Z0JBQ0ptRCxNQUFNO2dCQUNONUMsU0FBUztnQkFDVDZDLFdBQVc7Z0JBQ1hDLFdBQVc7Z0JBQ1hYLFdBQVc7b0JBQUM7b0JBQWM7aUJBQVc7Z0JBQ3JDL0IsWUFBWTtnQkFDWjJDLFlBQVk7WUFDZDtZQUVBbEUsZ0JBQWdCUyxpQkFBaUIsQ0FBQztnQkFDaENlLFNBQVM7Z0JBQ1R0QyxNQUFNdUY7WUFDUjtZQUVBLE1BQU1oRCxVQUFVLElBQUlDLFFBQVEsK0RBQStEO2dCQUN6RkMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTThDLElBQUFBLFdBQWdCLEVBQUNqRCxTQUFTO2dCQUFFa0QsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO29CQUFFakUsSUFBSTtnQkFBYTtZQUFHO1lBQ2pHLE1BQU0xQixPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBS0EsSUFBSSxFQUFFNkMsT0FBTyxDQUFDMEM7WUFDMUI1QyxPQUFPN0IsaUJBQWlCZ0Msb0JBQW9CLENBQUM7UUFDL0M7UUFFQWhCLEdBQUcsNkNBQTZDO1lBQzlDLFVBQVU7WUFDVmhCLGdCQUFnQlMsaUJBQWlCLENBQUM7Z0JBQ2hDZSxTQUFTO2dCQUNUVCxPQUFPO29CQUNMa0IsTUFBTTtvQkFDTkcsU0FBUztnQkFDWDtZQUNGO1lBRUEsTUFBTVgsVUFBVSxJQUFJQyxRQUFRLGdFQUFnRTtnQkFDMUZDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU04QyxJQUFBQSxXQUFnQixFQUFDakQsU0FBUztnQkFBRWtELFFBQVFDLFFBQVFDLE9BQU8sQ0FBQztvQkFBRWpFLElBQUk7Z0JBQWM7WUFBRztZQUNsRyxNQUFNMUIsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztRQUMvQjtRQUVBZCxHQUFHLDRDQUE0QztZQUM3QyxVQUFVO1lBQ1ZyQixhQUFhVyxJQUFJLENBQUNDLFVBQVUsQ0FBQ0UsaUJBQWlCLENBQUM7Z0JBQzdDdkIsTUFBTTtvQkFBRXdCLFNBQVM7Z0JBQUs7Z0JBQ3RCSyxPQUFPO1lBQ1Q7WUFFQSxNQUFNVSxVQUFVLElBQUlDLFFBQVEsK0RBQStEO2dCQUN6RkMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTThDLElBQUFBLFdBQWdCLEVBQUNqRCxTQUFTO2dCQUFFa0QsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO29CQUFFakUsSUFBSTtnQkFBYTtZQUFHO1lBQ2pHLE1BQU0xQixPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQzdCRCxPQUFPN0IsaUJBQWlCa0MsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDOUM7SUFDRjtJQUVBekMsU0FBUyx3Q0FBd0M7UUFDL0NzQixHQUFHLDZEQUE2RDtZQUM5RCxVQUFVO1lBQ1YsTUFBTThELGFBQWE7Z0JBQ2pCZixNQUFNO2dCQUNONUMsU0FBUztnQkFDVDZDLFdBQVc7WUFDYjtZQUVBLE1BQU1lLGtCQUFrQjtnQkFDdEJuRSxJQUFJO2dCQUNKLEdBQUdrRSxVQUFVO2dCQUNiYixXQUFXO2dCQUNYWCxXQUFXO29CQUFDO2lCQUFhO2dCQUN6Qi9CLFlBQVk7Z0JBQ1oyQyxZQUFZO1lBQ2Q7WUFFQWpFLG1CQUFtQlEsaUJBQWlCLENBQUM7Z0JBQ25DZSxTQUFTO2dCQUNUdEMsTUFBTTZGO1lBQ1I7WUFFQSxNQUFNdEQsVUFBVSxJQUFJQyxRQUFRLCtEQUErRDtnQkFDekZDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNnQztZQUN2QjtZQUVBLE1BQU07WUFDTixNQUFNbEQsV0FBVyxNQUFNb0QsSUFBQUEsV0FBbUIsRUFBQ3ZELFNBQVM7Z0JBQUVrRCxRQUFRQyxRQUFRQyxPQUFPLENBQUM7b0JBQUVqRSxJQUFJO2dCQUFhO1lBQUc7WUFDcEcsTUFBTTFCLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLQSxJQUFJLENBQUM2RSxJQUFJLEVBQUVqQyxJQUFJLENBQUM7WUFDNUJELE9BQU81QixvQkFBb0IrQixvQkFBb0IsQ0FBQyxjQUFjOEM7UUFDaEU7UUFFQTlELEdBQUcsNkNBQTZDO1lBQzlDLFVBQVU7WUFDVmYsbUJBQW1CUSxpQkFBaUIsQ0FBQztnQkFDbkNlLFNBQVM7Z0JBQ1RULE9BQU87b0JBQ0xrQixNQUFNO29CQUNORyxTQUFTO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNWCxVQUFVLElBQUlDLFFBQVEsZ0VBQWdFO2dCQUMxRkMsUUFBUTtnQkFDUmdCLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFBRWlCLE1BQU07Z0JBQVU7WUFDekM7WUFFQSxNQUFNO1lBQ04sTUFBTW5DLFdBQVcsTUFBTW9ELElBQUFBLFdBQW1CLEVBQUN2RCxTQUFTO2dCQUFFa0QsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO29CQUFFakUsSUFBSTtnQkFBYztZQUFHO1lBQ3JHLE1BQU0xQixPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1FBQy9CO1FBRUFkLEdBQUcsNkNBQTZDO1lBQzlDLFVBQVU7WUFDVixNQUFNK0IsY0FBYztnQkFDbEJnQixNQUFNO1lBQ1I7WUFFQSxNQUFNdEMsVUFBVSxJQUFJQyxRQUFRLCtEQUErRDtnQkFDekZDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNDO1lBQ3ZCO1lBRUEsTUFBTTtZQUNOLE1BQU1uQixXQUFXLE1BQU1vRCxJQUFBQSxXQUFtQixFQUFDdkQsU0FBUztnQkFBRWtELFFBQVFDLFFBQVFDLE9BQU8sQ0FBQztvQkFBRWpFLElBQUk7Z0JBQWE7WUFBRztZQUNwRyxNQUFNMUIsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUM3QkQsT0FBTzVCLG9CQUFvQmlDLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ2pEO0lBQ0Y7SUFFQXpDLFNBQVMsMkNBQTJDO1FBQ2xEc0IsR0FBRyw2Q0FBNkM7WUFDOUMsVUFBVTtZQUNWZCxtQkFBbUJPLGlCQUFpQixDQUFDO2dCQUNuQ2UsU0FBUztnQkFDVHRDLE1BQU0rRjtZQUNSO1lBRUEsTUFBTXhELFVBQVUsSUFBSUMsUUFBUSwrREFBK0Q7Z0JBQ3pGQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNc0QsSUFBQUEsY0FBbUIsRUFBQ3pELFNBQVM7Z0JBQUVrRCxRQUFRQyxRQUFRQyxPQUFPLENBQUM7b0JBQUVqRSxJQUFJO2dCQUFhO1lBQUc7WUFDcEcsTUFBTTFCLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQixvQkFBb0I4QixvQkFBb0IsQ0FBQztRQUNsRDtRQUVBaEIsR0FBRyw2Q0FBNkM7WUFDOUMsVUFBVTtZQUNWZCxtQkFBbUJPLGlCQUFpQixDQUFDO2dCQUNuQ2UsU0FBUztnQkFDVFQsT0FBTztvQkFDTGtCLE1BQU07b0JBQ05HLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLE1BQU1YLFVBQVUsSUFBSUMsUUFBUSxnRUFBZ0U7Z0JBQzFGQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNc0QsSUFBQUEsY0FBbUIsRUFBQ3pELFNBQVM7Z0JBQUVrRCxRQUFRQyxRQUFRQyxPQUFPLENBQUM7b0JBQUVqRSxJQUFJO2dCQUFjO1lBQUc7WUFDckcsTUFBTTFCLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDa0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7UUFDL0I7UUFFQWQsR0FBRyw0Q0FBNEM7WUFDN0MsVUFBVTtZQUNWckIsYUFBYVcsSUFBSSxDQUFDQyxVQUFVLENBQUNFLGlCQUFpQixDQUFDO2dCQUM3Q3ZCLE1BQU07b0JBQUV3QixTQUFTO2dCQUFLO2dCQUN0QkssT0FBTztZQUNUO1lBRUEsTUFBTVUsVUFBVSxJQUFJQyxRQUFRLCtEQUErRDtnQkFDekZDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1zRCxJQUFBQSxjQUFtQixFQUFDekQsU0FBUztnQkFBRWtELFFBQVFDLFFBQVFDLE9BQU8sQ0FBQztvQkFBRWpFLElBQUk7Z0JBQWE7WUFBRztZQUNwRyxNQUFNMUIsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUM3QkQsT0FBTzNCLG9CQUFvQmdDLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ2pEO0lBQ0Y7SUFFQXpDLFNBQVMsbUNBQW1DO1FBQzFDc0IsR0FBRyxvREFBb0Q7WUFDckQsVUFBVTtZQUNWLE1BQU1tRSxnQkFBZ0I7Z0JBQ3BCQyxPQUFPO2dCQUNQQyxXQUFXO2dCQUNYQyxTQUFTO2dCQUNUNUMsUUFBUTtnQkFDUjZDLGVBQWU7Z0JBQ2ZDLGFBQWE7Z0JBQ2JDLGNBQWM7Z0JBQ2RDLGlCQUFpQjtvQkFDZjt3QkFDRUMsTUFBTTt3QkFDTmxELE1BQU07d0JBQ040QyxXQUFXO3dCQUNYQyxTQUFTO3dCQUNUNUMsUUFBUTtvQkFDVjtvQkFDQTt3QkFDRWlELE1BQU07d0JBQ05sRCxNQUFNO3dCQUNONEMsV0FBVzt3QkFDWEMsU0FBUzt3QkFDVDVDLFFBQVE7b0JBQ1Y7aUJBQ0Q7WUFDSDtZQUVBdkMsc0JBQXNCTSxpQkFBaUIsQ0FBQztnQkFDdENlLFNBQVM7Z0JBQ1R0QyxNQUFNaUc7WUFDUjtZQUVBLE1BQU0xRCxVQUFVLElBQUlDLFFBQVEsb0RBQW9EO2dCQUM5RUMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTTdDLElBQUFBLFdBQWlCLEVBQUMwQztZQUN6QyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUtBLElBQUksQ0FBQ2tHLEtBQUssRUFBRXRELElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtBLElBQUksQ0FBQ3FHLGFBQWEsRUFBRXpELElBQUksQ0FBQztZQUNyQ0QsT0FBTzNDLEtBQUtBLElBQUksQ0FBQ3dHLGVBQWUsRUFBRXRCLFlBQVksQ0FBQztZQUMvQ3ZDLE9BQU8xQix1QkFBdUI2QixvQkFBb0I7UUFDcEQ7UUFFQWhCLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVnJCLGFBQWFXLElBQUksQ0FBQ0MsVUFBVSxDQUFDRSxpQkFBaUIsQ0FBQztnQkFDN0N2QixNQUFNO29CQUFFd0IsU0FBUztnQkFBSztnQkFDdEJLLE9BQU87WUFDVDtZQUVBLE1BQU1VLFVBQVUsSUFBSUMsUUFBUSxvREFBb0Q7Z0JBQzlFQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNN0MsSUFBQUEsV0FBaUIsRUFBQzBDO1lBQ3pDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQzdCRCxPQUFPMUIsdUJBQXVCK0IsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDcEQ7UUFFQW5CLEdBQUcsd0NBQXdDO1lBQ3pDLFVBQVU7WUFDVmIsc0JBQXNCTSxpQkFBaUIsQ0FBQztnQkFDdENlLFNBQVM7Z0JBQ1RULE9BQU87b0JBQ0xrQixNQUFNO29CQUNORyxTQUFTO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNWCxVQUFVLElBQUlDLFFBQVEsb0RBQW9EO2dCQUM5RUMsUUFBUTtZQUNWO1lBRUEsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTTdDLElBQUFBLFdBQWlCLEVBQUMwQztZQUN6QyxNQUFNdkMsT0FBTyxNQUFNMEMsU0FBUzNDLElBQUk7WUFFaEMsU0FBUztZQUNUNEMsT0FBT0QsU0FBU3hDLE1BQU0sRUFBRTBDLElBQUksQ0FBQztZQUM3QkQsT0FBTzNDLEtBQUtzQyxPQUFPLEVBQUVNLElBQUksQ0FBQztZQUMxQkQsT0FBTzNDLEtBQUs2QixLQUFLLENBQUNrQixJQUFJLEVBQUVILElBQUksQ0FBQztRQUMvQjtRQUVBZCxHQUFHLHNDQUFzQztZQUN2QyxVQUFVO1lBQ1YsTUFBTTRFLGlCQUFpQjtnQkFDckJSLE9BQU87Z0JBQ1BDLFdBQVc7Z0JBQ1hDLFNBQVM7Z0JBQ1Q1QyxRQUFRO2dCQUNSNkMsZUFBZTtnQkFDZkMsYUFBYTtnQkFDYkMsY0FBYztnQkFDZEMsaUJBQWlCLEVBQUU7WUFDckI7WUFFQXZGLHNCQUFzQk0saUJBQWlCLENBQUM7Z0JBQ3RDZSxTQUFTO2dCQUNUdEMsTUFBTTBHO1lBQ1I7WUFFQSxNQUFNbkUsVUFBVSxJQUFJQyxRQUFRLG9EQUFvRDtnQkFDOUVDLFFBQVE7WUFDVjtZQUVBLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU03QyxJQUFBQSxXQUFpQixFQUFDMEM7WUFDekMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLQSxJQUFJLENBQUNrRyxLQUFLLEVBQUV0RCxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLQSxJQUFJLENBQUN3RyxlQUFlLEVBQUV0QixZQUFZLENBQUM7UUFDakQ7SUFDRjtJQUVBMUUsU0FBUyxrQkFBa0I7UUFDekJzQixHQUFHLGlEQUFpRDtZQUNsRCxVQUFVO1lBQ1YsTUFBTVMsVUFBVSxJQUFJQyxRQUFRLCtDQUErQztnQkFDekVDLFFBQVE7Z0JBQ1JnQixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNO1lBQ1I7WUFFQSxNQUFNO1lBQ04sTUFBTWhCLFdBQVcsTUFBTW5ELElBQUFBLFlBQWEsRUFBQ2dEO1lBQ3JDLE1BQU12QyxPQUFPLE1BQU0wQyxTQUFTM0MsSUFBSTtZQUVoQyxTQUFTO1lBQ1Q0QyxPQUFPRCxTQUFTeEMsTUFBTSxFQUFFMEMsSUFBSSxDQUFDO1lBQzdCRCxPQUFPM0MsS0FBS3NDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO1lBQzFCRCxPQUFPM0MsS0FBSzZCLEtBQUssQ0FBQ2tCLElBQUksRUFBRUgsSUFBSSxDQUFDO1FBQy9CO1FBRUFkLEdBQUcsNkNBQTZDO1lBQzlDLFVBQVU7WUFDVixNQUFNUyxVQUFVLElBQUlDLFFBQVEsK0NBQStDO2dCQUN6RUMsUUFBUTtnQkFDUmlCLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJSLFlBQVk7d0JBQUM7cUJBQW1CO29CQUNoQ25CLFNBQVM7b0JBQ1RvQixNQUFNO2dCQUNSO1lBQ0Y7WUFFQSxNQUFNO1lBQ04sTUFBTVgsV0FBVyxNQUFNbkQsSUFBQUEsWUFBYSxFQUFDZ0Q7WUFDckMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLDZEQUE2RDtZQUM3RDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU9oQyxtQkFBbUJzQyxnQkFBZ0I7UUFDNUM7UUFFQW5CLEdBQUcsb0RBQW9EO1lBQ3JELFVBQVU7WUFDVnBCLGlCQUFpQmlHLGlCQUFpQixDQUFDLElBQUlDLE1BQU07WUFFN0MsTUFBTXJFLFVBQVUsSUFBSUMsUUFBUSwwQ0FBMEM7Z0JBQ3BFQyxRQUFRO1lBQ1Y7WUFFQSxNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNckQsSUFBQUEsVUFBWSxFQUFDa0Q7WUFDcEMsTUFBTXZDLE9BQU8sTUFBTTBDLFNBQVMzQyxJQUFJO1lBRWhDLFNBQVM7WUFDVDRDLE9BQU9ELFNBQVN4QyxNQUFNLEVBQUUwQyxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLc0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDa0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDN0JELE9BQU8zQyxLQUFLNkIsS0FBSyxDQUFDcUIsT0FBTyxFQUFFTixJQUFJLENBQUM7UUFDbEM7SUFDRjtBQUNGIn0=