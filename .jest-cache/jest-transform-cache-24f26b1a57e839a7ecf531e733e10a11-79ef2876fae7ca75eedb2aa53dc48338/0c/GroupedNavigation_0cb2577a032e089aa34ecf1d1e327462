546b521a641132fb78639c9ae632be45
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GroupedNavigation", {
    enumerable: true,
    get: function() {
        return GroupedNavigation;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _link = /*#__PURE__*/ _interop_require_default(require("next/link"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const STORAGE_KEY = 'admin_nav_expanded_groups';
function GroupedNavigation({ pendingPhotosCount = 0, isCollapsed = false, onNavigate }) {
    const pathname = (0, _navigation.usePathname)();
    const [expandedGroups, setExpandedGroups] = (0, _react.useState)(new Set());
    const [pendingCount, setPendingCount] = (0, _react.useState)(pendingPhotosCount);
    // Load expanded groups from localStorage
    (0, _react.useEffect)(()=>{
        try {
            const stored = localStorage.getItem(STORAGE_KEY);
            if (stored) {
                const parsed = JSON.parse(stored);
                setExpandedGroups(new Set(parsed));
            } else {
                // Default: expand all groups
                setExpandedGroups(new Set([
                    'guest-management',
                    'event-planning',
                    'logistics',
                    'content',
                    'communication',
                    'financial',
                    'system'
                ]));
            }
        } catch (error) {
            console.error('Failed to load expanded groups:', error);
        }
    }, []);
    // Save expanded groups to localStorage
    (0, _react.useEffect)(()=>{
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(expandedGroups)));
        } catch (error) {
            console.error('Failed to save expanded groups:', error);
        }
    }, [
        expandedGroups
    ]);
    // Update pending count when prop changes
    (0, _react.useEffect)(()=>{
        setPendingCount(pendingPhotosCount);
    }, [
        pendingPhotosCount
    ]);
    // Listen for photo moderation events
    (0, _react.useEffect)(()=>{
        const handlePhotoModerated = async ()=>{
            try {
                const response = await fetch('/api/admin/photos/pending-count');
                const result = await response.json();
                if (result.success) {
                    setPendingCount(result.data.count);
                }
            } catch (error) {
                console.error('Failed to fetch pending photo count:', error);
            }
        };
        window.addEventListener('photoModerated', handlePhotoModerated);
        return ()=>window.removeEventListener('photoModerated', handlePhotoModerated);
    }, []);
    // Listen for storage events (sync across tabs)
    (0, _react.useEffect)(()=>{
        const handleStorageChange = (e)=>{
            if (e.key === STORAGE_KEY && e.newValue) {
                try {
                    const parsed = JSON.parse(e.newValue);
                    setExpandedGroups(new Set(parsed));
                } catch (error) {
                    console.error('Failed to sync expanded groups:', error);
                }
            }
        };
        window.addEventListener('storage', handleStorageChange);
        return ()=>window.removeEventListener('storage', handleStorageChange);
    }, []);
    const navigationGroups = [
        {
            id: 'guest-management',
            label: 'Guest Management',
            icon: 'ðŸ‘¥',
            items: [
                {
                    id: 'guests',
                    label: 'Guests & Groups',
                    href: '/admin/guests'
                }
            ]
        },
        {
            id: 'event-planning',
            label: 'Event Planning',
            icon: 'ðŸ“…',
            items: [
                {
                    id: 'events',
                    label: 'Events',
                    href: '/admin/events'
                },
                {
                    id: 'activities',
                    label: 'Activities',
                    href: '/admin/activities'
                }
            ]
        },
        {
            id: 'logistics',
            label: 'Logistics',
            icon: 'ðŸš—',
            items: [
                {
                    id: 'accommodations',
                    label: 'Accommodations',
                    href: '/admin/accommodations'
                },
                {
                    id: 'transportation',
                    label: 'Transportation',
                    href: '/admin/transportation'
                },
                {
                    id: 'vendors',
                    label: 'Vendors',
                    href: '/admin/vendors'
                }
            ]
        },
        {
            id: 'content',
            label: 'Content',
            icon: 'ðŸ“',
            items: [
                {
                    id: 'home-page',
                    label: 'Home Page',
                    href: '/admin/home-page'
                },
                {
                    id: 'content-pages',
                    label: 'Content Pages',
                    href: '/admin/content-pages'
                },
                {
                    id: 'locations',
                    label: 'Locations',
                    href: '/admin/locations'
                },
                {
                    id: 'photos',
                    label: 'Photos',
                    href: '/admin/photos',
                    badge: pendingCount
                }
            ],
            badge: pendingCount > 0 ? pendingCount : undefined
        },
        {
            id: 'communication',
            label: 'Communication',
            icon: 'âœ‰ï¸',
            items: [
                {
                    id: 'emails',
                    label: 'Emails',
                    href: '/admin/emails'
                },
                {
                    id: 'rsvp-analytics',
                    label: 'RSVP Analytics',
                    href: '/admin/rsvp-analytics'
                }
            ]
        },
        {
            id: 'financial',
            label: 'Financial',
            icon: 'ðŸ’°',
            items: [
                {
                    id: 'budget',
                    label: 'Budget',
                    href: '/admin/budget'
                }
            ]
        },
        {
            id: 'system',
            label: 'System',
            icon: 'âš™ï¸',
            items: [
                {
                    id: 'settings',
                    label: 'Settings',
                    href: '/admin/settings'
                },
                {
                    id: 'audit-logs',
                    label: 'Audit Logs',
                    href: '/admin/audit-logs'
                }
            ]
        }
    ];
    const toggleGroup = (0, _react.useCallback)((groupId)=>{
        setExpandedGroups((prev)=>{
            const next = new Set(prev);
            if (next.has(groupId)) {
                next.delete(groupId);
            } else {
                next.add(groupId);
            }
            return next;
        });
    }, []);
    const isActive = (href)=>{
        if (href === '/admin') {
            return pathname === '/admin';
        }
        return pathname?.startsWith(href);
    };
    const isGroupActive = (group)=>{
        return group.items.some((item)=>isActive(item.href));
    };
    const handleKeyDown = (e, groupId)=>{
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggleGroup(groupId);
        }
    };
    if (isCollapsed) {
        // Collapsed view: show only icons
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
            className: "p-2 space-y-1",
            "aria-label": "Admin sections",
            children: navigationGroups.map((group)=>{
                const active = isGroupActive(group);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "relative",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        className: `w-full flex items-center justify-center p-3 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-label": group.label,
                        title: group.label,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "absolute top-1 right-1 w-2 h-2 bg-volcano-500 rounded-full",
                                "aria-label": `${group.badge} pending`
                            })
                        ]
                    })
                }, group.id);
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
        className: "p-2 space-y-2",
        "aria-label": "Admin sections",
        children: navigationGroups.map((group)=>{
            const isExpanded = expandedGroups.has(group.id);
            const active = isGroupActive(group);
            return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-1",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        onKeyDown: (e)=>handleKeyDown(e, group.id),
                        className: `w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700 font-medium' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-expanded": isExpanded,
                        "aria-label": `${group.label} section`,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl flex-shrink-0",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "flex-1 text-left",
                                children: group.label
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                "aria-label": `${group.badge} pending`,
                                children: group.badge
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: `text-sm transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`,
                                "aria-hidden": "true",
                                children: "â–¶"
                            })
                        ]
                    }),
                    isExpanded && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "ml-6 space-y-1",
                        role: "group",
                        "aria-label": `${group.label} items`,
                        children: group.items.map((item)=>{
                            const itemActive = isActive(item.href);
                            return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_link.default, {
                                href: item.href,
                                className: `flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 min-h-[44px] ${itemActive ? 'bg-jungle-100 text-jungle-800 font-medium' : 'text-sage-600 hover:bg-sage-50 hover:text-sage-900'}`,
                                "aria-label": item.label,
                                "aria-current": itemActive ? 'page' : undefined,
                                onClick: onNavigate,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "flex-1",
                                        children: item.label
                                    }),
                                    item.badge !== undefined && item.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                        "aria-label": `${item.badge} pending`,
                                        children: item.badge
                                    })
                                ]
                            }, item.id);
                        })
                    })
                ]
            }, group.id);
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Hcm91cGVkTmF2aWdhdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uSXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgYmFkZ2U/OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uR3JvdXAge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG4gIGl0ZW1zOiBOYXZpZ2F0aW9uSXRlbVtdO1xuICBiYWRnZT86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIEdyb3VwZWROYXZpZ2F0aW9uUHJvcHMge1xuICBwZW5kaW5nUGhvdG9zQ291bnQ/OiBudW1iZXI7XG4gIGlzQ29sbGFwc2VkPzogYm9vbGVhbjtcbiAgb25OYXZpZ2F0ZT86ICgpID0+IHZvaWQ7XG59XG5cbmNvbnN0IFNUT1JBR0VfS0VZID0gJ2FkbWluX25hdl9leHBhbmRlZF9ncm91cHMnO1xuXG4vKipcbiAqIEdyb3VwZWROYXZpZ2F0aW9uIENvbXBvbmVudFxuICogXG4gKiBPcmdhbml6ZWQgbmF2aWdhdGlvbiB3aXRoIGxvZ2ljYWwgZ3JvdXBpbmc6XG4gKiAtIEd1ZXN0IE1hbmFnZW1lbnQsIEV2ZW50IFBsYW5uaW5nLCBMb2dpc3RpY3MsIENvbnRlbnQsIENvbW11bmljYXRpb24sIEZpbmFuY2lhbCwgU3lzdGVtXG4gKiAtIEV4cGFuZC9jb2xsYXBzZSBmdW5jdGlvbmFsaXR5IHdpdGggbG9jYWxTdG9yYWdlIHBlcnNpc3RlbmNlXG4gKiAtIEJhZGdlIHN1cHBvcnQgZm9yIHBlbmRpbmcgaXRlbXNcbiAqIC0gS2V5Ym9hcmQgbmF2aWdhdGlvbiBzdXBwb3J0XG4gKiAtIE1vYmlsZSByZXNwb25zaXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHcm91cGVkTmF2aWdhdGlvbih7IFxuICBwZW5kaW5nUGhvdG9zQ291bnQgPSAwLCBcbiAgaXNDb2xsYXBzZWQgPSBmYWxzZSxcbiAgb25OYXZpZ2F0ZSBcbn06IEdyb3VwZWROYXZpZ2F0aW9uUHJvcHMpIHtcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpO1xuICBjb25zdCBbZXhwYW5kZWRHcm91cHMsIHNldEV4cGFuZGVkR3JvdXBzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbcGVuZGluZ0NvdW50LCBzZXRQZW5kaW5nQ291bnRdID0gdXNlU3RhdGUocGVuZGluZ1Bob3Rvc0NvdW50KTtcblxuICAvLyBMb2FkIGV4cGFuZGVkIGdyb3VwcyBmcm9tIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XG4gICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RvcmVkKTtcbiAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChwYXJzZWQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQ6IGV4cGFuZCBhbGwgZ3JvdXBzXG4gICAgICAgIHNldEV4cGFuZGVkR3JvdXBzKG5ldyBTZXQoW1xuICAgICAgICAgICdndWVzdC1tYW5hZ2VtZW50JyxcbiAgICAgICAgICAnZXZlbnQtcGxhbm5pbmcnLFxuICAgICAgICAgICdsb2dpc3RpY3MnLFxuICAgICAgICAgICdjb250ZW50JyxcbiAgICAgICAgICAnY29tbXVuaWNhdGlvbicsXG4gICAgICAgICAgJ2ZpbmFuY2lhbCcsXG4gICAgICAgICAgJ3N5c3RlbSdcbiAgICAgICAgXSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgZXhwYW5kZWQgZ3JvdXBzIHRvIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShleHBhbmRlZEdyb3VwcykpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZXhwYW5kZWQgZ3JvdXBzOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtleHBhbmRlZEdyb3Vwc10pO1xuXG4gIC8vIFVwZGF0ZSBwZW5kaW5nIGNvdW50IHdoZW4gcHJvcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGVuZGluZ0NvdW50KHBlbmRpbmdQaG90b3NDb3VudCk7XG4gIH0sIFtwZW5kaW5nUGhvdG9zQ291bnRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHBob3RvIG1vZGVyYXRpb24gZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUGhvdG9Nb2RlcmF0ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bob3Rvcy9wZW5kaW5nLWNvdW50Jyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0UGVuZGluZ0NvdW50KHJlc3VsdC5kYXRhLmNvdW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHBlbmRpbmcgcGhvdG8gY291bnQ6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGhvdG9Nb2RlcmF0ZWQnLCBoYW5kbGVQaG90b01vZGVyYXRlZCk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwaG90b01vZGVyYXRlZCcsIGhhbmRsZVBob3RvTW9kZXJhdGVkKTtcbiAgfSwgW10pO1xuXG4gIC8vIExpc3RlbiBmb3Igc3RvcmFnZSBldmVudHMgKHN5bmMgYWNyb3NzIHRhYnMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gU1RPUkFHRV9LRVkgJiYgZS5uZXdWYWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChwYXJzZWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3luYyBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uR3JvdXBzOiBOYXZpZ2F0aW9uR3JvdXBbXSA9IFtcbiAgICB7XG4gICAgICBpZDogJ2d1ZXN0LW1hbmFnZW1lbnQnLFxuICAgICAgbGFiZWw6ICdHdWVzdCBNYW5hZ2VtZW50JyxcbiAgICAgIGljb246ICfwn5GlJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdndWVzdHMnLCBsYWJlbDogJ0d1ZXN0cyAmIEdyb3VwcycsIGhyZWY6ICcvYWRtaW4vZ3Vlc3RzJyB9LFxuICAgICAgICAvLyBSU1ZQcyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnZXZlbnQtcGxhbm5pbmcnLFxuICAgICAgbGFiZWw6ICdFdmVudCBQbGFubmluZycsXG4gICAgICBpY29uOiAn8J+ThScsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnZXZlbnRzJywgbGFiZWw6ICdFdmVudHMnLCBocmVmOiAnL2FkbWluL2V2ZW50cycgfSxcbiAgICAgICAgeyBpZDogJ2FjdGl2aXRpZXMnLCBsYWJlbDogJ0FjdGl2aXRpZXMnLCBocmVmOiAnL2FkbWluL2FjdGl2aXRpZXMnIH0sXG4gICAgICAgIC8vIExvY2F0aW9ucyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnbG9naXN0aWNzJyxcbiAgICAgIGxhYmVsOiAnTG9naXN0aWNzJyxcbiAgICAgIGljb246ICfwn5qXJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdhY2NvbW1vZGF0aW9ucycsIGxhYmVsOiAnQWNjb21tb2RhdGlvbnMnLCBocmVmOiAnL2FkbWluL2FjY29tbW9kYXRpb25zJyB9LFxuICAgICAgICB7IGlkOiAndHJhbnNwb3J0YXRpb24nLCBsYWJlbDogJ1RyYW5zcG9ydGF0aW9uJywgaHJlZjogJy9hZG1pbi90cmFuc3BvcnRhdGlvbicgfSxcbiAgICAgICAgeyBpZDogJ3ZlbmRvcnMnLCBsYWJlbDogJ1ZlbmRvcnMnLCBocmVmOiAnL2FkbWluL3ZlbmRvcnMnIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdjb250ZW50JyxcbiAgICAgIGxhYmVsOiAnQ29udGVudCcsXG4gICAgICBpY29uOiAn8J+TnScsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnaG9tZS1wYWdlJywgbGFiZWw6ICdIb21lIFBhZ2UnLCBocmVmOiAnL2FkbWluL2hvbWUtcGFnZScgfSxcbiAgICAgICAgeyBpZDogJ2NvbnRlbnQtcGFnZXMnLCBsYWJlbDogJ0NvbnRlbnQgUGFnZXMnLCBocmVmOiAnL2FkbWluL2NvbnRlbnQtcGFnZXMnIH0sXG4gICAgICAgIHsgaWQ6ICdsb2NhdGlvbnMnLCBsYWJlbDogJ0xvY2F0aW9ucycsIGhyZWY6ICcvYWRtaW4vbG9jYXRpb25zJyB9LFxuICAgICAgICB7IGlkOiAncGhvdG9zJywgbGFiZWw6ICdQaG90b3MnLCBocmVmOiAnL2FkbWluL3Bob3RvcycsIGJhZGdlOiBwZW5kaW5nQ291bnQgfSxcbiAgICAgIF0sXG4gICAgICBiYWRnZTogcGVuZGluZ0NvdW50ID4gMCA/IHBlbmRpbmdDb3VudCA6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnY29tbXVuaWNhdGlvbicsXG4gICAgICBsYWJlbDogJ0NvbW11bmljYXRpb24nLFxuICAgICAgaWNvbjogJ+Kcie+4jycsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnZW1haWxzJywgbGFiZWw6ICdFbWFpbHMnLCBocmVmOiAnL2FkbWluL2VtYWlscycgfSxcbiAgICAgICAgeyBpZDogJ3JzdnAtYW5hbHl0aWNzJywgbGFiZWw6ICdSU1ZQIEFuYWx5dGljcycsIGhyZWY6ICcvYWRtaW4vcnN2cC1hbmFseXRpY3MnIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdmaW5hbmNpYWwnLFxuICAgICAgbGFiZWw6ICdGaW5hbmNpYWwnLFxuICAgICAgaWNvbjogJ/CfkrAnLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ2J1ZGdldCcsIGxhYmVsOiAnQnVkZ2V0JywgaHJlZjogJy9hZG1pbi9idWRnZXQnIH0sXG4gICAgICAgIC8vIFZlbmRvciBQYXltZW50cyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnc3lzdGVtJyxcbiAgICAgIGxhYmVsOiAnU3lzdGVtJyxcbiAgICAgIGljb246ICfimpnvuI8nLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ3NldHRpbmdzJywgbGFiZWw6ICdTZXR0aW5ncycsIGhyZWY6ICcvYWRtaW4vc2V0dGluZ3MnIH0sXG4gICAgICAgIHsgaWQ6ICdhdWRpdC1sb2dzJywgbGFiZWw6ICdBdWRpdCBMb2dzJywgaHJlZjogJy9hZG1pbi9hdWRpdC1sb2dzJyB9LFxuICAgICAgICAvLyBVc2VyIE1hbmFnZW1lbnQgd2lsbCBiZSBhZGRlZCBpbiBmdXR1cmUgdGFza3NcbiAgICAgIF0sXG4gICAgfSxcbiAgXTtcblxuICBjb25zdCB0b2dnbGVHcm91cCA9IHVzZUNhbGxiYWNrKChncm91cElkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRFeHBhbmRlZEdyb3VwcygocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XG4gICAgICBpZiAobmV4dC5oYXMoZ3JvdXBJZCkpIHtcbiAgICAgICAgbmV4dC5kZWxldGUoZ3JvdXBJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0LmFkZChncm91cElkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaXNBY3RpdmUgPSAoaHJlZjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGhyZWYgPT09ICcvYWRtaW4nKSB7XG4gICAgICByZXR1cm4gcGF0aG5hbWUgPT09ICcvYWRtaW4nO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aG5hbWU/LnN0YXJ0c1dpdGgoaHJlZik7XG4gIH07XG5cbiAgY29uc3QgaXNHcm91cEFjdGl2ZSA9IChncm91cDogTmF2aWdhdGlvbkdyb3VwKSA9PiB7XG4gICAgcmV0dXJuIGdyb3VwLml0ZW1zLnNvbWUoKGl0ZW0pID0+IGlzQWN0aXZlKGl0ZW0uaHJlZikpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCwgZ3JvdXBJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRvZ2dsZUdyb3VwKGdyb3VwSWQpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAvLyBDb2xsYXBzZWQgdmlldzogc2hvdyBvbmx5IGljb25zXG4gICAgcmV0dXJuIChcbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwicC0yIHNwYWNlLXktMVwiIGFyaWEtbGFiZWw9XCJBZG1pbiBzZWN0aW9uc1wiPlxuICAgICAgICB7bmF2aWdhdGlvbkdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgY29uc3QgYWN0aXZlID0gaXNHcm91cEFjdGl2ZShncm91cCk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYga2V5PXtncm91cC5pZH0gY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUdyb3VwKGdyb3VwLmlkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0zIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1pbi1oLVs0NHB4XSAke1xuICAgICAgICAgICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWp1bmdsZS01MCB0ZXh0LWp1bmdsZS03MDAnXG4gICAgICAgICAgICAgICAgICAgIDogJ3RleHQtc2FnZS03MDAgaG92ZXI6Ymctc2FnZS01MCBob3Zlcjp0ZXh0LXNhZ2UtOTAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dyb3VwLmxhYmVsfVxuICAgICAgICAgICAgICAgIHRpdGxlPXtncm91cC5sYWJlbH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57Z3JvdXAuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAge2dyb3VwLmJhZGdlICE9PSB1bmRlZmluZWQgJiYgZ3JvdXAuYmFkZ2UgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIHctMiBoLTIgYmctdm9sY2Fuby01MDAgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YCR7Z3JvdXAuYmFkZ2V9IHBlbmRpbmdgfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9uYXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPG5hdiBjbGFzc05hbWU9XCJwLTIgc3BhY2UteS0yXCIgYXJpYS1sYWJlbD1cIkFkbWluIHNlY3Rpb25zXCI+XG4gICAgICB7bmF2aWdhdGlvbkdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRXhwYW5kZWQgPSBleHBhbmRlZEdyb3Vwcy5oYXMoZ3JvdXAuaWQpO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBpc0dyb3VwQWN0aXZlKGdyb3VwKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtncm91cC5pZH0gY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICB7LyogR3JvdXAgSGVhZGVyICovfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVHcm91cChncm91cC5pZCl9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IGhhbmRsZUtleURvd24oZSwgZ3JvdXAuaWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yLjUgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbWluLWgtWzQ0cHhdICR7XG4gICAgICAgICAgICAgICAgYWN0aXZlXG4gICAgICAgICAgICAgICAgICA/ICdiZy1qdW5nbGUtNTAgdGV4dC1qdW5nbGUtNzAwIGZvbnQtbWVkaXVtJ1xuICAgICAgICAgICAgICAgICAgOiAndGV4dC1zYWdlLTcwMCBob3ZlcjpiZy1zYWdlLTUwIGhvdmVyOnRleHQtc2FnZS05MDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPXtpc0V4cGFuZGVkfVxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtncm91cC5sYWJlbH0gc2VjdGlvbmB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZmxleC1zaHJpbmstMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPntncm91cC5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtbGVmdFwiPntncm91cC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgIHtncm91cC5iYWRnZSAhPT0gdW5kZWZpbmVkICYmIGdyb3VwLmJhZGdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSBiZy12b2xjYW5vLTUwMCB0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIG1pbi13LVsyNHB4XSB0ZXh0LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtncm91cC5iYWRnZX0gcGVuZGluZ2B9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dyb3VwLmJhZGdlfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC1zbSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgJHtpc0V4cGFuZGVkID8gJ3JvdGF0ZS05MCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDilrZcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgIHsvKiBHcm91cCBJdGVtcyAqL31cbiAgICAgICAgICAgIHtpc0V4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC02IHNwYWNlLXktMVwiIHJvbGU9XCJncm91cFwiIGFyaWEtbGFiZWw9e2Ake2dyb3VwLmxhYmVsfSBpdGVtc2B9PlxuICAgICAgICAgICAgICAgIHtncm91cC5pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1BY3RpdmUgPSBpc0FjdGl2ZShpdGVtLmhyZWYpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtaW4taC1bNDRweF0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1BY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS04MDAgZm9udC1tZWRpdW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtc2FnZS02MDAgaG92ZXI6Ymctc2FnZS01MCBob3Zlcjp0ZXh0LXNhZ2UtOTAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1jdXJyZW50PXtpdGVtQWN0aXZlID8gJ3BhZ2UnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uTmF2aWdhdGV9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTFcIj57aXRlbS5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYmFkZ2UgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmJhZGdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgYmctdm9sY2Fuby01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBtaW4tdy1bMjRweF0gdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtpdGVtLmJhZGdlfSBwZW5kaW5nYH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYmFkZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9uYXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiR3JvdXBlZE5hdmlnYXRpb24iLCJTVE9SQUdFX0tFWSIsInBlbmRpbmdQaG90b3NDb3VudCIsImlzQ29sbGFwc2VkIiwib25OYXZpZ2F0ZSIsInBhdGhuYW1lIiwidXNlUGF0aG5hbWUiLCJleHBhbmRlZEdyb3VwcyIsInNldEV4cGFuZGVkR3JvdXBzIiwidXNlU3RhdGUiLCJTZXQiLCJwZW5kaW5nQ291bnQiLCJzZXRQZW5kaW5nQ291bnQiLCJ1c2VFZmZlY3QiLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIkFycmF5IiwiZnJvbSIsImhhbmRsZVBob3RvTW9kZXJhdGVkIiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImNvdW50Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTdG9yYWdlQ2hhbmdlIiwiZSIsImtleSIsIm5ld1ZhbHVlIiwibmF2aWdhdGlvbkdyb3VwcyIsImlkIiwibGFiZWwiLCJpY29uIiwiaXRlbXMiLCJocmVmIiwiYmFkZ2UiLCJ1bmRlZmluZWQiLCJ0b2dnbGVHcm91cCIsInVzZUNhbGxiYWNrIiwiZ3JvdXBJZCIsInByZXYiLCJuZXh0IiwiaGFzIiwiZGVsZXRlIiwiYWRkIiwiaXNBY3RpdmUiLCJzdGFydHNXaXRoIiwiaXNHcm91cEFjdGl2ZSIsImdyb3VwIiwic29tZSIsIml0ZW0iLCJoYW5kbGVLZXlEb3duIiwicHJldmVudERlZmF1bHQiLCJuYXYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsIiwibWFwIiwiYWN0aXZlIiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiaXNFeHBhbmRlZCIsIm9uS2V5RG93biIsImFyaWEtZXhwYW5kZWQiLCJyb2xlIiwiaXRlbUFjdGl2ZSIsIkxpbmsiLCJhcmlhLWN1cnJlbnQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkF1Q2dCQTs7O2VBQUFBOzs7O3VCQXJDaUM7NkRBQ2hDOzRCQUNXOzs7Ozs7QUF1QjVCLE1BQU1DLGNBQWM7QUFZYixTQUFTRCxrQkFBa0IsRUFDaENFLHFCQUFxQixDQUFDLEVBQ3RCQyxjQUFjLEtBQUssRUFDbkJDLFVBQVUsRUFDYTtJQUN2QixNQUFNQyxXQUFXQyxJQUFBQSx1QkFBVztJQUM1QixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdDLElBQUFBLGVBQVEsRUFBYyxJQUFJQztJQUN0RSxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHSCxJQUFBQSxlQUFRLEVBQUNQO0lBRWpELHlDQUF5QztJQUN6Q1csSUFBQUEsZ0JBQVMsRUFBQztRQUNSLElBQUk7WUFDRixNQUFNQyxTQUFTQyxhQUFhQyxPQUFPLENBQUNmO1lBQ3BDLElBQUlhLFFBQVE7Z0JBQ1Ys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