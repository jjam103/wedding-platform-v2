9eada84be18feab805d7b8a9b1180c74
/**
 * Content Page Route Tests
 * 
 * Tests the dynamic content page route that displays custom pages with sections.
 * 
 * Requirements: 4.2 (E2E Critical Path Testing - section management flow)
 */ "use strict";
// Mock dependencies
jest.mock('@/services/contentPagesService');
jest.mock('@/services/sectionsService');
jest.mock('next/navigation', ()=>({
        notFound: jest.fn()
    }));
jest.mock('@supabase/auth-helpers-nextjs', ()=>({
        createServerComponentClient: jest.fn(()=>({
                from: jest.fn()
            }))
    }));
jest.mock('next/headers', ()=>({
        cookies: jest.fn()
    }));
// Mock SectionRenderer component
jest.mock('@/components/guest/SectionRenderer', ()=>({
        SectionRenderer: ({ section })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": `section-${section.id}`,
                children: [
                    section.title && /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        children: section.title
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: "Section content"
                    })
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _contentPagesService = require("../../../services/contentPagesService");
const _sectionsService = require("../../../services/sectionsService");
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockGetContentPageBySlug = _contentPagesService.getContentPageBySlug;
const mockListSections = _sectionsService.listSections;
const mockNotFound = _navigation.notFound;
describe('ContentPage Route', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Route Validation', ()=>{
        it('should call notFound when type is not "custom"', async ()=>{
            const params = Promise.resolve({
                type: 'invalid',
                slug: 'test-page'
            });
            // Mock notFound to throw to stop execution
            mockNotFound.mockImplementation(()=>{
                throw new Error('Not Found');
            });
            await expect((0, _page.default)({
                params
            })).rejects.toThrow('Not Found');
            expect(mockNotFound).toHaveBeenCalled();
            expect(mockGetContentPageBySlug).not.toHaveBeenCalled();
        });
        it('should accept "custom" type', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            expect(mockNotFound).not.toHaveBeenCalled();
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('test-page');
        });
    });
    describe('Content Page Fetching', ()=>{
        it('should fetch content page by slug', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'our-story'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'our-story',
                    title: 'Our Story',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('our-story');
        });
        it('should call notFound when content page not found', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'nonexistent'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Content page not found'
                }
            });
            // Mock notFound to throw to stop execution
            mockNotFound.mockImplementation(()=>{
                throw new Error('Not Found');
            });
            await expect((0, _page.default)({
                params
            })).rejects.toThrow('Not Found');
            expect(mockNotFound).toHaveBeenCalled();
        });
        it('should call notFound when content page is draft', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'draft-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'draft-page',
                    title: 'Draft Page',
                    status: 'draft',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            // Mock notFound to throw to stop execution
            mockNotFound.mockImplementation(()=>{
                throw new Error('Not Found');
            });
            await expect((0, _page.default)({
                params
            })).rejects.toThrow('Not Found');
            expect(mockNotFound).toHaveBeenCalled();
        });
    });
    describe('Sections Fetching', ()=>{
        it('should fetch sections for the content page', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-123',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockListSections).toHaveBeenCalledWith('custom', 'page-123');
        });
        it('should handle sections fetch failure gracefully', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to fetch sections'
                }
            });
            const result = await (0, _page.default)({
                params
            });
            // Should not crash, should render with empty sections
            expect(mockNotFound).not.toHaveBeenCalled();
        });
    });
    describe('Rendering', ()=>{
        it('should render content page title', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Our Amazing Story',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('Our Amazing Story')).toBeInTheDocument();
        });
        it('should render sections using SectionRenderer', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Introduction',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-2',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Details',
                        display_order: 1,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByTestId('section-section-1')).toBeInTheDocument();
            expect(_react.screen.getByTestId('section-section-2')).toBeInTheDocument();
            expect(_react.screen.getByText('Introduction')).toBeInTheDocument();
            expect(_react.screen.getByText('Details')).toBeInTheDocument();
        });
        it('should render empty state when no sections', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('No content available for this page.')).toBeInTheDocument();
        });
        it('should render multiple sections in order', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'First Section',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-2',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Second Section',
                        display_order: 1,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-3',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Third Section',
                        display_order: 2,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            const sections = _react.screen.getAllByText(/Section/);
            expect(sections.length).toBeGreaterThanOrEqual(3);
            expect(_react.screen.getByText('First Section')).toBeInTheDocument();
            expect(_react.screen.getByText('Second Section')).toBeInTheDocument();
            expect(_react.screen.getByText('Third Section')).toBeInTheDocument();
        });
    });
    describe('Async Params Handling', ()=>{
        it('should handle async params correctly', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            // Should not throw error
            await expect((0, _page.default)({
                params
            })).resolves.toBeDefined();
        });
        it('should await params before using them', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            // Verify slug was extracted correctly
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('test-page');
        });
    });
    describe('Edge Cases', ()=>{
        it('should handle special characters in slug', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'our-story-2024'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'our-story-2024',
                    title: 'Our Story 2024',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('our-story-2024');
        });
        it('should handle empty sections array', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('No content available for this page.')).toBeInTheDocument();
        });
        it('should handle sections without titles', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByTestId('section-section-1')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL1t0eXBlXS9bc2x1Z10vcGFnZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRlbnQgUGFnZSBSb3V0ZSBUZXN0c1xuICogXG4gKiBUZXN0cyB0aGUgZHluYW1pYyBjb250ZW50IHBhZ2Ugcm91dGUgdGhhdCBkaXNwbGF5cyBjdXN0b20gcGFnZXMgd2l0aCBzZWN0aW9ucy5cbiAqIFxuICogUmVxdWlyZW1lbnRzOiA0LjIgKEUyRSBDcml0aWNhbCBQYXRoIFRlc3RpbmcgLSBzZWN0aW9uIG1hbmFnZW1lbnQgZmxvdylcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IENvbnRlbnRQYWdlIGZyb20gJy4vcGFnZSc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGFnZUJ5U2x1ZyB9IGZyb20gJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZSc7XG5pbXBvcnQgeyBsaXN0U2VjdGlvbnMgfSBmcm9tICdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZSc7XG5pbXBvcnQgeyBub3RGb3VuZCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZScpO1xuamVzdC5tb2NrKCdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZScpO1xuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICBub3RGb3VuZDogamVzdC5mbigpLFxufSkpO1xuamVzdC5tb2NrKCdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcycsICgpID0+ICh7XG4gIGNyZWF0ZVNlcnZlckNvbXBvbmVudENsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGZyb206IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuamVzdC5tb2NrKCduZXh0L2hlYWRlcnMnLCAoKSA9PiAoe1xuICBjb29raWVzOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgU2VjdGlvblJlbmRlcmVyIGNvbXBvbmVudFxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvZ3Vlc3QvU2VjdGlvblJlbmRlcmVyJywgKCkgPT4gKHtcbiAgU2VjdGlvblJlbmRlcmVyOiAoeyBzZWN0aW9uIH06IGFueSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9e2BzZWN0aW9uLSR7c2VjdGlvbi5pZH1gfT5cbiAgICAgIHtzZWN0aW9uLnRpdGxlICYmIDxoMj57c2VjdGlvbi50aXRsZX08L2gyPn1cbiAgICAgIDxkaXY+U2VjdGlvbiBjb250ZW50PC9kaXY+XG4gICAgPC9kaXY+XG4gICksXG59KSk7XG5cbmNvbnN0IG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZyA9IGdldENvbnRlbnRQYWdlQnlTbHVnIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGdldENvbnRlbnRQYWdlQnlTbHVnPjtcbmNvbnN0IG1vY2tMaXN0U2VjdGlvbnMgPSBsaXN0U2VjdGlvbnMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgbGlzdFNlY3Rpb25zPjtcbmNvbnN0IG1vY2tOb3RGb3VuZCA9IG5vdEZvdW5kIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIG5vdEZvdW5kPjtcblxuZGVzY3JpYmUoJ0NvbnRlbnRQYWdlIFJvdXRlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JvdXRlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIG5vdEZvdW5kIHdoZW4gdHlwZSBpcyBub3QgXCJjdXN0b21cIicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdpbnZhbGlkJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgbm90Rm91bmQgdG8gdGhyb3cgdG8gc3RvcCBleGVjdXRpb25cbiAgICAgIG1vY2tOb3RGb3VuZC5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChDb250ZW50UGFnZSh7IHBhcmFtcyB9KSkucmVqZWN0cy50b1Rocm93KCdOb3QgRm91bmQnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tOb3RGb3VuZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWNjZXB0IFwiY3VzdG9tXCIgdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QtcGFnZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udGVudCBQYWdlIEZldGNoaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmV0Y2ggY29udGVudCBwYWdlIGJ5IHNsdWcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ291ci1zdG9yeScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ291ci1zdG9yeScsXG4gICAgICAgICAgdGl0bGU6ICdPdXIgU3RvcnknLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ291ci1zdG9yeScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG5vdEZvdW5kIHdoZW4gY29udGVudCBwYWdlIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAnbm9uZXhpc3RlbnQnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICBtZXNzYWdlOiAnQ29udGVudCBwYWdlIG5vdCBmb3VuZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBub3RGb3VuZCB0byB0aHJvdyB0byBzdG9wIGV4ZWN1dGlvblxuICAgICAgbW9ja05vdEZvdW5kLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IEZvdW5kJyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pKS5yZWplY3RzLnRvVGhyb3coJ05vdCBGb3VuZCcpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGwgbm90Rm91bmQgd2hlbiBjb250ZW50IHBhZ2UgaXMgZHJhZnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ2RyYWZ0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICdkcmFmdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ0RyYWZ0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ2RyYWZ0JyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBub3RGb3VuZCB0byB0aHJvdyB0byBzdG9wIGV4ZWN1dGlvblxuICAgICAgbW9ja05vdEZvdW5kLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IEZvdW5kJyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pKS5yZWplY3RzLnRvVGhyb3coJ05vdCBGb3VuZCcpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWN0aW9ucyBGZXRjaGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZldGNoIHNlY3Rpb25zIGZvciB0aGUgY29udGVudCBwYWdlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEyMycsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tMaXN0U2VjdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjdXN0b20nLCAncGFnZS0xMjMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlY3Rpb25zIGZldGNoIGZhaWx1cmUgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBzZWN0aW9ucycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBub3QgY3Jhc2gsIHNob3VsZCByZW5kZXIgd2l0aCBlbXB0eSBzZWN0aW9uc1xuICAgICAgZXhwZWN0KG1vY2tOb3RGb3VuZCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBjb250ZW50IHBhZ2UgdGl0bGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdPdXIgQW1hemluZyBTdG9yeScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICByZW5kZXIocmVzdWx0IGFzIFJlYWN0LlJlYWN0RWxlbWVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdPdXIgQW1hemluZyBTdG9yeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgc2VjdGlvbnMgdXNpbmcgU2VjdGlvblJlbmRlcmVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIHRpdGxlOiAnSW50cm9kdWN0aW9uJyxcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2VjdGlvbi0yJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIHRpdGxlOiAnRGV0YWlscycsXG4gICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAxLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKHJlc3VsdCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLXNlY3Rpb24tMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1zZWN0aW9uLTInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbnRyb2R1Y3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdEZXRhaWxzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBlbXB0eSBzdGF0ZSB3aGVuIG5vIHNlY3Rpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlcihyZXN1bHQgYXMgUmVhY3QuUmVhY3RFbGVtZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIGNvbnRlbnQgYXZhaWxhYmxlIGZvciB0aGlzIHBhZ2UuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBtdWx0aXBsZSBzZWN0aW9ucyBpbiBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICB0aXRsZTogJ0ZpcnN0IFNlY3Rpb24nLFxuICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTInLFxuICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgdGl0bGU6ICdTZWNvbmQgU2VjdGlvbicsXG4gICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAxLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3NlY3Rpb24tMycsXG4gICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICB0aXRsZTogJ1RoaXJkIFNlY3Rpb24nLFxuICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMixcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlcihyZXN1bHQgYXMgUmVhY3QuUmVhY3RFbGVtZW50KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9TZWN0aW9uLyk7XG4gICAgICBleHBlY3Qoc2VjdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDMpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZpcnN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWNvbmQgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RoaXJkIFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FzeW5jIFBhcmFtcyBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhc3luYyBwYXJhbXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyBlcnJvclxuICAgICAgYXdhaXQgZXhwZWN0KENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pKS5yZXNvbHZlcy50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhd2FpdCBwYXJhbXMgYmVmb3JlIHVzaW5nIHRoZW0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHNsdWcgd2FzIGV4dHJhY3RlZCBjb3JyZWN0bHlcbiAgICAgIGV4cGVjdChtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LXBhZ2UnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHNsdWcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ291ci1zdG9yeS0yMDI0JyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAnb3VyLXN0b3J5LTIwMjQnLFxuICAgICAgICAgIHRpdGxlOiAnT3VyIFN0b3J5IDIwMjQnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ291ci1zdG9yeS0yMDI0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzZWN0aW9ucyBhcnJheScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICByZW5kZXIocmVzdWx0IGFzIFJlYWN0LlJlYWN0RWxlbWVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdObyBjb250ZW50IGF2YWlsYWJsZSBmb3IgdGhpcyBwYWdlLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VjdGlvbnMgd2l0aG91dCB0aXRsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlcihyZXN1bHQgYXMgUmVhY3QuUmVhY3RFbGVtZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1zZWN0aW9uLTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIm5vdEZvdW5kIiwiZm4iLCJjcmVhdGVTZXJ2ZXJDb21wb25lbnRDbGllbnQiLCJmcm9tIiwiY29va2llcyIsIlNlY3Rpb25SZW5kZXJlciIsInNlY3Rpb24iLCJkaXYiLCJkYXRhLXRlc3RpZCIsImlkIiwidGl0bGUiLCJoMiIsIm1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZyIsImdldENvbnRlbnRQYWdlQnlTbHVnIiwibW9ja0xpc3RTZWN0aW9ucyIsImxpc3RTZWN0aW9ucyIsIm1vY2tOb3RGb3VuZCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwidHlwZSIsInNsdWciLCJtb2NrSW1wbGVtZW50YXRpb24iLCJFcnJvciIsImV4cGVjdCIsIkNvbnRlbnRQYWdlIiwicmVqZWN0cyIsInRvVGhyb3ciLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibm90IiwibW9ja1Jlc29sdmVkVmFsdWUiLCJzdWNjZXNzIiwiZGF0YSIsInN0YXR1cyIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwicmVzdWx0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwicmVuZGVyIiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJwYWdlX3R5cGUiLCJwYWdlX2lkIiwiZGlzcGxheV9vcmRlciIsImdldEJ5VGVzdElkIiwic2VjdGlvbnMiLCJnZXRBbGxCeVRleHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwicmVzb2x2ZXMiLCJ0b0JlRGVmaW5lZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztDQU1DO0FBUUQsb0JBQW9CO0FBQ3BCQSxLQUFLQyxJQUFJLENBQUM7QUFDVkQsS0FBS0MsSUFBSSxDQUFDO0FBQ1ZELEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxVQUFVRixLQUFLRyxFQUFFO0lBQ25CLENBQUE7QUFDQUgsS0FBS0MsSUFBSSxDQUFDLGlDQUFpQyxJQUFPLENBQUE7UUFDaERHLDZCQUE2QkosS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDMUNFLE1BQU1MLEtBQUtHLEVBQUU7WUFDZixDQUFBO0lBQ0YsQ0FBQTtBQUNBSCxLQUFLQyxJQUFJLENBQUMsZ0JBQWdCLElBQU8sQ0FBQTtRQUMvQkssU0FBU04sS0FBS0csRUFBRTtJQUNsQixDQUFBO0FBRUEsaUNBQWlDO0FBQ2pDSCxLQUFLQyxJQUFJLENBQUMsc0NBQXNDLElBQU8sQ0FBQTtRQUNyRE0saUJBQWlCLENBQUMsRUFBRUMsT0FBTyxFQUFPLGlCQUNoQyxzQkFBQ0M7Z0JBQUlDLGVBQWEsQ0FBQyxRQUFRLEVBQUVGLFFBQVFHLEVBQUUsRUFBRTs7b0JBQ3RDSCxRQUFRSSxLQUFLLGtCQUFJLHFCQUFDQztrQ0FBSUwsUUFBUUksS0FBSzs7a0NBQ3BDLHFCQUFDSDtrQ0FBSTs7OztJQUdYLENBQUE7Ozs7O3VCQTdCK0I7NkRBQ1A7cUNBQ2E7aUNBQ1I7NEJBQ0o7Ozs7OztBQTJCekIsTUFBTUssMkJBQTJCQyx5Q0FBb0I7QUFDckQsTUFBTUMsbUJBQW1CQyw2QkFBWTtBQUNyQyxNQUFNQyxlQUFlaEIsb0JBQVE7QUFFN0JpQixTQUFTLHFCQUFxQjtJQUM1QkMsV0FBVztRQUNUcEIsS0FBS3FCLGFBQWE7SUFDcEI7SUFFQUYsU0FBUyxvQkFBb0I7UUFDM0JHLEdBQUcsa0RBQWtEO1lBQ25ELE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBV0MsTUFBTTtZQUFZO1lBRXBFLDJDQUEyQztZQUMzQ1QsYUFBYVUsa0JBQWtCLENBQUM7Z0JBQzlCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLE1BQU1DLE9BQU9DLElBQUFBLGFBQVcsRUFBQztnQkFBRVI7WUFBTyxJQUFJUyxPQUFPLENBQUNDLE9BQU8sQ0FBQztZQUV0REgsT0FBT1osY0FBY2dCLGdCQUFnQjtZQUNyQ0osT0FBT2hCLDBCQUEwQnFCLEdBQUcsQ0FBQ0QsZ0JBQWdCO1FBQ3ZEO1FBRUFaLEdBQUcsK0JBQStCO1lBQ2hDLE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFZO1lBRW5FYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0ozQixJQUFJO29CQUNKZ0IsTUFBTTtvQkFDTmYsT0FBTztvQkFDUDJCLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBekIsaUJBQWlCb0IsaUJBQWlCLENBQUM7Z0JBQ2pDQyxTQUFTO2dCQUNUQyxNQUFNLEVBQUU7WUFDVjtZQUVBLE1BQU1JLFNBQVMsTUFBTVgsSUFBQUEsYUFBVyxFQUFDO2dCQUFFUjtZQUFPO1lBRTFDTyxPQUFPWixjQUFjaUIsR0FBRyxDQUFDRCxnQkFBZ0I7WUFDekNKLE9BQU9oQiwwQkFBMEI2QixvQkFBb0IsQ0FBQztRQUN4RDtJQUNGO0lBRUF4QixTQUFTLHlCQUF5QjtRQUNoQ0csR0FBRyxxQ0FBcUM7WUFDdEMsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQVk7WUFFbkViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUF6QixpQkFBaUJvQixpQkFBaUIsQ0FBQztnQkFDakNDLFNBQVM7Z0JBQ1RDLE1BQU0sRUFBRTtZQUNWO1lBRUEsTUFBTVAsSUFBQUEsYUFBVyxFQUFDO2dCQUFFUjtZQUFPO1lBRTNCTyxPQUFPaEIsMEJBQTBCNkIsb0JBQW9CLENBQUM7UUFDeEQ7UUFFQXJCLEdBQUcsb0RBQW9EO1lBQ3JELE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFjO1lBRXJFYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RPLE9BQU87b0JBQ0xDLE1BQU07b0JBQ05DLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLDJDQUEyQztZQUMzQzVCLGFBQWFVLGtCQUFrQixDQUFDO2dCQUM5QixNQUFNLElBQUlDLE1BQU07WUFDbEI7WUFFQSxNQUFNQyxPQUFPQyxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU8sSUFBSVMsT0FBTyxDQUFDQyxPQUFPLENBQUM7WUFFdERILE9BQU9aLGNBQWNnQixnQkFBZ0I7UUFDdkM7UUFFQVosR0FBRyxtREFBbUQ7WUFDcEQsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQWE7WUFFcEViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUEsMkNBQTJDO1lBQzNDdkIsYUFBYVUsa0JBQWtCLENBQUM7Z0JBQzlCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLE1BQU1DLE9BQU9DLElBQUFBLGFBQVcsRUFBQztnQkFBRVI7WUFBTyxJQUFJUyxPQUFPLENBQUNDLE9BQU8sQ0FBQztZQUV0REgsT0FBT1osY0FBY2dCLGdCQUFnQjtRQUN2QztJQUNGO0lBRUFmLFNBQVMscUJBQXFCO1FBQzVCRyxHQUFHLDhDQUE4QztZQUMvQyxNQUFNQyxTQUFTQyxRQUFRQyxPQUFPLENBQUM7Z0JBQUVDLE1BQU07Z0JBQVVDLE1BQU07WUFBWTtZQUVuRWIseUJBQXlCc0IsaUJBQWlCLENBQUM7Z0JBQ3pDQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKM0IsSUFBSTtvQkFDSmdCLE1BQU07b0JBQ05mLE9BQU87b0JBQ1AyQixRQUFRO29CQUNSQyxZQUFZO29CQUNaQyxZQUFZO2dCQUNkO1lBQ0Y7WUFFQXpCLGlCQUFpQm9CLGlCQUFpQixDQUFDO2dCQUNqQ0MsU0FBUztnQkFDVEMsTUFBTSxFQUFFO1lBQ1Y7WUFFQSxNQUFNUCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFM0JPLE9BQU9kLGtCQUFrQjJCLG9CQUFvQixDQUFDLFVBQVU7UUFDMUQ7UUFFQXJCLEdBQUcsbURBQW1EO1lBQ3BELE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFZO1lBRW5FYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0ozQixJQUFJO29CQUNKZ0IsTUFBTTtvQkFDTmYsT0FBTztvQkFDUDJCLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBekIsaUJBQWlCb0IsaUJBQWlCLENBQUM7Z0JBQ2pDQyxTQUFTO2dCQUNUTyxPQUFPO29CQUNMQyxNQUFNO29CQUNOQyxTQUFTO2dCQUNYO1lBQ0Y7WUFFQSxNQUFNSixTQUFTLE1BQU1YLElBQUFBLGFBQVcsRUFBQztnQkFBRVI7WUFBTztZQUUxQyxzREFBc0Q7WUFDdERPLE9BQU9aLGNBQWNpQixHQUFHLENBQUNELGdCQUFnQjtRQUMzQztJQUNGO0lBRUFmLFNBQVMsYUFBYTtRQUNwQkcsR0FBRyxvQ0FBb0M7WUFDckMsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQVk7WUFFbkViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUF6QixpQkFBaUJvQixpQkFBaUIsQ0FBQztnQkFDakNDLFNBQVM7Z0JBQ1RDLE1BQU0sRUFBRTtZQUNWO1lBRUEsTUFBTUksU0FBUyxNQUFNWCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFMUN3QixJQUFBQSxhQUFNLEVBQUNMO1lBRVBaLE9BQU9rQixhQUFNLENBQUNDLFNBQVMsQ0FBQyxzQkFBc0JDLGlCQUFpQjtRQUNqRTtRQUVBNUIsR0FBRyxnREFBZ0Q7WUFDakQsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQVk7WUFFbkViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUF6QixpQkFBaUJvQixpQkFBaUIsQ0FBQztnQkFDakNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0o7d0JBQ0UzQixJQUFJO3dCQUNKd0MsV0FBVzt3QkFDWEMsU0FBUzt3QkFDVHhDLE9BQU87d0JBQ1B5QyxlQUFlO3dCQUNmYixZQUFZO3dCQUNaQyxZQUFZO29CQUNkO29CQUNBO3dCQUNFOUIsSUFBSTt3QkFDSndDLFdBQVc7d0JBQ1hDLFNBQVM7d0JBQ1R4QyxPQUFPO3dCQUNQeUMsZUFBZTt3QkFDZmIsWUFBWTt3QkFDWkMsWUFBWTtvQkFDZDtpQkFDRDtZQUNIO1lBRUEsTUFBTUMsU0FBUyxNQUFNWCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFMUN3QixJQUFBQSxhQUFNLEVBQUNMO1lBRVBaLE9BQU9rQixhQUFNLENBQUNNLFdBQVcsQ0FBQyxzQkFBc0JKLGlCQUFpQjtZQUNqRXBCLE9BQU9rQixhQUFNLENBQUNNLFdBQVcsQ0FBQyxzQkFBc0JKLGlCQUFpQjtZQUNqRXBCLE9BQU9rQixhQUFNLENBQUNDLFNBQVMsQ0FBQyxpQkFBaUJDLGlCQUFpQjtZQUMxRHBCLE9BQU9rQixhQUFNLENBQUNDLFNBQVMsQ0FBQyxZQUFZQyxpQkFBaUI7UUFDdkQ7UUFFQTVCLEdBQUcsOENBQThDO1lBQy9DLE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFZO1lBRW5FYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0ozQixJQUFJO29CQUNKZ0IsTUFBTTtvQkFDTmYsT0FBTztvQkFDUDJCLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBekIsaUJBQWlCb0IsaUJBQWlCLENBQUM7Z0JBQ2pDQyxTQUFTO2dCQUNUQyxNQUFNLEVBQUU7WUFDVjtZQUVBLE1BQU1JLFNBQVMsTUFBTVgsSUFBQUEsYUFBVyxFQUFDO2dCQUFFUjtZQUFPO1lBRTFDd0IsSUFBQUEsYUFBTSxFQUFDTDtZQUVQWixPQUFPa0IsYUFBTSxDQUFDQyxTQUFTLENBQUMsd0NBQXdDQyxpQkFBaUI7UUFDbkY7UUFFQTVCLEdBQUcsNENBQTRDO1lBQzdDLE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFZO1lBRW5FYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0ozQixJQUFJO29CQUNKZ0IsTUFBTTtvQkFDTmYsT0FBTztvQkFDUDJCLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBekIsaUJBQWlCb0IsaUJBQWlCLENBQUM7Z0JBQ2pDQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKO3dCQUNFM0IsSUFBSTt3QkFDSndDLFdBQVc7d0JBQ1hDLFNBQVM7d0JBQ1R4QyxPQUFPO3dCQUNQeUMsZUFBZTt3QkFDZmIsWUFBWTt3QkFDWkMsWUFBWTtvQkFDZDtvQkFDQTt3QkFDRTlCLElBQUk7d0JBQ0p3QyxXQUFXO3dCQUNYQyxTQUFTO3dCQUNUeEMsT0FBTzt3QkFDUHlDLGVBQWU7d0JBQ2ZiLFlBQVk7d0JBQ1pDLFlBQVk7b0JBQ2Q7b0JBQ0E7d0JBQ0U5QixJQUFJO3dCQUNKd0MsV0FBVzt3QkFDWEMsU0FBUzt3QkFDVHhDLE9BQU87d0JBQ1B5QyxlQUFlO3dCQUNmYixZQUFZO3dCQUNaQyxZQUFZO29CQUNkO2lCQUNEO1lBQ0g7WUFFQSxNQUFNQyxTQUFTLE1BQU1YLElBQUFBLGFBQVcsRUFBQztnQkFBRVI7WUFBTztZQUUxQ3dCLElBQUFBLGFBQU0sRUFBQ0w7WUFFUCxNQUFNYSxXQUFXUCxhQUFNLENBQUNRLFlBQVksQ0FBQztZQUNyQzFCLE9BQU95QixTQUFTRSxNQUFNLEVBQUVDLHNCQUFzQixDQUFDO1lBQy9DNUIsT0FBT2tCLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGtCQUFrQkMsaUJBQWlCO1lBQzNEcEIsT0FBT2tCLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLG1CQUFtQkMsaUJBQWlCO1lBQzVEcEIsT0FBT2tCLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGtCQUFrQkMsaUJBQWlCO1FBQzdEO0lBQ0Y7SUFFQS9CLFNBQVMseUJBQXlCO1FBQ2hDRyxHQUFHLHdDQUF3QztZQUN6QyxNQUFNQyxTQUFTQyxRQUFRQyxPQUFPLENBQUM7Z0JBQUVDLE1BQU07Z0JBQVVDLE1BQU07WUFBWTtZQUVuRWIseUJBQXlCc0IsaUJBQWlCLENBQUM7Z0JBQ3pDQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKM0IsSUFBSTtvQkFDSmdCLE1BQU07b0JBQ05mLE9BQU87b0JBQ1AyQixRQUFRO29CQUNSQyxZQUFZO29CQUNaQyxZQUFZO2dCQUNkO1lBQ0Y7WUFFQXpCLGlCQUFpQm9CLGlCQUFpQixDQUFDO2dCQUNqQ0MsU0FBUztnQkFDVEMsTUFBTSxFQUFFO1lBQ1Y7WUFFQSx5QkFBeUI7WUFDekIsTUFBTVIsT0FBT0MsSUFBQUEsYUFBVyxFQUFDO2dCQUFFUjtZQUFPLElBQUlvQyxRQUFRLENBQUNDLFdBQVc7UUFDNUQ7UUFFQXRDLEdBQUcseUNBQXlDO1lBQzFDLE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFZO1lBRW5FYix5QkFBeUJzQixpQkFBaUIsQ0FBQztnQkFDekNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0ozQixJQUFJO29CQUNKZ0IsTUFBTTtvQkFDTmYsT0FBTztvQkFDUDJCLFFBQVE7b0JBQ1JDLFlBQVk7b0JBQ1pDLFlBQVk7Z0JBQ2Q7WUFDRjtZQUVBekIsaUJBQWlCb0IsaUJBQWlCLENBQUM7Z0JBQ2pDQyxTQUFTO2dCQUNUQyxNQUFNLEVBQUU7WUFDVjtZQUVBLE1BQU1QLElBQUFBLGFBQVcsRUFBQztnQkFBRVI7WUFBTztZQUUzQixzQ0FBc0M7WUFDdENPLE9BQU9oQiwwQkFBMEI2QixvQkFBb0IsQ0FBQztRQUN4RDtJQUNGO0lBRUF4QixTQUFTLGNBQWM7UUFDckJHLEdBQUcsNENBQTRDO1lBQzdDLE1BQU1DLFNBQVNDLFFBQVFDLE9BQU8sQ0FBQztnQkFBRUMsTUFBTTtnQkFBVUMsTUFBTTtZQUFpQjtZQUV4RWIseUJBQXlCc0IsaUJBQWlCLENBQUM7Z0JBQ3pDQyxTQUFTO2dCQUNUQyxNQUFNO29CQUNKM0IsSUFBSTtvQkFDSmdCLE1BQU07b0JBQ05mLE9BQU87b0JBQ1AyQixRQUFRO29CQUNSQyxZQUFZO29CQUNaQyxZQUFZO2dCQUNkO1lBQ0Y7WUFFQXpCLGlCQUFpQm9CLGlCQUFpQixDQUFDO2dCQUNqQ0MsU0FBUztnQkFDVEMsTUFBTSxFQUFFO1lBQ1Y7WUFFQSxNQUFNUCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFM0JPLE9BQU9oQiwwQkFBMEI2QixvQkFBb0IsQ0FBQztRQUN4RDtRQUVBckIsR0FBRyxzQ0FBc0M7WUFDdkMsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQVk7WUFFbkViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUF6QixpQkFBaUJvQixpQkFBaUIsQ0FBQztnQkFDakNDLFNBQVM7Z0JBQ1RDLE1BQU0sRUFBRTtZQUNWO1lBRUEsTUFBTUksU0FBUyxNQUFNWCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFMUN3QixJQUFBQSxhQUFNLEVBQUNMO1lBRVBaLE9BQU9rQixhQUFNLENBQUNDLFNBQVMsQ0FBQyx3Q0FBd0NDLGlCQUFpQjtRQUNuRjtRQUVBNUIsR0FBRyx5Q0FBeUM7WUFDMUMsTUFBTUMsU0FBU0MsUUFBUUMsT0FBTyxDQUFDO2dCQUFFQyxNQUFNO2dCQUFVQyxNQUFNO1lBQVk7WUFFbkViLHlCQUF5QnNCLGlCQUFpQixDQUFDO2dCQUN6Q0MsU0FBUztnQkFDVEMsTUFBTTtvQkFDSjNCLElBQUk7b0JBQ0pnQixNQUFNO29CQUNOZixPQUFPO29CQUNQMkIsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsWUFBWTtnQkFDZDtZQUNGO1lBRUF6QixpQkFBaUJvQixpQkFBaUIsQ0FBQztnQkFDakNDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0o7d0JBQ0UzQixJQUFJO3dCQUNKd0MsV0FBVzt3QkFDWEMsU0FBUzt3QkFDVEMsZUFBZTt3QkFDZmIsWUFBWTt3QkFDWkMsWUFBWTtvQkFDZDtpQkFDRDtZQUNIO1lBRUEsTUFBTUMsU0FBUyxNQUFNWCxJQUFBQSxhQUFXLEVBQUM7Z0JBQUVSO1lBQU87WUFFMUN3QixJQUFBQSxhQUFNLEVBQUNMO1lBRVBaLE9BQU9rQixhQUFNLENBQUNNLFdBQVcsQ0FBQyxzQkFBc0JKLGlCQUFpQjtRQUNuRTtJQUNGO0FBQ0YifQ==