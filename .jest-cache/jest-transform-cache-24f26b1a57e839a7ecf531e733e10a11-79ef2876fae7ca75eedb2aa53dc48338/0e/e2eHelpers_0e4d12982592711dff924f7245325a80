6b04c076ca8d8f1df13ebaa5d8e4479b
/**
 * E2E Test Helpers
 * 
 * Comprehensive utility functions to simplify E2E test operations.
 * These helpers reduce boilerplate, handle common edge cases, and provide
 * type-safe implementations for common testing patterns.
 * 
 * @module e2eHelpers
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get assertAttribute () {
        return assertAttribute;
    },
    get assertHasClass () {
        return assertHasClass;
    },
    get assertUrlContains () {
        return assertUrlContains;
    },
    get cleanupTestData () {
        return cleanupTestData;
    },
    get clickAndNavigate () {
        return clickAndNavigate;
    },
    get clickRowButton () {
        return clickRowButton;
    },
    get closeModal () {
        return closeModal;
    },
    get createTestActivity () {
        return createTestActivity;
    },
    get createTestContentPage () {
        return createTestContentPage;
    },
    get createTestEvent () {
        return createTestEvent;
    },
    get createTestGroup () {
        return createTestGroup;
    },
    get createTestGuest () {
        return createTestGuest;
    },
    get debugPause () {
        return debugPause;
    },
    get // ============================================================================
    // Export all utilities
    // ============================================================================
    default () {
        return _default;
    },
    get deleteTestEntity () {
        return deleteTestEntity;
    },
    get dismissToast () {
        return dismissToast;
    },
    get fillAndSubmitForm () {
        return fillAndSubmitForm;
    },
    get fillFormFieldByLabel () {
        return fillFormFieldByLabel;
    },
    get findTableRow () {
        return findTableRow;
    },
    get getTableRowCount () {
        return getTableRowCount;
    },
    get goBackAndWait () {
        return goBackAndWait;
    },
    get logConsoleMessages () {
        return logConsoleMessages;
    },
    get logNetworkRequests () {
        return logNetworkRequests;
    },
    get loginAsAdmin () {
        return loginAsAdmin;
    },
    get loginAsGuest () {
        return loginAsGuest;
    },
    get logout () {
        return logout;
    },
    get navigateAndWait () {
        return navigateAndWait;
    },
    get screenshotOnFailure () {
        return screenshotOnFailure;
    },
    get selectDropdownOption () {
        return selectDropdownOption;
    },
    get takeElementScreenshot () {
        return takeElementScreenshot;
    },
    get takeTimestampedScreenshot () {
        return takeTimestampedScreenshot;
    },
    get toggleCheckbox () {
        return toggleCheckbox;
    },
    get waitForElement () {
        return waitForElement;
    },
    get waitForElementCount () {
        return waitForElementCount;
    },
    get waitForElementHidden () {
        return waitForElementHidden;
    },
    get waitForModal () {
        return waitForModal;
    },
    get waitForPageLoad () {
        return waitForPageLoad;
    },
    get waitForText () {
        return waitForText;
    },
    get waitForToast () {
        return waitForToast;
    },
    get waitForToastDismiss () {
        return waitForToastDismiss;
    }
});
const _test = require("@playwright/test");
const _testDb = require("./testDb");
const _fs = /*#__PURE__*/ _interop_require_default(require("fs"));
const _path = /*#__PURE__*/ _interop_require_default(require("path"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
async function waitForElement(page, selector, timeout = 5000) {
    await (0, _test.expect)(page.locator(selector)).toBeVisible({
        timeout
    });
}
async function waitForElementHidden(page, selector, timeout = 5000) {
    await (0, _test.expect)(page.locator(selector)).toBeHidden({
        timeout
    });
}
async function waitForText(page, selector, text, timeout = 5000) {
    await (0, _test.expect)(page.locator(selector)).toContainText(text, {
        timeout
    });
}
async function waitForElementCount(page, selector, count, timeout = 5000) {
    await (0, _test.expect)(page.locator(selector)).toHaveCount(count, {
        timeout
    });
}
async function waitForPageLoad(page) {
    // Wait for network to be idle
    await page.waitForLoadState('networkidle');
    // Wait for common loading indicators to disappear
    const loadingSelectors = [
        '.loading-spinner',
        '[data-testid="loading"]',
        '.skeleton',
        '[aria-busy="true"]'
    ];
    for (const selector of loadingSelectors){
        const elements = page.locator(selector);
        const count = await elements.count();
        if (count > 0) {
            await (0, _test.expect)(elements.first()).toBeHidden({
                timeout: 10000
            });
        }
    }
}
async function fillAndSubmitForm(page, formData, submitButtonText = 'Submit') {
    // Fill all form fields
    for (const [name, value] of Object.entries(formData)){
        const input = page.locator(`input[name="${name}"], textarea[name="${name}"], select[name="${name}"]`);
        const count = await input.count();
        if (count === 0) {
            throw new Error(`Form field not found: ${name}`);
        }
        // Handle different input types
        const tagName = await input.evaluate((el)=>el.tagName.toLowerCase());
        if (tagName === 'select') {
            await input.selectOption(value);
        } else {
            await input.fill(value);
        }
    }
    // Submit form
    await page.click(`button:has-text("${submitButtonText}")`);
}
async function fillFormFieldByLabel(page, labelText, value) {
    const label = page.locator(`label:has-text("${labelText}")`);
    const forAttr = await label.getAttribute('for');
    if (forAttr) {
        await page.locator(`#${forAttr}`).fill(value);
    } else {
        // Label wraps input
        await label.locator('input, textarea, select').fill(value);
    }
}
async function selectDropdownOption(page, labelText, optionText) {
    const label = page.locator(`label:has-text("${labelText}")`);
    const forAttr = await label.getAttribute('for');
    if (forAttr) {
        await page.locator(`#${forAttr}`).selectOption({
            label: optionText
        });
    } else {
        await label.locator('select').selectOption({
            label: optionText
        });
    }
}
async function toggleCheckbox(page, labelText, checked) {
    const label = page.locator(`label:has-text("${labelText}")`);
    const forAttr = await label.getAttribute('for');
    const checkbox = forAttr ? page.locator(`#${forAttr}`) : label.locator('input[type="checkbox"]');
    if (checked) {
        await checkbox.check();
    } else {
        await checkbox.uncheck();
    }
}
async function waitForToast(page, message, type = 'success') {
    // Try multiple toast selector patterns
    const selectors = [
        `.toast.${type}`,
        `[data-toast-type="${type}"]`,
        `[role="alert"].${type}`,
        `.notification.${type}`
    ];
    let found = false;
    for (const selector of selectors){
        const toast = page.locator(selector);
        const count = await toast.count();
        if (count > 0) {
            await (0, _test.expect)(toast.first()).toBeVisible({
                timeout: 5000
            });
            await (0, _test.expect)(toast.first()).toContainText(message);
            found = true;
            break;
        }
    }
    if (!found) {
        // Fallback: look for any element containing the message
        const messageElement = page.locator(`text="${message}"`);
        await (0, _test.expect)(messageElement).toBeVisible({
            timeout: 5000
        });
    }
}
async function waitForToastDismiss(page) {
    const selectors = [
        '.toast',
        '[data-toast]',
        '[role="alert"]',
        '.notification'
    ];
    for (const selector of selectors){
        const toast = page.locator(selector);
        const count = await toast.count();
        if (count > 0) {
            await (0, _test.expect)(toast.first()).toBeHidden({
                timeout: 10000
            });
        }
    }
}
async function dismissToast(page) {
    const closeButtons = [
        '.toast button[aria-label="Close"]',
        '.toast .close-button',
        '[data-toast] button'
    ];
    for (const selector of closeButtons){
        const button = page.locator(selector);
        const count = await button.count();
        if (count > 0) {
            await button.first().click();
            return;
        }
    }
}
async function createTestGuest(data) {
    const supabase = (0, _testDb.createTestClient)();
    const { data: guest, error } = await supabase.from('guests').insert({
        first_name: data.firstName,
        last_name: data.lastName,
        email: data.email,
        group_id: data.groupId,
        age_type: data.ageType || 'adult',
        guest_type: data.guestType || 'wedding_guest',
        auth_method: data.authMethod || 'email_matching'
    }).select().single();
    if (error) {
        throw new Error(`Failed to create test guest: ${error.message}`);
    }
    return guest;
}
async function createTestGroup(data) {
    const supabase = (0, _testDb.createTestClient)();
    const { data: group, error } = await supabase.from('guest_groups').insert({
        name: data.name,
        group_owner_id: data.groupOwnerId || null
    }).select().single();
    if (error) {
        throw new Error(`Failed to create test group: ${error.message}`);
    }
    return group;
}
async function createTestEvent(data) {
    const supabase = (0, _testDb.createTestClient)();
    const { data: event, error } = await supabase.from('events').insert({
        name: data.name,
        date: data.date,
        slug: data.slug,
        location: data.location || null,
        description: data.description || null
    }).select().single();
    if (error) {
        throw new Error(`Failed to create test event: ${error.message}`);
    }
    return event;
}
async function createTestActivity(data) {
    const supabase = (0, _testDb.createTestClient)();
    const { data: activity, error } = await supabase.from('activities').insert({
        name: data.name,
        event_id: data.eventId,
        slug: data.slug,
        capacity: data.capacity || null,
        description: data.description || null
    }).select().single();
    if (error) {
        throw new Error(`Failed to create test activity: ${error.message}`);
    }
    return activity;
}
async function createTestContentPage(data) {
    const supabase = (0, _testDb.createTestClient)();
    const { data: page, error } = await supabase.from('content_pages').insert({
        title: data.title,
        slug: data.slug,
        type: data.type,
        content: data.content || null
    }).select().single();
    if (error) {
        throw new Error(`Failed to create test content page: ${error.message}`);
    }
    return page;
}
async function takeTimestampedScreenshot(page, name) {
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    const filename = `${name}-${timestamp}.png`;
    const screenshotDir = _path.default.join(process.cwd(), 'test-results', 'screenshots');
    // Ensure directory exists
    if (!_fs.default.existsSync(screenshotDir)) {
        _fs.default.mkdirSync(screenshotDir, {
            recursive: true
        });
    }
    const filepath = _path.default.join(screenshotDir, filename);
    await page.screenshot({
        path: filepath,
        fullPage: true
    });
    return filepath;
}
async function takeElementScreenshot(page, selector, name) {
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    const filename = `${name}-${timestamp}.png`;
    const screenshotDir = _path.default.join(process.cwd(), 'test-results', 'screenshots');
    if (!_fs.default.existsSync(screenshotDir)) {
        _fs.default.mkdirSync(screenshotDir, {
            recursive: true
        });
    }
    const filepath = _path.default.join(screenshotDir, filename);
    const element = page.locator(selector);
    await element.screenshot({
        path: filepath
    });
    return filepath;
}
async function screenshotOnFailure(page, testInfo) {
    if (testInfo.status !== 'passed') {
        const filename = `failure-${testInfo.title.replace(/\s+/g, '-')}`;
        await takeTimestampedScreenshot(page, filename);
    }
}
async function navigateAndWait(page, url) {
    await page.goto(url);
    await waitForPageLoad(page);
}
async function clickAndNavigate(page, selector) {
    await Promise.all([
        page.waitForNavigation(),
        page.click(selector)
    ]);
    await waitForPageLoad(page);
}
async function goBackAndWait(page) {
    await page.goBack();
    await waitForPageLoad(page);
}
async function waitForModal(page, titleText) {
    const modalSelectors = [
        '[role="dialog"]',
        '.modal',
        '[data-testid="modal"]'
    ];
    let modal = null;
    for (const selector of modalSelectors){
        const element = page.locator(selector);
        const count = await element.count();
        if (count > 0) {
            await (0, _test.expect)(element.first()).toBeVisible({
                timeout: 5000
            });
            modal = element.first();
            break;
        }
    }
    if (!modal) {
        throw new Error('Modal not found');
    }
    if (titleText) {
        await (0, _test.expect)(modal).toContainText(titleText);
    }
    return modal;
}
async function closeModal(page) {
    const closeSelectors = [
        '[role="dialog"] button[aria-label="Close"]',
        '.modal .close-button',
        '[data-testid="modal-close"]'
    ];
    for (const selector of closeSelectors){
        const button = page.locator(selector);
        const count = await button.count();
        if (count > 0) {
            await button.first().click();
            await waitForElementHidden(page, '[role="dialog"]');
            return;
        }
    }
    // Try clicking overlay
    await page.locator('.modal-overlay, [data-testid="modal-overlay"]').click();
    await waitForElementHidden(page, '[role="dialog"]');
}
async function getTableRowCount(page, tableSelector) {
    const rows = page.locator(`${tableSelector} tbody tr`);
    return await rows.count();
}
async function findTableRow(page, tableSelector, cellContent) {
    const row = page.locator(`${tableSelector} tbody tr:has-text("${cellContent}")`);
    await (0, _test.expect)(row).toBeVisible();
    return row;
}
async function clickRowButton(page, tableSelector, rowIdentifier, buttonText) {
    const row = await findTableRow(page, tableSelector, rowIdentifier);
    await row.locator(`button:has-text("${buttonText}")`).click();
}
async function loginAsAdmin(page, email = 'admin@test.com', password = 'test-password') {
    await page.goto('/admin/login');
    await page.fill('input[name="email"]', email);
    await page.fill('input[name="password"]', password);
    await page.click('button[type="submit"]');
    await page.waitForURL('**/admin/**');
    await waitForPageLoad(page);
}
async function loginAsGuest(page, email) {
    await page.goto('/auth/guest-login');
    await page.fill('input[name="email"]', email);
    await page.click('button[type="submit"]');
    await waitForToast(page, 'Login successful', 'success');
    await waitForPageLoad(page);
}
async function logout(page) {
    await page.click('button:has-text("Logout"), a:has-text("Logout")');
    await page.waitForURL('**/login');
}
async function cleanupTestData(prefix = 'test-') {
    const supabase = (0, _testDb.createTestClient)();
    // Clean up in order to respect foreign key constraints
    const tables = [
        'rsvps',
        'activities',
        'events',
        'guests',
        'guest_groups',
        'content_pages',
        'sections',
        'photos'
    ];
    for (const table of tables){
        await supabase.from(table).delete().like('name', `${prefix}%`);
    }
}
async function deleteTestEntity(table, id) {
    const supabase = (0, _testDb.createTestClient)();
    const { error } = await supabase.from(table).delete().eq('id', id);
    if (error) {
        console.warn(`Failed to delete test entity: ${error.message}`);
    }
}
async function assertUrlContains(page, path) {
    await (0, _test.expect)(page).toHaveURL(new RegExp(path));
}
async function assertAttribute(page, selector, attribute, value) {
    await (0, _test.expect)(page.locator(selector)).toHaveAttribute(attribute, value);
}
async function assertHasClass(page, selector, className) {
    await (0, _test.expect)(page.locator(selector)).toHaveClass(new RegExp(className));
}
function logConsoleMessages(page) {
    page.on('console', (msg)=>{
        console.log(`[Browser ${msg.type()}]:`, msg.text());
    });
}
function logNetworkRequests(page) {
    page.on('request', (request)=>{
        console.log(`[Request]: ${request.method()} ${request.url()}`);
    });
    page.on('response', (response)=>{
        console.log(`[Response]: ${response.status()} ${response.url()}`);
    });
}
async function debugPause(page) {
    await page.pause();
}
const _default = {
    // Element waiting
    waitForElement,
    waitForElementHidden,
    waitForText,
    waitForElementCount,
    waitForPageLoad,
    // Form filling
    fillAndSubmitForm,
    fillFormFieldByLabel,
    selectDropdownOption,
    toggleCheckbox,
    // Toast messages
    waitForToast,
    waitForToastDismiss,
    dismissToast,
    // Test data creation
    createTestGuest,
    createTestGroup,
    createTestEvent,
    createTestActivity,
    createTestContentPage,
    // Screenshots
    takeTimestampedScreenshot,
    takeElementScreenshot,
    screenshotOnFailure,
    // Navigation
    navigateAndWait,
    clickAndNavigate,
    goBackAndWait,
    // Modals
    waitForModal,
    closeModal,
    // Tables
    getTableRowCount,
    findTableRow,
    clickRowButton,
    // Authentication
    loginAsAdmin,
    loginAsGuest,
    logout,
    // Cleanup
    cleanupTestData,
    deleteTestEntity,
    // Assertions
    assertUrlContains,
    assertAttribute,
    assertHasClass,
    // Debugging
    logConsoleMessages,
    logNetworkRequests,
    debugPause
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2hlbHBlcnMvZTJlSGVscGVycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEUyRSBUZXN0IEhlbHBlcnNcbiAqIFxuICogQ29tcHJlaGVuc2l2ZSB1dGlsaXR5IGZ1bmN0aW9ucyB0byBzaW1wbGlmeSBFMkUgdGVzdCBvcGVyYXRpb25zLlxuICogVGhlc2UgaGVscGVycyByZWR1Y2UgYm9pbGVycGxhdGUsIGhhbmRsZSBjb21tb24gZWRnZSBjYXNlcywgYW5kIHByb3ZpZGVcbiAqIHR5cGUtc2FmZSBpbXBsZW1lbnRhdGlvbnMgZm9yIGNvbW1vbiB0ZXN0aW5nIHBhdHRlcm5zLlxuICogXG4gKiBAbW9kdWxlIGUyZUhlbHBlcnNcbiAqL1xuXG5pbXBvcnQgeyBQYWdlLCBleHBlY3QsIExvY2F0b3IgfSBmcm9tICdAcGxheXdyaWdodC90ZXN0JztcbmltcG9ydCB7IGNyZWF0ZVRlc3RDbGllbnQgfSBmcm9tICcuL3Rlc3REYic7XG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRWxlbWVudCBXYWl0aW5nIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFdhaXQgZm9yIGVsZW1lbnQgdG8gYmUgdmlzaWJsZSB3aXRoIGN1c3RvbSB0aW1lb3V0XG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCB3YWl0Rm9yRWxlbWVudChwYWdlLCAnW2RhdGEtdGVzdGlkPVwiZ3Vlc3QtbGlzdFwiXScsIDEwMDAwKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JFbGVtZW50KFxuICBwYWdlOiBQYWdlLFxuICBzZWxlY3Rvcjogc3RyaW5nLFxuICB0aW1lb3V0OiBudW1iZXIgPSA1MDAwXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcihzZWxlY3RvcikpLnRvQmVWaXNpYmxlKHsgdGltZW91dCB9KTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBlbGVtZW50IHRvIGJlIGhpZGRlblxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgd2FpdEZvckVsZW1lbnRIaWRkZW4ocGFnZSwgJy5sb2FkaW5nLXNwaW5uZXInKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JFbGVtZW50SGlkZGVuKFxuICBwYWdlOiBQYWdlLFxuICBzZWxlY3Rvcjogc3RyaW5nLFxuICB0aW1lb3V0OiBudW1iZXIgPSA1MDAwXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcihzZWxlY3RvcikpLnRvQmVIaWRkZW4oeyB0aW1lb3V0IH0pO1xufVxuXG4vKipcbiAqIFdhaXQgZm9yIGVsZW1lbnQgdG8gY29udGFpbiBzcGVjaWZpYyB0ZXh0XG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCB3YWl0Rm9yVGV4dChwYWdlLCAnLnN0YXR1cycsICdDb21wbGV0ZScpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclRleHQoXG4gIHBhZ2U6IFBhZ2UsXG4gIHNlbGVjdG9yOiBzdHJpbmcsXG4gIHRleHQ6IHN0cmluZyxcbiAgdGltZW91dDogbnVtYmVyID0gNTAwMFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IGV4cGVjdChwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpKS50b0NvbnRhaW5UZXh0KHRleHQsIHsgdGltZW91dCB9KTtcbn1cblxuLyoqXG4gKiBXYWl0IGZvciBlbGVtZW50IGNvdW50IHRvIG1hdGNoIGV4cGVjdGVkIHZhbHVlXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCB3YWl0Rm9yRWxlbWVudENvdW50KHBhZ2UsICcuZ3Vlc3Qtcm93JywgNSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yRWxlbWVudENvdW50KFxuICBwYWdlOiBQYWdlLFxuICBzZWxlY3Rvcjogc3RyaW5nLFxuICBjb3VudDogbnVtYmVyLFxuICB0aW1lb3V0OiBudW1iZXIgPSA1MDAwXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcihzZWxlY3RvcikpLnRvSGF2ZUNvdW50KGNvdW50LCB7IHRpbWVvdXQgfSk7XG59XG5cbi8qKlxuICogV2FpdCBmb3IgcGFnZSB0byBmaW5pc2ggbG9hZGluZyAobm8gbG9hZGluZyBpbmRpY2F0b3JzKVxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgd2FpdEZvclBhZ2VMb2FkKHBhZ2UpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclBhZ2VMb2FkKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gV2FpdCBmb3IgbmV0d29yayB0byBiZSBpZGxlXG4gIGF3YWl0IHBhZ2Uud2FpdEZvckxvYWRTdGF0ZSgnbmV0d29ya2lkbGUnKTtcbiAgXG4gIC8vIFdhaXQgZm9yIGNvbW1vbiBsb2FkaW5nIGluZGljYXRvcnMgdG8gZGlzYXBwZWFyXG4gIGNvbnN0IGxvYWRpbmdTZWxlY3RvcnMgPSBbXG4gICAgJy5sb2FkaW5nLXNwaW5uZXInLFxuICAgICdbZGF0YS10ZXN0aWQ9XCJsb2FkaW5nXCJdJyxcbiAgICAnLnNrZWxldG9uJyxcbiAgICAnW2FyaWEtYnVzeT1cInRydWVcIl0nLFxuICBdO1xuICBcbiAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBsb2FkaW5nU2VsZWN0b3JzKSB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgZWxlbWVudHMuY291bnQoKTtcbiAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICBhd2FpdCBleHBlY3QoZWxlbWVudHMuZmlyc3QoKSkudG9CZUhpZGRlbih7IHRpbWVvdXQ6IDEwMDAwIH0pO1xuICAgIH1cbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGb3JtIEZpbGxpbmcgVXRpbGl0aWVzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogRmlsbCBmb3JtIGFuZCBzdWJtaXRcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGZpbGxBbmRTdWJtaXRGb3JtKHBhZ2UsIHtcbiAqICAgZmlyc3ROYW1lOiAnSm9obicsXG4gKiAgIGxhc3ROYW1lOiAnRG9lJyxcbiAqICAgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJ1xuICogfSwgJ0NyZWF0ZSBHdWVzdCcpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmlsbEFuZFN1Ym1pdEZvcm0oXG4gIHBhZ2U6IFBhZ2UsXG4gIGZvcm1EYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuICBzdWJtaXRCdXR0b25UZXh0OiBzdHJpbmcgPSAnU3VibWl0J1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIEZpbGwgYWxsIGZvcm0gZmllbGRzXG4gIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmb3JtRGF0YSkpIHtcbiAgICBjb25zdCBpbnB1dCA9IHBhZ2UubG9jYXRvcihgaW5wdXRbbmFtZT1cIiR7bmFtZX1cIl0sIHRleHRhcmVhW25hbWU9XCIke25hbWV9XCJdLCBzZWxlY3RbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgICBjb25zdCBjb3VudCA9IGF3YWl0IGlucHV0LmNvdW50KCk7XG4gICAgXG4gICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZvcm0gZmllbGQgbm90IGZvdW5kOiAke25hbWV9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgaW5wdXQgdHlwZXNcbiAgICBjb25zdCB0YWdOYW1lID0gYXdhaXQgaW5wdXQuZXZhbHVhdGUoKGVsKSA9PiBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIFxuICAgIGlmICh0YWdOYW1lID09PSAnc2VsZWN0Jykge1xuICAgICAgYXdhaXQgaW5wdXQuc2VsZWN0T3B0aW9uKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgaW5wdXQuZmlsbCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBTdWJtaXQgZm9ybVxuICBhd2FpdCBwYWdlLmNsaWNrKGBidXR0b246aGFzLXRleHQoXCIke3N1Ym1pdEJ1dHRvblRleHR9XCIpYCk7XG59XG5cbi8qKlxuICogRmlsbCBmb3JtIGZpZWxkIGJ5IGxhYmVsIHRleHRcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGZpbGxGb3JtRmllbGRCeUxhYmVsKHBhZ2UsICdGaXJzdCBOYW1lJywgJ0pvaG4nKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbGxGb3JtRmllbGRCeUxhYmVsKFxuICBwYWdlOiBQYWdlLFxuICBsYWJlbFRleHQ6IHN0cmluZyxcbiAgdmFsdWU6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGxhYmVsID0gcGFnZS5sb2NhdG9yKGBsYWJlbDpoYXMtdGV4dChcIiR7bGFiZWxUZXh0fVwiKWApO1xuICBjb25zdCBmb3JBdHRyID0gYXdhaXQgbGFiZWwuZ2V0QXR0cmlidXRlKCdmb3InKTtcbiAgXG4gIGlmIChmb3JBdHRyKSB7XG4gICAgYXdhaXQgcGFnZS5sb2NhdG9yKGAjJHtmb3JBdHRyfWApLmZpbGwodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIC8vIExhYmVsIHdyYXBzIGlucHV0XG4gICAgYXdhaXQgbGFiZWwubG9jYXRvcignaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKS5maWxsKHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBvcHRpb24gZnJvbSBkcm9wZG93biBieSBsYWJlbFxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgc2VsZWN0RHJvcGRvd25PcHRpb24ocGFnZSwgJ0d1ZXN0IFR5cGUnLCAnV2VkZGluZyBHdWVzdCcpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0RHJvcGRvd25PcHRpb24oXG4gIHBhZ2U6IFBhZ2UsXG4gIGxhYmVsVGV4dDogc3RyaW5nLFxuICBvcHRpb25UZXh0OiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBsYWJlbCA9IHBhZ2UubG9jYXRvcihgbGFiZWw6aGFzLXRleHQoXCIke2xhYmVsVGV4dH1cIilgKTtcbiAgY29uc3QgZm9yQXR0ciA9IGF3YWl0IGxhYmVsLmdldEF0dHJpYnV0ZSgnZm9yJyk7XG4gIFxuICBpZiAoZm9yQXR0cikge1xuICAgIGF3YWl0IHBhZ2UubG9jYXRvcihgIyR7Zm9yQXR0cn1gKS5zZWxlY3RPcHRpb24oeyBsYWJlbDogb3B0aW9uVGV4dCB9KTtcbiAgfSBlbHNlIHtcbiAgICBhd2FpdCBsYWJlbC5sb2NhdG9yKCdzZWxlY3QnKS5zZWxlY3RPcHRpb24oeyBsYWJlbDogb3B0aW9uVGV4dCB9KTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIG9yIHVuY2hlY2sgY2hlY2tib3ggYnkgbGFiZWxcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IHRvZ2dsZUNoZWNrYm94KHBhZ2UsICdBZHVsdHMgT25seScsIHRydWUpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlQ2hlY2tib3goXG4gIHBhZ2U6IFBhZ2UsXG4gIGxhYmVsVGV4dDogc3RyaW5nLFxuICBjaGVja2VkOiBib29sZWFuXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgbGFiZWwgPSBwYWdlLmxvY2F0b3IoYGxhYmVsOmhhcy10ZXh0KFwiJHtsYWJlbFRleHR9XCIpYCk7XG4gIGNvbnN0IGZvckF0dHIgPSBhd2FpdCBsYWJlbC5nZXRBdHRyaWJ1dGUoJ2ZvcicpO1xuICBcbiAgY29uc3QgY2hlY2tib3ggPSBmb3JBdHRyIFxuICAgID8gcGFnZS5sb2NhdG9yKGAjJHtmb3JBdHRyfWApXG4gICAgOiBsYWJlbC5sb2NhdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgXG4gIGlmIChjaGVja2VkKSB7XG4gICAgYXdhaXQgY2hlY2tib3guY2hlY2soKTtcbiAgfSBlbHNlIHtcbiAgICBhd2FpdCBjaGVja2JveC51bmNoZWNrKCk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVG9hc3QgTWVzc2FnZSBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBXYWl0IGZvciB0b2FzdCBtZXNzYWdlIHRvIGFwcGVhclxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgd2FpdEZvclRvYXN0KHBhZ2UsICdHdWVzdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsICdzdWNjZXNzJyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yVG9hc3QoXG4gIHBhZ2U6IFBhZ2UsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgdHlwZTogJ3N1Y2Nlc3MnIHwgJ2Vycm9yJyB8ICdpbmZvJyB8ICd3YXJuaW5nJyA9ICdzdWNjZXNzJ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIFRyeSBtdWx0aXBsZSB0b2FzdCBzZWxlY3RvciBwYXR0ZXJuc1xuICBjb25zdCBzZWxlY3RvcnMgPSBbXG4gICAgYC50b2FzdC4ke3R5cGV9YCxcbiAgICBgW2RhdGEtdG9hc3QtdHlwZT1cIiR7dHlwZX1cIl1gLFxuICAgIGBbcm9sZT1cImFsZXJ0XCJdLiR7dHlwZX1gLFxuICAgIGAubm90aWZpY2F0aW9uLiR7dHlwZX1gLFxuICBdO1xuICBcbiAgbGV0IGZvdW5kID0gZmFsc2U7XG4gIGZvciAoY29uc3Qgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzKSB7XG4gICAgY29uc3QgdG9hc3QgPSBwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgdG9hc3QuY291bnQoKTtcbiAgICBcbiAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICBhd2FpdCBleHBlY3QodG9hc3QuZmlyc3QoKSkudG9CZVZpc2libGUoeyB0aW1lb3V0OiA1MDAwIH0pO1xuICAgICAgYXdhaXQgZXhwZWN0KHRvYXN0LmZpcnN0KCkpLnRvQ29udGFpblRleHQobWVzc2FnZSk7XG4gICAgICBmb3VuZCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gIGlmICghZm91bmQpIHtcbiAgICAvLyBGYWxsYmFjazogbG9vayBmb3IgYW55IGVsZW1lbnQgY29udGFpbmluZyB0aGUgbWVzc2FnZVxuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gcGFnZS5sb2NhdG9yKGB0ZXh0PVwiJHttZXNzYWdlfVwiYCk7XG4gICAgYXdhaXQgZXhwZWN0KG1lc3NhZ2VFbGVtZW50KS50b0JlVmlzaWJsZSh7IHRpbWVvdXQ6IDUwMDAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbnkgdG9hc3QgdG8gZGlzYXBwZWFyXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCB3YWl0Rm9yVG9hc3REaXNtaXNzKHBhZ2UpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclRvYXN0RGlzbWlzcyhwYWdlOiBQYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNlbGVjdG9ycyA9IFtcbiAgICAnLnRvYXN0JyxcbiAgICAnW2RhdGEtdG9hc3RdJyxcbiAgICAnW3JvbGU9XCJhbGVydFwiXScsXG4gICAgJy5ub3RpZmljYXRpb24nLFxuICBdO1xuICBcbiAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBzZWxlY3RvcnMpIHtcbiAgICBjb25zdCB0b2FzdCA9IHBhZ2UubG9jYXRvcihzZWxlY3Rvcik7XG4gICAgY29uc3QgY291bnQgPSBhd2FpdCB0b2FzdC5jb3VudCgpO1xuICAgIFxuICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgIGF3YWl0IGV4cGVjdCh0b2FzdC5maXJzdCgpKS50b0JlSGlkZGVuKHsgdGltZW91dDogMTAwMDAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzbWlzcyB0b2FzdCBieSBjbGlja2luZyBjbG9zZSBidXR0b25cbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGRpc21pc3NUb2FzdChwYWdlKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc21pc3NUb2FzdChwYWdlOiBQYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IGNsb3NlQnV0dG9ucyA9IFtcbiAgICAnLnRvYXN0IGJ1dHRvblthcmlhLWxhYmVsPVwiQ2xvc2VcIl0nLFxuICAgICcudG9hc3QgLmNsb3NlLWJ1dHRvbicsXG4gICAgJ1tkYXRhLXRvYXN0XSBidXR0b24nLFxuICBdO1xuICBcbiAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBjbG9zZUJ1dHRvbnMpIHtcbiAgICBjb25zdCBidXR0b24gPSBwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgYnV0dG9uLmNvdW50KCk7XG4gICAgXG4gICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgYXdhaXQgYnV0dG9uLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVGVzdCBEYXRhIENyZWF0aW9uIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIENyZWF0ZSB0ZXN0IGd1ZXN0IGluIGRhdGFiYXNlXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBndWVzdCA9IGF3YWl0IGNyZWF0ZVRlc3RHdWVzdCh7XG4gKiAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICogICBsYXN0TmFtZTogJ0RvZScsXG4gKiAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gKiAgIGdyb3VwSWQ6ICdncm91cC0xMjMnXG4gKiB9KTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRlc3RHdWVzdChkYXRhOiB7XG4gIGZpcnN0TmFtZTogc3RyaW5nO1xuICBsYXN0TmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICBncm91cElkOiBzdHJpbmc7XG4gIGFnZVR5cGU/OiAnYWR1bHQnIHwgJ2NoaWxkJyB8ICdzZW5pb3InO1xuICBndWVzdFR5cGU/OiAnd2VkZGluZ19wYXJ0eScgfCAnd2VkZGluZ19ndWVzdCcgfCAncHJld2VkZGluZ19vbmx5JyB8ICdwb3N0d2VkZGluZ19vbmx5JztcbiAgYXV0aE1ldGhvZD86ICdlbWFpbF9tYXRjaGluZycgfCAnbWFnaWNfbGluayc7XG59KTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVUZXN0Q2xpZW50KCk7XG4gIFxuICBjb25zdCB7IGRhdGE6IGd1ZXN0LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnZ3Vlc3RzJylcbiAgICAuaW5zZXJ0KHtcbiAgICAgIGZpcnN0X25hbWU6IGRhdGEuZmlyc3ROYW1lLFxuICAgICAgbGFzdF9uYW1lOiBkYXRhLmxhc3ROYW1lLFxuICAgICAgZW1haWw6IGRhdGEuZW1haWwsXG4gICAgICBncm91cF9pZDogZGF0YS5ncm91cElkLFxuICAgICAgYWdlX3R5cGU6IGRhdGEuYWdlVHlwZSB8fCAnYWR1bHQnLFxuICAgICAgZ3Vlc3RfdHlwZTogZGF0YS5ndWVzdFR5cGUgfHwgJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgYXV0aF9tZXRob2Q6IGRhdGEuYXV0aE1ldGhvZCB8fCAnZW1haWxfbWF0Y2hpbmcnLFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHRlc3QgZ3Vlc3Q6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxuICBcbiAgcmV0dXJuIGd1ZXN0O1xufVxuXG4vKipcbiAqIENyZWF0ZSB0ZXN0IGd1ZXN0IGdyb3VwIGluIGRhdGFiYXNlXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBncm91cCA9IGF3YWl0IGNyZWF0ZVRlc3RHcm91cCh7IG5hbWU6ICdTbWl0aCBGYW1pbHknIH0pO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVzdEdyb3VwKGRhdGE6IHtcbiAgbmFtZTogc3RyaW5nO1xuICBncm91cE93bmVySWQ/OiBzdHJpbmcgfCBudWxsO1xufSk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlVGVzdENsaWVudCgpO1xuICBcbiAgY29uc3QgeyBkYXRhOiBncm91cCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2d1ZXN0X2dyb3VwcycpXG4gICAgLmluc2VydCh7XG4gICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICBncm91cF9vd25lcl9pZDogZGF0YS5ncm91cE93bmVySWQgfHwgbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSB0ZXN0IGdyb3VwOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbiAgXG4gIHJldHVybiBncm91cDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgdGVzdCBldmVudCBpbiBkYXRhYmFzZVxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgZXZlbnQgPSBhd2FpdCBjcmVhdGVUZXN0RXZlbnQoe1xuICogICBuYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gKiAgIGRhdGU6ICcyMDI2LTA2LTE1JyxcbiAqICAgc2x1ZzogJ3dlZGRpbmctY2VyZW1vbnknXG4gKiB9KTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRlc3RFdmVudChkYXRhOiB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGF0ZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIGxvY2F0aW9uPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn0pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVRlc3RDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogZXZlbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdldmVudHMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgZGF0ZTogZGF0YS5kYXRlLFxuICAgICAgc2x1ZzogZGF0YS5zbHVnLFxuICAgICAgbG9jYXRpb246IGRhdGEubG9jYXRpb24gfHwgbnVsbCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uIHx8IG51bGwsXG4gICAgfSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG4gIFxuICBpZiAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBjcmVhdGUgdGVzdCBldmVudDogJHtlcnJvci5tZXNzYWdlfWApO1xuICB9XG4gIFxuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIHRlc3QgYWN0aXZpdHkgaW4gZGF0YWJhc2VcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGFjdGl2aXR5ID0gYXdhaXQgY3JlYXRlVGVzdEFjdGl2aXR5KHtcbiAqICAgbmFtZTogJ0JlYWNoIFZvbGxleWJhbGwnLFxuICogICBldmVudElkOiAnZXZlbnQtMTIzJyxcbiAqICAgc2x1ZzogJ2JlYWNoLXZvbGxleWJhbGwnLFxuICogICBjYXBhY2l0eTogMjBcbiAqIH0pO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVzdEFjdGl2aXR5KGRhdGE6IHtcbiAgbmFtZTogc3RyaW5nO1xuICBldmVudElkOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgY2FwYWNpdHk/OiBudW1iZXI7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xufSk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlVGVzdENsaWVudCgpO1xuICBcbiAgY29uc3QgeyBkYXRhOiBhY3Rpdml0eSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2FjdGl2aXRpZXMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgZXZlbnRfaWQ6IGRhdGEuZXZlbnRJZCxcbiAgICAgIHNsdWc6IGRhdGEuc2x1ZyxcbiAgICAgIGNhcGFjaXR5OiBkYXRhLmNhcGFjaXR5IHx8IG51bGwsXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCBudWxsLFxuICAgIH0pXG4gICAgLnNlbGVjdCgpXG4gICAgLnNpbmdsZSgpO1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHRlc3QgYWN0aXZpdHk6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxuICBcbiAgcmV0dXJuIGFjdGl2aXR5O1xufVxuXG4vKipcbiAqIENyZWF0ZSB0ZXN0IGNvbnRlbnQgcGFnZSBpbiBkYXRhYmFzZVxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcGFnZSA9IGF3YWl0IGNyZWF0ZVRlc3RDb250ZW50UGFnZSh7XG4gKiAgIHRpdGxlOiAnT3VyIFN0b3J5JyxcbiAqICAgc2x1ZzogJ291ci1zdG9yeScsXG4gKiAgIHR5cGU6ICdwYWdlJ1xuICogfSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUZXN0Q29udGVudFBhZ2UoZGF0YToge1xuICB0aXRsZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIHR5cGU6ICdwYWdlJyB8ICdzZWN0aW9uJztcbiAgY29udGVudD86IHN0cmluZztcbn0pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVRlc3RDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogcGFnZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2NvbnRlbnRfcGFnZXMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICBzbHVnOiBkYXRhLnNsdWcsXG4gICAgICB0eXBlOiBkYXRhLnR5cGUsXG4gICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQgfHwgbnVsbCxcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSB0ZXN0IGNvbnRlbnQgcGFnZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICB9XG4gIFxuICByZXR1cm4gcGFnZTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2NyZWVuc2hvdCBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBUYWtlIHNjcmVlbnNob3Qgd2l0aCB0aW1lc3RhbXBcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IHRha2VUaW1lc3RhbXBlZFNjcmVlbnNob3QocGFnZSwgJ2d1ZXN0LWxpc3QtZXJyb3InKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRha2VUaW1lc3RhbXBlZFNjcmVlbnNob3QoXG4gIHBhZ2U6IFBhZ2UsXG4gIG5hbWU6IHN0cmluZ1xuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgJy0nKTtcbiAgY29uc3QgZmlsZW5hbWUgPSBgJHtuYW1lfS0ke3RpbWVzdGFtcH0ucG5nYDtcbiAgY29uc3Qgc2NyZWVuc2hvdERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndGVzdC1yZXN1bHRzJywgJ3NjcmVlbnNob3RzJyk7XG4gIFxuICAvLyBFbnN1cmUgZGlyZWN0b3J5IGV4aXN0c1xuICBpZiAoIWZzLmV4aXN0c1N5bmMoc2NyZWVuc2hvdERpcikpIHtcbiAgICBmcy5ta2RpclN5bmMoc2NyZWVuc2hvdERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gIH1cbiAgXG4gIGNvbnN0IGZpbGVwYXRoID0gcGF0aC5qb2luKHNjcmVlbnNob3REaXIsIGZpbGVuYW1lKTtcbiAgXG4gIGF3YWl0IHBhZ2Uuc2NyZWVuc2hvdCh7XG4gICAgcGF0aDogZmlsZXBhdGgsXG4gICAgZnVsbFBhZ2U6IHRydWUsXG4gIH0pO1xuICBcbiAgcmV0dXJuIGZpbGVwYXRoO1xufVxuXG4vKipcbiAqIFRha2Ugc2NyZWVuc2hvdCBvZiBzcGVjaWZpYyBlbGVtZW50XG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCB0YWtlRWxlbWVudFNjcmVlbnNob3QocGFnZSwgJy5lcnJvci1tZXNzYWdlJywgJ3ZhbGlkYXRpb24tZXJyb3InKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRha2VFbGVtZW50U2NyZWVuc2hvdChcbiAgcGFnZTogUGFnZSxcbiAgc2VsZWN0b3I6IHN0cmluZyxcbiAgbmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWzouXS9nLCAnLScpO1xuICBjb25zdCBmaWxlbmFtZSA9IGAke25hbWV9LSR7dGltZXN0YW1wfS5wbmdgO1xuICBjb25zdCBzY3JlZW5zaG90RGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICd0ZXN0LXJlc3VsdHMnLCAnc2NyZWVuc2hvdHMnKTtcbiAgXG4gIGlmICghZnMuZXhpc3RzU3luYyhzY3JlZW5zaG90RGlyKSkge1xuICAgIGZzLm1rZGlyU3luYyhzY3JlZW5zaG90RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICBcbiAgY29uc3QgZmlsZXBhdGggPSBwYXRoLmpvaW4oc2NyZWVuc2hvdERpciwgZmlsZW5hbWUpO1xuICBjb25zdCBlbGVtZW50ID0gcGFnZS5sb2NhdG9yKHNlbGVjdG9yKTtcbiAgXG4gIGF3YWl0IGVsZW1lbnQuc2NyZWVuc2hvdCh7IHBhdGg6IGZpbGVwYXRoIH0pO1xuICBcbiAgcmV0dXJuIGZpbGVwYXRoO1xufVxuXG4vKipcbiAqIFRha2Ugc2NyZWVuc2hvdCBvbiB0ZXN0IGZhaWx1cmUgKHVzZSBpbiBhZnRlckVhY2gpXG4gKiBcbiAqIEBleGFtcGxlXG4gKiB0ZXN0LmFmdGVyRWFjaChhc3luYyAoeyBwYWdlIH0sIHRlc3RJbmZvKSA9PiB7XG4gKiAgIGF3YWl0IHNjcmVlbnNob3RPbkZhaWx1cmUocGFnZSwgdGVzdEluZm8pO1xuICogfSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzY3JlZW5zaG90T25GYWlsdXJlKFxuICBwYWdlOiBQYWdlLFxuICB0ZXN0SW5mbzogYW55XG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHRlc3RJbmZvLnN0YXR1cyAhPT0gJ3Bhc3NlZCcpIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IGBmYWlsdXJlLSR7dGVzdEluZm8udGl0bGUucmVwbGFjZSgvXFxzKy9nLCAnLScpfWA7XG4gICAgYXdhaXQgdGFrZVRpbWVzdGFtcGVkU2NyZWVuc2hvdChwYWdlLCBmaWxlbmFtZSk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTmF2aWdhdGlvbiBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBOYXZpZ2F0ZSB0byBwYWdlIGFuZCB3YWl0IGZvciBsb2FkXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCBuYXZpZ2F0ZUFuZFdhaXQocGFnZSwgJy9hZG1pbi9ndWVzdHMnKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRlQW5kV2FpdChcbiAgcGFnZTogUGFnZSxcbiAgdXJsOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBwYWdlLmdvdG8odXJsKTtcbiAgYXdhaXQgd2FpdEZvclBhZ2VMb2FkKHBhZ2UpO1xufVxuXG4vKipcbiAqIENsaWNrIGxpbmsgYW5kIHdhaXQgZm9yIG5hdmlnYXRpb25cbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGNsaWNrQW5kTmF2aWdhdGUocGFnZSwgJ3RleHQ9VmlldyBEZXRhaWxzJyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGlja0FuZE5hdmlnYXRlKFxuICBwYWdlOiBQYWdlLFxuICBzZWxlY3Rvcjogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIHBhZ2Uud2FpdEZvck5hdmlnYXRpb24oKSxcbiAgICBwYWdlLmNsaWNrKHNlbGVjdG9yKSxcbiAgXSk7XG4gIGF3YWl0IHdhaXRGb3JQYWdlTG9hZChwYWdlKTtcbn1cblxuLyoqXG4gKiBHbyBiYWNrIGFuZCB3YWl0IGZvciBsb2FkXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCBnb0JhY2tBbmRXYWl0KHBhZ2UpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ29CYWNrQW5kV2FpdChwYWdlOiBQYWdlKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHBhZ2UuZ29CYWNrKCk7XG4gIGF3YWl0IHdhaXRGb3JQYWdlTG9hZChwYWdlKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTW9kYWwvRGlhbG9nIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFdhaXQgZm9yIG1vZGFsIHRvIG9wZW5cbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IHdhaXRGb3JNb2RhbChwYWdlLCAnQ3JlYXRlIEd1ZXN0Jyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yTW9kYWwoXG4gIHBhZ2U6IFBhZ2UsXG4gIHRpdGxlVGV4dD86IHN0cmluZ1xuKTogUHJvbWlzZTxMb2NhdG9yPiB7XG4gIGNvbnN0IG1vZGFsU2VsZWN0b3JzID0gW1xuICAgICdbcm9sZT1cImRpYWxvZ1wiXScsXG4gICAgJy5tb2RhbCcsXG4gICAgJ1tkYXRhLXRlc3RpZD1cIm1vZGFsXCJdJyxcbiAgXTtcbiAgXG4gIGxldCBtb2RhbDogTG9jYXRvciB8IG51bGwgPSBudWxsO1xuICBcbiAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBtb2RhbFNlbGVjdG9ycykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgZWxlbWVudC5jb3VudCgpO1xuICAgIFxuICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgIGF3YWl0IGV4cGVjdChlbGVtZW50LmZpcnN0KCkpLnRvQmVWaXNpYmxlKHsgdGltZW91dDogNTAwMCB9KTtcbiAgICAgIG1vZGFsID0gZWxlbWVudC5maXJzdCgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIFxuICBpZiAoIW1vZGFsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNb2RhbCBub3QgZm91bmQnKTtcbiAgfVxuICBcbiAgaWYgKHRpdGxlVGV4dCkge1xuICAgIGF3YWl0IGV4cGVjdChtb2RhbCkudG9Db250YWluVGV4dCh0aXRsZVRleHQpO1xuICB9XG4gIFxuICByZXR1cm4gbW9kYWw7XG59XG5cbi8qKlxuICogQ2xvc2UgbW9kYWwgYnkgY2xpY2tpbmcgY2xvc2UgYnV0dG9uIG9yIG92ZXJsYXlcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGNsb3NlTW9kYWwocGFnZSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZU1vZGFsKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgY2xvc2VTZWxlY3RvcnMgPSBbXG4gICAgJ1tyb2xlPVwiZGlhbG9nXCJdIGJ1dHRvblthcmlhLWxhYmVsPVwiQ2xvc2VcIl0nLFxuICAgICcubW9kYWwgLmNsb3NlLWJ1dHRvbicsXG4gICAgJ1tkYXRhLXRlc3RpZD1cIm1vZGFsLWNsb3NlXCJdJyxcbiAgXTtcbiAgXG4gIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgY2xvc2VTZWxlY3RvcnMpIHtcbiAgICBjb25zdCBidXR0b24gPSBwYWdlLmxvY2F0b3Ioc2VsZWN0b3IpO1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgYnV0dG9uLmNvdW50KCk7XG4gICAgXG4gICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgYXdhaXQgYnV0dG9uLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgIGF3YWl0IHdhaXRGb3JFbGVtZW50SGlkZGVuKHBhZ2UsICdbcm9sZT1cImRpYWxvZ1wiXScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gVHJ5IGNsaWNraW5nIG92ZXJsYXlcbiAgYXdhaXQgcGFnZS5sb2NhdG9yKCcubW9kYWwtb3ZlcmxheSwgW2RhdGEtdGVzdGlkPVwibW9kYWwtb3ZlcmxheVwiXScpLmNsaWNrKCk7XG4gIGF3YWl0IHdhaXRGb3JFbGVtZW50SGlkZGVuKHBhZ2UsICdbcm9sZT1cImRpYWxvZ1wiXScpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUYWJsZS9MaXN0IFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCByb3cgY291bnQgaW4gdGFibGVcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGNvdW50ID0gYXdhaXQgZ2V0VGFibGVSb3dDb3VudChwYWdlLCAnW2RhdGEtdGVzdGlkPVwiZ3Vlc3QtdGFibGVcIl0nKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRhYmxlUm93Q291bnQoXG4gIHBhZ2U6IFBhZ2UsXG4gIHRhYmxlU2VsZWN0b3I6IHN0cmluZ1xuKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgY29uc3Qgcm93cyA9IHBhZ2UubG9jYXRvcihgJHt0YWJsZVNlbGVjdG9yfSB0Ym9keSB0cmApO1xuICByZXR1cm4gYXdhaXQgcm93cy5jb3VudCgpO1xufVxuXG4vKipcbiAqIEZpbmQgdGFibGUgcm93IGJ5IGNlbGwgY29udGVudFxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgcm93ID0gYXdhaXQgZmluZFRhYmxlUm93KHBhZ2UsICd0YWJsZScsICdKb2huIERvZScpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFRhYmxlUm93KFxuICBwYWdlOiBQYWdlLFxuICB0YWJsZVNlbGVjdG9yOiBzdHJpbmcsXG4gIGNlbGxDb250ZW50OiBzdHJpbmdcbik6IFByb21pc2U8TG9jYXRvcj4ge1xuICBjb25zdCByb3cgPSBwYWdlLmxvY2F0b3IoYCR7dGFibGVTZWxlY3Rvcn0gdGJvZHkgdHI6aGFzLXRleHQoXCIke2NlbGxDb250ZW50fVwiKWApO1xuICBhd2FpdCBleHBlY3Qocm93KS50b0JlVmlzaWJsZSgpO1xuICByZXR1cm4gcm93O1xufVxuXG4vKipcbiAqIENsaWNrIGJ1dHRvbiBpbiB0YWJsZSByb3dcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGNsaWNrUm93QnV0dG9uKHBhZ2UsICd0YWJsZScsICdKb2huIERvZScsICdFZGl0Jyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGlja1Jvd0J1dHRvbihcbiAgcGFnZTogUGFnZSxcbiAgdGFibGVTZWxlY3Rvcjogc3RyaW5nLFxuICByb3dJZGVudGlmaWVyOiBzdHJpbmcsXG4gIGJ1dHRvblRleHQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHJvdyA9IGF3YWl0IGZpbmRUYWJsZVJvdyhwYWdlLCB0YWJsZVNlbGVjdG9yLCByb3dJZGVudGlmaWVyKTtcbiAgYXdhaXQgcm93LmxvY2F0b3IoYGJ1dHRvbjpoYXMtdGV4dChcIiR7YnV0dG9uVGV4dH1cIilgKS5jbGljaygpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBdXRoZW50aWNhdGlvbiBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBMb2dpbiBhcyBhZG1pbiB1c2VyXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCBsb2dpbkFzQWRtaW4ocGFnZSwgJ2FkbWluQHRlc3QuY29tJywgJ3Bhc3N3b3JkJyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbkFzQWRtaW4oXG4gIHBhZ2U6IFBhZ2UsXG4gIGVtYWlsOiBzdHJpbmcgPSAnYWRtaW5AdGVzdC5jb20nLFxuICBwYXNzd29yZDogc3RyaW5nID0gJ3Rlc3QtcGFzc3dvcmQnXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgcGFnZS5nb3RvKCcvYWRtaW4vbG9naW4nKTtcbiAgYXdhaXQgcGFnZS5maWxsKCdpbnB1dFtuYW1lPVwiZW1haWxcIl0nLCBlbWFpbCk7XG4gIGF3YWl0IHBhZ2UuZmlsbCgnaW5wdXRbbmFtZT1cInBhc3N3b3JkXCJdJywgcGFzc3dvcmQpO1xuICBhd2FpdCBwYWdlLmNsaWNrKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuICBhd2FpdCBwYWdlLndhaXRGb3JVUkwoJyoqL2FkbWluLyoqJyk7XG4gIGF3YWl0IHdhaXRGb3JQYWdlTG9hZChwYWdlKTtcbn1cblxuLyoqXG4gKiBMb2dpbiBhcyBndWVzdCB1c2VyXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBhd2FpdCBsb2dpbkFzR3Vlc3QocGFnZSwgJ2d1ZXN0QGV4YW1wbGUuY29tJyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbkFzR3Vlc3QoXG4gIHBhZ2U6IFBhZ2UsXG4gIGVtYWlsOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBwYWdlLmdvdG8oJy9hdXRoL2d1ZXN0LWxvZ2luJyk7XG4gIGF3YWl0IHBhZ2UuZmlsbCgnaW5wdXRbbmFtZT1cImVtYWlsXCJdJywgZW1haWwpO1xuICBhd2FpdCBwYWdlLmNsaWNrKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuICBhd2FpdCB3YWl0Rm9yVG9hc3QocGFnZSwgJ0xvZ2luIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICBhd2FpdCB3YWl0Rm9yUGFnZUxvYWQocGFnZSk7XG59XG5cbi8qKlxuICogTG9nb3V0IGN1cnJlbnQgdXNlclxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgbG9nb3V0KHBhZ2UpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nb3V0KHBhZ2U6IFBhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgcGFnZS5jbGljaygnYnV0dG9uOmhhcy10ZXh0KFwiTG9nb3V0XCIpLCBhOmhhcy10ZXh0KFwiTG9nb3V0XCIpJyk7XG4gIGF3YWl0IHBhZ2Uud2FpdEZvclVSTCgnKiovbG9naW4nKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ2xlYW51cCBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBEZWxldGUgdGVzdCBkYXRhIGJ5IHByZWZpeFxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgY2xlYW51cFRlc3REYXRhKCd0ZXN0LScpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYW51cFRlc3REYXRhKHByZWZpeDogc3RyaW5nID0gJ3Rlc3QtJyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVRlc3RDbGllbnQoKTtcbiAgXG4gIC8vIENsZWFuIHVwIGluIG9yZGVyIHRvIHJlc3BlY3QgZm9yZWlnbiBrZXkgY29uc3RyYWludHNcbiAgY29uc3QgdGFibGVzID0gW1xuICAgICdyc3ZwcycsXG4gICAgJ2FjdGl2aXRpZXMnLFxuICAgICdldmVudHMnLFxuICAgICdndWVzdHMnLFxuICAgICdndWVzdF9ncm91cHMnLFxuICAgICdjb250ZW50X3BhZ2VzJyxcbiAgICAnc2VjdGlvbnMnLFxuICAgICdwaG90b3MnLFxuICBdO1xuICBcbiAgZm9yIChjb25zdCB0YWJsZSBvZiB0YWJsZXMpIHtcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20odGFibGUpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5saWtlKCduYW1lJywgYCR7cHJlZml4fSVgKTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBzcGVjaWZpYyB0ZXN0IGVudGl0eVxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgZGVsZXRlVGVzdEVudGl0eSgnZ3Vlc3RzJywgJ2d1ZXN0LTEyMycpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVGVzdEVudGl0eShcbiAgdGFibGU6IHN0cmluZyxcbiAgaWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlVGVzdENsaWVudCgpO1xuICBcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSh0YWJsZSlcbiAgICAuZGVsZXRlKClcbiAgICAuZXEoJ2lkJywgaWQpO1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZGVsZXRlIHRlc3QgZW50aXR5OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQXNzZXJ0aW9uIFV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEFzc2VydCBVUkwgY29udGFpbnMgcGF0aFxuICogXG4gKiBAZXhhbXBsZVxuICogYXdhaXQgYXNzZXJ0VXJsQ29udGFpbnMocGFnZSwgJy9hZG1pbi9ndWVzdHMnKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2VydFVybENvbnRhaW5zKFxuICBwYWdlOiBQYWdlLFxuICBwYXRoOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBleHBlY3QocGFnZSkudG9IYXZlVVJMKG5ldyBSZWdFeHAocGF0aCkpO1xufVxuXG4vKipcbiAqIEFzc2VydCBlbGVtZW50IGhhcyBhdHRyaWJ1dGUgdmFsdWVcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGFzc2VydEF0dHJpYnV0ZShwYWdlLCAnaW5wdXRbbmFtZT1cImVtYWlsXCJdJywgJ3R5cGUnLCAnZW1haWwnKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2VydEF0dHJpYnV0ZShcbiAgcGFnZTogUGFnZSxcbiAgc2VsZWN0b3I6IHN0cmluZyxcbiAgYXR0cmlidXRlOiBzdHJpbmcsXG4gIHZhbHVlOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCBleHBlY3QocGFnZS5sb2NhdG9yKHNlbGVjdG9yKSkudG9IYXZlQXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIEFzc2VydCBlbGVtZW50IGhhcyBDU1MgY2xhc3NcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGFzc2VydEhhc0NsYXNzKHBhZ2UsICcuYnV0dG9uJywgJ2FjdGl2ZScpO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXNzZXJ0SGFzQ2xhc3MoXG4gIHBhZ2U6IFBhZ2UsXG4gIHNlbGVjdG9yOiBzdHJpbmcsXG4gIGNsYXNzTmFtZTogc3RyaW5nXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZXhwZWN0KHBhZ2UubG9jYXRvcihzZWxlY3RvcikpLnRvSGF2ZUNsYXNzKG5ldyBSZWdFeHAoY2xhc3NOYW1lKSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIERlYnVnZ2luZyBVdGlsaXRpZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBMb2cgcGFnZSBjb25zb2xlIG1lc3NhZ2VzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBsb2dDb25zb2xlTWVzc2FnZXMocGFnZSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dDb25zb2xlTWVzc2FnZXMocGFnZTogUGFnZSk6IHZvaWQge1xuICBwYWdlLm9uKCdjb25zb2xlJywgKG1zZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBbQnJvd3NlciAke21zZy50eXBlKCl9XTpgLCBtc2cudGV4dCgpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogTG9nIG5ldHdvcmsgcmVxdWVzdHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGxvZ05ldHdvcmtSZXF1ZXN0cyhwYWdlKTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZ05ldHdvcmtSZXF1ZXN0cyhwYWdlOiBQYWdlKTogdm9pZCB7XG4gIHBhZ2Uub24oJ3JlcXVlc3QnLCAocmVxdWVzdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBbUmVxdWVzdF06ICR7cmVxdWVzdC5tZXRob2QoKX0gJHtyZXF1ZXN0LnVybCgpfWApO1xuICB9KTtcbiAgXG4gIHBhZ2Uub24oJ3Jlc3BvbnNlJywgKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc29sZS5sb2coYFtSZXNwb25zZV06ICR7cmVzcG9uc2Uuc3RhdHVzKCl9ICR7cmVzcG9uc2UudXJsKCl9YCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFBhdXNlIHRlc3QgZXhlY3V0aW9uIGZvciBkZWJ1Z2dpbmdcbiAqIFxuICogQGV4YW1wbGVcbiAqIGF3YWl0IGRlYnVnUGF1c2UocGFnZSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWJ1Z1BhdXNlKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgcGFnZS5wYXVzZSgpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFeHBvcnQgYWxsIHV0aWxpdGllc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8vIEVsZW1lbnQgd2FpdGluZ1xuICB3YWl0Rm9yRWxlbWVudCxcbiAgd2FpdEZvckVsZW1lbnRIaWRkZW4sXG4gIHdhaXRGb3JUZXh0LFxuICB3YWl0Rm9yRWxlbWVudENvdW50LFxuICB3YWl0Rm9yUGFnZUxvYWQsXG4gIFxuICAvLyBGb3JtIGZpbGxpbmdcbiAgZmlsbEFuZFN1Ym1pdEZvcm0sXG4gIGZpbGxGb3JtRmllbGRCeUxhYmVsLFxuICBzZWxlY3REcm9wZG93bk9wdGlvbixcbiAgdG9nZ2xlQ2hlY2tib3gsXG4gIFxuICAvLyBUb2FzdCBtZXNzYWdlc1xuICB3YWl0Rm9yVG9hc3QsXG4gIHdhaXRGb3JUb2FzdERpc21pc3MsXG4gIGRpc21pc3NUb2FzdCxcbiAgXG4gIC8vIFRlc3QgZGF0YSBjcmVhdGlvblxuICBjcmVhdGVUZXN0R3Vlc3QsXG4gIGNyZWF0ZVRlc3RHcm91cCxcbiAgY3JlYXRlVGVzdEV2ZW50LFxuICBjcmVhdGVUZXN0QWN0aXZpdHksXG4gIGNyZWF0ZVRlc3RDb250ZW50UGFnZSxcbiAgXG4gIC8vIFNjcmVlbnNob3RzXG4gIHRha2VUaW1lc3RhbXBlZFNjcmVlbnNob3QsXG4gIHRha2VFbGVtZW50U2NyZWVuc2hvdCxcbiAgc2NyZWVuc2hvdE9uRmFpbHVyZSxcbiAgXG4gIC8vIE5hdmlnYXRpb25cbiAgbmF2aWdhdGVBbmRXYWl0LFxuICBjbGlja0FuZE5hdmlnYXRlLFxuICBnb0JhY2tBbmRXYWl0LFxuICBcbiAgLy8gTW9kYWxzXG4gIHdhaXRGb3JNb2RhbCxcbiAgY2xvc2VNb2RhbCxcbiAgXG4gIC8vIFRhYmxlc1xuICBnZXRUYWJsZVJvd0NvdW50LFxuICBmaW5kVGFibGVSb3csXG4gIGNsaWNrUm93QnV0dG9uLFxuICBcbiAgLy8gQXV0aGVudGljYXRpb25cbiAgbG9naW5Bc0FkbWluLFxuICBsb2dpbkFzR3Vlc3QsXG4gIGxvZ291dCxcbiAgXG4gIC8vIENsZWFudXBcbiAgY2xlYW51cFRlc3REYXRhLFxuICBkZWxldGVUZXN0RW50aXR5LFxuICBcbiAgLy8gQXNzZXJ0aW9uc1xuICBhc3NlcnRVcmxDb250YWlucyxcbiAgYXNzZXJ0QXR0cmlidXRlLFxuICBhc3NlcnRIYXNDbGFzcyxcbiAgXG4gIC8vIERlYnVnZ2luZ1xuICBsb2dDb25zb2xlTWVzc2FnZXMsXG4gIGxvZ05ldHdvcmtSZXF1ZXN0cyxcbiAgZGVidWdQYXVzZSxcbn07XG4iXSwibmFtZXMiOlsiYXNzZXJ0QXR0cmlidXRlIiwiYXNzZXJ0SGFzQ2xhc3MiLCJhc3NlcnRVcmxDb250YWlucyIsImNsZWFudXBUZXN0RGF0YSIsImNsaWNrQW5kTmF2aWdhdGUiLCJjbGlja1Jvd0J1dHRvbiIsImNsb3NlTW9kYWwiLCJjcmVhdGVUZXN0QWN0aXZpdHkiLCJjcmVhdGVUZXN0Q29udGVudFBhZ2UiLCJjcmVhdGVUZXN0RXZlbnQiLCJjcmVhdGVUZXN0R3JvdXAiLCJjcmVhdGVUZXN0R3Vlc3QiLCJkZWJ1Z1BhdXNlIiwiZGVsZXRlVGVzdEVudGl0eSIsImRpc21pc3NUb2FzdCIsImZpbGxBbmRTdWJtaXRGb3JtIiwiZmlsbEZvcm1GaWVsZEJ5TGFiZWwiLCJmaW5kVGFibGVSb3ciLCJnZXRUYWJsZVJvd0NvdW50IiwiZ29CYWNrQW5kV2FpdCIsImxvZ0NvbnNvbGVNZXNzYWdlcyIsImxvZ05ldHdvcmtSZXF1ZXN0cyIsImxvZ2luQXNBZG1pbiIsImxvZ2luQXNHdWVzdCIsImxvZ291dCIsIm5hdmlnYXRlQW5kV2FpdCIsInNjcmVlbnNob3RPbkZhaWx1cmUiLCJzZWxlY3REcm9wZG93bk9wdGlvbiIsInRha2VFbGVtZW50U2NyZWVuc2hvdCIsInRha2VUaW1lc3RhbXBlZFNjcmVlbnNob3QiLCJ0b2dnbGVDaGVja2JveCIsIndhaXRGb3JFbGVtZW50Iiwid2FpdEZvckVsZW1lbnRDb3VudCIsIndhaXRGb3JFbGVtZW50SGlkZGVuIiwid2FpdEZvck1vZGFsIiwid2FpdEZvclBhZ2VMb2FkIiwid2FpdEZvclRleHQiLCJ3YWl0Rm9yVG9hc3QiLCJ3YWl0Rm9yVG9hc3REaXNtaXNzIiwicGFnZSIsInNlbGVjdG9yIiwidGltZW91dCIsImV4cGVjdCIsImxvY2F0b3IiLCJ0b0JlVmlzaWJsZSIsInRvQmVIaWRkZW4iLCJ0ZXh0IiwidG9Db250YWluVGV4dCIsImNvdW50IiwidG9IYXZlQ291bnQiLCJ3YWl0Rm9yTG9hZFN0YXRlIiwibG9hZGluZ1NlbGVjdG9ycyIsImVsZW1lbnRzIiwiZmlyc3QiLCJmb3JtRGF0YSIsInN1Ym1pdEJ1dHRvblRleHQiLCJuYW1lIiwidmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwiaW5wdXQiLCJFcnJvciIsInRhZ05hbWUiLCJldmFsdWF0ZSIsImVsIiwidG9Mb3dlckNhc2UiLCJzZWxlY3RPcHRpb24iLCJmaWxsIiwiY2xpY2siLCJsYWJlbFRleHQiLCJsYWJlbCIsImZvckF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJvcHRpb25UZXh0IiwiY2hlY2tlZCIsImNoZWNrYm94IiwiY2hlY2siLCJ1bmNoZWNrIiwibWVzc2FnZSIsInR5cGUiLCJzZWxlY3RvcnMiLCJmb3VuZCIsInRvYXN0IiwibWVzc2FnZUVsZW1lbnQiLCJjbG9zZUJ1dHRvbnMiLCJidXR0b24iLCJkYXRhIiwic3VwYWJhc2UiLCJjcmVhdGVUZXN0Q2xpZW50IiwiZ3Vlc3QiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJmaXJzdF9uYW1lIiwiZmlyc3ROYW1lIiwibGFzdF9uYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsImdyb3VwX2lkIiwiZ3JvdXBJZCIsImFnZV90eXBlIiwiYWdlVHlwZSIsImd1ZXN0X3R5cGUiLCJndWVzdFR5cGUiLCJhdXRoX21ldGhvZCIsImF1dGhNZXRob2QiLCJzZWxlY3QiLCJzaW5nbGUiLCJncm91cCIsImdyb3VwX293bmVyX2lkIiwiZ3JvdXBPd25lcklkIiwiZXZlbnQiLCJkYXRlIiwic2x1ZyIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJhY3Rpdml0eSIsImV2ZW50X2lkIiwiZXZlbnRJZCIsImNhcGFjaXR5IiwidGl0bGUiLCJjb250ZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsImZpbGVuYW1lIiwic2NyZWVuc2hvdERpciIsInBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImZpbGVwYXRoIiwic2NyZWVuc2hvdCIsImZ1bGxQYWdlIiwiZWxlbWVudCIsInRlc3RJbmZvIiwic3RhdHVzIiwidXJsIiwiZ290byIsIlByb21pc2UiLCJhbGwiLCJ3YWl0Rm9yTmF2aWdhdGlvbiIsImdvQmFjayIsInRpdGxlVGV4dCIsIm1vZGFsU2VsZWN0b3JzIiwibW9kYWwiLCJjbG9zZVNlbGVjdG9ycyIsInRhYmxlU2VsZWN0b3IiLCJyb3dzIiwiY2VsbENvbnRlbnQiLCJyb3ciLCJyb3dJZGVudGlmaWVyIiwiYnV0dG9uVGV4dCIsInBhc3N3b3JkIiwid2FpdEZvclVSTCIsInByZWZpeCIsInRhYmxlcyIsInRhYmxlIiwiZGVsZXRlIiwibGlrZSIsImlkIiwiZXEiLCJjb25zb2xlIiwid2FybiIsInRvSGF2ZVVSTCIsIlJlZ0V4cCIsImF0dHJpYnV0ZSIsInRvSGF2ZUF0dHJpYnV0ZSIsImNsYXNzTmFtZSIsInRvSGF2ZUNsYXNzIiwib24iLCJtc2ciLCJsb2ciLCJyZXF1ZXN0IiwibWV0aG9kIiwicmVzcG9uc2UiLCJwYXVzZSJdLCJtYXBwaW5n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