52e497268b02787a6fddaba0f5eeb6ea
"use strict";

/* istanbul ignore next */
function cov_16z24l7yqr() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/rsvpReminderService.ts";
  var hash = "2c15ed8f1c59d2b862cede779f6a57837178e839";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/rsvpReminderService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 30,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 37
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 35
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 32
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 32
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 36
        }
      },
      "9": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 32
        }
      },
      "10": {
        start: {
          line: 31,
          column: 20
        },
        end: {
          line: 31,
          column: 52
        }
      },
      "11": {
        start: {
          line: 32,
          column: 15
        },
        end: {
          line: 32,
          column: 34
        }
      },
      "12": {
        start: {
          line: 33,
          column: 22
        },
        end: {
          line: 33,
          column: 47
        }
      },
      "13": {
        start: {
          line: 34,
          column: 21
        },
        end: {
          line: 34,
          column: 45
        }
      },
      "14": {
        start: {
          line: 37,
          column: 23
        },
        end: {
          line: 37,
          column: 27
        }
      },
      "15": {
        start: {
          line: 39,
          column: 4
        },
        end: {
          line: 41,
          column: 5
        }
      },
      "16": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 134
        }
      },
      "17": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 42,
          column: 28
        }
      },
      "18": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 30
        }
      },
      "19": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 28
        }
      },
      "20": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 141,
          column: 5
        }
      },
      "21": {
        start: {
          line: 52,
          column: 25
        },
        end: {
          line: 52,
          column: 44
        }
      },
      "22": {
        start: {
          line: 53,
          column: 20
        },
        end: {
          line: 53,
          column: 30
        }
      },
      "23": {
        start: {
          line: 54,
          column: 29
        },
        end: {
          line: 54,
          column: 42
        }
      },
      "24": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 55,
          column: 74
        }
      },
      "25": {
        start: {
          line: 57,
          column: 53
        },
        end: {
          line: 57,
          column: 318
        }
      },
      "26": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 67,
          column: 9
        }
      },
      "27": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 66,
          column: 14
        }
      },
      "28": {
        start: {
          line: 68,
          column: 30
        },
        end: {
          line: 68,
          column: 32
        }
      },
      "29": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 97,
          column: 9
        }
      },
      "30": {
        start: {
          line: 72,
          column: 57
        },
        end: {
          line: 72,
          column: 182
        }
      },
      "31": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 75,
          column: 13
        }
      },
      "32": {
        start: {
          line: 74,
          column: 16
        },
        end: {
          line: 74,
          column: 25
        }
      },
      "33": {
        start: {
          line: 76,
          column: 12
        },
        end: {
          line: 96,
          column: 13
        }
      },
      "34": {
        start: {
          line: 78,
          column: 58
        },
        end: {
          line: 78,
          column: 153
        }
      },
      "35": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 81,
          column: 17
        }
      },
      "36": {
        start: {
          line: 80,
          column: 20
        },
        end: {
          line: 80,
          column: 29
        }
      },
      "37": {
        start: {
          line: 83,
          column: 16
        },
        end: {
          line: 95,
          column: 17
        }
      },
      "38": {
        start: {
          line: 83,
          column: 68
        },
        end: {
          line: 83,
          column: 90
        }
      },
      "39": {
        start: {
          line: 84,
          column: 37
        },
        end: {
          line: 84,
          column: 66
        }
      },
      "40": {
        start: {
          line: 85,
          column: 38
        },
        end: {
          line: 85,
          column: 109
        }
      },
      "41": {
        start: {
          line: 86,
          column: 20
        },
        end: {
          line: 94,
          column: 23
        }
      },
      "42": {
        start: {
          line: 99,
          column: 61
        },
        end: {
          line: 99,
          column: 139
        }
      },
      "43": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "44": {
        start: {
          line: 101,
          column: 12
        },
        end: {
          line: 127,
          column: 13
        }
      },
      "45": {
        start: {
          line: 103,
          column: 61
        },
        end: {
          line: 103,
          column: 351
        }
      },
      "46": {
        start: {
          line: 104,
          column: 16
        },
        end: {
          line: 106,
          column: 17
        }
      },
      "47": {
        start: {
          line: 105,
          column: 20
        },
        end: {
          line: 105,
          column: 29
        }
      },
      "48": {
        start: {
          line: 107,
          column: 16
        },
        end: {
          line: 126,
          column: 17
        }
      },
      "49": {
        start: {
          line: 109,
          column: 62
        },
        end: {
          line: 109,
          column: 163
        }
      },
      "50": {
        start: {
          line: 110,
          column: 20
        },
        end: {
          line: 112,
          column: 21
        }
      },
      "51": {
        start: {
          line: 111,
          column: 24
        },
        end: {
          line: 111,
          column: 33
        }
      },
      "52": {
        start: {
          line: 113,
          column: 20
        },
        end: {
          line: 125,
          column: 21
        }
      },
      "53": {
        start: {
          line: 113,
          column: 72
        },
        end: {
          line: 113,
          column: 94
        }
      },
      "54": {
        start: {
          line: 114,
          column: 41
        },
        end: {
          line: 114,
          column: 70
        }
      },
      "55": {
        start: {
          line: 115,
          column: 42
        },
        end: {
          line: 115,
          column: 113
        }
      },
      "56": {
        start: {
          line: 116,
          column: 24
        },
        end: {
          line: 124,
          column: 27
        }
      },
      "57": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "58": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 140,
          column: 10
        }
      },
      "59": {
        start: {
          line: 144,
          column: 4
        },
        end: {
          line: 223,
          column: 5
        }
      },
      "60": {
        start: {
          line: 145,
          column: 25
        },
        end: {
          line: 145,
          column: 44
        }
      },
      "61": {
        start: {
          line: 146,
          column: 32
        },
        end: {
          line: 146,
          column: 86
        }
      },
      "62": {
        start: {
          line: 147,
          column: 29
        },
        end: {
          line: 152,
          column: 10
        }
      },
      "63": {
        start: {
          line: 153,
          column: 24
        },
        end: {
          line: 153,
          column: 100
        }
      },
      "64": {
        start: {
          line: 154,
          column: 21
        },
        end: {
          line: 172,
          column: 5
        }
      },
      "65": {
        start: {
          line: 173,
          column: 21
        },
        end: {
          line: 186,
          column: 5
        }
      },
      "66": {
        start: {
          line: 187,
          column: 28
        },
        end: {
          line: 192,
          column: 10
        }
      },
      "67": {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 202,
          column: 9
        }
      },
      "68": {
        start: {
          line: 194,
          column: 12
        },
        end: {
          line: 201,
          column: 14
        }
      },
      "69": {
        start: {
          line: 204,
          column: 8
        },
        end: {
          line: 210,
          column: 11
        }
      },
      "70": {
        start: {
          line: 211,
          column: 8
        },
        end: {
          line: 214,
          column: 10
        }
      },
      "71": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 222,
          column: 10
        }
      },
      "72": {
        start: {
          line: 226,
          column: 4
        },
        end: {
          line: 249,
          column: 7
        }
      },
      "73": {
        start: {
          line: 228,
          column: 30
        },
        end: {
          line: 228,
          column: 72
        }
      },
      "74": {
        start: {
          line: 229,
          column: 8
        },
        end: {
          line: 231,
          column: 9
        }
      },
      "75": {
        start: {
          line: 230,
          column: 12
        },
        end: {
          line: 230,
          column: 57
        }
      },
      "76": {
        start: {
          line: 232,
          column: 30
        },
        end: {
          line: 232,
          column: 48
        }
      },
      "77": {
        start: {
          line: 233,
          column: 19
        },
        end: {
          line: 233,
          column: 20
        }
      },
      "78": {
        start: {
          line: 234,
          column: 21
        },
        end: {
          line: 234,
          column: 22
        }
      },
      "79": {
        start: {
          line: 236,
          column: 8
        },
        end: {
          line: 244,
          column: 9
        }
      },
      "80": {
        start: {
          line: 237,
          column: 35
        },
        end: {
          line: 237,
          column: 64
        }
      },
      "81": {
        start: {
          line: 238,
          column: 12
        },
        end: {
          line: 243,
          column: 13
        }
      },
      "82": {
        start: {
          line: 239,
          column: 16
        },
        end: {
          line: 239,
          column: 23
        }
      },
      "83": {
        start: {
          line: 241,
          column: 16
        },
        end: {
          line: 241,
          column: 25
        }
      },
      "84": {
        start: {
          line: 242,
          column: 16
        },
        end: {
          line: 242,
          column: 104
        }
      },
      "85": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 248,
          column: 10
        }
      },
      "86": {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 295,
          column: 5
        }
      },
      "87": {
        start: {
          line: 253,
          column: 25
        },
        end: {
          line: 253,
          column: 44
        }
      },
      "88": {
        start: {
          line: 254,
          column: 20
        },
        end: {
          line: 254,
          column: 68
        }
      },
      "89": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 257,
          column: 9
        }
      },
      "90": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 256,
          column: 48
        }
      },
      "91": {
        start: {
          line: 258,
          column: 43
        },
        end: {
          line: 258,
          column: 54
        }
      },
      "92": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 268,
          column: 9
        }
      },
      "93": {
        start: {
          line: 260,
          column: 12
        },
        end: {
          line: 267,
          column: 14
        }
      },
      "94": {
        start: {
          line: 269,
          column: 33
        },
        end: {
          line: 269,
          column: 35
        }
      },
      "95": {
        start: {
          line: 270,
          column: 36
        },
        end: {
          line: 270,
          column: 38
        }
      },
      "96": {
        start: {
          line: 271,
          column: 8
        },
        end: {
          line: 278,
          column: 9
        }
      },
      "97": {
        start: {
          line: 272,
          column: 12
        },
        end: {
          line: 274,
          column: 13
        }
      },
      "98": {
        start: {
          line: 273,
          column: 16
        },
        end: {
          line: 273,
          column: 101
        }
      },
      "99": {
        start: {
          line: 275,
          column: 12
        },
        end: {
          line: 277,
          column: 13
        }
      },
      "100": {
        start: {
          line: 276,
          column: 16
        },
        end: {
          line: 276,
          column: 113
        }
      },
      "101": {
        start: {
          line: 279,
          column: 8
        },
        end: {
          line: 286,
          column: 10
        }
      },
      "102": {
        start: {
          line: 288,
          column: 8
        },
        end: {
          line: 294,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 33
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 28
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 28
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 32
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 28
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "7": {
        name: "getSupabaseClient",
        decl: {
          start: {
            line: 38,
            column: 9
          },
          end: {
            line: 38,
            column: 26
          }
        },
        loc: {
          start: {
            line: 38,
            column: 29
          },
          end: {
            line: 43,
            column: 1
          }
        },
        line: 38
      },
      "8": {
        name: "__setSupabaseClient",
        decl: {
          start: {
            line: 44,
            column: 9
          },
          end: {
            line: 44,
            column: 28
          }
        },
        loc: {
          start: {
            line: 44,
            column: 37
          },
          end: {
            line: 46,
            column: 1
          }
        },
        line: 44
      },
      "9": {
        name: "__resetSupabaseClient",
        decl: {
          start: {
            line: 47,
            column: 9
          },
          end: {
            line: 47,
            column: 30
          }
        },
        loc: {
          start: {
            line: 47,
            column: 33
          },
          end: {
            line: 49,
            column: 1
          }
        },
        line: 47
      },
      "10": {
        name: "findPendingRSVPs",
        decl: {
          start: {
            line: 50,
            column: 15
          },
          end: {
            line: 50,
            column: 31
          }
        },
        loc: {
          start: {
            line: 50,
            column: 56
          },
          end: {
            line: 142,
            column: 1
          }
        },
        line: 50
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 83,
            column: 63
          },
          end: {
            line: 83,
            column: 64
          }
        },
        loc: {
          start: {
            line: 83,
            column: 68
          },
          end: {
            line: 83,
            column: 90
          }
        },
        line: 83
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 113,
            column: 67
          },
          end: {
            line: 113,
            column: 68
          }
        },
        loc: {
          start: {
            line: 113,
            column: 72
          },
          end: {
            line: 113,
            column: 94
          }
        },
        line: 113
      },
      "13": {
        name: "sendRSVPReminder",
        decl: {
          start: {
            line: 143,
            column: 15
          },
          end: {
            line: 143,
            column: 31
          }
        },
        loc: {
          start: {
            line: 143,
            column: 39
          },
          end: {
            line: 224,
            column: 1
          }
        },
        line: 143
      },
      "14": {
        name: "processRSVPReminders",
        decl: {
          start: {
            line: 225,
            column: 15
          },
          end: {
            line: 225,
            column: 35
          }
        },
        loc: {
          start: {
            line: 225,
            column: 60
          },
          end: {
            line: 250,
            column: 1
          }
        },
        line: 225
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 226,
            column: 71
          },
          end: {
            line: 226,
            column: 72
          }
        },
        loc: {
          start: {
            line: 226,
            column: 81
          },
          end: {
            line: 249,
            column: 5
          }
        },
        line: 226
      },
      "16": {
        name: "getReminderStats",
        decl: {
          start: {
            line: 251,
            column: 15
          },
          end: {
            line: 251,
            column: 31
          }
        },
        loc: {
          start: {
            line: 251,
            column: 39
          },
          end: {
            line: 296,
            column: 1
          }
        },
        line: 251
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 41,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 41,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 39
      },
      "1": {
        loc: {
          start: {
            line: 50,
            column: 32
          },
          end: {
            line: 50,
            column: 54
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 50,
            column: 53
          },
          end: {
            line: 50,
            column: 54
          }
        }],
        line: 50
      },
      "2": {
        loc: {
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 67,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 67,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 58
      },
      "3": {
        loc: {
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 28
          },
          end: {
            line: 70,
            column: 34
          }
        }, {
          start: {
            line: 70,
            column: 38
          },
          end: {
            line: 70,
            column: 40
          }
        }],
        line: 70
      },
      "4": {
        loc: {
          start: {
            line: 73,
            column: 12
          },
          end: {
            line: 75,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 12
          },
          end: {
            line: 75,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "5": {
        loc: {
          start: {
            line: 76,
            column: 32
          },
          end: {
            line: 76,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 76,
            column: 32
          },
          end: {
            line: 76,
            column: 38
          }
        }, {
          start: {
            line: 76,
            column: 42
          },
          end: {
            line: 76,
            column: 44
          }
        }],
        line: 76
      },
      "6": {
        loc: {
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 81,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 16
          },
          end: {
            line: 81,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 79
      },
      "7": {
        loc: {
          start: {
            line: 83,
            column: 16
          },
          end: {
            line: 95,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 16
          },
          end: {
            line: 95,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      },
      "8": {
        loc: {
          start: {
            line: 83,
            column: 20
          },
          end: {
            line: 83,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 83,
            column: 20
          },
          end: {
            line: 83,
            column: 26
          }
        }, {
          start: {
            line: 83,
            column: 30
          },
          end: {
            line: 83,
            column: 48
          }
        }, {
          start: {
            line: 83,
            column: 52
          },
          end: {
            line: 83,
            column: 91
          }
        }],
        line: 83
      },
      "9": {
        loc: {
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "10": {
        loc: {
          start: {
            line: 100,
            column: 12
          },
          end: {
            line: 100,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 100,
            column: 12
          },
          end: {
            line: 100,
            column: 28
          }
        }, {
          start: {
            line: 100,
            column: 32
          },
          end: {
            line: 100,
            column: 42
          }
        }],
        line: 100
      },
      "11": {
        loc: {
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 106,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 106,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 104
      },
      "12": {
        loc: {
          start: {
            line: 107,
            column: 36
          },
          end: {
            line: 107,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 107,
            column: 36
          },
          end: {
            line: 107,
            column: 42
          }
        }, {
          start: {
            line: 107,
            column: 46
          },
          end: {
            line: 107,
            column: 48
          }
        }],
        line: 107
      },
      "13": {
        loc: {
          start: {
            line: 110,
            column: 20
          },
          end: {
            line: 112,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 110,
            column: 20
          },
          end: {
            line: 112,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 110
      },
      "14": {
        loc: {
          start: {
            line: 113,
            column: 20
          },
          end: {
            line: 125,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 113,
            column: 20
          },
          end: {
            line: 125,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 113
      },
      "15": {
        loc: {
          start: {
            line: 113,
            column: 24
          },
          end: {
            line: 113,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 113,
            column: 24
          },
          end: {
            line: 113,
            column: 30
          }
        }, {
          start: {
            line: 113,
            column: 34
          },
          end: {
            line: 113,
            column: 52
          }
        }, {
          start: {
            line: 113,
            column: 56
          },
          end: {
            line: 113,
            column: 95
          }
        }],
        line: 113
      },
      "16": {
        loc: {
          start: {
            line: 138,
            column: 25
          },
          end: {
            line: 138,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 138,
            column: 50
          },
          end: {
            line: 138,
            column: 63
          }
        }, {
          start: {
            line: 138,
            column: 66
          },
          end: {
            line: 138,
            column: 81
          }
        }],
        line: 138
      },
      "17": {
        loc: {
          start: {
            line: 146,
            column: 32
          },
          end: {
            line: 146,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 146,
            column: 32
          },
          end: {
            line: 146,
            column: 48
          }
        }, {
          start: {
            line: 146,
            column: 52
          },
          end: {
            line: 146,
            column: 71
          }
        }, {
          start: {
            line: 146,
            column: 75
          },
          end: {
            line: 146,
            column: 86
          }
        }],
        line: 146
      },
      "18": {
        loc: {
          start: {
            line: 193,
            column: 8
          },
          end: {
            line: 202,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 193,
            column: 8
          },
          end: {
            line: 202,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 193
      },
      "19": {
        loc: {
          start: {
            line: 220,
            column: 25
          },
          end: {
            line: 220,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 220,
            column: 50
          },
          end: {
            line: 220,
            column: 63
          }
        }, {
          start: {
            line: 220,
            column: 66
          },
          end: {
            line: 220,
            column: 81
          }
        }],
        line: 220
      },
      "20": {
        loc: {
          start: {
            line: 225,
            column: 36
          },
          end: {
            line: 225,
            column: 58
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 225,
            column: 57
          },
          end: {
            line: 225,
            column: 58
          }
        }],
        line: 225
      },
      "21": {
        loc: {
          start: {
            line: 229,
            column: 8
          },
          end: {
            line: 231,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 229,
            column: 8
          },
          end: {
            line: 231,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 229
      },
      "22": {
        loc: {
          start: {
            line: 238,
            column: 12
          },
          end: {
            line: 243,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 238,
            column: 12
          },
          end: {
            line: 243,
            column: 13
          }
        }, {
          start: {
            line: 240,
            column: 19
          },
          end: {
            line: 243,
            column: 13
          }
        }],
        line: 238
      },
      "23": {
        loc: {
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 257,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 255,
            column: 8
          },
          end: {
            line: 257,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 255
      },
      "24": {
        loc: {
          start: {
            line: 259,
            column: 8
          },
          end: {
            line: 268,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 259,
            column: 8
          },
          end: {
            line: 268,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 259
      },
      "25": {
        loc: {
          start: {
            line: 271,
            column: 31
          },
          end: {
            line: 271,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 271,
            column: 31
          },
          end: {
            line: 271,
            column: 40
          }
        }, {
          start: {
            line: 271,
            column: 44
          },
          end: {
            line: 271,
            column: 46
          }
        }],
        line: 271
      },
      "26": {
        loc: {
          start: {
            line: 272,
            column: 12
          },
          end: {
            line: 274,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 272,
            column: 12
          },
          end: {
            line: 274,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 272
      },
      "27": {
        loc: {
          start: {
            line: 273,
            column: 55
          },
          end: {
            line: 273,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 273,
            column: 55
          },
          end: {
            line: 273,
            column: 90
          }
        }, {
          start: {
            line: 273,
            column: 94
          },
          end: {
            line: 273,
            column: 95
          }
        }],
        line: 273
      },
      "28": {
        loc: {
          start: {
            line: 275,
            column: 12
          },
          end: {
            line: 277,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 275,
            column: 12
          },
          end: {
            line: 277,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 275
      },
      "29": {
        loc: {
          start: {
            line: 276,
            column: 61
          },
          end: {
            line: 276,
            column: 107
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 276,
            column: 61
          },
          end: {
            line: 276,
            column: 102
          }
        }, {
          start: {
            line: 276,
            column: 106
          },
          end: {
            line: 276,
            column: 107
          }
        }],
        line: 276
      },
      "30": {
        loc: {
          start: {
            line: 282,
            column: 32
          },
          end: {
            line: 282,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 282,
            column: 32
          },
          end: {
            line: 282,
            column: 49
          }
        }, {
          start: {
            line: 282,
            column: 53
          },
          end: {
            line: 282,
            column: 54
          }
        }],
        line: 282
      },
      "31": {
        loc: {
          start: {
            line: 292,
            column: 25
          },
          end: {
            line: 292,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 292,
            column: 50
          },
          end: {
            line: 292,
            column: 63
          }
        }, {
          start: {
            line: 292,
            column: 66
          },
          end: {
            line: 292,
            column: 81
          }
        }],
        line: 292
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    b: {
      "0": [0, 0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0, 0],
      "16": [0, 0],
      "17": [0, 0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/rsvpReminderService.ts"],
      sourcesContent: ["import { createClient } from '@supabase/supabase-js';\nimport type { Result } from '@/types';\nimport { ERROR_CODES } from '@/types';\nimport { sendEmail } from './emailService';\nimport { executeCronJob, type CronJobResult } from './cronService';\n\n// Initialize Supabase client for database operations\n// Use a getter function to allow for testing\nlet supabaseInstance: ReturnType<typeof createClient> | null = null;\n\nfunction getSupabaseClient() {\n  if (!supabaseInstance) {\n    supabaseInstance = createClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.SUPABASE_SERVICE_ROLE_KEY!\n    );\n  }\n  return supabaseInstance;\n}\n\n// Export for testing\nexport function __setSupabaseClient(client: any) {\n  supabaseInstance = client;\n}\n\n// Export for testing\nexport function __resetSupabaseClient() {\n  supabaseInstance = null;\n}\n\n/**\n * Guest with pending RSVP information.\n */\ninterface PendingRSVPGuest {\n  guest_id: string;\n  guest_name: string;\n  guest_email: string;\n  event_id?: string;\n  event_name?: string;\n  activity_id?: string;\n  activity_name?: string;\n  deadline: string;\n  days_until_deadline: number;\n}\n\n/**\n * Finds guests with pending RSVPs approaching their deadline.\n * \n * @param daysBeforeDeadline - Number of days before deadline to send reminder (default: 7)\n * @returns Result containing array of guests needing reminders\n * \n * Requirements: 6.8, 22.2, 22.3, 19.3\n */\nexport async function findPendingRSVPs(\n  daysBeforeDeadline: number = 7\n): Promise<Result<PendingRSVPGuest[]>> {\n  try {\n    const supabase = getSupabaseClient();\n    const now = new Date();\n    const reminderDate = new Date(now);\n    reminderDate.setDate(reminderDate.getDate() + daysBeforeDeadline);\n\n    // Find events with upcoming RSVP deadlines\n    const { data: events, error: eventsError } = await supabase\n      .from('events')\n      .select('id, name, rsvp_deadline')\n      .eq('rsvp_required', true)\n      .not('rsvp_deadline', 'is', null)\n      .gte('rsvp_deadline', now.toISOString().split('T')[0])\n      .lte('rsvp_deadline', reminderDate.toISOString().split('T')[0])\n      .eq('status', 'published');\n\n    if (eventsError) {\n      return {\n        success: false,\n        error: {\n          code: ERROR_CODES.DATABASE_ERROR,\n          message: 'Failed to fetch events with deadlines',\n          details: eventsError,\n        },\n      };\n    }\n\n    const pendingGuests: PendingRSVPGuest[] = [];\n\n    // For each event, find guests with pending RSVPs\n    for (const event of (events || []) as Array<{ id: string; name: string; rsvp_deadline: string }>) {\n      // Get all guests who should RSVP to this event\n      const { data: guests, error: guestsError } = await supabase\n        .from('guests')\n        .select('id, first_name, last_name, email')\n        .not('email', 'is', null)\n        .eq('invitation_sent', true);\n\n      if (guestsError) {\n        continue; // Skip this event on error\n      }\n\n      for (const guest of (guests || []) as Array<{ id: string; first_name: string; last_name: string; email: string }>) {\n        // Check if guest has pending RSVP for this event\n        const { data: rsvps, error: rsvpError } = await supabase\n          .from('rsvps')\n          .select('status')\n          .eq('guest_id', guest.id)\n          .eq('event_id', event.id);\n\n        if (rsvpError) {\n          continue; // Skip this guest on error\n        }\n\n        // If no RSVP or RSVP is pending, add to reminder list\n        if (!rsvps || rsvps.length === 0 || (rsvps as Array<{ status: string }>).some((r) => r.status === 'pending')) {\n          const deadline = new Date(event.rsvp_deadline!);\n          const daysUntil = Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n\n          pendingGuests.push({\n            guest_id: guest.id,\n            guest_name: `${guest.first_name} ${guest.last_name}`,\n            guest_email: guest.email!,\n            event_id: event.id,\n            event_name: event.name,\n            deadline: event.rsvp_deadline!,\n            days_until_deadline: daysUntil,\n          });\n        }\n      }\n    }\n\n    // Also check activities with RSVP deadlines\n    const { data: activities, error: activitiesError } = await supabase\n      .from('activities')\n      .select('id, name')\n      .eq('status', 'published');\n\n    if (!activitiesError && activities) {\n      for (const activity of activities as Array<{ id: string; name: string }>) {\n        // Get guests who should RSVP to this activity\n        const { data: guests, error: guestsError } = await supabase\n          .from('guests')\n          .select('id, first_name, last_name, email, rsvp_deadline')\n          .not('email', 'is', null)\n          .not('rsvp_deadline', 'is', null)\n          .gte('rsvp_deadline', now.toISOString().split('T')[0])\n          .lte('rsvp_deadline', reminderDate.toISOString().split('T')[0])\n          .eq('invitation_sent', true);\n\n        if (guestsError) {\n          continue;\n        }\n\n        for (const guest of (guests || []) as Array<{ id: string; first_name: string; last_name: string; email: string; rsvp_deadline: string }>) {\n          // Check if guest has pending RSVP for this activity\n          const { data: rsvps, error: rsvpError } = await supabase\n            .from('rsvps')\n            .select('status')\n            .eq('guest_id', guest.id)\n            .eq('activity_id', activity.id);\n\n          if (rsvpError) {\n            continue;\n          }\n\n          if (!rsvps || rsvps.length === 0 || (rsvps as Array<{ status: string }>).some((r) => r.status === 'pending')) {\n            const deadline = new Date(guest.rsvp_deadline!);\n            const daysUntil = Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n\n            pendingGuests.push({\n              guest_id: guest.id,\n              guest_name: `${guest.first_name} ${guest.last_name}`,\n              guest_email: guest.email!,\n              activity_id: activity.id,\n              activity_name: activity.name,\n              deadline: guest.rsvp_deadline!,\n              days_until_deadline: daysUntil,\n            });\n          }\n        }\n      }\n    }\n\n    return { success: true, data: pendingGuests };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: ERROR_CODES.UNKNOWN_ERROR,\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Sends RSVP reminder email to a guest.\n * \n * @param guest - Guest information with pending RSVP\n * @returns Result indicating success or error\n * \n * Requirements: 6.8, 22.2, 22.3, 19.3\n */\nexport async function sendRSVPReminder(guest: PendingRSVPGuest): Promise<Result<void>> {\n  try {\n    const supabase = getSupabaseClient();\n    const eventOrActivity = guest.event_name || guest.activity_name || 'the event';\n    const deadlineDate = new Date(guest.deadline).toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n\n    const subject = `RSVP Reminder: ${eventOrActivity} - ${guest.days_until_deadline} days left`;\n    \n    const html = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h2 style=\"color: #22c55e;\">RSVP Reminder</h2>\n        <p>Hi ${guest.guest_name},</p>\n        <p>This is a friendly reminder that your RSVP for <strong>${eventOrActivity}</strong> is still pending.</p>\n        <p><strong>Deadline:</strong> ${deadlineDate} (${guest.days_until_deadline} days from now)</p>\n        <p>Please take a moment to let us know if you'll be attending by visiting your guest portal.</p>\n        <p style=\"margin-top: 30px;\">\n          <a href=\"${process.env.NEXT_PUBLIC_APP_URL}/guest/rsvp\" \n             style=\"background-color: #22c55e; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;\">\n            Submit Your RSVP\n          </a>\n        </p>\n        <p style=\"margin-top: 30px; color: #6b7280; font-size: 14px;\">\n          If you have any questions, please don't hesitate to reach out.\n        </p>\n        <p style=\"color: #6b7280; font-size: 14px;\">Pura Vida! \uD83C\uDF34</p>\n      </div>\n    `;\n\n    const text = `\nHi ${guest.guest_name},\n\nThis is a friendly reminder that your RSVP for ${eventOrActivity} is still pending.\n\nDeadline: ${deadlineDate} (${guest.days_until_deadline} days from now)\n\nPlease take a moment to let us know if you'll be attending by visiting your guest portal:\n${process.env.NEXT_PUBLIC_APP_URL}/guest/rsvp\n\nIf you have any questions, please don't hesitate to reach out.\n\nPura Vida! \uD83C\uDF34\n    `;\n\n    const emailResult = await sendEmail({\n      to: guest.guest_email,\n      subject,\n      html,\n      text,\n    });\n\n    if (!emailResult.success) {\n      return {\n        success: false,\n        error: {\n          code: ERROR_CODES.EMAIL_SERVICE_ERROR,\n          message: `Failed to send reminder to ${guest.guest_email}`,\n          details: emailResult.error,\n        },\n      };\n    }\n\n    // Log the reminder sent\n    await supabase.from('rsvp_reminders_sent').insert({\n      guest_id: guest.guest_id,\n      event_id: guest.event_id,\n      activity_id: guest.activity_id,\n      sent_at: new Date().toISOString(),\n      days_before_deadline: guest.days_until_deadline,\n    } as any);\n\n    return { success: true, data: undefined };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: ERROR_CODES.UNKNOWN_ERROR,\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Processes all pending RSVP reminders.\n * This function should be called by a scheduled cron job.\n * \n * @param daysBeforeDeadline - Number of days before deadline to send reminder (default: 7)\n * @returns Result containing processing statistics\n * \n * Requirements: 6.8, 22.2, 22.3, 19.3\n * \n * @example\n * // Run daily to send reminders 7 days before deadline\n * await processRSVPReminders(7);\n */\nexport async function processRSVPReminders(\n  daysBeforeDeadline: number = 7\n): Promise<Result<CronJobResult>> {\n  return executeCronJob('rsvp_deadline_reminders', async () => {\n    // Find guests needing reminders\n    const pendingResult = await findPendingRSVPs(daysBeforeDeadline);\n\n    if (!pendingResult.success) {\n      throw new Error(pendingResult.error.message);\n    }\n\n    const pendingGuests = pendingResult.data;\n    let sent = 0;\n    let failed = 0;\n\n    // Send reminder to each guest\n    for (const guest of pendingGuests) {\n      const reminderResult = await sendRSVPReminder(guest);\n\n      if (reminderResult.success) {\n        sent++;\n      } else {\n        failed++;\n        console.error(`Failed to send reminder to ${guest.guest_email}:`, reminderResult.error);\n      }\n    }\n\n    return {\n      itemsProcessed: sent,\n      itemsFailed: failed,\n    };\n  });\n}\n\n/**\n * Gets RSVP reminder statistics.\n * \n * @param since - Optional start date for statistics (ISO string)\n * @returns Result containing reminder statistics\n */\nexport async function getReminderStats(\n  since?: string\n): Promise<\n  Result<{\n    totalReminders: number;\n    remindersByEvent: Record<string, number>;\n    remindersByActivity: Record<string, number>;\n  }>\n> {\n  try {\n    const supabase = getSupabaseClient();\n    let query = supabase.from('rsvp_reminders_sent').select('*');\n\n    if (since) {\n      query = query.gte('sent_at', since);\n    }\n\n    const { data: reminders, error } = await query;\n\n    if (error) {\n      return {\n        success: false,\n        error: {\n          code: ERROR_CODES.DATABASE_ERROR,\n          message: 'Failed to fetch reminder statistics',\n          details: error,\n        },\n      };\n    }\n\n    const remindersByEvent: Record<string, number> = {};\n    const remindersByActivity: Record<string, number> = {};\n\n    for (const reminder of (reminders || []) as Array<{ event_id?: string; activity_id?: string }>) {\n      if (reminder.event_id) {\n        remindersByEvent[reminder.event_id] = (remindersByEvent[reminder.event_id] || 0) + 1;\n      }\n      if (reminder.activity_id) {\n        remindersByActivity[reminder.activity_id] = (remindersByActivity[reminder.activity_id] || 0) + 1;\n      }\n    }\n\n    return {\n      success: true,\n      data: {\n        totalReminders: reminders?.length || 0,\n        remindersByEvent,\n        remindersByActivity,\n      },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: ERROR_CODES.UNKNOWN_ERROR,\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n"],
      names: ["__resetSupabaseClient", "__setSupabaseClient", "findPendingRSVPs", "getReminderStats", "processRSVPReminders", "sendRSVPReminder", "supabaseInstance", "getSupabaseClient", "createClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "SUPABASE_SERVICE_ROLE_KEY", "client", "daysBeforeDeadline", "supabase", "now", "Date", "reminderDate", "setDate", "getDate", "data", "events", "error", "eventsError", "from", "select", "eq", "not", "gte", "toISOString", "split", "lte", "success", "code", "ERROR_CODES", "DATABASE_ERROR", "message", "details", "pendingGuests", "event", "guests", "guestsError", "guest", "rsvps", "rsvpError", "id", "length", "some", "r", "status", "deadline", "rsvp_deadline", "daysUntil", "Math", "ceil", "getTime", "push", "guest_id", "guest_name", "first_name", "last_name", "guest_email", "email", "event_id", "event_name", "name", "days_until_deadline", "activities", "activitiesError", "activity", "activity_id", "activity_name", "UNKNOWN_ERROR", "Error", "eventOrActivity", "deadlineDate", "toLocaleDateString", "weekday", "year", "month", "day", "subject", "html", "NEXT_PUBLIC_APP_URL", "text", "emailResult", "sendEmail", "to", "EMAIL_SERVICE_ERROR", "insert", "sent_at", "days_before_deadline", "undefined", "executeCronJob", "pendingResult", "sent", "failed", "reminderResult", "console", "itemsProcessed", "itemsFailed", "since", "query", "reminders", "remindersByEvent", "remindersByActivity", "reminder", "totalReminders"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "2c15ed8f1c59d2b862cede779f6a57837178e839"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_16z24l7yqr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_16z24l7yqr();
cov_16z24l7yqr().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[0]++;
  cov_16z24l7yqr().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_16z24l7yqr().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_16z24l7yqr().s[3]++;
_export(exports, {
  get __resetSupabaseClient() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[1]++;
    cov_16z24l7yqr().s[4]++;
    return __resetSupabaseClient;
  },
  get __setSupabaseClient() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[2]++;
    cov_16z24l7yqr().s[5]++;
    return __setSupabaseClient;
  },
  get findPendingRSVPs() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[3]++;
    cov_16z24l7yqr().s[6]++;
    return findPendingRSVPs;
  },
  get getReminderStats() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[4]++;
    cov_16z24l7yqr().s[7]++;
    return getReminderStats;
  },
  get processRSVPReminders() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[5]++;
    cov_16z24l7yqr().s[8]++;
    return processRSVPReminders;
  },
  get sendRSVPReminder() {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[6]++;
    cov_16z24l7yqr().s[9]++;
    return sendRSVPReminder;
  }
});
const _supabasejs =
/* istanbul ignore next */
(cov_16z24l7yqr().s[10]++, require("@supabase/supabase-js"));
const _types =
/* istanbul ignore next */
(cov_16z24l7yqr().s[11]++, require("../types"));
const _emailService =
/* istanbul ignore next */
(cov_16z24l7yqr().s[12]++, require("./emailService"));
const _cronService =
/* istanbul ignore next */
(cov_16z24l7yqr().s[13]++, require("./cronService"));
// Initialize Supabase client for database operations
// Use a getter function to allow for testing
let supabaseInstance =
/* istanbul ignore next */
(cov_16z24l7yqr().s[14]++, null);
function getSupabaseClient() {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[7]++;
  cov_16z24l7yqr().s[15]++;
  if (!supabaseInstance) {
    /* istanbul ignore next */
    cov_16z24l7yqr().b[0][0]++;
    cov_16z24l7yqr().s[16]++;
    supabaseInstance = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);
  } else
  /* istanbul ignore next */
  {
    cov_16z24l7yqr().b[0][1]++;
  }
  cov_16z24l7yqr().s[17]++;
  return supabaseInstance;
}
function __setSupabaseClient(client) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[8]++;
  cov_16z24l7yqr().s[18]++;
  supabaseInstance = client;
}
function __resetSupabaseClient() {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[9]++;
  cov_16z24l7yqr().s[19]++;
  supabaseInstance = null;
}
async function findPendingRSVPs(daysBeforeDeadline =
/* istanbul ignore next */
(cov_16z24l7yqr().b[1][0]++, 7)) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[10]++;
  cov_16z24l7yqr().s[20]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[21]++, getSupabaseClient());
    const now =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[22]++, new Date());
    const reminderDate =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[23]++, new Date(now));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[24]++;
    reminderDate.setDate(reminderDate.getDate() + daysBeforeDeadline);
    // Find events with upcoming RSVP deadlines
    const {
      data: events,
      error: eventsError
    } =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[25]++, await supabase.from('events').select('id, name, rsvp_deadline').eq('rsvp_required', true).not('rsvp_deadline', 'is', null).gte('rsvp_deadline', now.toISOString().split('T')[0]).lte('rsvp_deadline', reminderDate.toISOString().split('T')[0]).eq('status', 'published'));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[26]++;
    if (eventsError) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[2][0]++;
      cov_16z24l7yqr().s[27]++;
      return {
        success: false,
        error: {
          code: _types.ERROR_CODES.DATABASE_ERROR,
          message: 'Failed to fetch events with deadlines',
          details: eventsError
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[2][1]++;
    }
    const pendingGuests =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[28]++, []);
    // For each event, find guests with pending RSVPs
    /* istanbul ignore next */
    cov_16z24l7yqr().s[29]++;
    for (const event of
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[3][0]++, events) ||
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[3][1]++, [])) {
      // Get all guests who should RSVP to this event
      const {
        data: guests,
        error: guestsError
      } =
      /* istanbul ignore next */
      (cov_16z24l7yqr().s[30]++, await supabase.from('guests').select('id, first_name, last_name, email').not('email', 'is', null).eq('invitation_sent', true));
      /* istanbul ignore next */
      cov_16z24l7yqr().s[31]++;
      if (guestsError) {
        /* istanbul ignore next */
        cov_16z24l7yqr().b[4][0]++;
        cov_16z24l7yqr().s[32]++;
        continue; // Skip this event on error
      } else
      /* istanbul ignore next */
      {
        cov_16z24l7yqr().b[4][1]++;
      }
      cov_16z24l7yqr().s[33]++;
      for (const guest of
      /* istanbul ignore next */
      (cov_16z24l7yqr().b[5][0]++, guests) ||
      /* istanbul ignore next */
      (cov_16z24l7yqr().b[5][1]++, [])) {
        // Check if guest has pending RSVP for this event
        const {
          data: rsvps,
          error: rsvpError
        } =
        /* istanbul ignore next */
        (cov_16z24l7yqr().s[34]++, await supabase.from('rsvps').select('status').eq('guest_id', guest.id).eq('event_id', event.id));
        /* istanbul ignore next */
        cov_16z24l7yqr().s[35]++;
        if (rsvpError) {
          /* istanbul ignore next */
          cov_16z24l7yqr().b[6][0]++;
          cov_16z24l7yqr().s[36]++;
          continue; // Skip this guest on error
        } else
        /* istanbul ignore next */
        {
          cov_16z24l7yqr().b[6][1]++;
        }
        // If no RSVP or RSVP is pending, add to reminder list
        cov_16z24l7yqr().s[37]++;
        if (
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[8][0]++, !rsvps) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[8][1]++, rsvps.length === 0) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[8][2]++, rsvps.some(r => {
          /* istanbul ignore next */
          cov_16z24l7yqr().f[11]++;
          cov_16z24l7yqr().s[38]++;
          return r.status === 'pending';
        }))) {
          /* istanbul ignore next */
          cov_16z24l7yqr().b[7][0]++;
          const deadline =
          /* istanbul ignore next */
          (cov_16z24l7yqr().s[39]++, new Date(event.rsvp_deadline));
          const daysUntil =
          /* istanbul ignore next */
          (cov_16z24l7yqr().s[40]++, Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24)));
          /* istanbul ignore next */
          cov_16z24l7yqr().s[41]++;
          pendingGuests.push({
            guest_id: guest.id,
            guest_name: `${guest.first_name} ${guest.last_name}`,
            guest_email: guest.email,
            event_id: event.id,
            event_name: event.name,
            deadline: event.rsvp_deadline,
            days_until_deadline: daysUntil
          });
        } else
        /* istanbul ignore next */
        {
          cov_16z24l7yqr().b[7][1]++;
        }
      }
    }
    // Also check activities with RSVP deadlines
    const {
      data: activities,
      error: activitiesError
    } =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[42]++, await supabase.from('activities').select('id, name').eq('status', 'published'));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[43]++;
    if (
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[10][0]++, !activitiesError) &&
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[10][1]++, activities)) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[9][0]++;
      cov_16z24l7yqr().s[44]++;
      for (const activity of activities) {
        // Get guests who should RSVP to this activity
        const {
          data: guests,
          error: guestsError
        } =
        /* istanbul ignore next */
        (cov_16z24l7yqr().s[45]++, await supabase.from('guests').select('id, first_name, last_name, email, rsvp_deadline').not('email', 'is', null).not('rsvp_deadline', 'is', null).gte('rsvp_deadline', now.toISOString().split('T')[0]).lte('rsvp_deadline', reminderDate.toISOString().split('T')[0]).eq('invitation_sent', true));
        /* istanbul ignore next */
        cov_16z24l7yqr().s[46]++;
        if (guestsError) {
          /* istanbul ignore next */
          cov_16z24l7yqr().b[11][0]++;
          cov_16z24l7yqr().s[47]++;
          continue;
        } else
        /* istanbul ignore next */
        {
          cov_16z24l7yqr().b[11][1]++;
        }
        cov_16z24l7yqr().s[48]++;
        for (const guest of
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[12][0]++, guests) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[12][1]++, [])) {
          // Check if guest has pending RSVP for this activity
          const {
            data: rsvps,
            error: rsvpError
          } =
          /* istanbul ignore next */
          (cov_16z24l7yqr().s[49]++, await supabase.from('rsvps').select('status').eq('guest_id', guest.id).eq('activity_id', activity.id));
          /* istanbul ignore next */
          cov_16z24l7yqr().s[50]++;
          if (rsvpError) {
            /* istanbul ignore next */
            cov_16z24l7yqr().b[13][0]++;
            cov_16z24l7yqr().s[51]++;
            continue;
          } else
          /* istanbul ignore next */
          {
            cov_16z24l7yqr().b[13][1]++;
          }
          cov_16z24l7yqr().s[52]++;
          if (
          /* istanbul ignore next */
          (cov_16z24l7yqr().b[15][0]++, !rsvps) ||
          /* istanbul ignore next */
          (cov_16z24l7yqr().b[15][1]++, rsvps.length === 0) ||
          /* istanbul ignore next */
          (cov_16z24l7yqr().b[15][2]++, rsvps.some(r => {
            /* istanbul ignore next */
            cov_16z24l7yqr().f[12]++;
            cov_16z24l7yqr().s[53]++;
            return r.status === 'pending';
          }))) {
            /* istanbul ignore next */
            cov_16z24l7yqr().b[14][0]++;
            const deadline =
            /* istanbul ignore next */
            (cov_16z24l7yqr().s[54]++, new Date(guest.rsvp_deadline));
            const daysUntil =
            /* istanbul ignore next */
            (cov_16z24l7yqr().s[55]++, Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24)));
            /* istanbul ignore next */
            cov_16z24l7yqr().s[56]++;
            pendingGuests.push({
              guest_id: guest.id,
              guest_name: `${guest.first_name} ${guest.last_name}`,
              guest_email: guest.email,
              activity_id: activity.id,
              activity_name: activity.name,
              deadline: guest.rsvp_deadline,
              days_until_deadline: daysUntil
            });
          } else
          /* istanbul ignore next */
          {
            cov_16z24l7yqr().b[14][1]++;
          }
        }
      }
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[9][1]++;
    }
    cov_16z24l7yqr().s[57]++;
    return {
      success: true,
      data: pendingGuests
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_16z24l7yqr().s[58]++;
    return {
      success: false,
      error: {
        code: _types.ERROR_CODES.UNKNOWN_ERROR,
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[16][0]++, error.message) :
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[16][1]++, 'Unknown error')
      }
    };
  }
}
async function sendRSVPReminder(guest) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[13]++;
  cov_16z24l7yqr().s[59]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[60]++, getSupabaseClient());
    const eventOrActivity =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[61]++,
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[17][0]++, guest.event_name) ||
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[17][1]++, guest.activity_name) ||
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[17][2]++, 'the event'));
    const deadlineDate =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[62]++, new Date(guest.deadline).toLocaleDateString('en-US', {
      weekday: 'long',
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    }));
    const subject =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[63]++, `RSVP Reminder: ${eventOrActivity} - ${guest.days_until_deadline} days left`);
    const html =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[64]++, `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h2 style="color: #22c55e;">RSVP Reminder</h2>
        <p>Hi ${guest.guest_name},</p>
        <p>This is a friendly reminder that your RSVP for <strong>${eventOrActivity}</strong> is still pending.</p>
        <p><strong>Deadline:</strong> ${deadlineDate} (${guest.days_until_deadline} days from now)</p>
        <p>Please take a moment to let us know if you'll be attending by visiting your guest portal.</p>
        <p style="margin-top: 30px;">
          <a href="${process.env.NEXT_PUBLIC_APP_URL}/guest/rsvp" 
             style="background-color: #22c55e; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">
            Submit Your RSVP
          </a>
        </p>
        <p style="margin-top: 30px; color: #6b7280; font-size: 14px;">
          If you have any questions, please don't hesitate to reach out.
        </p>
        <p style="color: #6b7280; font-size: 14px;">Pura Vida! </p>
      </div>
    `);
    const text =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[65]++, `
Hi ${guest.guest_name},

This is a friendly reminder that your RSVP for ${eventOrActivity} is still pending.

Deadline: ${deadlineDate} (${guest.days_until_deadline} days from now)

Please take a moment to let us know if you'll be attending by visiting your guest portal:
${process.env.NEXT_PUBLIC_APP_URL}/guest/rsvp

If you have any questions, please don't hesitate to reach out.

Pura Vida! 
    `);
    const emailResult =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[66]++, await (0, _emailService.sendEmail)({
      to: guest.guest_email,
      subject,
      html,
      text
    }));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[67]++;
    if (!emailResult.success) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[18][0]++;
      cov_16z24l7yqr().s[68]++;
      return {
        success: false,
        error: {
          code: _types.ERROR_CODES.EMAIL_SERVICE_ERROR,
          message: `Failed to send reminder to ${guest.guest_email}`,
          details: emailResult.error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[18][1]++;
    }
    // Log the reminder sent
    cov_16z24l7yqr().s[69]++;
    await supabase.from('rsvp_reminders_sent').insert({
      guest_id: guest.guest_id,
      event_id: guest.event_id,
      activity_id: guest.activity_id,
      sent_at: new Date().toISOString(),
      days_before_deadline: guest.days_until_deadline
    });
    /* istanbul ignore next */
    cov_16z24l7yqr().s[70]++;
    return {
      success: true,
      data: undefined
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_16z24l7yqr().s[71]++;
    return {
      success: false,
      error: {
        code: _types.ERROR_CODES.UNKNOWN_ERROR,
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[19][0]++, error.message) :
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[19][1]++, 'Unknown error')
      }
    };
  }
}
async function processRSVPReminders(daysBeforeDeadline =
/* istanbul ignore next */
(cov_16z24l7yqr().b[20][0]++, 7)) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[14]++;
  cov_16z24l7yqr().s[72]++;
  return (0, _cronService.executeCronJob)('rsvp_deadline_reminders', async () => {
    /* istanbul ignore next */
    cov_16z24l7yqr().f[15]++;
    // Find guests needing reminders
    const pendingResult =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[73]++, await findPendingRSVPs(daysBeforeDeadline));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[74]++;
    if (!pendingResult.success) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[21][0]++;
      cov_16z24l7yqr().s[75]++;
      throw new Error(pendingResult.error.message);
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[21][1]++;
    }
    const pendingGuests =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[76]++, pendingResult.data);
    let sent =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[77]++, 0);
    let failed =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[78]++, 0);
    // Send reminder to each guest
    /* istanbul ignore next */
    cov_16z24l7yqr().s[79]++;
    for (const guest of pendingGuests) {
      const reminderResult =
      /* istanbul ignore next */
      (cov_16z24l7yqr().s[80]++, await sendRSVPReminder(guest));
      /* istanbul ignore next */
      cov_16z24l7yqr().s[81]++;
      if (reminderResult.success) {
        /* istanbul ignore next */
        cov_16z24l7yqr().b[22][0]++;
        cov_16z24l7yqr().s[82]++;
        sent++;
      } else {
        /* istanbul ignore next */
        cov_16z24l7yqr().b[22][1]++;
        cov_16z24l7yqr().s[83]++;
        failed++;
        /* istanbul ignore next */
        cov_16z24l7yqr().s[84]++;
        console.error(`Failed to send reminder to ${guest.guest_email}:`, reminderResult.error);
      }
    }
    /* istanbul ignore next */
    cov_16z24l7yqr().s[85]++;
    return {
      itemsProcessed: sent,
      itemsFailed: failed
    };
  });
}
async function getReminderStats(since) {
  /* istanbul ignore next */
  cov_16z24l7yqr().f[16]++;
  cov_16z24l7yqr().s[86]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[87]++, getSupabaseClient());
    let query =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[88]++, supabase.from('rsvp_reminders_sent').select('*'));
    /* istanbul ignore next */
    cov_16z24l7yqr().s[89]++;
    if (since) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[23][0]++;
      cov_16z24l7yqr().s[90]++;
      query = query.gte('sent_at', since);
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[23][1]++;
    }
    const {
      data: reminders,
      error
    } =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[91]++, await query);
    /* istanbul ignore next */
    cov_16z24l7yqr().s[92]++;
    if (error) {
      /* istanbul ignore next */
      cov_16z24l7yqr().b[24][0]++;
      cov_16z24l7yqr().s[93]++;
      return {
        success: false,
        error: {
          code: _types.ERROR_CODES.DATABASE_ERROR,
          message: 'Failed to fetch reminder statistics',
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_16z24l7yqr().b[24][1]++;
    }
    const remindersByEvent =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[94]++, {});
    const remindersByActivity =
    /* istanbul ignore next */
    (cov_16z24l7yqr().s[95]++, {});
    /* istanbul ignore next */
    cov_16z24l7yqr().s[96]++;
    for (const reminder of
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[25][0]++, reminders) ||
    /* istanbul ignore next */
    (cov_16z24l7yqr().b[25][1]++, [])) {
      /* istanbul ignore next */
      cov_16z24l7yqr().s[97]++;
      if (reminder.event_id) {
        /* istanbul ignore next */
        cov_16z24l7yqr().b[26][0]++;
        cov_16z24l7yqr().s[98]++;
        remindersByEvent[reminder.event_id] = (
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[27][0]++, remindersByEvent[reminder.event_id]) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[27][1]++, 0)) + 1;
      } else
      /* istanbul ignore next */
      {
        cov_16z24l7yqr().b[26][1]++;
      }
      cov_16z24l7yqr().s[99]++;
      if (reminder.activity_id) {
        /* istanbul ignore next */
        cov_16z24l7yqr().b[28][0]++;
        cov_16z24l7yqr().s[100]++;
        remindersByActivity[reminder.activity_id] = (
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[29][0]++, remindersByActivity[reminder.activity_id]) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[29][1]++, 0)) + 1;
      } else
      /* istanbul ignore next */
      {
        cov_16z24l7yqr().b[28][1]++;
      }
    }
    /* istanbul ignore next */
    cov_16z24l7yqr().s[101]++;
    return {
      success: true,
      data: {
        totalReminders:
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[30][0]++, reminders?.length) ||
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[30][1]++, 0),
        remindersByEvent,
        remindersByActivity
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_16z24l7yqr().s[102]++;
    return {
      success: false,
      error: {
        code: _types.ERROR_CODES.UNKNOWN_ERROR,
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[31][0]++, error.message) :
        /* istanbul ignore next */
        (cov_16z24l7yqr().b[31][1]++, 'Unknown error')
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX3Jlc2V0U3VwYWJhc2VDbGllbnQiLCJjb3ZfMTZ6MjRsN3lxciIsImYiLCJzIiwiX19zZXRTdXBhYmFzZUNsaWVudCIsImZpbmRQZW5kaW5nUlNWUHMiLCJnZXRSZW1pbmRlclN0YXRzIiwicHJvY2Vzc1JTVlBSZW1pbmRlcnMiLCJzZW5kUlNWUFJlbWluZGVyIiwic3VwYWJhc2VJbnN0YW5jZSIsImdldFN1cGFiYXNlQ2xpZW50IiwiYiIsIl9zdXBhYmFzZWpzIiwiY3JlYXRlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJjbGllbnQiLCJkYXlzQmVmb3JlRGVhZGxpbmUiLCJzdXBhYmFzZSIsIm5vdyIsIkRhdGUiLCJyZW1pbmRlckRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhdGEiLCJldmVudHMiLCJlcnJvciIsImV2ZW50c0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwibm90IiwiZ3RlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImx0ZSIsInN1Y2Nlc3MiLCJjb2RlIiwiX3R5cGVzIiwiRVJST1JfQ09ERVMiLCJEQVRBQkFTRV9FUlJPUiIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwicGVuZGluZ0d1ZXN0cyIsImV2ZW50IiwiZ3Vlc3RzIiwiZ3Vlc3RzRXJyb3IiLCJndWVzdCIsInJzdnBzIiwicnN2cEVycm9yIiwiaWQiLCJsZW5ndGgiLCJzb21lIiwiciIsInN0YXR1cyIsImRlYWRsaW5lIiwicnN2cF9kZWFkbGluZSIsImRheXNVbnRpbCIsIk1hdGgiLCJjZWlsIiwiZ2V0VGltZSIsInB1c2giLCJndWVzdF9pZCIsImd1ZXN0X25hbWUiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZ3Vlc3RfZW1haWwiLCJlbWFpbCIsImV2ZW50X2lkIiwiZXZlbnRfbmFtZSIsIm5hbWUiLCJkYXlzX3VudGlsX2RlYWRsaW5lIiwiYWN0aXZpdGllcyIsImFjdGl2aXRpZXNFcnJvciIsImFjdGl2aXR5IiwiYWN0aXZpdHlfaWQiLCJhY3Rpdml0eV9uYW1lIiwiVU5LTk9XTl9FUlJPUiIsIkVycm9yIiwiZXZlbnRPckFjdGl2aXR5IiwiZGVhZGxpbmVEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInllYXIiLCJtb250aCIsImRheSIsInN1YmplY3QiLCJodG1sIiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsInRleHQiLCJlbWFpbFJlc3VsdCIsIl9lbWFpbFNlcnZpY2UiLCJzZW5kRW1haWwiLCJ0byIsIkVNQUlMX1NFUlZJQ0VfRVJST1IiLCJpbnNlcnQiLCJzZW50X2F0IiwiZGF5c19iZWZvcmVfZGVhZGxpbmUiLCJ1bmRlZmluZWQiLCJfY3JvblNlcnZpY2UiLCJleGVjdXRlQ3JvbkpvYiIsInBlbmRpbmdSZXN1bHQiLCJzZW50IiwiZmFpbGVkIiwicmVtaW5kZXJSZXN1bHQiLCJjb25zb2xlIiwiaXRlbXNQcm9jZXNzZWQiLCJpdGVtc0ZhaWxlZCIsInNpbmNlIiwicXVlcnkiLCJyZW1pbmRlcnMiLCJyZW1pbmRlcnNCeUV2ZW50IiwicmVtaW5kZXJzQnlBY3Rpdml0eSIsInJlbWluZGVyIiwidG90YWxSZW1pbmRlcnMiXSwic291cmNlcyI6WyIvVXNlcnMvamFyb24vRGVza3RvcC93ZWRkaW5nLXBsYXRmb3JtLXYyL3NlcnZpY2VzL3JzdnBSZW1pbmRlclNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB0eXBlIHsgUmVzdWx0IH0gZnJvbSAnQC90eXBlcyc7XG5pbXBvcnQgeyBFUlJPUl9DT0RFUyB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgc2VuZEVtYWlsIH0gZnJvbSAnLi9lbWFpbFNlcnZpY2UnO1xuaW1wb3J0IHsgZXhlY3V0ZUNyb25Kb2IsIHR5cGUgQ3JvbkpvYlJlc3VsdCB9IGZyb20gJy4vY3JvblNlcnZpY2UnO1xuXG4vLyBJbml0aWFsaXplIFN1cGFiYXNlIGNsaWVudCBmb3IgZGF0YWJhc2Ugb3BlcmF0aW9uc1xuLy8gVXNlIGEgZ2V0dGVyIGZ1bmN0aW9uIHRvIGFsbG93IGZvciB0ZXN0aW5nXG5sZXQgc3VwYWJhc2VJbnN0YW5jZTogUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50PiB8IG51bGwgPSBudWxsO1xuXG5mdW5jdGlvbiBnZXRTdXBhYmFzZUNsaWVudCgpIHtcbiAgaWYgKCFzdXBhYmFzZUluc3RhbmNlKSB7XG4gICAgc3VwYWJhc2VJbnN0YW5jZSA9IGNyZWF0ZUNsaWVudChcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHN1cGFiYXNlSW5zdGFuY2U7XG59XG5cbi8vIEV4cG9ydCBmb3IgdGVzdGluZ1xuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0U3VwYWJhc2VDbGllbnQoY2xpZW50OiBhbnkpIHtcbiAgc3VwYWJhc2VJbnN0YW5jZSA9IGNsaWVudDtcbn1cblxuLy8gRXhwb3J0IGZvciB0ZXN0aW5nXG5leHBvcnQgZnVuY3Rpb24gX19yZXNldFN1cGFiYXNlQ2xpZW50KCkge1xuICBzdXBhYmFzZUluc3RhbmNlID0gbnVsbDtcbn1cblxuLyoqXG4gKiBHdWVzdCB3aXRoIHBlbmRpbmcgUlNWUCBpbmZvcm1hdGlvbi5cbiAqL1xuaW50ZXJmYWNlIFBlbmRpbmdSU1ZQR3Vlc3Qge1xuICBndWVzdF9pZDogc3RyaW5nO1xuICBndWVzdF9uYW1lOiBzdHJpbmc7XG4gIGd1ZXN0X2VtYWlsOiBzdHJpbmc7XG4gIGV2ZW50X2lkPzogc3RyaW5nO1xuICBldmVudF9uYW1lPzogc3RyaW5nO1xuICBhY3Rpdml0eV9pZD86IHN0cmluZztcbiAgYWN0aXZpdHlfbmFtZT86IHN0cmluZztcbiAgZGVhZGxpbmU6IHN0cmluZztcbiAgZGF5c191bnRpbF9kZWFkbGluZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEZpbmRzIGd1ZXN0cyB3aXRoIHBlbmRpbmcgUlNWUHMgYXBwcm9hY2hpbmcgdGhlaXIgZGVhZGxpbmUuXG4gKiBcbiAqIEBwYXJhbSBkYXlzQmVmb3JlRGVhZGxpbmUgLSBOdW1iZXIgb2YgZGF5cyBiZWZvcmUgZGVhZGxpbmUgdG8gc2VuZCByZW1pbmRlciAoZGVmYXVsdDogNylcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIGFycmF5IG9mIGd1ZXN0cyBuZWVkaW5nIHJlbWluZGVyc1xuICogXG4gKiBSZXF1aXJlbWVudHM6IDYuOCwgMjIuMiwgMjIuMywgMTkuM1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFBlbmRpbmdSU1ZQcyhcbiAgZGF5c0JlZm9yZURlYWRsaW5lOiBudW1iZXIgPSA3XG4pOiBQcm9taXNlPFJlc3VsdDxQZW5kaW5nUlNWUEd1ZXN0W10+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgcmVtaW5kZXJEYXRlID0gbmV3IERhdGUobm93KTtcbiAgICByZW1pbmRlckRhdGUuc2V0RGF0ZShyZW1pbmRlckRhdGUuZ2V0RGF0ZSgpICsgZGF5c0JlZm9yZURlYWRsaW5lKTtcblxuICAgIC8vIEZpbmQgZXZlbnRzIHdpdGggdXBjb21pbmcgUlNWUCBkZWFkbGluZXNcbiAgICBjb25zdCB7IGRhdGE6IGV2ZW50cywgZXJyb3I6IGV2ZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2V2ZW50cycpXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZSwgcnN2cF9kZWFkbGluZScpXG4gICAgICAuZXEoJ3JzdnBfcmVxdWlyZWQnLCB0cnVlKVxuICAgICAgLm5vdCgncnN2cF9kZWFkbGluZScsICdpcycsIG51bGwpXG4gICAgICAuZ3RlKCdyc3ZwX2RlYWRsaW5lJywgbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgIC5sdGUoJ3JzdnBfZGVhZGxpbmUnLCByZW1pbmRlckRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxuICAgICAgLmVxKCdzdGF0dXMnLCAncHVibGlzaGVkJyk7XG5cbiAgICBpZiAoZXZlbnRzRXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6IEVSUk9SX0NPREVTLkRBVEFCQVNFX0VSUk9SLFxuICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggZXZlbnRzIHdpdGggZGVhZGxpbmVzJyxcbiAgICAgICAgICBkZXRhaWxzOiBldmVudHNFcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcGVuZGluZ0d1ZXN0czogUGVuZGluZ1JTVlBHdWVzdFtdID0gW107XG5cbiAgICAvLyBGb3IgZWFjaCBldmVudCwgZmluZCBndWVzdHMgd2l0aCBwZW5kaW5nIFJTVlBzXG4gICAgZm9yIChjb25zdCBldmVudCBvZiAoZXZlbnRzIHx8IFtdKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcnN2cF9kZWFkbGluZTogc3RyaW5nIH0+KSB7XG4gICAgICAvLyBHZXQgYWxsIGd1ZXN0cyB3aG8gc2hvdWxkIFJTVlAgdG8gdGhpcyBldmVudFxuICAgICAgY29uc3QgeyBkYXRhOiBndWVzdHMsIGVycm9yOiBndWVzdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2d1ZXN0cycpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsJylcbiAgICAgICAgLm5vdCgnZW1haWwnLCAnaXMnLCBudWxsKVxuICAgICAgICAuZXEoJ2ludml0YXRpb25fc2VudCcsIHRydWUpO1xuXG4gICAgICBpZiAoZ3Vlc3RzRXJyb3IpIHtcbiAgICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBldmVudCBvbiBlcnJvclxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGd1ZXN0IG9mIChndWVzdHMgfHwgW10pIGFzIEFycmF5PHsgaWQ6IHN0cmluZzsgZmlyc3RfbmFtZTogc3RyaW5nOyBsYXN0X25hbWU6IHN0cmluZzsgZW1haWw6IHN0cmluZyB9Pikge1xuICAgICAgICAvLyBDaGVjayBpZiBndWVzdCBoYXMgcGVuZGluZyBSU1ZQIGZvciB0aGlzIGV2ZW50XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcnN2cHMsIGVycm9yOiByc3ZwRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3JzdnBzJylcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMnKVxuICAgICAgICAgIC5lcSgnZ3Vlc3RfaWQnLCBndWVzdC5pZClcbiAgICAgICAgICAuZXEoJ2V2ZW50X2lkJywgZXZlbnQuaWQpO1xuXG4gICAgICAgIGlmIChyc3ZwRXJyb3IpIHtcbiAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIGd1ZXN0IG9uIGVycm9yXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBSU1ZQIG9yIFJTVlAgaXMgcGVuZGluZywgYWRkIHRvIHJlbWluZGVyIGxpc3RcbiAgICAgICAgaWYgKCFyc3ZwcyB8fCByc3Zwcy5sZW5ndGggPT09IDAgfHwgKHJzdnBzIGFzIEFycmF5PHsgc3RhdHVzOiBzdHJpbmcgfT4pLnNvbWUoKHIpID0+IHIuc3RhdHVzID09PSAncGVuZGluZycpKSB7XG4gICAgICAgICAgY29uc3QgZGVhZGxpbmUgPSBuZXcgRGF0ZShldmVudC5yc3ZwX2RlYWRsaW5lISk7XG4gICAgICAgICAgY29uc3QgZGF5c1VudGlsID0gTWF0aC5jZWlsKChkZWFkbGluZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgICAgICAgICBwZW5kaW5nR3Vlc3RzLnB1c2goe1xuICAgICAgICAgICAgZ3Vlc3RfaWQ6IGd1ZXN0LmlkLFxuICAgICAgICAgICAgZ3Vlc3RfbmFtZTogYCR7Z3Vlc3QuZmlyc3RfbmFtZX0gJHtndWVzdC5sYXN0X25hbWV9YCxcbiAgICAgICAgICAgIGd1ZXN0X2VtYWlsOiBndWVzdC5lbWFpbCEsXG4gICAgICAgICAgICBldmVudF9pZDogZXZlbnQuaWQsXG4gICAgICAgICAgICBldmVudF9uYW1lOiBldmVudC5uYW1lLFxuICAgICAgICAgICAgZGVhZGxpbmU6IGV2ZW50LnJzdnBfZGVhZGxpbmUhLFxuICAgICAgICAgICAgZGF5c191bnRpbF9kZWFkbGluZTogZGF5c1VudGlsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWxzbyBjaGVjayBhY3Rpdml0aWVzIHdpdGggUlNWUCBkZWFkbGluZXNcbiAgICBjb25zdCB7IGRhdGE6IGFjdGl2aXRpZXMsIGVycm9yOiBhY3Rpdml0aWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWN0aXZpdGllcycpXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZScpXG4gICAgICAuZXEoJ3N0YXR1cycsICdwdWJsaXNoZWQnKTtcblxuICAgIGlmICghYWN0aXZpdGllc0Vycm9yICYmIGFjdGl2aXRpZXMpIHtcbiAgICAgIGZvciAoY29uc3QgYWN0aXZpdHkgb2YgYWN0aXZpdGllcyBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9Pikge1xuICAgICAgICAvLyBHZXQgZ3Vlc3RzIHdobyBzaG91bGQgUlNWUCB0byB0aGlzIGFjdGl2aXR5XG4gICAgICAgIGNvbnN0IHsgZGF0YTogZ3Vlc3RzLCBlcnJvcjogZ3Vlc3RzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2d1ZXN0cycpXG4gICAgICAgICAgLnNlbGVjdCgnaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIHJzdnBfZGVhZGxpbmUnKVxuICAgICAgICAgIC5ub3QoJ2VtYWlsJywgJ2lzJywgbnVsbClcbiAgICAgICAgICAubm90KCdyc3ZwX2RlYWRsaW5lJywgJ2lzJywgbnVsbClcbiAgICAgICAgICAuZ3RlKCdyc3ZwX2RlYWRsaW5lJywgbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgICAubHRlKCdyc3ZwX2RlYWRsaW5lJywgcmVtaW5kZXJEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgICAuZXEoJ2ludml0YXRpb25fc2VudCcsIHRydWUpO1xuXG4gICAgICAgIGlmIChndWVzdHNFcnJvcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBndWVzdCBvZiAoZ3Vlc3RzIHx8IFtdKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IGZpcnN0X25hbWU6IHN0cmluZzsgbGFzdF9uYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHJzdnBfZGVhZGxpbmU6IHN0cmluZyB9Pikge1xuICAgICAgICAgIC8vIENoZWNrIGlmIGd1ZXN0IGhhcyBwZW5kaW5nIFJTVlAgZm9yIHRoaXMgYWN0aXZpdHlcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IHJzdnBzLCBlcnJvcjogcnN2cEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3JzdnBzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cycpXG4gICAgICAgICAgICAuZXEoJ2d1ZXN0X2lkJywgZ3Vlc3QuaWQpXG4gICAgICAgICAgICAuZXEoJ2FjdGl2aXR5X2lkJywgYWN0aXZpdHkuaWQpO1xuXG4gICAgICAgICAgaWYgKHJzdnBFcnJvcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyc3ZwcyB8fCByc3Zwcy5sZW5ndGggPT09IDAgfHwgKHJzdnBzIGFzIEFycmF5PHsgc3RhdHVzOiBzdHJpbmcgfT4pLnNvbWUoKHIpID0+IHIuc3RhdHVzID09PSAncGVuZGluZycpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWFkbGluZSA9IG5ldyBEYXRlKGd1ZXN0LnJzdnBfZGVhZGxpbmUhKTtcbiAgICAgICAgICAgIGNvbnN0IGRheXNVbnRpbCA9IE1hdGguY2VpbCgoZGVhZGxpbmUuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpO1xuXG4gICAgICAgICAgICBwZW5kaW5nR3Vlc3RzLnB1c2goe1xuICAgICAgICAgICAgICBndWVzdF9pZDogZ3Vlc3QuaWQsXG4gICAgICAgICAgICAgIGd1ZXN0X25hbWU6IGAke2d1ZXN0LmZpcnN0X25hbWV9ICR7Z3Vlc3QubGFzdF9uYW1lfWAsXG4gICAgICAgICAgICAgIGd1ZXN0X2VtYWlsOiBndWVzdC5lbWFpbCEsXG4gICAgICAgICAgICAgIGFjdGl2aXR5X2lkOiBhY3Rpdml0eS5pZCxcbiAgICAgICAgICAgICAgYWN0aXZpdHlfbmFtZTogYWN0aXZpdHkubmFtZSxcbiAgICAgICAgICAgICAgZGVhZGxpbmU6IGd1ZXN0LnJzdnBfZGVhZGxpbmUhLFxuICAgICAgICAgICAgICBkYXlzX3VudGlsX2RlYWRsaW5lOiBkYXlzVW50aWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBwZW5kaW5nR3Vlc3RzIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogRVJST1JfQ09ERVMuVU5LTk9XTl9FUlJPUixcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kcyBSU1ZQIHJlbWluZGVyIGVtYWlsIHRvIGEgZ3Vlc3QuXG4gKiBcbiAqIEBwYXJhbSBndWVzdCAtIEd1ZXN0IGluZm9ybWF0aW9uIHdpdGggcGVuZGluZyBSU1ZQXG4gKiBAcmV0dXJucyBSZXN1bHQgaW5kaWNhdGluZyBzdWNjZXNzIG9yIGVycm9yXG4gKiBcbiAqIFJlcXVpcmVtZW50czogNi44LCAyMi4yLCAyMi4zLCAxOS4zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUlNWUFJlbWluZGVyKGd1ZXN0OiBQZW5kaW5nUlNWUEd1ZXN0KTogUHJvbWlzZTxSZXN1bHQ8dm9pZD4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgY29uc3QgZXZlbnRPckFjdGl2aXR5ID0gZ3Vlc3QuZXZlbnRfbmFtZSB8fCBndWVzdC5hY3Rpdml0eV9uYW1lIHx8ICd0aGUgZXZlbnQnO1xuICAgIGNvbnN0IGRlYWRsaW5lRGF0ZSA9IG5ldyBEYXRlKGd1ZXN0LmRlYWRsaW5lKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgd2Vla2RheTogJ2xvbmcnLFxuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgIGRheTogJ251bWVyaWMnLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3ViamVjdCA9IGBSU1ZQIFJlbWluZGVyOiAke2V2ZW50T3JBY3Rpdml0eX0gLSAke2d1ZXN0LmRheXNfdW50aWxfZGVhZGxpbmV9IGRheXMgbGVmdGA7XG4gICAgXG4gICAgY29uc3QgaHRtbCA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvO1wiPlxuICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzIyYzU1ZTtcIj5SU1ZQIFJlbWluZGVyPC9oMj5cbiAgICAgICAgPHA+SGkgJHtndWVzdC5ndWVzdF9uYW1lfSw8L3A+XG4gICAgICAgIDxwPlRoaXMgaXMgYSBmcmllbmRseSByZW1pbmRlciB0aGF0IHlvdXIgUlNWUCBmb3IgPHN0cm9uZz4ke2V2ZW50T3JBY3Rpdml0eX08L3N0cm9uZz4gaXMgc3RpbGwgcGVuZGluZy48L3A+XG4gICAgICAgIDxwPjxzdHJvbmc+RGVhZGxpbmU6PC9zdHJvbmc+ICR7ZGVhZGxpbmVEYXRlfSAoJHtndWVzdC5kYXlzX3VudGlsX2RlYWRsaW5lfSBkYXlzIGZyb20gbm93KTwvcD5cbiAgICAgICAgPHA+UGxlYXNlIHRha2UgYSBtb21lbnQgdG8gbGV0IHVzIGtub3cgaWYgeW91J2xsIGJlIGF0dGVuZGluZyBieSB2aXNpdGluZyB5b3VyIGd1ZXN0IHBvcnRhbC48L3A+XG4gICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDtcIj5cbiAgICAgICAgICA8YSBocmVmPVwiJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfS9ndWVzdC9yc3ZwXCIgXG4gICAgICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMjJjNTVlOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj5cbiAgICAgICAgICAgIFN1Ym1pdCBZb3VyIFJTVlBcbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAzMHB4OyBjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgIElmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMsIHBsZWFzZSBkb24ndCBoZXNpdGF0ZSB0byByZWFjaCBvdXQuXG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxNHB4O1wiPlB1cmEgVmlkYSEg8J+MtDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICBjb25zdCB0ZXh0ID0gYFxuSGkgJHtndWVzdC5ndWVzdF9uYW1lfSxcblxuVGhpcyBpcyBhIGZyaWVuZGx5IHJlbWluZGVyIHRoYXQgeW91ciBSU1ZQIGZvciAke2V2ZW50T3JBY3Rpdml0eX0gaXMgc3RpbGwgcGVuZGluZy5cblxuRGVhZGxpbmU6ICR7ZGVhZGxpbmVEYXRlfSAoJHtndWVzdC5kYXlzX3VudGlsX2RlYWRsaW5lfSBkYXlzIGZyb20gbm93KVxuXG5QbGVhc2UgdGFrZSBhIG1vbWVudCB0byBsZXQgdXMga25vdyBpZiB5b3UnbGwgYmUgYXR0ZW5kaW5nIGJ5IHZpc2l0aW5nIHlvdXIgZ3Vlc3QgcG9ydGFsOlxuJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfS9ndWVzdC9yc3ZwXG5cbklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMsIHBsZWFzZSBkb24ndCBoZXNpdGF0ZSB0byByZWFjaCBvdXQuXG5cblB1cmEgVmlkYSEg8J+MtFxuICAgIGA7XG5cbiAgICBjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRFbWFpbCh7XG4gICAgICB0bzogZ3Vlc3QuZ3Vlc3RfZW1haWwsXG4gICAgICBzdWJqZWN0LFxuICAgICAgaHRtbCxcbiAgICAgIHRleHQsXG4gICAgfSk7XG5cbiAgICBpZiAoIWVtYWlsUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6IEVSUk9SX0NPREVTLkVNQUlMX1NFUlZJQ0VfRVJST1IsXG4gICAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBzZW5kIHJlbWluZGVyIHRvICR7Z3Vlc3QuZ3Vlc3RfZW1haWx9YCxcbiAgICAgICAgICBkZXRhaWxzOiBlbWFpbFJlc3VsdC5lcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gTG9nIHRoZSByZW1pbmRlciBzZW50XG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncnN2cF9yZW1pbmRlcnNfc2VudCcpLmluc2VydCh7XG4gICAgICBndWVzdF9pZDogZ3Vlc3QuZ3Vlc3RfaWQsXG4gICAgICBldmVudF9pZDogZ3Vlc3QuZXZlbnRfaWQsXG4gICAgICBhY3Rpdml0eV9pZDogZ3Vlc3QuYWN0aXZpdHlfaWQsXG4gICAgICBzZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBkYXlzX2JlZm9yZV9kZWFkbGluZTogZ3Vlc3QuZGF5c191bnRpbF9kZWFkbGluZSxcbiAgICB9IGFzIGFueSk7XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB1bmRlZmluZWQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiBFUlJPUl9DT0RFUy5VTktOT1dOX0VSUk9SLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFByb2Nlc3NlcyBhbGwgcGVuZGluZyBSU1ZQIHJlbWluZGVycy5cbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBieSBhIHNjaGVkdWxlZCBjcm9uIGpvYi5cbiAqIFxuICogQHBhcmFtIGRheXNCZWZvcmVEZWFkbGluZSAtIE51bWJlciBvZiBkYXlzIGJlZm9yZSBkZWFkbGluZSB0byBzZW5kIHJlbWluZGVyIChkZWZhdWx0OiA3KVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgcHJvY2Vzc2luZyBzdGF0aXN0aWNzXG4gKiBcbiAqIFJlcXVpcmVtZW50czogNi44LCAyMi4yLCAyMi4zLCAxOS4zXG4gKiBcbiAqIEBleGFtcGxlXG4gKiAvLyBSdW4gZGFpbHkgdG8gc2VuZCByZW1pbmRlcnMgNyBkYXlzIGJlZm9yZSBkZWFkbGluZVxuICogYXdhaXQgcHJvY2Vzc1JTVlBSZW1pbmRlcnMoNyk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzUlNWUFJlbWluZGVycyhcbiAgZGF5c0JlZm9yZURlYWRsaW5lOiBudW1iZXIgPSA3XG4pOiBQcm9taXNlPFJlc3VsdDxDcm9uSm9iUmVzdWx0Pj4ge1xuICByZXR1cm4gZXhlY3V0ZUNyb25Kb2IoJ3JzdnBfZGVhZGxpbmVfcmVtaW5kZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIEZpbmQgZ3Vlc3RzIG5lZWRpbmcgcmVtaW5kZXJzXG4gICAgY29uc3QgcGVuZGluZ1Jlc3VsdCA9IGF3YWl0IGZpbmRQZW5kaW5nUlNWUHMoZGF5c0JlZm9yZURlYWRsaW5lKTtcblxuICAgIGlmICghcGVuZGluZ1Jlc3VsdC5zdWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocGVuZGluZ1Jlc3VsdC5lcnJvci5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICBjb25zdCBwZW5kaW5nR3Vlc3RzID0gcGVuZGluZ1Jlc3VsdC5kYXRhO1xuICAgIGxldCBzZW50ID0gMDtcbiAgICBsZXQgZmFpbGVkID0gMDtcblxuICAgIC8vIFNlbmQgcmVtaW5kZXIgdG8gZWFjaCBndWVzdFxuICAgIGZvciAoY29uc3QgZ3Vlc3Qgb2YgcGVuZGluZ0d1ZXN0cykge1xuICAgICAgY29uc3QgcmVtaW5kZXJSZXN1bHQgPSBhd2FpdCBzZW5kUlNWUFJlbWluZGVyKGd1ZXN0KTtcblxuICAgICAgaWYgKHJlbWluZGVyUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2VudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzZW5kIHJlbWluZGVyIHRvICR7Z3Vlc3QuZ3Vlc3RfZW1haWx9OmAsIHJlbWluZGVyUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXRlbXNQcm9jZXNzZWQ6IHNlbnQsXG4gICAgICBpdGVtc0ZhaWxlZDogZmFpbGVkLFxuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldHMgUlNWUCByZW1pbmRlciBzdGF0aXN0aWNzLlxuICogXG4gKiBAcGFyYW0gc2luY2UgLSBPcHRpb25hbCBzdGFydCBkYXRlIGZvciBzdGF0aXN0aWNzIChJU08gc3RyaW5nKVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgcmVtaW5kZXIgc3RhdGlzdGljc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVtaW5kZXJTdGF0cyhcbiAgc2luY2U/OiBzdHJpbmdcbik6IFByb21pc2U8XG4gIFJlc3VsdDx7XG4gICAgdG90YWxSZW1pbmRlcnM6IG51bWJlcjtcbiAgICByZW1pbmRlcnNCeUV2ZW50OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHJlbWluZGVyc0J5QWN0aXZpdHk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIH0+XG4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2UuZnJvbSgncnN2cF9yZW1pbmRlcnNfc2VudCcpLnNlbGVjdCgnKicpO1xuXG4gICAgaWYgKHNpbmNlKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnc2VudF9hdCcsIHNpbmNlKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGE6IHJlbWluZGVycywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiBFUlJPUl9DT0RFUy5EQVRBQkFTRV9FUlJPUixcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHJlbWluZGVyIHN0YXRpc3RpY3MnLFxuICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZW1pbmRlcnNCeUV2ZW50OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgY29uc3QgcmVtaW5kZXJzQnlBY3Rpdml0eTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG4gICAgZm9yIChjb25zdCByZW1pbmRlciBvZiAocmVtaW5kZXJzIHx8IFtdKSBhcyBBcnJheTx7IGV2ZW50X2lkPzogc3RyaW5nOyBhY3Rpdml0eV9pZD86IHN0cmluZyB9Pikge1xuICAgICAgaWYgKHJlbWluZGVyLmV2ZW50X2lkKSB7XG4gICAgICAgIHJlbWluZGVyc0J5RXZlbnRbcmVtaW5kZXIuZXZlbnRfaWRdID0gKHJlbWluZGVyc0J5RXZlbnRbcmVtaW5kZXIuZXZlbnRfaWRdIHx8IDApICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChyZW1pbmRlci5hY3Rpdml0eV9pZCkge1xuICAgICAgICByZW1pbmRlcnNCeUFjdGl2aXR5W3JlbWluZGVyLmFjdGl2aXR5X2lkXSA9IChyZW1pbmRlcnNCeUFjdGl2aXR5W3JlbWluZGVyLmFjdGl2aXR5X2lkXSB8fCAwKSArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHRvdGFsUmVtaW5kZXJzOiByZW1pbmRlcnM/Lmxlbmd0aCB8fCAwLFxuICAgICAgICByZW1pbmRlcnNCeUV2ZW50LFxuICAgICAgICByZW1pbmRlcnNCeUFjdGl2aXR5LFxuICAgICAgfSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6IEVSUk9SX0NPREVTLlVOS05PV05fRVJST1IsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LFFBQUEsQ0FBUzdDLFFBQVEsRUFBRTtRQUFBO1FBQUFyRSxjQUFBLEdBQUFVLENBQUE7UUFBQVYsY0FBQSxHQUFBRSxDQUFBO1FBQ3JCOEcsZ0JBQWdCLENBQUNFLFFBQUEsQ0FBUzdDLFFBQVEsQ0FBQyxHQUFHO1FBQUM7UUFBQSxDQUFBckUsY0FBQSxHQUFBVSxDQUFBLFdBQUFzRyxnQkFBZ0IsQ0FBQ0UsUUFBQSxDQUFTN0MsUUFBUSxDQUFDO1FBQUE7UUFBQSxDQUFBckUsY0FBQSxHQUFBVSxDQUFBLFdBQUksTUFBSztNQUNyRjtNQUFBO01BQUE7UUFBQVYsY0FBQSxHQUFBVSxDQUFBO01BQUE7TUFBQVYsY0FBQSxHQUFBRSxDQUFBO01BQ0EsSUFBSWdILFFBQUEsQ0FBU3RDLFdBQVcsRUFBRTtRQUFBO1FBQUE1RSxjQUFBLEdBQUFVLENBQUE7UUFBQVYsY0FBQSxHQUFBRSxDQUFBO1FBQ3hCK0csbUJBQW1CLENBQUNDLFFBQUEsQ0FBU3RDLFdBQVcsQ0FBQyxHQUFHO1FBQUM7UUFBQSxDQUFBNUUsY0FBQSxHQUFBVSxDQUFBLFdBQUF1RyxtQkFBbUIsQ0FBQ0MsUUFBQSxDQUFTdEMsV0FBVyxDQUFDO1FBQUE7UUFBQSxDQUFBNUUsY0FBQSxHQUFBVSxDQUFBLFdBQUksTUFBSztNQUNqRztNQUFBO01BQUE7UUFBQVYsY0FBQSxHQUFBVSxDQUFBO01BQUE7SUFDRjtJQUFBO0lBQUFWLGNBQUEsR0FBQUUsQ0FBQTtJQUVBLE9BQU87TUFDTG1DLE9BQUEsRUFBUztNQUNUWixJQUFBLEVBQU07UUFDSjBGLGNBQUE7UUFBZ0I7UUFBQSxDQUFBbkgsY0FBQSxHQUFBVSxDQUFBLFdBQUFxRyxTQUFBLEVBQVczRCxNQUFBO1FBQUE7UUFBQSxDQUFBcEQsY0FBQSxHQUFBVSxDQUFBLFdBQVU7UUFDckNzRyxnQkFBQTtRQUNBQztNQUNGO0lBQ0Y7RUFDRixFQUFFLE9BQU90RixLQUFBLEVBQU87SUFBQTtJQUFBM0IsY0FBQSxHQUFBRSxDQUFBO0lBQ2QsT0FBTztNQUNMbUMsT0FBQSxFQUFTO01BQ1RWLEtBQUEsRUFBTztRQUNMVyxJQUFBLEVBQU1DLE1BQUEsQ0FBQUMsV0FBVyxDQUFDc0MsYUFBYTtRQUMvQnBDLE9BQUEsRUFBU2YsS0FBQSxZQUFpQm9ELEtBQUE7UUFBQTtRQUFBLENBQUEvRSxjQUFBLEdBQUFVLENBQUEsV0FBUWlCLEtBQUEsQ0FBTWUsT0FBTztRQUFBO1FBQUEsQ0FBQTFDLGNBQUEsR0FBQVUsQ0FBQSxXQUFHO01BQ3BEO0lBQ0Y7RUFDRjtBQUNGIiwiaWdub3JlTGlzdCI6W119