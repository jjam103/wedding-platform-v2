8056231500e624a36a3d1966cf41e396
"use strict";

/* istanbul ignore next */
function cov_wexyv07j() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts";
  var hash = "481fa05d964d2723f0418e9dd91d2620353d3cd8";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 42,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 29
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 29
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 36
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 26
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 27
        }
      },
      "9": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 37
        }
      },
      "10": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 39
        }
      },
      "11": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 29
        }
      },
      "12": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 36
        }
      },
      "13": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 29
        }
      },
      "14": {
        start: {
          line: 43,
          column: 25
        },
        end: {
          line: 43,
          column: 62
        }
      },
      "15": {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 45,
          column: 20
        }
      },
      "16": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 50,
          column: 5
        }
      },
      "17": {
        start: {
          line: 48,
          column: 29
        },
        end: {
          line: 48,
          column: 55
        }
      },
      "18": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 29
        }
      },
      "19": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 51,
          column: 21
        }
      },
      "20": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 88,
          column: 5
        }
      },
      "21": {
        start: {
          line: 55,
          column: 25
        },
        end: {
          line: 55,
          column: 38
        }
      },
      "22": {
        start: {
          line: 56,
          column: 32
        },
        end: {
          line: 56,
          column: 110
        }
      },
      "23": {
        start: {
          line: 57,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "24": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 66,
          column: 13
        }
      },
      "25": {
        start: {
          line: 59,
          column: 16
        },
        end: {
          line: 65,
          column: 18
        }
      },
      "26": {
        start: {
          line: 67,
          column: 12
        },
        end: {
          line: 74,
          column: 14
        }
      },
      "27": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 79,
          column: 10
        }
      },
      "28": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 87,
          column: 10
        }
      },
      "29": {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 120,
          column: 5
        }
      },
      "30": {
        start: {
          line: 92,
          column: 25
        },
        end: {
          line: 92,
          column: 38
        }
      },
      "31": {
        start: {
          line: 93,
          column: 32
        },
        end: {
          line: 97,
          column: 10
        }
      },
      "32": {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 107,
          column: 9
        }
      },
      "33": {
        start: {
          line: 99,
          column: 12
        },
        end: {
          line: 106,
          column: 14
        }
      },
      "34": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 111,
          column: 10
        }
      },
      "35": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 119,
          column: 10
        }
      },
      "36": {
        start: {
          line: 123,
          column: 4
        },
        end: {
          line: 150,
          column: 5
        }
      },
      "37": {
        start: {
          line: 124,
          column: 25
        },
        end: {
          line: 124,
          column: 38
        }
      },
      "38": {
        start: {
          line: 125,
          column: 32
        },
        end: {
          line: 127,
          column: 10
        }
      },
      "39": {
        start: {
          line: 128,
          column: 8
        },
        end: {
          line: 137,
          column: 9
        }
      },
      "40": {
        start: {
          line: 129,
          column: 12
        },
        end: {
          line: 136,
          column: 14
        }
      },
      "41": {
        start: {
          line: 138,
          column: 8
        },
        end: {
          line: 141,
          column: 10
        }
      },
      "42": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 149,
          column: 10
        }
      },
      "43": {
        start: {
          line: 153,
          column: 4
        },
        end: {
          line: 196,
          column: 5
        }
      },
      "44": {
        start: {
          line: 154,
          column: 25
        },
        end: {
          line: 154,
          column: 38
        }
      },
      "45": {
        start: {
          line: 156,
          column: 35
        },
        end: {
          line: 156,
          column: 110
        }
      },
      "46": {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 183,
          column: 9
        }
      },
      "47": {
        start: {
          line: 160,
          column: 45
        },
        end: {
          line: 163,
          column: 47
        }
      },
      "48": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 173,
          column: 13
        }
      },
      "49": {
        start: {
          line: 165,
          column: 16
        },
        end: {
          line: 172,
          column: 18
        }
      },
      "50": {
        start: {
          line: 174,
          column: 12
        },
        end: {
          line: 174,
          column: 29
        }
      },
      "51": {
        start: {
          line: 176,
          column: 12
        },
        end: {
          line: 182,
          column: 14
        }
      },
      "52": {
        start: {
          line: 184,
          column: 8
        },
        end: {
          line: 187,
          column: 10
        }
      },
      "53": {
        start: {
          line: 189,
          column: 8
        },
        end: {
          line: 195,
          column: 10
        }
      },
      "54": {
        start: {
          line: 199,
          column: 4
        },
        end: {
          line: 240,
          column: 5
        }
      },
      "55": {
        start: {
          line: 200,
          column: 25
        },
        end: {
          line: 200,
          column: 38
        }
      },
      "56": {
        start: {
          line: 201,
          column: 32
        },
        end: {
          line: 207,
          column: 28
        }
      },
      "57": {
        start: {
          line: 208,
          column: 8
        },
        end: {
          line: 227,
          column: 9
        }
      },
      "58": {
        start: {
          line: 209,
          column: 12
        },
        end: {
          line: 218,
          column: 13
        }
      },
      "59": {
        start: {
          line: 211,
          column: 16
        },
        end: {
          line: 217,
          column: 18
        }
      },
      "60": {
        start: {
          line: 219,
          column: 12
        },
        end: {
          line: 226,
          column: 14
        }
      },
      "61": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 231,
          column: 10
        }
      },
      "62": {
        start: {
          line: 233,
          column: 8
        },
        end: {
          line: 239,
          column: 10
        }
      },
      "63": {
        start: {
          line: 243,
          column: 4
        },
        end: {
          line: 268,
          column: 5
        }
      },
      "64": {
        start: {
          line: 244,
          column: 25
        },
        end: {
          line: 244,
          column: 38
        }
      },
      "65": {
        start: {
          line: 245,
          column: 26
        },
        end: {
          line: 245,
          column: 88
        }
      },
      "66": {
        start: {
          line: 246,
          column: 8
        },
        end: {
          line: 255,
          column: 9
        }
      },
      "67": {
        start: {
          line: 247,
          column: 12
        },
        end: {
          line: 254,
          column: 14
        }
      },
      "68": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 259,
          column: 10
        }
      },
      "69": {
        start: {
          line: 261,
          column: 8
        },
        end: {
          line: 267,
          column: 10
        }
      },
      "70": {
        start: {
          line: 271,
          column: 4
        },
        end: {
          line: 307,
          column: 5
        }
      },
      "71": {
        start: {
          line: 272,
          column: 25
        },
        end: {
          line: 272,
          column: 38
        }
      },
      "72": {
        start: {
          line: 274,
          column: 32
        },
        end: {
          line: 284,
          column: 28
        }
      },
      "73": {
        start: {
          line: 285,
          column: 8
        },
        end: {
          line: 294,
          column: 9
        }
      },
      "74": {
        start: {
          line: 286,
          column: 12
        },
        end: {
          line: 293,
          column: 14
        }
      },
      "75": {
        start: {
          line: 295,
          column: 8
        },
        end: {
          line: 298,
          column: 10
        }
      },
      "76": {
        start: {
          line: 300,
          column: 8
        },
        end: {
          line: 306,
          column: 10
        }
      },
      "77": {
        start: {
          line: 310,
          column: 4
        },
        end: {
          line: 365,
          column: 5
        }
      },
      "78": {
        start: {
          line: 312,
          column: 27
        },
        end: {
          line: 312,
          column: 82
        }
      },
      "79": {
        start: {
          line: 313,
          column: 8
        },
        end: {
          line: 322,
          column: 9
        }
      },
      "80": {
        start: {
          line: 314,
          column: 12
        },
        end: {
          line: 321,
          column: 14
        }
      },
      "81": {
        start: {
          line: 323,
          column: 32
        },
        end: {
          line: 323,
          column: 47
        }
      },
      "82": {
        start: {
          line: 324,
          column: 24
        },
        end: {
          line: 324,
          column: 26
        }
      },
      "83": {
        start: {
          line: 326,
          column: 8
        },
        end: {
          line: 328,
          column: 9
        }
      },
      "84": {
        start: {
          line: 327,
          column: 12
        },
        end: {
          line: 327,
          column: 120
        }
      },
      "85": {
        start: {
          line: 329,
          column: 8
        },
        end: {
          line: 331,
          column: 9
        }
      },
      "86": {
        start: {
          line: 330,
          column: 12
        },
        end: {
          line: 330,
          column: 129
        }
      },
      "87": {
        start: {
          line: 332,
          column: 8
        },
        end: {
          line: 334,
          column: 9
        }
      },
      "88": {
        start: {
          line: 333,
          column: 12
        },
        end: {
          line: 333,
          column: 149
        }
      },
      "89": {
        start: {
          line: 335,
          column: 8
        },
        end: {
          line: 337,
          column: 9
        }
      },
      "90": {
        start: {
          line: 336,
          column: 12
        },
        end: {
          line: 336,
          column: 145
        }
      },
      "91": {
        start: {
          line: 339,
          column: 24
        },
        end: {
          line: 339,
          column: 50
        }
      },
      "92": {
        start: {
          line: 341,
          column: 25
        },
        end: {
          line: 341,
          column: 56
        }
      },
      "93": {
        start: {
          line: 341,
          column: 45
        },
        end: {
          line: 341,
          column: 55
        }
      },
      "94": {
        start: {
          line: 342,
          column: 8
        },
        end: {
          line: 351,
          column: 9
        }
      },
      "95": {
        start: {
          line: 343,
          column: 12
        },
        end: {
          line: 350,
          column: 14
        }
      },
      "96": {
        start: {
          line: 348,
          column: 47
        },
        end: {
          line: 348,
          column: 54
        }
      },
      "97": {
        start: {
          line: 353,
          column: 8
        },
        end: {
          line: 356,
          column: 10
        }
      },
      "98": {
        start: {
          line: 358,
          column: 8
        },
        end: {
          line: 364,
          column: 10
        }
      },
      "99": {
        start: {
          line: 368,
          column: 4
        },
        end: {
          line: 403,
          column: 5
        }
      },
      "100": {
        start: {
          line: 369,
          column: 23
        },
        end: {
          line: 369,
          column: 62
        }
      },
      "101": {
        start: {
          line: 370,
          column: 8
        },
        end: {
          line: 379,
          column: 9
        }
      },
      "102": {
        start: {
          line: 372,
          column: 12
        },
        end: {
          line: 377,
          column: 13
        }
      },
      "103": {
        start: {
          line: 373,
          column: 16
        },
        end: {
          line: 376,
          column: 18
        }
      },
      "104": {
        start: {
          line: 378,
          column: 12
        },
        end: {
          line: 378,
          column: 26
        }
      },
      "105": {
        start: {
          line: 381,
          column: 22
        },
        end: {
          line: 381,
          column: 33
        }
      },
      "106": {
        start: {
          line: 382,
          column: 8
        },
        end: {
          line: 390,
          column: 9
        }
      },
      "107": {
        start: {
          line: 383,
          column: 12
        },
        end: {
          line: 389,
          column: 14
        }
      },
      "108": {
        start: {
          line: 391,
          column: 8
        },
        end: {
          line: 394,
          column: 10
        }
      },
      "109": {
        start: {
          line: 396,
          column: 8
        },
        end: {
          line: 402,
          column: 10
        }
      },
      "110": {
        start: {
          line: 406,
          column: 4
        },
        end: {
          line: 459,
          column: 5
        }
      },
      "111": {
        start: {
          line: 407,
          column: 25
        },
        end: {
          line: 407,
          column: 38
        }
      },
      "112": {
        start: {
          line: 409,
          column: 8
        },
        end: {
          line: 417,
          column: 9
        }
      },
      "113": {
        start: {
          line: 410,
          column: 12
        },
        end: {
          line: 416,
          column: 14
        }
      },
      "114": {
        start: {
          line: 419,
          column: 30
        },
        end: {
          line: 419,
          column: 153
        }
      },
      "115": {
        start: {
          line: 420,
          column: 8
        },
        end: {
          line: 425,
          column: 9
        }
      },
      "116": {
        start: {
          line: 421,
          column: 12
        },
        end: {
          line: 424,
          column: 14
        }
      },
      "117": {
        start: {
          line: 426,
          column: 33
        },
        end: {
          line: 426,
          column: 34
        }
      },
      "118": {
        start: {
          line: 428,
          column: 8
        },
        end: {
          line: 444,
          column: 9
        }
      },
      "119": {
        start: {
          line: 429,
          column: 36
        },
        end: {
          line: 432,
          column: 25
        }
      },
      "120": {
        start: {
          line: 433,
          column: 12
        },
        end: {
          line: 442,
          column: 13
        }
      },
      "121": {
        start: {
          line: 434,
          column: 16
        },
        end: {
          line: 441,
          column: 18
        }
      },
      "122": {
        start: {
          line: 443,
          column: 12
        },
        end: {
          line: 443,
          column: 51
        }
      },
      "123": {
        start: {
          line: 445,
          column: 8
        },
        end: {
          line: 450,
          column: 10
        }
      },
      "124": {
        start: {
          line: 452,
          column: 8
        },
        end: {
          line: 458,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 25
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 25
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 32
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 22
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 23
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 33
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 35
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 30
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 25
          },
          end: {
            line: 35,
            column: 5
          }
        },
        line: 33
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        loc: {
          start: {
            line: 36,
            column: 32
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 36
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        loc: {
          start: {
            line: 39,
            column: 25
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 39
      },
      "11": {
        name: "getSupabase",
        decl: {
          start: {
            line: 46,
            column: 9
          },
          end: {
            line: 46,
            column: 20
          }
        },
        loc: {
          start: {
            line: 46,
            column: 23
          },
          end: {
            line: 52,
            column: 1
          }
        },
        line: 46
      },
      "12": {
        name: "getSetting",
        decl: {
          start: {
            line: 53,
            column: 15
          },
          end: {
            line: 53,
            column: 25
          }
        },
        loc: {
          start: {
            line: 53,
            column: 31
          },
          end: {
            line: 89,
            column: 1
          }
        },
        line: 53
      },
      "13": {
        name: "getSettings",
        decl: {
          start: {
            line: 90,
            column: 15
          },
          end: {
            line: 90,
            column: 26
          }
        },
        loc: {
          start: {
            line: 90,
            column: 29
          },
          end: {
            line: 121,
            column: 1
          }
        },
        line: 90
      },
      "14": {
        name: "getSettingsByCategory",
        decl: {
          start: {
            line: 122,
            column: 15
          },
          end: {
            line: 122,
            column: 36
          }
        },
        loc: {
          start: {
            line: 122,
            column: 47
          },
          end: {
            line: 151,
            column: 1
          }
        },
        line: 122
      },
      "15": {
        name: "updateSetting",
        decl: {
          start: {
            line: 152,
            column: 15
          },
          end: {
            line: 152,
            column: 28
          }
        },
        loc: {
          start: {
            line: 152,
            column: 41
          },
          end: {
            line: 197,
            column: 1
          }
        },
        line: 152
      },
      "16": {
        name: "createSetting",
        decl: {
          start: {
            line: 198,
            column: 15
          },
          end: {
            line: 198,
            column: 28
          }
        },
        loc: {
          start: {
            line: 198,
            column: 94
          },
          end: {
            line: 241,
            column: 1
          }
        },
        line: 198
      },
      "17": {
        name: "deleteSetting",
        decl: {
          start: {
            line: 242,
            column: 15
          },
          end: {
            line: 242,
            column: 28
          }
        },
        loc: {
          start: {
            line: 242,
            column: 34
          },
          end: {
            line: 269,
            column: 1
          }
        },
        line: 242
      },
      "18": {
        name: "upsertSetting",
        decl: {
          start: {
            line: 270,
            column: 15
          },
          end: {
            line: 270,
            column: 28
          }
        },
        loc: {
          start: {
            line: 270,
            column: 94
          },
          end: {
            line: 308,
            column: 1
          }
        },
        line: 270
      },
      "19": {
        name: "upsertHomePageConfig",
        decl: {
          start: {
            line: 309,
            column: 15
          },
          end: {
            line: 309,
            column: 35
          }
        },
        loc: {
          start: {
            line: 309,
            column: 44
          },
          end: {
            line: 366,
            column: 1
          }
        },
        line: 309
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 341,
            column: 40
          },
          end: {
            line: 341,
            column: 41
          }
        },
        loc: {
          start: {
            line: 341,
            column: 45
          },
          end: {
            line: 341,
            column: 55
          }
        },
        line: 341
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 348,
            column: 42
          },
          end: {
            line: 348,
            column: 43
          }
        },
        loc: {
          start: {
            line: 348,
            column: 47
          },
          end: {
            line: 348,
            column: 54
          }
        },
        line: 348
      },
      "22": {
        name: "getDefaultAuthMethod",
        decl: {
          start: {
            line: 367,
            column: 15
          },
          end: {
            line: 367,
            column: 35
          }
        },
        loc: {
          start: {
            line: 367,
            column: 38
          },
          end: {
            line: 404,
            column: 1
          }
        },
        line: 367
      },
      "23": {
        name: "updateDefaultAuthMethod",
        decl: {
          start: {
            line: 405,
            column: 15
          },
          end: {
            line: 405,
            column: 38
          }
        },
        loc: {
          start: {
            line: 405,
            column: 77
          },
          end: {
            line: 460,
            column: 1
          }
        },
        line: 405
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "1": {
        loc: {
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "2": {
        loc: {
          start: {
            line: 58,
            column: 12
          },
          end: {
            line: 66,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 12
          },
          end: {
            line: 66,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 58
      },
      "3": {
        loc: {
          start: {
            line: 85,
            column: 25
          },
          end: {
            line: 85,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 85,
            column: 50
          },
          end: {
            line: 85,
            column: 63
          }
        }, {
          start: {
            line: 85,
            column: 66
          },
          end: {
            line: 85,
            column: 81
          }
        }],
        line: 85
      },
      "4": {
        loc: {
          start: {
            line: 98,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 98,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 98
      },
      "5": {
        loc: {
          start: {
            line: 110,
            column: 18
          },
          end: {
            line: 110,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 110,
            column: 18
          },
          end: {
            line: 110,
            column: 22
          }
        }, {
          start: {
            line: 110,
            column: 26
          },
          end: {
            line: 110,
            column: 28
          }
        }],
        line: 110
      },
      "6": {
        loc: {
          start: {
            line: 117,
            column: 25
          },
          end: {
            line: 117,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 117,
            column: 50
          },
          end: {
            line: 117,
            column: 63
          }
        }, {
          start: {
            line: 117,
            column: 66
          },
          end: {
            line: 117,
            column: 81
          }
        }],
        line: 117
      },
      "7": {
        loc: {
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 8
          },
          end: {
            line: 137,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 128
      },
      "8": {
        loc: {
          start: {
            line: 140,
            column: 18
          },
          end: {
            line: 140,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 140,
            column: 18
          },
          end: {
            line: 140,
            column: 22
          }
        }, {
          start: {
            line: 140,
            column: 26
          },
          end: {
            line: 140,
            column: 28
          }
        }],
        line: 140
      },
      "9": {
        loc: {
          start: {
            line: 147,
            column: 25
          },
          end: {
            line: 147,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 147,
            column: 50
          },
          end: {
            line: 147,
            column: 63
          }
        }, {
          start: {
            line: 147,
            column: 66
          },
          end: {
            line: 147,
            column: 81
          }
        }],
        line: 147
      },
      "10": {
        loc: {
          start: {
            line: 158,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 158,
            column: 8
          },
          end: {
            line: 183,
            column: 9
          }
        }, {
          start: {
            line: 175,
            column: 15
          },
          end: {
            line: 183,
            column: 9
          }
        }],
        line: 158
      },
      "11": {
        loc: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 173,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 173,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 164
      },
      "12": {
        loc: {
          start: {
            line: 193,
            column: 25
          },
          end: {
            line: 193,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 193,
            column: 50
          },
          end: {
            line: 193,
            column: 63
          }
        }, {
          start: {
            line: 193,
            column: 66
          },
          end: {
            line: 193,
            column: 81
          }
        }],
        line: 193
      },
      "13": {
        loc: {
          start: {
            line: 198,
            column: 54
          },
          end: {
            line: 198,
            column: 74
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 198,
            column: 65
          },
          end: {
            line: 198,
            column: 74
          }
        }],
        line: 198
      },
      "14": {
        loc: {
          start: {
            line: 198,
            column: 76
          },
          end: {
            line: 198,
            column: 92
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 198,
            column: 87
          },
          end: {
            line: 198,
            column: 92
          }
        }],
        line: 198
      },
      "15": {
        loc: {
          start: {
            line: 208,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 208
      },
      "16": {
        loc: {
          start: {
            line: 209,
            column: 12
          },
          end: {
            line: 218,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 209,
            column: 12
          },
          end: {
            line: 218,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 209
      },
      "17": {
        loc: {
          start: {
            line: 237,
            column: 25
          },
          end: {
            line: 237,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 237,
            column: 50
          },
          end: {
            line: 237,
            column: 63
          }
        }, {
          start: {
            line: 237,
            column: 66
          },
          end: {
            line: 237,
            column: 81
          }
        }],
        line: 237
      },
      "18": {
        loc: {
          start: {
            line: 246,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 246,
            column: 8
          },
          end: {
            line: 255,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 246
      },
      "19": {
        loc: {
          start: {
            line: 265,
            column: 25
          },
          end: {
            line: 265,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 265,
            column: 50
          },
          end: {
            line: 265,
            column: 63
          }
        }, {
          start: {
            line: 265,
            column: 66
          },
          end: {
            line: 265,
            column: 81
          }
        }],
        line: 265
      },
      "20": {
        loc: {
          start: {
            line: 270,
            column: 54
          },
          end: {
            line: 270,
            column: 74
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 270,
            column: 65
          },
          end: {
            line: 270,
            column: 74
          }
        }],
        line: 270
      },
      "21": {
        loc: {
          start: {
            line: 270,
            column: 76
          },
          end: {
            line: 270,
            column: 92
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 270,
            column: 87
          },
          end: {
            line: 270,
            column: 92
          }
        }],
        line: 270
      },
      "22": {
        loc: {
          start: {
            line: 285,
            column: 8
          },
          end: {
            line: 294,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 285,
            column: 8
          },
          end: {
            line: 294,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 285
      },
      "23": {
        loc: {
          start: {
            line: 304,
            column: 25
          },
          end: {
            line: 304,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 304,
            column: 50
          },
          end: {
            line: 304,
            column: 63
          }
        }, {
          start: {
            line: 304,
            column: 66
          },
          end: {
            line: 304,
            column: 81
          }
        }],
        line: 304
      },
      "24": {
        loc: {
          start: {
            line: 313,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 313,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 313
      },
      "25": {
        loc: {
          start: {
            line: 326,
            column: 8
          },
          end: {
            line: 328,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 326,
            column: 8
          },
          end: {
            line: 328,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 326
      },
      "26": {
        loc: {
          start: {
            line: 329,
            column: 8
          },
          end: {
            line: 331,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 329,
            column: 8
          },
          end: {
            line: 331,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 329
      },
      "27": {
        loc: {
          start: {
            line: 332,
            column: 8
          },
          end: {
            line: 334,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 332,
            column: 8
          },
          end: {
            line: 334,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 332
      },
      "28": {
        loc: {
          start: {
            line: 335,
            column: 8
          },
          end: {
            line: 337,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 335,
            column: 8
          },
          end: {
            line: 337,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 335
      },
      "29": {
        loc: {
          start: {
            line: 342,
            column: 8
          },
          end: {
            line: 351,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 342,
            column: 8
          },
          end: {
            line: 351,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 342
      },
      "30": {
        loc: {
          start: {
            line: 362,
            column: 25
          },
          end: {
            line: 362,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 362,
            column: 50
          },
          end: {
            line: 362,
            column: 63
          }
        }, {
          start: {
            line: 362,
            column: 66
          },
          end: {
            line: 362,
            column: 81
          }
        }],
        line: 362
      },
      "31": {
        loc: {
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 379,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 370,
            column: 8
          },
          end: {
            line: 379,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 370
      },
      "32": {
        loc: {
          start: {
            line: 372,
            column: 12
          },
          end: {
            line: 377,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 372,
            column: 12
          },
          end: {
            line: 377,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 372
      },
      "33": {
        loc: {
          start: {
            line: 382,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 382,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 382
      },
      "34": {
        loc: {
          start: {
            line: 382,
            column: 12
          },
          end: {
            line: 382,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 382,
            column: 12
          },
          end: {
            line: 382,
            column: 38
          }
        }, {
          start: {
            line: 382,
            column: 42
          },
          end: {
            line: 382,
            column: 64
          }
        }],
        line: 382
      },
      "35": {
        loc: {
          start: {
            line: 400,
            column: 25
          },
          end: {
            line: 400,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 400,
            column: 50
          },
          end: {
            line: 400,
            column: 63
          }
        }, {
          start: {
            line: 400,
            column: 66
          },
          end: {
            line: 400,
            column: 81
          }
        }],
        line: 400
      },
      "36": {
        loc: {
          start: {
            line: 405,
            column: 47
          },
          end: {
            line: 405,
            column: 75
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 405,
            column: 70
          },
          end: {
            line: 405,
            column: 75
          }
        }],
        line: 405
      },
      "37": {
        loc: {
          start: {
            line: 409,
            column: 8
          },
          end: {
            line: 417,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 409,
            column: 8
          },
          end: {
            line: 417,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 409
      },
      "38": {
        loc: {
          start: {
            line: 409,
            column: 12
          },
          end: {
            line: 409,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 409,
            column: 12
          },
          end: {
            line: 409,
            column: 39
          }
        }, {
          start: {
            line: 409,
            column: 43
          },
          end: {
            line: 409,
            column: 66
          }
        }],
        line: 409
      },
      "39": {
        loc: {
          start: {
            line: 420,
            column: 8
          },
          end: {
            line: 425,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 420,
            column: 8
          },
          end: {
            line: 425,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 420
      },
      "40": {
        loc: {
          start: {
            line: 428,
            column: 8
          },
          end: {
            line: 444,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 428,
            column: 8
          },
          end: {
            line: 444,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 428
      },
      "41": {
        loc: {
          start: {
            line: 433,
            column: 12
          },
          end: {
            line: 442,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 433,
            column: 12
          },
          end: {
            line: 442,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 433
      },
      "42": {
        loc: {
          start: {
            line: 443,
            column: 33
          },
          end: {
            line: 443,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 443,
            column: 33
          },
          end: {
            line: 443,
            column: 45
          }
        }, {
          start: {
            line: 443,
            column: 49
          },
          end: {
            line: 443,
            column: 50
          }
        }],
        line: 443
      },
      "43": {
        loc: {
          start: {
            line: 456,
            column: 25
          },
          end: {
            line: 456,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 456,
            column: 50
          },
          end: {
            line: 456,
            column: 63
          }
        }, {
          start: {
            line: 456,
            column: 66
          },
          end: {
            line: 456,
            column: 81
          }
        }],
        line: 456
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0],
      "14": [0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0],
      "21": [0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts"],
      sourcesContent: ["import {\n  systemSettingsSchema,\n  updateSystemSettingsSchema,\n  homePageConfigSchema,\n  type SystemSettings,\n  type UpdateSystemSettingsDTO,\n  type HomePageConfig,\n} from '../schemas/settingsSchemas';\n\ntype Result<T> =\n  | { success: true; data: T }\n  | { success: false; error: { code: string; message: string; details?: any } };\n\ninterface SettingRow {\n  id: string;\n  key: string;\n  value: any;\n  description: string | null;\n  category: string;\n  is_public: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\n// Lazy load supabase to avoid initialization issues in tests\nlet _supabase: any = null;\nfunction getSupabase() {\n  if (!_supabase) {\n    const { supabase } = require('../lib/supabase');\n    _supabase = supabase;\n  }\n  return _supabase;\n}\n\n/**\n * Gets a single setting by key\n * \n * @param key - Setting key\n * @returns Result containing the setting value or error details\n */\nexport async function getSetting(key: string): Promise<Result<any>> {\n  try {\n    const supabase = getSupabase();\n    const { data, error } = await supabase\n      .from('system_settings')\n      .select('value')\n      .eq('key', key)\n      .single();\n\n    if (error) {\n      if (error.code === 'PGRST116') {\n        return {\n          success: false,\n          error: {\n            code: 'NOT_FOUND',\n            message: `Setting '${key}' not found`,\n          },\n        };\n      }\n\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data: data.value };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Gets all system settings\n * \n * @returns Result containing all settings or error details\n * \n * @example\n * const result = await settingsService.getSettings();\n * if (result.success) {\n *   console.log(result.data);\n * }\n */\nexport async function getSettings(): Promise<Result<SettingRow[]>> {\n  try {\n    const supabase = getSupabase();\n    const { data, error } = await supabase\n      .from('system_settings')\n      .select('*')\n      .order('category', { ascending: true })\n      .order('key', { ascending: true });\n\n    if (error) {\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data: data || [] };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Gets settings by category\n * \n * @param category - Setting category\n * @returns Result containing settings in the category or error details\n */\nexport async function getSettingsByCategory(category: string): Promise<Result<SettingRow[]>> {\n  try {\n    const supabase = getSupabase();\n    const { data, error } = await supabase\n      .from('system_settings')\n      .select('*')\n      .eq('category', category)\n      .order('key', { ascending: true });\n\n    if (error) {\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data: data || [] };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Updates a single setting\n * \n * @param key - Setting key\n * @param value - New value (will be stored as JSONB)\n * @returns Result containing the updated setting or error details\n * \n * @example\n * const result = await settingsService.updateSetting('wedding_date', '2024-06-15');\n */\nexport async function updateSetting(key: string, value: any): Promise<Result<SettingRow>> {\n  try {\n    const supabase = getSupabase();\n    \n    // Check if setting exists\n    const { data: existing } = await supabase\n      .from('system_settings')\n      .select('id')\n      .eq('key', key)\n      .single();\n\n    let result;\n    if (existing) {\n      // Update existing setting\n      const { data: updated, error } = await supabase\n        .from('system_settings')\n        .update({ value, updated_at: new Date().toISOString() })\n        .eq('key', key)\n        .select()\n        .single();\n\n      if (error) {\n        return {\n          success: false,\n          error: {\n            code: 'DATABASE_ERROR',\n            message: error.message,\n            details: error,\n          },\n        };\n      }\n\n      result = updated;\n    } else {\n      return {\n        success: false,\n        error: {\n          code: 'NOT_FOUND',\n          message: `Setting '${key}' not found`,\n        },\n      };\n    }\n\n    return { success: true, data: result };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Creates a new setting\n * \n * @param key - Setting key (must be unique)\n * @param value - Setting value (will be stored as JSONB)\n * @param description - Optional description\n * @param category - Setting category (default: 'general')\n * @param isPublic - Whether the setting is publicly readable (default: false)\n * @returns Result containing the created setting or error details\n */\nexport async function createSetting(\n  key: string,\n  value: any,\n  description?: string,\n  category: string = 'general',\n  isPublic: boolean = false\n): Promise<Result<SettingRow>> {\n  try {\n    const supabase = getSupabase();\n    \n    const { data, error } = await supabase\n      .from('system_settings')\n      .insert({\n        key,\n        value,\n        description,\n        category,\n        is_public: isPublic,\n      })\n      .select()\n      .single();\n\n    if (error) {\n      if (error.code === '23505') {\n        // Unique constraint violation\n        return {\n          success: false,\n          error: {\n            code: 'CONFLICT',\n            message: `Setting '${key}' already exists`,\n          },\n        };\n      }\n\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Deletes a setting\n * \n * @param key - Setting key\n * @returns Result indicating success or error details\n */\nexport async function deleteSetting(key: string): Promise<Result<void>> {\n  try {\n    const supabase = getSupabase();\n    \n    const { error } = await supabase\n      .from('system_settings')\n      .delete()\n      .eq('key', key);\n\n    if (error) {\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data: undefined };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Upserts (creates or updates) a single setting\n * Handles both create and update in a single operation\n * \n * @param key - Setting key\n * @param value - Setting value (will be stored as JSONB)\n * @param description - Optional description (used only on create)\n * @param category - Setting category (default: 'general', used only on create)\n * @param isPublic - Whether the setting is publicly readable (default: false, used only on create)\n * @returns Result containing the upserted setting or error details\n */\nexport async function upsertSetting(\n  key: string,\n  value: any,\n  description?: string,\n  category: string = 'general',\n  isPublic: boolean = false\n): Promise<Result<SettingRow>> {\n  try {\n    const supabase = getSupabase();\n    \n    // Use Supabase upsert with conflict resolution on key\n    const { data, error } = await supabase\n      .from('system_settings')\n      .upsert(\n        {\n          key,\n          value,\n          description,\n          category,\n          is_public: isPublic,\n          updated_at: new Date().toISOString(),\n        },\n        {\n          onConflict: 'key',\n          ignoreDuplicates: false,\n        }\n      )\n      .select()\n      .single();\n\n    if (error) {\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Upserts home page configuration\n * Handles both create and update in a single operation for all home page settings\n * \n * @param config - Home page configuration object\n * @returns Result containing the updated configuration or error details\n * \n * @example\n * const result = await settingsService.upsertHomePageConfig({\n *   title: 'Welcome to Our Wedding',\n *   subtitle: 'Join us in Costa Rica',\n *   welcomeMessage: '<p>We are excited to celebrate with you!</p>',\n *   heroImageUrl: 'https://example.com/hero.jpg',\n * });\n */\nexport async function upsertHomePageConfig(\n  config: HomePageConfig\n): Promise<Result<HomePageConfig>> {\n  try {\n    // Validate input\n    const validation = homePageConfigSchema.safeParse(config);\n    if (!validation.success) {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: 'Invalid home page configuration',\n          details: validation.error.issues,\n        },\n      };\n    }\n\n    const validatedConfig = validation.data;\n    const updates: Promise<Result<SettingRow>>[] = [];\n\n    // Upsert each setting individually\n    if (validatedConfig.title !== undefined) {\n      updates.push(\n        upsertSetting(\n          'home_page_title',\n          validatedConfig.title,\n          'Home page title',\n          'home_page',\n          true\n        )\n      );\n    }\n\n    if (validatedConfig.subtitle !== undefined) {\n      updates.push(\n        upsertSetting(\n          'home_page_subtitle',\n          validatedConfig.subtitle,\n          'Home page subtitle',\n          'home_page',\n          true\n        )\n      );\n    }\n\n    if (validatedConfig.welcomeMessage !== undefined) {\n      updates.push(\n        upsertSetting(\n          'home_page_welcome_message',\n          validatedConfig.welcomeMessage,\n          'Home page welcome message',\n          'home_page',\n          true\n        )\n      );\n    }\n\n    if (validatedConfig.heroImageUrl !== undefined) {\n      updates.push(\n        upsertSetting(\n          'home_page_hero_image_url',\n          validatedConfig.heroImageUrl,\n          'Home page hero image URL',\n          'home_page',\n          true\n        )\n      );\n    }\n\n    // Execute all upserts\n    const results = await Promise.all(updates);\n\n    // Check if any upserts failed\n    const failures = results.filter((r) => !r.success);\n    if (failures.length > 0) {\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: 'Failed to update some home page settings',\n          details: failures.map((f) => f.error),\n        },\n      };\n    }\n\n    // Return the validated config\n    return { success: true, data: validatedConfig };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Gets the default authentication method for new guests\n * \n * @returns Result containing the default auth method or error details\n * \n * @example\n * const result = await settingsService.getDefaultAuthMethod();\n * if (result.success) {\n *   console.log('Default auth method:', result.data);\n * }\n */\nexport async function getDefaultAuthMethod(): Promise<Result<'email_matching' | 'magic_link'>> {\n  try {\n    const result = await getSetting('default_auth_method');\n    \n    if (!result.success) {\n      // If setting doesn't exist, return default value\n      if (result.error.code === 'NOT_FOUND') {\n        return { success: true, data: 'email_matching' };\n      }\n      return result;\n    }\n\n    // Validate the value\n    const value = result.data;\n    if (value !== 'email_matching' && value !== 'magic_link') {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: `Invalid auth method value: ${value}`,\n        },\n      };\n    }\n\n    return { success: true, data: value };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Updates the default authentication method for new guests\n * Optionally updates all existing guests to use the new method\n * \n * @param method - The authentication method to set as default\n * @param updateExistingGuests - Whether to update all existing guests (default: false)\n * @returns Result containing the number of updated guests or error details\n * \n * @example\n * // Update default only\n * const result = await settingsService.updateDefaultAuthMethod('magic_link', false);\n * \n * // Update default and all existing guests\n * const result = await settingsService.updateDefaultAuthMethod('magic_link', true);\n * if (result.success) {\n *   console.log(`Updated ${result.data.updatedGuestsCount} guests`);\n * }\n */\nexport async function updateDefaultAuthMethod(\n  method: 'email_matching' | 'magic_link',\n  updateExistingGuests: boolean = false\n): Promise<Result<{ updatedGuestsCount: number }>> {\n  try {\n    const supabase = getSupabase();\n\n    // Validate method\n    if (method !== 'email_matching' && method !== 'magic_link') {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: `Invalid auth method: ${method}`,\n        },\n      };\n    }\n\n    // Update the default_auth_method setting\n    const settingResult = await upsertSetting(\n      'default_auth_method',\n      method,\n      'Default authentication method for new guests',\n      'authentication',\n      false\n    );\n\n    if (!settingResult.success) {\n      return {\n        success: false,\n        error: settingResult.error,\n      };\n    }\n\n    let updatedGuestsCount = 0;\n\n    // If requested, update all existing guests\n    if (updateExistingGuests) {\n      const { data, error } = await supabase\n        .from('guests')\n        .update({ auth_method: method })\n        .neq('auth_method', method) // Only update guests with different auth method\n        .select('id');\n\n      if (error) {\n        return {\n          success: false,\n          error: {\n            code: 'DATABASE_ERROR',\n            message: 'Failed to update existing guests',\n            details: error,\n          },\n        };\n      }\n\n      updatedGuestsCount = data?.length || 0;\n    }\n\n    return {\n      success: true,\n      data: { updatedGuestsCount },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n"],
      names: ["createSetting", "deleteSetting", "getDefaultAuthMethod", "getSetting", "getSettings", "getSettingsByCategory", "updateDefaultAuthMethod", "updateSetting", "upsertHomePageConfig", "upsertSetting", "_supabase", "getSupabase", "supabase", "require", "key", "data", "error", "from", "select", "eq", "single", "code", "success", "message", "details", "value", "Error", "order", "ascending", "category", "existing", "result", "updated", "update", "updated_at", "Date", "toISOString", "description", "isPublic", "insert", "is_public", "delete", "undefined", "upsert", "onConflict", "ignoreDuplicates", "config", "validation", "homePageConfigSchema", "safeParse", "issues", "validatedConfig", "updates", "title", "push", "subtitle", "welcomeMessage", "heroImageUrl", "results", "Promise", "all", "failures", "filter", "r", "length", "map", "f", "method", "updateExistingGuests", "settingResult", "updatedGuestsCount", "auth_method", "neq"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "481fa05d964d2723f0418e9dd91d2620353d3cd8"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_wexyv07j = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_wexyv07j();
cov_wexyv07j().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_wexyv07j().f[0]++;
  cov_wexyv07j().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_wexyv07j().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_wexyv07j().s[3]++;
_export(exports, {
  get createSetting() {
    /* istanbul ignore next */
    cov_wexyv07j().f[1]++;
    cov_wexyv07j().s[4]++;
    return createSetting;
  },
  get deleteSetting() {
    /* istanbul ignore next */
    cov_wexyv07j().f[2]++;
    cov_wexyv07j().s[5]++;
    return deleteSetting;
  },
  get getDefaultAuthMethod() {
    /* istanbul ignore next */
    cov_wexyv07j().f[3]++;
    cov_wexyv07j().s[6]++;
    return getDefaultAuthMethod;
  },
  get getSetting() {
    /* istanbul ignore next */
    cov_wexyv07j().f[4]++;
    cov_wexyv07j().s[7]++;
    return getSetting;
  },
  get getSettings() {
    /* istanbul ignore next */
    cov_wexyv07j().f[5]++;
    cov_wexyv07j().s[8]++;
    return getSettings;
  },
  get getSettingsByCategory() {
    /* istanbul ignore next */
    cov_wexyv07j().f[6]++;
    cov_wexyv07j().s[9]++;
    return getSettingsByCategory;
  },
  get updateDefaultAuthMethod() {
    /* istanbul ignore next */
    cov_wexyv07j().f[7]++;
    cov_wexyv07j().s[10]++;
    return updateDefaultAuthMethod;
  },
  get updateSetting() {
    /* istanbul ignore next */
    cov_wexyv07j().f[8]++;
    cov_wexyv07j().s[11]++;
    return updateSetting;
  },
  get upsertHomePageConfig() {
    /* istanbul ignore next */
    cov_wexyv07j().f[9]++;
    cov_wexyv07j().s[12]++;
    return upsertHomePageConfig;
  },
  get upsertSetting() {
    /* istanbul ignore next */
    cov_wexyv07j().f[10]++;
    cov_wexyv07j().s[13]++;
    return upsertSetting;
  }
});
const _settingsSchemas =
/* istanbul ignore next */
(cov_wexyv07j().s[14]++, require("../schemas/settingsSchemas"));
// Lazy load supabase to avoid initialization issues in tests
let _supabase =
/* istanbul ignore next */
(cov_wexyv07j().s[15]++, null);
function getSupabase() {
  /* istanbul ignore next */
  cov_wexyv07j().f[11]++;
  cov_wexyv07j().s[16]++;
  if (!_supabase) {
    /* istanbul ignore next */
    cov_wexyv07j().b[0][0]++;
    const {
      supabase
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[17]++, require('../lib/supabase'));
    /* istanbul ignore next */
    cov_wexyv07j().s[18]++;
    _supabase = supabase;
  } else
  /* istanbul ignore next */
  {
    cov_wexyv07j().b[0][1]++;
  }
  cov_wexyv07j().s[19]++;
  return _supabase;
}
async function getSetting(key) {
  /* istanbul ignore next */
  cov_wexyv07j().f[12]++;
  cov_wexyv07j().s[20]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[21]++, getSupabase());
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[22]++, await supabase.from('system_settings').select('value').eq('key', key).single());
    /* istanbul ignore next */
    cov_wexyv07j().s[23]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[1][0]++;
      cov_wexyv07j().s[24]++;
      if (error.code === 'PGRST116') {
        /* istanbul ignore next */
        cov_wexyv07j().b[2][0]++;
        cov_wexyv07j().s[25]++;
        return {
          success: false,
          error: {
            code: 'NOT_FOUND',
            message: `Setting '${key}' not found`
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[2][1]++;
      }
      cov_wexyv07j().s[26]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[1][1]++;
    }
    cov_wexyv07j().s[27]++;
    return {
      success: true,
      data: data.value
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[28]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[3][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[3][1]++, 'Unknown error')
      }
    };
  }
}
async function getSettings() {
  /* istanbul ignore next */
  cov_wexyv07j().f[13]++;
  cov_wexyv07j().s[29]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[30]++, getSupabase());
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[31]++, await supabase.from('system_settings').select('*').order('category', {
      ascending: true
    }).order('key', {
      ascending: true
    }));
    /* istanbul ignore next */
    cov_wexyv07j().s[32]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[4][0]++;
      cov_wexyv07j().s[33]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[4][1]++;
    }
    cov_wexyv07j().s[34]++;
    return {
      success: true,
      data:
      /* istanbul ignore next */
      (cov_wexyv07j().b[5][0]++, data) ||
      /* istanbul ignore next */
      (cov_wexyv07j().b[5][1]++, [])
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[35]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[6][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[6][1]++, 'Unknown error')
      }
    };
  }
}
async function getSettingsByCategory(category) {
  /* istanbul ignore next */
  cov_wexyv07j().f[14]++;
  cov_wexyv07j().s[36]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[37]++, getSupabase());
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[38]++, await supabase.from('system_settings').select('*').eq('category', category).order('key', {
      ascending: true
    }));
    /* istanbul ignore next */
    cov_wexyv07j().s[39]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[7][0]++;
      cov_wexyv07j().s[40]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[7][1]++;
    }
    cov_wexyv07j().s[41]++;
    return {
      success: true,
      data:
      /* istanbul ignore next */
      (cov_wexyv07j().b[8][0]++, data) ||
      /* istanbul ignore next */
      (cov_wexyv07j().b[8][1]++, [])
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[42]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[9][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[9][1]++, 'Unknown error')
      }
    };
  }
}
async function updateSetting(key, value) {
  /* istanbul ignore next */
  cov_wexyv07j().f[15]++;
  cov_wexyv07j().s[43]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[44]++, getSupabase());
    // Check if setting exists
    const {
      data: existing
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[45]++, await supabase.from('system_settings').select('id').eq('key', key).single());
    let result;
    /* istanbul ignore next */
    cov_wexyv07j().s[46]++;
    if (existing) {
      /* istanbul ignore next */
      cov_wexyv07j().b[10][0]++;
      // Update existing setting
      const {
        data: updated,
        error
      } =
      /* istanbul ignore next */
      (cov_wexyv07j().s[47]++, await supabase.from('system_settings').update({
        value,
        updated_at: new Date().toISOString()
      }).eq('key', key).select().single());
      /* istanbul ignore next */
      cov_wexyv07j().s[48]++;
      if (error) {
        /* istanbul ignore next */
        cov_wexyv07j().b[11][0]++;
        cov_wexyv07j().s[49]++;
        return {
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: error.message,
            details: error
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[11][1]++;
      }
      cov_wexyv07j().s[50]++;
      result = updated;
    } else {
      /* istanbul ignore next */
      cov_wexyv07j().b[10][1]++;
      cov_wexyv07j().s[51]++;
      return {
        success: false,
        error: {
          code: 'NOT_FOUND',
          message: `Setting '${key}' not found`
        }
      };
    }
    /* istanbul ignore next */
    cov_wexyv07j().s[52]++;
    return {
      success: true,
      data: result
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[53]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[12][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[12][1]++, 'Unknown error')
      }
    };
  }
}
async function createSetting(key, value, description, category =
/* istanbul ignore next */
(cov_wexyv07j().b[13][0]++, 'general'), isPublic =
/* istanbul ignore next */
(cov_wexyv07j().b[14][0]++, false)) {
  /* istanbul ignore next */
  cov_wexyv07j().f[16]++;
  cov_wexyv07j().s[54]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[55]++, getSupabase());
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[56]++, await supabase.from('system_settings').insert({
      key,
      value,
      description,
      category,
      is_public: isPublic
    }).select().single());
    /* istanbul ignore next */
    cov_wexyv07j().s[57]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[15][0]++;
      cov_wexyv07j().s[58]++;
      if (error.code === '23505') {
        /* istanbul ignore next */
        cov_wexyv07j().b[16][0]++;
        cov_wexyv07j().s[59]++;
        // Unique constraint violation
        return {
          success: false,
          error: {
            code: 'CONFLICT',
            message: `Setting '${key}' already exists`
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[16][1]++;
      }
      cov_wexyv07j().s[60]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[15][1]++;
    }
    cov_wexyv07j().s[61]++;
    return {
      success: true,
      data
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[62]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[17][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[17][1]++, 'Unknown error')
      }
    };
  }
}
async function deleteSetting(key) {
  /* istanbul ignore next */
  cov_wexyv07j().f[17]++;
  cov_wexyv07j().s[63]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[64]++, getSupabase());
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[65]++, await supabase.from('system_settings').delete().eq('key', key));
    /* istanbul ignore next */
    cov_wexyv07j().s[66]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[18][0]++;
      cov_wexyv07j().s[67]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[18][1]++;
    }
    cov_wexyv07j().s[68]++;
    return {
      success: true,
      data: undefined
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[69]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[19][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[19][1]++, 'Unknown error')
      }
    };
  }
}
async function upsertSetting(key, value, description, category =
/* istanbul ignore next */
(cov_wexyv07j().b[20][0]++, 'general'), isPublic =
/* istanbul ignore next */
(cov_wexyv07j().b[21][0]++, false)) {
  /* istanbul ignore next */
  cov_wexyv07j().f[18]++;
  cov_wexyv07j().s[70]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[71]++, getSupabase());
    // Use Supabase upsert with conflict resolution on key
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[72]++, await supabase.from('system_settings').upsert({
      key,
      value,
      description,
      category,
      is_public: isPublic,
      updated_at: new Date().toISOString()
    }, {
      onConflict: 'key',
      ignoreDuplicates: false
    }).select().single());
    /* istanbul ignore next */
    cov_wexyv07j().s[73]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[22][0]++;
      cov_wexyv07j().s[74]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[22][1]++;
    }
    cov_wexyv07j().s[75]++;
    return {
      success: true,
      data
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[76]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[23][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[23][1]++, 'Unknown error')
      }
    };
  }
}
async function upsertHomePageConfig(config) {
  /* istanbul ignore next */
  cov_wexyv07j().f[19]++;
  cov_wexyv07j().s[77]++;
  try {
    // Validate input
    const validation =
    /* istanbul ignore next */
    (cov_wexyv07j().s[78]++, _settingsSchemas.homePageConfigSchema.safeParse(config));
    /* istanbul ignore next */
    cov_wexyv07j().s[79]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_wexyv07j().b[24][0]++;
      cov_wexyv07j().s[80]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Invalid home page configuration',
          details: validation.error.issues
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[24][1]++;
    }
    const validatedConfig =
    /* istanbul ignore next */
    (cov_wexyv07j().s[81]++, validation.data);
    const updates =
    /* istanbul ignore next */
    (cov_wexyv07j().s[82]++, []);
    // Upsert each setting individually
    /* istanbul ignore next */
    cov_wexyv07j().s[83]++;
    if (validatedConfig.title !== undefined) {
      /* istanbul ignore next */
      cov_wexyv07j().b[25][0]++;
      cov_wexyv07j().s[84]++;
      updates.push(upsertSetting('home_page_title', validatedConfig.title, 'Home page title', 'home_page', true));
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[25][1]++;
    }
    cov_wexyv07j().s[85]++;
    if (validatedConfig.subtitle !== undefined) {
      /* istanbul ignore next */
      cov_wexyv07j().b[26][0]++;
      cov_wexyv07j().s[86]++;
      updates.push(upsertSetting('home_page_subtitle', validatedConfig.subtitle, 'Home page subtitle', 'home_page', true));
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[26][1]++;
    }
    cov_wexyv07j().s[87]++;
    if (validatedConfig.welcomeMessage !== undefined) {
      /* istanbul ignore next */
      cov_wexyv07j().b[27][0]++;
      cov_wexyv07j().s[88]++;
      updates.push(upsertSetting('home_page_welcome_message', validatedConfig.welcomeMessage, 'Home page welcome message', 'home_page', true));
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[27][1]++;
    }
    cov_wexyv07j().s[89]++;
    if (validatedConfig.heroImageUrl !== undefined) {
      /* istanbul ignore next */
      cov_wexyv07j().b[28][0]++;
      cov_wexyv07j().s[90]++;
      updates.push(upsertSetting('home_page_hero_image_url', validatedConfig.heroImageUrl, 'Home page hero image URL', 'home_page', true));
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[28][1]++;
    }
    // Execute all upserts
    const results =
    /* istanbul ignore next */
    (cov_wexyv07j().s[91]++, await Promise.all(updates));
    // Check if any upserts failed
    const failures =
    /* istanbul ignore next */
    (cov_wexyv07j().s[92]++, results.filter(r => {
      /* istanbul ignore next */
      cov_wexyv07j().f[20]++;
      cov_wexyv07j().s[93]++;
      return !r.success;
    }));
    /* istanbul ignore next */
    cov_wexyv07j().s[94]++;
    if (failures.length > 0) {
      /* istanbul ignore next */
      cov_wexyv07j().b[29][0]++;
      cov_wexyv07j().s[95]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: 'Failed to update some home page settings',
          details: failures.map(f => {
            /* istanbul ignore next */
            cov_wexyv07j().f[21]++;
            cov_wexyv07j().s[96]++;
            return f.error;
          })
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[29][1]++;
    }
    // Return the validated config
    cov_wexyv07j().s[97]++;
    return {
      success: true,
      data: validatedConfig
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[98]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[30][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[30][1]++, 'Unknown error')
      }
    };
  }
}
async function getDefaultAuthMethod() {
  /* istanbul ignore next */
  cov_wexyv07j().f[22]++;
  cov_wexyv07j().s[99]++;
  try {
    const result =
    /* istanbul ignore next */
    (cov_wexyv07j().s[100]++, await getSetting('default_auth_method'));
    /* istanbul ignore next */
    cov_wexyv07j().s[101]++;
    if (!result.success) {
      /* istanbul ignore next */
      cov_wexyv07j().b[31][0]++;
      cov_wexyv07j().s[102]++;
      // If setting doesn't exist, return default value
      if (result.error.code === 'NOT_FOUND') {
        /* istanbul ignore next */
        cov_wexyv07j().b[32][0]++;
        cov_wexyv07j().s[103]++;
        return {
          success: true,
          data: 'email_matching'
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[32][1]++;
      }
      cov_wexyv07j().s[104]++;
      return result;
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[31][1]++;
    }
    // Validate the value
    const value =
    /* istanbul ignore next */
    (cov_wexyv07j().s[105]++, result.data);
    /* istanbul ignore next */
    cov_wexyv07j().s[106]++;
    if (
    /* istanbul ignore next */
    (cov_wexyv07j().b[34][0]++, value !== 'email_matching') &&
    /* istanbul ignore next */
    (cov_wexyv07j().b[34][1]++, value !== 'magic_link')) {
      /* istanbul ignore next */
      cov_wexyv07j().b[33][0]++;
      cov_wexyv07j().s[107]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: `Invalid auth method value: ${value}`
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[33][1]++;
    }
    cov_wexyv07j().s[108]++;
    return {
      success: true,
      data: value
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[109]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[35][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[35][1]++, 'Unknown error')
      }
    };
  }
}
async function updateDefaultAuthMethod(method, updateExistingGuests =
/* istanbul ignore next */
(cov_wexyv07j().b[36][0]++, false)) {
  /* istanbul ignore next */
  cov_wexyv07j().f[23]++;
  cov_wexyv07j().s[110]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[111]++, getSupabase());
    // Validate method
    /* istanbul ignore next */
    cov_wexyv07j().s[112]++;
    if (
    /* istanbul ignore next */
    (cov_wexyv07j().b[38][0]++, method !== 'email_matching') &&
    /* istanbul ignore next */
    (cov_wexyv07j().b[38][1]++, method !== 'magic_link')) {
      /* istanbul ignore next */
      cov_wexyv07j().b[37][0]++;
      cov_wexyv07j().s[113]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: `Invalid auth method: ${method}`
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[37][1]++;
    }
    // Update the default_auth_method setting
    const settingResult =
    /* istanbul ignore next */
    (cov_wexyv07j().s[114]++, await upsertSetting('default_auth_method', method, 'Default authentication method for new guests', 'authentication', false));
    /* istanbul ignore next */
    cov_wexyv07j().s[115]++;
    if (!settingResult.success) {
      /* istanbul ignore next */
      cov_wexyv07j().b[39][0]++;
      cov_wexyv07j().s[116]++;
      return {
        success: false,
        error: settingResult.error
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[39][1]++;
    }
    let updatedGuestsCount =
    /* istanbul ignore next */
    (cov_wexyv07j().s[117]++, 0);
    // If requested, update all existing guests
    /* istanbul ignore next */
    cov_wexyv07j().s[118]++;
    if (updateExistingGuests) {
      /* istanbul ignore next */
      cov_wexyv07j().b[40][0]++;
      const {
        data,
        error
      } =
      /* istanbul ignore next */
      (cov_wexyv07j().s[119]++, await supabase.from('guests').update({
        auth_method: method
      }).neq('auth_method', method) // Only update guests with different auth method
      .select('id'));
      /* istanbul ignore next */
      cov_wexyv07j().s[120]++;
      if (error) {
        /* istanbul ignore next */
        cov_wexyv07j().b[41][0]++;
        cov_wexyv07j().s[121]++;
        return {
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: 'Failed to update existing guests',
            details: error
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[41][1]++;
      }
      cov_wexyv07j().s[122]++;
      updatedGuestsCount =
      /* istanbul ignore next */
      (cov_wexyv07j().b[42][0]++, data?.length) ||
      /* istanbul ignore next */
      (cov_wexyv07j().b[42][1]++, 0);
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[40][1]++;
    }
    cov_wexyv07j().s[123]++;
    return {
      success: true,
      data: {
        updatedGuestsCount
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[124]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[43][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[43][1]++, 'Unknown error')
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVTZXR0aW5nIiwiY292X3dleHl2MDdqIiwiZiIsInMiLCJkZWxldGVTZXR0aW5nIiwiZ2V0RGVmYXVsdEF1dGhNZXRob2QiLCJnZXRTZXR0aW5nIiwiZ2V0U2V0dGluZ3MiLCJnZXRTZXR0aW5nc0J5Q2F0ZWdvcnkiLCJ1cGRhdGVEZWZhdWx0QXV0aE1ldGhvZCIsInVwZGF0ZVNldHRpbmciLCJ1cHNlcnRIb21lUGFnZUNvbmZpZyIsInVwc2VydFNldHRpbmciLCJfc3VwYWJhc2UiLCJnZXRTdXBhYmFzZSIsImIiLCJzdXBhYmFzZSIsInJlcXVpcmUiLCJrZXkiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb2RlIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwidmFsdWUiLCJFcnJvciIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiY2F0ZWdvcnkiLCJleGlzdGluZyIsInJlc3VsdCIsInVwZGF0ZWQiLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZGVzY3JpcHRpb24iLCJpc1B1YmxpYyIsImluc2VydCIsImlzX3B1YmxpYyIsImRlbGV0ZSIsInVuZGVmaW5lZCIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJpZ25vcmVEdXBsaWNhdGVzIiwiY29uZmlnIiwidmFsaWRhdGlvbiIsIl9zZXR0aW5nc1NjaGVtYXMiLCJob21lUGFnZUNvbmZpZ1NjaGVtYSIsInNhZmVQYXJzZSIsImlzc3VlcyIsInZhbGlkYXRlZENvbmZpZyIsInVwZGF0ZXMiLCJ0aXRsZSIsInB1c2giLCJzdWJ0aXRsZSIsIndlbGNvbWVNZXNzYWdlIiwiaGVyb0ltYWdlVXJsIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJmYWlsdXJlcyIsImZpbHRlciIsInIiLCJsZW5ndGgiLCJtYXAiLCJtZXRob2QiLCJ1cGRhdGVFeGlzdGluZ0d1ZXN0cyIsInNldHRpbmdSZXN1bHQiLCJ1cGRhdGVkR3Vlc3RzQ291bnQiLCJhdXRoX21ldGhvZCIsIm5lcSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvc2V0dGluZ3NTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHN5c3RlbVNldHRpbmdzU2NoZW1hLFxuICB1cGRhdGVTeXN0ZW1TZXR0aW5nc1NjaGVtYSxcbiAgaG9tZVBhZ2VDb25maWdTY2hlbWEsXG4gIHR5cGUgU3lzdGVtU2V0dGluZ3MsXG4gIHR5cGUgVXBkYXRlU3lzdGVtU2V0dGluZ3NEVE8sXG4gIHR5cGUgSG9tZVBhZ2VDb25maWcsXG59IGZyb20gJy4uL3NjaGVtYXMvc2V0dGluZ3NTY2hlbWFzJztcblxudHlwZSBSZXN1bHQ8VD4gPVxuICB8IHsgc3VjY2VzczogdHJ1ZTsgZGF0YTogVCB9XG4gIHwgeyBzdWNjZXNzOiBmYWxzZTsgZXJyb3I6IHsgY29kZTogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmc7IGRldGFpbHM/OiBhbnkgfSB9O1xuXG5pbnRlcmZhY2UgU2V0dGluZ1JvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIGtleTogc3RyaW5nO1xuICB2YWx1ZTogYW55O1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgaXNfcHVibGljOiBib29sZWFuO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cblxuLy8gTGF6eSBsb2FkIHN1cGFiYXNlIHRvIGF2b2lkIGluaXRpYWxpemF0aW9uIGlzc3VlcyBpbiB0ZXN0c1xubGV0IF9zdXBhYmFzZTogYW55ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN1cGFiYXNlKCkge1xuICBpZiAoIV9zdXBhYmFzZSkge1xuICAgIGNvbnN0IHsgc3VwYWJhc2UgfSA9IHJlcXVpcmUoJy4uL2xpYi9zdXBhYmFzZScpO1xuICAgIF9zdXBhYmFzZSA9IHN1cGFiYXNlO1xuICB9XG4gIHJldHVybiBfc3VwYWJhc2U7XG59XG5cbi8qKlxuICogR2V0cyBhIHNpbmdsZSBzZXR0aW5nIGJ5IGtleVxuICogXG4gKiBAcGFyYW0ga2V5IC0gU2V0dGluZyBrZXlcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHRoZSBzZXR0aW5nIHZhbHVlIG9yIGVycm9yIGRldGFpbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmcoa2V5OiBzdHJpbmcpOiBQcm9taXNlPFJlc3VsdDxhbnk+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC5zZWxlY3QoJ3ZhbHVlJylcbiAgICAgIC5lcSgna2V5Jywga2V5KVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBTZXR0aW5nICcke2tleX0nIG5vdCBmb3VuZGAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhLnZhbHVlIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgYWxsIHN5c3RlbSBzZXR0aW5nc1xuICogXG4gKiBAcmV0dXJucyBSZXN1bHQgY29udGFpbmluZyBhbGwgc2V0dGluZ3Mgb3IgZXJyb3IgZGV0YWlsc1xuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2V0dGluZ3NTZXJ2aWNlLmdldFNldHRpbmdzKCk7XG4gKiBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAqICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpO1xuICogfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxSZXN1bHQ8U2V0dGluZ1Jvd1tdPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2UoKTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5vcmRlcignY2F0ZWdvcnknLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuICAgICAgLm9yZGVyKCdrZXknLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBkYXRhIHx8IFtdIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgc2V0dGluZ3MgYnkgY2F0ZWdvcnlcbiAqIFxuICogQHBhcmFtIGNhdGVnb3J5IC0gU2V0dGluZyBjYXRlZ29yeVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgc2V0dGluZ3MgaW4gdGhlIGNhdGVnb3J5IG9yIGVycm9yIGRldGFpbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzQnlDYXRlZ29yeShjYXRlZ29yeTogc3RyaW5nKTogUHJvbWlzZTxSZXN1bHQ8U2V0dGluZ1Jvd1tdPj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2UoKTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnY2F0ZWdvcnknLCBjYXRlZ29yeSlcbiAgICAgIC5vcmRlcigna2V5JywgeyBhc2NlbmRpbmc6IHRydWUgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGVzIGEgc2luZ2xlIHNldHRpbmdcbiAqIFxuICogQHBhcmFtIGtleSAtIFNldHRpbmcga2V5XG4gKiBAcGFyYW0gdmFsdWUgLSBOZXcgdmFsdWUgKHdpbGwgYmUgc3RvcmVkIGFzIEpTT05CKVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgdGhlIHVwZGF0ZWQgc2V0dGluZyBvciBlcnJvciBkZXRhaWxzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXR0aW5nc1NlcnZpY2UudXBkYXRlU2V0dGluZygnd2VkZGluZ19kYXRlJywgJzIwMjQtMDYtMTUnKTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmcoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBQcm9taXNlPFJlc3VsdDxTZXR0aW5nUm93Pj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2UoKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBzZXR0aW5nIGV4aXN0c1xuICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmcgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgna2V5Jywga2V5KVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzZXR0aW5nXG4gICAgICBjb25zdCB7IGRhdGE6IHVwZGF0ZWQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgICAgLnVwZGF0ZSh7IHZhbHVlLCB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSlcbiAgICAgICAgLmVxKCdrZXknLCBrZXkpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IHVwZGF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIG1lc3NhZ2U6IGBTZXR0aW5nICcke2tleX0nIG5vdCBmb3VuZGAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHNldHRpbmdcbiAqIFxuICogQHBhcmFtIGtleSAtIFNldHRpbmcga2V5IChtdXN0IGJlIHVuaXF1ZSlcbiAqIEBwYXJhbSB2YWx1ZSAtIFNldHRpbmcgdmFsdWUgKHdpbGwgYmUgc3RvcmVkIGFzIEpTT05CKVxuICogQHBhcmFtIGRlc2NyaXB0aW9uIC0gT3B0aW9uYWwgZGVzY3JpcHRpb25cbiAqIEBwYXJhbSBjYXRlZ29yeSAtIFNldHRpbmcgY2F0ZWdvcnkgKGRlZmF1bHQ6ICdnZW5lcmFsJylcbiAqIEBwYXJhbSBpc1B1YmxpYyAtIFdoZXRoZXIgdGhlIHNldHRpbmcgaXMgcHVibGljbHkgcmVhZGFibGUgKGRlZmF1bHQ6IGZhbHNlKVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgdGhlIGNyZWF0ZWQgc2V0dGluZyBvciBlcnJvciBkZXRhaWxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nKFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IGFueSxcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcsXG4gIGNhdGVnb3J5OiBzdHJpbmcgPSAnZ2VuZXJhbCcsXG4gIGlzUHVibGljOiBib29sZWFuID0gZmFsc2Vcbik6IFByb21pc2U8UmVzdWx0PFNldHRpbmdSb3c+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSgpO1xuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC5pbnNlcnQoe1xuICAgICAgICBrZXksXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgIGlzX3B1YmxpYzogaXNQdWJsaWMsXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnMjM1MDUnKSB7XG4gICAgICAgIC8vIFVuaXF1ZSBjb25zdHJhaW50IHZpb2xhdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlOiAnQ09ORkxJQ1QnLFxuICAgICAgICAgICAgbWVzc2FnZTogYFNldHRpbmcgJyR7a2V5fScgYWxyZWFkeSBleGlzdHNgLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBEZWxldGVzIGEgc2V0dGluZ1xuICogXG4gKiBAcGFyYW0ga2V5IC0gU2V0dGluZyBrZXlcbiAqIEByZXR1cm5zIFJlc3VsdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZXJyb3IgZGV0YWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2V0dGluZyhrZXk6IHN0cmluZyk6IFByb21pc2U8UmVzdWx0PHZvaWQ+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSgpO1xuICAgIFxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC5kZWxldGUoKVxuICAgICAgLmVxKCdrZXknLCBrZXkpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVuZGVmaW5lZCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVcHNlcnRzIChjcmVhdGVzIG9yIHVwZGF0ZXMpIGEgc2luZ2xlIHNldHRpbmdcbiAqIEhhbmRsZXMgYm90aCBjcmVhdGUgYW5kIHVwZGF0ZSBpbiBhIHNpbmdsZSBvcGVyYXRpb25cbiAqIFxuICogQHBhcmFtIGtleSAtIFNldHRpbmcga2V5XG4gKiBAcGFyYW0gdmFsdWUgLSBTZXR0aW5nIHZhbHVlICh3aWxsIGJlIHN0b3JlZCBhcyBKU09OQilcbiAqIEBwYXJhbSBkZXNjcmlwdGlvbiAtIE9wdGlvbmFsIGRlc2NyaXB0aW9uICh1c2VkIG9ubHkgb24gY3JlYXRlKVxuICogQHBhcmFtIGNhdGVnb3J5IC0gU2V0dGluZyBjYXRlZ29yeSAoZGVmYXVsdDogJ2dlbmVyYWwnLCB1c2VkIG9ubHkgb24gY3JlYXRlKVxuICogQHBhcmFtIGlzUHVibGljIC0gV2hldGhlciB0aGUgc2V0dGluZyBpcyBwdWJsaWNseSByZWFkYWJsZSAoZGVmYXVsdDogZmFsc2UsIHVzZWQgb25seSBvbiBjcmVhdGUpXG4gKiBAcmV0dXJucyBSZXN1bHQgY29udGFpbmluZyB0aGUgdXBzZXJ0ZWQgc2V0dGluZyBvciBlcnJvciBkZXRhaWxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cHNlcnRTZXR0aW5nKFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IGFueSxcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmcsXG4gIGNhdGVnb3J5OiBzdHJpbmcgPSAnZ2VuZXJhbCcsXG4gIGlzUHVibGljOiBib29sZWFuID0gZmFsc2Vcbik6IFByb21pc2U8UmVzdWx0PFNldHRpbmdSb3c+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSgpO1xuICAgIFxuICAgIC8vIFVzZSBTdXBhYmFzZSB1cHNlcnQgd2l0aCBjb25mbGljdCByZXNvbHV0aW9uIG9uIGtleVxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC51cHNlcnQoXG4gICAgICAgIHtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgaXNfcHVibGljOiBpc1B1YmxpYyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvbkNvbmZsaWN0OiAna2V5JyxcbiAgICAgICAgICBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVcHNlcnRzIGhvbWUgcGFnZSBjb25maWd1cmF0aW9uXG4gKiBIYW5kbGVzIGJvdGggY3JlYXRlIGFuZCB1cGRhdGUgaW4gYSBzaW5nbGUgb3BlcmF0aW9uIGZvciBhbGwgaG9tZSBwYWdlIHNldHRpbmdzXG4gKiBcbiAqIEBwYXJhbSBjb25maWcgLSBIb21lIHBhZ2UgY29uZmlndXJhdGlvbiBvYmplY3RcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHRoZSB1cGRhdGVkIGNvbmZpZ3VyYXRpb24gb3IgZXJyb3IgZGV0YWlsc1xuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2V0dGluZ3NTZXJ2aWNlLnVwc2VydEhvbWVQYWdlQ29uZmlnKHtcbiAqICAgdGl0bGU6ICdXZWxjb21lIHRvIE91ciBXZWRkaW5nJyxcbiAqICAgc3VidGl0bGU6ICdKb2luIHVzIGluIENvc3RhIFJpY2EnLFxuICogICB3ZWxjb21lTWVzc2FnZTogJzxwPldlIGFyZSBleGNpdGVkIHRvIGNlbGVicmF0ZSB3aXRoIHlvdSE8L3A+JyxcbiAqICAgaGVyb0ltYWdlVXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9oZXJvLmpwZycsXG4gKiB9KTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwc2VydEhvbWVQYWdlQ29uZmlnKFxuICBjb25maWc6IEhvbWVQYWdlQ29uZmlnXG4pOiBQcm9taXNlPFJlc3VsdDxIb21lUGFnZUNvbmZpZz4+IHtcbiAgdHJ5IHtcbiAgICAvLyBWYWxpZGF0ZSBpbnB1dFxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSBob21lUGFnZUNvbmZpZ1NjaGVtYS5zYWZlUGFyc2UoY29uZmlnKTtcbiAgICBpZiAoIXZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGhvbWUgcGFnZSBjb25maWd1cmF0aW9uJyxcbiAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9yLmlzc3VlcyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRhdGVkQ29uZmlnID0gdmFsaWRhdGlvbi5kYXRhO1xuICAgIGNvbnN0IHVwZGF0ZXM6IFByb21pc2U8UmVzdWx0PFNldHRpbmdSb3c+PltdID0gW107XG5cbiAgICAvLyBVcHNlcnQgZWFjaCBzZXR0aW5nIGluZGl2aWR1YWxseVxuICAgIGlmICh2YWxpZGF0ZWRDb25maWcudGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdXBkYXRlcy5wdXNoKFxuICAgICAgICB1cHNlcnRTZXR0aW5nKFxuICAgICAgICAgICdob21lX3BhZ2VfdGl0bGUnLFxuICAgICAgICAgIHZhbGlkYXRlZENvbmZpZy50aXRsZSxcbiAgICAgICAgICAnSG9tZSBwYWdlIHRpdGxlJyxcbiAgICAgICAgICAnaG9tZV9wYWdlJyxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRlZENvbmZpZy5zdWJ0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB1cGRhdGVzLnB1c2goXG4gICAgICAgIHVwc2VydFNldHRpbmcoXG4gICAgICAgICAgJ2hvbWVfcGFnZV9zdWJ0aXRsZScsXG4gICAgICAgICAgdmFsaWRhdGVkQ29uZmlnLnN1YnRpdGxlLFxuICAgICAgICAgICdIb21lIHBhZ2Ugc3VidGl0bGUnLFxuICAgICAgICAgICdob21lX3BhZ2UnLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGVkQ29uZmlnLndlbGNvbWVNZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHVwZGF0ZXMucHVzaChcbiAgICAgICAgdXBzZXJ0U2V0dGluZyhcbiAgICAgICAgICAnaG9tZV9wYWdlX3dlbGNvbWVfbWVzc2FnZScsXG4gICAgICAgICAgdmFsaWRhdGVkQ29uZmlnLndlbGNvbWVNZXNzYWdlLFxuICAgICAgICAgICdIb21lIHBhZ2Ugd2VsY29tZSBtZXNzYWdlJyxcbiAgICAgICAgICAnaG9tZV9wYWdlJyxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRlZENvbmZpZy5oZXJvSW1hZ2VVcmwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdXBkYXRlcy5wdXNoKFxuICAgICAgICB1cHNlcnRTZXR0aW5nKFxuICAgICAgICAgICdob21lX3BhZ2VfaGVyb19pbWFnZV91cmwnLFxuICAgICAgICAgIHZhbGlkYXRlZENvbmZpZy5oZXJvSW1hZ2VVcmwsXG4gICAgICAgICAgJ0hvbWUgcGFnZSBoZXJvIGltYWdlIFVSTCcsXG4gICAgICAgICAgJ2hvbWVfcGFnZScsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEV4ZWN1dGUgYWxsIHVwc2VydHNcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodXBkYXRlcyk7XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgdXBzZXJ0cyBmYWlsZWRcbiAgICBjb25zdCBmYWlsdXJlcyA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiAhci5zdWNjZXNzKTtcbiAgICBpZiAoZmFpbHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBzb21lIGhvbWUgcGFnZSBzZXR0aW5ncycsXG4gICAgICAgICAgZGV0YWlsczogZmFpbHVyZXMubWFwKChmKSA9PiBmLmVycm9yKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHRoZSB2YWxpZGF0ZWQgY29uZmlnXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdmFsaWRhdGVkQ29uZmlnIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGRlZmF1bHQgYXV0aGVudGljYXRpb24gbWV0aG9kIGZvciBuZXcgZ3Vlc3RzXG4gKiBcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHRoZSBkZWZhdWx0IGF1dGggbWV0aG9kIG9yIGVycm9yIGRldGFpbHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0QXV0aE1ldGhvZCgpO1xuICogaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdEZWZhdWx0IGF1dGggbWV0aG9kOicsIHJlc3VsdC5kYXRhKTtcbiAqIH1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRBdXRoTWV0aG9kKCk6IFByb21pc2U8UmVzdWx0PCdlbWFpbF9tYXRjaGluZycgfCAnbWFnaWNfbGluayc+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2V0dGluZygnZGVmYXVsdF9hdXRoX21ldGhvZCcpO1xuICAgIFxuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIC8vIElmIHNldHRpbmcgZG9lc24ndCBleGlzdCwgcmV0dXJuIGRlZmF1bHQgdmFsdWVcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IuY29kZSA9PT0gJ05PVF9GT1VORCcpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogJ2VtYWlsX21hdGNoaW5nJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGUgdmFsdWVcbiAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdC5kYXRhO1xuICAgIGlmICh2YWx1ZSAhPT0gJ2VtYWlsX21hdGNoaW5nJyAmJiB2YWx1ZSAhPT0gJ21hZ2ljX2xpbmsnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgYXV0aCBtZXRob2QgdmFsdWU6ICR7dmFsdWV9YCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdmFsdWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgZGVmYXVsdCBhdXRoZW50aWNhdGlvbiBtZXRob2QgZm9yIG5ldyBndWVzdHNcbiAqIE9wdGlvbmFsbHkgdXBkYXRlcyBhbGwgZXhpc3RpbmcgZ3Vlc3RzIHRvIHVzZSB0aGUgbmV3IG1ldGhvZFxuICogXG4gKiBAcGFyYW0gbWV0aG9kIC0gVGhlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCB0byBzZXQgYXMgZGVmYXVsdFxuICogQHBhcmFtIHVwZGF0ZUV4aXN0aW5nR3Vlc3RzIC0gV2hldGhlciB0byB1cGRhdGUgYWxsIGV4aXN0aW5nIGd1ZXN0cyAoZGVmYXVsdDogZmFsc2UpXG4gKiBAcmV0dXJucyBSZXN1bHQgY29udGFpbmluZyB0aGUgbnVtYmVyIG9mIHVwZGF0ZWQgZ3Vlc3RzIG9yIGVycm9yIGRldGFpbHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIFVwZGF0ZSBkZWZhdWx0IG9ubHlcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNldHRpbmdzU2VydmljZS51cGRhdGVEZWZhdWx0QXV0aE1ldGhvZCgnbWFnaWNfbGluaycsIGZhbHNlKTtcbiAqIFxuICogLy8gVXBkYXRlIGRlZmF1bHQgYW5kIGFsbCBleGlzdGluZyBndWVzdHNcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNldHRpbmdzU2VydmljZS51cGRhdGVEZWZhdWx0QXV0aE1ldGhvZCgnbWFnaWNfbGluaycsIHRydWUpO1xuICogaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gKiAgIGNvbnNvbGUubG9nKGBVcGRhdGVkICR7cmVzdWx0LmRhdGEudXBkYXRlZEd1ZXN0c0NvdW50fSBndWVzdHNgKTtcbiAqIH1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZURlZmF1bHRBdXRoTWV0aG9kKFxuICBtZXRob2Q6ICdlbWFpbF9tYXRjaGluZycgfCAnbWFnaWNfbGluaycsXG4gIHVwZGF0ZUV4aXN0aW5nR3Vlc3RzOiBib29sZWFuID0gZmFsc2Vcbik6IFByb21pc2U8UmVzdWx0PHsgdXBkYXRlZEd1ZXN0c0NvdW50OiBudW1iZXIgfT4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlKCk7XG5cbiAgICAvLyBWYWxpZGF0ZSBtZXRob2RcbiAgICBpZiAobWV0aG9kICE9PSAnZW1haWxfbWF0Y2hpbmcnICYmIG1ldGhvZCAhPT0gJ21hZ2ljX2xpbmsnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgYXV0aCBtZXRob2Q6ICR7bWV0aG9kfWAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZGVmYXVsdF9hdXRoX21ldGhvZCBzZXR0aW5nXG4gICAgY29uc3Qgc2V0dGluZ1Jlc3VsdCA9IGF3YWl0IHVwc2VydFNldHRpbmcoXG4gICAgICAnZGVmYXVsdF9hdXRoX21ldGhvZCcsXG4gICAgICBtZXRob2QsXG4gICAgICAnRGVmYXVsdCBhdXRoZW50aWNhdGlvbiBtZXRob2QgZm9yIG5ldyBndWVzdHMnLFxuICAgICAgJ2F1dGhlbnRpY2F0aW9uJyxcbiAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIGlmICghc2V0dGluZ1Jlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHNldHRpbmdSZXN1bHQuZXJyb3IsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCB1cGRhdGVkR3Vlc3RzQ291bnQgPSAwO1xuXG4gICAgLy8gSWYgcmVxdWVzdGVkLCB1cGRhdGUgYWxsIGV4aXN0aW5nIGd1ZXN0c1xuICAgIGlmICh1cGRhdGVFeGlzdGluZ0d1ZXN0cykge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2d1ZXN0cycpXG4gICAgICAgIC51cGRhdGUoeyBhdXRoX21ldGhvZDogbWV0aG9kIH0pXG4gICAgICAgIC5uZXEoJ2F1dGhfbWV0aG9kJywgbWV0aG9kKSAvLyBPbmx5IHVwZGF0ZSBndWVzdHMgd2l0aCBkaWZmZXJlbnQgYXV0aCBtZXRob2RcbiAgICAgICAgLnNlbGVjdCgnaWQnKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBleGlzdGluZyBndWVzdHMnLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlZEd1ZXN0c0NvdW50ID0gZGF0YT8ubGVuZ3RoIHx8IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiB7IHVwZGF0ZWRHdWVzdHNDb3VudCB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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