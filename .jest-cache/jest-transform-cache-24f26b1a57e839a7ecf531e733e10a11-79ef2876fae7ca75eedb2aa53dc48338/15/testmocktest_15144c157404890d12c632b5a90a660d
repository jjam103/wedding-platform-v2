4b4fde6f8080c7ae517a38ded5ab351c
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _sectionsService = require("./sectionsService");
// Mock Supabase before importing services
const mockFrom = _globals.jest.fn();
_globals.jest.mock('../lib/supabase', ()=>({
        supabase: {
            from: mockFrom
        }
    }));
(0, _globals.describe)('Test mocking', ()=>{
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
    });
    (0, _globals.it)('should work with mocked supabase', async ()=>{
        // Mock sections query
        mockFrom.mockReturnValueOnce({
            select: _globals.jest.fn().mockReturnValue({
                eq: _globals.jest.fn().mockReturnThis(),
                order: _globals.jest.fn().mockResolvedValue({
                    data: [],
                    error: null
                })
            })
        });
        // Mock columns query
        mockFrom.mockReturnValueOnce({
            select: _globals.jest.fn().mockReturnValue({
                in: _globals.jest.fn().mockReturnValue({
                    order: _globals.jest.fn().mockResolvedValue({
                        data: [],
                        error: null
                    })
                })
            })
        });
        const result = await (0, _sectionsService.listSections)('activity', 'test-id');
        console.log('Result:', JSON.stringify(result, null, 2));
        (0, _globals.expect)(result.success).toBe(true);
        if (result.success) {
            (0, _globals.expect)(result.data).toEqual([]);
        }
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvdGVzdC1tb2NrLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgamVzdCwgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuLy8gTW9jayBTdXBhYmFzZSBiZWZvcmUgaW1wb3J0aW5nIHNlcnZpY2VzXG5jb25zdCBtb2NrRnJvbSA9IGplc3QuZm4oKTtcbmplc3QubW9jaygnLi4vbGliL3N1cGFiYXNlJywgKCkgPT4gKHtcbiAgc3VwYWJhc2U6IHtcbiAgICBmcm9tOiBtb2NrRnJvbSxcbiAgfSxcbn0pKTtcblxuLy8gSW1wb3J0IGFmdGVyIG1vY2tpbmdcbmltcG9ydCB7IGxpc3RTZWN0aW9ucyB9IGZyb20gJy4vc2VjdGlvbnNTZXJ2aWNlJztcblxuZGVzY3JpYmUoJ1Rlc3QgbW9ja2luZycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgd29yayB3aXRoIG1vY2tlZCBzdXBhYmFzZScsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIHNlY3Rpb25zIHF1ZXJ5XG4gICAgbW9ja0Zyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gTW9jayBjb2x1bW5zIHF1ZXJ5XG4gICAgbW9ja0Zyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGlzdFNlY3Rpb25zKCdhY3Rpdml0eScsICd0ZXN0LWlkJyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1Jlc3VsdDonLCBKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpKTtcbiAgICBcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwoW10pO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJtb2NrRnJvbSIsImplc3QiLCJmbiIsIm1vY2siLCJzdXBhYmFzZSIsImZyb20iLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrUmV0dXJuVmFsdWVPbmNlIiwic2VsZWN0IiwibW9ja1JldHVyblZhbHVlIiwiZXEiLCJtb2NrUmV0dXJuVGhpcyIsIm9yZGVyIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwiZXJyb3IiLCJpbiIsInJlc3VsdCIsImxpc3RTZWN0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJ0b0VxdWFsIl0sIm1hcHBpbmdzIjoiOzs7O3lCQUF1RDtpQ0FXMUI7QUFUN0IsMENBQTBDO0FBQzFDLE1BQU1BLFdBQVdDLGFBQUksQ0FBQ0MsRUFBRTtBQUN4QkQsYUFBSSxDQUFDRSxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsVUFBVTtZQUNSQyxNQUFNTDtRQUNSO0lBQ0YsQ0FBQTtBQUtBTSxJQUFBQSxpQkFBUSxFQUFDLGdCQUFnQjtJQUN2QkMsSUFBQUEsbUJBQVUsRUFBQztRQUNUTixhQUFJLENBQUNPLGFBQWE7SUFDcEI7SUFFQUMsSUFBQUEsV0FBRSxFQUFDLG9DQUFvQztRQUNyQyxzQkFBc0I7UUFDdEJULFNBQVNVLG1CQUFtQixDQUFDO1lBQzNCQyxRQUFRVixhQUFJLENBQUNDLEVBQUUsR0FBR1UsZUFBZSxDQUFDO2dCQUNoQ0MsSUFBSVosYUFBSSxDQUFDQyxFQUFFLEdBQUdZLGNBQWM7Z0JBQzVCQyxPQUFPZCxhQUFJLENBQUNDLEVBQUUsR0FBR2MsaUJBQWlCLENBQUM7b0JBQ2pDQyxNQUFNLEVBQUU7b0JBQ1JDLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO1FBRUEscUJBQXFCO1FBQ3JCbEIsU0FBU1UsbUJBQW1CLENBQUM7WUFDM0JDLFFBQVFWLGFBQUksQ0FBQ0MsRUFBRSxHQUFHVSxlQUFlLENBQUM7Z0JBQ2hDTyxJQUFJbEIsYUFBSSxDQUFDQyxFQUFFLEdBQUdVLGVBQWUsQ0FBQztvQkFDNUJHLE9BQU9kLGFBQUksQ0FBQ0MsRUFBRSxHQUFHYyxpQkFBaUIsQ0FBQzt3QkFDakNDLE1BQU0sRUFBRTt3QkFDUkMsT0FBTztvQkFDVDtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxNQUFNRSxTQUFTLE1BQU1DLElBQUFBLDZCQUFZLEVBQUMsWUFBWTtRQUU5Q0MsUUFBUUMsR0FBRyxDQUFDLFdBQVdDLEtBQUtDLFNBQVMsQ0FBQ0wsUUFBUSxNQUFNO1FBRXBETSxJQUFBQSxlQUFNLEVBQUNOLE9BQU9PLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1FBQzVCLElBQUlSLE9BQU9PLE9BQU8sRUFBRTtZQUNsQkQsSUFBQUEsZUFBTSxFQUFDTixPQUFPSCxJQUFJLEVBQUVZLE9BQU8sQ0FBQyxFQUFFO1FBQ2hDO0lBQ0Y7QUFDRiJ9