{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/services/test-mock.test.ts"],"sourcesContent":["import { jest, describe, it, expect, beforeEach } from '@jest/globals';\n\n// Mock Supabase before importing services\nconst mockFrom = jest.fn();\njest.mock('../lib/supabase', () => ({\n  supabase: {\n    from: mockFrom,\n  },\n}));\n\n// Import after mocking\nimport { listSections } from './sectionsService';\n\ndescribe('Test mocking', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should work with mocked supabase', async () => {\n    // Mock sections query\n    mockFrom.mockReturnValueOnce({\n      select: jest.fn().mockReturnValue({\n        eq: jest.fn().mockReturnThis(),\n        order: jest.fn().mockResolvedValue({\n          data: [],\n          error: null,\n        }),\n      }),\n    });\n\n    // Mock columns query\n    mockFrom.mockReturnValueOnce({\n      select: jest.fn().mockReturnValue({\n        in: jest.fn().mockReturnValue({\n          order: jest.fn().mockResolvedValue({\n            data: [],\n            error: null,\n          }),\n        }),\n      }),\n    });\n\n    const result = await listSections('activity', 'test-id');\n    \n    console.log('Result:', JSON.stringify(result, null, 2));\n    \n    expect(result.success).toBe(true);\n    if (result.success) {\n      expect(result.data).toEqual([]);\n    }\n  });\n});\n"],"names":["mockFrom","jest","fn","mock","supabase","from","describe","beforeEach","clearAllMocks","it","mockReturnValueOnce","select","mockReturnValue","eq","mockReturnThis","order","mockResolvedValue","data","error","in","result","listSections","console","log","JSON","stringify","expect","success","toBe","toEqual"],"mappings":";;;;yBAAuD;iCAW1B;AAT7B,0CAA0C;AAC1C,MAAMA,WAAWC,aAAI,CAACC,EAAE;AACxBD,aAAI,CAACE,IAAI,CAAC,mBAAmB,IAAO,CAAA;QAClCC,UAAU;YACRC,MAAML;QACR;IACF,CAAA;AAKAM,IAAAA,iBAAQ,EAAC,gBAAgB;IACvBC,IAAAA,mBAAU,EAAC;QACTN,aAAI,CAACO,aAAa;IACpB;IAEAC,IAAAA,WAAE,EAAC,oCAAoC;QACrC,sBAAsB;QACtBT,SAASU,mBAAmB,CAAC;YAC3BC,QAAQV,aAAI,CAACC,EAAE,GAAGU,eAAe,CAAC;gBAChCC,IAAIZ,aAAI,CAACC,EAAE,GAAGY,cAAc;gBAC5BC,OAAOd,aAAI,CAACC,EAAE,GAAGc,iBAAiB,CAAC;oBACjCC,MAAM,EAAE;oBACRC,OAAO;gBACT;YACF;QACF;QAEA,qBAAqB;QACrBlB,SAASU,mBAAmB,CAAC;YAC3BC,QAAQV,aAAI,CAACC,EAAE,GAAGU,eAAe,CAAC;gBAChCO,IAAIlB,aAAI,CAACC,EAAE,GAAGU,eAAe,CAAC;oBAC5BG,OAAOd,aAAI,CAACC,EAAE,GAAGc,iBAAiB,CAAC;wBACjCC,MAAM,EAAE;wBACRC,OAAO;oBACT;gBACF;YACF;QACF;QAEA,MAAME,SAAS,MAAMC,IAAAA,6BAAY,EAAC,YAAY;QAE9CC,QAAQC,GAAG,CAAC,WAAWC,KAAKC,SAAS,CAACL,QAAQ,MAAM;QAEpDM,IAAAA,eAAM,EAACN,OAAOO,OAAO,EAAEC,IAAI,CAAC;QAC5B,IAAIR,OAAOO,OAAO,EAAE;YAClBD,IAAAA,eAAM,EAACN,OAAOH,IAAI,EAAEY,OAAO,CAAC,EAAE;QAChC;IACF;AACF"}