bd33fc480349e5f3d02c6cf634876653
/**
 * Unit Tests: EmailTemplateEditor Component
 * 
 * Tests template creation, variable insertion, preview, and validation
 */ "use strict";
// Mock RichTextEditor
jest.mock('./RichTextEditor', ()=>({
        RichTextEditor: ({ value, onChange, disabled, placeholder })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                "data-testid": "rich-text-editor",
                value: value,
                onChange: (e)=>onChange(e.target.value),
                disabled: disabled,
                placeholder: placeholder
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _EmailTemplateEditor = require("./EmailTemplateEditor");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('EmailTemplateEditor', ()=>{
    const mockOnChange = jest.fn();
    const mockOnSave = jest.fn();
    const mockOnCancel = jest.fn();
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Template Creation', ()=>{
        it('should render all form fields', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            expect(_react1.screen.getByLabelText(/template name/i)).toBeInTheDocument();
            expect(_react1.screen.getByLabelText(/category/i)).toBeInTheDocument();
            expect(_react1.screen.getByLabelText(/subject line/i)).toBeInTheDocument();
            expect(_react1.screen.getByTestId('rich-text-editor')).toBeInTheDocument();
        });
        it('should call onChange when template name changes', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const nameInput = _react1.screen.getByLabelText(/template name/i);
            await user.type(nameInput, 'Test Template');
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.name).toBe('Test Template');
        });
        it('should call onChange when subject changes', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const subjectInput = _react1.screen.getByLabelText(/subject line/i);
            await user.type(subjectInput, 'Test Subject');
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.subject).toBe('Test Subject');
        });
        it('should call onChange when body changes', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const bodyEditor = _react1.screen.getByTestId('rich-text-editor');
            await user.type(bodyEditor, 'Test Body');
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.body_html).toBe('Test Body');
        });
        it('should call onChange when category changes', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const categorySelect = _react1.screen.getByLabelText(/category/i);
            await user.selectOptions(categorySelect, 'invitation');
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.category).toBe('invitation');
        });
        it('should sanitize template name input', async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const nameInput = _react1.screen.getByLabelText(/template name/i);
            await user.type(nameInput, '<script>alert("xss")</script>');
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.name).not.toContain('<script>');
        });
    });
    describe('Variable Insertion', ()=>{
        it('should show variable picker when "Insert Variable" clicked', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const insertButton = _react1.screen.getByRole('button', {
                name: /insert variable/i
            });
            _react1.fireEvent.click(insertButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/available variables/i)).toBeInTheDocument();
            });
        });
        it('should display all template variables', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const insertButton = _react1.screen.getByRole('button', {
                name: /insert variable/i
            });
            _react1.fireEvent.click(insertButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('{{guest_name}}')).toBeInTheDocument();
                expect(_react1.screen.getByText('{{event_name}}')).toBeInTheDocument();
                expect(_react1.screen.getByText('{{activity_name}}')).toBeInTheDocument();
                expect(_react1.screen.getByText('{{rsvp_deadline}}')).toBeInTheDocument();
            });
        });
        it('should insert variable into subject when clicked', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: '',
                    subject: 'Hello ',
                    body_html: '',
                    category: 'other'
                },
                onChange: mockOnChange
            }));
            const insertButton = _react1.screen.getByRole('button', {
                name: /insert variable/i
            });
            _react1.fireEvent.click(insertButton);
            await (0, _react1.waitFor)(()=>{
                const guestNameButton = _react1.screen.getByText('{{guest_name}}');
                _react1.fireEvent.click(guestNameButton);
            });
            expect(mockOnChange).toHaveBeenCalled();
            const lastCall = mockOnChange.mock.calls[mockOnChange.mock.calls.length - 1][0];
            expect(lastCall.subject).toContain('{{guest_name}}');
        });
        it('should hide variable picker after variable selected', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const insertButton = _react1.screen.getByRole('button', {
                name: /insert variable/i
            });
            _react1.fireEvent.click(insertButton);
            await (0, _react1.waitFor)(()=>{
                const guestNameButton = _react1.screen.getByText('{{guest_name}}');
                _react1.fireEvent.click(guestNameButton);
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByText(/available variables/i)).not.toBeInTheDocument();
            });
        });
    });
    describe('Template Preview', ()=>{
        it('should show preview when "Show Preview" clicked', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Hello {{guest_name}}',
                    body_html: '<p>Welcome {{guest_name}}</p>',
                    category: 'other'
                },
                onChange: mockOnChange
            }));
            const previewButton = _react1.screen.getByRole('button', {
                name: /show preview/i
            });
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/preview with sample data/i)).toBeInTheDocument();
            });
        });
        it('should replace variables with sample data in preview', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Hello {{guest_name}}',
                    body_html: '<p>Event: {{event_name}}</p>',
                    category: 'other'
                },
                onChange: mockOnChange
            }));
            const previewButton = _react1.screen.getByRole('button', {
                name: /show preview/i
            });
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/Hello John Doe/i)).toBeInTheDocument();
                expect(_react1.screen.getByText(/Event: Wedding Ceremony/i)).toBeInTheDocument();
            });
        });
        it('should hide editor when showing preview', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const previewButton = _react1.screen.getByRole('button', {
                name: /show preview/i
            });
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByTestId('rich-text-editor')).not.toBeInTheDocument();
            });
        });
        it('should show editor when hiding preview', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const previewButton = _react1.screen.getByRole('button', {
                name: /show preview/i
            });
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                const hideButton = _react1.screen.getByRole('button', {
                    name: /hide preview/i
                });
                _react1.fireEvent.click(hideButton);
            });
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('rich-text-editor')).toBeInTheDocument();
            });
        });
    });
    describe('Template Validation', ()=>{
        it('should disable save button when name is empty', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: '',
                    subject: 'Test',
                    body_html: '<p>Test</p>',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave
            }));
            const saveButton = _react1.screen.getByRole('button', {
                name: /save template/i
            });
            expect(saveButton).toBeDisabled();
        });
        it('should disable save button when subject is empty', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: '',
                    body_html: '<p>Test</p>',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave
            }));
            const saveButton = _react1.screen.getByRole('button', {
                name: /save template/i
            });
            expect(saveButton).toBeDisabled();
        });
        it('should disable save button when body is empty', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Test',
                    body_html: '',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave
            }));
            const saveButton = _react1.screen.getByRole('button', {
                name: /save template/i
            });
            expect(saveButton).toBeDisabled();
        });
        it('should enable save button when all required fields filled', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Test Subject',
                    body_html: '<p>Test Body</p>',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave
            }));
            const saveButton = _react1.screen.getByRole('button', {
                name: /save template/i
            });
            expect(saveButton).not.toBeDisabled();
        });
    });
    describe('Action Buttons', ()=>{
        it('should call onSave when save button clicked', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Test',
                    body_html: '<p>Test</p>',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave
            }));
            const saveButton = _react1.screen.getByRole('button', {
                name: /save template/i
            });
            _react1.fireEvent.click(saveButton);
            expect(mockOnSave).toHaveBeenCalled();
        });
        it('should call onCancel when cancel button clicked', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange,
                onCancel: mockOnCancel
            }));
            const cancelButton = _react1.screen.getByRole('button', {
                name: /cancel/i
            });
            _react1.fireEvent.click(cancelButton);
            expect(mockOnCancel).toHaveBeenCalled();
        });
        it('should not render action buttons when callbacks not provided', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            expect(_react1.screen.queryByRole('button', {
                name: /save template/i
            })).not.toBeInTheDocument();
            expect(_react1.screen.queryByRole('button', {
                name: /cancel/i
            })).not.toBeInTheDocument();
        });
    });
    describe('Disabled State', ()=>{
        it('should disable all inputs when disabled prop is true', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                value: {
                    name: 'Test',
                    subject: 'Test',
                    body_html: '<p>Test</p>',
                    category: 'other'
                },
                onChange: mockOnChange,
                onSave: mockOnSave,
                disabled: true
            }));
            expect(_react1.screen.getByLabelText(/template name/i)).toBeDisabled();
            expect(_react1.screen.getByLabelText(/category/i)).toBeDisabled();
            expect(_react1.screen.getByLabelText(/subject line/i)).toBeDisabled();
            expect(_react1.screen.getByTestId('rich-text-editor')).toBeDisabled();
            expect(_react1.screen.getByRole('button', {
                name: /save template/i
            })).toBeDisabled();
        });
        it('should disable variable insertion when disabled', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange,
                disabled: true
            }));
            const insertButtons = _react1.screen.getAllByRole('button', {
                name: /insert variable/i
            });
            insertButtons.forEach((button)=>{
                expect(button).toBeDisabled();
            });
        });
    });
    describe('Category Selection', ()=>{
        it('should render all category options', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const categorySelect = _react1.screen.getByLabelText(/category/i);
            const options = categorySelect.querySelectorAll('option');
            expect(options).toHaveLength(7); // 7 categories
            expect(options[0]).toHaveTextContent('Invitation');
            expect(options[1]).toHaveTextContent('RSVP');
            expect(options[2]).toHaveTextContent('Reminder');
            expect(options[3]).toHaveTextContent('Confirmation');
            expect(options[4]).toHaveTextContent('Update');
            expect(options[5]).toHaveTextContent('Announcement');
            expect(options[6]).toHaveTextContent('Other');
        });
        it('should default to "other" category', ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailTemplateEditor.EmailTemplateEditor, {
                onChange: mockOnChange
            }));
            const categorySelect = _react1.screen.getByLabelText(/category/i);
            expect(categorySelect.value).toBe('other');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9FbWFpbFRlbXBsYXRlRWRpdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0czogRW1haWxUZW1wbGF0ZUVkaXRvciBDb21wb25lbnRcbiAqIFxuICogVGVzdHMgdGVtcGxhdGUgY3JlYXRpb24sIHZhcmlhYmxlIGluc2VydGlvbiwgcHJldmlldywgYW5kIHZhbGlkYXRpb25cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IHsgRW1haWxUZW1wbGF0ZUVkaXRvciB9IGZyb20gJy4vRW1haWxUZW1wbGF0ZUVkaXRvcic7XG5cbi8vIE1vY2sgUmljaFRleHRFZGl0b3Jcbmplc3QubW9jaygnLi9SaWNoVGV4dEVkaXRvcicsICgpID0+ICh7XG4gIFJpY2hUZXh0RWRpdG9yOiAoeyB2YWx1ZSwgb25DaGFuZ2UsIGRpc2FibGVkLCBwbGFjZWhvbGRlciB9OiBhbnkpID0+IChcbiAgICA8dGV4dGFyZWFcbiAgICAgIGRhdGEtdGVzdGlkPVwicmljaC10ZXh0LWVkaXRvclwiXG4gICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAvPlxuICApLFxufSkpO1xuXG5kZXNjcmliZSgnRW1haWxUZW1wbGF0ZUVkaXRvcicsICgpID0+IHtcbiAgY29uc3QgbW9ja09uQ2hhbmdlID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrT25TYXZlID0gamVzdC5mbigpO1xuICBjb25zdCBtb2NrT25DYW5jZWwgPSBqZXN0LmZuKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUZW1wbGF0ZSBDcmVhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBhbGwgZm9ybSBmaWVsZHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEVtYWlsVGVtcGxhdGVFZGl0b3Igb25DaGFuZ2U9e21vY2tPbkNoYW5nZX0gLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90ZW1wbGF0ZSBuYW1lL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvY2F0ZWdvcnkvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdWJqZWN0IGxpbmUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyaWNoLXRleHQtZWRpdG9yJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGwgb25DaGFuZ2Ugd2hlbiB0ZW1wbGF0ZSBuYW1lIGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXIoPEVtYWlsVGVtcGxhdGVFZGl0b3Igb25DaGFuZ2U9e21vY2tPbkNoYW5nZX0gLz4pO1xuXG4gICAgICBjb25zdCBuYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RlbXBsYXRlIG5hbWUvaSk7XG4gICAgICBhd2FpdCB1c2VyLnR5cGUobmFtZUlucHV0LCAnVGVzdCBUZW1wbGF0ZScpO1xuXG4gICAgICBleHBlY3QobW9ja09uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBjb25zdCBsYXN0Q2FsbCA9IG1vY2tPbkNoYW5nZS5tb2NrLmNhbGxzW21vY2tPbkNoYW5nZS5tb2NrLmNhbGxzLmxlbmd0aCAtIDFdWzBdO1xuICAgICAgZXhwZWN0KGxhc3RDYWxsLm5hbWUpLnRvQmUoJ1Rlc3QgVGVtcGxhdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsbCBvbkNoYW5nZSB3aGVuIHN1YmplY3QgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGNvbnN0IHN1YmplY3RJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvc3ViamVjdCBsaW5lL2kpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKHN1YmplY3RJbnB1dCwgJ1Rlc3QgU3ViamVjdCcpO1xuXG4gICAgICBleHBlY3QobW9ja09uQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBjb25zdCBsYXN0Q2FsbCA9IG1vY2tPbkNoYW5nZS5tb2NrLmNhbGxzW21vY2tPbkNoYW5nZS5tb2NrLmNhbGxzLmxlbmd0aCAtIDFdWzBdO1xuICAgICAgZXhwZWN0KGxhc3RDYWxsLnN1YmplY3QpLnRvQmUoJ1Rlc3QgU3ViamVjdCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2hhbmdlIHdoZW4gYm9keSBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbWFpbFRlbXBsYXRlRWRpdG9yIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9IC8+KTtcblxuICAgICAgY29uc3QgYm9keUVkaXRvciA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncmljaC10ZXh0LWVkaXRvcicpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKGJvZHlFZGl0b3IsICdUZXN0IEJvZHknKTtcblxuICAgICAgZXhwZWN0KG1vY2tPbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgY29uc3QgbGFzdENhbGwgPSBtb2NrT25DaGFuZ2UubW9jay5jYWxsc1ttb2NrT25DaGFuZ2UubW9jay5jYWxscy5sZW5ndGggLSAxXVswXTtcbiAgICAgIGV4cGVjdChsYXN0Q2FsbC5ib2R5X2h0bWwpLnRvQmUoJ1Rlc3QgQm9keScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2hhbmdlIHdoZW4gY2F0ZWdvcnkgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGNvbnN0IGNhdGVnb3J5U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jYXRlZ29yeS9pKTtcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjYXRlZ29yeVNlbGVjdCwgJ2ludml0YXRpb24nKTtcblxuICAgICAgZXhwZWN0KG1vY2tPbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgY29uc3QgbGFzdENhbGwgPSBtb2NrT25DaGFuZ2UubW9jay5jYWxsc1ttb2NrT25DaGFuZ2UubW9jay5jYWxscy5sZW5ndGggLSAxXVswXTtcbiAgICAgIGV4cGVjdChsYXN0Q2FsbC5jYXRlZ29yeSkudG9CZSgnaW52aXRhdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB0ZW1wbGF0ZSBuYW1lIGlucHV0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyKDxFbWFpbFRlbXBsYXRlRWRpdG9yIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9IC8+KTtcblxuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC90ZW1wbGF0ZSBuYW1lL2kpO1xuICAgICAgYXdhaXQgdXNlci50eXBlKG5hbWVJbnB1dCwgJzxzY3JpcHQ+YWxlcnQoXCJ4c3NcIik8L3NjcmlwdD4nKTtcblxuICAgICAgZXhwZWN0KG1vY2tPbkNoYW5nZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgY29uc3QgbGFzdENhbGwgPSBtb2NrT25DaGFuZ2UubW9jay5jYWxsc1ttb2NrT25DaGFuZ2UubW9jay5jYWxscy5sZW5ndGggLSAxXVswXTtcbiAgICAgIGV4cGVjdChsYXN0Q2FsbC5uYW1lKS5ub3QudG9Db250YWluKCc8c2NyaXB0PicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVmFyaWFibGUgSW5zZXJ0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2hvdyB2YXJpYWJsZSBwaWNrZXIgd2hlbiBcIkluc2VydCBWYXJpYWJsZVwiIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEVtYWlsVGVtcGxhdGVFZGl0b3Igb25DaGFuZ2U9e21vY2tPbkNoYW5nZX0gLz4pO1xuXG4gICAgICBjb25zdCBpbnNlcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9pbnNlcnQgdmFyaWFibGUvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhpbnNlcnRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2F2YWlsYWJsZSB2YXJpYWJsZXMvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBhbGwgdGVtcGxhdGUgdmFyaWFibGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbWFpbFRlbXBsYXRlRWRpdG9yIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9IC8+KTtcblxuICAgICAgY29uc3QgaW5zZXJ0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5zZXJ0IHZhcmlhYmxlL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5zZXJ0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd7e2d1ZXN0X25hbWV9fScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgne3tldmVudF9uYW1lfX0nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3t7YWN0aXZpdHlfbmFtZX19JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd7e3JzdnBfZGVhZGxpbmV9fScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluc2VydCB2YXJpYWJsZSBpbnRvIHN1YmplY3Qgd2hlbiBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxUZW1wbGF0ZUVkaXRvclxuICAgICAgICAgIHZhbHVlPXt7IG5hbWU6ICcnLCBzdWJqZWN0OiAnSGVsbG8gJywgYm9keV9odG1sOiAnJywgY2F0ZWdvcnk6ICdvdGhlcicgfX1cbiAgICAgICAgICBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgaW5zZXJ0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5zZXJ0IHZhcmlhYmxlL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5zZXJ0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGd1ZXN0TmFtZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ3t7Z3Vlc3RfbmFtZX19Jyk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhndWVzdE5hbWVCdXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrT25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGNvbnN0IGxhc3RDYWxsID0gbW9ja09uQ2hhbmdlLm1vY2suY2FsbHNbbW9ja09uQ2hhbmdlLm1vY2suY2FsbHMubGVuZ3RoIC0gMV1bMF07XG4gICAgICBleHBlY3QobGFzdENhbGwuc3ViamVjdCkudG9Db250YWluKCd7e2d1ZXN0X25hbWV9fScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWRlIHZhcmlhYmxlIHBpY2tlciBhZnRlciB2YXJpYWJsZSBzZWxlY3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGNvbnN0IGluc2VydEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2luc2VydCB2YXJpYWJsZS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGluc2VydEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBndWVzdE5hbWVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCd7e2d1ZXN0X25hbWV9fScpO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soZ3Vlc3ROYW1lQnV0dG9uKTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvYXZhaWxhYmxlIHZhcmlhYmxlcy9pKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RlbXBsYXRlIFByZXZpZXcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzaG93IHByZXZpZXcgd2hlbiBcIlNob3cgUHJldmlld1wiIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbFRlbXBsYXRlRWRpdG9yXG4gICAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICAgIG5hbWU6ICdUZXN0JyxcbiAgICAgICAgICAgIHN1YmplY3Q6ICdIZWxsbyB7e2d1ZXN0X25hbWV9fScsXG4gICAgICAgICAgICBib2R5X2h0bWw6ICc8cD5XZWxjb21lIHt7Z3Vlc3RfbmFtZX19PC9wPicsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ290aGVyJyxcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2hvdyBwcmV2aWV3L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvcHJldmlldyB3aXRoIHNhbXBsZSBkYXRhL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlcGxhY2UgdmFyaWFibGVzIHdpdGggc2FtcGxlIGRhdGEgaW4gcHJldmlldycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsVGVtcGxhdGVFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgICAgbmFtZTogJ1Rlc3QnLFxuICAgICAgICAgICAgc3ViamVjdDogJ0hlbGxvIHt7Z3Vlc3RfbmFtZX19JyxcbiAgICAgICAgICAgIGJvZHlfaHRtbDogJzxwPkV2ZW50OiB7e2V2ZW50X25hbWV9fTwvcD4nLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdvdGhlcicsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgcHJldmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Nob3cgcHJldmlldy9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHByZXZpZXdCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0hlbGxvIEpvaG4gRG9lL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvRXZlbnQ6IFdlZGRpbmcgQ2VyZW1vbnkvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlkZSBlZGl0b3Igd2hlbiBzaG93aW5nIHByZXZpZXcnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEVtYWlsVGVtcGxhdGVFZGl0b3Igb25DaGFuZ2U9e21vY2tPbkNoYW5nZX0gLz4pO1xuXG4gICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2hvdyBwcmV2aWV3L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3JpY2gtdGV4dC1lZGl0b3InKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBlZGl0b3Igd2hlbiBoaWRpbmcgcHJldmlldycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zaG93IHByZXZpZXcvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhwcmV2aWV3QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhpZGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9oaWRlIHByZXZpZXcvaSB9KTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGhpZGVCdXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyaWNoLXRleHQtZWRpdG9yJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RlbXBsYXRlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIHNhdmUgYnV0dG9uIHdoZW4gbmFtZSBpcyBlbXB0eScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsVGVtcGxhdGVFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17eyBuYW1lOiAnJywgc3ViamVjdDogJ1Rlc3QnLCBib2R5X2h0bWw6ICc8cD5UZXN0PC9wPicsIGNhdGVnb3J5OiAnb3RoZXInIH19XG4gICAgICAgICAgb25DaGFuZ2U9e21vY2tPbkNoYW5nZX1cbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZSB0ZW1wbGF0ZS9pIH0pO1xuICAgICAgZXhwZWN0KHNhdmVCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIHNhdmUgYnV0dG9uIHdoZW4gc3ViamVjdCBpcyBlbXB0eScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsVGVtcGxhdGVFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17eyBuYW1lOiAnVGVzdCcsIHN1YmplY3Q6ICcnLCBib2R5X2h0bWw6ICc8cD5UZXN0PC9wPicsIGNhdGVnb3J5OiAnb3RoZXInIH19XG4gICAgICAgICAgb25DaGFuZ2U9e21vY2tPbkNoYW5nZX1cbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZSB0ZW1wbGF0ZS9pIH0pO1xuICAgICAgZXhwZWN0KHNhdmVCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIHNhdmUgYnV0dG9uIHdoZW4gYm9keSBpcyBlbXB0eScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsVGVtcGxhdGVFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17eyBuYW1lOiAnVGVzdCcsIHN1YmplY3Q6ICdUZXN0JywgYm9keV9odG1sOiAnJywgY2F0ZWdvcnk6ICdvdGhlcicgfX1cbiAgICAgICAgICBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfVxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlIHRlbXBsYXRlL2kgfSk7XG4gICAgICBleHBlY3Qoc2F2ZUJ1dHRvbikudG9CZURpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuYWJsZSBzYXZlIGJ1dHRvbiB3aGVuIGFsbCByZXF1aXJlZCBmaWVsZHMgZmlsbGVkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxUZW1wbGF0ZUVkaXRvclxuICAgICAgICAgIHZhbHVlPXt7XG4gICAgICAgICAgICBuYW1lOiAnVGVzdCcsXG4gICAgICAgICAgICBzdWJqZWN0OiAnVGVzdCBTdWJqZWN0JyxcbiAgICAgICAgICAgIGJvZHlfaHRtbDogJzxwPlRlc3QgQm9keTwvcD4nLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdvdGhlcicsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfVxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlIHRlbXBsYXRlL2kgfSk7XG4gICAgICBleHBlY3Qoc2F2ZUJ1dHRvbikubm90LnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWN0aW9uIEJ1dHRvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uU2F2ZSB3aGVuIHNhdmUgYnV0dG9uIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbFRlbXBsYXRlRWRpdG9yXG4gICAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICAgIG5hbWU6ICdUZXN0JyxcbiAgICAgICAgICAgIHN1YmplY3Q6ICdUZXN0JyxcbiAgICAgICAgICAgIGJvZHlfaHRtbDogJzxwPlRlc3Q8L3A+JyxcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnb3RoZXInLFxuICAgICAgICAgIH19XG4gICAgICAgICAgb25DaGFuZ2U9e21vY2tPbkNoYW5nZX1cbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZSB0ZW1wbGF0ZS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNhdmVCdXR0b24pO1xuXG4gICAgICBleHBlY3QobW9ja09uU2F2ZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2FuY2VsIHdoZW4gY2FuY2VsIGJ1dHRvbiBjbGlja2VkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSBvbkNhbmNlbD17bW9ja09uQ2FuY2VsfSAvPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2FuY2VsL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2FuY2VsQnV0dG9uKTtcblxuICAgICAgZXhwZWN0KG1vY2tPbkNhbmNlbCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmVuZGVyIGFjdGlvbiBidXR0b25zIHdoZW4gY2FsbGJhY2tzIG5vdCBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NhdmUgdGVtcGxhdGUvaSB9KSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEaXNhYmxlZCBTdGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc2FibGUgYWxsIGlucHV0cyB3aGVuIGRpc2FibGVkIHByb3AgaXMgdHJ1ZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsVGVtcGxhdGVFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgICAgbmFtZTogJ1Rlc3QnLFxuICAgICAgICAgICAgc3ViamVjdDogJ1Rlc3QnLFxuICAgICAgICAgICAgYm9keV9odG1sOiAnPHA+VGVzdDwvcD4nLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdvdGhlcicsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfVxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3RlbXBsYXRlIG5hbWUvaSkpLnRvQmVEaXNhYmxlZCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvY2F0ZWdvcnkvaSkpLnRvQmVEaXNhYmxlZCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvc3ViamVjdCBsaW5lL2kpKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3JpY2gtdGV4dC1lZGl0b3InKSkudG9CZURpc2FibGVkKCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZSB0ZW1wbGF0ZS9pIH0pKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzYWJsZSB2YXJpYWJsZSBpbnNlcnRpb24gd2hlbiBkaXNhYmxlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8RW1haWxUZW1wbGF0ZUVkaXRvciBvbkNoYW5nZT17bW9ja09uQ2hhbmdlfSBkaXNhYmxlZD17dHJ1ZX0gLz4pO1xuXG4gICAgICBjb25zdCBpbnNlcnRCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvaW5zZXJ0IHZhcmlhYmxlL2kgfSk7XG4gICAgICBpbnNlcnRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBleHBlY3QoYnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ2F0ZWdvcnkgU2VsZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBjYXRlZ29yeSBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbWFpbFRlbXBsYXRlRWRpdG9yIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9IC8+KTtcblxuICAgICAgY29uc3QgY2F0ZWdvcnlTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2NhdGVnb3J5L2kpO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGNhdGVnb3J5U2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpO1xuXG4gICAgICBleHBlY3Qob3B0aW9ucykudG9IYXZlTGVuZ3RoKDcpOyAvLyA3IGNhdGVnb3JpZXNcbiAgICAgIGV4cGVjdChvcHRpb25zWzBdKS50b0hhdmVUZXh0Q29udGVudCgnSW52aXRhdGlvbicpO1xuICAgICAgZXhwZWN0KG9wdGlvbnNbMV0pLnRvSGF2ZVRleHRDb250ZW50KCdSU1ZQJyk7XG4gICAgICBleHBlY3Qob3B0aW9uc1syXSkudG9IYXZlVGV4dENvbnRlbnQoJ1JlbWluZGVyJyk7XG4gICAgICBleHBlY3Qob3B0aW9uc1szXSkudG9IYXZlVGV4dENvbnRlbnQoJ0NvbmZpcm1hdGlvbicpO1xuICAgICAgZXhwZWN0KG9wdGlvbnNbNF0pLnRvSGF2ZVRleHRDb250ZW50KCdVcGRhdGUnKTtcbiAgICAgIGV4cGVjdChvcHRpb25zWzVdKS50b0hhdmVUZXh0Q29udGVudCgnQW5ub3VuY2VtZW50Jyk7XG4gICAgICBleHBlY3Qob3B0aW9uc1s2XSkudG9IYXZlVGV4dENvbnRlbnQoJ090aGVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgdG8gXCJvdGhlclwiIGNhdGVnb3J5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxFbWFpbFRlbXBsYXRlRWRpdG9yIG9uQ2hhbmdlPXttb2NrT25DaGFuZ2V9IC8+KTtcblxuICAgICAgY29uc3QgY2F0ZWdvcnlTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2NhdGVnb3J5L2kpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgICAgZXhwZWN0KGNhdGVnb3J5U2VsZWN0LnZhbHVlKS50b0JlKCdvdGhlcicpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiUmljaFRleHRFZGl0b3IiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInRleHRhcmVhIiwiZGF0YS10ZXN0aWQiLCJlIiwidGFyZ2V0IiwiZGVzY3JpYmUiLCJtb2NrT25DaGFuZ2UiLCJmbiIsIm1vY2tPblNhdmUiLCJtb2NrT25DYW5jZWwiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVuZGVyIiwiRW1haWxUZW1wbGF0ZUVkaXRvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5TGFiZWxUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVRlc3RJZCIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsIm5hbWVJbnB1dCIsInR5cGUiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibGFzdENhbGwiLCJjYWxscyIsImxlbmd0aCIsIm5hbWUiLCJ0b0JlIiwic3ViamVjdElucHV0Iiwic3ViamVjdCIsImJvZHlFZGl0b3IiLCJib2R5X2h0bWwiLCJjYXRlZ29yeVNlbGVjdCIsInNlbGVjdE9wdGlvbnMiLCJjYXRlZ29yeSIsIm5vdCIsInRvQ29udGFpbiIsImluc2VydEJ1dHRvbiIsImdldEJ5Um9sZSIsImZpcmVFdmVudCIsImNsaWNrIiwid2FpdEZvciIsImdldEJ5VGV4dCIsImd1ZXN0TmFtZUJ1dHRvbiIsInF1ZXJ5QnlUZXh0IiwicHJldmlld0J1dHRvbiIsInF1ZXJ5QnlUZXN0SWQiLCJoaWRlQnV0dG9uIiwib25TYXZlIiwic2F2ZUJ1dHRvbiIsInRvQmVEaXNhYmxlZCIsIm9uQ2FuY2VsIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlCeVJvbGUiLCJpbnNlcnRCdXR0b25zIiwiZ2V0QWxsQnlSb2xlIiwiZm9yRWFjaCIsImJ1dHRvbiIsIm9wdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9IYXZlTGVuZ3RoIiwidG9IYXZlVGV4dENvbnRlbnQiXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUM7QUFPRCxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyxvQkFBb0IsSUFBTyxDQUFBO1FBQ25DQyxnQkFBZ0IsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxXQUFXLEVBQU8saUJBQzlELHFCQUFDQztnQkFDQ0MsZUFBWTtnQkFDWkwsT0FBT0E7Z0JBQ1BDLFVBQVUsQ0FBQ0ssSUFBTUwsU0FBU0ssRUFBRUMsTUFBTSxDQUFDUCxLQUFLO2dCQUN4Q0UsVUFBVUE7Z0JBQ1ZDLGFBQWFBOztJQUduQixDQUFBOzs7Ozs4REFoQmtCO3dCQUNpQztrRUFDN0I7cUNBQ2M7Ozs7OztBQWVwQ0ssU0FBUyx1QkFBdUI7SUFDOUIsTUFBTUMsZUFBZVosS0FBS2EsRUFBRTtJQUM1QixNQUFNQyxhQUFhZCxLQUFL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