{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/ItineraryViewer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport type { Guest } from '@/types';\nimport { generateItinerary, cacheItinerary, getCachedItinerary } from '@/services/itineraryService';\n\ninterface ItineraryViewerProps {\n  guest: Guest;\n}\n\ninterface ItineraryEvent {\n  id: string;\n  name: string;\n  type: 'event' | 'activity';\n  date: string;\n  time: string;\n  location?: string;\n  description?: string;\n  rsvp_status?: string;\n  capacity?: number;\n  attending_count?: number;\n  rsvp_deadline?: string;\n}\n\ninterface Itinerary {\n  guest_id: string;\n  guest_name: string;\n  events: ItineraryEvent[];\n  accommodation?: any;\n  transportation?: any;\n  generated_at: string;\n}\n\ntype ViewMode = 'day-by-day' | 'calendar' | 'list';\n\n/**\n * Enhanced Itinerary Viewer Component\n * \n * Displays personalized itinerary with enhanced features:\n * - Multiple view modes (day-by-day, calendar, list)\n * - Date range filtering\n * - Capacity warnings and deadline alerts\n * - PDF export capability\n * - Offline access via caching\n * - Quick RSVP links\n * \n * Requirements: 26.1, 26.2, 26.3, 26.4, 26.5, 26.6, 26.7, 26.8, 13.10, 18.3, 18.4\n */\nexport function ItineraryViewer({ guest }: ItineraryViewerProps) {\n  const [itinerary, setItinerary] = useState<Itinerary | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isOffline, setIsOffline] = useState(false);\n  const [viewMode, setViewMode] = useState<ViewMode>('day-by-day');\n  const [dateFrom, setDateFrom] = useState<string>('');\n  const [dateTo, setDateTo] = useState<string>('');\n  const [filteredEvents, setFilteredEvents] = useState<ItineraryEvent[]>([]);\n\n  useEffect(() => {\n    loadItinerary();\n    \n    // Listen for online/offline events\n    const handleOnline = () => setIsOffline(false);\n    const handleOffline = () => setIsOffline(true);\n    \n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    \n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, [guest.id]);\n\n  // Filter events when itinerary or date filters change\n  useEffect(() => {\n    if (!itinerary) {\n      setFilteredEvents([]);\n      return;\n    }\n\n    let filtered = [...itinerary.events];\n\n    // Apply date range filter\n    if (dateFrom) {\n      filtered = filtered.filter(event => new Date(event.date) >= new Date(dateFrom));\n    }\n    if (dateTo) {\n      filtered = filtered.filter(event => new Date(event.date) <= new Date(dateTo));\n    }\n\n    // Sort chronologically\n    filtered.sort((a, b) => {\n      const dateA = new Date(`${a.date}T${a.time}`);\n      const dateB = new Date(`${b.date}T${b.time}`);\n      return dateA.getTime() - dateB.getTime();\n    });\n\n    setFilteredEvents(filtered);\n  }, [itinerary, dateFrom, dateTo]);\n\n  const loadItinerary = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Try to load from cache first\n      const cachedResult = await getCachedItinerary(guest.id);\n      \n      if (cachedResult.success && cachedResult.data) {\n        setItinerary(cachedResult.data);\n        setLoading(false);\n        \n        // Still try to fetch fresh data in the background\n        fetchFreshItinerary();\n        return;\n      }\n      \n      // No cache, fetch fresh data\n      await fetchFreshItinerary();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n      setLoading(false);\n    }\n  };\n\n  const fetchFreshItinerary = async () => {\n    try {\n      const result = await generateItinerary(guest.id);\n      \n      if (!result.success) {\n        setError(result.error.message);\n        return;\n      }\n      \n      setItinerary(result.data);\n      \n      // Cache the itinerary for offline access\n      await cacheItinerary(guest.id, result.data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n  };\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  };\n\n  const groupEventsByDate = (events: ItineraryEvent[]) => {\n    const grouped = new Map<string, ItineraryEvent[]>();\n    \n    events.forEach(event => {\n      const dateKey = new Date(event.date).toDateString();\n      if (!grouped.has(dateKey)) {\n        grouped.set(dateKey, []);\n      }\n      grouped.get(dateKey)!.push(event);\n    });\n    \n    return Array.from(grouped.entries()).map(([date, events]) => ({\n      date,\n      events: events.sort((a, b) => new Date(a.time).getTime() - new Date(b.time).getTime()),\n    }));\n  };\n\n  const getRSVPStatusColor = (status?: string) => {\n    switch (status) {\n      case 'attending':\n        return 'bg-jungle-100 text-jungle-800 border-jungle-300';\n      case 'declined':\n        return 'bg-sage-100 text-sage-800 border-sage-300';\n      case 'maybe':\n        return 'bg-sunset-100 text-sunset-800 border-sunset-300';\n      default:\n        return 'bg-volcano-100 text-volcano-800 border-volcano-300';\n    }\n  };\n\n  const getCapacityWarning = (event: ItineraryEvent) => {\n    if (!event.capacity || !event.attending_count) return null;\n    \n    const remaining = event.capacity - event.attending_count;\n    const utilizationPercent = (event.attending_count / event.capacity) * 100;\n\n    if (remaining === 0) {\n      return { level: 'full', message: 'Full', color: 'bg-volcano-100 text-volcano-800' };\n    } else if (utilizationPercent >= 90) {\n      return { level: 'critical', message: `${remaining} spots left`, color: 'bg-sunset-100 text-sunset-800' };\n    }\n    return null;\n  };\n\n  const getDeadlineAlert = (event: ItineraryEvent) => {\n    if (!event.rsvp_deadline) return null;\n\n    const deadline = new Date(event.rsvp_deadline);\n    const now = new Date();\n    const daysUntilDeadline = Math.ceil((deadline.getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n\n    if (daysUntilDeadline < 0) {\n      return { level: 'passed', message: 'Deadline passed', color: 'bg-sage-100 text-sage-800' };\n    } else if (daysUntilDeadline <= 7) {\n      return { level: 'approaching', message: `${daysUntilDeadline} days left`, color: 'bg-sunset-100 text-sunset-800' };\n    }\n    return null;\n  };\n\n  const handleExportPDF = async () => {\n    try {\n      const response = await fetch('/api/guest/itinerary/pdf');\n      if (!response.ok) throw new Error('Failed to generate PDF');\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `itinerary-${guest.first_name}-${guest.last_name}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (err) {\n      setError('Failed to export PDF');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 via-ocean-50 to-sunset-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-sage-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-jungle-700\">Your Itinerary</h1>\n              <p className=\"text-sage-600 mt-1\">Personalized wedding schedule</p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              {isOffline && (\n                <span className=\"text-sm text-volcano-600 font-medium\">\n                  üì° Offline Mode\n                </span>\n              )}\n              <button\n                onClick={handleExportPDF}\n                className=\"px-4 py-2 bg-jungle-600 text-white rounded-lg hover:bg-jungle-700 transition-colors font-medium\"\n              >\n                üìÑ Export PDF\n              </button>\n              <a\n                href=\"/guest/dashboard\"\n                className=\"text-ocean-600 hover:text-ocean-700 font-medium\"\n              >\n                ‚Üê Back to Dashboard\n              </a>\n            </div>\n          </div>\n          \n          {/* View Mode Toggle and Filters */}\n          <div className=\"mt-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n            {/* View Mode Toggle */}\n            <div className=\"flex items-center space-x-2 bg-sage-100 rounded-lg p-1\">\n              <button\n                onClick={() => setViewMode('day-by-day')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  viewMode === 'day-by-day'\n                    ? 'bg-white text-jungle-700 shadow-sm'\n                    : 'text-sage-600 hover:text-sage-800'\n                }`}\n              >\n                üìÖ Day-by-Day\n              </button>\n              <button\n                onClick={() => setViewMode('calendar')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  viewMode === 'calendar'\n                    ? 'bg-white text-jungle-700 shadow-sm'\n                    : 'text-sage-600 hover:text-sage-800'\n                }`}\n              >\n                üìÜ Calendar\n              </button>\n              <button\n                onClick={() => setViewMode('list')}\n                className={`px-4 py-2 rounded-md font-medium transition-colors ${\n                  viewMode === 'list'\n                    ? 'bg-white text-jungle-700 shadow-sm'\n                    : 'text-sage-600 hover:text-sage-800'\n                }`}\n              >\n                üìã List\n              </button>\n            </div>\n            \n            {/* Date Range Filters */}\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center space-x-2\">\n                <label htmlFor=\"dateFrom\" className=\"text-sm font-medium text-sage-700\">\n                  From:\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"dateFrom\"\n                  value={dateFrom}\n                  onChange={(e) => setDateFrom(e.target.value)}\n                  className=\"px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500\"\n                />\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <label htmlFor=\"dateTo\" className=\"text-sm font-medium text-sage-700\">\n                  To:\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"dateTo\"\n                  value={dateTo}\n                  onChange={(e) => setDateTo(e.target.value)}\n                  className=\"px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500\"\n                />\n              </div>\n              {(dateFrom || dateTo) && (\n                <button\n                  onClick={() => {\n                    setDateFrom('');\n                    setDateTo('');\n                  }}\n                  className=\"text-sm text-ocean-600 hover:text-ocean-700 font-medium\"\n                >\n                  Clear\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Offline Notice */}\n        {isOffline && itinerary && (\n          <div className=\"bg-ocean-50 border border-ocean-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-ocean-800\">\n              ‚ÑπÔ∏è You're viewing a cached version of your itinerary. Connect to the internet to\n              see the latest updates.\n            </p>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && !itinerary && (\n          <div className=\"bg-volcano-50 border border-volcano-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-volcano-800\">‚úó {error}</p>\n          </div>\n        )}\n\n        {loading && !itinerary ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-jungle-600\"></div>\n          </div>\n        ) : itinerary ? (\n          <div className=\"space-y-6\">\n            {/* Transportation Info */}\n            {itinerary.transportation && (itinerary.transportation.arrival_date || itinerary.transportation.departure_date) && (\n              <div className=\"bg-white rounded-lg shadow-md border border-sage-200 p-6\">\n                <h2 className=\"text-xl font-bold text-jungle-700 mb-4\">‚úàÔ∏è Transportation</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {itinerary.transportation.arrival_date && (\n                    <div>\n                      <div className=\"text-sm font-medium text-sage-600 mb-1\">Arrival</div>\n                      <div className=\"text-lg text-sage-800\">\n                        {formatDate(itinerary.transportation.arrival_date)}\n                      </div>\n                      <div className=\"text-sm text-sage-600\">\n                        {formatTime(itinerary.transportation.arrival_date)}\n                      </div>\n                      {itinerary.transportation.airport_code && (\n                        <div className=\"text-sm text-sage-600 mt-1\">\n                          Airport: {itinerary.transportation.airport_code}\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  {itinerary.transportation.departure_date && (\n                    <div>\n                      <div className=\"text-sm font-medium text-sage-600 mb-1\">Departure</div>\n                      <div className=\"text-lg text-sage-800\">\n                        {formatDate(itinerary.transportation.departure_date)}\n                      </div>\n                      <div className=\"text-sm text-sage-600\">\n                        {formatTime(itinerary.transportation.departure_date)}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Accommodation Info */}\n            {itinerary.accommodation && (\n              <div className=\"bg-white rounded-lg shadow-md border border-sage-200 p-6\">\n                <h2 className=\"text-xl font-bold text-jungle-700 mb-4\">üè® Accommodation</h2>\n                <div className=\"space-y-2\">\n                  {itinerary.accommodation.accommodation_name && (\n                    <div className=\"text-lg font-semibold text-sage-800\">\n                      {itinerary.accommodation.accommodation_name}\n                    </div>\n                  )}\n                  {itinerary.accommodation.room_type && (\n                    <div className=\"text-sage-700\">\n                      Room: {itinerary.accommodation.room_type}\n                    </div>\n                  )}\n                  {itinerary.accommodation.check_in && itinerary.accommodation.check_out && (\n                    <div className=\"text-sm text-sage-600\">\n                      {formatDate(itinerary.accommodation.check_in)} -{' '}\n                      {formatDate(itinerary.accommodation.check_out)}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Events Timeline */}\n            <div className=\"bg-white rounded-lg shadow-md border border-sage-200 p-6\">\n              <h2 className=\"text-xl font-bold text-jungle-700 mb-6\">üìÖ Schedule</h2>\n              \n              {filteredEvents.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-sage-600\">\n                    {dateFrom || dateTo\n                      ? 'No events in selected date range.'\n                      : 'No events scheduled yet.'}\n                  </p>\n                </div>\n              ) : viewMode === 'day-by-day' ? (\n                <div className=\"space-y-8\">\n                  {groupEventsByDate(filteredEvents).map(({ date, events }) => (\n                    <div key={date}>\n                      <h3 className=\"text-lg font-semibold text-jungle-700 mb-4 pb-2 border-b border-sage-200\">\n                        {formatDate(events[0].date)}\n                      </h3>\n                      <div className=\"space-y-4\">\n                        {events.map(event => {\n                          const capacityWarning = getCapacityWarning(event);\n                          const deadlineAlert = getDeadlineAlert(event);\n                          \n                          return (\n                            <div\n                              key={event.id}\n                              className=\"flex items-start space-x-4 pl-4 border-l-4 border-jungle-300\"\n                            >\n                              <div className=\"flex-shrink-0 w-20 text-right\">\n                                <div className=\"text-sm font-medium text-sage-700\">\n                                  {formatTime(event.time)}\n                                </div>\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-start justify-between\">\n                                  <div className=\"flex-1\">\n                                    <h4 className=\"font-semibold text-sage-800\">{event.name}</h4>\n                                    {event.location && (\n                                      <p className=\"text-sm text-sage-600 mt-1\">\n                                        üìç {event.location}\n                                      </p>\n                                    )}\n                                    {event.description && (\n                                      <p className=\"text-sm text-sage-600 mt-1\">\n                                        {event.description}\n                                      </p>\n                                    )}\n                                    \n                                    {/* Capacity Warning and Deadline Alert Badges */}\n                                    <div className=\"flex items-center gap-2 mt-2\">\n                                      {capacityWarning && (\n                                        <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${capacityWarning.color}`}>\n                                          ‚ö†Ô∏è {capacityWarning.message}\n                                        </span>\n                                      )}\n                                      {deadlineAlert && (\n                                        <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${deadlineAlert.color}`}>\n                                          ‚è∞ {deadlineAlert.message}\n                                        </span>\n                                      )}\n                                    </div>\n                                  </div>\n                                  <div className=\"flex flex-col items-end gap-2 ml-4\">\n                                    {event.rsvp_status && (\n                                      <span\n                                        className={`inline-block px-2 py-1 rounded-full text-xs font-medium border ${getRSVPStatusColor(\n                                          event.rsvp_status\n                                        )}`}\n                                      >\n                                        {event.rsvp_status}\n                                      </span>\n                                    )}\n                                    {/* Quick RSVP Link */}\n                                    <a\n                                      href={`/guest/${event.type}s/${event.id}/rsvp`}\n                                      className=\"text-xs text-ocean-600 hover:text-ocean-700 font-medium\"\n                                    >\n                                      {event.rsvp_status === 'pending' ? 'RSVP Now ‚Üí' : 'Update RSVP ‚Üí'}\n                                    </a>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : viewMode === 'calendar' ? (\n                <div className=\"space-y-6\">\n                  <p className=\"text-sm text-sage-600 mb-4\">\n                    Calendar view showing events by month\n                  </p>\n                  {/* Simple calendar grid - group by month */}\n                  {Array.from(\n                    new Set(filteredEvents.map(e => new Date(e.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long' })))\n                  ).map(month => {\n                    const monthEvents = filteredEvents.filter(\n                      e => new Date(e.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long' }) === month\n                    );\n                    \n                    return (\n                      <div key={month} className=\"border border-sage-200 rounded-lg p-4\">\n                        <h3 className=\"text-lg font-semibold text-jungle-700 mb-3\">{month}</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                          {monthEvents.map(event => {\n                            const capacityWarning = getCapacityWarning(event);\n                            const deadlineAlert = getDeadlineAlert(event);\n                            \n                            return (\n                              <div\n                                key={event.id}\n                                className=\"border border-sage-200 rounded-lg p-3 hover:border-jungle-300 transition-colors\"\n                              >\n                                <div className=\"flex items-start justify-between mb-2\">\n                                  <div className=\"text-sm font-medium text-sage-700\">\n                                    {new Date(event.date).getDate()}\n                                  </div>\n                                  {event.rsvp_status && (\n                                    <span\n                                      className={`inline-block px-2 py-1 rounded-full text-xs font-medium border ${getRSVPStatusColor(\n                                        event.rsvp_status\n                                      )}`}\n                                    >\n                                      {event.rsvp_status}\n                                    </span>\n                                  )}\n                                </div>\n                                <h4 className=\"font-semibold text-sage-800 text-sm mb-1\">{event.name}</h4>\n                                <p className=\"text-xs text-sage-600\">{formatTime(event.time)}</p>\n                                {(capacityWarning || deadlineAlert) && (\n                                  <div className=\"flex flex-wrap gap-1 mt-2\">\n                                    {capacityWarning && (\n                                      <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${capacityWarning.color}`}>\n                                        ‚ö†Ô∏è\n                                      </span>\n                                    )}\n                                    {deadlineAlert && (\n                                      <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${deadlineAlert.color}`}>\n                                        ‚è∞\n                                      </span>\n                                    )}\n                                  </div>\n                                )}\n                                <a\n                                  href={`/guest/${event.type}s/${event.id}/rsvp`}\n                                  className=\"text-xs text-ocean-600 hover:text-ocean-700 font-medium mt-2 inline-block\"\n                                >\n                                  {event.rsvp_status === 'pending' ? 'RSVP ‚Üí' : 'Update ‚Üí'}\n                                </a>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                /* List View */\n                <div className=\"space-y-3\">\n                  {filteredEvents.map(event => {\n                    const capacityWarning = getCapacityWarning(event);\n                    const deadlineAlert = getDeadlineAlert(event);\n                    \n                    return (\n                      <div\n                        key={event.id}\n                        className=\"border border-sage-200 rounded-lg p-4 hover:border-jungle-300 transition-colors\"\n                      >\n                        <div className=\"flex items-start justify-between\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-3 mb-2\">\n                              <h4 className=\"font-semibold text-sage-800\">{event.name}</h4>\n                              {event.rsvp_status && (\n                                <span\n                                  className={`inline-block px-2 py-1 rounded-full text-xs font-medium border ${getRSVPStatusColor(\n                                    event.rsvp_status\n                                  )}`}\n                                >\n                                  {event.rsvp_status}\n                                </span>\n                              )}\n                            </div>\n                            <div className=\"flex items-center gap-4 text-sm text-sage-600\">\n                              <span>üìÖ {formatDate(event.date)}</span>\n                              <span>üïê {formatTime(event.time)}</span>\n                              {event.location && <span>üìç {event.location}</span>}\n                            </div>\n                            {event.description && (\n                              <p className=\"text-sm text-sage-600 mt-2\">{event.description}</p>\n                            )}\n                            {(capacityWarning || deadlineAlert) && (\n                              <div className=\"flex items-center gap-2 mt-2\">\n                                {capacityWarning && (\n                                  <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${capacityWarning.color}`}>\n                                    ‚ö†Ô∏è {capacityWarning.message}\n                                  </span>\n                                )}\n                                {deadlineAlert && (\n                                  <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${deadlineAlert.color}`}>\n                                    ‚è∞ {deadlineAlert.message}\n                                  </span>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                          <a\n                            href={`/guest/${event.type}s/${event.id}/rsvp`}\n                            className=\"text-sm text-ocean-600 hover:text-ocean-700 font-medium ml-4\"\n                          >\n                            {event.rsvp_status === 'pending' ? 'RSVP Now ‚Üí' : 'Update RSVP ‚Üí'}\n                          </a>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n\n            {/* Generated Timestamp */}\n            <div className=\"text-center text-sm text-sage-500\">\n              Generated on {new Date(itinerary.generated_at).toLocaleString()}\n            </div>\n          </div>\n        ) : null}\n      </main>\n    </div>\n  );\n}\n"],"names":["ItineraryViewer","guest","itinerary","setItinerary","useState","loading","setLoading","error","setError","isOffline","setIsOffline","viewMode","setViewMode","dateFrom","setDateFrom","dateTo","setDateTo","filteredEvents","setFilteredEvents","useEffect","loadItinerary","handleOnline","handleOffline","window","addEventListener","removeEventListener","id","filtered","events","filter","event","Date","date","sort","a","b","dateA","time","dateB","getTime","cachedResult","getCachedItinerary","success","data","fetchFreshItinerary","err","Error","message","result","generateItinerary","cacheItinerary","formatDate","dateString","toLocaleDateString","weekday","year","month","day","formatTime","toLocaleTimeString","hour","minute","hour12","groupEventsByDate","grouped","Map","forEach","dateKey","toDateString","has","set","get","push","Array","from","entries","map","getRSVPStatusColor","status","getCapacityWarning","capacity","attending_count","remaining","utilizationPercent","level","color","getDeadlineAlert","rsvp_deadline","deadline","now","daysUntilDeadline","Math","ceil","handleExportPDF","response","fetch","ok","blob","url","URL","createObjectURL","document","createElement","href","download","first_name","last_name","body","appendChild","click","revokeObjectURL","removeChild","div","className","header","h1","p","span","button","onClick","label","htmlFor","input","type","value","onChange","e","target","main","transportation","arrival_date","departure_date","h2","airport_code","accommodation","accommodation_name","room_type","check_in","check_out","length","h3","capacityWarning","deadlineAlert","h4","name","location","description","rsvp_status","Set","monthEvents","getDate","generated_at","toLocaleString"],"mappings":"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"}