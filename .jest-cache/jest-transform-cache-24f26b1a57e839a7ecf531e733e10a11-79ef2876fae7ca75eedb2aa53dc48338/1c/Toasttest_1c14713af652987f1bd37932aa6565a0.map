{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/Toast.test.tsx"],"sourcesContent":["import { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { Toast } from './Toast';\n\ndescribe('Toast', () => {\n  const defaultProps = {\n    id: 'toast-1',\n    message: 'Test message',\n    type: 'info' as const,\n    onClose: jest.fn(),\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  // Test rendering with various props\n  describe('rendering', () => {\n    it('should render with message', () => {\n      render(<Toast {...defaultProps} />);\n      \n      expect(screen.getByText('Test message')).toBeInTheDocument();\n    });\n\n    it('should render success type with correct styling', () => {\n      render(<Toast {...defaultProps} type=\"success\" />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveClass('bg-jungle-50', 'border-jungle-500', 'text-jungle-900');\n      expect(screen.getByTestId('toast-success')).toBeInTheDocument();\n    });\n\n    it('should render error type with correct styling', () => {\n      render(<Toast {...defaultProps} type=\"error\" />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveClass('bg-volcano-50', 'border-volcano-500', 'text-volcano-900');\n      expect(screen.getByTestId('toast-error')).toBeInTheDocument();\n    });\n\n    it('should render warning type with correct styling', () => {\n      render(<Toast {...defaultProps} type=\"warning\" />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveClass('bg-sunset-50', 'border-sunset-500', 'text-sunset-900');\n      expect(screen.getByTestId('toast-warning')).toBeInTheDocument();\n    });\n\n    it('should render info type with correct styling', () => {\n      render(<Toast {...defaultProps} type=\"info\" />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveClass('bg-ocean-50', 'border-ocean-500', 'text-ocean-900');\n      expect(screen.getByTestId('toast-info')).toBeInTheDocument();\n    });\n\n    it('should have proper ARIA attributes', () => {\n      render(<Toast {...defaultProps} />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveAttribute('aria-live', 'polite');\n    });\n\n    it('should render close button', () => {\n      render(<Toast {...defaultProps} />);\n      \n      const closeButton = screen.getByRole('button', { name: 'Close notification' });\n      expect(closeButton).toBeInTheDocument();\n    });\n  });\n\n  // Test event handlers\n  describe('event handlers', () => {\n    it('should call onClose when close button clicked', () => {\n      const onClose = jest.fn();\n      render(<Toast {...defaultProps} onClose={onClose} />);\n      \n      fireEvent.click(screen.getByRole('button', { name: 'Close notification' }));\n      expect(onClose).toHaveBeenCalledTimes(1);\n    });\n\n    it('should auto-dismiss after duration', () => {\n      const onClose = jest.fn();\n      render(<Toast {...defaultProps} onClose={onClose} duration={3000} />);\n      \n      expect(onClose).not.toHaveBeenCalled();\n      \n      jest.advanceTimersByTime(3000);\n      \n      expect(onClose).toHaveBeenCalledTimes(1);\n    });\n\n    it('should use default duration of 5000ms', () => {\n      const onClose = jest.fn();\n      render(<Toast {...defaultProps} onClose={onClose} />);\n      \n      jest.advanceTimersByTime(4999);\n      expect(onClose).not.toHaveBeenCalled();\n      \n      jest.advanceTimersByTime(1);\n      expect(onClose).toHaveBeenCalledTimes(1);\n    });\n\n    it('should not auto-dismiss when duration is 0', () => {\n      const onClose = jest.fn();\n      render(<Toast {...defaultProps} onClose={onClose} duration={0} />);\n      \n      jest.advanceTimersByTime(10000);\n      expect(onClose).not.toHaveBeenCalled();\n    });\n\n    it('should clear timer on unmount', () => {\n      const onClose = jest.fn();\n      const { unmount } = render(<Toast {...defaultProps} onClose={onClose} duration={3000} />);\n      \n      jest.advanceTimersByTime(1000);\n      unmount();\n      \n      jest.advanceTimersByTime(3000);\n      expect(onClose).not.toHaveBeenCalled();\n    });\n  });\n\n  // Test conditional rendering\n  describe('conditional rendering', () => {\n    it('should render different icons for each type', () => {\n      const { rerender } = render(<Toast {...defaultProps} type=\"success\" />);\n      expect(screen.getByTestId('toast-success')).toBeInTheDocument();\n\n      rerender(<Toast {...defaultProps} type=\"error\" />);\n      expect(screen.getByTestId('toast-error')).toBeInTheDocument();\n\n      rerender(<Toast {...defaultProps} type=\"warning\" />);\n      expect(screen.getByTestId('toast-warning')).toBeInTheDocument();\n\n      rerender(<Toast {...defaultProps} type=\"info\" />);\n      expect(screen.getByTestId('toast-info')).toBeInTheDocument();\n    });\n\n    it('should handle long messages', () => {\n      const longMessage = 'This is a very long message that should wrap properly and not overflow the toast container';\n      render(<Toast {...defaultProps} message={longMessage} />);\n      \n      expect(screen.getByText(longMessage)).toBeInTheDocument();\n      const messageElement = screen.getByText(longMessage);\n      expect(messageElement).toHaveClass('break-words');\n    });\n  });\n\n  // Test accessibility\n  describe('accessibility', () => {\n    it('should have proper role and aria-live', () => {\n      render(<Toast {...defaultProps} />);\n      \n      const toast = screen.getByRole('alert');\n      expect(toast).toHaveAttribute('aria-live', 'polite');\n    });\n\n    it('should have accessible close button', () => {\n      render(<Toast {...defaultProps} />);\n      \n      const closeButton = screen.getByRole('button', { name: 'Close notification' });\n      expect(closeButton).toHaveAttribute('aria-label', 'Close notification');\n    });\n  });\n});\n"],"names":["describe","defaultProps","id","message","type","onClose","jest","fn","beforeEach","clearAllMocks","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","it","render","Toast","expect","screen","getByText","toBeInTheDocument","toast","getByRole","toHaveClass","getByTestId","toHaveAttribute","closeButton","name","fireEvent","click","toHaveBeenCalledTimes","duration","not","toHaveBeenCalled","advanceTimersByTime","unmount","rerender","longMessage","messageElement"],"mappings":"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"}