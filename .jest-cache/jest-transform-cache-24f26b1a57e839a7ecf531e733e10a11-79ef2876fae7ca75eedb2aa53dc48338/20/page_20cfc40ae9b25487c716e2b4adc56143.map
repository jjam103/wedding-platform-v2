{"version":3,"names":["default","cov_2qz7tkgc6k","f","s","EventPage","dynamic","params","id","supabase","_authhelpersnextjs","createServerComponentClient","cookies","_headers","data","event","error","eventError","from","select","eq","single","b","_navigation","notFound","sectionsResult","_sectionsService","listSections","sections","success","_jsxruntime","jsx","className","jsxs","name","event_type","replace","start_date","Date","toLocaleDateString","end_date","locations","rsvp_required","rsvp_deadline","status","description","dangerouslySetInnerHTML","__html","length","map","section","_SectionRenderer","SectionRenderer"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/event/[id]/page.tsx"],"sourcesContent":["export const dynamic = 'force-dynamic';\n\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs';\nimport { cookies } from 'next/headers';\nimport { notFound } from 'next/navigation';\nimport { SectionRenderer } from '@/components/guest/SectionRenderer';\nimport { listSections } from '@/services/sectionsService';\n\ninterface EventPageProps {\n  params: Promise<{ id: string }>;\n}\n\n/**\n * Event Details Page\n * \n * Displays event information with sections:\n * - Event name, description, dates, location\n * - Custom sections with rich text, photos, and references\n * - RSVP information and deadline\n * \n * Requirements: 4.2 (E2E Critical Path Testing - section management flow)\n */\nexport default async function EventPage({ params }: EventPageProps) {\n  // Next.js 15: params is a Promise\n  const { id } = await params;\n  \n  const supabase = createServerComponentClient({ cookies });\n  \n  // Fetch event data\n  const { data: event, error: eventError } = await supabase\n    .from('events')\n    .select(`\n      *,\n      locations (\n        id,\n        name,\n        location_type\n      )\n    `)\n    .eq('id', id)\n    .single();\n  \n  if (eventError || !event) {\n    notFound();\n  }\n  \n  // Fetch sections for this event\n  const sectionsResult = await listSections('event', id);\n  const sections = sectionsResult.success ? sectionsResult.data : [];\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 to-ocean-50\">\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        {/* Event Header */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <h1 className=\"text-3xl font-bold text-jungle-800 mb-4\">\n            {event.name}\n          </h1>\n          \n          {/* Event Details */}\n          <div className=\"space-y-3 text-sage-700\">\n            {event.event_type && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Type:</span>\n                <span className=\"px-3 py-1 bg-sage-100 text-sage-800 rounded-full text-sm\">\n                  {event.event_type.replace('_', ' ')}\n                </span>\n              </div>\n            )}\n            \n            {event.start_date && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Start Date:</span>\n                <span>{new Date(event.start_date).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.end_date && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">End Date:</span>\n                <span>{new Date(event.end_date).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.locations && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Location:</span>\n                <span>{event.locations.name}</span>\n              </div>\n            )}\n            \n            {event.rsvp_required && event.rsvp_deadline && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">RSVP Deadline:</span>\n                <span>{new Date(event.rsvp_deadline).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.status && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Status:</span>\n                <span className=\"px-3 py-1 bg-ocean-100 text-ocean-800 rounded-full text-sm\">\n                  {event.status}\n                </span>\n              </div>\n            )}\n          </div>\n          \n          {/* Event Description */}\n          {event.description && (\n            <div \n              className=\"mt-6 prose prose-lg max-w-none text-gray-700\"\n              dangerouslySetInnerHTML={{ __html: event.description }}\n            />\n          )}\n        </div>\n        \n        {/* Sections */}\n        {sections.length > 0 && (\n          <div className=\"space-y-6\">\n            {sections.map((section) => (\n              <div key={section.id} className=\"bg-white rounded-lg shadow-lg p-8\">\n                <SectionRenderer section={section} />\n              </div>\n            ))}\n          </div>\n        )}\n        \n        {/* No Sections Message */}\n        {sections.length === 0 && (\n          <div className=\"bg-white rounded-lg shadow-lg p-8 text-center text-sage-600\">\n            <p>No additional information available for this event.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}