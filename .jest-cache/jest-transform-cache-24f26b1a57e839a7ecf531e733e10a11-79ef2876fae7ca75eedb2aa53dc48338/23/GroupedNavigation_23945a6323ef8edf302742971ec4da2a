25cb4eea7a61cf0ea0f22ffa4e8e3452
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GroupedNavigation", {
    enumerable: true,
    get: function() {
        return GroupedNavigation;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _link = /*#__PURE__*/ _interop_require_default(require("next/link"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const STORAGE_KEY = 'admin_nav_expanded_groups';
function GroupedNavigation({ pendingPhotosCount = 0, isCollapsed = false, onNavigate }) {
    const pathname = (0, _navigation.usePathname)();
    const [expandedGroups, setExpandedGroups] = (0, _react.useState)(new Set());
    const [pendingCount, setPendingCount] = (0, _react.useState)(pendingPhotosCount);
    // Load expanded groups from localStorage
    (0, _react.useEffect)(()=>{
        try {
            const stored = localStorage.getItem(STORAGE_KEY);
            if (stored) {
                const parsed = JSON.parse(stored);
                setExpandedGroups(new Set(parsed));
            } else {
                // Default: expand all groups
                setExpandedGroups(new Set([
                    'quick-actions',
                    'guest-management',
                    'event-planning',
                    'logistics',
                    'content',
                    'communication',
                    'financial',
                    'system'
                ]));
            }
        } catch (error) {
            console.error('Failed to load expanded groups:', error);
        }
    }, []);
    // Save expanded groups to localStorage
    (0, _react.useEffect)(()=>{
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(expandedGroups)));
        } catch (error) {
            console.error('Failed to save expanded groups:', error);
        }
    }, [
        expandedGroups
    ]);
    // Update pending count when prop changes
    (0, _react.useEffect)(()=>{
        setPendingCount(pendingPhotosCount);
    }, [
        pendingPhotosCount
    ]);
    // Listen for photo moderation events
    (0, _react.useEffect)(()=>{
        const handlePhotoModerated = async ()=>{
            try {
                const response = await fetch('/api/admin/photos/pending-count');
                const result = await response.json();
                if (result.success) {
                    setPendingCount(result.data.count);
                }
            } catch (error) {
                console.error('Failed to fetch pending photo count:', error);
            }
        };
        window.addEventListener('photoModerated', handlePhotoModerated);
        return ()=>window.removeEventListener('photoModerated', handlePhotoModerated);
    }, []);
    // Listen for storage events (sync across tabs)
    (0, _react.useEffect)(()=>{
        const handleStorageChange = (e)=>{
            if (e.key === STORAGE_KEY && e.newValue) {
                try {
                    const parsed = JSON.parse(e.newValue);
                    setExpandedGroups(new Set(parsed));
                } catch (error) {
                    console.error('Failed to sync expanded groups:', error);
                }
            }
        };
        window.addEventListener('storage', handleStorageChange);
        return ()=>window.removeEventListener('storage', handleStorageChange);
    }, []);
    const navigationGroups = [
        {
            id: 'quick-actions',
            label: 'Quick Actions',
            icon: 'âš¡',
            items: [
                {
                    id: 'preview-portal',
                    label: 'Preview Guest Portal',
                    href: '/',
                    external: true
                }
            ]
        },
        {
            id: 'guest-management',
            label: 'Guest Management',
            icon: 'ðŸ‘¥',
            items: [
                {
                    id: 'guests',
                    label: 'Guests & Groups',
                    href: '/admin/guests'
                }
            ]
        },
        {
            id: 'event-planning',
            label: 'Event Planning',
            icon: 'ðŸ“…',
            items: [
                {
                    id: 'events',
                    label: 'Events',
                    href: '/admin/events'
                },
                {
                    id: 'activities',
                    label: 'Activities',
                    href: '/admin/activities'
                }
            ]
        },
        {
            id: 'logistics',
            label: 'Logistics',
            icon: 'ðŸš—',
            items: [
                {
                    id: 'accommodations',
                    label: 'Accommodations',
                    href: '/admin/accommodations'
                },
                {
                    id: 'transportation',
                    label: 'Transportation',
                    href: '/admin/transportation'
                },
                {
                    id: 'vendors',
                    label: 'Vendors',
                    href: '/admin/vendors'
                }
            ]
        },
        {
            id: 'content',
            label: 'Content',
            icon: 'ðŸ“',
            items: [
                {
                    id: 'home-page',
                    label: 'Home Page',
                    href: '/admin/home-page'
                },
                {
                    id: 'content-pages',
                    label: 'Content Pages',
                    href: '/admin/content-pages'
                },
                {
                    id: 'locations',
                    label: 'Locations',
                    href: '/admin/locations'
                },
                {
                    id: 'photos',
                    label: 'Photos',
                    href: '/admin/photos',
                    badge: pendingCount
                }
            ],
            badge: pendingCount > 0 ? pendingCount : undefined
        },
        {
            id: 'communication',
            label: 'Communication',
            icon: 'âœ‰ï¸',
            items: [
                {
                    id: 'emails',
                    label: 'Emails',
                    href: '/admin/emails'
                },
                {
                    id: 'rsvp-analytics',
                    label: 'RSVP Analytics',
                    href: '/admin/rsvp-analytics'
                }
            ]
        },
        {
            id: 'financial',
            label: 'Financial',
            icon: 'ðŸ’°',
            items: [
                {
                    id: 'budget',
                    label: 'Budget',
                    href: '/admin/budget'
                }
            ]
        },
        {
            id: 'system',
            label: 'System',
            icon: 'âš™ï¸',
            items: [
                {
                    id: 'settings',
                    label: 'Settings',
                    href: '/admin/settings'
                },
                {
                    id: 'audit-logs',
                    label: 'Audit Logs',
                    href: '/admin/audit-logs'
                },
                {
                    id: 'deleted-items',
                    label: 'Deleted Items',
                    href: '/admin/deleted-items'
                }
            ]
        }
    ];
    const toggleGroup = (0, _react.useCallback)((groupId)=>{
        setExpandedGroups((prev)=>{
            const next = new Set(prev);
            if (next.has(groupId)) {
                next.delete(groupId);
            } else {
                next.add(groupId);
            }
            return next;
        });
    }, []);
    const isActive = (href)=>{
        if (href === '/admin') {
            return pathname === '/admin';
        }
        return pathname?.startsWith(href);
    };
    const isGroupActive = (group)=>{
        return group.items.some((item)=>isActive(item.href));
    };
    const handleKeyDown = (e, groupId)=>{
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggleGroup(groupId);
        }
    };
    if (isCollapsed) {
        // Collapsed view: show only icons
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
            className: "p-2 space-y-1",
            "aria-label": "Admin sections",
            children: navigationGroups.map((group)=>{
                const active = isGroupActive(group);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "relative",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        className: `w-full flex items-center justify-center p-3 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-label": group.label,
                        title: group.label,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "absolute top-1 right-1 w-2 h-2 bg-volcano-500 rounded-full",
                                "aria-label": `${group.badge} pending`
                            })
                        ]
                    })
                }, group.id);
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
        className: "p-2 space-y-2",
        "aria-label": "Admin sections",
        children: navigationGroups.map((group)=>{
            const isExpanded = expandedGroups.has(group.id);
            const active = isGroupActive(group);
            return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-1",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        onKeyDown: (e)=>handleKeyDown(e, group.id),
                        className: `w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700 font-medium' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-expanded": isExpanded,
                        "aria-label": `${group.label} section`,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl flex-shrink-0",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "flex-1 text-left",
                                children: group.label
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                "aria-label": `${group.badge} pending`,
                                children: group.badge
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: `text-sm transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`,
                                "aria-hidden": "true",
                                children: "â–¶"
                            })
                        ]
                    }),
                    isExpanded && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "ml-6 space-y-1",
                        role: "group",
                        "aria-label": `${group.label} items`,
                        children: group.items.map((item)=>{
                            const itemActive = isActive(item.href);
                            const linkProps = item.external ? {
                                target: '_blank',
                                rel: 'noopener noreferrer'
                            } : {};
                            return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_link.default, {
                                href: item.href,
                                ...linkProps,
                                className: `flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 min-h-[44px] ${itemActive ? 'bg-jungle-100 text-jungle-800 font-medium' : 'text-sage-600 hover:bg-sage-50 hover:text-sage-900'}`,
                                "aria-label": item.label,
                                "aria-current": itemActive ? 'page' : undefined,
                                onClick: onNavigate,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "flex-1",
                                        children: item.label
                                    }),
                                    item.badge !== undefined && item.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                        "aria-label": `${item.badge} pending`,
                                        children: item.badge
                                    }),
                                    item.external && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-xs",
                                        "aria-hidden": "true",
                                        children: "â†—"
                                    })
                                ]
                            }, item.id);
                        })
                    })
                ]
            }, group.id);
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Hcm91cGVkTmF2aWdhdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uSXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgYmFkZ2U/OiBudW1iZXI7XG4gIGV4dGVybmFsPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE5hdmlnYXRpb25Hcm91cCB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGljb246IHN0cmluZztcbiAgaXRlbXM6IE5hdmlnYXRpb25JdGVtW107XG4gIGJhZGdlPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgR3JvdXBlZE5hdmlnYXRpb25Qcm9wcyB7XG4gIHBlbmRpbmdQaG90b3NDb3VudD86IG51bWJlcjtcbiAgaXNDb2xsYXBzZWQ/OiBib29sZWFuO1xuICBvbk5hdmlnYXRlPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgU1RPUkFHRV9LRVkgPSAnYWRtaW5fbmF2X2V4cGFuZGVkX2dyb3Vwcyc7XG5cbi8qKlxuICogR3JvdXBlZE5hdmlnYXRpb24gQ29tcG9uZW50XG4gKiBcbiAqIE9yZ2FuaXplZCBuYXZpZ2F0aW9uIHdpdGggbG9naWNhbCBncm91cGluZzpcbiAqIC0gUXVpY2sgQWN0aW9ucywgR3Vlc3QgTWFuYWdlbWVudCwgRXZlbnQgUGxhbm5pbmcsIExvZ2lzdGljcywgQ29udGVudCwgQ29tbXVuaWNhdGlvbiwgRmluYW5jaWFsLCBTeXN0ZW1cbiAqIC0gRXhwYW5kL2NvbGxhcHNlIGZ1bmN0aW9uYWxpdHkgd2l0aCBsb2NhbFN0b3JhZ2UgcGVyc2lzdGVuY2VcbiAqIC0gQmFkZ2Ugc3VwcG9ydCBmb3IgcGVuZGluZyBpdGVtc1xuICogLSBLZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnRcbiAqIC0gTW9iaWxlIHJlc3BvbnNpdmVcbiAqIC0gRXh0ZXJuYWwgbGluayBzdXBwb3J0IHdpdGggdGFyZ2V0PVwiX2JsYW5rXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdyb3VwZWROYXZpZ2F0aW9uKHsgXG4gIHBlbmRpbmdQaG90b3NDb3VudCA9IDAsIFxuICBpc0NvbGxhcHNlZCA9IGZhbHNlLFxuICBvbk5hdmlnYXRlIFxufTogR3JvdXBlZE5hdmlnYXRpb25Qcm9wcykge1xuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7XG4gIGNvbnN0IFtleHBhbmRlZEdyb3Vwcywgc2V0RXhwYW5kZWRHcm91cHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFtwZW5kaW5nQ291bnQsIHNldFBlbmRpbmdDb3VudF0gPSB1c2VTdGF0ZShwZW5kaW5nUGhvdG9zQ291bnQpO1xuXG4gIC8vIExvYWQgZXhwYW5kZWQgZ3JvdXBzIGZyb20gbG9jYWxTdG9yYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcbiAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICBzZXRFeHBhbmRlZEdyb3VwcyhuZXcgU2V0KHBhcnNlZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdDogZXhwYW5kIGFsbCBncm91cHNcbiAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChbXG4gICAgICAgICAgJ3F1aWNrLWFjdGlvbnMnLFxuICAgICAgICAgICdndWVzdC1tYW5hZ2VtZW50JyxcbiAgICAgICAgICAnZXZlbnQtcGxhbm5pbmcnLFxuICAgICAgICAgICdsb2dpc3RpY3MnLFxuICAgICAgICAgICdjb250ZW50JyxcbiAgICAgICAgICAnY29tbXVuaWNhdGlvbicsXG4gICAgICAgICAgJ2ZpbmFuY2lhbCcsXG4gICAgICAgICAgJ3N5c3RlbSdcbiAgICAgICAgXSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgZXhwYW5kZWQgZ3JvdXBzIHRvIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShleHBhbmRlZEdyb3VwcykpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZXhwYW5kZWQgZ3JvdXBzOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtleHBhbmRlZEdyb3Vwc10pO1xuXG4gIC8vIFVwZGF0ZSBwZW5kaW5nIGNvdW50IHdoZW4gcHJvcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGVuZGluZ0NvdW50KHBlbmRpbmdQaG90b3NDb3VudCk7XG4gIH0sIFtwZW5kaW5nUGhvdG9zQ291bnRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHBob3RvIG1vZGVyYXRpb24gZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUGhvdG9Nb2RlcmF0ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bob3Rvcy9wZW5kaW5nLWNvdW50Jyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0UGVuZGluZ0NvdW50KHJlc3VsdC5kYXRhLmNvdW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHBlbmRpbmcgcGhvdG8gY291bnQ6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGhvdG9Nb2RlcmF0ZWQnLCBoYW5kbGVQaG90b01vZGVyYXRlZCk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwaG90b01vZGVyYXRlZCcsIGhhbmRsZVBob3RvTW9kZXJhdGVkKTtcbiAgfSwgW10pO1xuXG4gIC8vIExpc3RlbiBmb3Igc3RvcmFnZSBldmVudHMgKHN5bmMgYWNyb3NzIHRhYnMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gU1RPUkFHRV9LRVkgJiYgZS5uZXdWYWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChwYXJzZWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3luYyBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uR3JvdXBzOiBOYXZpZ2F0aW9uR3JvdXBbXSA9IFtcbiAgICB7XG4gICAgICBpZDogJ3F1aWNrLWFjdGlvbnMnLFxuICAgICAgbGFiZWw6ICdRdWljayBBY3Rpb25zJyxcbiAgICAgIGljb246ICfimqEnLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ3ByZXZpZXctcG9ydGFsJywgbGFiZWw6ICdQcmV2aWV3IEd1ZXN0IFBvcnRhbCcsIGhyZWY6ICcvJywgZXh0ZXJuYWw6IHRydWUgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2d1ZXN0LW1hbmFnZW1lbnQnLFxuICAgICAgbGFiZWw6ICdHdWVzdCBNYW5hZ2VtZW50JyxcbiAgICAgIGljb246ICfwn5GlJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdndWVzdHMnLCBsYWJlbDogJ0d1ZXN0cyAmIEdyb3VwcycsIGhyZWY6ICcvYWRtaW4vZ3Vlc3RzJyB9LFxuICAgICAgICAvLyBSU1ZQcyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnZXZlbnQtcGxhbm5pbmcnLFxuICAgICAgbGFiZWw6ICdFdmVudCBQbGFubmluZycsXG4gICAgICBpY29uOiAn8J+ThScsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnZXZlbnRzJywgbGFiZWw6ICdFdmVudHMnLCBocmVmOiAnL2FkbWluL2V2ZW50cycgfSxcbiAgICAgICAgeyBpZDogJ2FjdGl2aXRpZXMnLCBsYWJlbDogJ0FjdGl2aXRpZXMnLCBocmVmOiAnL2FkbWluL2FjdGl2aXRpZXMnIH0sXG4gICAgICAgIC8vIExvY2F0aW9ucyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnbG9naXN0aWNzJyxcbiAgICAgIGxhYmVsOiAnTG9naXN0aWNzJyxcbiAgICAgIGljb246ICfwn5qXJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdhY2NvbW1vZGF0aW9ucycsIGxhYmVsOiAnQWNjb21tb2RhdGlvbnMnLCBocmVmOiAnL2FkbWluL2FjY29tbW9kYXRpb25zJyB9LFxuICAgICAgICB7IGlkOiAndHJhbnNwb3J0YXRpb24nLCBsYWJlbDogJ1RyYW5zcG9ydGF0aW9uJywgaHJlZjogJy9hZG1pbi90cmFuc3BvcnRhdGlvbicgfSxcbiAgICAgICAgeyBpZDogJ3ZlbmRvcnMnLCBsYWJlbDogJ1ZlbmRvcnMnLCBocmVmOiAnL2FkbWluL3ZlbmRvcnMnIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdjb250ZW50JyxcbiAgICAgIGxhYmVsOiAnQ29udGVudCcsXG4gICAgICBpY29uOiAn8J+TnScsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnaG9tZS1wYWdlJywgbGFiZWw6ICdIb21lIFBhZ2UnLCBocmVmOiAnL2FkbWluL2hvbWUtcGFnZScgfSxcbiAgICAgICAgeyBpZDogJ2NvbnRlbnQtcGFnZXMnLCBsYWJlbDogJ0NvbnRlbnQgUGFnZXMnLCBocmVmOiAnL2FkbWluL2NvbnRlbnQtcGFnZXMnIH0sXG4gICAgICAgIHsgaWQ6ICdsb2NhdGlvbnMnLCBsYWJlbDogJ0xvY2F0aW9ucycsIGhyZWY6ICcvYWRtaW4vbG9jYXRpb25zJyB9LFxuICAgICAgICB7IGlkOiAncGhvdG9zJywgbGFiZWw6ICdQaG90b3MnLCBocmVmOiAnL2FkbWluL3Bob3RvcycsIGJhZGdlOiBwZW5kaW5nQ291bnQgfSxcbiAgICAgIF0sXG4gICAgICBiYWRnZTogcGVuZGluZ0NvdW50ID4gMCA/IHBlbmRpbmdDb3VudCA6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnY29tbXVuaWNhdGlvbicsXG4gICAgICBsYWJlbDogJ0NvbW11bmljYXRpb24nLFxuICAgICAgaWNvbjogJ+Kcie+4jycsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnZW1haWxzJywgbGFiZWw6ICdFbWFpbHMnLCBocmVmOiAnL2FkbWluL2VtYWlscycgfSxcbiAgICAgICAgeyBpZDogJ3JzdnAtYW5hbHl0aWNzJywgbGFiZWw6ICdSU1ZQIEFuYWx5dGljcycsIGhyZWY6ICcvYWRtaW4vcnN2cC1hbmFseXRpY3MnIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdmaW5hbmNpYWwnLFxuICAgICAgbGFiZWw6ICdGaW5hbmNpYWwnLFxuICAgICAgaWNvbjogJ/CfkrAnLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ2J1ZGdldCcsIGxhYmVsOiAnQnVkZ2V0JywgaHJlZjogJy9hZG1pbi9idWRnZXQnIH0sXG4gICAgICAgIC8vIFZlbmRvciBQYXltZW50cyB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnc3lzdGVtJyxcbiAgICAgIGxhYmVsOiAnU3lzdGVtJyxcbiAgICAgIGljb246ICfimpnvuI8nLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ3NldHRpbmdzJywgbGFiZWw6ICdTZXR0aW5ncycsIGhyZWY6ICcvYWRtaW4vc2V0dGluZ3MnIH0sXG4gICAgICAgIHsgaWQ6ICdhdWRpdC1sb2dzJywgbGFiZWw6ICdBdWRpdCBMb2dzJywgaHJlZjogJy9hZG1pbi9hdWRpdC1sb2dzJyB9LFxuICAgICAgICB7IGlkOiAnZGVsZXRlZC1pdGVtcycsIGxhYmVsOiAnRGVsZXRlZCBJdGVtcycsIGhyZWY6ICcvYWRtaW4vZGVsZXRlZC1pdGVtcycgfSxcbiAgICAgICAgLy8gVXNlciBNYW5hZ2VtZW50IHdpbGwgYmUgYWRkZWQgaW4gZnV0dXJlIHRhc2tzXG4gICAgICBdLFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgdG9nZ2xlR3JvdXAgPSB1c2VDYWxsYmFjaygoZ3JvdXBJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0RXhwYW5kZWRHcm91cHMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgaWYgKG5leHQuaGFzKGdyb3VwSWQpKSB7XG4gICAgICAgIG5leHQuZGVsZXRlKGdyb3VwSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dC5hZGQoZ3JvdXBJZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGlzQWN0aXZlID0gKGhyZWY6IHN0cmluZykgPT4ge1xuICAgIGlmIChocmVmID09PSAnL2FkbWluJykge1xuICAgICAgcmV0dXJuIHBhdGhuYW1lID09PSAnL2FkbWluJztcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhuYW1lPy5zdGFydHNXaXRoKGhyZWYpO1xuICB9O1xuXG4gIGNvbnN0IGlzR3JvdXBBY3RpdmUgPSAoZ3JvdXA6IE5hdmlnYXRpb25Hcm91cCkgPT4ge1xuICAgIHJldHVybiBncm91cC5pdGVtcy5zb21lKChpdGVtKSA9PiBpc0FjdGl2ZShpdGVtLmhyZWYpKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQsIGdyb3VwSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVHcm91cChncm91cElkKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgLy8gQ29sbGFwc2VkIHZpZXc6IHNob3cgb25seSBpY29uc1xuICAgIHJldHVybiAoXG4gICAgICA8bmF2IGNsYXNzTmFtZT1cInAtMiBzcGFjZS15LTFcIiBhcmlhLWxhYmVsPVwiQWRtaW4gc2VjdGlvbnNcIj5cbiAgICAgICAge25hdmlnYXRpb25Hcm91cHMubWFwKChncm91cCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGlzR3JvdXBBY3RpdmUoZ3JvdXApO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17Z3JvdXAuaWR9IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVHcm91cChncm91cC5pZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtMyByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtaW4taC1bNDRweF0gJHtcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1qdW5nbGUtNTAgdGV4dC1qdW5nbGUtNzAwJ1xuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LXNhZ2UtNzAwIGhvdmVyOmJnLXNhZ2UtNTAgaG92ZXI6dGV4dC1zYWdlLTkwMCdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtncm91cC5sYWJlbH1cbiAgICAgICAgICAgICAgICB0aXRsZT17Z3JvdXAubGFiZWx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+e2dyb3VwLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICAgIHtncm91cC5iYWRnZSAhPT0gdW5kZWZpbmVkICYmIGdyb3VwLmJhZGdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEgcmlnaHQtMSB3LTIgaC0yIGJnLXZvbGNhbm8tNTAwIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2dyb3VwLmJhZGdlfSBwZW5kaW5nYH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvbmF2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxuYXYgY2xhc3NOYW1lPVwicC0yIHNwYWNlLXktMlwiIGFyaWEtbGFiZWw9XCJBZG1pbiBzZWN0aW9uc1wiPlxuICAgICAge25hdmlnYXRpb25Hcm91cHMubWFwKChncm91cCkgPT4ge1xuICAgICAgICBjb25zdCBpc0V4cGFuZGVkID0gZXhwYW5kZWRHcm91cHMuaGFzKGdyb3VwLmlkKTtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gaXNHcm91cEFjdGl2ZShncm91cCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGtleT17Z3JvdXAuaWR9IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgey8qIEdyb3VwIEhlYWRlciAqL31cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlR3JvdXAoZ3JvdXAuaWQpfVxuICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiBoYW5kbGVLZXlEb3duKGUsIGdyb3VwLmlkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMi41IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1pbi1oLVs0NHB4XSAke1xuICAgICAgICAgICAgICAgIGFjdGl2ZVxuICAgICAgICAgICAgICAgICAgPyAnYmctanVuZ2xlLTUwIHRleHQtanVuZ2xlLTcwMCBmb250LW1lZGl1bSdcbiAgICAgICAgICAgICAgICAgIDogJ3RleHQtc2FnZS03MDAgaG92ZXI6Ymctc2FnZS01MCBob3Zlcjp0ZXh0LXNhZ2UtOTAwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD17aXNFeHBhbmRlZH1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YCR7Z3JvdXAubGFiZWx9IHNlY3Rpb25gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZsZXgtc2hyaW5rLTBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj57Z3JvdXAuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMSB0ZXh0LWxlZnRcIj57Z3JvdXAubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICB7Z3JvdXAuYmFkZ2UgIT09IHVuZGVmaW5lZCAmJiBncm91cC5iYWRnZSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgYmctdm9sY2Fuby01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBtaW4tdy1bMjRweF0gdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YCR7Z3JvdXAuYmFkZ2V9IHBlbmRpbmdgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtncm91cC5iYWRnZX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQtc20gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwICR7aXNFeHBhbmRlZCA/ICdyb3RhdGUtOTAnIDogJyd9YH1cbiAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4pa2XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7LyogR3JvdXAgSXRlbXMgKi99XG4gICAgICAgICAgICB7aXNFeHBhbmRlZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtNiBzcGFjZS15LTFcIiByb2xlPVwiZ3JvdXBcIiBhcmlhLWxhYmVsPXtgJHtncm91cC5sYWJlbH0gaXRlbXNgfT5cbiAgICAgICAgICAgICAgICB7Z3JvdXAuaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpdGVtQWN0aXZlID0gaXNBY3RpdmUoaXRlbS5ocmVmKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtQcm9wcyA9IGl0ZW0uZXh0ZXJuYWxcbiAgICAgICAgICAgICAgICAgICAgPyB7IHRhcmdldDogJ19ibGFuaycsIHJlbDogJ25vb3BlbmVyIG5vcmVmZXJyZXInIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICAgICAgICAgIHsuLi5saW5rUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHgtMyBweS0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1pbi1oLVs0NHB4XSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1qdW5nbGUtMTAwIHRleHQtanVuZ2xlLTgwMCBmb250LW1lZGl1bSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1zYWdlLTYwMCBob3ZlcjpiZy1zYWdlLTUwIGhvdmVyOnRleHQtc2FnZS05MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWN1cnJlbnQ9e2l0ZW1BY3RpdmUgPyAncGFnZScgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25OYXZpZ2F0ZX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXgtMVwiPntpdGVtLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5iYWRnZSAhPT0gdW5kZWZpbmVkICYmIGl0ZW0uYmFkZ2UgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTAuNSBiZy12b2xjYW5vLTUwMCB0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIG1pbi13LVsyNHB4XSB0ZXh0LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2l0ZW0uYmFkZ2V9IHBlbmRpbmdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5iYWRnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmV4dGVybmFsICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj7ihpc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9uYXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiR3JvdXBlZE5hdmlnYXRpb24iLCJTVE9SQUdFX0tFWSIsInBlbmRpbmdQaG90b3NDb3VudCIsImlzQ29sbGFwc2VkIiwib25OYXZpZ2F0ZSIsInBhdGhuYW1lIiwidXNlUGF0aG5hbWUiLCJleHBhbmRlZEdyb3VwcyIsInNldEV4cGFuZGVkR3JvdXBzIiwidXNlU3RhdGUiLCJTZXQiLCJwZW5kaW5nQ291bnQiLCJzZXRQZW5kaW5nQ291bnQiLCJ1c2VFZmZlY3QiLCJzdG9yZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicGFyc2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIkFycmF5IiwiZnJvbSIsImhhbmRsZVBob3RvTW9kZXJhdGVkIiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImNvdW50Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVTdG9yYWdlQ2hhbmdlIiwiZSIsImtleSIsIm5ld1ZhbHVlIiwibmF2aWdhdGlvbkdyb3VwcyIsImlkIiwibGFiZWwiLCJpY29uIiwiaXRlbXMiLCJocmVmIiwiZXh0ZXJuYWwiLCJiYWRnZSIsInVuZGVmaW5lZCIsInRvZ2dsZUdyb3VwIiwidXNlQ2FsbGJhY2siLCJncm91cElkIiwicHJldiIsIm5leHQiLCJoYXMiLCJkZWxldGUiLCJhZGQiLCJpc0FjdGl2ZSIsInN0YXJ0c1dpdGgiLCJpc0dyb3VwQWN0aXZlIiwiZ3JvdXAiLCJzb21lIiwiaXRlbSIsImhhbmRsZUtleURvd24iLCJwcmV2ZW50RGVmYXVsdCIsIm5hdiIsImNsYXNzTmFtZSIsImFyaWEtbGFiZWwiLCJtYXAiLCJhY3RpdmUiLCJkaXYiLCJidXR0b24iLCJvbkNsaWNrIiwidGl0bGUiLCJzcGFuIiwiYXJpYS1oaWRkZW4iLCJpc0V4cGFuZGVkIiwib25LZXlEb3duIiwiYXJpYS1leHBhbmRlZCIsInJvbGUiLCJpdGVtQWN0aXZlIiwibGlua1Byb3BzIiwidGFyZ2V0IiwicmVsIiwiTGluayIsImFyaWEtY3VycmVudCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQXlDZ0JBOzs7ZUFBQUE7Ozs7dUJBdkNpQzs2REFDaEM7NEJBQ1c7Ozs7OztBQXdCNUIsTUFBTUMsY0FBYztBQWFiLFNBQVNELGtCQUFrQixFQUNoQ0UscUJBQXFCLENBQUMsRUFDdEJDLGNBQWMsS0FBSyxFQUNuQkMsVUFBVSxFQUNhO0lBQ3ZCLE1BQU1DLFdBQVdDLElBQUFBLHVCQUFXO0lBQzVCLE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR0MsSUFBQUEsZUFBUSxFQUFjLElBQUlDO0lBQ3RFLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdILElBQUFBLGVBQVEsRUFBQ1A7SUFFakQseUNBQXlDO0lBQ3pDVyxJQUFBQSxnQkFBUyxFQUFDO1FBQ1IsSUFBSTtZQUNGLE1BQU1DLFNBQVNDLGFBQWFDLE9BQU8sQ0FBQ2Y7WUFDcEMsSUFBSWEsUUFBUTtnQkFDVixNQUFNRyxTQUFTQyxLQUFLQyxLQUFLLENBQUNMO2dCQUMxQk4sa0JBQWtCLElBQUlFLElBQUlPO1lBQzVCLE9BQU87Z0JBQ0wsNkJBQTZCO2dC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