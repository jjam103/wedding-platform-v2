787205087602b49e322a8b9e53f404fb
"use strict";

/* istanbul ignore next */
function cov_wexyv07j() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts";
  var hash = "9af93d23c015cb2f60bf3776fe09e402c846c727";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 27
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 30
        }
      },
      "6": {
        start: {
          line: 19,
          column: 25
        },
        end: {
          line: 19,
          column: 62
        }
      },
      "7": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 20
        }
      },
      "8": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 26,
          column: 5
        }
      },
      "9": {
        start: {
          line: 24,
          column: 29
        },
        end: {
          line: 24,
          column: 55
        }
      },
      "10": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 29
        }
      },
      "11": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 21
        }
      },
      "12": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 87,
          column: 5
        }
      },
      "13": {
        start: {
          line: 31,
          column: 25
        },
        end: {
          line: 31,
          column: 38
        }
      },
      "14": {
        start: {
          line: 32,
          column: 32
        },
        end: {
          line: 32,
          column: 91
        }
      },
      "15": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 74,
          column: 9
        }
      },
      "16": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 65,
          column: 13
        }
      },
      "17": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 64,
          column: 18
        }
      },
      "18": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 73,
          column: 14
        }
      },
      "19": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 78,
          column: 10
        }
      },
      "20": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 86,
          column: 10
        }
      },
      "21": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 148,
          column: 5
        }
      },
      "22": {
        start: {
          line: 92,
          column: 27
        },
        end: {
          line: 92,
          column: 86
        }
      },
      "23": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "24": {
        start: {
          line: 94,
          column: 12
        },
        end: {
          line: 101,
          column: 14
        }
      },
      "25": {
        start: {
          line: 104,
          column: 25
        },
        end: {
          line: 104,
          column: 38
        }
      },
      "26": {
        start: {
          line: 105,
          column: 35
        },
        end: {
          line: 105,
          column: 95
        }
      },
      "27": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 135,
          column: 9
        }
      },
      "28": {
        start: {
          line: 109,
          column: 45
        },
        end: {
          line: 109,
          column: 147
        }
      },
      "29": {
        start: {
          line: 110,
          column: 12
        },
        end: {
          line: 119,
          column: 13
        }
      },
      "30": {
        start: {
          line: 111,
          column: 16
        },
        end: {
          line: 118,
          column: 18
        }
      },
      "31": {
        start: {
          line: 120,
          column: 12
        },
        end: {
          line: 120,
          column: 29
        }
      },
      "32": {
        start: {
          line: 123,
          column: 45
        },
        end: {
          line: 123,
          column: 125
        }
      },
      "33": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 133,
          column: 13
        }
      },
      "34": {
        start: {
          line: 125,
          column: 16
        },
        end: {
          line: 132,
          column: 18
        }
      },
      "35": {
        start: {
          line: 134,
          column: 12
        },
        end: {
          line: 134,
          column: 29
        }
      },
      "36": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 139,
          column: 10
        }
      },
      "37": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 147,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 23
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 26
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "getSupabase",
        decl: {
          start: {
            line: 22,
            column: 9
          },
          end: {
            line: 22,
            column: 20
          }
        },
        loc: {
          start: {
            line: 22,
            column: 23
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 22
      },
      "4": {
        name: "getSettings",
        decl: {
          start: {
            line: 29,
            column: 15
          },
          end: {
            line: 29,
            column: 26
          }
        },
        loc: {
          start: {
            line: 29,
            column: 29
          },
          end: {
            line: 88,
            column: 1
          }
        },
        line: 29
      },
      "5": {
        name: "updateSettings",
        decl: {
          start: {
            line: 89,
            column: 15
          },
          end: {
            line: 89,
            column: 29
          }
        },
        loc: {
          start: {
            line: 89,
            column: 36
          },
          end: {
            line: 149,
            column: 1
          }
        },
        line: 89
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "1": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 33
      },
      "2": {
        loc: {
          start: {
            line: 34,
            column: 12
          },
          end: {
            line: 65,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 12
          },
          end: {
            line: 65,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "3": {
        loc: {
          start: {
            line: 84,
            column: 25
          },
          end: {
            line: 84,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 84,
            column: 50
          },
          end: {
            line: 84,
            column: 63
          }
        }, {
          start: {
            line: 84,
            column: 66
          },
          end: {
            line: 84,
            column: 81
          }
        }],
        line: 84
      },
      "4": {
        loc: {
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 93
      },
      "5": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 135,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 135,
            column: 9
          }
        }, {
          start: {
            line: 121,
            column: 15
          },
          end: {
            line: 135,
            column: 9
          }
        }],
        line: 107
      },
      "6": {
        loc: {
          start: {
            line: 110,
            column: 12
          },
          end: {
            line: 119,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 110,
            column: 12
          },
          end: {
            line: 119,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 110
      },
      "7": {
        loc: {
          start: {
            line: 124,
            column: 12
          },
          end: {
            line: 133,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 124,
            column: 12
          },
          end: {
            line: 133,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 124
      },
      "8": {
        loc: {
          start: {
            line: 145,
            column: 25
          },
          end: {
            line: 145,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 145,
            column: 50
          },
          end: {
            line: 145,
            column: 63
          }
        }, {
          start: {
            line: 145,
            column: 66
          },
          end: {
            line: 145,
            column: 81
          }
        }],
        line: 145
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/settingsService.ts"],
      sourcesContent: ["import {\n  systemSettingsSchema,\n  updateSystemSettingsSchema,\n  type SystemSettings,\n  type UpdateSystemSettingsDTO,\n} from '../schemas/settingsSchemas';\n\ntype Result<T> =\n  | { success: true; data: T }\n  | { success: false; error: { code: string; message: string; details?: any } };\n\n// Lazy load supabase to avoid initialization issues in tests\nlet _supabase: any = null;\nfunction getSupabase() {\n  if (!_supabase) {\n    const { supabase } = require('../lib/supabase');\n    _supabase = supabase;\n  }\n  return _supabase;\n}\n\n/**\n * Gets system settings\n * \n * @returns Result containing system settings or error details\n * \n * @example\n * const result = await settingsService.getSettings();\n * if (result.success) {\n *   console.log(result.data.wedding_date);\n * }\n */\nexport async function getSettings(): Promise<Result<SystemSettings>> {\n  try {\n    const supabase = getSupabase();\n    const { data, error } = await supabase\n      .from('system_settings')\n      .select('*')\n      .single();\n\n    if (error) {\n      if (error.code === 'PGRST116') {\n        // No settings found, return default settings\n        return {\n          success: true,\n          data: {\n            id: '',\n            wedding_date: null,\n            venue_name: null,\n            couple_name_1: null,\n            couple_name_2: null,\n            timezone: 'America/Costa_Rica',\n            send_rsvp_confirmations: true,\n            send_activity_reminders: true,\n            send_deadline_reminders: true,\n            reminder_days_before: 7,\n            require_photo_moderation: true,\n            max_photos_per_guest: 20,\n            allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n            home_page_title: null,\n            home_page_subtitle: null,\n            home_page_welcome_message: null,\n            home_page_hero_image_url: null,\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n          },\n        };\n      }\n\n      return {\n        success: false,\n        error: {\n          code: 'DATABASE_ERROR',\n          message: error.message,\n          details: error,\n        },\n      };\n    }\n\n    return { success: true, data };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Updates system settings\n * \n * @param data - Settings data to update\n * @returns Result containing the updated settings or error details\n * \n * @example\n * const result = await settingsService.updateSettings({\n *   wedding_date: '2024-06-15T00:00:00Z',\n *   venue_name: 'Dreams Las Mareas',\n *   couple_name_1: 'John',\n *   couple_name_2: 'Jane',\n * });\n */\nexport async function updateSettings(data: UpdateSystemSettingsDTO): Promise<Result<SystemSettings>> {\n  try {\n    // 1. Validate\n    const validation = updateSystemSettingsSchema.safeParse(data);\n    if (!validation.success) {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: 'Validation failed',\n          details: validation.error.issues,\n        },\n      };\n    }\n\n    // 2. Check if settings exist\n    const supabase = getSupabase();\n    const { data: existing } = await supabase\n      .from('system_settings')\n      .select('id')\n      .single();\n\n    let result;\n    if (existing) {\n      // Update existing settings\n      const { data: updated, error } = await supabase\n        .from('system_settings')\n        .update(validation.data)\n        .eq('id', existing.id)\n        .select()\n        .single();\n\n      if (error) {\n        return {\n          success: false,\n          error: {\n            code: 'DATABASE_ERROR',\n            message: error.message,\n            details: error,\n          },\n        };\n      }\n\n      result = updated;\n    } else {\n      // Create new settings\n      const { data: created, error } = await supabase\n        .from('system_settings')\n        .insert(validation.data)\n        .select()\n        .single();\n\n      if (error) {\n        return {\n          success: false,\n          error: {\n            code: 'DATABASE_ERROR',\n            message: error.message,\n            details: error,\n          },\n        };\n      }\n\n      result = created;\n    }\n\n    return { success: true, data: result };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'UNKNOWN_ERROR',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n"],
      names: ["getSettings", "updateSettings", "_supabase", "getSupabase", "supabase", "require", "data", "error", "from", "select", "single", "code", "success", "id", "wedding_date", "venue_name", "couple_name_1", "couple_name_2", "timezone", "send_rsvp_confirmations", "send_activity_reminders", "send_deadline_reminders", "reminder_days_before", "require_photo_moderation", "max_photos_per_guest", "allowed_photo_formats", "home_page_title", "home_page_subtitle", "home_page_welcome_message", "home_page_hero_image_url", "created_at", "Date", "toISOString", "updated_at", "message", "details", "Error", "validation", "updateSystemSettingsSchema", "safeParse", "issues", "existing", "result", "updated", "update", "eq", "created", "insert"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9af93d23c015cb2f60bf3776fe09e402c846c727"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_wexyv07j = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_wexyv07j();
cov_wexyv07j().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_wexyv07j().f[0]++;
  cov_wexyv07j().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_wexyv07j().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_wexyv07j().s[3]++;
_export(exports, {
  get getSettings() {
    /* istanbul ignore next */
    cov_wexyv07j().f[1]++;
    cov_wexyv07j().s[4]++;
    return getSettings;
  },
  get updateSettings() {
    /* istanbul ignore next */
    cov_wexyv07j().f[2]++;
    cov_wexyv07j().s[5]++;
    return updateSettings;
  }
});
const _settingsSchemas =
/* istanbul ignore next */
(cov_wexyv07j().s[6]++, require("../schemas/settingsSchemas"));
// Lazy load supabase to avoid initialization issues in tests
let _supabase =
/* istanbul ignore next */
(cov_wexyv07j().s[7]++, null);
function getSupabase() {
  /* istanbul ignore next */
  cov_wexyv07j().f[3]++;
  cov_wexyv07j().s[8]++;
  if (!_supabase) {
    /* istanbul ignore next */
    cov_wexyv07j().b[0][0]++;
    const {
      supabase
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[9]++, require('../lib/supabase'));
    /* istanbul ignore next */
    cov_wexyv07j().s[10]++;
    _supabase = supabase;
  } else
  /* istanbul ignore next */
  {
    cov_wexyv07j().b[0][1]++;
  }
  cov_wexyv07j().s[11]++;
  return _supabase;
}
async function getSettings() {
  /* istanbul ignore next */
  cov_wexyv07j().f[4]++;
  cov_wexyv07j().s[12]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[13]++, getSupabase());
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[14]++, await supabase.from('system_settings').select('*').single());
    /* istanbul ignore next */
    cov_wexyv07j().s[15]++;
    if (error) {
      /* istanbul ignore next */
      cov_wexyv07j().b[1][0]++;
      cov_wexyv07j().s[16]++;
      if (error.code === 'PGRST116') {
        /* istanbul ignore next */
        cov_wexyv07j().b[2][0]++;
        cov_wexyv07j().s[17]++;
        // No settings found, return default settings
        return {
          success: true,
          data: {
            id: '',
            wedding_date: null,
            venue_name: null,
            couple_name_1: null,
            couple_name_2: null,
            timezone: 'America/Costa_Rica',
            send_rsvp_confirmations: true,
            send_activity_reminders: true,
            send_deadline_reminders: true,
            reminder_days_before: 7,
            require_photo_moderation: true,
            max_photos_per_guest: 20,
            allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],
            home_page_title: null,
            home_page_subtitle: null,
            home_page_welcome_message: null,
            home_page_hero_image_url: null,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[2][1]++;
      }
      cov_wexyv07j().s[18]++;
      return {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[1][1]++;
    }
    cov_wexyv07j().s[19]++;
    return {
      success: true,
      data
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[20]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[3][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[3][1]++, 'Unknown error')
      }
    };
  }
}
async function updateSettings(data) {
  /* istanbul ignore next */
  cov_wexyv07j().f[5]++;
  cov_wexyv07j().s[21]++;
  try {
    // 1. Validate
    const validation =
    /* istanbul ignore next */
    (cov_wexyv07j().s[22]++, _settingsSchemas.updateSystemSettingsSchema.safeParse(data));
    /* istanbul ignore next */
    cov_wexyv07j().s[23]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_wexyv07j().b[4][0]++;
      cov_wexyv07j().s[24]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Validation failed',
          details: validation.error.issues
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_wexyv07j().b[4][1]++;
    }
    // 2. Check if settings exist
    const supabase =
    /* istanbul ignore next */
    (cov_wexyv07j().s[25]++, getSupabase());
    const {
      data: existing
    } =
    /* istanbul ignore next */
    (cov_wexyv07j().s[26]++, await supabase.from('system_settings').select('id').single());
    let result;
    /* istanbul ignore next */
    cov_wexyv07j().s[27]++;
    if (existing) {
      /* istanbul ignore next */
      cov_wexyv07j().b[5][0]++;
      // Update existing settings
      const {
        data: updated,
        error
      } =
      /* istanbul ignore next */
      (cov_wexyv07j().s[28]++, await supabase.from('system_settings').update(validation.data).eq('id', existing.id).select().single());
      /* istanbul ignore next */
      cov_wexyv07j().s[29]++;
      if (error) {
        /* istanbul ignore next */
        cov_wexyv07j().b[6][0]++;
        cov_wexyv07j().s[30]++;
        return {
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: error.message,
            details: error
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[6][1]++;
      }
      cov_wexyv07j().s[31]++;
      result = updated;
    } else {
      /* istanbul ignore next */
      cov_wexyv07j().b[5][1]++;
      // Create new settings
      const {
        data: created,
        error
      } =
      /* istanbul ignore next */
      (cov_wexyv07j().s[32]++, await supabase.from('system_settings').insert(validation.data).select().single());
      /* istanbul ignore next */
      cov_wexyv07j().s[33]++;
      if (error) {
        /* istanbul ignore next */
        cov_wexyv07j().b[7][0]++;
        cov_wexyv07j().s[34]++;
        return {
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: error.message,
            details: error
          }
        };
      } else
      /* istanbul ignore next */
      {
        cov_wexyv07j().b[7][1]++;
      }
      cov_wexyv07j().s[35]++;
      result = created;
    }
    /* istanbul ignore next */
    cov_wexyv07j().s[36]++;
    return {
      success: true,
      data: result
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_wexyv07j().s[37]++;
    return {
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_wexyv07j().b[8][0]++, error.message) :
        /* istanbul ignore next */
        (cov_wexyv07j().b[8][1]++, 'Unknown error')
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRTZXR0aW5ncyIsImNvdl93ZXh5djA3aiIsImYiLCJzIiwidXBkYXRlU2V0dGluZ3MiLCJfc3VwYWJhc2UiLCJnZXRTdXBhYmFzZSIsImIiLCJzdXBhYmFzZSIsInJlcXVpcmUiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwic2luZ2xlIiwiY29kZSIsInN1Y2Nlc3MiLCJpZCIsIndlZGRpbmdfZGF0ZSIsInZlbnVlX25hbWUiLCJjb3VwbGVfbmFtZV8xIiwiY291cGxlX25hbWVfMiIsInRpbWV6b25lIiwic2VuZF9yc3ZwX2NvbmZpcm1hdGlvbnMiLCJzZW5kX2FjdGl2aXR5X3JlbWluZGVycyIsInNlbmRfZGVhZGxpbmVfcmVtaW5kZXJzIiwicmVtaW5kZXJfZGF5c19iZWZvcmUiLCJyZXF1aXJlX3Bob3RvX21vZGVyYXRpb24iLCJtYXhfcGhvdG9zX3Blcl9ndWVzdCIsImFsbG93ZWRfcGhvdG9fZm9ybWF0cyIsImhvbWVfcGFnZV90aXRsZSIsImhvbWVfcGFnZV9zdWJ0aXRsZSIsImhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2UiLCJob21lX3BhZ2VfaGVyb19pbWFnZV91cmwiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwiRXJyb3IiLCJ2YWxpZGF0aW9uIiwiX3NldHRpbmdzU2NoZW1hcyIsInVwZGF0ZVN5c3RlbVNldHRpbmdzU2NoZW1hIiwic2FmZVBhcnNlIiwiaXNzdWVzIiwiZXhpc3RpbmciLCJyZXN1bHQiLCJ1cGRhdGVkIiwidXBkYXRlIiwiZXEiLCJjcmVhdGVkIiwiaW5zZXJ0Il0sInNvdXJjZXMiOlsiL1VzZXJzL2phcm9uL0Rlc2t0b3Avd2VkZGluZy1wbGF0Zm9ybS12Mi9zZXJ2aWNlcy9zZXR0aW5nc1NlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc3lzdGVtU2V0dGluZ3NTY2hlbWEsXG4gIHVwZGF0ZVN5c3RlbVNldHRpbmdzU2NoZW1hLFxuICB0eXBlIFN5c3RlbVNldHRpbmdzLFxuICB0eXBlIFVwZGF0ZVN5c3RlbVNldHRpbmdzRFRPLFxufSBmcm9tICcuLi9zY2hlbWFzL3NldHRpbmdzU2NoZW1hcyc7XG5cbnR5cGUgUmVzdWx0PFQ+ID1cbiAgfCB7IHN1Y2Nlc3M6IHRydWU7IGRhdGE6IFQgfVxuICB8IHsgc3VjY2VzczogZmFsc2U7IGVycm9yOiB7IGNvZGU6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyBkZXRhaWxzPzogYW55IH0gfTtcblxuLy8gTGF6eSBsb2FkIHN1cGFiYXNlIHRvIGF2b2lkIGluaXRpYWxpemF0aW9uIGlzc3VlcyBpbiB0ZXN0c1xubGV0IF9zdXBhYmFzZTogYW55ID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN1cGFiYXNlKCkge1xuICBpZiAoIV9zdXBhYmFzZSkge1xuICAgIGNvbnN0IHsgc3VwYWJhc2UgfSA9IHJlcXVpcmUoJy4uL2xpYi9zdXBhYmFzZScpO1xuICAgIF9zdXBhYmFzZSA9IHN1cGFiYXNlO1xuICB9XG4gIHJldHVybiBfc3VwYWJhc2U7XG59XG5cbi8qKlxuICogR2V0cyBzeXN0ZW0gc2V0dGluZ3NcbiAqIFxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgc3lzdGVtIHNldHRpbmdzIG9yIGVycm9yIGRldGFpbHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNldHRpbmdzU2VydmljZS5nZXRTZXR0aW5ncygpO1xuICogaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gKiAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLndlZGRpbmdfZGF0ZSk7XG4gKiB9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXR0aW5ncygpOiBQcm9taXNlPFJlc3VsdDxTeXN0ZW1TZXR0aW5ncz4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlKCk7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzeXN0ZW1fc2V0dGluZ3MnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgIC8vIE5vIHNldHRpbmdzIGZvdW5kLCByZXR1cm4gZGVmYXVsdCBzZXR0aW5nc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaWQ6ICcnLFxuICAgICAgICAgICAgd2VkZGluZ19kYXRlOiBudWxsLFxuICAgICAgICAgICAgdmVudWVfbmFtZTogbnVsbCxcbiAgICAgICAgICAgIGNvdXBsZV9uYW1lXzE6IG51bGwsXG4gICAgICAgICAgICBjb3VwbGVfbmFtZV8yOiBudWxsLFxuICAgICAgICAgICAgdGltZXpvbmU6ICdBbWVyaWNhL0Nvc3RhX1JpY2EnLFxuICAgICAgICAgICAgc2VuZF9yc3ZwX2NvbmZpcm1hdGlvbnM6IHRydWUsXG4gICAgICAgICAgICBzZW5kX2FjdGl2aXR5X3JlbWluZGVyczogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmRfZGVhZGxpbmVfcmVtaW5kZXJzOiB0cnVlLFxuICAgICAgICAgICAgcmVtaW5kZXJfZGF5c19iZWZvcmU6IDcsXG4gICAgICAgICAgICByZXF1aXJlX3Bob3RvX21vZGVyYXRpb246IHRydWUsXG4gICAgICAgICAgICBtYXhfcGhvdG9zX3Blcl9ndWVzdDogMjAsXG4gICAgICAgICAgICBhbGxvd2VkX3Bob3RvX2Zvcm1hdHM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2hlaWMnXSxcbiAgICAgICAgICAgIGhvbWVfcGFnZV90aXRsZTogbnVsbCxcbiAgICAgICAgICAgIGhvbWVfcGFnZV9zdWJ0aXRsZTogbnVsbCxcbiAgICAgICAgICAgIGhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2U6IG51bGwsXG4gICAgICAgICAgICBob21lX3BhZ2VfaGVyb19pbWFnZV91cmw6IG51bGwsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZXMgc3lzdGVtIHNldHRpbmdzXG4gKiBcbiAqIEBwYXJhbSBkYXRhIC0gU2V0dGluZ3MgZGF0YSB0byB1cGRhdGVcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHRoZSB1cGRhdGVkIHNldHRpbmdzIG9yIGVycm9yIGRldGFpbHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNldHRpbmdzU2VydmljZS51cGRhdGVTZXR0aW5ncyh7XG4gKiAgIHdlZGRpbmdfZGF0ZTogJzIwMjQtMDYtMTVUMDA6MDA6MDBaJyxcbiAqICAgdmVudWVfbmFtZTogJ0RyZWFtcyBMYXMgTWFyZWFzJyxcbiAqICAgY291cGxlX25hbWVfMTogJ0pvaG4nLFxuICogICBjb3VwbGVfbmFtZV8yOiAnSmFuZScsXG4gKiB9KTtcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmdzKGRhdGE6IFVwZGF0ZVN5c3RlbVNldHRpbmdzRFRPKTogUHJvbWlzZTxSZXN1bHQ8U3lzdGVtU2V0dGluZ3M+PiB7XG4gIHRyeSB7XG4gICAgLy8gMS4gVmFsaWRhdGVcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdXBkYXRlU3lzdGVtU2V0dGluZ3NTY2hlbWEuc2FmZVBhcnNlKGRhdGEpO1xuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9yLmlzc3VlcyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gMi4gQ2hlY2sgaWYgc2V0dGluZ3MgZXhpc3RcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlKCk7XG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdzeXN0ZW1fc2V0dGluZ3MnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBzZXR0aW5nc1xuICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAgIC51cGRhdGUodmFsaWRhdGlvbi5kYXRhKVxuICAgICAgICAuZXEoJ2lkJywgZXhpc3RpbmcuaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IHVwZGF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgc2V0dGluZ3NcbiAgICAgIGNvbnN0IHsgZGF0YTogY3JlYXRlZCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzeXN0ZW1fc2V0dGluZ3MnKVxuICAgICAgICAuaW5zZXJ0KHZhbGlkYXRpb24uZGF0YSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gY3JlYXRlZDtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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