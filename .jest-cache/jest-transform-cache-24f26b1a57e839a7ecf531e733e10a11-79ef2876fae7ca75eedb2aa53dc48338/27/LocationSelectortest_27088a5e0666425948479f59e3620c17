5db9176a67f22db164ce3c6ae7cb1ef9
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _LocationSelector = require("./LocationSelector");
// Mock fetch
global.fetch = jest.fn();
describe('LocationSelector', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    const mockLocations = [
        {
            id: 'loc-1',
            name: 'Costa Rica',
            parentLocationId: null,
            address: null,
            coordinates: null,
            description: null,
            createdAt: '2025-01-01T00:00:00Z',
            children: [
                {
                    id: 'loc-2',
                    name: 'Guanacaste',
                    parentLocationId: 'loc-1',
                    address: null,
                    coordinates: null,
                    description: null,
                    createdAt: '2025-01-01T00:00:00Z',
                    children: [
                        {
                            id: 'loc-3',
                            name: 'Tamarindo',
                            parentLocationId: 'loc-2',
                            address: null,
                            coordinates: null,
                            description: null,
                            createdAt: '2025-01-01T00:00:00Z',
                            children: []
                        }
                    ]
                }
            ]
        }
    ];
    describe('Hierarchy Display', ()=>{
        it('should display location hierarchy with arrows', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
                expect(_react.screen.getByText('Costa Rica → Guanacaste')).toBeInTheDocument();
                expect(_react.screen.getByText('Costa Rica → Guanacaste → Tamarindo')).toBeInTheDocument();
            });
        });
        it('should show selected location path', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: "loc-3",
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica → Guanacaste → Tamarindo')).toBeInTheDocument();
            });
        });
        it('should display placeholder when no selection', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange,
                placeholder: "Choose location"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Choose location')).toBeInTheDocument();
            });
        });
    });
    describe('Search Functionality', ()=>{
        it('should filter locations by search query', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Search for Tamarindo
            const searchInput = _react.screen.getByPlaceholderText('Search locations...');
            _react.fireEvent.change(searchInput, {
                target: {
                    value: 'Tamarindo'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica → Guanacaste → Tamarindo')).toBeInTheDocument();
                expect(_react.screen.queryByText(/^Costa Rica$/)).not.toBeInTheDocument();
            });
        });
        it('should show no results when search has no matches', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Search for non-existent location
            const searchInput = _react.screen.getByPlaceholderText('Search locations...');
            _react.fireEvent.change(searchInput, {
                target: {
                    value: 'NonExistent'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No locations found')).toBeInTheDocument();
            });
        });
        it('should clear search when selection made', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Search
            const searchInput = _react.screen.getByPlaceholderText('Search locations...');
            _react.fireEvent.change(searchInput, {
                target: {
                    value: 'Tamarindo'
                }
            });
            // Select location
            _react.fireEvent.click(_react.screen.getByText('Costa Rica → Guanacaste → Tamarindo'));
            expect(onChange).toHaveBeenCalledWith('loc-3');
        });
    });
    describe('Selection Handling', ()=>{
        it('should call onChange when location selected', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Select location
            _react.fireEvent.click(_react.screen.getByText('Costa Rica'));
            expect(onChange).toHaveBeenCalledWith('loc-1');
        });
        it('should close dropdown after selection', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Select location
            _react.fireEvent.click(_react.screen.getByText('Costa Rica'));
            // Dropdown should close
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByPlaceholderText('Search locations...')).not.toBeInTheDocument();
            });
        });
        it('should allow selecting None when not required', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: "loc-1",
                onChange: onChange,
                required: false
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Costa Rica'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('None')).toBeInTheDocument();
            });
            // Select None
            _react.fireEvent.click(_react.screen.getByText('None'));
            expect(onChange).toHaveBeenCalledWith(null);
        });
        it('should not show None option when required', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange,
                required: true
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            expect(_react.screen.queryByText('None')).not.toBeInTheDocument();
        });
    });
    describe('Exclude Location', ()=>{
        it('should exclude specified location and its descendants', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange,
                excludeId: "loc-2"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Guanacaste and its children should not be visible
            expect(_react.screen.queryByText(/Guanacaste/)).not.toBeInTheDocument();
            expect(_react.screen.queryByText(/Tamarindo/)).not.toBeInTheDocument();
        });
    });
    describe('Loading State', ()=>{
        it('should show loading state initially', ()=>{
            global.fetch.mockImplementationOnce(()=>new Promise(()=>{}) // Never resolves
            );
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            expect(_react.screen.getByText('Loading...')).toBeInTheDocument();
        });
    });
    describe('Dropdown Behavior', ()=>{
        it('should close dropdown when clicking outside', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            // Open dropdown
            _react.fireEvent.click(_react.screen.getByText('Select a location'));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Click backdrop
            const backdrop = document.querySelector('.fixed.inset-0');
            if (backdrop) {
                _react.fireEvent.click(backdrop);
            }
            // Dropdown should close
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByPlaceholderText('Search locations...')).not.toBeInTheDocument();
            });
        });
        it('should toggle dropdown on button click', async ()=>{
            global.fetch.mockResolvedValueOnce({
                json: async ()=>({
                        success: true,
                        data: mockLocations
                    })
            });
            const onChange = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                value: null,
                onChange: onChange
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Select a location')).toBeInTheDocument();
            });
            const button = _react.screen.getByText('Select a location');
            // Open
            _react.fireEvent.click(button);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Costa Rica')).toBeInTheDocument();
            });
            // Close
            _react.fireEvent.click(button);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Costa Rica')).not.toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Mb2NhdGlvblNlbGVjdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IExvY2F0aW9uU2VsZWN0b3IgfSBmcm9tICcuL0xvY2F0aW9uU2VsZWN0b3InO1xuXG4vLyBNb2NrIGZldGNoXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbmRlc2NyaWJlKCdMb2NhdGlvblNlbGVjdG9yJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgY29uc3QgbW9ja0xvY2F0aW9ucyA9IFtcbiAgICB7XG4gICAgICBpZDogJ2xvYy0xJyxcbiAgICAgIG5hbWU6ICdDb3N0YSBSaWNhJyxcbiAgICAgIHBhcmVudExvY2F0aW9uSWQ6IG51bGwsXG4gICAgICBhZGRyZXNzOiBudWxsLFxuICAgICAgY29vcmRpbmF0ZXM6IG51bGwsXG4gICAgICBkZXNjcmlwdGlvbjogbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2xvYy0yJyxcbiAgICAgICAgICBuYW1lOiAnR3VhbmFjYXN0ZScsXG4gICAgICAgICAgcGFyZW50TG9jYXRpb25JZDogJ2xvYy0xJyxcbiAgICAgICAgICBhZGRyZXNzOiBudWxsLFxuICAgICAgICAgIGNvb3JkaW5hdGVzOiBudWxsLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2xvYy0zJyxcbiAgICAgICAgICAgICAgbmFtZTogJ1RhbWFyaW5kbycsXG4gICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uSWQ6ICdsb2MtMicsXG4gICAgICAgICAgICAgIGFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBudWxsLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF07XG5cbiAgZGVzY3JpYmUoJ0hpZXJhcmNoeSBEaXNwbGF5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBsb2NhdGlvbiBoaWVyYXJjaHkgd2l0aCBhcnJvd3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0xvY2F0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvbkNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICAgIHJlbmRlcig8TG9jYXRpb25TZWxlY3RvciB2YWx1ZT17bnVsbH0gb25DaGFuZ2U9e29uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGRyb3Bkb3duXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYSDihpIgR3VhbmFjYXN0ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3QoXG4gICAgICAgICAgc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYSDihpIgR3VhbmFjYXN0ZSDihpIgVGFtYXJpbmRvJylcbiAgICAgICAgKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgc2VsZWN0ZWQgbG9jYXRpb24gcGF0aCcsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrTG9jYXRpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxMb2NhdGlvblNlbGVjdG9yIHZhbHVlPVwibG9jLTNcIiBvbkNoYW5nZT17b25DaGFuZ2V9IC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChcbiAgICAgICAgICBzY3JlZW4uZ2V0QnlUZXh0KCdDb3N0YSBSaWNhIOKGkiBHdWFuYWNhc3RlIOKGkiBUYW1hcmluZG8nKVxuICAgICAgICApLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBwbGFjZWhvbGRlciB3aGVuIG5vIHNlbGVjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrTG9jYXRpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8TG9jYXRpb25TZWxlY3RvclxuICAgICAgICAgIHZhbHVlPXtudWxsfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNob29zZSBsb2NhdGlvblwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nob29zZSBsb2NhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWFyY2ggRnVuY3Rpb25hbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZpbHRlciBsb2NhdGlvbnMgYnkgc2VhcmNoIHF1ZXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3BlbiBkcm9wZG93blxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWFyY2ggZm9yIFRhbWFyaW5kb1xuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ1NlYXJjaCBsb2NhdGlvbnMuLi4nKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2VhcmNoSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVGFtYXJpbmRvJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KFxuICAgICAgICAgIHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2Eg4oaSIEd1YW5hY2FzdGUg4oaSIFRhbWFyaW5kbycpXG4gICAgICAgICkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvXkNvc3RhIFJpY2EkLykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgbm8gcmVzdWx0cyB3aGVuIHNlYXJjaCBoYXMgbm8gbWF0Y2hlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrTG9jYXRpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxMb2NhdGlvblNlbGVjdG9yIHZhbHVlPXtudWxsfSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgYSBsb2NhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgYSBsb2NhdGlvbicpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb3N0YSBSaWNhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2VhcmNoIGZvciBub24tZXhpc3RlbnQgbG9jYXRpb25cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdTZWFyY2ggbG9jYXRpb25zLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ05vbkV4aXN0ZW50JyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIGxvY2F0aW9ucyBmb3VuZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIHNlYXJjaCB3aGVuIHNlbGVjdGlvbiBtYWRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3BlbiBkcm9wZG93blxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWFyY2hcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdTZWFyY2ggbG9jYXRpb25zLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1RhbWFyaW5kbycgfSB9KTtcblxuICAgICAgLy8gU2VsZWN0IGxvY2F0aW9uXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYSDihpIgR3VhbmFjYXN0ZSDihpIgVGFtYXJpbmRvJykpO1xuXG4gICAgICBleHBlY3Qob25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsb2MtMycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VsZWN0aW9uIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCBvbkNoYW5nZSB3aGVuIGxvY2F0aW9uIHNlbGVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3BlbiBkcm9wZG93blxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWxlY3QgbG9jYXRpb25cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdDb3N0YSBSaWNhJykpO1xuXG4gICAgICBleHBlY3Qob25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdsb2MtMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSBkcm9wZG93biBhZnRlciBzZWxlY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0xvY2F0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvbkNoYW5nZSA9IGplc3QuZm4oKTtcbiAgICAgIHJlbmRlcig8TG9jYXRpb25TZWxlY3RvciB2YWx1ZT17bnVsbH0gb25DaGFuZ2U9e29uQ2hhbmdlfSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGRyb3Bkb3duXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNlbGVjdCBsb2NhdGlvblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSk7XG5cbiAgICAgIC8vIERyb3Bkb3duIHNob3VsZCBjbG9zZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVBsYWNlaG9sZGVyVGV4dCgnU2VhcmNoIGxvY2F0aW9ucy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBzZWxlY3RpbmcgTm9uZSB3aGVuIG5vdCByZXF1aXJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrTG9jYXRpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxMb2NhdGlvblNlbGVjdG9yIHZhbHVlPVwibG9jLTFcIiBvbkNoYW5nZT17b25DaGFuZ2V9IHJlcXVpcmVkPXtmYWxzZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGRyb3Bkb3duXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYScpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdOb25lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2VsZWN0IE5vbmVcbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdOb25lJykpO1xuXG4gICAgICBleHBlY3Qob25DaGFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG51bGwpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3Qgc2hvdyBOb25lIG9wdGlvbiB3aGVuIHJlcXVpcmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gcmVxdWlyZWQ9e3RydWV9IC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgYSBsb2NhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdTZWxlY3QgYSBsb2NhdGlvbicpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb3N0YSBSaWNhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTm9uZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0V4Y2x1ZGUgTG9jYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBleGNsdWRlIHNwZWNpZmllZCBsb2NhdGlvbiBhbmQgaXRzIGRlc2NlbmRhbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gZXhjbHVkZUlkPVwibG9jLTJcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGRyb3Bkb3duXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29zdGEgUmljYScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEd1YW5hY2FzdGUgYW5kIGl0cyBjaGlsZHJlbiBzaG91bGQgbm90IGJlIHZpc2libGVcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoL0d1YW5hY2FzdGUvKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KC9UYW1hcmluZG8vKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMb2FkaW5nIFN0YXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKFxuICAgICAgICAoKSA9PiBuZXcgUHJvbWlzZSgoKSA9PiB7fSkgLy8gTmV2ZXIgcmVzb2x2ZXNcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG9uQ2hhbmdlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxMb2NhdGlvblNlbGVjdG9yIHZhbHVlPXtudWxsfSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+KTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Ryb3Bkb3duIEJlaGF2aW9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2xvc2UgZHJvcGRvd24gd2hlbiBjbGlja2luZyBvdXRzaWRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3BlbiBkcm9wZG93blxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGljayBiYWNrZHJvcFxuICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQuaW5zZXQtMCcpO1xuICAgICAgaWYgKGJhY2tkcm9wKSB7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrZHJvcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERyb3Bkb3duIHNob3VsZCBjbG9zZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVBsYWNlaG9sZGVyVGV4dCgnU2VhcmNoIGxvY2F0aW9ucy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgZHJvcGRvd24gb24gYnV0dG9uIGNsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tMb2NhdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPExvY2F0aW9uU2VsZWN0b3IgdmFsdWU9e251bGx9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlbGVjdCBhIGxvY2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnU2VsZWN0IGEgbG9jYXRpb24nKTtcblxuICAgICAgLy8gT3BlblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJ1dHRvbik7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nvc3RhIFJpY2EnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbG9zZVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJ1dHRvbik7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQ29zdGEgUmljYScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tMb2NhdGlvbnMiLCJpZCIsIm5hbWUiLCJwYXJlbnRMb2NhdGlvbklkIiwiYWRkcmVzcyIsImNvb3JkaW5hdGVzIiwiZGVzY3JpcHRpb24iLCJjcmVhdGVkQXQiLCJjaGlsZHJlbiIsIml0IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwib25DaGFuZ2UiLCJyZW5kZXIiLCJMb2NhdGlvblNlbGVjdG9yIiwidmFsdWUiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJmaXJlRXZlbnQiLCJjbGljayIsInBsYWNlaG9sZGVyIiwic2VhcmNoSW5wdXQiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsImNoYW5nZSIsInRhcmdldCIsInF1ZXJ5QnlUZXh0Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJxdWVyeUJ5UGxhY2Vob2xkZXJUZXh0IiwicmVxdWlyZWQiLCJleGNsdWRlSWQiLCJtb2NrSW1wbGVtZW50YXRpb25PbmNlIiwiUHJvbWlzZSIsImJhY2tkcm9wIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uIl0sIm1hcHBpbmdzIjoiOzs7Ozt1QkFBbUQ7a0NBQ2xCO0FBRWpDLGFBQWE7QUFDYkEsT0FBT0MsS0FBSyxHQUFHQyxLQUFLQyxFQUFFO0FBRXRCQyxTQUFTLG9CQUFvQjtJQUMzQkMsV0FBVztRQUNUSCxLQUFLSSxhQUFhO0lBQ3BCO0lBRUEsTUFBTUMsZ0JBQWdCO1FBQ3BCO1lBQ0VDLElBQUk7WUFDSkMsTUFBTTtZQUNOQyxrQkFBa0I7WUFDbEJDLFNBQVM7WUFDVEMsYUFBYTtZQUNi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