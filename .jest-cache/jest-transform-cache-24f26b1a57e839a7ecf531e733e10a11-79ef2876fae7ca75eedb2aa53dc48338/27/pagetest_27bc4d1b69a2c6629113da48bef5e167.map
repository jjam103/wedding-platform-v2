{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/transportation/page.test.tsx"],"sourcesContent":["import { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport TransportationPage from './page';\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(),\n  }),\n  usePathname: () => '/admin/transportation',\n}));\n\n// Mock DataTable components\njest.mock('@/components/ui/DataTable', () => ({\n  DataTable: ({ data, columns, loading }: any) => {\n    if (loading) return <div>Loading...</div>;\n    if (data.length === 0) return <div>No items found</div>;\n    return (\n      <div data-testid=\"data-table\">\n        {data.map((item: any, index: number) => (\n          <div key={index} data-testid={`guest-row-${item.id}`}>\n            {columns.map((col: any) => {\n              // For transportation page, render function receives the entire guest object\n              const displayValue = col.render ? col.render(item) : item[col.key];\n              return (\n                <div key={col.key} data-testid={`${col.key}-${item.id}`}>\n                  {displayValue}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  },\n}));\n\njest.mock('@/components/ui/DataTableWithSuspense', () => ({\n  DataTableWithSuspense: ({ data, columns, loading }: any) => {\n    if (loading) return <div>Loading...</div>;\n    if (data.length === 0) return <div>No items found</div>;\n    return (\n      <div data-testid=\"data-table\">\n        {data.map((item: any, index: number) => (\n          <div key={index} data-testid={`guest-row-${item.id}`}>\n            {columns.map((col: any) => {\n              // For transportation page, render function receives the entire guest object\n              const displayValue = col.render ? col.render(item) : item[col.key];\n              return (\n                <div key={col.key} data-testid={`${col.key}-${item.id}`}>\n                  {displayValue}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  },\n}));\n\ndescribe('TransportationPage', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (global.fetch as jest.Mock).mockResolvedValue({\n      json: async () => ({ success: true, data: { guests: [] } }),\n    });\n  });\n\n  describe('Manifest Display', () => {\n    it('should render arrivals tab by default', () => {\n      render(<TransportationPage />);\n      \n      const arrivalsTab = screen.getByRole('button', { name: /arrivals/i });\n      expect(arrivalsTab).toHaveClass('border-b-2');\n    });\n\n    it('should switch to departures tab when clicked', async () => {\n      render(<TransportationPage />);\n      \n      const departuresTab = screen.getByRole('button', { name: /departures/i });\n      fireEvent.click(departuresTab);\n      \n      await waitFor(() => {\n        expect(departuresTab).toHaveClass('border-b-2');\n      });\n    });\n\n    it('should display guests grouped by time windows', async () => {\n      const mockGuests = [\n        {\n          id: 'guest-1',\n          first_name: 'John',\n          last_name: 'Doe',\n          arrival_time: '08:30:00',\n          airport_code: 'SJO',\n          flight_number: 'AA123',\n        },\n        {\n          id: 'guest-2',\n          first_name: 'Jane',\n          last_name: 'Smith',\n          arrival_time: '09:15:00',\n          airport_code: 'SJO',\n          flight_number: 'UA456',\n        },\n      ];\n\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { guests: mockGuests } }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: [] }),\n        });\n\n      render(<TransportationPage />);\n\n      await waitFor(() => {\n        // Check that the time window header is displayed\n        const timeWindowText = screen.queryByText(/08:00 - 10:00/i);\n        expect(timeWindowText).toBeInTheDocument();\n      });\n    });\n\n    it('should display empty state when no guests scheduled', async () => {\n      render(<TransportationPage />);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/no guests scheduled/i)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Filtering', () => {\n    it('should filter by date', async () => {\n      render(<TransportationPage />);\n      \n      const dateInput = screen.getByLabelText(/date/i);\n      fireEvent.change(dateInput, { target: { value: '2025-06-15' } });\n      \n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          expect.stringContaining('date=2025-06-15')\n        );\n      });\n    });\n\n    it('should filter by airport', async () => {\n      render(<TransportationPage />);\n      \n      const airportSelect = screen.getByLabelText(/airport/i);\n      fireEvent.change(airportSelect, { target: { value: 'SJO' } });\n      \n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          expect.stringContaining('airport=SJO')\n        );\n      });\n    });\n\n    it('should not include airport param when \"all\" is selected', async () => {\n      render(<TransportationPage />);\n      \n      const airportSelect = screen.getByLabelText(/airport/i);\n      fireEvent.change(airportSelect, { target: { value: 'all' } });\n      \n      await waitFor(() => {\n        const lastCall = (global.fetch as jest.Mock).mock.calls.slice(-1)[0][0];\n        expect(lastCall).not.toContain('airport=');\n      });\n    });\n  });\n\n  describe('Shuttle Assignment', () => {\n    it('should call assign shuttle API when shuttle input changes', async () => {\n      const mockGuests = [\n        {\n          id: 'guest-1',\n          first_name: 'John',\n          last_name: 'Doe',\n          arrival_time: '08:30:00',\n          airport_code: 'SJO',\n        },\n      ];\n\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { guests: mockGuests } }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: [] }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: undefined }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { guests: mockGuests } }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: [] }),\n        });\n\n      render(<TransportationPage />);\n      \n      await waitFor(() => {\n        const timeWindowText = screen.queryByText(/08:00 - 10:00/i);\n        expect(timeWindowText).toBeInTheDocument();\n      });\n\n      // Find shuttle input and change it\n      const shuttleInputs = screen.queryAllByPlaceholderText(/assign shuttle/i);\n      if (shuttleInputs.length > 0) {\n        fireEvent.change(shuttleInputs[0], { target: { value: 'Van 1' } });\n        \n        await waitFor(() => {\n          expect(global.fetch).toHaveBeenCalledWith(\n            '/api/admin/transportation/assign-shuttle',\n            expect.objectContaining({\n              method: 'POST',\n            })\n          );\n        });\n      }\n    });\n  });\n\n  describe('Vehicle Calculations', () => {\n    it('should calculate and display vehicle requirements', async () => {\n      const mockGuests = Array.from({ length: 20 }, (_, i) => ({\n        id: `guest-${i}`,\n        first_name: `Guest${i}`,\n        last_name: 'Test',\n        arrival_time: '08:30:00',\n        airport_code: 'SJO',\n      }));\n\n      const mockVehicleRequirements = [\n        { vehicle_type: 'van', capacity: 8, quantity_needed: 2, estimated_cost: 160 },\n        { vehicle_type: 'sedan', capacity: 4, quantity_needed: 1, estimated_cost: 50 },\n      ];\n\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { guests: mockGuests } }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: mockVehicleRequirements }),\n        });\n\n      render(<TransportationPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText(/vehicle requirements/i)).toBeInTheDocument();\n      });\n      \n      expect(screen.getByText(/2 × van/i)).toBeInTheDocument();\n      expect(screen.getByText(/1 × sedan/i)).toBeInTheDocument();\n      expect(screen.getByText(/\\$210/i)).toBeInTheDocument(); // Total cost\n    });\n\n    it('should not display vehicle requirements when no guests', async () => {\n      render(<TransportationPage />);\n      \n      await waitFor(() => {\n        expect(screen.queryByText(/vehicle requirements/i)).not.toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Driver Sheets', () => {\n    it('should generate driver sheets', async () => {\n      const mockHTML = '<html><body>Driver Sheet</body></html>';\n      \n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { guests: [] } }),\n        })\n        .mockResolvedValueOnce({\n          json: async () => ({ success: true, data: { html: mockHTML } }),\n        });\n\n      // Mock window.open\n      const mockOpen = jest.fn();\n      global.window.open = mockOpen;\n\n      render(<TransportationPage />);\n      \n      const generateButton = screen.getByRole('button', { name: /generate driver sheets/i });\n      fireEvent.click(generateButton);\n      \n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/transportation/driver-sheets',\n          expect.objectContaining({\n            method: 'POST',\n          })\n        );\n      });\n    });\n  });\n\n  describe('Print Manifest', () => {\n    it('should trigger print when print button clicked', () => {\n      const mockPrint = jest.fn();\n      global.window.print = mockPrint;\n\n      render(<TransportationPage />);\n      \n      const printButton = screen.getByRole('button', { name: /print manifest/i });\n      fireEvent.click(printButton);\n      \n      expect(mockPrint).toHaveBeenCalled();\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should display error message when fetch fails', async () => {\n      (global.fetch as jest.Mock).mockRejectedValueOnce(new Error('Network error'));\n\n      render(<TransportationPage />);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/network error/i)).toBeInTheDocument();\n      });\n    });\n\n    it('should display error when API returns error', async () => {\n      (global.fetch as jest.Mock).mockResolvedValueOnce({\n        json: async () => ({\n          success: false,\n          error: { message: 'Database error' },\n        }),\n      });\n\n      render(<TransportationPage />);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/database error/i)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Loading State', () => {\n    it('should display loading indicator while fetching', async () => {\n      (global.fetch as jest.Mock).mockImplementation(\n        () => new Promise((resolve) => setTimeout(resolve, 100))\n      );\n\n      render(<TransportationPage />);\n      \n      expect(screen.getByText(/loading manifests/i)).toBeInTheDocument();\n    });\n  });\n});\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","useSearchParams","get","usePathname","DataTable","data","columns","loading","div","length","data-testid","map","item","index","id","col","displayValue","render","key","DataTableWithSuspense","global","fetch","describe","beforeEach","clearAllMocks","mockResolvedValue","json","success","guests","it","TransportationPage","arrivalsTab","screen","getByRole","name","expect","toHaveClass","departuresTab","fireEvent","click","waitFor","mockGuests","first_name","last_name","arrival_time","airport_code","flight_number","mockResolvedValueOnce","timeWindowText","queryByText","toBeInTheDocument","getByText","dateInput","getByLabelText","change","target","value","toHaveBeenCalledWith","stringContaining","airportSelect","lastCall","calls","slice","not","toContain","undefined","shuttleInputs","queryAllByPlaceholderText","objectContaining","method","Array","from","_","i","mockVehicleRequirements","vehicle_type","capacity","quantity_needed","estimated_cost","mockHTML","html","mockOpen","window","open","generateButton","mockPrint","print","printButton","toHaveBeenCalled","mockRejectedValueOnce","Error","error","message","mockImplementation","Promise","resolve","setTimeout"],"mappings":"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"}