a732510caa51853d5cde8e8e34a25592
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return LocationManagementPage;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _CollapsibleForm = require("../../../components/admin/CollapsibleForm");
const _locationSchemas = require("../../../schemas/locationSchemas");
function LocationManagementPage({}) {
    const [locations, setLocations] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const [isFormOpen, setIsFormOpen] = (0, _react.useState)(false);
    const [editingLocation, setEditingLocation] = (0, _react.useState)(null);
    const [searchQuery, setSearchQuery] = (0, _react.useState)('');
    const [expandedNodes, setExpandedNodes] = (0, _react.useState)(new Set());
    // Load locations hierarchy
    const loadLocations = (0, _react.useCallback)(async ()=>{
        setLoading(true);
        setError(null);
        try {
            const response = await fetch('/api/admin/locations');
            const result = await response.json();
            if (result.success) {
                setLocations(result.data);
                setError(null);
            } else {
                setError(result.error.message);
                setLocations([]); // Keep locations as empty array on error
            }
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to load locations');
            setLocations([]); // Keep locations as empty array on error
        } finally{
            setLoading(false);
        }
    }, []);
    (0, _react.useEffect)(()=>{
        loadLocations();
    }, [
        loadLocations
    ]);
    // Handle form submission
    const handleSubmit = (0, _react.useCallback)(async (data)=>{
        try {
            const url = editingLocation ? `/api/admin/locations/${editingLocation.id}` : '/api/admin/locations';
            const method = editingLocation ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });
            const result = await response.json();
            if (result.success) {
                await loadLocations();
                setIsFormOpen(false);
                setEditingLocation(null);
                setError(null);
            } else {
                setError(result.error.message);
            }
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to save location');
        }
    }, [
        editingLocation,
        loadLocations
    ]);
    // Handle delete
    const handleDelete = (0, _react.useCallback)(async (id)=>{
        if (!confirm('Are you sure you want to delete this location? Child locations will become orphaned.')) {
            return;
        }
        try {
            const response = await fetch(`/api/admin/locations/${id}`, {
                method: 'DELETE'
            });
            const result = await response.json();
            if (result.success) {
                await loadLocations();
            } else {
                alert(result.error.message);
            }
        } catch (err) {
            alert(err instanceof Error ? err.message : 'Failed to delete location');
        }
    }, [
        loadLocations
    ]);
    // Handle edit
    const handleEdit = (0, _react.useCallback)((location)=>{
        setEditingLocation(location);
        setIsFormOpen(true);
    }, []);
    // Toggle node expansion
    const toggleNode = (0, _react.useCallback)((id)=>{
        setExpandedNodes((prev)=>{
            const next = new Set(prev);
            if (next.has(id)) {
                next.delete(id);
            } else {
                next.add(id);
            }
            return next;
        });
    }, []);
    // Render tree node
    const renderTreeNode = (0, _react.useCallback)((location, level = 0)=>{
        const hasChildren = location.children && location.children.length > 0;
        const isExpanded = expandedNodes.has(location.id);
        const indent = level * 24;
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "border-b border-gray-200",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center py-3 px-4 hover:bg-gray-50",
                    style: {
                        paddingLeft: `${indent + 16}px`
                    },
                    children: [
                        hasChildren && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: ()=>toggleNode(location.id),
                            className: "mr-2 text-gray-500 hover:text-gray-700",
                            "aria-label": isExpanded ? 'Collapse' : 'Expand',
                            children: isExpanded ? '▼' : '▶'
                        }),
                        !hasChildren && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            className: "mr-2 w-4"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            className: "mr-2",
                            children: "\uD83D\uDCCD"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex-1",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "font-medium text-gray-900",
                                    children: location.name
                                }),
                                location.address && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-sm text-gray-500",
                                    children: location.address
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex gap-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: ()=>handleEdit(location),
                                    className: "px-3 py-1 text-sm text-blue-600 hover:text-blue-800",
                                    children: "Edit"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: ()=>handleDelete(location.id),
                                    className: "px-3 py-1 text-sm text-red-600 hover:text-red-800",
                                    children: "Delete"
                                })
                            ]
                        })
                    ]
                }),
                hasChildren && isExpanded && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: location.children.map((child)=>renderTreeNode(child, level + 1))
                })
            ]
        }, location.id);
    }, [
        expandedNodes,
        toggleNode,
        handleEdit,
        handleDelete
    ]);
    // Filter locations by search query
    const filterLocations = (0, _react.useCallback)((locs, query)=>{
        if (!query) return locs;
        const filtered = [];
        const lowerQuery = query.toLowerCase();
        for (const loc of locs){
            const matches = loc.name.toLowerCase().includes(lowerQuery) || loc.address && loc.address.toLowerCase().includes(lowerQuery) || loc.description && loc.description.toLowerCase().includes(lowerQuery);
            const filteredChildren = filterLocations(loc.children, query);
            if (matches || filteredChildren.length > 0) {
                filtered.push({
                    ...loc,
                    children: filteredChildren
                });
            }
        }
        return filtered;
    }, []);
    const filteredLocations = filterLocations(locations, searchQuery);
    // Form fields
    const formFields = [
        {
            name: 'name',
            label: 'Location Name',
            type: 'text',
            required: true,
            placeholder: 'e.g., Tamarindo Beach'
        },
        {
            name: 'parentLocationId',
            label: 'Parent Location',
            type: 'select',
            required: false,
            options: [
                {
                    value: '',
                    label: 'None (Root Location)'
                },
                ...flattenLocations(locations).map((loc)=>({
                        value: loc.id,
                        label: loc.name
                    }))
            ]
        },
        {
            name: 'address',
            label: 'Address',
            type: 'text',
            required: false,
            placeholder: 'e.g., Tamarindo, Guanacaste, Costa Rica'
        },
        {
            name: 'description',
            label: 'Description',
            type: 'textarea',
            required: false,
            placeholder: 'Optional description'
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "p-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "mb-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "Locations"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-600",
                        children: "Manage location hierarchy"
                    })
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-800",
                children: error
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "mb-4 flex gap-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "text",
                        placeholder: "Search locations...",
                        value: searchQuery,
                        onChange: (e)=>setSearchQuery(e.target.value),
                        className: "flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: ()=>{
                            setEditingLocation(null);
                            setIsFormOpen(!isFormOpen);
                        },
                        className: "px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",
                        children: isFormOpen ? 'Cancel' : '+ Add Location'
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_CollapsibleForm.CollapsibleForm, {
                title: editingLocation ? 'Edit Location' : 'Add New Location',
                fields: formFields,
                schema: _locationSchemas.createLocationSchema,
                onSubmit: handleSubmit,
                onCancel: ()=>{
                    setIsFormOpen(false);
                    setEditingLocation(null);
                },
                initialData: editingLocation || undefined,
                isOpen: isFormOpen,
                onToggle: ()=>setIsFormOpen(!isFormOpen)
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "mt-6 bg-white rounded-lg shadow",
                children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "p-8 text-center text-gray-500",
                    children: "Loading locations..."
                }) : filteredLocations.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "p-8 text-center text-gray-500",
                    children: searchQuery ? 'No locations match your search' : 'No locations yet. Add your first location above.'
                }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: filteredLocations.map((location)=>renderTreeNode(location))
                })
            })
        ]
    });
}
// Helper function to flatten location hierarchy
function flattenLocations(locations) {
    const result = [];
    function traverse(locs) {
        for (const loc of locs){
            result.push(loc);
            if (loc.children && loc.children.length > 0) {
                traverse(loc.children);
            }
        }
    }
    traverse(locations);
    return result;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2xvY2F0aW9ucy9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVGb3JtIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL0NvbGxhcHNpYmxlRm9ybSc7XG5pbXBvcnQgeyBEYXRhVGFibGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvRGF0YVRhYmxlJztcbmltcG9ydCB0eXBlIHsgTG9jYXRpb24sIExvY2F0aW9uV2l0aENoaWxkcmVuIH0gZnJvbSAnQC9zY2hlbWFzL2xvY2F0aW9uU2NoZW1hcyc7XG5pbXBvcnQgeyBjcmVhdGVMb2NhdGlvblNjaGVtYSB9IGZyb20gJ0Avc2NoZW1hcy9sb2NhdGlvblNjaGVtYXMnO1xuXG5pbnRlcmZhY2UgTG9jYXRpb25NYW5hZ2VtZW50UGFnZVByb3BzIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExvY2F0aW9uTWFuYWdlbWVudFBhZ2Uoe306IExvY2F0aW9uTWFuYWdlbWVudFBhZ2VQcm9wcykge1xuICBjb25zdCBbbG9jYXRpb25zLCBzZXRMb2NhdGlvbnNdID0gdXNlU3RhdGU8TG9jYXRpb25XaXRoQ2hpbGRyZW5bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRm9ybU9wZW4sIHNldElzRm9ybU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ0xvY2F0aW9uLCBzZXRFZGl0aW5nTG9jYXRpb25dID0gdXNlU3RhdGU8TG9jYXRpb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtleHBhbmRlZE5vZGVzLCBzZXRFeHBhbmRlZE5vZGVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuXG4gIC8vIExvYWQgbG9jYXRpb25zIGhpZXJhcmNoeVxuICBjb25zdCBsb2FkTG9jYXRpb25zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vbG9jYXRpb25zJyk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRMb2NhdGlvbnMocmVzdWx0LmRhdGEpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvci5tZXNzYWdlKTtcbiAgICAgICAgc2V0TG9jYXRpb25zKFtdKTsgLy8gS2VlcCBsb2NhdGlvbnMgYXMgZW1wdHkgYXJyYXkgb24gZXJyb3JcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgbG9jYXRpb25zJyk7XG4gICAgICBzZXRMb2NhdGlvbnMoW10pOyAvLyBLZWVwIGxvY2F0aW9ucyBhcyBlbXB0eSBhcnJheSBvbiBlcnJvclxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRMb2NhdGlvbnMoKTtcbiAgfSwgW2xvYWRMb2NhdGlvbnNdKTtcblxuICAvLyBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gZWRpdGluZ0xvY2F0aW9uXG4gICAgICAgID8gYC9hcGkvYWRtaW4vbG9jYXRpb25zLyR7ZWRpdGluZ0xvY2F0aW9uLmlkfWBcbiAgICAgICAgOiAnL2FwaS9hZG1pbi9sb2NhdGlvbnMnO1xuICAgICAgY29uc3QgbWV0aG9kID0gZWRpdGluZ0xvY2F0aW9uID8gJ1BVVCcgOiAnUE9TVCc7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGF3YWl0IGxvYWRMb2NhdGlvbnMoKTtcbiAgICAgICAgc2V0SXNGb3JtT3BlbihmYWxzZSk7XG4gICAgICAgIHNldEVkaXRpbmdMb2NhdGlvbihudWxsKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3IubWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBzYXZlIGxvY2F0aW9uJyk7XG4gICAgfVxuICB9LCBbZWRpdGluZ0xvY2F0aW9uLCBsb2FkTG9jYXRpb25zXSk7XG5cbiAgLy8gSGFuZGxlIGRlbGV0ZVxuICBjb25zdCBoYW5kbGVEZWxldGUgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICghY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGxvY2F0aW9uPyBDaGlsZCBsb2NhdGlvbnMgd2lsbCBiZWNvbWUgb3JwaGFuZWQuJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9sb2NhdGlvbnMvJHtpZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgYXdhaXQgbG9hZExvY2F0aW9ucygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxlcnQocmVzdWx0LmVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWxlcnQoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlIGxvY2F0aW9uJyk7XG4gICAgfVxuICB9LCBbbG9hZExvY2F0aW9uc10pO1xuXG4gIC8vIEhhbmRsZSBlZGl0XG4gIGNvbnN0IGhhbmRsZUVkaXQgPSB1c2VDYWxsYmFjaygobG9jYXRpb246IExvY2F0aW9uKSA9PiB7XG4gICAgc2V0RWRpdGluZ0xvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICBzZXRJc0Zvcm1PcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gVG9nZ2xlIG5vZGUgZXhwYW5zaW9uXG4gIGNvbnN0IHRvZ2dsZU5vZGUgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEV4cGFuZGVkTm9kZXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgaWYgKG5leHQuaGFzKGlkKSkge1xuICAgICAgICBuZXh0LmRlbGV0ZShpZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0LmFkZChpZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIFJlbmRlciB0cmVlIG5vZGVcbiAgY29uc3QgcmVuZGVyVHJlZU5vZGUgPSB1c2VDYWxsYmFjaygobG9jYXRpb246IExvY2F0aW9uV2l0aENoaWxkcmVuLCBsZXZlbDogbnVtYmVyID0gMCk6IFJlYWN0LkpTWC5FbGVtZW50ID0+IHtcbiAgICBjb25zdCBoYXNDaGlsZHJlbiA9IGxvY2F0aW9uLmNoaWxkcmVuICYmIGxvY2F0aW9uLmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkTm9kZXMuaGFzKGxvY2F0aW9uLmlkKTtcbiAgICBjb25zdCBpbmRlbnQgPSBsZXZlbCAqIDI0O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYga2V5PXtsb2NhdGlvbi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBweS0zIHB4LTQgaG92ZXI6YmctZ3JheS01MFwiXG4gICAgICAgICAgc3R5bGU9e3sgcGFkZGluZ0xlZnQ6IGAke2luZGVudCArIDE2fXB4YCB9fVxuICAgICAgICA+XG4gICAgICAgICAge2hhc0NoaWxkcmVuICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlTm9kZShsb2NhdGlvbi5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTIgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aXNFeHBhbmRlZCA/ICdDb2xsYXBzZScgOiAnRXhwYW5kJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2lzRXhwYW5kZWQgPyAn4pa8JyA6ICfilrYnfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7IWhhc0NoaWxkcmVuICYmIDxzcGFuIGNsYXNzTmFtZT1cIm1yLTIgdy00XCIgLz59XG4gICAgICAgICAgXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMlwiPvCfk408L3NwYW4+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPntsb2NhdGlvbi5uYW1lfTwvZGl2PlxuICAgICAgICAgICAge2xvY2F0aW9uLmFkZHJlc3MgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPntsb2NhdGlvbi5hZGRyZXNzfTwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFZGl0KGxvY2F0aW9uKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIHRleHQtc20gdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZURlbGV0ZShsb2NhdGlvbi5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXNtIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC04MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7aGFzQ2hpbGRyZW4gJiYgaXNFeHBhbmRlZCAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtsb2NhdGlvbi5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiByZW5kZXJUcmVlTm9kZShjaGlsZCwgbGV2ZWwgKyAxKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LCBbZXhwYW5kZWROb2RlcywgdG9nZ2xlTm9kZSwgaGFuZGxlRWRpdCwgaGFuZGxlRGVsZXRlXSk7XG5cbiAgLy8gRmlsdGVyIGxvY2F0aW9ucyBieSBzZWFyY2ggcXVlcnlcbiAgY29uc3QgZmlsdGVyTG9jYXRpb25zID0gdXNlQ2FsbGJhY2soKGxvY3M6IExvY2F0aW9uV2l0aENoaWxkcmVuW10sIHF1ZXJ5OiBzdHJpbmcpOiBMb2NhdGlvbldpdGhDaGlsZHJlbltdID0+IHtcbiAgICBpZiAoIXF1ZXJ5KSByZXR1cm4gbG9jcztcblxuICAgIGNvbnN0IGZpbHRlcmVkOiBMb2NhdGlvbldpdGhDaGlsZHJlbltdID0gW107XG4gICAgY29uc3QgbG93ZXJRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBmb3IgKGNvbnN0IGxvYyBvZiBsb2NzKSB7XG4gICAgICBjb25zdCBtYXRjaGVzID0gXG4gICAgICAgIGxvYy5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJRdWVyeSkgfHxcbiAgICAgICAgKGxvYy5hZGRyZXNzICYmIGxvYy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJRdWVyeSkpIHx8XG4gICAgICAgIChsb2MuZGVzY3JpcHRpb24gJiYgbG9jLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJRdWVyeSkpO1xuXG4gICAgICBjb25zdCBmaWx0ZXJlZENoaWxkcmVuID0gZmlsdGVyTG9jYXRpb25zKGxvYy5jaGlsZHJlbiwgcXVlcnkpO1xuXG4gICAgICBpZiAobWF0Y2hlcyB8fCBmaWx0ZXJlZENoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmlsdGVyZWQucHVzaCh7XG4gICAgICAgICAgLi4ubG9jLFxuICAgICAgICAgIGNoaWxkcmVuOiBmaWx0ZXJlZENoaWxkcmVuLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH0sIFtdKTtcblxuICBjb25zdCBmaWx0ZXJlZExvY2F0aW9ucyA9IGZpbHRlckxvY2F0aW9ucyhsb2NhdGlvbnMsIHNlYXJjaFF1ZXJ5KTtcblxuICAvLyBGb3JtIGZpZWxkc1xuICBjb25zdCBmb3JtRmllbGRzID0gW1xuICAgIHtcbiAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgIGxhYmVsOiAnTG9jYXRpb24gTmFtZScsXG4gICAgICB0eXBlOiAndGV4dCcgYXMgY29uc3QsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnZS5nLiwgVGFtYXJpbmRvIEJlYWNoJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdwYXJlbnRMb2NhdGlvbklkJyxcbiAgICAgIGxhYmVsOiAnUGFyZW50IExvY2F0aW9uJyxcbiAgICAgIHR5cGU6ICdzZWxlY3QnIGFzIGNvbnN0LFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgb3B0aW9uczogW1xuICAgICAgICB7IHZhbHVlOiAnJywgbGFiZWw6ICdOb25lIChSb290IExvY2F0aW9uKScgfSxcbiAgICAgICAgLi4uZmxhdHRlbkxvY2F0aW9ucyhsb2NhdGlvbnMpLm1hcCgobG9jKSA9PiAoe1xuICAgICAgICAgIHZhbHVlOiBsb2MuaWQsXG4gICAgICAgICAgbGFiZWw6IGxvYy5uYW1lLFxuICAgICAgICB9KSksXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2FkZHJlc3MnLFxuICAgICAgbGFiZWw6ICdBZGRyZXNzJyxcbiAgICAgIHR5cGU6ICd0ZXh0JyBhcyBjb25zdCxcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnZS5nLiwgVGFtYXJpbmRvLCBHdWFuYWNhc3RlLCBDb3N0YSBSaWNhJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsXG4gICAgICBsYWJlbDogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgIHR5cGU6ICd0ZXh0YXJlYScgYXMgY29uc3QsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBwbGFjZWhvbGRlcjogJ09wdGlvbmFsIGRlc2NyaXB0aW9uJyxcbiAgICB9LFxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5Mb2NhdGlvbnM8L2gxPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+TWFuYWdlIGxvY2F0aW9uIGhpZXJhcmNoeTwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1tZCB0ZXh0LXJlZC04MDBcIj5cbiAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IGZsZXggZ2FwLTRcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGxvY2F0aW9ucy4uLlwiXG4gICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRFZGl0aW5nTG9jYXRpb24obnVsbCk7XG4gICAgICAgICAgICBzZXRJc0Zvcm1PcGVuKCFpc0Zvcm1PcGVuKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDBcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzRm9ybU9wZW4gPyAnQ2FuY2VsJyA6ICcrIEFkZCBMb2NhdGlvbid9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxDb2xsYXBzaWJsZUZvcm1cbiAgICAgICAgdGl0bGU9e2VkaXRpbmdMb2NhdGlvbiA/ICdFZGl0IExvY2F0aW9uJyA6ICdBZGQgTmV3IExvY2F0aW9uJ31cbiAgICAgICAgZmllbGRzPXtmb3JtRmllbGRzfVxuICAgICAgICBzY2hlbWE9e2NyZWF0ZUxvY2F0aW9uU2NoZW1hfVxuICAgICAgICBvblN1Ym1pdD17aGFuZGxlU3VibWl0fVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldElzRm9ybU9wZW4oZmFsc2UpO1xuICAgICAgICAgIHNldEVkaXRpbmdMb2NhdGlvbihudWxsKTtcbiAgICAgICAgfX1cbiAgICAgICAgaW5pdGlhbERhdGE9e2VkaXRpbmdMb2NhdGlvbiB8fCB1bmRlZmluZWR9XG4gICAgICAgIGlzT3Blbj17aXNGb3JtT3Blbn1cbiAgICAgICAgb25Ub2dnbGU9eygpID0+IHNldElzRm9ybU9wZW4oIWlzRm9ybU9wZW4pfVxuICAgICAgLz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93XCI+XG4gICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5Mb2FkaW5nIGxvY2F0aW9ucy4uLjwvZGl2PlxuICAgICAgICApIDogZmlsdGVyZWRMb2NhdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIHtzZWFyY2hRdWVyeSA/ICdObyBsb2NhdGlvbnMgbWF0Y2ggeW91ciBzZWFyY2gnIDogJ05vIGxvY2F0aW9ucyB5ZXQuIEFkZCB5b3VyIGZpcnN0IGxvY2F0aW9uIGFib3ZlLid9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtmaWx0ZXJlZExvY2F0aW9ucy5tYXAoKGxvY2F0aW9uKSA9PiByZW5kZXJUcmVlTm9kZShsb2NhdGlvbikpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBmbGF0dGVuIGxvY2F0aW9uIGhpZXJhcmNoeVxuZnVuY3Rpb24gZmxhdHRlbkxvY2F0aW9ucyhsb2NhdGlvbnM6IExvY2F0aW9uV2l0aENoaWxkcmVuW10pOiBMb2NhdGlvbltdIHtcbiAgY29uc3QgcmVzdWx0OiBMb2NhdGlvbltdID0gW107XG4gIFxuICBmdW5jdGlvbiB0cmF2ZXJzZShsb2NzOiBMb2NhdGlvbldpdGhDaGlsZHJlbltdKSB7XG4gICAgZm9yIChjb25zdCBsb2Mgb2YgbG9jcykge1xuICAgICAgcmVzdWx0LnB1c2gobG9jKTtcbiAgICAgIGlmIChsb2MuY2hpbGRyZW4gJiYgbG9jLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJhdmVyc2UobG9jLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHRyYXZlcnNlKGxvY2F0aW9ucyk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4iXSwibmFtZXMiOlsiTG9jYXRpb25NYW5hZ2VtZW50UGFnZSIsImxvY2F0aW9ucyIsInNldExvY2F0aW9ucyIsInVzZVN0YXRlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaXNGb3JtT3BlbiIsInNldElzRm9ybU9wZW4iLCJlZGl0aW5nTG9jYXRpb24iLCJzZXRFZGl0aW5nTG9jYXRpb24iLCJzZWFyY2hRdWVyeSIsInNldFNlYXJjaFF1ZXJ5IiwiZXhwYW5kZWROb2RlcyIsInNldEV4cGFuZGVkTm9kZXMiLCJTZXQiLCJsb2FkTG9jYXRpb25zIiwidXNlQ2FsbGJhY2siLCJyZXNwb25zZSIsImZldGNoIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwibWVzc2FnZSIsImVyciIsIkVycm9yIiwidXNlRWZmZWN0IiwiaGFuZGxlU3VibWl0IiwidXJsIiwiaWQiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoYW5kbGVEZWxldGUiLCJjb25maXJtIiwiYWxlcnQiLCJoYW5kbGVFZGl0IiwibG9jYXRpb24iLCJ0b2dnbGVOb2RlIiwicHJldiIsIm5leHQiLCJoYXMiLCJkZWxldGUiLCJhZGQiLCJyZW5kZXJUcmVlTm9kZSIsImxldmVsIiwiaGFzQ2hpbGRyZW4iLCJjaGlsZHJlbiIsImxlbmd0aCIsImlzRXhwYW5kZWQiLCJpbmRlbnQiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsInBhZGRpbmdMZWZ0IiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJzcGFuIiwibmFtZSIsImFkZHJlc3MiLCJtYXAiLCJjaGlsZCIsImZpbHRlckxvY2F0aW9ucyIsImxvY3MiLCJxdWVyeSIsImZpbHRlcmVkIiwibG93ZXJRdWVyeSIsInRvTG93ZXJDYXNlIiwibG9jIiwibWF0Y2hlcyIsImluY2x1ZGVzIiwiZGVzY3JpcHRpb24iLCJmaWx0ZXJlZENoaWxkcmVuIiwicHVzaCIsImZpbHRlcmVkTG9jYXRpb25zIiwiZm9ybUZpZWxkcyIsImxhYmVsIiwidHlwZSIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJvcHRpb25zIiwidmFsdWUiLCJmbGF0dGVuTG9jYXRpb25zIiwiaDEiLCJwIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJDb2xsYXBzaWJsZUZvcm0iLCJ0aXRsZSIsImZpZWxkcyIsInNjaGVtYSIsImNyZWF0ZUxvY2F0aW9uU2NoZW1hIiwib25TdWJtaXQiLCJvbkNhbmNlbCIsImluaXRpYWxEYXRhIiwidW5kZWZpbmVkIiwiaXNPcGVuIiwib25Ub2dnbGUiLCJ0cmF2ZXJzZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQVVBOzs7ZUFBd0JBOzs7O3VCQVJ5QjtpQ0FDakI7aUNBR0s7QUFJdEIsU0FBU0EsdUJBQXVCLEVBQStCO0lBQzVFLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHQyxJQUFBQSxlQUFRLEVBQXlCLEVBQUU7SUFDckUsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNHLE9BQU9DLFNBQVMsR0FBR0osSUFBQUEsZUFBUSxFQUFnQjtJQUNsRCxNQUFNLENBQUNLLFlBQVlDLGNBQWMsR0FBR04sSUFBQUEsZUFBUSxFQUFDO0lBQzdDLE1BQU0sQ0FBQ08saUJBQWlCQyxtQkFBbUIsR0FBR1IsSUFBQUEsZUFBUSxF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