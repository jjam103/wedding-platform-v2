{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/SettingsForm.authMethod.test.tsx"],"sourcesContent":["/**\n * Unit Tests: SettingsForm - Auth Method Configuration\n * \n * Tests the auth method configuration section of the SettingsForm component\n * \n * Requirements: 22.1, 22.2\n */\n\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { useRouter } from 'next/navigation';\nimport SettingsForm from './SettingsForm';\n\n// Mock next/navigation\njest.mock('next/navigation', () => ({\n  useRouter: jest.fn(),\n}));\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\ndescribe('SettingsForm - Auth Method Configuration', () => {\n  const mockRouter = {\n    refresh: jest.fn(),\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useRouter as jest.Mock).mockReturnValue(mockRouter);\n    (global.fetch as jest.Mock).mockResolvedValue({\n      json: async () => ({ success: true, data: {} }),\n    });\n  });\n\n  it('should render auth method dropdown with default value', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    const authMethodSelect = screen.getByLabelText('Default Authentication Method');\n    expect(authMethodSelect).toBeInTheDocument();\n    expect(authMethodSelect).toHaveValue('email_matching');\n  });\n\n  it('should render auth method dropdown with magic_link value', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'magic_link' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    const authMethodSelect = screen.getByLabelText('Default Authentication Method');\n    expect(authMethodSelect).toHaveValue('magic_link');\n  });\n\n  it('should display email matching description when email_matching is selected', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    expect(\n      screen.getByText(/Guests log in by entering their email address/i)\n    ).toBeInTheDocument();\n  });\n\n  it('should display magic link description when magic_link is selected', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'magic_link' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    expect(\n      screen.getByText(/Guests request a one-time login link/i)\n    ).toBeInTheDocument();\n  });\n\n  it('should update description when auth method is changed', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    // Initially shows email matching description\n    expect(\n      screen.getByText(/Guests log in by entering their email address/i)\n    ).toBeInTheDocument();\n\n    // Change to magic link\n    const authMethodSelect = screen.getByLabelText('Default Authentication Method');\n    fireEvent.change(authMethodSelect, { target: { value: 'magic_link' } });\n\n    // Should now show magic link description\n    expect(\n      screen.getByText(/Guests request a one-time login link/i)\n    ).toBeInTheDocument();\n  });\n\n  it('should display authentication methods info box', () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    expect(screen.getByText('Authentication Methods')).toBeInTheDocument();\n    expect(screen.getByText(/Email Matching:/)).toBeInTheDocument();\n    expect(screen.getByText(/Magic Link:/)).toBeInTheDocument();\n    expect(\n      screen.getByText(/You can override the authentication method for individual guests/i)\n    ).toBeInTheDocument();\n  });\n\n  it('should include default_auth_method in form submission', async () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    // Change auth method\n    const authMethodSelect = screen.getByLabelText('Default Authentication Method');\n    fireEvent.change(authMethodSelect, { target: { value: 'magic_link' } });\n\n    // Submit form\n    const submitButton = screen.getByText('Save Settings');\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(global.fetch).toHaveBeenCalledWith(\n        '/api/admin/settings',\n        expect.objectContaining({\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: expect.stringContaining('\"default_auth_method\":\"magic_link\"'),\n        })\n      );\n    });\n  });\n\n  it('should display success toast after successful save', async () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    (global.fetch as jest.Mock).mockResolvedValueOnce({\n      json: async () => ({ success: true, data: { default_auth_method: 'magic_link' } }),\n    });\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    // Submit form\n    const submitButton = screen.getByText('Save Settings');\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(screen.getByText('Settings saved successfully')).toBeInTheDocument();\n    });\n  });\n\n  it('should display error toast on save failure', async () => {\n    const initialSettings = {\n      id: '1',\n      wedding_date: '2024-06-15T00:00:00Z',\n      venue_name: 'Test Venue',\n      couple_name_1: 'Person 1',\n      couple_name_2: 'Person 2',\n      timezone: 'America/Costa_Rica',\n      send_rsvp_confirmations: true,\n      send_activity_reminders: true,\n      send_deadline_reminders: true,\n      reminder_days_before: 7,\n      require_photo_moderation: true,\n      max_photos_per_guest: 20,\n      allowed_photo_formats: ['jpg', 'jpeg', 'png', 'heic'],\n      default_auth_method: 'email_matching' as const,\n      home_page_title: null,\n      home_page_subtitle: null,\n      home_page_welcome_message: null,\n      home_page_hero_image_url: null,\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    };\n\n    (global.fetch as jest.Mock).mockResolvedValueOnce({\n      json: async () => ({\n        success: false,\n        error: { code: 'VALIDATION_ERROR', message: 'Invalid auth method' },\n      }),\n    });\n\n    render(<SettingsForm initialSettings={initialSettings} />);\n\n    // Submit form\n    const submitButton = screen.getByText('Save Settings');\n    fireEvent.click(submitButton);\n\n    await waitFor(() => {\n      expect(screen.getByText('Invalid auth method')).toBeInTheDocument();\n    });\n  });\n});\n"],"names":["jest","mock","useRouter","fn","global","fetch","describe","mockRouter","refresh","beforeEach","clearAllMocks","mockReturnValue","mockResolvedValue","json","success","data","it","initialSettings","id","wedding_date","venue_name","couple_name_1","couple_name_2","timezone","send_rsvp_confirmations","send_activity_reminders","send_deadline_reminders","reminder_days_before","require_photo_moderation","max_photos_per_guest","allowed_photo_formats","default_auth_method","home_page_title","home_page_subtitle","home_page_welcome_message","home_page_hero_image_url","created_at","updated_at","render","SettingsForm","authMethodSelect","screen","getByLabelText","expect","toBeInTheDocument","toHaveValue","getByText","fireEvent","change","target","value","submitButton","click","waitFor","toHaveBeenCalledWith","objectContaining","method","headers","body","stringContaining","mockResolvedValueOnce","error","code","message"],"mappings":"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"}