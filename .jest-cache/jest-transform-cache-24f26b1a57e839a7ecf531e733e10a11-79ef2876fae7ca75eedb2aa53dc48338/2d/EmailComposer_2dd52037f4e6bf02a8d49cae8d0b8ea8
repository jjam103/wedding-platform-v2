eacd45f4fc98ad2a06b8a148a7ff704e
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "EmailComposer", {
    enumerable: true,
    get: function() {
        return EmailComposer;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _Button = require("../ui/Button");
const _ToastContext = require("../ui/ToastContext");
function EmailComposer({ isOpen, onClose, onSuccess }) {
    const [guests, setGuests] = (0, _react.useState)([]);
    const [groups, setGroups] = (0, _react.useState)([]);
    const [templates, setTemplates] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [submitting, setSubmitting] = (0, _react.useState)(false);
    const { addToast } = (0, _ToastContext.useToast)();
    // Form state
    const [recipientType, setRecipientType] = (0, _react.useState)('guests');
    const [selectedRecipients, setSelectedRecipients] = (0, _react.useState)([]);
    const [selectedTemplate, setSelectedTemplate] = (0, _react.useState)('');
    const [subject, setSubject] = (0, _react.useState)('');
    const [body, setBody] = (0, _react.useState)('');
    const [showPreview, setShowPreview] = (0, _react.useState)(false);
    // Fetch data
    (0, _react.useEffect)(()=>{
        if (!isOpen) return;
        const fetchData = async ()=>{
            setLoading(true);
            try {
                const [guestsRes, groupsRes, templatesRes] = await Promise.all([
                    fetch('/api/admin/guests'),
                    fetch('/api/admin/groups'),
                    fetch('/api/admin/emails/templates')
                ]);
                const [guestsData, groupsData, templatesData] = await Promise.all([
                    guestsRes.json(),
                    groupsRes.json(),
                    templatesRes.json()
                ]);
                if (guestsData.success) {
                    setGuests(guestsData.data.guests || []);
                }
                if (groupsData.success) {
                    setGroups(groupsData.data || []);
                }
                if (templatesData.success) {
                    setTemplates(templatesData.data || []);
                }
            } catch (error) {
                addToast({
                    type: 'error',
                    message: 'Failed to load data'
                });
            } finally{
                setLoading(false);
            }
        };
        fetchData();
    }, [
        isOpen,
        addToast
    ]);
    // Handle template selection
    const handleTemplateChange = (0, _react.useCallback)((templateId)=>{
        setSelectedTemplate(templateId);
        if (templateId) {
            const template = templates.find((t)=>t.id === templateId);
            if (template) {
                setSubject(template.subject);
                setBody(template.body_html);
            }
        } else {
            setSubject('');
            setBody('');
        }
    }, [
        templates
    ]);
    // Handle form submission
    const handleSubmit = async (e)=>{
        e.preventDefault();
        if (selectedRecipients.length === 0) {
            addToast({
                type: 'error',
                message: 'Please select at least one recipient'
            });
            return;
        }
        if (!subject.trim()) {
            addToast({
                type: 'error',
                message: 'Please enter a subject'
            });
            return;
        }
        if (!body.trim()) {
            addToast({
                type: 'error',
                message: 'Please enter email body'
            });
            return;
        }
        setSubmitting(true);
        try {
            // Get recipient emails
            let recipientEmails = [];
            if (recipientType === 'guests') {
                recipientEmails = guests.filter((g)=>selectedRecipients.includes(g.id) && g.email).map((g)=>g.email);
            } else {
                // For groups, fetch all guests in selected groups
                const groupGuests = guests.filter((g)=>selectedRecipients.some((groupId)=>{
                        // This is simplified - in reality, we'd need to fetch group members
                        return true;
                    }));
                recipientEmails = groupGuests.filter((g)=>g.email).map((g)=>g.email);
            }
            if (recipientEmails.length === 0) {
                addToast({
                    type: 'error',
                    message: 'No valid email addresses found for selected recipients'
                });
                setSubmitting(false);
                return;
            }
            // Send email
            const response = await fetch('/api/admin/emails/send', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    recipients: recipientEmails,
                    subject,
                    html: body,
                    text: body.replace(/<[^>]*>/g, ''),
                    template_id: selectedTemplate || undefined
                })
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: `Email sent to ${recipientEmails.length} recipient(s)`
                });
                onSuccess();
                onClose();
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to send email'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: 'Failed to send email'
            });
        } finally{
            setSubmitting(false);
        }
    };
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "px-6 py-4 border-b border-sage-200 flex items-center justify-between sticky top-0 bg-white",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-2xl font-bold text-sage-900",
                            children: "Compose Email"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onClose,
                            className: "text-sage-400 hover:text-sage-600 transition-colors",
                            "aria-label": "Close",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                className: "w-6 h-6",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M6 18L18 6M6 6l12 12"
                                })
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("form", {
                    onSubmit: handleSubmit,
                    className: "px-6 py-4",
                    children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center py-8",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-jungle-500"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "mt-2 text-sage-600",
                                children: "Loading..."
                            })
                        ]
                    }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                        htmlFor: "template",
                                        className: "block text-sm font-medium text-sage-700 mb-1",
                                        children: "Email Template (Optional)"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                        id: "template",
                                        value: selectedTemplate,
                                        onChange: (e)=>handleTemplateChange(e.target.value),
                                        className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                value: "",
                                                children: "-- No Template --"
                                            }),
                                            templates.map((template)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                    value: template.id,
                                                    children: template.name
                                                }, template.id))
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                        className: "block text-sm font-medium text-sage-700 mb-1",
                                        children: "Recipient Type"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex gap-4",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                                className: "flex items-center",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                        type: "radio",
                                                        value: "guests",
                                                        checked: recipientType === 'guests',
                                                        onChange: (e)=>{
                                                            setRecipientType(e.target.value);
                                                            setSelectedRecipients([]);
                                                        },
                                                        className: "mr-2"
                                                    }),
                                                    "Individual Guests"
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                                className: "flex items-center",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                        type: "radio",
                                                        value: "groups",
                                                        checked: recipientType === 'groups',
                                                        onChange: (e)=>{
                                                            setRecipientType(e.target.value);
                                                            setSelectedRecipients([]);
                                                        },
                                                        className: "mr-2"
                                                    }),
                                                    "Guest Groups"
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                        htmlFor: "recipients",
                                        className: "block text-sm font-medium text-sage-700 mb-1",
                                        children: "Recipients *"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("select", {
                                        id: "recipients",
                                        multiple: true,
                                        value: selectedRecipients,
                                        onChange: (e)=>{
                                            const selected = Array.from(e.target.selectedOptions, (option)=>option.value);
                                            setSelectedRecipients(selected);
                                        },
                                        className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[120px]",
                                        required: true,
                                        children: recipientType === 'guests' ? guests.filter((g)=>g.email).map((guest)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("option", {
                                                value: guest.id,
                                                children: [
                                                    guest.first_name,
                                                    " ",
                                                    guest.last_name,
                                                    " (",
                                                    guest.email,
                                                    ")"
                                                ]
                                            }, guest.id)) : groups.map((group)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                value: group.id,
                                                children: group.name
                                            }, group.id))
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "mt-1 text-sm text-sage-500",
                                        children: "Hold Ctrl/Cmd to select multiple recipients"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                        htmlFor: "subject",
                                        className: "block text-sm font-medium text-sage-700 mb-1",
                                        children: "Subject *"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "text",
                                        id: "subject",
                                        value: subject,
                                        onChange: (e)=>setSubject(e.target.value),
                                        className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500",
                                        required: true
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                        htmlFor: "body",
                                        className: "block text-sm font-medium text-sage-700 mb-1",
                                        children: "Email Body *"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                                        id: "body",
                                        value: body,
                                        onChange: (e)=>setBody(e.target.value),
                                        rows: 12,
                                        className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500 font-mono text-sm",
                                        placeholder: "Enter email body (HTML supported)",
                                        required: true
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "mt-1 text-sm text-sage-500",
                                        children: [
                                            "HTML tags are supported. Use ",
                                            '{{',
                                            "variable",
                                            '}',
                                            " for variable substitution."
                                        ]
                                    })
                                ]
                            }),
                            showPreview && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "mb-4 p-4 border border-sage-300 rounded-lg bg-sage-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        className: "text-lg font-semibold text-sage-900 mb-2",
                                        children: "Preview"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "bg-white p-4 rounded border border-sage-200",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "mb-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                        children: "Subject:"
                                                    }),
                                                    " ",
                                                    subject
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "mb-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                        children: "To:"
                                                    }),
                                                    " ",
                                                    selectedRecipients.length,
                                                    " recipient(s)"
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "border-t border-sage-200 pt-2 mt-2",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    dangerouslySetInnerHTML: {
                                                        __html: body
                                                    }
                                                })
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "px-6 py-4 border-t border-sage-200 flex items-center justify-between sticky bottom-0 bg-white",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            type: "button",
                            variant: "ghost",
                            onClick: ()=>setShowPreview(!showPreview),
                            disabled: loading || submitting,
                            children: showPreview ? 'Hide Preview' : 'Show Preview'
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex gap-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    type: "button",
                                    variant: "secondary",
                                    onClick: onClose,
                                    disabled: submitting,
                                    children: "Cancel"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    type: "submit",
                                    variant: "primary",
                                    onClick: handleSubmit,
                                    disabled: loading || submitting,
                                    children: submitting ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"
                                            }),
                                            "Sending..."
                                        ]
                                    }) : 'Send Email'
                                })
                            ]
                        })
                    ]
                })
            ]
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9FbWFpbENvbXBvc2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Ub2FzdENvbnRleHQnO1xuaW1wb3J0IHR5cGUgeyBFbWFpbFRlbXBsYXRlIH0gZnJvbSAnQC9zY2hlbWFzL2VtYWlsU2NoZW1hcyc7XG5cbmludGVyZmFjZSBHdWVzdCB7XG4gIGlkOiBzdHJpbmc7XG4gIGZpcnN0X25hbWU6IHN0cmluZztcbiAgbGFzdF9uYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmcgfCBudWxsO1xufVxuXG5pbnRlcmZhY2UgR3JvdXAge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFbWFpbENvbXBvc2VyUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uU3VjY2VzczogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVtYWlsQ29tcG9zZXIoeyBpc09wZW4sIG9uQ2xvc2UsIG9uU3VjY2VzcyB9OiBFbWFpbENvbXBvc2VyUHJvcHMpIHtcbiAgY29uc3QgW2d1ZXN0cywgc2V0R3Vlc3RzXSA9IHVzZVN0YXRlPEd1ZXN0W10+KFtdKTtcbiAgY29uc3QgW2dyb3Vwcywgc2V0R3JvdXBzXSA9IHVzZVN0YXRlPEdyb3VwW10+KFtdKTtcbiAgY29uc3QgW3RlbXBsYXRlcywgc2V0VGVtcGxhdGVzXSA9IHVzZVN0YXRlPEVtYWlsVGVtcGxhdGVbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGFkZFRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuXG4gIC8vIEZvcm0gc3RhdGVcbiAgY29uc3QgW3JlY2lwaWVudFR5cGUsIHNldFJlY2lwaWVudFR5cGVdID0gdXNlU3RhdGU8J2d1ZXN0cycgfCAnZ3JvdXBzJz4oJ2d1ZXN0cycpO1xuICBjb25zdCBbc2VsZWN0ZWRSZWNpcGllbnRzLCBzZXRTZWxlY3RlZFJlY2lwaWVudHNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkVGVtcGxhdGUsIHNldFNlbGVjdGVkVGVtcGxhdGVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtzdWJqZWN0LCBzZXRTdWJqZWN0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2JvZHksIHNldEJvZHldID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2hvd1ByZXZpZXcsIHNldFNob3dQcmV2aWV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBGZXRjaCBkYXRhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc09wZW4pIHJldHVybjtcblxuICAgIGNvbnN0IGZldGNoRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBbZ3Vlc3RzUmVzLCBncm91cHNSZXMsIHRlbXBsYXRlc1Jlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgZmV0Y2goJy9hcGkvYWRtaW4vZ3Vlc3RzJyksXG4gICAgICAgICAgZmV0Y2goJy9hcGkvYWRtaW4vZ3JvdXBzJyksXG4gICAgICAgICAgZmV0Y2goJy9hcGkvYWRtaW4vZW1haWxzL3RlbXBsYXRlcycpLFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdCBbZ3Vlc3RzRGF0YSwgZ3JvdXBzRGF0YSwgdGVtcGxhdGVzRGF0YV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgZ3Vlc3RzUmVzLmpzb24oKSxcbiAgICAgICAgICBncm91cHNSZXMuanNvbigpLFxuICAgICAgICAgIHRlbXBsYXRlc1Jlcy5qc29uKCksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGlmIChndWVzdHNEYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzZXRHdWVzdHMoZ3Vlc3RzRGF0YS5kYXRhLmd1ZXN0cyB8fCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3Vwc0RhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIHNldEdyb3Vwcyhncm91cHNEYXRhLmRhdGEgfHwgW10pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZW1wbGF0ZXNEYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzZXRUZW1wbGF0ZXModGVtcGxhdGVzRGF0YS5kYXRhIHx8IFtdKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkIGRhdGEnLFxuICAgICAgICB9KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaERhdGEoKTtcbiAgfSwgW2lzT3BlbiwgYWRkVG9hc3RdKTtcblxuICAvLyBIYW5kbGUgdGVtcGxhdGUgc2VsZWN0aW9uXG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHRlbXBsYXRlSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUodGVtcGxhdGVJZCk7XG4gICAgaWYgKHRlbXBsYXRlSWQpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHRlbXBsYXRlSWQpO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIHNldFN1YmplY3QodGVtcGxhdGUuc3ViamVjdCk7XG4gICAgICAgIHNldEJvZHkodGVtcGxhdGUuYm9keV9odG1sKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3ViamVjdCgnJyk7XG4gICAgICBzZXRCb2R5KCcnKTtcbiAgICB9XG4gIH0sIFt0ZW1wbGF0ZXNdKTtcblxuICAvLyBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoc2VsZWN0ZWRSZWNpcGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgcmVjaXBpZW50JyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc3ViamVjdC50cmltKCkpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHN1YmplY3QnLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFib2R5LnRyaW0oKSkge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGVtYWlsIGJvZHknLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0U3VibWl0dGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHJlY2lwaWVudCBlbWFpbHNcbiAgICAgIGxldCByZWNpcGllbnRFbWFpbHM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGlmIChyZWNpcGllbnRUeXBlID09PSAnZ3Vlc3RzJykge1xuICAgICAgICByZWNpcGllbnRFbWFpbHMgPSBndWVzdHNcbiAgICAgICAgICAuZmlsdGVyKChnKSA9PiBzZWxlY3RlZFJlY2lwaWVudHMuaW5jbHVkZXMoZy5pZCkgJiYgZy5lbWFpbClcbiAgICAgICAgICAubWFwKChnKSA9PiBnLmVtYWlsISk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgZ3JvdXBzLCBmZXRjaCBhbGwgZ3Vlc3RzIGluIHNlbGVjdGVkIGdyb3Vwc1xuICAgICAgICBjb25zdCBncm91cEd1ZXN0cyA9IGd1ZXN0cy5maWx0ZXIoKGcpID0+XG4gICAgICAgICAgc2VsZWN0ZWRSZWNpcGllbnRzLnNvbWUoKGdyb3VwSWQpID0+IHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgc2ltcGxpZmllZCAtIGluIHJlYWxpdHksIHdlJ2QgbmVlZCB0byBmZXRjaCBncm91cCBtZW1iZXJzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZWNpcGllbnRFbWFpbHMgPSBncm91cEd1ZXN0c1xuICAgICAgICAgIC5maWx0ZXIoKGcpID0+IGcuZW1haWwpXG4gICAgICAgICAgLm1hcCgoZykgPT4gZy5lbWFpbCEpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjaXBpZW50RW1haWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gdmFsaWQgZW1haWwgYWRkcmVzc2VzIGZvdW5kIGZvciBzZWxlY3RlZCByZWNpcGllbnRzJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNlbmQgZW1haWxcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vZW1haWxzL3NlbmQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJlY2lwaWVudHM6IHJlY2lwaWVudEVtYWlscyxcbiAgICAgICAgICBzdWJqZWN0LFxuICAgICAgICAgIGh0bWw6IGJvZHksXG4gICAgICAgICAgdGV4dDogYm9keS5yZXBsYWNlKC88W14+XSo+L2csICcnKSwgLy8gU3RyaXAgSFRNTCBmb3IgdGV4dCB2ZXJzaW9uXG4gICAgICAgICAgdGVtcGxhdGVfaWQ6IHNlbGVjdGVkVGVtcGxhdGUgfHwgdW5kZWZpbmVkLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIG1lc3NhZ2U6IGBFbWFpbCBzZW50IHRvICR7cmVjaXBpZW50RW1haWxzLmxlbmd0aH0gcmVjaXBpZW50KHMpYCxcbiAgICAgICAgfSk7XG4gICAgICAgIG9uU3VjY2VzcygpO1xuICAgICAgICBvbkNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kIGVtYWlsJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBzZW5kIGVtYWlsJyxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctMnhsIG1heC13LTR4bCB3LWZ1bGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcHktNCBib3JkZXItYiBib3JkZXItc2FnZS0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHN0aWNreSB0b3AtMCBiZy13aGl0ZVwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zYWdlLTkwMFwiPkNvbXBvc2UgRW1haWw8L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNDAwIGhvdmVyOnRleHQtc2FnZS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInB4LTYgcHktNFwiPlxuICAgICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1qdW5nbGUtNTAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zYWdlLTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0ZW1wbGF0ZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zYWdlLTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBFbWFpbCBUZW1wbGF0ZSAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cInRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFRlbXBsYXRlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVUZW1wbGF0ZUNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItc2FnZS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctanVuZ2xlLTUwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tIE5vIFRlbXBsYXRlIC0tPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICB7dGVtcGxhdGVzLm1hcCgodGVtcGxhdGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3RlbXBsYXRlLmlkfSB2YWx1ZT17dGVtcGxhdGUuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogUmVjaXBpZW50IFR5cGUgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2FnZS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgUmVjaXBpZW50IFR5cGVcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJndWVzdHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3JlY2lwaWVudFR5cGUgPT09ICdndWVzdHMnfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjaXBpZW50VHlwZShlLnRhcmdldC52YWx1ZSBhcyAnZ3Vlc3RzJyB8ICdncm91cHMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUmVjaXBpZW50cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgSW5kaXZpZHVhbCBHdWVzdHNcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cImdyb3Vwc1wiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cmVjaXBpZW50VHlwZSA9PT0gJ2dyb3Vwcyd9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNpcGllbnRUeXBlKGUudGFyZ2V0LnZhbHVlIGFzICdndWVzdHMnIHwgJ2dyb3VwcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRSZWNpcGllbnRzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTJcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICBHdWVzdCBHcm91cHNcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBSZWNpcGllbnRzIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJyZWNpcGllbnRzXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIFJlY2lwaWVudHMgKlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgaWQ9XCJyZWNpcGllbnRzXCJcbiAgICAgICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRSZWNpcGllbnRzfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShlLnRhcmdldC5zZWxlY3RlZE9wdGlvbnMsIChvcHRpb24pID0+IG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUmVjaXBpZW50cyhzZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLXNhZ2UtMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWp1bmdsZS01MDAgbWluLWgtWzEyMHB4XVwiXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtyZWNpcGllbnRUeXBlID09PSAnZ3Vlc3RzJ1xuICAgICAgICAgICAgICAgICAgICA/IGd1ZXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZykgPT4gZy5lbWFpbClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKGd1ZXN0KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtndWVzdC5pZH0gdmFsdWU9e2d1ZXN0LmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3Vlc3QuZmlyc3RfbmFtZX0ge2d1ZXN0Lmxhc3RfbmFtZX0gKHtndWVzdC5lbWFpbH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgOiBncm91cHMubWFwKChncm91cCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2dyb3VwLmlkfSB2YWx1ZT17Z3JvdXAuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Z3JvdXAubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwXCI+XG4gICAgICAgICAgICAgICAgICBIb2xkIEN0cmwvQ21kIHRvIHNlbGVjdCBtdWx0aXBsZSByZWNpcGllbnRzXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogU3ViamVjdCAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJzdWJqZWN0XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIFN1YmplY3QgKlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBpZD1cInN1YmplY3RcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3N1YmplY3R9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFN1YmplY3QoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLXNhZ2UtMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWp1bmdsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogRW1haWwgQm9keSAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJib2R5XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIEVtYWlsIEJvZHkgKlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICBpZD1cImJvZHlcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2JvZHl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJvZHkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcm93cz17MTJ9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItc2FnZS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctanVuZ2xlLTUwMCBmb250LW1vbm8gdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGVtYWlsIGJvZHkgKEhUTUwgc3VwcG9ydGVkKVwiXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtc2FnZS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIEhUTUwgdGFncyBhcmUgc3VwcG9ydGVkLiBVc2Ugeyd7eyd9dmFyaWFibGV7J30nfSBmb3IgdmFyaWFibGUgc3Vic3RpdHV0aW9uLlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIFByZXZpZXcgU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAge3Nob3dQcmV2aWV3ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgcC00IGJvcmRlciBib3JkZXItc2FnZS0zMDAgcm91bmRlZC1sZyBiZy1zYWdlLTUwXCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2FnZS05MDAgbWItMlwiPlByZXZpZXc8L2gzPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTQgcm91bmRlZCBib3JkZXIgYm9yZGVyLXNhZ2UtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+U3ViamVjdDo8L3N0cm9uZz4ge3N1YmplY3R9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlRvOjwvc3Ryb25nPiB7c2VsZWN0ZWRSZWNpcGllbnRzLmxlbmd0aH0gcmVjaXBpZW50KHMpXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1zYWdlLTIwMCBwdC0yIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYm9keSB9fSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNiBweS00IGJvcmRlci10IGJvcmRlci1zYWdlLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gc3RpY2t5IGJvdHRvbS0wIGJnLXdoaXRlXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByZXZpZXcoIXNob3dQcmV2aWV3KX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nIHx8IHN1Ym1pdHRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dQcmV2aWV3ID8gJ0hpZGUgUHJldmlldycgOiAnU2hvdyBQcmV2aWV3J31cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZyB8fCBzdWJtaXR0aW5nfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7c3VibWl0dGluZyA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC00IHctNCBib3JkZXItYi0yIGJvcmRlci13aGl0ZSBtci0yXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgU2VuZGluZy4uLlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICdTZW5kIEVtYWlsJ1xuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiRW1haWxDb21wb3NlciIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvblN1Y2Nlc3MiLCJndWVzdHMiLCJzZXRHdWVzdHMiLCJ1c2VTdGF0ZSIsImdyb3VwcyIsInNldEdyb3VwcyIsInRlbXBsYXRlcyIsInNldFRlbXBsYXRlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic3VibWl0dGluZyIsInNldFN1Ym1pdHRpbmciLCJhZGRUb2FzdCIsInVzZVRvYXN0IiwicmVjaXBpZW50VHlwZSIsInNldFJlY2lwaWVudFR5cGUiLCJzZWxlY3RlZFJlY2lwaWVudHMiLCJzZXRTZWxlY3RlZFJlY2lwaWVudHMiLCJzZWxlY3RlZFRlbXBsYXRlIiwic2V0U2VsZWN0ZWRUZW1wbGF0ZSIsInN1YmplY3QiLCJzZXRTdWJqZWN0IiwiYm9keSIsInNldEJvZHkiLCJzaG93UHJldmlldyIsInNldFNob3dQcmV2aWV3IiwidXNlRWZmZWN0IiwiZmV0Y2hEYXRhIiwiZ3Vlc3RzUmVzIiwiZ3JvdXBzUmVzIiwidGVtcGxhdGVzUmVzIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwiZ3Vlc3RzRGF0YSIsImdyb3Vwc0RhdGEiLCJ0ZW1wbGF0ZXNEYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3IiLCJ0eXBlIiwibWVzc2FnZSIsImhhbmRsZVRlbXBsYXRlQ2hhbmdlIiwidXNlQ2FsbGJhY2siLCJ0ZW1wbGF0ZUlkIiwidGVtcGxhdGUiLCJmaW5kIiwidCIsImlkIiwiYm9keV9odG1sIiwiaGFuZGxlU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwibGVuZ3RoIiwidHJpbSIsInJlY2lwaWVudEVtYWlscyIsImZpbHRlciIsImciLCJpbmNsdWRlcyIsImVtYWlsIiwibWFwIiwiZ3JvdXBHdWVzdHMiLCJzb21lIiwiZ3JvdXBJZCIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWNpcGllbnRzIiwiaHRtbCIsInRleHQiLCJyZXBsYWNlIiwidGVtcGxhdGVfaWQiLCJ1bmRlZmluZWQiLCJyZXN1bHQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwiZm9ybSIsIm9uU3VibWl0IiwicCIsImxhYmVsIiwiaHRtbEZvciIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJvcHRpb24iLCJuYW1lIiwiaW5wdXQiLCJjaGVja2VkIiwibXVsdGlwbGUiLCJzZWxlY3RlZCIsIkFycmF5IiwiZnJvbSIsInNlbGVjdGVkT3B0aW9ucyIsInJlcXVpcmVkIiwiZ3Vlc3QiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZ3JvdXAiLCJ0ZXh0YXJlYSIsInJvd3MiLCJwbGFjZWhvbGRlciIsImgzIiwic3Ryb25nIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJCdXR0b24iLCJ2YXJpYW50IiwiZGlzYWJsZWQiLCJzcGFuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBeUJnQkE7OztlQUFBQTs7Ozt1QkF2QmlDO3dCQUMxQjs4QkFDRTtBQXFCbEIsU0FBU0EsY0FBYyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFzQjtJQUM5RSxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR0MsSUFBQUEsZUFBUSxFQUFVLEVBQUU7SUFDaEQsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdGLElBQUFBLGVBQVEsRUFBVSxFQUFFO0lBQ2hELE1BQU0sQ0FBQ0csV0FBV0MsYUFBYSxHQUFHSixJQUFBQSxlQUFRLEVBQWtCLEVBQUU7SUFDOUQsTUFBTSxDQUFDSyxTQUFTQyxXQUFXLEdBQUdOLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNPLFlBQVlD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