1fc8d38e2595ec1bc4b5f78326f00557
/**
 * Unit Tests for EmailComposer Component
 * 
 * Tests:
 * - Modal display and closing
 * - Data loading (guests, groups, templates)
 * - Form submission
 * - Template selection
 * - Recipient selection
 * - Email preview
 * - Error handling
 * 
 * Requirements: Email composer functionality
 */ "use strict";
jest.mock('@/components/ui/ToastContext', ()=>({
        useToast: ()=>({
                addToast: mockAddToast
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _EmailComposer = require("./EmailComposer");
// Mock toast context
const mockAddToast = jest.fn();
// Mock fetch
global.fetch = jest.fn();
const mockGuests = [
    {
        id: '1',
        first_name: 'John',
        last_name: 'Doe',
        email: 'john@example.com'
    },
    {
        id: '2',
        first_name: 'Jane',
        last_name: 'Smith',
        email: 'jane@example.com'
    },
    {
        id: '3',
        first_name: 'Bob',
        last_name: 'Wilson',
        email: null
    }
];
const mockGroups = [
    {
        id: '1',
        name: 'Family'
    },
    {
        id: '2',
        name: 'Friends'
    }
];
const mockTemplates = [
    {
        id: '1',
        name: 'RSVP Reminder',
        subject: 'Please RSVP',
        body_html: '<p>Please respond by...</p>'
    },
    {
        id: '2',
        name: 'Welcome Email',
        subject: 'Welcome!',
        body_html: '<p>Welcome to our wedding...</p>'
    }
];
describe('EmailComposer', ()=>{
    const mockFetch = fetch;
    let mockOnClose;
    let mockOnSuccess;
    beforeEach(()=>{
        mockOnClose = jest.fn();
        mockOnSuccess = jest.fn();
        mockAddToast.mockClear();
        mockFetch.mockClear();
        // Default successful responses
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: {
                        guests: mockGuests
                    }
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockGroups
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockTemplates
                })
        });
    });
    afterEach(()=>{
        (0, _react.cleanup)();
    });
    describe('Modal Display', ()=>{
        it('should not render when isOpen is false', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: false,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            expect(_react.screen.queryByText('Compose Email')).not.toBeInTheDocument();
        });
        it('should render when isOpen is true', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            expect(_react.screen.getByText('Compose Email')).toBeInTheDocument();
        });
        it('should call onClose when close button is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            const closeButton = _react.screen.getByLabelText('Close');
            _react.fireEvent.click(closeButton);
            expect(mockOnClose).toHaveBeenCalled();
        });
        it('should call onClose when cancel button is clicked', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            const cancelButton = _react.screen.getByRole('button', {
                name: /cancel/i
            });
            _react.fireEvent.click(cancelButton);
            expect(mockOnClose).toHaveBeenCalled();
        });
    });
    describe('Data Loading', ()=>{
        it('should show loading state initially', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            expect(_react.screen.getByText('Loading...')).toBeInTheDocument();
        });
        it('should fetch guests, groups, and templates on open', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/guests');
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/groups');
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/emails/templates');
            });
        });
        it('should not fetch data when modal is closed', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: false,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            expect(mockFetch).not.toHaveBeenCalled();
        });
        it('should display loaded data', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            // Check templates are loaded
            expect(_react.screen.getByText('RSVP Reminder')).toBeInTheDocument();
            expect(_react.screen.getByText('Welcome Email')).toBeInTheDocument();
            // Check guests are loaded (only those with emails)
            expect(_react.screen.getByText('John Doe (john@example.com)')).toBeInTheDocument();
            expect(_react.screen.getByText('Jane Smith (jane@example.com)')).toBeInTheDocument();
            expect(_react.screen.queryByText('Bob Wilson')).not.toBeInTheDocument(); // No email
            // Check groups are loaded
            expect(_react.screen.getByText('Family')).toBeInTheDocument();
            expect(_react.screen.getByText('Friends')).toBeInTheDocument();
        });
        it('should handle fetch errors gracefully', async ()=>{
            mockFetch.mockRejectedValue(new Error('Network error'));
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Failed to load data'
                });
            });
        });
    });
    describe('Template Selection', ()=>{
        it('should populate subject and body when template is selected', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            const templateSelect = _react.screen.getByLabelText(/email template/i);
            _react.fireEvent.change(templateSelect, {
                target: {
                    value: '1'
                }
            });
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            expect(subjectInput).toHaveValue('Please RSVP');
            expect(bodyTextarea).toHaveValue('<p>Please respond by...</p>');
        });
        it('should clear subject and body when no template is selected', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            const templateSelect = _react.screen.getByLabelText(/email template/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            // Select template first
            _react.fireEvent.change(templateSelect, {
                target: {
                    value: '1'
                }
            });
            expect(subjectInput).toHaveValue('Please RSVP');
            // Clear template
            _react.fireEvent.change(templateSelect, {
                target: {
                    value: ''
                }
            });
            expect(subjectInput).toHaveValue('');
            expect(bodyTextarea).toHaveValue('');
        });
    });
    describe('Recipient Selection', ()=>{
        it('should switch between guest and group recipient types', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            // Initially guests should be selected
            const guestRadio = _react.screen.getByLabelText('Individual Guests');
            const groupRadio = _react.screen.getByLabelText('Guest Groups');
            expect(guestRadio).toBeChecked();
            expect(_react.screen.getByText('John Doe (john@example.com)')).toBeInTheDocument();
            // Switch to groups
            _react.fireEvent.click(groupRadio);
            expect(groupRadio).toBeChecked();
            expect(_react.screen.getByText('Family')).toBeInTheDocument();
            expect(_react.screen.queryByText('John Doe (john@example.com)')).not.toBeInTheDocument();
        });
        it('should clear selected recipients when switching types', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const groupRadio = _react.screen.getByLabelText('Guest Groups');
            // Select a guest
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            // Switch to groups
            _react.fireEvent.click(groupRadio);
            // Recipients should be cleared
            expect(recipientSelect.selectedOptions.length).toBe(0);
        });
    });
    describe('Form Validation', ()=>{
        beforeEach(async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
        });
        it('should validate that recipients are selected', async ()=>{
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Please select at least one recipient'
                });
            });
        });
        it('should validate that subject is entered', async ()=>{
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Please enter a subject'
                });
            });
        });
        it('should validate that body is entered', async ()=>{
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Please enter email body'
                });
            });
        });
        it('should validate that selected recipients have email addresses', async ()=>{
            // Mock guests with no email addresses
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            guests: [
                                {
                                    id: '1',
                                    first_name: 'John',
                                    last_name: 'Doe',
                                    email: null
                                }
                            ]
                        }
                    })
            });
            const { rerender } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: false,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: 'Test Body'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'No valid email addresses found for selected recipients'
                });
            });
        });
    });
    describe('Email Sending', ()=>{
        beforeEach(async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
        });
        it('should send email successfully', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1',
                        '2'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: '<p>Test Body</p>'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/emails/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        recipients: [
                            'john@example.com',
                            'jane@example.com'
                        ],
                        subject: 'Test Subject',
                        html: '<p>Test Body</p>',
                        text: 'Test Body',
                        template_id: undefined
                    })
                });
            });
            expect(mockAddToast).toHaveBeenCalledWith({
                type: 'success',
                message: 'Email sent to 2 recipient(s)'
            });
            expect(mockOnSuccess).toHaveBeenCalled();
            expect(mockOnClose).toHaveBeenCalled();
        });
        it('should include template ID when template is selected', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const templateSelect = _react.screen.getByLabelText(/email template/i);
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            _react.fireEvent.change(templateSelect, {
                target: {
                    value: '1'
                }
            });
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/emails/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        recipients: [
                            'john@example.com'
                        ],
                        subject: 'Please RSVP',
                        html: '<p>Please respond by...</p>',
                        text: 'Please respond by...',
                        template_id: '1'
                    })
                });
            });
        });
        it('should handle send errors', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: false,
                        error: {
                            message: 'Send failed'
                        }
                    })
            });
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: 'Test Body'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Send failed'
                });
            });
            expect(mockOnSuccess).not.toHaveBeenCalled();
            expect(mockOnClose).not.toHaveBeenCalled();
        });
        it('should handle network errors', async ()=>{
            mockFetch.mockRejectedValueOnce(new Error('Network error'));
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: 'Test Body'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(mockAddToast).toHaveBeenCalledWith({
                    type: 'error',
                    message: 'Failed to send email'
                });
            });
        });
    });
    describe('Email Preview', ()=>{
        beforeEach(async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
        });
        it('should show preview when preview button is clicked', ()=>{
            const previewButton = _react.screen.getByRole('button', {
                name: /show preview/i
            });
            _react.fireEvent.click(previewButton);
            expect(_react.screen.getByText('Preview')).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /hide preview/i
            })).toBeInTheDocument();
        });
        it('should hide preview when hide button is clicked', ()=>{
            const previewButton = _react.screen.getByRole('button', {
                name: /show preview/i
            });
            _react.fireEvent.click(previewButton);
            const hideButton = _react.screen.getByRole('button', {
                name: /hide preview/i
            });
            _react.fireEvent.click(hideButton);
            expect(_react.screen.queryByText('Preview')).not.toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /show preview/i
            })).toBeInTheDocument();
        });
        it('should display preview content', async ()=>{
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1',
                        '2'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: '<p>Test Body</p>'
                }
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /show preview/i
            });
            _react.fireEvent.click(previewButton);
            expect(_react.screen.getByText('Subject:')).toBeInTheDocument();
            expect(_react.screen.getByText('Test Subject')).toBeInTheDocument();
            expect(_react.screen.getByText('To:')).toBeInTheDocument();
            expect(_react.screen.getByText('2 recipient(s)')).toBeInTheDocument();
        });
    });
    describe('Loading States', ()=>{
        beforeEach(async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
        });
        it('should disable buttons during submission', async ()=>{
            const slowSend = new Promise((resolve)=>setTimeout(resolve, 1000));
            mockFetch.mockReturnValueOnce(slowSend);
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: 'Test Body'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            const cancelButton = _react.screen.getByRole('button', {
                name: /cancel/i
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /show preview/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(sendButton).toBeDisabled();
                expect(cancelButton).toBeDisabled();
                expect(previewButton).toBeDisabled();
            });
        });
        it('should show sending text during submission', async ()=>{
            const slowSend = new Promise((resolve)=>setTimeout(resolve, 1000));
            mockFetch.mockReturnValueOnce(slowSend);
            const recipientSelect = _react.screen.getByLabelText(/recipients/i);
            const subjectInput = _react.screen.getByLabelText(/subject/i);
            const bodyTextarea = _react.screen.getByLabelText(/email body/i);
            _react.fireEvent.change(recipientSelect, {
                target: {
                    value: [
                        '1'
                    ]
                }
            });
            _react.fireEvent.change(subjectInput, {
                target: {
                    value: 'Test Subject'
                }
            });
            _react.fireEvent.change(bodyTextarea, {
                target: {
                    value: 'Test Body'
                }
            });
            const sendButton = _react.screen.getByRole('button', {
                name: /send email/i
            });
            _react.fireEvent.click(sendButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Sending...')).toBeInTheDocument();
            });
        });
    });
    describe('Accessibility', ()=>{
        beforeEach(async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EmailComposer.EmailComposer, {
                isOpen: true,
                onClose: mockOnClose,
                onSuccess: mockOnSuccess
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Loading...')).not.toBeInTheDocument();
            });
        });
        it('should have proper form labels', ()=>{
            expect(_react.screen.getByLabelText(/email template/i)).toBeInTheDocument();
            expect(_react.screen.getByLabelText(/recipients/i)).toBeInTheDocument();
            expect(_react.screen.getByLabelText(/subject/i)).toBeInTheDocument();
            expect(_react.screen.getByLabelText(/email body/i)).toBeInTheDocument();
        });
        it('should have required attributes on required fields', ()=>{
            expect(_react.screen.getByLabelText(/recipients/i)).toHaveAttribute('required');
            expect(_react.screen.getByLabelText(/subject/i)).toHaveAttribute('required');
            expect(_react.screen.getByLabelText(/email body/i)).toHaveAttribute('required');
        });
        it('should have proper close button accessibility', ()=>{
            const closeButton = _react.screen.getByLabelText('Close');
            expect(closeButton).toBeInTheDocument();
        });
        it('should provide help text for recipients field', ()=>{
            expect(_react.screen.getByText('Hold Ctrl/Cmd to select multiple recipients')).toBeInTheDocument();
        });
        it('should provide help text for email body', ()=>{
            expect(_react.screen.getByText(/HTML tags are supported/)).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9FbWFpbENvbXBvc2VyLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgRW1haWxDb21wb3NlciBDb21wb25lbnRcbiAqIFxuICogVGVzdHM6XG4gKiAtIE1vZGFsIGRpc3BsYXkgYW5kIGNsb3NpbmdcbiAqIC0gRGF0YSBsb2FkaW5nIChndWVzdHMsIGdyb3VwcywgdGVtcGxhdGVzKVxuICogLSBGb3JtIHN1Ym1pc3Npb25cbiAqIC0gVGVtcGxhdGUgc2VsZWN0aW9uXG4gKiAtIFJlY2lwaWVudCBzZWxlY3Rpb25cbiAqIC0gRW1haWwgcHJldmlld1xuICogLSBFcnJvciBoYW5kbGluZ1xuICogXG4gKiBSZXF1aXJlbWVudHM6IEVtYWlsIGNvbXBvc2VyIGZ1bmN0aW9uYWxpdHlcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBjbGVhbnVwIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBFbWFpbENvbXBvc2VyIH0gZnJvbSAnLi9FbWFpbENvbXBvc2VyJztcblxuLy8gTW9jayB0b2FzdCBjb250ZXh0XG5jb25zdCBtb2NrQWRkVG9hc3QgPSBqZXN0LmZuKCk7XG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9Ub2FzdENvbnRleHQnLCAoKSA9PiAoe1xuICB1c2VUb2FzdDogKCkgPT4gKHsgYWRkVG9hc3Q6IG1vY2tBZGRUb2FzdCB9KSxcbn0pKTtcblxuLy8gTW9jayBmZXRjaFxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG5jb25zdCBtb2NrR3Vlc3RzID0gW1xuICB7IGlkOiAnMScsIGZpcnN0X25hbWU6ICdKb2huJywgbGFzdF9uYW1lOiAnRG9lJywgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyB9LFxuICB7IGlkOiAnMicsIGZpcnN0X25hbWU6ICdKYW5lJywgbGFzdF9uYW1lOiAnU21pdGgnLCBlbWFpbDogJ2phbmVAZXhhbXBsZS5jb20nIH0sXG4gIHsgaWQ6ICczJywgZmlyc3RfbmFtZTogJ0JvYicsIGxhc3RfbmFtZTogJ1dpbHNvbicsIGVtYWlsOiBudWxsIH0sXG5dO1xuXG5jb25zdCBtb2NrR3JvdXBzID0gW1xuICB7IGlkOiAnMScsIG5hbWU6ICdGYW1pbHknIH0sXG4gIHsgaWQ6ICcyJywgbmFtZTogJ0ZyaWVuZHMnIH0sXG5dO1xuXG5jb25zdCBtb2NrVGVtcGxhdGVzID0gW1xuICB7IGlkOiAnMScsIG5hbWU6ICdSU1ZQIFJlbWluZGVyJywgc3ViamVjdDogJ1BsZWFzZSBSU1ZQJywgYm9keV9odG1sOiAnPHA+UGxlYXNlIHJlc3BvbmQgYnkuLi48L3A+JyB9LFxuICB7IGlkOiAnMicsIG5hbWU6ICdXZWxjb21lIEVtYWlsJywgc3ViamVjdDogJ1dlbGNvbWUhJywgYm9keV9odG1sOiAnPHA+V2VsY29tZSB0byBvdXIgd2VkZGluZy4uLjwvcD4nIH0sXG5dO1xuXG5kZXNjcmliZSgnRW1haWxDb21wb3NlcicsICgpID0+IHtcbiAgY29uc3QgbW9ja0ZldGNoID0gZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+O1xuICBsZXQgbW9ja09uQ2xvc2U6IGplc3QuTW9jaztcbiAgbGV0IG1vY2tPblN1Y2Nlc3M6IGplc3QuTW9jaztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrT25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICBtb2NrT25TdWNjZXNzID0gamVzdC5mbigpO1xuICAgIG1vY2tBZGRUb2FzdC5tb2NrQ2xlYXIoKTtcbiAgICBtb2NrRmV0Y2gubW9ja0NsZWFyKCk7XG4gICAgXG4gICAgLy8gRGVmYXVsdCBzdWNjZXNzZnVsIHJlc3BvbnNlc1xuICAgIG1vY2tGZXRjaFxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGd1ZXN0czogbW9ja0d1ZXN0cyB9IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0dyb3VwcyB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tUZW1wbGF0ZXMgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNb2RhbCBEaXNwbGF5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbm90IHJlbmRlciB3aGVuIGlzT3BlbiBpcyBmYWxzZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e2ZhbHNlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0NvbXBvc2UgRW1haWwnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aGVuIGlzT3BlbiBpcyB0cnVlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29tcG9zZSBFbWFpbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2xvc2Ugd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgY2xvc2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0Nsb3NlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b24pO1xuXG4gICAgICBleHBlY3QobW9ja09uQ2xvc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsbCBvbkNsb3NlIHdoZW4gY2FuY2VsIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhjYW5jZWxCdXR0b24pO1xuXG4gICAgICBleHBlY3QobW9ja09uQ2xvc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RhdGEgTG9hZGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNob3cgbG9hZGluZyBzdGF0ZSBpbml0aWFsbHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZldGNoIGd1ZXN0cywgZ3JvdXBzLCBhbmQgdGVtcGxhdGVzIG9uIG9wZW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hZG1pbi9ndWVzdHMnKTtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYWRtaW4vZ3JvdXBzJyk7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FkbWluL2VtYWlscy90ZW1wbGF0ZXMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgZmV0Y2ggZGF0YSB3aGVuIG1vZGFsIGlzIGNsb3NlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e2ZhbHNlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgbG9hZGVkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdMb2FkaW5nLi4uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIHRlbXBsYXRlcyBhcmUgbG9hZGVkXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUlNWUCBSZW1pbmRlcicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlbGNvbWUgRW1haWwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gQ2hlY2sgZ3Vlc3RzIGFyZSBsb2FkZWQgKG9ubHkgdGhvc2Ugd2l0aCBlbWFpbHMpXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSm9obiBEb2UgKGpvaG5AZXhhbXBsZS5jb20pJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSmFuZSBTbWl0aCAoamFuZUBleGFtcGxlLmNvbSknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0JvYiBXaWxzb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7IC8vIE5vIGVtYWlsXG5cbiAgICAgIC8vIENoZWNrIGdyb3VwcyBhcmUgbG9hZGVkXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmFtaWx5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRnJpZW5kcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmV0Y2ggZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0FkZFRvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGxvYWQgZGF0YScsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUZW1wbGF0ZSBTZWxlY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwb3B1bGF0ZSBzdWJqZWN0IGFuZCBib2R5IHdoZW4gdGVtcGxhdGUgaXMgc2VsZWN0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdMb2FkaW5nLi4uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRlbXBsYXRlU2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCB0ZW1wbGF0ZS9pKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGVtcGxhdGVTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnMScgfSB9KTtcblxuICAgICAgY29uc3Qgc3ViamVjdElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdWJqZWN0L2kpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCBib2R5L2kpO1xuXG4gICAgICBleHBlY3Qoc3ViamVjdElucHV0KS50b0hhdmVWYWx1ZSgnUGxlYXNlIFJTVlAnKTtcbiAgICAgIGV4cGVjdChib2R5VGV4dGFyZWEpLnRvSGF2ZVZhbHVlKCc8cD5QbGVhc2UgcmVzcG9uZCBieS4uLjwvcD4nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgc3ViamVjdCBhbmQgYm9keSB3aGVuIG5vIHRlbXBsYXRlIGlzIHNlbGVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZVNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwgdGVtcGxhdGUvaSk7XG4gICAgICBjb25zdCBzdWJqZWN0SW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3N1YmplY3QvaSk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsIGJvZHkvaSk7XG5cbiAgICAgIC8vIFNlbGVjdCB0ZW1wbGF0ZSBmaXJzdFxuICAgICAgZmlyZUV2ZW50LmNoYW5nZSh0ZW1wbGF0ZVNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICcxJyB9IH0pO1xuICAgICAgZXhwZWN0KHN1YmplY3RJbnB1dCkudG9IYXZlVmFsdWUoJ1BsZWFzZSBSU1ZQJyk7XG5cbiAgICAgIC8vIENsZWFyIHRlbXBsYXRlXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRlbXBsYXRlU2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogJycgfSB9KTtcbiAgICAgIGV4cGVjdChzdWJqZWN0SW5wdXQpLnRvSGF2ZVZhbHVlKCcnKTtcbiAgICAgIGV4cGVjdChib2R5VGV4dGFyZWEpLnRvSGF2ZVZhbHVlKCcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlY2lwaWVudCBTZWxlY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzd2l0Y2ggYmV0d2VlbiBndWVzdCBhbmQgZ3JvdXAgcmVjaXBpZW50IHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJbml0aWFsbHkgZ3Vlc3RzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgICAgY29uc3QgZ3Vlc3RSYWRpbyA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnSW5kaXZpZHVhbCBHdWVzdHMnKTtcbiAgICAgIGNvbnN0IGdyb3VwUmFkaW8gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0d1ZXN0IEdyb3VwcycpO1xuXG4gICAgICBleHBlY3QoZ3Vlc3RSYWRpbykudG9CZUNoZWNrZWQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKb2huIERvZSAoam9obkBleGFtcGxlLmNvbSknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gU3dpdGNoIHRvIGdyb3Vwc1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGdyb3VwUmFkaW8pO1xuXG4gICAgICBleHBlY3QoZ3JvdXBSYWRpbykudG9CZUNoZWNrZWQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYW1pbHknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0pvaG4gRG9lIChqb2huQGV4YW1wbGUuY29tKScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgc2VsZWN0ZWQgcmVjaXBpZW50cyB3aGVuIHN3aXRjaGluZyB0eXBlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0xvYWRpbmcuLi4nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVjaXBpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9yZWNpcGllbnRzL2kpO1xuICAgICAgY29uc3QgZ3JvdXBSYWRpbyA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnR3Vlc3QgR3JvdXBzJyk7XG5cbiAgICAgIC8vIFNlbGVjdCBhIGd1ZXN0XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHJlY2lwaWVudFNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6IFsnMSddIH0gfSk7XG5cbiAgICAgIC8vIFN3aXRjaCB0byBncm91cHNcbiAgICAgIGZpcmVFdmVudC5jbGljayhncm91cFJhZGlvKTtcblxuICAgICAgLy8gUmVjaXBpZW50cyBzaG91bGQgYmUgY2xlYXJlZFxuICAgICAgZXhwZWN0KHJlY2lwaWVudFNlbGVjdC5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoKS50b0JlKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRm9ybSBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGF0IHJlY2lwaWVudHMgYXJlIHNlbGVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrQWRkVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSByZWNpcGllbnQnLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGF0IHN1YmplY3QgaXMgZW50ZXJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlY2lwaWVudFNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmVjaXBpZW50cy9pKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocmVjaXBpZW50U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogWycxJ10gfSB9KTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrQWRkVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSBzdWJqZWN0JyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhhdCBib2R5IGlzIGVudGVyZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWNpcGllbnRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3JlY2lwaWVudHMvaSk7XG4gICAgICBjb25zdCBzdWJqZWN0SW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3N1YmplY3QvaSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocmVjaXBpZW50U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogWycxJ10gfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc3ViamVjdElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgU3ViamVjdCcgfSB9KTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrQWRkVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgZW1haWwgYm9keScsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoYXQgc2VsZWN0ZWQgcmVjaXBpZW50cyBoYXZlIGVtYWlsIGFkZHJlc3NlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgZ3Vlc3RzIHdpdGggbm8gZW1haWwgYWRkcmVzc2VzXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgZ3Vlc3RzOiBbeyBpZDogJzEnLCBmaXJzdF9uYW1lOiAnSm9obicsIGxhc3RfbmFtZTogJ0RvZScsIGVtYWlsOiBudWxsIH1dIH0gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17ZmFsc2V9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxFbWFpbENvbXBvc2VyXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAgIG9uU3VjY2Vzcz17bW9ja09uU3VjY2Vzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdMb2FkaW5nLi4uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlY2lwaWVudFNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmVjaXBpZW50cy9pKTtcbiAgICAgIGNvbnN0IHN1YmplY3RJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvc3ViamVjdC9pKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwgYm9keS9pKTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShyZWNpcGllbnRTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiBbJzEnXSB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzdWJqZWN0SW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVGVzdCBTdWJqZWN0JyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShib2R5VGV4dGFyZWEsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVGVzdCBCb2R5JyB9IH0pO1xuXG4gICAgICBjb25zdCBzZW5kQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2VuZCBlbWFpbC9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNlbmRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tBZGRUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogJ05vIHZhbGlkIGVtYWlsIGFkZHJlc3NlcyBmb3VuZCBmb3Igc2VsZWN0ZWQgcmVjaXBpZW50cycsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFbWFpbCBTZW5kaW5nJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZW5kIGVtYWlsIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCByZWNpcGllbnRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3JlY2lwaWVudHMvaSk7XG4gICAgICBjb25zdCBzdWJqZWN0SW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3N1YmplY3QvaSk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsIGJvZHkvaSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocmVjaXBpZW50U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogWycxJywgJzInXSB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShzdWJqZWN0SW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVGVzdCBTdWJqZWN0JyB9IH0pO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShib2R5VGV4dGFyZWEsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnPHA+VGVzdCBCb2R5PC9wPicgfSB9KTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FkbWluL2VtYWlscy9zZW5kJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHJlY2lwaWVudHM6IFsnam9obkBleGFtcGxlLmNvbScsICdqYW5lQGV4YW1wbGUuY29tJ10sXG4gICAgICAgICAgICBzdWJqZWN0OiAnVGVzdCBTdWJqZWN0JyxcbiAgICAgICAgICAgIGh0bWw6ICc8cD5UZXN0IEJvZHk8L3A+JyxcbiAgICAgICAgICAgIHRleHQ6ICdUZXN0IEJvZHknLFxuICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tBZGRUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdFbWFpbCBzZW50IHRvIDIgcmVjaXBpZW50KHMpJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja09uU3VjY2VzcykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tPbkNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgdGVtcGxhdGUgSUQgd2hlbiB0ZW1wbGF0ZSBpcyBzZWxlY3RlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCB0ZW1wbGF0ZVNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwgdGVtcGxhdGUvaSk7XG4gICAgICBjb25zdCByZWNpcGllbnRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3JlY2lwaWVudHMvaSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGVtcGxhdGVTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnMScgfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocmVjaXBpZW50U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogWycxJ10gfSB9KTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2FkbWluL2VtYWlscy9zZW5kJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHJlY2lwaWVudHM6IFsnam9obkBleGFtcGxlLmNvbSddLFxuICAgICAgICAgICAgc3ViamVjdDogJ1BsZWFzZSBSU1ZQJyxcbiAgICAgICAgICAgIGh0bWw6ICc8cD5QbGVhc2UgcmVzcG9uZCBieS4uLjwvcD4nLFxuICAgICAgICAgICAgdGV4dDogJ1BsZWFzZSByZXNwb25kIGJ5Li4uJyxcbiAgICAgICAgICAgIHRlbXBsYXRlX2lkOiAnMScsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZW5kIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IG1lc3NhZ2U6ICdTZW5kIGZhaWxlZCcgfSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCByZWNpcGllbnRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3JlY2lwaWVudHMvaSk7XG4gICAgICBjb25zdCBzdWJqZWN0SW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3N1YmplY3QvaSk7XG4gICAgICBjb25zdCBib2R5VGV4dGFyZWEgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsIGJvZHkvaSk7XG5cbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UocmVjaXBpZW50U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogWycxJ10gfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc3ViamVjdElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgU3ViamVjdCcgfSB9KTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UoYm9keVRleHRhcmVhLCB7IHRhcmdldDogeyB2YWx1ZTogJ1Rlc3QgQm9keScgfSB9KTtcblxuICAgICAgY29uc3Qgc2VuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NlbmQgZW1haWwvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzZW5kQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrQWRkVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdTZW5kIGZhaWxlZCcsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrT25TdWNjZXNzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tPbkNsb3NlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmV0d29yayBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKTtcblxuICAgICAgY29uc3QgcmVjaXBpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9yZWNpcGllbnRzL2kpO1xuICAgICAgY29uc3Qgc3ViamVjdElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdWJqZWN0L2kpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCBib2R5L2kpO1xuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHJlY2lwaWVudFNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6IFsnMSddIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN1YmplY3RJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IFN1YmplY3QnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGJvZHlUZXh0YXJlYSwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IEJvZHknIH0gfSk7XG5cbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zZW5kIGVtYWlsL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2VuZEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0FkZFRvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHNlbmQgZW1haWwnLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRW1haWwgUHJldmlldycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0xvYWRpbmcuLi4nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBwcmV2aWV3IHdoZW4gcHJldmlldyBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zaG93IHByZXZpZXcvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhwcmV2aWV3QnV0dG9uKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9oaWRlIHByZXZpZXcvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlkZSBwcmV2aWV3IHdoZW4gaGlkZSBidXR0b24gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zaG93IHByZXZpZXcvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhwcmV2aWV3QnV0dG9uKTtcblxuICAgICAgY29uc3QgaGlkZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2hpZGUgcHJldmlldy9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGhpZGVCdXR0b24pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdQcmV2aWV3JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3Nob3cgcHJldmlldy9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHByZXZpZXcgY29udGVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlY2lwaWVudFNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmVjaXBpZW50cy9pKTtcbiAgICAgIGNvbnN0IHN1YmplY3RJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvc3ViamVjdC9pKTtcbiAgICAgIGNvbnN0IGJvZHlUZXh0YXJlYSA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwgYm9keS9pKTtcblxuICAgICAgZmlyZUV2ZW50LmNoYW5nZShyZWNpcGllbnRTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiBbJzEnLCAnMiddIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN1YmplY3RJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IFN1YmplY3QnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGJvZHlUZXh0YXJlYSwgeyB0YXJnZXQ6IHsgdmFsdWU6ICc8cD5UZXN0IEJvZHk8L3A+JyB9IH0pO1xuXG4gICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2hvdyBwcmV2aWV3L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTdWJqZWN0OicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU3ViamVjdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvOicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzIgcmVjaXBpZW50KHMpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMb2FkaW5nIFN0YXRlcycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEVtYWlsQ29tcG9zZXJcbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgICAgb25TdWNjZXNzPXttb2NrT25TdWNjZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0xvYWRpbmcuLi4nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzYWJsZSBidXR0b25zIGR1cmluZyBzdWJtaXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2xvd1NlbmQgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoc2xvd1NlbmQgYXMgYW55KTtcblxuICAgICAgY29uc3QgcmVjaXBpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9yZWNpcGllbnRzL2kpO1xuICAgICAgY29uc3Qgc3ViamVjdElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdWJqZWN0L2kpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCBib2R5L2kpO1xuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHJlY2lwaWVudFNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6IFsnMSddIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN1YmplY3RJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IFN1YmplY3QnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGJvZHlUZXh0YXJlYSwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IEJvZHknIH0gfSk7XG5cbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zZW5kIGVtYWlsL2kgfSk7XG4gICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jYW5jZWwvaSB9KTtcbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zaG93IHByZXZpZXcvaSB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNlbmRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNlbmRCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgICAgICBleHBlY3QoY2FuY2VsQnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgICAgZXhwZWN0KHByZXZpZXdCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgc2VuZGluZyB0ZXh0IGR1cmluZyBzdWJtaXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2xvd1NlbmQgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoc2xvd1NlbmQgYXMgYW55KTtcblxuICAgICAgY29uc3QgcmVjaXBpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9yZWNpcGllbnRzL2kpO1xuICAgICAgY29uc3Qgc3ViamVjdElucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdWJqZWN0L2kpO1xuICAgICAgY29uc3QgYm9keVRleHRhcmVhID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCBib2R5L2kpO1xuXG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHJlY2lwaWVudFNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6IFsnMSddIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN1YmplY3RJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IFN1YmplY3QnIH0gfSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGJvZHlUZXh0YXJlYSwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdUZXN0IEJvZHknIH0gfSk7XG5cbiAgICAgIGNvbnN0IHNlbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zZW5kIGVtYWlsL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2VuZEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VuZGluZy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8RW1haWxDb21wb3NlclxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgICBvblN1Y2Nlc3M9e21vY2tPblN1Y2Nlc3N9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9hZGluZy4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBmb3JtIGxhYmVscycsICgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2VtYWlsIHRlbXBsYXRlL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmVjaXBpZW50cy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3N1YmplY3QvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9lbWFpbCBib2R5L2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHJlcXVpcmVkIGF0dHJpYnV0ZXMgb24gcmVxdWlyZWQgZmllbGRzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmVjaXBpZW50cy9pKSkudG9IYXZlQXR0cmlidXRlKCdyZXF1aXJlZCcpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvc3ViamVjdC9pKSkudG9IYXZlQXR0cmlidXRlKCdyZXF1aXJlZCcpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZW1haWwgYm9keS9pKSkudG9IYXZlQXR0cmlidXRlKCdyZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBjbG9zZSBidXR0b24gYWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDbG9zZScpO1xuICAgICAgZXhwZWN0KGNsb3NlQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIGhlbHAgdGV4dCBmb3IgcmVjaXBpZW50cyBmaWVsZCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb2xkIEN0cmwvQ21kIHRvIHNlbGVjdCBtdWx0aXBsZSByZWNpcGllbnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgaGVscCB0ZXh0IGZvciBlbWFpbCBib2R5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0hUTUwgdGFncyBhcmUgc3VwcG9ydGVkLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlVG9hc3QiLCJhZGRUb2FzdCIsIm1vY2tBZGRUb2FzdCIsImZuIiwiZ2xvYmFsIiwiZmV0Y2giLCJtb2NrR3Vlc3RzIiwiaWQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZW1haWwiLCJtb2NrR3JvdXBzIiwibmFtZSIsIm1vY2tUZW1wbGF0ZXMiLCJzdWJqZWN0IiwiYm9keV9odG1sIiwiZGVzY3JpYmUiLCJtb2NrRmV0Y2giLCJtb2NrT25DbG9zZSIsIm1vY2tPblN1Y2Nlc3MiLCJiZWZvcmVFYWNoIiwibW9ja0NsZWFyIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJndWVzdHMiLCJhZnRlckVhY2giLCJjbGVhbnVwIiwiaXQiLCJyZW5kZXIiLCJFbWFpbENvbXBvc2VyIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VjY2VzcyIsImV4cGVjdCIsInNjcmVlbiIsInF1ZXJ5QnlUZXh0Iiwibm90IiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVRleHQiLCJjbG9zZUJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkIiwid2FpdEZvciIsImNhbmNlbEJ1dHRvbiIsImdldEJ5Um9sZSIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsInR5cGUiLCJtZXNzYWdlIiwidGVtcGxhdGVTZWxlY3QiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJ2YWx1ZSIsInN1YmplY3RJbnB1dCIsImJvZHlUZXh0YXJlYSIsInRvSGF2ZVZhbHVlIiwiZ3Vlc3RSYWRpbyIsImdyb3VwUmFkaW8iLCJ0b0JlQ2hlY2tlZCIsInJlY2lwaWVudFNlbGVjdCIsInNlbGVjdGVkT3B0aW9ucyIsImxlbmd0aCIsInRvQmUiLCJzZW5kQnV0dG9uIiwicmVyZW5kZXIiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWNpcGllbnRzIiwiaHRtbCIsInRleHQiLCJ0ZW1wbGF0ZV9pZCIsInVuZGVmaW5lZCIsImVycm9yIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwicHJldmlld0J1dHRvbiIsImhpZGVCdXR0b24iLCJzbG93U2VuZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJ0b0JlRGlzYWJsZWQiLCJ0b0hhdmVBdHRyaWJ1dGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7O0NBYUM7QUFPREEsS0FBS0MsSUFBSSxDQUFDLGdDQUFnQyxJQUFPLENBQUE7UUFDL0NDLFVBQVUsSUFBTyxDQUFBO2dCQUFFQyxVQUFVQztZQUFhLENBQUE7SUFDNUMsQ0FBQTs7Ozs7dUJBUDREOytCQUM5QjtBQUU5QixxQkFBcUI7QUFDckIsTUFBTUEsZUFBZUosS0FBS0ssRUFBRTtBQUs1QixhQUFhO0FBQ2JDLE9BQU9DLEtBQUssR0FBR1AsS0FBS0ssRUFBRTtBQUV0QixNQUFNRyxhQUFhO0lBQ2pCO1FBQUVDLElBQUk7UUFBS0MsWUFBWTtRQUFRQyxXQUFXO1FBQU9DLE9BQU87SUFBbUI7SUFDM0U7UUFBRUgsSUFBSTtRQUFLQyxZQUFZO1FBQVFDLFdBQVc7UUFBU0MsT0FBTztJQUFtQjtJQUM3RTtRQUFFSCxJQUFJO1FBQUtDLFlBQVk7UUFBT0MsV0FBVztRQUFVQyxPQUFPO0lBQUs7Q0FDaEU7QUFFRCxNQUFNQyxhQUFhO0lBQ2pCO1FBQUVKLElBQUk7UUFBS0ssTUFBTTtJQUFTO0lBQzFCO1FBQUVMLElBQUk7UUFBS0ssTUFBTTtJQUFVO0NBQzVCO0FBRUQsTUFBTUMsZ0JBQWdCO0lBQ3BCO1FBQUVOLElBQUk7UUFBS0ssTUFBTTtRQUFpQkUsU0FBUztRQUFlQyxXQUFXO0lBQThCO0lBQ25HO1FBQUVSLElBQUk7UUFBS0ssTUFBTTtRQUFpQkUsU0FBUztRQUFZQyxXQUFXO0lBQW1DO0NBQ3RHO0FBRURDLFNBQVMsaUJBQWlCO0lBQ3hCLE1BQU1DLFlBQVlaO0lBQ2xCLElBQUlhO0lBQ0osSUFBSUM7SUFFSkMsV0FBVztRQUNURixjQUFjcEIsS0FBS0ssRUFBRTtRQUNyQmdCLGdCQUFnQnJCLEtBQUtLLEVBQUU7UUFDdkJELGFBQWFtQixTQUFTO1FBQ3RCSixVQUFVSSxTQUFTO1FBRW5CLCtCQUErQjtRQUMvQkosVUFDR0ss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