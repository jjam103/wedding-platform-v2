{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.modal.test.tsx"],"sourcesContent":["/**\n * Unit Tests for Guest Edit Modal - Extended Fields\n * \n * Tests extended field validation and form submission including:\n * - Travel information fields (arrival/departure dates, airport, flight number)\n * - Plus-one information fields\n * - Field grouping\n * - Form submission with extended data\n * \n * Validates: Requirements 24.1-24.10\n */\n\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport GuestsPage from './page';\nimport { ToastProvider } from '@/components/ui/ToastContext';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(() => null),\n    toString: jest.fn(() => ''),\n  }),\n}));\n\n// Mock DataTable components\njest.mock('@/components/ui/DataTable', () => ({\n  DataTable: ({ data, columns, loading }: any) => {\n    if (loading) return <div>Loading...</div>;\n    if (data.length === 0) return <div>No items found</div>;\n    return (\n      <div data-testid=\"data-table\">\n        {data.map((item: any, index: number) => (\n          <div key={index} data-testid={`guest-row-${item.id}`}>\n            {columns.map((col: any) => {\n              const value = item[col.key];\n              const displayValue = col.render ? col.render(value, item) : value;\n              return (\n                <div key={col.key} data-testid={`${col.key}-${item.id}`}>\n                  {displayValue}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  },\n}));\n\njest.mock('@/components/ui/DataTableWithSuspense', () => ({\n  DataTableWithSuspense: ({ data, columns, loading }: any) => {\n    if (loading) return <div>Loading...</div>;\n    if (data.length === 0) return <div>No items found</div>;\n    return (\n      <div data-testid=\"data-table\">\n        {data.map((item: any, index: number) => (\n          <div key={index} data-testid={`guest-row-${item.id}`}>\n            {columns.map((col: any) => {\n              const value = item[col.key];\n              const displayValue = col.render ? col.render(value, item) : value;\n              return (\n                <div key={col.key} data-testid={`${col.key}-${item.id}`}>\n                  {displayValue}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  },\n}));\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\n// Mock window.scrollTo\nwindow.scrollTo = jest.fn();\n\n// Sample guest data with extended fields\nconst mockGuestWithExtendedFields = {\n  id: '123e4567-e89b-12d3-a456-426614174000',\n  groupId: '123e4567-e89b-12d3-a456-426614174001',\n  firstName: 'John',\n  lastName: 'Doe',\n  email: 'john.doe@example.com',\n  phone: '+1234567890',\n  ageType: 'adult' as const,\n  guestType: 'wedding_guest' as const,\n  dietaryRestrictions: 'Vegetarian',\n  plusOneName: 'Jane Doe',\n  plusOneAttending: true,\n  arrivalDate: '2024-06-01',\n  departureDate: '2024-06-05',\n  airportCode: 'SJO' as const,\n  flightNumber: 'AA123',\n  invitationSent: true,\n  invitationSentDate: '2024-01-15',\n  rsvpDeadline: '2024-05-01',\n  notes: 'Prefers window seat',\n  createdAt: '2024-01-01T00:00:00Z',\n  updatedAt: '2024-01-01T00:00:00Z',\n};\n\ndescribe('Guest Edit Modal - Extended Fields', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    \n    // Mock successful API responses\n    (global.fetch as jest.Mock).mockImplementation((url: string) => {\n      if (url.includes('/api/admin/guests') && !url.includes('?')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: {\n              guests: [mockGuestWithExtendedFields],\n              total: 1,\n              page: 1,\n              pageSize: 50,\n              totalPages: 1,\n            },\n          }),\n        });\n      }\n      if (url.includes('/api/admin/groups')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [{ id: '123e4567-e89b-12d3-a456-426614174001', name: 'Test Group' }],\n          }),\n        });\n      }\n      if (url.includes('/api/admin/activities')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [],\n          }),\n        });\n      }\n      if (url.includes('/api/admin/rsvps')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [],\n          }),\n        });\n      }\n      return Promise.reject(new Error('Unknown URL'));\n    });\n  });\n\n  it('should display arrival date field in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    // Click guest row to open edit modal - use the first occurrence (table cell)\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify arrival date field exists\n      const arrivalDateField = screen.getByLabelText(/Arrival Date/i);\n      expect(arrivalDateField).toBeInTheDocument();\n      expect((arrivalDateField as HTMLInputElement).value).toBe('2024-06-01');\n    }\n  });\n\n  it('should display departure date field in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify departure date field exists\n      const departureDateField = screen.getByLabelText(/Departure Date/i);\n      expect(departureDateField).toBeInTheDocument();\n      expect((departureDateField as HTMLInputElement).value).toBe('2024-06-05');\n    }\n  });\n\n  it('should display airport field in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify airport field exists - query by name attribute to avoid filter dropdown\n      const airportField = document.querySelector('select[name=\"airportCode\"]') as HTMLSelectElement;\n      expect(airportField).toBeInTheDocument();\n      expect(airportField.value).toBe('SJO');\n    }\n  });\n\n  it('should display flight number field in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify flight number field exists\n      const flightNumberField = screen.getByLabelText(/Flight Number/i);\n      expect(flightNumberField).toBeInTheDocument();\n      expect((flightNumberField as HTMLInputElement).value).toBe('AA123');\n    }\n  });\n\n  it('should display plus-one name field in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify plus-one name field exists\n      const plusOneNameField = screen.getByLabelText(/Plus-One Name/i);\n      expect(plusOneNameField).toBeInTheDocument();\n      expect((plusOneNameField as HTMLInputElement).value).toBe('Jane Doe');\n    }\n  });\n\n  it('should display plus-one attending checkbox in edit modal', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify plus-one attending checkbox exists\n      const plusOneAttendingField = screen.getByLabelText(/Plus-One Attending/i);\n      expect(plusOneAttendingField).toBeInTheDocument();\n      expect((plusOneAttendingField as HTMLInputElement).checked).toBe(true);\n    }\n  });\n\n  it('should submit form with extended fields when updated', async () => {\n    // Mock successful update\n    (global.fetch as jest.Mock).mockImplementation((url: string, options?: any) => {\n      if (url.includes('/api/admin/guests/') && options?.method === 'PUT') {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: mockGuestWithExtendedFields,\n          }),\n        });\n      }\n      // Default mocks for other requests\n      if (url.includes('/api/admin/guests')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: {\n              guests: [mockGuestWithExtendedFields],\n              total: 1,\n              page: 1,\n              pageSize: 50,\n              totalPages: 1,\n            },\n          }),\n        });\n      }\n      if (url.includes('/api/admin/groups')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [{ id: '123e4567-e89b-12d3-a456-426614174001', name: 'Test Group' }],\n          }),\n        });\n      }\n      if (url.includes('/api/admin/activities')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [],\n          }),\n        });\n      }\n      if (url.includes('/api/admin/rsvps')) {\n        return Promise.resolve({\n          ok: true,\n          json: () => Promise.resolve({\n            success: true,\n            data: [],\n          }),\n        });\n      }\n      return Promise.reject(new Error('Unknown URL'));\n    });\n\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Update flight number\n      const flightNumberField = screen.getByLabelText(/Flight Number/i) as HTMLInputElement;\n      fireEvent.change(flightNumberField, { target: { value: 'UA456' } });\n\n      // Submit form\n      const submitButton = screen.getByText('Update');\n      fireEvent.click(submitButton);\n\n      // Wait for API call\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          expect.stringContaining('/api/admin/guests/123e4567-e89b-12d3-a456-426614174000'),\n          expect.objectContaining({\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n          })\n        );\n      });\n    }\n  });\n\n  it('should validate extended fields when submitting', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // All extended fields should be optional, so form should be valid\n      const submitButton = screen.getByText('Update');\n      expect(submitButton).toBeEnabled();\n    }\n  });\n\n  it('should display all field groups logically organized', async () => {\n    render(\n      <ToastProvider>\n        <GuestsPage />\n      </ToastProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getAllByText('John')[0]).toBeInTheDocument();\n    });\n\n    const guestRow = screen.getAllByText('John')[0].closest('tr');\n    if (guestRow) {\n      fireEvent.click(guestRow);\n\n      await waitFor(() => {\n        expect(screen.getByText('Edit Guest')).toBeInTheDocument();\n      });\n\n      // Verify Personal Info fields\n      expect(screen.getByLabelText(/First Name/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/Last Name/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/Email/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/Phone/i)).toBeInTheDocument();\n      \n      // Query Age Type and Guest Type by name attribute to avoid filter dropdowns\n      const ageTypeField = document.querySelector('select[name=\"ageType\"]');\n      expect(ageTypeField).toBeInTheDocument();\n      \n      const guestTypeField = document.querySelector('select[name=\"guestType\"]');\n      expect(guestTypeField).toBeInTheDocument();\n      \n      expect(screen.getByLabelText(/Dietary Restrictions/i)).toBeInTheDocument();\n\n      // Verify Travel Info fields\n      expect(screen.getByLabelText(/Arrival Date/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/Departure Date/i)).toBeInTheDocument();\n      \n      // Query Airport by name attribute to avoid filter dropdown\n      const airportField = document.querySelector('select[name=\"airportCode\"]');\n      expect(airportField).toBeInTheDocument();\n      \n      expect(screen.getByLabelText(/Flight Number/i)).toBeInTheDocument();\n\n      // Verify Plus-One Info fields\n      expect(screen.getByLabelText(/Plus-One Name/i)).toBeInTheDocument();\n      expect(screen.getByLabelText(/Plus-One Attending/i)).toBeInTheDocument();\n\n      // Verify Notes field\n      expect(screen.getByLabelText(/Notes/i)).toBeInTheDocument();\n    }\n  });\n});\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","useSearchParams","get","toString","DataTable","data","columns","loading","div","length","data-testid","map","item","index","id","col","value","key","displayValue","render","DataTableWithSuspense","global","fetch","window","scrollTo","mockGuestWithExtendedFields","groupId","firstName","lastName","email","phone","ageType","guestType","dietaryRestrictions","plusOneName","plusOneAttending","arrivalDate","departureDate","airportCode","flightNumber","invitationSent","invitationSentDate","rsvpDeadline","notes","createdAt","updatedAt","describe","beforeEach","clearAllMocks","mockImplementation","url","includes","Promise","resolve","ok","json","success","guests","total","page","pageSize","totalPages","name","reject","Error","it","ToastProvider","GuestsPage","waitFor","expect","screen","getAllByText","toBeInTheDocument","guestRow","closest","fireEvent","click","getByText","arrivalDateField","getByLabelText","toBe","departureDateField","airportField","document","querySelector","flightNumberField","plusOneNameField","plusOneAttendingField","checked","options","method","change","target","submitButton","toHaveBeenCalledWith","stringContaining","objectContaining","headers","toBeEnabled","ageTypeField","guestTypeField"],"mappings":"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"}