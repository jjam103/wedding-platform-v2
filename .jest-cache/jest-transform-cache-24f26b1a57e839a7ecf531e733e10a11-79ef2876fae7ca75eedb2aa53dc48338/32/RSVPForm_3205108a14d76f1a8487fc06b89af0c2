35c4aa700dcd10917d0b2e64a0daef8b
/**
 * RSVP Form Component
 * 
 * Allows guests to submit or update their RSVP for activities.
 * Includes validation for deadlines, capacity, and guest counts.
 * 
 * Requirements: 10.1, 10.2, 10.3, 10.4, 10.5, 10.6, 10.7, 10.8, 10.9, 10.10
 */ 'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "RSVPForm", {
    enumerable: true,
    get: function() {
        return RSVPForm;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _zod = require("zod");
const _sanitization = require("../../utils/sanitization");
// RSVP form schema
const rsvpFormSchema = _zod.z.object({
    status: _zod.z.enum([
        'attending',
        'declined',
        'maybe'
    ]),
    guestCount: _zod.z.number().int().positive('Guest count must be positive').optional(),
    dietaryRestrictions: _zod.z.string().max(500, 'Dietary restrictions must be 500 characters or less').optional(),
    plusOne: _zod.z.boolean().optional()
});
function RSVPForm({ activityId, currentRsvp, activityDetails, onSuccess, onCancel }) {
    const [formData, setFormData] = (0, _react.useState)({
        status: currentRsvp?.status === 'pending' ? 'attending' : currentRsvp?.status || 'attending',
        guestCount: currentRsvp?.guest_count || 1,
        dietaryRestrictions: currentRsvp?.dietary_notes || '',
        plusOne: false
    });
    const [errors, setErrors] = (0, _react.useState)({});
    const [loading, setLoading] = (0, _react.useState)(false);
    const [submitError, setSubmitError] = (0, _react.useState)(null);
    // Check if deadline has passed
    const isDeadlinePassed = activityDetails?.rsvpDeadline ? new Date(activityDetails.rsvpDeadline) < new Date() : false;
    // Check if capacity is full
    const isCapacityFull = activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined ? activityDetails.capacityRemaining <= 0 : false;
    // Check if capacity is almost full (< 10% remaining)
    const isCapacityAlmostFull = activityDetails?.capacity && activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined ? activityDetails.capacityRemaining / activityDetails.capacity < 0.1 : false;
    // Validate form
    const validateForm = ()=>{
        const newErrors = {};
        // Deadline validation
        if (isDeadlinePassed) {
            newErrors.deadline = 'The RSVP deadline for this activity has passed. You can no longer submit or update your RSVP.';
            setErrors(newErrors);
            return false;
        }
        // Capacity validation (only for "attending" status)
        if (formData.status === 'attending') {
            if (isCapacityFull) {
                newErrors.capacity = 'This activity is at full capacity. You cannot RSVP as attending.';
                setErrors(newErrors);
                return false;
            }
            // Guest count validation
            if (!formData.guestCount || formData.guestCount < 1) {
                newErrors.guestCount = 'Guest count must be at least 1 when attending.';
            }
            // Check if guest count exceeds remaining capacity
            if (activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined) {
                const requestedCount = formData.guestCount || 1;
                if (requestedCount > activityDetails.capacityRemaining) {
                    newErrors.guestCount = `Only ${activityDetails.capacityRemaining} spot(s) remaining. Please reduce your guest count.`;
                }
            }
        }
        // Zod validation
        const validation = rsvpFormSchema.safeParse(formData);
        if (!validation.success) {
            validation.error.issues.forEach((issue)=>{
                if (issue.path[0]) {
                    newErrors[issue.path[0].toString()] = issue.message;
                }
            });
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    // Handle form submission
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setSubmitError(null);
        if (!validateForm()) {
            return;
        }
        setLoading(true);
        try {
            // Sanitize input
            const sanitizedData = {
                ...formData,
                dietaryRestrictions: formData.dietaryRestrictions ? (0, _sanitization.sanitizeInput)(formData.dietaryRestrictions) : undefined
            };
            // Determine API endpoint
            const url = currentRsvp ? `/api/guest/rsvps/${currentRsvp.id}` : `/api/guest/rsvps`;
            const method = currentRsvp ? 'PUT' : 'POST';
            const body = currentRsvp ? sanitizedData : {
                ...sanitizedData,
                activityId
            };
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(body)
            });
            const result = await response.json();
            if (!result.success) {
                throw new Error(result.error?.message || 'Failed to submit RSVP');
            }
            // Show success message (could use toast here)
            onSuccess();
        } catch (error) {
            setSubmitError(error instanceof Error ? error.message : 'An error occurred while submitting your RSVP');
        } finally{
            setLoading(false);
        }
    };
    // Handle status change
    const handleStatusChange = (status)=>{
        setFormData({
            ...formData,
            status
        });
        setErrors({});
    };
    // Handle guest count change
    const handleGuestCountChange = (count)=>{
        setFormData({
            ...formData,
            guestCount: count
        });
        setErrors({
            ...errors,
            guestCount: ''
        });
    };
    // Handle dietary restrictions change
    const handleDietaryRestrictionsChange = (value)=>{
        setFormData({
            ...formData,
            dietaryRestrictions: value
        });
        setErrors({
            ...errors,
            dietaryRestrictions: ''
        });
    };
    // Handle plus-one change
    const handlePlusOneChange = (checked)=>{
        setFormData({
            ...formData,
            plusOne: checked
        });
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
        onSubmit: handleSubmit,
        className: "space-y-6",
        children: [
            isDeadlinePassed && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-red-800 font-medium",
                    children: "⚠️ The RSVP deadline for this activity has passed. You can no longer submit or update your RSVP."
                })
            }),
            !isDeadlinePassed && isCapacityAlmostFull && !isCapacityFull && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                    className: "text-sm text-yellow-800 font-medium",
                    children: [
                        "⚠️ This activity is almost full! Only ",
                        activityDetails?.capacityRemaining,
                        " spot(s) remaining."
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "RSVP Status *"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "grid grid-cols-3 gap-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('attending'),
                                disabled: isDeadlinePassed || isCapacityFull && formData.status !== 'attending',
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'attending' ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-300 bg-white text-gray-700 hover:border-green-300'} ${isDeadlinePassed || isCapacityFull && formData.status !== 'attending' ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Attending"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('maybe'),
                                disabled: isDeadlinePassed,
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'maybe' ? 'border-yellow-500 bg-yellow-50 text-yellow-700' : 'border-gray-300 bg-white text-gray-700 hover:border-yellow-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Maybe"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('declined'),
                                disabled: isDeadlinePassed,
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'declined' ? 'border-red-500 bg-red-50 text-red-700' : 'border-gray-300 bg-white text-gray-700 hover:border-red-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Declined"
                            })
                        ]
                    }),
                    errors.capacity && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-2 text-sm text-red-600",
                        children: errors.capacity
                    })
                ]
            }),
            formData.status === 'attending' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "guestCount",
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "Number of Guests *"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "number",
                        id: "guestCount",
                        min: "1",
                        value: formData.guestCount || 1,
                        onChange: (e)=>handleGuestCountChange(parseInt(e.target.value, 10)),
                        disabled: isDeadlinePassed,
                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 ${errors.guestCount ? 'border-red-500' : 'border-gray-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`
                    }),
                    errors.guestCount && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-1 text-sm text-red-600",
                        children: errors.guestCount
                    }),
                    activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        className: "mt-1 text-sm text-gray-600",
                        children: [
                            activityDetails.capacityRemaining,
                            " spot(s) remaining"
                        ]
                    })
                ]
            }),
            formData.status === 'attending' && activityDetails?.isMeal && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "dietaryRestrictions",
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "Dietary Restrictions"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                        id: "dietaryRestrictions",
                        rows: 3,
                        value: formData.dietaryRestrictions || '',
                        onChange: (e)=>handleDietaryRestrictionsChange(e.target.value),
                        disabled: isDeadlinePassed,
                        placeholder: "Please let us know about any dietary restrictions or allergies...",
                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 ${errors.dietaryRestrictions ? 'border-red-500' : 'border-gray-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`
                    }),
                    errors.dietaryRestrictions && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-1 text-sm text-red-600",
                        children: errors.dietaryRestrictions
                    })
                ]
            }),
            formData.status === 'attending' && activityDetails?.allowsPlusOnes && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "checkbox",
                        id: "plusOne",
                        checked: formData.plusOne || false,
                        onChange: (e)=>handlePlusOneChange(e.target.checked),
                        disabled: isDeadlinePassed,
                        className: "h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "plusOne",
                        className: "ml-2 block text-sm text-gray-700",
                        children: "I will be bringing a plus-one"
                    })
                ]
            }),
            submitError && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-red-800",
                    children: submitError
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-end gap-3 pt-4 border-t border-gray-200",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: onCancel,
                        disabled: loading,
                        className: "px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                        children: "Cancel"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        type: "submit",
                        disabled: loading || isDeadlinePassed || Object.keys(errors).length > 0,
                        className: "px-4 py-2 text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",
                        children: [
                            loading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("svg", {
                                className: "animate-spin h-4 w-4 text-white",
                                xmlns: "http://www.w3.org/2000/svg",
                                fill: "none",
                                viewBox: "0 0 24 24",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                        className: "opacity-25",
                                        cx: "12",
                                        cy: "12",
                                        r: "10",
                                        stroke: "currentColor",
                                        strokeWidth: "4"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        className: "opacity-75",
                                        fill: "currentColor",
                                        d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                    })
                                ]
                            }),
                            loading ? 'Submitting...' : currentRsvp ? 'Update RSVP' : 'Submit RSVP'
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9SU1ZQRm9ybS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSU1ZQIEZvcm0gQ29tcG9uZW50XG4gKiBcbiAqIEFsbG93cyBndWVzdHMgdG8gc3VibWl0IG9yIHVwZGF0ZSB0aGVpciBSU1ZQIGZvciBhY3Rpdml0aWVzLlxuICogSW5jbHVkZXMgdmFsaWRhdGlvbiBmb3IgZGVhZGxpbmVzLCBjYXBhY2l0eSwgYW5kIGd1ZXN0IGNvdW50cy5cbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxMC4xLCAxMC4yLCAxMC4zLCAxMC40LCAxMC41LCAxMC42LCAxMC43LCAxMC44LCAxMC45LCAxMC4xMFxuICovXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnB1dCB9IGZyb20gJ0AvdXRpbHMvc2FuaXRpemF0aW9uJztcbmltcG9ydCB0eXBlIHsgUlNWUCB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyBSU1ZQIGZvcm0gc2NoZW1hXG5jb25zdCByc3ZwRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3RhdHVzOiB6LmVudW0oWydhdHRlbmRpbmcnLCAnZGVjbGluZWQnLCAnbWF5YmUnXSksXG4gIGd1ZXN0Q291bnQ6IHoubnVtYmVyKCkuaW50KCkucG9zaXRpdmUoJ0d1ZXN0IGNvdW50IG11c3QgYmUgcG9zaXRpdmUnKS5vcHRpb25hbCgpLFxuICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiB6LnN0cmluZygpLm1heCg1MDAsICdEaWV0YXJ5IHJlc3RyaWN0aW9ucyBtdXN0IGJlIDUwMCBjaGFyYWN0ZXJzIG9yIGxlc3MnKS5vcHRpb25hbCgpLFxuICBwbHVzT25lOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxufSk7XG5cbnR5cGUgUlNWUEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgcnN2cEZvcm1TY2hlbWE+O1xuXG5pbnRlcmZhY2UgUlNWUEZvcm1Qcm9wcyB7XG4gIGFjdGl2aXR5SWQ6IHN0cmluZztcbiAgY3VycmVudFJzdnA/OiBSU1ZQO1xuICBhY3Rpdml0eURldGFpbHM/OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNhcGFjaXR5OiBudW1iZXIgfCBudWxsO1xuICAgIGNhcGFjaXR5UmVtYWluaW5nOiBudW1iZXIgfCBudWxsO1xuICAgIHJzdnBEZWFkbGluZTogc3RyaW5nIHwgbnVsbDtcbiAgICBhbGxvd3NQbHVzT25lczogYm9vbGVhbjtcbiAgICBpc01lYWw6IGJvb2xlYW47XG4gIH07XG4gIG9uU3VjY2VzczogKCkgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSU1ZQRm9ybSh7XG4gIGFjdGl2aXR5SWQsXG4gIGN1cnJlbnRSc3ZwLFxuICBhY3Rpdml0eURldGFpbHMsXG4gIG9uU3VjY2VzcyxcbiAgb25DYW5jZWwsXG59OiBSU1ZQRm9ybVByb3BzKSB7XG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8UlNWUEZvcm1EYXRhPih7XG4gICAgc3RhdHVzOiBjdXJyZW50UnN2cD8uc3RhdHVzID09PSAncGVuZGluZycgPyAnYXR0ZW5kaW5nJyA6IChjdXJyZW50UnN2cD8uc3RhdHVzIGFzIGFueSkgfHwgJ2F0dGVuZGluZycsXG4gICAgZ3Vlc3RDb3VudDogY3VycmVudFJzdnA/Lmd1ZXN0X2NvdW50IHx8IDEsXG4gICAgZGlldGFyeVJlc3RyaWN0aW9uczogY3VycmVudFJzdnA/LmRpZXRhcnlfbm90ZXMgfHwgJycsXG4gICAgcGx1c09uZTogZmFsc2UsIC8vIFRoaXMgZmllbGQgZG9lc24ndCBleGlzdCBvbiBSU1ZQXG4gIH0pO1xuXG4gIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N1Ym1pdEVycm9yLCBzZXRTdWJtaXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBDaGVjayBpZiBkZWFkbGluZSBoYXMgcGFzc2VkXG4gIGNvbnN0IGlzRGVhZGxpbmVQYXNzZWQgPSBhY3Rpdml0eURldGFpbHM/LnJzdnBEZWFkbGluZVxuICAgID8gbmV3IERhdGUoYWN0aXZpdHlEZXRhaWxzLnJzdnBEZWFkbGluZSkgPCBuZXcgRGF0ZSgpXG4gICAgOiBmYWxzZTtcblxuICAvLyBDaGVjayBpZiBjYXBhY2l0eSBpcyBmdWxsXG4gIGNvbnN0IGlzQ2FwYWNpdHlGdWxsID0gYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gbnVsbCAmJiBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSB1bmRlZmluZWRcbiAgICA/IGFjdGl2aXR5RGV0YWlscy5jYXBhY2l0eVJlbWFpbmluZyA8PSAwXG4gICAgOiBmYWxzZTtcblxuICAvLyBDaGVjayBpZiBjYXBhY2l0eSBpcyBhbG1vc3QgZnVsbCAoPCAxMCUgcmVtYWluaW5nKVxuICBjb25zdCBpc0NhcGFjaXR5QWxtb3N0RnVsbCA9IGFjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHkgJiYgYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gbnVsbCAmJiBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSB1bmRlZmluZWRcbiAgICA/IChhY3Rpdml0eURldGFpbHMuY2FwYWNpdHlSZW1haW5pbmcgLyBhY3Rpdml0eURldGFpbHMuY2FwYWNpdHkpIDwgMC4xXG4gICAgOiBmYWxzZTtcblxuICAvLyBWYWxpZGF0ZSBmb3JtXG4gIGNvbnN0IHZhbGlkYXRlRm9ybSA9ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBuZXdFcnJvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICAgIC8vIERlYWRsaW5lIHZhbGlkYXRpb25cbiAgICBpZiAoaXNEZWFkbGluZVBhc3NlZCkge1xuICAgICAgbmV3RXJyb3JzLmRlYWRsaW5lID0gJ1RoZSBSU1ZQIGRlYWRsaW5lIGZvciB0aGlzIGFjdGl2aXR5IGhhcyBwYXNzZWQuIFlvdSBjYW4gbm8gbG9uZ2VyIHN1Ym1pdCBvciB1cGRhdGUgeW91ciBSU1ZQLic7XG4gICAgICBzZXRFcnJvcnMobmV3RXJyb3JzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDYXBhY2l0eSB2YWxpZGF0aW9uIChvbmx5IGZvciBcImF0dGVuZGluZ1wiIHN0YXR1cylcbiAgICBpZiAoZm9ybURhdGEuc3RhdHVzID09PSAnYXR0ZW5kaW5nJykge1xuICAgICAgaWYgKGlzQ2FwYWNpdHlGdWxsKSB7XG4gICAgICAgIG5ld0Vycm9ycy5jYXBhY2l0eSA9ICdUaGlzIGFjdGl2aXR5IGlzIGF0IGZ1bGwgY2FwYWNpdHkuIFlvdSBjYW5ub3QgUlNWUCBhcyBhdHRlbmRpbmcuJztcbiAgICAgICAgc2V0RXJyb3JzKG5ld0Vycm9ycyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gR3Vlc3QgY291bnQgdmFsaWRhdGlvblxuICAgICAgaWYgKCFmb3JtRGF0YS5ndWVzdENvdW50IHx8IGZvcm1EYXRhLmd1ZXN0Q291bnQgPCAxKSB7XG4gICAgICAgIG5ld0Vycm9ycy5ndWVzdENvdW50ID0gJ0d1ZXN0IGNvdW50IG11c3QgYmUgYXQgbGVhc3QgMSB3aGVuIGF0dGVuZGluZy4nO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBndWVzdCBjb3VudCBleGNlZWRzIHJlbWFpbmluZyBjYXBhY2l0eVxuICAgICAgaWYgKGFjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHlSZW1haW5pbmcgIT09IG51bGwgJiYgYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZENvdW50ID0gZm9ybURhdGEuZ3Vlc3RDb3VudCB8fCAxO1xuICAgICAgICBpZiAocmVxdWVzdGVkQ291bnQgPiBhY3Rpdml0eURldGFpbHMuY2FwYWNpdHlSZW1haW5pbmcpIHtcbiAgICAgICAgICBuZXdFcnJvcnMuZ3Vlc3RDb3VudCA9IGBPbmx5ICR7YWN0aXZpdHlEZXRhaWxzLmNhcGFjaXR5UmVtYWluaW5nfSBzcG90KHMpIHJlbWFpbmluZy4gUGxlYXNlIHJlZHVjZSB5b3VyIGd1ZXN0IGNvdW50LmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBab2QgdmFsaWRhdGlvblxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSByc3ZwRm9ybVNjaGVtYS5zYWZlUGFyc2UoZm9ybURhdGEpO1xuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICB2YWxpZGF0aW9uLmVycm9yLmlzc3Vlcy5mb3JFYWNoKChpc3N1ZSkgPT4ge1xuICAgICAgICBpZiAoaXNzdWUucGF0aFswXSkge1xuICAgICAgICAgIG5ld0Vycm9yc1tpc3N1ZS5wYXRoWzBdLnRvU3RyaW5nKCldID0gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0RXJyb3JzKG5ld0Vycm9ycyk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG5ld0Vycm9ycykubGVuZ3RoID09PSAwO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBmb3JtIHN1Ym1pc3Npb25cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRTdWJtaXRFcnJvcihudWxsKTtcblxuICAgIGlmICghdmFsaWRhdGVGb3JtKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNhbml0aXplIGlucHV0XG4gICAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0ge1xuICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogZm9ybURhdGEuZGlldGFyeVJlc3RyaWN0aW9uc1xuICAgICAgICAgID8gc2FuaXRpemVJbnB1dChmb3JtRGF0YS5kaWV0YXJ5UmVzdHJpY3Rpb25zKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfTtcblxuICAgICAgLy8gRGV0ZXJtaW5lIEFQSSBlbmRwb2ludFxuICAgICAgY29uc3QgdXJsID0gY3VycmVudFJzdnBcbiAgICAgICAgPyBgL2FwaS9ndWVzdC9yc3Zwcy8ke2N1cnJlbnRSc3ZwLmlkfWBcbiAgICAgICAgOiBgL2FwaS9ndWVzdC9yc3Zwc2A7XG5cbiAgICAgIGNvbnN0IG1ldGhvZCA9IGN1cnJlbnRSc3ZwID8gJ1BVVCcgOiAnUE9TVCc7XG5cbiAgICAgIGNvbnN0IGJvZHkgPSBjdXJyZW50UnN2cFxuICAgICAgICA/IHNhbml0aXplZERhdGFcbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5zYW5pdGl6ZWREYXRhLFxuICAgICAgICAgICAgYWN0aXZpdHlJZCxcbiAgICAgICAgICB9O1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN1Ym1pdCBSU1ZQJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cgc3VjY2VzcyBtZXNzYWdlIChjb3VsZCB1c2UgdG9hc3QgaGVyZSlcbiAgICAgIG9uU3VjY2VzcygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRTdWJtaXRFcnJvcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzdWJtaXR0aW5nIHlvdXIgUlNWUCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIHN0YXR1cyBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlU3RhdHVzQ2hhbmdlID0gKHN0YXR1czogJ2F0dGVuZGluZycgfCAnZGVjbGluZWQnIHwgJ21heWJlJykgPT4ge1xuICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHN0YXR1cyB9KTtcbiAgICBzZXRFcnJvcnMoe30pO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBndWVzdCBjb3VudCBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlR3Vlc3RDb3VudENoYW5nZSA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgZ3Vlc3RDb3VudDogY291bnQgfSk7XG4gICAgc2V0RXJyb3JzKHsgLi4uZXJyb3JzLCBndWVzdENvdW50OiAnJyB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgZGlldGFyeSByZXN0cmljdGlvbnMgY2hhbmdlXG4gIGNvbnN0IGhhbmRsZURpZXRhcnlSZXN0cmljdGlvbnNDaGFuZ2UgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGRpZXRhcnlSZXN0cmljdGlvbnM6IHZhbHVlIH0pO1xuICAgIHNldEVycm9ycyh7IC4uLmVycm9ycywgZGlldGFyeVJlc3RyaWN0aW9uczogJycgfSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHBsdXMtb25lIGNoYW5nZVxuICBjb25zdCBoYW5kbGVQbHVzT25lQ2hhbmdlID0gKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBwbHVzT25lOiBjaGVja2VkIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICB7LyogRGVhZGxpbmUgV2FybmluZyAqL31cbiAgICAgIHtpc0RlYWRsaW5lUGFzc2VkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC04MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIOKaoO+4jyBUaGUgUlNWUCBkZWFkbGluZSBmb3IgdGhpcyBhY3Rpdml0eSBoYXMgcGFzc2VkLiBZb3UgY2FuIG5vIGxvbmdlciBzdWJtaXQgb3IgdXBkYXRlIHlvdXIgUlNWUC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIENhcGFjaXR5IFdhcm5pbmcgKi99XG4gICAgICB7IWlzRGVhZGxpbmVQYXNzZWQgJiYgaXNDYXBhY2l0eUFsbW9zdEZ1bGwgJiYgIWlzQ2FwYWNpdHlGdWxsICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXllbGxvdy04MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIOKaoO+4jyBUaGlzIGFjdGl2aXR5IGlzIGFsbW9zdCBmdWxsISBPbmx5IHthY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nfSBzcG90KHMpIHJlbWFpbmluZy5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFN0YXR1cyBTZWxlY3Rpb24gKi99XG4gICAgICA8ZGl2PlxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICBSU1ZQIFN0YXR1cyAqXG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtM1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdhdHRlbmRpbmcnKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkIHx8IChpc0NhcGFjaXR5RnVsbCAmJiBmb3JtRGF0YS5zdGF0dXMgIT09ICdhdHRlbmRpbmcnKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMyByb3VuZGVkLWxnIGJvcmRlci0yIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgIGZvcm1EYXRhLnN0YXR1cyA9PT0gJ2F0dGVuZGluZydcbiAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwIHRleHQtZ3JlZW4tNzAwJ1xuICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCBiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmVlbi0zMDAnXG4gICAgICAgICAgICB9ICR7XG4gICAgICAgICAgICAgIChpc0RlYWRsaW5lUGFzc2VkIHx8IChpc0NhcGFjaXR5RnVsbCAmJiBmb3JtRGF0YS5zdGF0dXMgIT09ICdhdHRlbmRpbmcnKSlcbiAgICAgICAgICAgICAgICA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBBdHRlbmRpbmdcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXR1c0NoYW5nZSgnbWF5YmUnKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0zIHJvdW5kZWQtbGcgYm9yZGVyLTIgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgZm9ybURhdGEuc3RhdHVzID09PSAnbWF5YmUnXG4gICAgICAgICAgICAgICAgPyAnYm9yZGVyLXllbGxvdy01MDAgYmcteWVsbG93LTUwIHRleHQteWVsbG93LTcwMCdcbiAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0zMDAgYmctd2hpdGUgdGV4dC1ncmF5LTcwMCBob3Zlcjpib3JkZXIteWVsbG93LTMwMCdcbiAgICAgICAgICAgIH0gJHtpc0RlYWRsaW5lUGFzc2VkID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgTWF5YmVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXR1c0NoYW5nZSgnZGVjbGluZWQnKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0zIHJvdW5kZWQtbGcgYm9yZGVyLTIgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgZm9ybURhdGEuc3RhdHVzID09PSAnZGVjbGluZWQnXG4gICAgICAgICAgICAgICAgPyAnYm9yZGVyLXJlZC01MDAgYmctcmVkLTUwIHRleHQtcmVkLTcwMCdcbiAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0zMDAgYmctd2hpdGUgdGV4dC1ncmF5LTcwMCBob3Zlcjpib3JkZXItcmVkLTMwMCdcbiAgICAgICAgICAgIH0gJHtpc0RlYWRsaW5lUGFzc2VkID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVjbGluZWRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtlcnJvcnMuY2FwYWNpdHkgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LXJlZC02MDBcIj57ZXJyb3JzLmNhcGFjaXR5fTwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogR3Vlc3QgQ291bnQgKG9ubHkgZm9yIGF0dGVuZGluZykgKi99XG4gICAgICB7Zm9ybURhdGEuc3RhdHVzID09PSAnYXR0ZW5kaW5nJyAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJndWVzdENvdW50XCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgIE51bWJlciBvZiBHdWVzdHMgKlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgIGlkPVwiZ3Vlc3RDb3VudFwiXG4gICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5ndWVzdENvdW50IHx8IDF9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUd1ZXN0Q291bnRDaGFuZ2UocGFyc2VJbnQoZS50YXJnZXQudmFsdWUsIDEwKSl9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNEZWFkbGluZVBhc3NlZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZW1lcmFsZC01MDAgZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNTAwICR7XG4gICAgICAgICAgICAgIGVycm9ycy5ndWVzdENvdW50ID8gJ2JvcmRlci1yZWQtNTAwJyA6ICdib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICB9ICR7aXNEZWFkbGluZVBhc3NlZCA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnJ31gfVxuICAgICAgICAgIC8+XG4gICAgICAgICAge2Vycm9ycy5ndWVzdENvdW50ICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXJlZC02MDBcIj57ZXJyb3JzLmd1ZXN0Q291bnR9PC9wPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2FjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHlSZW1haW5pbmcgIT09IG51bGwgJiYgYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gdW5kZWZpbmVkICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIHthY3Rpdml0eURldGFpbHMuY2FwYWNpdHlSZW1haW5pbmd9IHNwb3QocykgcmVtYWluaW5nXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRGlldGFyeSBSZXN0cmljdGlvbnMgKG9ubHkgZm9yIG1lYWxzIGFuZCBhdHRlbmRpbmcpICovfVxuICAgICAge2Zvcm1EYXRhLnN0YXR1cyA9PT0gJ2F0dGVuZGluZycgJiYgYWN0aXZpdHlEZXRhaWxzPy5pc01lYWwgJiYgKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZGlldGFyeVJlc3RyaWN0aW9uc1wiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICBEaWV0YXJ5IFJlc3RyaWN0aW9uc1xuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICBpZD1cImRpZXRhcnlSZXN0cmljdGlvbnNcIlxuICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5kaWV0YXJ5UmVzdHJpY3Rpb25zIHx8ICcnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVEaWV0YXJ5UmVzdHJpY3Rpb25zQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQbGVhc2UgbGV0IHVzIGtub3cgYWJvdXQgYW55IGRpZXRhcnkgcmVzdHJpY3Rpb25zIG9yIGFsbGVyZ2llcy4uLlwiXG4gICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWVtZXJhbGQtNTAwIGZvY3VzOmJvcmRlci1lbWVyYWxkLTUwMCAke1xuICAgICAgICAgICAgICBlcnJvcnMuZGlldGFyeVJlc3RyaWN0aW9ucyA/ICdib3JkZXItcmVkLTUwMCcgOiAnYm9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgfSAke2lzRGVhZGxpbmVQYXNzZWQgPyAnb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWQnIDogJyd9YH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtlcnJvcnMuZGlldGFyeVJlc3RyaWN0aW9ucyAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1yZWQtNjAwXCI+e2Vycm9ycy5kaWV0YXJ5UmVzdHJpY3Rpb25zfTwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBQbHVzLU9uZSAoaWYgYWxsb3dlZCBhbmQgYXR0ZW5kaW5nKSAqL31cbiAgICAgIHtmb3JtRGF0YS5zdGF0dXMgPT09ICdhdHRlbmRpbmcnICYmIGFjdGl2aXR5RGV0YWlscz8uYWxsb3dzUGx1c09uZXMgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgaWQ9XCJwbHVzT25lXCJcbiAgICAgICAgICAgIGNoZWNrZWQ9e2Zvcm1EYXRhLnBsdXNPbmUgfHwgZmFsc2V9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVBsdXNPbmVDaGFuZ2UoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICBkaXNhYmxlZD17aXNEZWFkbGluZVBhc3NlZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1lbWVyYWxkLTYwMCBmb2N1czpyaW5nLWVtZXJhbGQtNTAwIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicGx1c09uZVwiIGNsYXNzTmFtZT1cIm1sLTIgYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICBJIHdpbGwgYmUgYnJpbmdpbmcgYSBwbHVzLW9uZVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFN1Ym1pdCBFcnJvciAqL31cbiAgICAgIHtzdWJtaXRFcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtODAwXCI+e3N1Ym1pdEVycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRm9ybSBBY3Rpb25zICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMyBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtZ3JheS03MDAgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktNTAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICA+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgaXNEZWFkbGluZVBhc3NlZCB8fCBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA+IDB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtd2hpdGUgYmctZW1lcmFsZC02MDAgcm91bmRlZC1sZyBob3ZlcjpiZy1lbWVyYWxkLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiXG4gICAgICAgID5cbiAgICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBoLTQgdy00IHRleHQtd2hpdGVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCI0XCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgIDxwYXRoIGNsYXNzTmFtZT1cIm9wYWNpdHktNzVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiPjwvcGF0aD5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2xvYWRpbmcgPyAnU3VibWl0dGluZy4uLicgOiBjdXJyZW50UnN2cCA/ICdVcGRhdGUgUlNWUCcgOiAnU3VibWl0IFJTVlAnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSU1ZQRm9ybSIsInJzdnBGb3JtU2NoZW1hIiwieiIsIm9iamVjdCIsInN0YXR1cyIsImVudW0iLCJndWVzdENvdW50IiwibnVtYmVyIiwiaW50IiwicG9zaXRpdmUiLCJvcHRpb25hbCIsImRpZXRhcnlSZXN0cmljdGlvbnMiLCJzdHJpbmciLCJtYXgiLCJwbHVzT25lIiwiYm9vbGVhbiIsImFjdGl2aXR5SWQiLCJjdXJyZW50UnN2cCIsImFjdGl2aXR5RGV0YWlscyIsIm9uU3VjY2VzcyIsIm9uQ2FuY2VsIiwiZm9ybURhdGEiLCJzZXRGb3JtRGF0YSIsInVzZVN0YXRlIiwiZ3Vlc3RfY291bnQiLCJkaWV0YXJ5X25vdGVzIiwiZXJyb3JzIiwic2V0RXJyb3JzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzdWJtaXRFcnJvciIsInNldFN1Ym1pdEVycm9yIiwiaXNEZWFkbGluZVBhc3NlZCIsInJzdnBEZWFkbGluZSIsIkRhdGUiLCJpc0NhcGFjaXR5RnVsbCIsImNhcGFjaXR5UmVtYWluaW5nIiwidW5kZWZpbmVkIiwiaXNDYXBhY2l0eUFsbW9zdEZ1bGwiLCJjYXBhY2l0eSIsInZhbGlkYXRlRm9ybSIsIm5ld0Vycm9ycyIsImRlYWRsaW5lIiwicmVxdWVzdGVkQ291bnQiLCJ2YWxpZGF0aW9uIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsImVycm9yIiwiaXNzdWVzIiwiZm9yRWFjaCIsImlzc3VlIiwicGF0aCIsInRvU3RyaW5nIiwibWVzc2FnZSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzYW5pdGl6ZWREYXRhIiwic2FuaXRpemVJbnB1dCIsInVybCIsImlkIiwibWV0aG9kIiwiYm9keSIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImpzb24iLCJFcnJvciIsImhhbmRsZVN0YXR1c0NoYW5nZSIsImhhbmRsZUd1ZXN0Q291bnRDaGFuZ2UiLCJjb3VudCIsImhhbmRsZURpZXRhcnlSZXN0cmljdGlvbnNDaGFuZ2UiLCJ2YWx1ZSIsImhhbmRsZVBsdXNPbmVDaGFuZ2UiLCJjaGVja2VkIiwiZm9ybSIsIm9uU3VibWl0IiwiY2xhc3NOYW1lIiwiZGl2IiwicCIsImxhYmVsIiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsImh0bWxGb3IiLCJpbnB1dCIsIm1pbiIsIm9uQ2hhbmdlIiwicGFyc2VJbnQiLCJ0YXJnZXQiLCJpc01lYWwiLCJ0ZXh0YXJlYSIsInJvd3MiLCJwbGFjZWhvbGRlciIsImFsbG93c1BsdXNPbmVzIiwic3ZnIiwieG1sbnMiLCJmaWxsIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztDQU9DLEdBRUQ7Ozs7OytCQWdDZ0JBOzs7ZUFBQUE7Ozs7dUJBOUJvQjtxQkFDbEI7OEJBQ1k7QUFHOUIsbUJBQW1CO0FBQ25CLE1BQU1DLGlCQUFpQkMsTUFBQyxDQUFDQyxNQUFNLENBQUM7SUFDOUJDLFFBQVFGLE1BQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUM7UUFBYTtRQUFZO0tBQVE7SUFDakRDLFlBQVlKLE1BQUMsQ0FBQ0ssTUFBTSxHQUFHQyxHQUFHLEdBQUdDLFFBQVEsQ0FBQyxnQ0FBZ0NDLFFBQVE7SUFDOUVDLHFCQUFxQlQsTUFBQyxDQUFDVSxNQUFNLEdBQUdDLEdBQUcsQ0FBQyxLQUFLLHVEQUF1REgsUUFBUTtJQUN4R0ksU0FBU1osTUFBQyxDQUFDYSxPQUFPLEdBQUdMLFFBQVE7QUFDL0I7QUFtQk8sU0FBU1YsU0FBUyxFQUN2QmdCLFVBQVUsRUFDVkMsV0FBVyxFQUNYQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVEMsUUFBUSxFQUNNO0lBQ2QsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdDLElBQUFBLGVBQVEsRUFBZTtRQUNyRG5CLFFBQVFhLGFBQWFiLFdBQVcsWUFBWSxjQUFjLEFBQUNhLGFBQWFiLFVBQWtCO1FBQzFGRSxZQUFZVyxhQUFhTyxlQUFlO1FBQ3hDYixxQkFBcUJNLGFBQWFRLGlCQUFpQjtRQUNuRFgsU0FBUztJQUNYO0lBRUEsTUFBTSxDQUFDWSxRQUFRQyxVQUFVLEdBQUdK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