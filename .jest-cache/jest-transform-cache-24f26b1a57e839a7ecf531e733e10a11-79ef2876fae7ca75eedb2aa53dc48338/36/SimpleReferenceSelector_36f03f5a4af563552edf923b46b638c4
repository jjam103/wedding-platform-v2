05a27ccd3a3657f73eb402af7d4a9758
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "SimpleReferenceSelector", {
    enumerable: true,
    get: function() {
        return SimpleReferenceSelector;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
function SimpleReferenceSelector({ onSelect }) {
    const [selectedType, setSelectedType] = (0, _react.useState)('activity');
    const [items, setItems] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    // Fetch items when type changes
    (0, _react.useEffect)(()=>{
        async function fetchItems() {
            setLoading(true);
            setError(null);
            try {
                let endpoint = '';
                switch(selectedType){
                    case 'event':
                        endpoint = '/api/admin/events';
                        break;
                    case 'activity':
                        endpoint = '/api/admin/activities';
                        break;
                    case 'content_page':
                        endpoint = '/api/admin/content-pages';
                        break;
                    case 'accommodation':
                        endpoint = '/api/admin/accommodations';
                        break;
                }
                const response = await fetch(endpoint);
                if (!response.ok) {
                    throw new Error('Failed to fetch items');
                }
                const result = await response.json();
                if (result.success) {
                    // Handle different response formats from different APIs
                    let dataArray = [];
                    if (result.data) {
                        // Check for paginated response (activities, events)
                        if (result.data.activities) {
                            dataArray = result.data.activities;
                        } else if (result.data.events) {
                            dataArray = result.data.events;
                        } else if (result.data.items) {
                            dataArray = result.data.items;
                        } else if (Array.isArray(result.data)) {
                            // Direct array response (content_pages, accommodations)
                            dataArray = result.data;
                        }
                    }
                    const normalizedItems = dataArray.map((item)=>({
                            id: item.id,
                            name: item.name || item.title,
                            slug: item.slug,
                            date: item.date || item.start_time,
                            location: item.location?.name || item.locations?.name,
                            capacity: item.capacity,
                            room_count: item.room_count,
                            type: item.type
                        }));
                    setItems(normalizedItems);
                } else {
                    setError(result.error?.message || 'Failed to load items');
                }
            } catch (err) {
                console.error('Error fetching items:', err);
                setError(err instanceof Error ? err.message : 'Failed to load items');
            } finally{
                setLoading(false);
            }
        }
        fetchItems();
    }, [
        selectedType
    ]);
    const handleSelectItem = (item)=>{
        onSelect({
            type: selectedType,
            id: item.id,
            name: item.name,
            metadata: {
                slug: item.slug,
                date: item.date,
                location: item.location,
                capacity: item.capacity,
                room_count: item.room_count,
                type: item.type
            }
        });
    };
    const getTypeLabel = (type)=>{
        switch(type){
            case 'event':
                return 'Events';
            case 'activity':
                return 'Activities';
            case 'content_page':
                return 'Content Pages';
            case 'accommodation':
                return 'Accommodations';
            default:
                return type;
        }
    };
    const getTypeColor = (type)=>{
        switch(type){
            case 'event':
                return 'purple';
            case 'activity':
                return 'blue';
            case 'content_page':
                return 'green';
            case 'accommodation':
                return 'orange';
            default:
                return 'gray';
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "border border-gray-200 rounded-lg bg-white",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "p-4 border-b border-gray-200",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "type-select",
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "Select Type"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                        id: "type-select",
                        value: selectedType,
                        onChange: (e)=>setSelectedType(e.target.value),
                        className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                value: "activity",
                                children: "Activities"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                value: "event",
                                children: "Events"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                value: "content_page",
                                children: "Content Pages"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                value: "accommodation",
                                children: "Accommodations"
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "p-4 max-h-96 overflow-y-auto",
                children: [
                    loading && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "flex items-center justify-center py-8",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600"
                        })
                    }),
                    error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-red-50 border border-red-200 rounded-md p-3 text-sm text-red-800",
                        children: error
                    }),
                    !loading && !error && items.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "text-center py-8 text-gray-500",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                            className: "text-sm",
                            children: [
                                "No ",
                                getTypeLabel(selectedType).toLowerCase(),
                                " found"
                            ]
                        })
                    }),
                    !loading && !error && items.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "space-y-2",
                        children: items.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                type: "button",
                                className: "w-full text-left border border-gray-200 rounded-md p-3 hover:border-emerald-500 hover:bg-emerald-50 cursor-pointer transition-colors",
                                onClick: ()=>handleSelectItem(item),
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: `inline-block px-2 py-0.5 text-xs font-medium bg-${getTypeColor(selectedType)}-100 text-${getTypeColor(selectedType)}-800 rounded`,
                                                children: getTypeLabel(selectedType).slice(0, -1)
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "font-medium text-gray-900",
                                                children: item.name
                                            })
                                        ]
                                    }),
                                    item.date && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs text-gray-600",
                                        children: [
                                            "\uD83D\uDCC5 ",
                                            new Date(item.date).toLocaleDateString()
                                        ]
                                    }),
                                    item.location && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs text-gray-600",
                                        children: [
                                            "\uD83D\uDCCD ",
                                            item.location
                                        ]
                                    }),
                                    item.capacity && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs text-gray-600",
                                        children: [
                                            "\uD83D\uDC65 Capacity: ",
                                            item.capacity
                                        ]
                                    }),
                                    item.room_count !== undefined && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs text-gray-600",
                                        children: [
                                            "\uD83C\uDFE0 ",
                                            item.room_count,
                                            " rooms"
                                        ]
                                    }),
                                    item.slug && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-xs text-gray-600",
                                        children: [
                                            "\uD83D\uDD17 /",
                                            item.slug
                                        ]
                                    })
                                ]
                            }, item.id))
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9TaW1wbGVSZWZlcmVuY2VTZWxlY3Rvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgUmVmZXJlbmNlIHtcbiAgdHlwZTogJ2V2ZW50JyB8ICdhY3Rpdml0eScgfCAnY29udGVudF9wYWdlJyB8ICdhY2NvbW1vZGF0aW9uJztcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG5pbnRlcmZhY2UgU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3JQcm9wcyB7XG4gIG9uU2VsZWN0OiAocmVmZXJlbmNlOiBSZWZlcmVuY2UpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBFbnRpdHlJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzbHVnPzogc3RyaW5nO1xuICBkYXRlPzogc3RyaW5nO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgY2FwYWNpdHk/OiBudW1iZXI7XG4gIHJvb21fY291bnQ/OiBudW1iZXI7XG4gIHR5cGU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3IgQ29tcG9uZW50XG4gKiBcbiAqIElubGluZSByZWZlcmVuY2Ugc2VsZWN0b3Igd2l0aCBkcm9wZG93biBhbmQgbGlzdFxuICogLSBEcm9wZG93biB0byBzZWxlY3QgZW50aXR5IHR5cGUgKEV2ZW50cywgQWN0aXZpdGllcywgUGFnZXMsIEFjY29tbW9kYXRpb25zKVxuICogLSBDbGljayB0byBzZWxlY3Qgc3BlY2lmaWMgaXRlbXNcbiAqIC0gTm8gc2VhcmNoLCBqdXN0IHNpbXBsZSBzZWxlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yKHsgb25TZWxlY3QgfTogU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3JQcm9wcykge1xuICBjb25zdCBbc2VsZWN0ZWRUeXBlLCBzZXRTZWxlY3RlZFR5cGVdID0gdXNlU3RhdGU8J2V2ZW50JyB8ICdhY3Rpdml0eScgfCAnY29udGVudF9wYWdlJyB8ICdhY2NvbW1vZGF0aW9uJz4oJ2FjdGl2aXR5Jyk7XG4gIGNvbnN0IFtpdGVtcywgc2V0SXRlbXNdID0gdXNlU3RhdGU8RW50aXR5SXRlbVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBGZXRjaCBpdGVtcyB3aGVuIHR5cGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBlbmRwb2ludCA9ICcnO1xuICAgICAgICBzd2l0Y2ggKHNlbGVjdGVkVHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgICAgIGVuZHBvaW50ID0gJy9hcGkvYWRtaW4vZXZlbnRzJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2FjdGl2aXR5JzpcbiAgICAgICAgICAgIGVuZHBvaW50ID0gJy9hcGkvYWRtaW4vYWN0aXZpdGllcyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdjb250ZW50X3BhZ2UnOlxuICAgICAgICAgICAgZW5kcG9pbnQgPSAnL2FwaS9hZG1pbi9jb250ZW50LXBhZ2VzJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2FjY29tbW9kYXRpb24nOlxuICAgICAgICAgICAgZW5kcG9pbnQgPSAnL2FwaS9hZG1pbi9hY2NvbW1vZGF0aW9ucyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggaXRlbXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgcmVzcG9uc2UgZm9ybWF0cyBmcm9tIGRpZmZlcmVudCBBUElzXG4gICAgICAgICAgbGV0IGRhdGFBcnJheSA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHBhZ2luYXRlZCByZXNwb25zZSAoYWN0aXZpdGllcywgZXZlbnRzKVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmFjdGl2aXRpZXMpIHtcbiAgICAgICAgICAgICAgZGF0YUFycmF5ID0gcmVzdWx0LmRhdGEuYWN0aXZpdGllcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEuZXZlbnRzKSB7XG4gICAgICAgICAgICAgIGRhdGFBcnJheSA9IHJlc3VsdC5kYXRhLmV2ZW50cztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgZGF0YUFycmF5ID0gcmVzdWx0LmRhdGEuaXRlbXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIC8vIERpcmVjdCBhcnJheSByZXNwb25zZSAoY29udGVudF9wYWdlcywgYWNjb21tb2RhdGlvbnMpXG4gICAgICAgICAgICAgIGRhdGFBcnJheSA9IHJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBub3JtYWxpemVkSXRlbXMgPSBkYXRhQXJyYXkubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSB8fCBpdGVtLnRpdGxlLFxuICAgICAgICAgICAgc2x1ZzogaXRlbS5zbHVnLFxuICAgICAgICAgICAgZGF0ZTogaXRlbS5kYXRlIHx8IGl0ZW0uc3RhcnRfdGltZSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBpdGVtLmxvY2F0aW9uPy5uYW1lIHx8IGl0ZW0ubG9jYXRpb25zPy5uYW1lLFxuICAgICAgICAgICAgY2FwYWNpdHk6IGl0ZW0uY2FwYWNpdHksXG4gICAgICAgICAgICByb29tX2NvdW50OiBpdGVtLnJvb21fY291bnQsXG4gICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHNldEl0ZW1zKG5vcm1hbGl6ZWRJdGVtcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBpdGVtcycpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaXRlbXM6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gbG9hZCBpdGVtcycpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hJdGVtcygpO1xuICB9LCBbc2VsZWN0ZWRUeXBlXSk7XG5cbiAgY29uc3QgaGFuZGxlU2VsZWN0SXRlbSA9IChpdGVtOiBFbnRpdHlJdGVtKSA9PiB7XG4gICAgb25TZWxlY3Qoe1xuICAgICAgdHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBzbHVnOiBpdGVtLnNsdWcsXG4gICAgICAgIGRhdGU6IGl0ZW0uZGF0ZSxcbiAgICAgICAgbG9jYXRpb246IGl0ZW0ubG9jYXRpb24sXG4gICAgICAgIGNhcGFjaXR5OiBpdGVtLmNhcGFjaXR5LFxuICAgICAgICByb29tX2NvdW50OiBpdGVtLnJvb21fY291bnQsXG4gICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0VHlwZUxhYmVsID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZXZlbnQnOlxuICAgICAgICByZXR1cm4gJ0V2ZW50cyc7XG4gICAgICBjYXNlICdhY3Rpdml0eSc6XG4gICAgICAgIHJldHVybiAnQWN0aXZpdGllcyc7XG4gICAgICBjYXNlICdjb250ZW50X3BhZ2UnOlxuICAgICAgICByZXR1cm4gJ0NvbnRlbnQgUGFnZXMnO1xuICAgICAgY2FzZSAnYWNjb21tb2RhdGlvbic6XG4gICAgICAgIHJldHVybiAnQWNjb21tb2RhdGlvbnMnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFR5cGVDb2xvciA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgICAgcmV0dXJuICdwdXJwbGUnO1xuICAgICAgY2FzZSAnYWN0aXZpdHknOlxuICAgICAgICByZXR1cm4gJ2JsdWUnO1xuICAgICAgY2FzZSAnY29udGVudF9wYWdlJzpcbiAgICAgICAgcmV0dXJuICdncmVlbic7XG4gICAgICBjYXNlICdhY2NvbW1vZGF0aW9uJzpcbiAgICAgICAgcmV0dXJuICdvcmFuZ2UnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdncmF5JztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBiZy13aGl0ZVwiPlxuICAgICAgey8qIFR5cGUgU2VsZWN0b3IgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0eXBlLXNlbGVjdFwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgU2VsZWN0IFR5cGVcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPHNlbGVjdFxuICAgICAgICAgIGlkPVwidHlwZS1zZWxlY3RcIlxuICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFR5cGV9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZFR5cGUoZS50YXJnZXQudmFsdWUgYXMgYW55KX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1lbWVyYWxkLTUwMCBmb2N1czpib3JkZXItZW1lcmFsZC01MDBcIlxuICAgICAgICA+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFjdGl2aXR5XCI+QWN0aXZpdGllczwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJldmVudFwiPkV2ZW50czwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjb250ZW50X3BhZ2VcIj5Db250ZW50IFBhZ2VzPC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFjY29tbW9kYXRpb25cIj5BY2NvbW1vZGF0aW9uczwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSXRlbXMgTGlzdCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IG1heC1oLTk2IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC02IHctNiBib3JkZXItYi0yIGJvcmRlci1lbWVyYWxkLTYwMFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbWQgcC0zIHRleHQtc20gdGV4dC1yZWQtODAwXCI+XG4gICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgeyFsb2FkaW5nICYmICFlcnJvciAmJiBpdGVtcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOCB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+Tm8ge2dldFR5cGVMYWJlbChzZWxlY3RlZFR5cGUpLnRvTG93ZXJDYXNlKCl9IGZvdW5kPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHshbG9hZGluZyAmJiAhZXJyb3IgJiYgaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIHtpdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGtleT17aXRlbS5pZH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1tZCBwLTMgaG92ZXI6Ym9yZGVyLWVtZXJhbGQtNTAwIGhvdmVyOmJnLWVtZXJhbGQtNTAgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbGVjdEl0ZW0oaXRlbSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBweC0yIHB5LTAuNSB0ZXh0LXhzIGZvbnQtbWVkaXVtIGJnLSR7Z2V0VHlwZUNvbG9yKHNlbGVjdGVkVHlwZSl9LTEwMCB0ZXh0LSR7Z2V0VHlwZUNvbG9yKHNlbGVjdGVkVHlwZSl9LTgwMCByb3VuZGVkYH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2dldFR5cGVMYWJlbChzZWxlY3RlZFR5cGUpLnNsaWNlKDAsIC0xKX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57aXRlbS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7aXRlbS5kYXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICDwn5OFIHtuZXcgRGF0ZShpdGVtLmRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2l0ZW0ubG9jYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+8J+TjSB7aXRlbS5sb2NhdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7aXRlbS5jYXBhY2l0eSAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj7wn5GlIENhcGFjaXR5OiB7aXRlbS5jYXBhY2l0eX08L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7aXRlbS5yb29tX2NvdW50ICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+8J+PoCB7aXRlbS5yb29tX2NvdW50fSByb29tczwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtpdGVtLnNsdWcgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+8J+UlyAve2l0ZW0uc2x1Z308L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yIiwib25TZWxlY3QiLCJzZWxlY3RlZFR5cGUiLCJzZXRTZWxlY3RlZFR5cGUiLCJ1c2VTdGF0ZSIsIml0ZW1zIiwic2V0SXRlbXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1c2VFZmZlY3QiLCJmZXRjaEl0ZW1zIiwiZW5kcG9pbnQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YUFycmF5IiwiZGF0YSIsImFjdGl2aXRpZXMiLCJldmVudHMiLCJBcnJheSIsImlzQXJyYXkiLCJub3JtYWxpemVkSXRlbXMiLCJtYXAiLCJpdGVtIiwiaWQiLCJuYW1lIiwidGl0bGUiLCJzbHVnIiwiZGF0ZSIsInN0YXJ0X3RpbWUiLCJsb2NhdGlvbiIsImxvY2F0aW9ucyIsImNhcGFjaXR5Iiwicm9vbV9jb3VudCIsInR5cGUiLCJtZXNzYWdlIiwiZXJyIiwiY29uc29sZSIsImhhbmRsZVNlbGVjdEl0ZW0iLCJtZXRhZGF0YSIsImdldFR5cGVMYWJlbCIsImdldFR5cGVDb2xvciIsImRpdiIsImNsYXNzTmFtZSIsImxhYmVsIiwiaHRtbEZvciIsInNlbGVjdCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwib3B0aW9uIiwibGVuZ3RoIiwicCIsInRvTG93ZXJDYXNlIiwiYnV0dG9uIiwib25DbGljayIsInNwYW4iLCJzbGljZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkFtQ2dCQTs7O2VBQUFBOzs7O3VCQWpDb0I7QUFpQzdCLFNBQVNBLHdCQUF3QixFQUFFQyxRQUFRLEVBQWdDO0lBQ2hGLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdDLElBQUFBLGVBQVEsRUFBMEQ7SUFDMUcsTUFBTSxDQUFDQyxPQUFP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