ebcab22a13387a5c0e2e38a3980ac56d
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GuestDashboard", {
    enumerable: true,
    get: function() {
        return GuestDashboard;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
function GuestDashboard({ guest }) {
    const [upcomingEvents, setUpcomingEvents] = (0, _react.useState)([]);
    const [rsvpSummary, setRsvpSummary] = (0, _react.useState)({
        total: 0,
        attending: 0,
        declined: 0,
        pending: 0,
        maybe: 0
    });
    const [weddingInfo, setWeddingInfo] = (0, _react.useState)(null);
    const [announcements, setAnnouncements] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    (0, _react.useEffect)(()=>{
        async function loadDashboardData() {
            try {
                setLoading(true);
                setError(null);
                // Fetch dashboard data
                const [eventsResponse, rsvpsResponse, weddingResponse, announcementsResponse] = await Promise.all([
                    fetch('/api/guest/events'),
                    fetch('/api/guest/rsvps'),
                    fetch('/api/guest/wedding-info'),
                    fetch('/api/guest/announcements')
                ]);
                if (!eventsResponse.ok || !rsvpsResponse.ok) {
                    throw new Error('Failed to load dashboard data');
                }
                const eventsData = await eventsResponse.json();
                const rsvpsData = await rsvpsResponse.json();
                const weddingData = weddingResponse.ok ? await weddingResponse.json() : null;
                const announcementsData = announcementsResponse.ok ? await announcementsResponse.json() : null;
                if (eventsData.success && rsvpsData.success) {
                    // Process upcoming events
                    const now = new Date();
                    const upcoming = eventsData.data.filter((item)=>new Date(item.date) >= now).sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime()).slice(0, 5);
                    setUpcomingEvents(upcoming);
                    // Calculate RSVP summary
                    const rsvps = rsvpsData.data;
                    const summary = {
                        total: rsvps.length,
                        attending: rsvps.filter((r)=>r.status === 'attending').length,
                        declined: rsvps.filter((r)=>r.status === 'declined').length,
                        pending: rsvps.filter((r)=>r.status === 'pending').length,
                        maybe: rsvps.filter((r)=>r.status === 'maybe').length
                    };
                    setRsvpSummary(summary);
                    // Set wedding info
                    if (weddingData?.success) {
                        setWeddingInfo(weddingData.data);
                    }
                    // Set announcements (urgent first)
                    if (announcementsData?.success) {
                        const sorted = announcementsData.data.sort((a, b)=>{
                            if (a.urgent && !b.urgent) return -1;
                            if (!a.urgent && b.urgent) return 1;
                            return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();
                        });
                        setAnnouncements(sorted.slice(0, 3)); // Show top 3
                    }
                }
            } catch (err) {
                setError(err instanceof Error ? err.message : 'An error occurred');
            } finally{
                setLoading(false);
            }
        }
        loadDashboardData();
    }, [
        guest.id
    ]);
    const formatDate = (dateString)=>{
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    };
    const formatTime = (dateString)=>{
        const date = new Date(dateString);
        return date.toLocaleTimeString('en-US', {
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
        });
    };
    const getRSVPStatusColor = (status)=>{
        switch(status){
            case 'attending':
                return 'bg-jungle-100 text-jungle-800 border-jungle-300';
            case 'declined':
                return 'bg-sage-100 text-sage-800 border-sage-300';
            case 'maybe':
                return 'bg-sunset-100 text-sunset-800 border-sunset-300';
            case 'pending':
                return 'bg-volcano-100 text-volcano-800 border-volcano-300';
            default:
                return 'bg-sage-100 text-sage-800 border-sage-300';
        }
    };
    const getRSVPStatusLabel = (status)=>{
        switch(status){
            case 'attending':
                return 'Attending';
            case 'declined':
                return 'Declined';
            case 'maybe':
                return 'Maybe';
            case 'pending':
                return 'Pending Response';
            default:
                return status;
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "min-h-screen bg-gradient-to-br from-jungle-50 via-ocean-50 to-sunset-50",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("header", {
                className: "bg-white shadow-sm border-b border-sage-200",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("h1", {
                                        className: "text-3xl font-bold text-jungle-700",
                                        children: [
                                            "\xa1Pura Vida, ",
                                            guest.first_name,
                                            "!"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sage-600 mt-1",
                                        children: "Welcome to your wedding dashboard"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                        href: "/guest/profile",
                                        className: "text-ocean-600 hover:text-ocean-700 font-medium",
                                        children: "My Profile"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                        href: "/api/auth/logout",
                                        className: "text-sage-600 hover:text-sage-700 font-medium",
                                        children: "Logout"
                                    })
                                ]
                            })
                        ]
                    })
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("main", {
                className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",
                children: loading ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "flex items-center justify-center py-12",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-jungle-600"
                    })
                }) : error ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-volcano-50 border border-volcano-200 rounded-lg p-4 mb-6",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-volcano-800",
                        children: error
                    })
                }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                    children: [
                        weddingInfo && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-gradient-to-r from-jungle-600 to-ocean-600 rounded-lg shadow-lg p-6 mb-6 text-white",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-center",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                        className: "text-2xl font-bold mb-2",
                                        children: "\uD83C\uDF34 Costa Rica Wedding \uD83C\uDF34"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex flex-col sm:flex-row items-center justify-center gap-4 text-lg",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: "\uD83D\uDCC5"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: formatDate(weddingInfo.date)
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "hidden sm:block",
                                                children: "•"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: "\uD83D\uDCCD"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: weddingInfo.location
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "hidden sm:block",
                                                children: "•"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: "\uD83C\uDFE8"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                        children: weddingInfo.venue
                                                    })
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        announcements.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "mb-6 space-y-3",
                            children: announcements.map((announcement)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: `rounded-lg shadow-md p-4 border-l-4 ${announcement.urgent ? 'bg-volcano-50 border-volcano-500' : 'bg-ocean-50 border-ocean-500'}`,
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-start gap-3",
                                        children: [
                                            announcement.urgent && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "text-2xl",
                                                children: "⚠️"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex-1",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                        className: `font-bold ${announcement.urgent ? 'text-volcano-800' : 'text-ocean-800'}`,
                                                        children: announcement.title
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                        className: `mt-1 ${announcement.urgent ? 'text-volcano-700' : 'text-ocean-700'}`,
                                                        children: announcement.message
                                                    })
                                                ]
                                            })
                                        ]
                                    })
                                }, announcement.id))
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "grid grid-cols-1 lg:grid-cols-3 gap-6",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "lg:col-span-1",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "bg-white rounded-lg shadow-md p-6 border border-sage-200",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                                    className: "text-xl font-bold text-jungle-700 mb-4",
                                                    children: "RSVP Summary"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "space-y-3",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center justify-between",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-700",
                                                                    children: "Total Events:"
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "font-bold text-jungle-700",
                                                                    children: rsvpSummary.total
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center justify-between",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-700",
                                                                    children: "Attending:"
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "font-bold text-jungle-600",
                                                                    children: rsvpSummary.attending
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center justify-between",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-700",
                                                                    children: "Pending:"
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "font-bold text-volcano-600",
                                                                    children: rsvpSummary.pending
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center justify-between",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-700",
                                                                    children: "Maybe:"
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "font-bold text-sunset-600",
                                                                    children: rsvpSummary.maybe
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center justify-between",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-700",
                                                                    children: "Declined:"
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "font-bold text-sage-600",
                                                                    children: rsvpSummary.declined
                                                                })
                                                            ]
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    className: "mt-6",
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                        href: "/guest/rsvp",
                                                        className: "block w-full text-center bg-jungle-600 hover:bg-jungle-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",
                                                        children: "Manage RSVPs"
                                                    })
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "bg-white rounded-lg shadow-md p-6 border border-sage-200 mt-6",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                                    className: "text-xl font-bold text-jungle-700 mb-4",
                                                    children: "Quick Actions"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "space-y-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                            href: "/guest/family",
                                                            className: "block w-full text-left bg-ocean-50 hover:bg-ocean-100 text-ocean-700 font-medium py-3 px-4 rounded-lg transition-colors border border-ocean-200",
                                                            children: "\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66 Family Information"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                            href: "/guest/transportation",
                                                            className: "block w-full text-left bg-sunset-50 hover:bg-sunset-100 text-sunset-700 font-medium py-3 px-4 rounded-lg transition-colors border border-sunset-200",
                                                            children: "✈️ Transportation Details"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                            href: "/guest/accommodation",
                                                            className: "block w-full text-left bg-jungle-50 hover:bg-jungle-100 text-jungle-700 font-medium py-3 px-4 rounded-lg transition-colors border border-jungle-200",
                                                            children: "\uD83C\uDFE8 Accommodation Info"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                            href: "/guest/photos",
                                                            className: "block w-full text-left bg-volcano-50 hover:bg-volcano-100 text-volcano-700 font-medium py-3 px-4 rounded-lg transition-colors border border-volcano-200",
                                                            children: "\uD83D\uDCF8 Upload Photos"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                            href: "/guest/itinerary",
                                                            className: "block w-full text-left bg-sage-50 hover:bg-sage-100 text-sage-700 font-medium py-3 px-4 rounded-lg transition-colors border border-sage-200",
                                                            children: "\uD83D\uDCC5 View Itinerary"
                                                        })
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "lg:col-span-2",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "bg-white rounded-lg shadow-md p-6 border border-sage-200",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                                className: "text-xl font-bold text-jungle-700 mb-4",
                                                children: "Upcoming Events"
                                            }),
                                            upcomingEvents.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "text-center py-8",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                        className: "text-sage-600",
                                                        children: "No upcoming events at this time."
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                        className: "text-sage-500 text-sm mt-2",
                                                        children: "Check back later for event updates!"
                                                    })
                                                ]
                                            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "space-y-4",
                                                children: upcomingEvents.map((event)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "border border-sage-200 rounded-lg p-4 hover:shadow-md transition-shadow",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "flex items-start justify-between",
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        className: "flex-1",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                                                className: "text-lg font-semibold text-jungle-700",
                                                                                children: event.name
                                                                            }),
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                                className: "mt-2 space-y-1",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                                                        className: "text-sage-700 text-sm",
                                                                                        children: [
                                                                                            "\uD83D\uDCC5 ",
                                                                                            formatDate(event.date)
                                                                                        ]
                                                                                    }),
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                                                        className: "text-sage-700 text-sm",
                                                                                        children: [
                                                                                            "\uD83D\uDD50 ",
                                                                                            formatTime(event.date)
                                                                                        ]
                                                                                    }),
                                                                                    event.location && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                                                        className: "text-sage-700 text-sm",
                                                                                        children: [
                                                                                            "\uD83D\uDCCD ",
                                                                                            event.location
                                                                                        ]
                                                                                    })
                                                                                ]
                                                                            })
                                                                        ]
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                        className: "ml-4",
                                                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                            className: `inline-block px-3 py-1 rounded-full text-sm font-medium border ${getRSVPStatusColor(event.rsvpStatus)}`,
                                                                            children: getRSVPStatusLabel(event.rsvpStatus)
                                                                        })
                                                                    })
                                                                ]
                                                            }),
                                                            event.rsvpStatus === 'pending' && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "mt-4",
                                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                                    href: `/guest/rsvp?${event.type}=${event.id}`,
                                                                    className: "inline-block bg-jungle-600 hover:bg-jungle-700 text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm",
                                                                    children: "Respond to RSVP"
                                                                })
                                                            })
                                                        ]
                                                    }, event.id))
                                            })
                                        ]
                                    })
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdERhc2hib2FyZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBHdWVzdCwgRXZlbnQsIEFjdGl2aXR5LCBSU1ZQIH0gZnJvbSAnQC90eXBlcyc7XG5cbmludGVyZmFjZSBHdWVzdERhc2hib2FyZFByb3BzIHtcbiAgZ3Vlc3Q6IEd1ZXN0O1xufVxuXG5pbnRlcmZhY2UgVXBjb21pbmdFdmVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogJ2V2ZW50JyB8ICdhY3Rpdml0eSc7XG4gIGRhdGU6IHN0cmluZztcbiAgdGltZTogc3RyaW5nO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgcnN2cFN0YXR1czogJ3BlbmRpbmcnIHwgJ2F0dGVuZGluZycgfCAnZGVjbGluZWQnIHwgJ21heWJlJztcbn1cblxuaW50ZXJmYWNlIFJTVlBTdW1tYXJ5IHtcbiAgdG90YWw6IG51bWJlcjtcbiAgYXR0ZW5kaW5nOiBudW1iZXI7XG4gIGRlY2xpbmVkOiBudW1iZXI7XG4gIHBlbmRpbmc6IG51bWJlcjtcbiAgbWF5YmU6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFdlZGRpbmdJbmZvIHtcbiAgZGF0ZTogc3RyaW5nO1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICB2ZW51ZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQW5ub3VuY2VtZW50IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB1cmdlbnQ6IGJvb2xlYW47XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBHdWVzdCBEYXNoYm9hcmQgQ29tcG9uZW50XG4gKiBcbiAqIERpc3BsYXlzIHBlcnNvbmFsaXplZCBkYXNoYm9hcmQgZm9yIGd1ZXN0cyB3aXRoOlxuICogLSBXZWxjb21lIG1lc3NhZ2Ugd2l0aCBndWVzdCBuYW1lXG4gKiAtIFdlZGRpbmcgZGF0ZSwgbG9jYXRpb24sIGFuZCB2ZW51ZVxuICogLSBVcGNvbWluZyBldmVudHMgYW5kIGFjdGl2aXRpZXNcbiAqIC0gUlNWUCBzdGF0dXMgc3VtbWFyeVxuICogLSBRdWljayBhY3Rpb24gbGlua3NcbiAqIC0gVXJnZW50IGFubm91bmNlbWVudHNcbiAqIFxuICogUmVxdWlyZW1lbnRzOiA3LjEsIDcuMiwgNy4zLCA3LjQsIDcuNSwgNy42LCA3LjcsIDcuOSwgMTMuMSwgMTMuNVxuICovXG5leHBvcnQgZnVuY3Rpb24gR3Vlc3REYXNoYm9hcmQoeyBndWVzdCB9OiBHdWVzdERhc2hib2FyZFByb3BzKSB7XG4gIGNvbnN0IFt1cGNvbWluZ0V2ZW50cywgc2V0VXBjb21pbmdFdmVudHNdID0gdXNlU3RhdGU8VXBjb21pbmdFdmVudFtdPihbXSk7XG4gIGNvbnN0IFtyc3ZwU3VtbWFyeSwgc2V0UnN2cFN1bW1hcnldID0gdXNlU3RhdGU8UlNWUFN1bW1hcnk+KHtcbiAgICB0b3RhbDogMCxcbiAgICBhdHRlbmRpbmc6IDAsXG4gICAgZGVjbGluZWQ6IDAsXG4gICAgcGVuZGluZzogMCxcbiAgICBtYXliZTogMCxcbiAgfSk7XG4gIGNvbnN0IFt3ZWRkaW5nSW5mbywgc2V0V2VkZGluZ0luZm9dID0gdXNlU3RhdGU8V2VkZGluZ0luZm8gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Fubm91bmNlbWVudHMsIHNldEFubm91bmNlbWVudHNdID0gdXNlU3RhdGU8QW5ub3VuY2VtZW50W10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkRGFzaGJvYXJkRGF0YSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIC8vIEZldGNoIGRhc2hib2FyZCBkYXRhXG4gICAgICAgIGNvbnN0IFtldmVudHNSZXNwb25zZSwgcnN2cHNSZXNwb25zZSwgd2VkZGluZ1Jlc3BvbnNlLCBhbm5vdW5jZW1lbnRzUmVzcG9uc2VdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGZldGNoKCcvYXBpL2d1ZXN0L2V2ZW50cycpLFxuICAgICAgICAgIGZldGNoKCcvYXBpL2d1ZXN0L3JzdnBzJyksXG4gICAgICAgICAgZmV0Y2goJy9hcGkvZ3Vlc3Qvd2VkZGluZy1pbmZvJyksXG4gICAgICAgICAgZmV0Y2goJy9hcGkvZ3Vlc3QvYW5ub3VuY2VtZW50cycpLFxuICAgICAgICBdKTtcblxuICAgICAgICBpZiAoIWV2ZW50c1Jlc3BvbnNlLm9rIHx8ICFyc3Zwc1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgZGF0YScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXZlbnRzRGF0YSA9IGF3YWl0IGV2ZW50c1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgcnN2cHNEYXRhID0gYXdhaXQgcnN2cHNSZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IHdlZGRpbmdEYXRhID0gd2VkZGluZ1Jlc3BvbnNlLm9rID8gYXdhaXQgd2VkZGluZ1Jlc3BvbnNlLmpzb24oKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGFubm91bmNlbWVudHNEYXRhID0gYW5ub3VuY2VtZW50c1Jlc3BvbnNlLm9rID8gYXdhaXQgYW5ub3VuY2VtZW50c1Jlc3BvbnNlLmpzb24oKSA6IG51bGw7XG5cbiAgICAgICAgaWYgKGV2ZW50c0RhdGEuc3VjY2VzcyAmJiByc3Zwc0RhdGEuc3VjY2Vzcykge1xuICAgICAgICAgIC8vIFByb2Nlc3MgdXBjb21pbmcgZXZlbnRzXG4gICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBjb25zdCB1cGNvbWluZyA9IGV2ZW50c0RhdGEuZGF0YVxuICAgICAgICAgICAgLmZpbHRlcigoaXRlbTogYW55KSA9PiBuZXcgRGF0ZShpdGVtLmRhdGUpID49IG5vdylcbiAgICAgICAgICAgIC5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSlcbiAgICAgICAgICAgIC5zbGljZSgwLCA1KTtcblxuICAgICAgICAgIHNldFVwY29taW5nRXZlbnRzKHVwY29taW5nKTtcblxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBSU1ZQIHN1bW1hcnlcbiAgICAgICAgICBjb25zdCByc3ZwczogUlNWUFtdID0gcnN2cHNEYXRhLmRhdGE7XG4gICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IHtcbiAgICAgICAgICAgIHRvdGFsOiByc3Zwcy5sZW5ndGgsXG4gICAgICAgICAgICBhdHRlbmRpbmc6IHJzdnBzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnYXR0ZW5kaW5nJykubGVuZ3RoLFxuICAgICAgICAgICAgZGVjbGluZWQ6IHJzdnBzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZGVjbGluZWQnKS5sZW5ndGgsXG4gICAgICAgICAgICBwZW5kaW5nOiByc3Zwcy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKS5sZW5ndGgsXG4gICAgICAgICAgICBtYXliZTogcnN2cHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdtYXliZScpLmxlbmd0aCxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0UnN2cFN1bW1hcnkoc3VtbWFyeSk7XG5cbiAgICAgICAgICAvLyBTZXQgd2VkZGluZyBpbmZvXG4gICAgICAgICAgaWYgKHdlZGRpbmdEYXRhPy5zdWNjZXNzKSB7XG4gICAgICAgICAgICBzZXRXZWRkaW5nSW5mbyh3ZWRkaW5nRGF0YS5kYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZXQgYW5ub3VuY2VtZW50cyAodXJnZW50IGZpcnN0KVxuICAgICAgICAgIGlmIChhbm5vdW5jZW1lbnRzRGF0YT8uc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gYW5ub3VuY2VtZW50c0RhdGEuZGF0YS5zb3J0KChhOiBBbm5vdW5jZW1lbnQsIGI6IEFubm91bmNlbWVudCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoYS51cmdlbnQgJiYgIWIudXJnZW50KSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgIGlmICghYS51cmdlbnQgJiYgYi51cmdlbnQpIHJldHVybiAxO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5jcmVhdGVkX2F0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0QW5ub3VuY2VtZW50cyhzb3J0ZWQuc2xpY2UoMCwgMykpOyAvLyBTaG93IHRvcCAzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdBbiBlcnJvciBvY2N1cnJlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbG9hZERhc2hib2FyZERhdGEoKTtcbiAgfSwgW2d1ZXN0LmlkXSk7XG5cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgIHdlZWtkYXk6ICdsb25nJyxcbiAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgIG1vbnRoOiAnbG9uZycsXG4gICAgICBkYXk6ICdudW1lcmljJyxcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBmb3JtYXRUaW1lID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICBob3VyMTI6IHRydWUsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0UlNWUFN0YXR1c0NvbG9yID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgJ2F0dGVuZGluZyc6XG4gICAgICAgIHJldHVybiAnYmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS04MDAgYm9yZGVyLWp1bmdsZS0zMDAnO1xuICAgICAgY2FzZSAnZGVjbGluZWQnOlxuICAgICAgICByZXR1cm4gJ2JnLXNhZ2UtMTAwIHRleHQtc2FnZS04MDAgYm9yZGVyLXNhZ2UtMzAwJztcbiAgICAgIGNhc2UgJ21heWJlJzpcbiAgICAgICAgcmV0dXJuICdiZy1zdW5zZXQtMTAwIHRleHQtc3Vuc2V0LTgwMCBib3JkZXItc3Vuc2V0LTMwMCc7XG4gICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuICdiZy12b2xjYW5vLTEwMCB0ZXh0LXZvbGNhbm8tODAwIGJvcmRlci12b2xjYW5vLTMwMCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2JnLXNhZ2UtMTAwIHRleHQtc2FnZS04MDAgYm9yZGVyLXNhZ2UtMzAwJztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0UlNWUFN0YXR1c0xhYmVsID0gKHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgIGNhc2UgJ2F0dGVuZGluZyc6XG4gICAgICAgIHJldHVybiAnQXR0ZW5kaW5nJztcbiAgICAgIGNhc2UgJ2RlY2xpbmVkJzpcbiAgICAgICAgcmV0dXJuICdEZWNsaW5lZCc7XG4gICAgICBjYXNlICdtYXliZSc6XG4gICAgICAgIHJldHVybiAnTWF5YmUnO1xuICAgICAgY2FzZSAncGVuZGluZyc6XG4gICAgICAgIHJldHVybiAnUGVuZGluZyBSZXNwb25zZSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tanVuZ2xlLTUwIHZpYS1vY2Vhbi01MCB0by1zdW5zZXQtNTBcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYiBib3JkZXItc2FnZS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOCBweS02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1qdW5nbGUtNzAwXCI+XG4gICAgICAgICAgICAgICAgwqFQdXJhIFZpZGEsIHtndWVzdC5maXJzdF9uYW1lfSFcbiAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTYwMCBtdC0xXCI+V2VsY29tZSB0byB5b3VyIHdlZGRpbmcgZGFzaGJvYXJkPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGhyZWY9XCIvZ3Vlc3QvcHJvZmlsZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1vY2Vhbi02MDAgaG92ZXI6dGV4dC1vY2Vhbi03MDAgZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgTXkgUHJvZmlsZVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgaHJlZj1cIi9hcGkvYXV0aC9sb2dvdXRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc2FnZS02MDAgaG92ZXI6dGV4dC1zYWdlLTcwMCBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBMb2dvdXRcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTQgc206cHgtNiBsZzpweC04IHB5LThcIj5cbiAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1qdW5nbGUtNjAwXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBlcnJvciA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXZvbGNhbm8tNTAgYm9yZGVyIGJvcmRlci12b2xjYW5vLTIwMCByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXZvbGNhbm8tODAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgey8qIFdlZGRpbmcgSW5mbyBCYW5uZXIgKi99XG4gICAgICAgICAgICB7d2VkZGluZ0luZm8gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1qdW5nbGUtNjAwIHRvLW9jZWFuLTYwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTYgbWItNiB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi0yXCI+8J+MtCBDb3N0YSBSaWNhIFdlZGRpbmcg8J+MtDwvaDI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00IHRleHQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfk4U8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdERhdGUod2VkZGluZ0luZm8uZGF0ZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gc206YmxvY2tcIj7igKI8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfk408L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3dlZGRpbmdJbmZvLmxvY2F0aW9ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmJsb2NrXCI+4oCiPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7wn4+oPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt3ZWRkaW5nSW5mby52ZW51ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFVyZ2VudCBBbm5vdW5jZW1lbnRzICovfVxuICAgICAgICAgICAge2Fubm91bmNlbWVudHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7YW5ub3VuY2VtZW50cy5tYXAoKGFubm91bmNlbWVudCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2Fubm91bmNlbWVudC5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1sZyBzaGFkb3ctbWQgcC00IGJvcmRlci1sLTQgJHtcbiAgICAgICAgICAgICAgICAgICAgICBhbm5vdW5jZW1lbnQudXJnZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy12b2xjYW5vLTUwIGJvcmRlci12b2xjYW5vLTUwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLW9jZWFuLTUwIGJvcmRlci1vY2Vhbi01MDAnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7YW5ub3VuY2VtZW50LnVyZ2VudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bFwiPuKaoO+4jzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgZm9udC1ib2xkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFubm91bmNlbWVudC51cmdlbnQgPyAndGV4dC12b2xjYW5vLTgwMCcgOiAndGV4dC1vY2Vhbi04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHthbm5vdW5jZW1lbnQudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgbXQtMSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhbm5vdW5jZW1lbnQudXJnZW50ID8gJ3RleHQtdm9sY2Fuby03MDAnIDogJ3RleHQtb2NlYW4tNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7YW5ub3VuY2VtZW50Lm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0zIGdhcC02XCI+XG4gICAgICAgICAgICB7LyogUlNWUCBTdW1tYXJ5IENhcmQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1tZCBwLTYgYm9yZGVyIGJvcmRlci1zYWdlLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWp1bmdsZS03MDAgbWItNFwiPlJTVlAgU3VtbWFyeTwvaDI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2FnZS03MDBcIj5Ub3RhbCBFdmVudHM6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1qdW5nbGUtNzAwXCI+e3JzdnBTdW1tYXJ5LnRvdGFsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zYWdlLTcwMFwiPkF0dGVuZGluZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWp1bmdsZS02MDBcIj57cnN2cFN1bW1hcnkuYXR0ZW5kaW5nfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zYWdlLTcwMFwiPlBlbmRpbmc6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC12b2xjYW5vLTYwMFwiPntyc3ZwU3VtbWFyeS5wZW5kaW5nfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zYWdlLTcwMFwiPk1heWJlOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtc3Vuc2V0LTYwMFwiPntyc3ZwU3VtbWFyeS5tYXliZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2FnZS03MDBcIj5EZWNsaW5lZDo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNhZ2UtNjAwXCI+e3JzdnBTdW1tYXJ5LmRlY2xpbmVkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNlwiPlxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9ndWVzdC9yc3ZwXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtY2VudGVyIGJnLWp1bmdsZS02MDAgaG92ZXI6YmctanVuZ2xlLTcwMCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHB5LTIgcHgtNCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgTWFuYWdlIFJTVlBzXG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBRdWljayBBY3Rpb25zIENhcmQgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbWQgcC02IGJvcmRlciBib3JkZXItc2FnZS0yMDAgbXQtNlwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWp1bmdsZS03MDAgbWItNFwiPlF1aWNrIEFjdGlvbnM8L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBocmVmPVwiL2d1ZXN0L2ZhbWlseVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrIHctZnVsbCB0ZXh0LWxlZnQgYmctb2NlYW4tNTAgaG92ZXI6Ymctb2NlYW4tMTAwIHRleHQtb2NlYW4tNzAwIGZvbnQtbWVkaXVtIHB5LTMgcHgtNCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGJvcmRlciBib3JkZXItb2NlYW4tMjAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+RqOKAjfCfkanigI3wn5Gn4oCN8J+RpiBGYW1pbHkgSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIvZ3Vlc3QvdHJhbnNwb3J0YXRpb25cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgdGV4dC1sZWZ0IGJnLXN1bnNldC01MCBob3ZlcjpiZy1zdW5zZXQtMTAwIHRleHQtc3Vuc2V0LTcwMCBmb250LW1lZGl1bSBweS0zIHB4LTQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXIgYm9yZGVyLXN1bnNldC0yMDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDinIjvuI8gVHJhbnNwb3J0YXRpb24gRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9ndWVzdC9hY2NvbW1vZGF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtbGVmdCBiZy1qdW5nbGUtNTAgaG92ZXI6YmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS03MDAgZm9udC1tZWRpdW0gcHktMyBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgYm9yZGVyIGJvcmRlci1qdW5nbGUtMjAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+PqCBBY2NvbW1vZGF0aW9uIEluZm9cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9XCIvZ3Vlc3QvcGhvdG9zXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdy1mdWxsIHRleHQtbGVmdCBiZy12b2xjYW5vLTUwIGhvdmVyOmJnLXZvbGNhbm8tMTAwIHRleHQtdm9sY2Fuby03MDAgZm9udC1tZWRpdW0gcHktMyBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgYm9yZGVyIGJvcmRlci12b2xjYW5vLTIwMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfk7ggVXBsb2FkIFBob3Rvc1xuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgaHJlZj1cIi9ndWVzdC9pdGluZXJhcnlcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgdGV4dC1sZWZ0IGJnLXNhZ2UtNTAgaG92ZXI6Ymctc2FnZS0xMDAgdGV4dC1zYWdlLTcwMCBmb250LW1lZGl1bSBweS0zIHB4LTQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXIgYm9yZGVyLXNhZ2UtMjAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+ThSBWaWV3IEl0aW5lcmFyeVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogVXBjb21pbmcgRXZlbnRzIENhcmQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxnOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1tZCBwLTYgYm9yZGVyIGJvcmRlci1zYWdlLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWp1bmdsZS03MDAgbWItNFwiPlVwY29taW5nIEV2ZW50czwvaDI+XG4gICAgICAgICAgICAgICAge3VwY29taW5nRXZlbnRzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNjAwXCI+Tm8gdXBjb21pbmcgZXZlbnRzIGF0IHRoaXMgdGltZS48L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2FnZS01MDAgdGV4dC1zbSBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgQ2hlY2sgYmFjayBsYXRlciBmb3IgZXZlbnQgdXBkYXRlcyFcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIHt1cGNvbWluZ0V2ZW50cy5tYXAoKGV2ZW50KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtldmVudC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItc2FnZS0yMDAgcm91bmRlZC1sZyBwLTQgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tc2hhZG93XCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWp1bmdsZS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTcwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4Uge2Zvcm1hdERhdGUoZXZlbnQuZGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNzAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+VkCB7Zm9ybWF0VGltZShldmVudC5kYXRlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5sb2NhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2FnZS03MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk40ge2V2ZW50LmxvY2F0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW0gYm9yZGVyICR7Z2V0UlNWUFN0YXR1c0NvbG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5yc3ZwU3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldFJTVlBTdGF0dXNMYWJlbChldmVudC5yc3ZwU3RhdHVzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQucnN2cFN0YXR1cyA9PT0gJ3BlbmRpbmcnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2AvZ3Vlc3QvcnN2cD8ke2V2ZW50LnR5cGV9PSR7ZXZlbnQuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBiZy1qdW5nbGUtNjAwIGhvdmVyOmJnLWp1bmdsZS03MDAgdGV4dC13aGl0ZSBmb250LW1lZGl1bSBweS0yIHB4LTQgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNwb25kIHRvIFJTVlBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L21haW4+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiR3Vlc3REYXNoYm9hcmQiLCJndWVzdCIsInVwY29taW5nRXZlbnRzIiwic2V0VXBjb21pbmdFdmVudHMiLCJ1c2VTdGF0ZSIsInJzdnBTdW1tYXJ5Iiwic2V0UnN2cFN1bW1hcnkiLCJ0b3RhbCIsImF0dGVuZGluZyIsImRlY2xpbmVkIiwicGVuZGluZyIsIm1heWJlIiwid2VkZGluZ0luZm8iLCJzZXRXZWRkaW5nSW5mbyIsImFubm91bmNlbWVudHMiLCJzZXRBbm5vdW5jZW1lbnRzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwidXNlRWZmZWN0IiwibG9hZERhc2hib2FyZERhdGEiLCJldmVudHNSZXNwb25zZSIsInJzdnBzUmVzcG9uc2UiLCJ3ZWRkaW5nUmVzcG9uc2UiLCJhbm5vdW5jZW1lbnRzUmVzcG9uc2UiLCJQcm9taXNlIiwiYWxsIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZXZlbnRzRGF0YSIsImpzb24iLCJyc3Zwc0RhdGEiLCJ3ZWRkaW5nRGF0YSIsImFubm91bmNlbWVudHNEYXRhIiwic3VjY2VzcyIsIm5vdyIsIkRhdGUiLCJ1cGNvbWluZyIsImRhdGEiLCJmaWx0ZXIiLCJpdGVtIiwiZGF0ZSIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiLCJzbGljZSIsInJzdnBzIiwic3VtbWFyeSIsImxlbmd0aCIsInIiLCJzdGF0dXMiLCJzb3J0ZWQiLCJ1cmdlbnQiLCJjcmVhdGVkX2F0IiwiZXJyIiwibWVzc2FnZSIsImlkIiwiZm9ybWF0RGF0ZSIsImRhdGVTdHJpbmciLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwieWVhciIsIm1vbnRoIiwiZGF5IiwiZm9ybWF0VGltZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJob3VyMTIiLCJnZXRSU1ZQU3RhdHVzQ29sb3IiLCJnZXRSU1ZQU3RhdHVzTGFiZWwiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJoMSIsImZpcnN0X25hbWUiLCJwIiwiaHJlZiIsIm1haW4iLCJoMiIsInNwYW4iLCJsb2NhdGlvbiIsInZlbnVlIiwibWFwIiwiYW5ub3VuY2VtZW50IiwiaDMiLCJ0aXRsZSIsImV2ZW50IiwibmFtZSIsInJzdnBTdGF0dXMiLCJ0eXBlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBc0RnQkE7OztlQUFBQTs7Ozt1QkFwRG9CO0FBb0Q3QixTQUFTQSxlQUFlLEVBQUVDLEtBQUssRUFBdUI7SUFDM0QsTUFBTSxDQUFDQyxnQkFBZ0JDLGtCQUFrQixHQUFHQyxJQUFBQSxlQUFRLEVBQWtCLEVBQUU7SUFDeEUsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdGLElBQUFBLGVBQVEsRUFBYztRQUMxREcsT0FBTztRQUNQQyxXQUFXO1FBQ1hDLFVBQVU7UUFDVkMsU0FBUztRQUNUQyxPQUFPO0lBQ1Q7SUFDQSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1QsSUFBQUEsZUFBUSxF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