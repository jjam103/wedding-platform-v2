a500c8700be8572fc2384c4255d24b75
/**
 * Integration Test: Activities API
 * 
 * Tests activity creation/updates, capacity management, and RSVP handling
 * for activity management API endpoints.
 */ // Polyfill Web APIs for Next.js server components
"use strict";
// Mock activity service BEFORE importing route handlers
jest.mock('@/services/activityService', ()=>({
        create: jest.fn(),
        get: jest.fn(),
        update: jest.fn(),
        deleteActivity: jest.fn(),
        list: jest.fn(),
        search: jest.fn(),
        getCapacityInfo: jest.fn(),
        calculateNetCost: jest.fn()
    }));
// Mock RSVP service BEFORE importing route handlers
jest.mock('@/services/rsvpService', ()=>({
        create: jest.fn(),
        get: jest.fn(),
        update: jest.fn(),
        deleteRSVP: jest.fn(),
        list: jest.fn(),
        getByGuest: jest.fn(),
        getByEvent: jest.fn(),
        getByActivity: jest.fn(),
        calculateActivityCapacity: jest.fn(),
        generateCapacityAlerts: jest.fn(),
        checkCapacityAvailable: jest.fn(),
        enforceCapacityLimit: jest.fn()
    }));
// Mock Next.js server module
jest.mock('next/server', ()=>({
        NextResponse: {
            json: (data, init)=>({
                    json: async ()=>data,
                    status: init?.status || 200
                })
        },
        NextRequest: jest.fn()
    }));
// Mock Next.js headers and cookies
jest.mock('next/headers', ()=>({
        cookies: jest.fn(()=>({
                get: jest.fn(),
                getAll: jest.fn(()=>[]),
                set: jest.fn(),
                delete: jest.fn()
            }))
    }));
jest.mock('@/lib/supabaseServer', ()=>({
        createAuthenticatedClient: jest.fn(()=>mockSupabaseClient)
    }));
// Mock Supabase SSR client for RSVP routes
jest.mock('@supabase/ssr', ()=>({
        createServerClient: jest.fn(()=>mockSupabaseClient)
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _util = require("util");
const _route = require("../../app/api/admin/activities/route");
const _route1 = require("../../app/api/admin/activities/[id]/route");
const _route2 = require("../../app/api/admin/activities/[id]/capacity/route");
const _route3 = require("../../app/api/admin/rsvps/route");
const _route4 = require("../../app/api/admin/rsvps/[id]/route");
const _activityService = /*#__PURE__*/ _interop_require_wildcard(require("../../services/activityService"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
global.TextEncoder = _util.TextEncoder;
global.TextDecoder = _util.TextDecoder;
// Mock Supabase server client
const mockGetUser = jest.fn();
const mockGetSession = jest.fn();
const mockSupabaseClient = {
    auth: {
        getUser: mockGetUser,
        getSession: mockGetSession
    },
    from: jest.fn()
};
describe('Activities API Integration Tests', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Default: authenticated user
        mockGetUser.mockResolvedValue({
            data: {
                user: {
                    id: 'user-1',
                    email: 'admin@example.com'
                }
            },
            error: null
        });
        // Default: valid session
        mockGetSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'user-1',
                        email: 'admin@example.com'
                    }
                }
            },
            error: null
        });
    });
    describe('Activity Creation/Updates', ()=>{
        describe('POST /api/admin/activities', ()=>{
            it('should create activity with valid data', async ()=>{
                const newActivity = {
                    id: 'activity-1',
                    name: 'Beach Volleyball',
                    activityType: 'activity',
                    startTime: '2025-06-15T10:00:00Z',
                    capacity: 20,
                    costPerPerson: 25.00,
                    hostSubsidy: 5.00,
                    adultsOnly: false,
                    status: 'published',
                    createdAt: '2025-01-01T00:00:00Z'
                };
                _activityService.create.mockResolvedValue({
                    success: true,
                    data: newActivity
                });
                const request = {
                    json: async ()=>({
                            name: 'Beach Volleyball',
                            activityType: 'activity',
                            startTime: '2025-06-15T10:00:00Z',
                            capacity: 20,
                            costPerPerson: 25.00,
                            hostSubsidy: 5.00,
                            adultsOnly: false
                        }),
                    url: 'http://localhost:3000/api/admin/activities'
                };
                const response = await (0, _route.POST)(request);
                const data = await response.json();
                expect(response.status).toBe(201);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(newActivity);
                expect(_activityService.create).toHaveBeenCalledWith({
                    name: 'Beach Volleyball',
                    activityType: 'activity',
                    startTime: '2025-06-15T10:00:00Z',
                    capacity: 20,
                    costPerPerson: 25.00,
                    hostSubsidy: 5.00,
                    adultsOnly: false
                });
            });
            it('should return 400 for validation errors', async ()=>{
                _activityService.create.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'VALIDATION_ERROR',
                        message: 'Validation failed',
                        details: [
                            {
                                path: [
                                    'name'
                                ],
                                message: 'Name is required'
                            }
                        ]
                    }
                });
                const request = {
                    json: async ()=>({
                            name: ''
                        }),
                    url: 'http://localhost:3000/api/admin/activities'
                };
                const response = await (0, _route.POST)(request);
                const data = await response.json();
                expect(response.status).toBe(400);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('VALIDATION_ERROR');
            });
            it('should return 401 when not authenticated', async ()=>{
                mockGetSession.mockResolvedValue({
                    data: {
                        session: null
                    },
                    error: null
                });
                const request = {
                    json: async ()=>({
                            name: 'Beach Volleyball'
                        }),
                    url: 'http://localhost:3000/api/admin/activities'
                };
                const response = await (0, _route.POST)(request);
                const data = await response.json();
                expect(response.status).toBe(401);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('UNAUTHORIZED');
            });
            it('should return 500 for database errors', async ()=>{
                _activityService.create.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'DATABASE_ERROR',
                        message: 'Database connection failed'
                    }
                });
                const request = {
                    json: async ()=>({
                            name: 'Beach Volleyball',
                            activityType: 'activity',
                            startTime: '2025-06-15T10:00:00Z'
                        }),
                    url: 'http://localhost:3000/api/admin/activities'
                };
                const response = await (0, _route.POST)(request);
                const data = await response.json();
                expect(response.status).toBe(500);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('DATABASE_ERROR');
            });
        });
        describe('PUT /api/admin/activities/[id]', ()=>{
            it('should update activity with valid data', async ()=>{
                const updatedActivity = {
                    id: 'activity-1',
                    name: 'Updated Beach Volleyball',
                    activityType: 'activity',
                    startTime: '2025-06-15T11:00:00Z',
                    capacity: 25,
                    costPerPerson: 30.00,
                    hostSubsidy: 10.00,
                    adultsOnly: true,
                    status: 'published',
                    createdAt: '2025-01-01T00:00:00Z'
                };
                _activityService.update.mockResolvedValue({
                    success: true,
                    data: updatedActivity
                });
                const request = {
                    json: async ()=>({
                            name: 'Updated Beach Volleyball',
                            startTime: '2025-06-15T11:00:00Z',
                            capacity: 25,
                            costPerPerson: 30.00,
                            hostSubsidy: 10.00,
                            adultsOnly: true
                        }),
                    url: 'http://localhost:3000/api/admin/activities/activity-1'
                };
                const response = await (0, _route1.PUT)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(updatedActivity);
                expect(_activityService.update).toHaveBeenCalledWith('activity-1', {
                    name: 'Updated Beach Volleyball',
                    startTime: '2025-06-15T11:00:00Z',
                    capacity: 25,
                    costPerPerson: 30.00,
                    hostSubsidy: 10.00,
                    adultsOnly: true
                });
            });
            it('should return 404 when activity not found', async ()=>{
                _activityService.update.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'NOT_FOUND',
                        message: 'Activity not found'
                    }
                });
                const request = {
                    json: async ()=>({
                            name: 'Updated Name'
                        }),
                    url: 'http://localhost:3000/api/admin/activities/invalid-id'
                };
                const response = await (0, _route1.PUT)(request, {
                    params: Promise.resolve({
                        id: 'invalid-id'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(404);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('NOT_FOUND');
            });
            it('should return 400 for validation errors', async ()=>{
                _activityService.update.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'VALIDATION_ERROR',
                        message: 'Validation failed',
                        details: [
                            {
                                path: [
                                    'capacity'
                                ],
                                message: 'Capacity must be positive'
                            }
                        ]
                    }
                });
                const request = {
                    json: async ()=>({
                            capacity: -5
                        }),
                    url: 'http://localhost:3000/api/admin/activities/activity-1'
                };
                const response = await (0, _route1.PUT)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(400);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('VALIDATION_ERROR');
            });
        });
        describe('GET /api/admin/activities', ()=>{
            it('should list activities with filters', async ()=>{
                const mockActivities = {
                    activities: [
                        {
                            id: 'activity-1',
                            name: 'Beach Volleyball',
                            activityType: 'activity',
                            startTime: '2025-06-15T10:00:00Z',
                            capacity: 20,
                            status: 'published'
                        },
                        {
                            id: 'activity-2',
                            name: 'Sunset Dinner',
                            activityType: 'meal',
                            startTime: '2025-06-15T18:00:00Z',
                            capacity: 50,
                            status: 'published'
                        }
                    ],
                    total: 2,
                    page: 1,
                    pageSize: 50,
                    totalPages: 1
                };
                _activityService.list.mockResolvedValue({
                    success: true,
                    data: mockActivities
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities?eventId=event-1&status=published'
                };
                const response = await (0, _route.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(mockActivities);
                expect(_activityService.list).toHaveBeenCalledWith({
                    eventId: 'event-1',
                    status: 'published'
                });
            });
            it('should handle pagination parameters', async ()=>{
                const mockActivities = {
                    activities: [],
                    total: 0,
                    page: 2,
                    pageSize: 10,
                    totalPages: 0
                };
                _activityService.list.mockResolvedValue({
                    success: true,
                    data: mockActivities
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities?page=2&pageSize=10'
                };
                const response = await (0, _route.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(_activityService.list).toHaveBeenCalledWith({
                    page: 2,
                    pageSize: 10
                });
            });
        });
        describe('GET /api/admin/activities/[id]', ()=>{
            it('should return activity by ID', async ()=>{
                const mockActivity = {
                    id: 'activity-1',
                    name: 'Beach Volleyball',
                    activityType: 'activity',
                    startTime: '2025-06-15T10:00:00Z',
                    capacity: 20,
                    status: 'published',
                    createdAt: '2025-01-01T00:00:00Z'
                };
                _activityService.get.mockResolvedValue({
                    success: true,
                    data: mockActivity
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1'
                };
                const response = await (0, _route1.GET)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(mockActivity);
                expect(_activityService.get).toHaveBeenCalledWith('activity-1');
            });
            it('should return 404 when activity not found', async ()=>{
                _activityService.get.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'NOT_FOUND',
                        message: 'Activity not found'
                    }
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/invalid-id'
                };
                const response = await (0, _route1.GET)(request, {
                    params: Promise.resolve({
                        id: 'invalid-id'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(404);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('NOT_FOUND');
            });
        });
        describe('DELETE /api/admin/activities/[id]', ()=>{
            it('should delete activity successfully', async ()=>{
                _activityService.deleteActivity.mockResolvedValue({
                    success: true,
                    data: undefined
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1'
                };
                const response = await (0, _route1.DELETE)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(_activityService.deleteActivity).toHaveBeenCalledWith('activity-1');
            });
            it('should return 500 when deletion fails', async ()=>{
                _activityService.deleteActivity.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'DATABASE_ERROR',
                        message: 'Failed to delete'
                    }
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1'
                };
                const response = await (0, _route1.DELETE)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(500);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('DATABASE_ERROR');
            });
        });
    });
    describe('Capacity Management', ()=>{
        describe('GET /api/admin/activities/[id]/capacity', ()=>{
            it('should return capacity information for activity', async ()=>{
                const mockCapacityInfo = {
                    activityId: 'activity-1',
                    activityName: 'Beach Volleyball',
                    capacity: 20,
                    currentAttendees: 15,
                    availableSpots: 5,
                    utilizationPercentage: 75,
                    isNearCapacity: false,
                    isAtCapacity: false
                };
                _activityService.getCapacityInfo.mockResolvedValue({
                    success: true,
                    data: mockCapacityInfo
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1/capacity'
                };
                const response = await (0, _route2.GET)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(mockCapacityInfo);
                expect(_activityService.getCapacityInfo).toHaveBeenCalledWith('activity-1');
            });
            it('should return capacity info showing near capacity warning', async ()=>{
                const mockCapacityInfo = {
                    activityId: 'activity-1',
                    activityName: 'Beach Volleyball',
                    capacity: 20,
                    currentAttendees: 18,
                    availableSpots: 2,
                    utilizationPercentage: 90,
                    isNearCapacity: true,
                    isAtCapacity: false
                };
                _activityService.getCapacityInfo.mockResolvedValue({
                    success: true,
                    data: mockCapacityInfo
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1/capacity'
                };
                const response = await (0, _route2.GET)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data.isNearCapacity).toBe(true);
                expect(data.data.utilizationPercentage).toBe(90);
            });
            it('should return capacity info showing at capacity', async ()=>{
                const mockCapacityInfo = {
                    activityId: 'activity-1',
                    activityName: 'Beach Volleyball',
                    capacity: 20,
                    currentAttendees: 20,
                    availableSpots: 0,
                    utilizationPercentage: 100,
                    isNearCapacity: true,
                    isAtCapacity: true
                };
                _activityService.getCapacityInfo.mockResolvedValue({
                    success: true,
                    data: mockCapacityInfo
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1/capacity'
                };
                const response = await (0, _route2.GET)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data.isAtCapacity).toBe(true);
                expect(data.data.availableSpots).toBe(0);
            });
            it('should return 404 when activity not found', async ()=>{
                _activityService.getCapacityInfo.mockResolvedValue({
                    success: false,
                    error: {
                        code: 'NOT_FOUND',
                        message: 'Activity not found'
                    }
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/invalid-id/capacity'
                };
                const response = await (0, _route2.GET)(request, {
                    params: Promise.resolve({
                        id: 'invalid-id'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(404);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('NOT_FOUND');
            });
            it('should handle unlimited capacity activities', async ()=>{
                const mockCapacityInfo = {
                    activityId: 'activity-1',
                    activityName: 'Beach Volleyball',
                    capacity: null,
                    currentAttendees: 25,
                    availableSpots: null,
                    utilizationPercentage: null,
                    isNearCapacity: false,
                    isAtCapacity: false
                };
                _activityService.getCapacityInfo.mockResolvedValue({
                    success: true,
                    data: mockCapacityInfo
                });
                const request = {
                    url: 'http://localhost:3000/api/admin/activities/activity-1/capacity'
                };
                const response = await (0, _route2.GET)(request, {
                    params: Promise.resolve({
                        id: 'activity-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data.capacity).toBeNull();
                expect(data.data.availableSpots).toBeNull();
                expect(data.data.utilizationPercentage).toBeNull();
            });
        });
    });
    describe('RSVP Handling', ()=>{
        describe('GET /api/admin/rsvps', ()=>{
            it('should list RSVPs with filters', async ()=>{
                const mockRSVPs = [
                    {
                        id: 'rsvp-1',
                        guest_id: 'guest-1',
                        activity_id: 'activity-1',
                        status: 'attending',
                        guest_count: 2,
                        created_at: '2025-01-01T00:00:00Z'
                    },
                    {
                        id: 'rsvp-2',
                        guest_id: 'guest-2',
                        activity_id: 'activity-1',
                        status: 'declined',
                        guest_count: 1,
                        created_at: '2025-01-01T01:00:00Z'
                    }
                ];
                // Mock Supabase query chain to match the actual route implementation
                const mockQuery = {
                    select: jest.fn().mockReturnThis(),
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockResolvedValue({
                        data: mockRSVPs,
                        error: null,
                        count: 2
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    url: 'http://localhost:3000/api/admin/rsvps?activity_id=123e4567-e89b-12d3-a456-426614174000&status=attending'
                };
                const response = await (0, _route3.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(mockRSVPs);
                expect(data.pagination.total).toBe(2);
            });
            it('should handle pagination parameters', async ()=>{
                const mockRSVPs = [];
                // Mock Supabase query chain to match the actual route implementation
                const mockQuery = {
                    select: jest.fn().mockReturnThis(),
                    range: jest.fn().mockResolvedValue({
                        data: mockRSVPs,
                        error: null,
                        count: 0
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    url: 'http://localhost:3000/api/admin/rsvps?page=2&page_size=10'
                };
                const response = await (0, _route3.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.pagination.page).toBe(2);
                expect(data.pagination.page_size).toBe(10);
                expect(mockQuery.range).toHaveBeenCalledWith(10, 19); // (page-1)*pageSize to (page*pageSize)-1
            });
            it('should return 400 for invalid filter parameters', async ()=>{
                const request = {
                    url: 'http://localhost:3000/api/admin/rsvps?page=invalid'
                };
                const response = await (0, _route3.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(400);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('VALIDATION_ERROR');
            });
            it('should return 500 for database errors', async ()=>{
                // Mock Supabase query chain with error to match the actual route implementation
                const mockQuery = {
                    select: jest.fn().mockReturnThis(),
                    range: jest.fn().mockResolvedValue({
                        data: null,
                        error: {
                            message: 'Database connection failed'
                        },
                        count: null
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    url: 'http://localhost:3000/api/admin/rsvps'
                };
                const response = await (0, _route3.GET)(request);
                const data = await response.json();
                expect(response.status).toBe(500);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('DATABASE_ERROR');
            });
        });
        describe('PUT /api/admin/rsvps/[id]', ()=>{
            it('should update RSVP with valid data', async ()=>{
                const updatedRSVP = {
                    id: 'rsvp-1',
                    guest_id: 'guest-1',
                    activity_id: 'activity-1',
                    status: 'attending',
                    guest_count: 3,
                    dietary_notes: 'Vegetarian',
                    updated_at: '2025-01-01T12:00:00Z',
                    responded_at: '2025-01-01T12:00:00Z'
                };
                // Mock Supabase update chain
                const mockQuery = {
                    update: jest.fn().mockReturnThis(),
                    eq: jest.fn().mockReturnThis(),
                    select: jest.fn().mockReturnThis(),
                    single: jest.fn().mockResolvedValue({
                        data: updatedRSVP,
                        error: null
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    json: async ()=>({
                            status: 'attending',
                            guest_count: 3,
                            dietary_notes: 'Vegetarian'
                        }),
                    url: 'http://localhost:3000/api/admin/rsvps/rsvp-1'
                };
                const response = await (0, _route4.PUT)(request, {
                    params: Promise.resolve({
                        id: 'rsvp-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(data.data).toEqual(updatedRSVP);
                expect(mockQuery.update).toHaveBeenCalledWith(expect.objectContaining({
                    status: 'attending',
                    guest_count: 3,
                    dietary_notes: 'Vegetarian',
                    updated_at: expect.any(String),
                    responded_at: expect.any(String)
                }));
            });
            it('should return 404 when RSVP not found', async ()=>{
                // Mock Supabase update chain with not found error
                const mockQuery = {
                    update: jest.fn().mockReturnThis(),
                    eq: jest.fn().mockReturnThis(),
                    select: jest.fn().mockReturnThis(),
                    single: jest.fn().mockResolvedValue({
                        data: null,
                        error: {
                            code: 'PGRST116',
                            message: 'No rows found'
                        }
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    json: async ()=>({
                            status: 'attending'
                        }),
                    url: 'http://localhost:3000/api/admin/rsvps/invalid-id'
                };
                const response = await (0, _route4.PUT)(request, {
                    params: Promise.resolve({
                        id: 'invalid-id'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(404);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('NOT_FOUND');
            });
            it('should return 400 for validation errors', async ()=>{
                const request = {
                    json: async ()=>({
                            status: 'invalid_status'
                        }),
                    url: 'http://localhost:3000/api/admin/rsvps/rsvp-1'
                };
                const response = await (0, _route4.PUT)(request, {
                    params: Promise.resolve({
                        id: 'rsvp-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(400);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('VALIDATION_ERROR');
            });
            it('should set responded_at when status changes from pending', async ()=>{
                const updatedRSVP = {
                    id: 'rsvp-1',
                    guest_id: 'guest-1',
                    activity_id: 'activity-1',
                    status: 'attending',
                    guest_count: 1,
                    updated_at: '2025-01-01T12:00:00Z',
                    responded_at: '2025-01-01T12:00:00Z'
                };
                // Mock Supabase update chain
                const mockQuery = {
                    update: jest.fn().mockReturnThis(),
                    eq: jest.fn().mockReturnThis(),
                    select: jest.fn().mockReturnThis(),
                    single: jest.fn().mockResolvedValue({
                        data: updatedRSVP,
                        error: null
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    json: async ()=>({
                            status: 'attending'
                        }),
                    url: 'http://localhost:3000/api/admin/rsvps/rsvp-1'
                };
                const response = await (0, _route4.PUT)(request, {
                    params: Promise.resolve({
                        id: 'rsvp-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(mockQuery.update).toHaveBeenCalledWith(expect.objectContaining({
                    status: 'attending',
                    updated_at: expect.any(String),
                    responded_at: expect.any(String)
                }));
            });
            it('should not set responded_at when status is pending', async ()=>{
                const updatedRSVP = {
                    id: 'rsvp-1',
                    guest_id: 'guest-1',
                    activity_id: 'activity-1',
                    status: 'pending',
                    guest_count: 1,
                    updated_at: '2025-01-01T12:00:00Z',
                    responded_at: null
                };
                // Mock Supabase update chain
                const mockQuery = {
                    update: jest.fn().mockReturnThis(),
                    eq: jest.fn().mockReturnThis(),
                    select: jest.fn().mockReturnThis(),
                    single: jest.fn().mockResolvedValue({
                        data: updatedRSVP,
                        error: null
                    })
                };
                mockSupabaseClient.from.mockReturnValue(mockQuery);
                const request = {
                    json: async ()=>({
                            status: 'pending'
                        }),
                    url: 'http://localhost:3000/api/admin/rsvps/rsvp-1'
                };
                const response = await (0, _route4.PUT)(request, {
                    params: Promise.resolve({
                        id: 'rsvp-1'
                    })
                });
                const data = await response.json();
                expect(response.status).toBe(200);
                expect(data.success).toBe(true);
                expect(mockQuery.update).toHaveBeenCalledWith(expect.objectContaining({
                    status: 'pending',
                    updated_at: expect.any(String)
                }));
                // Should not include responded_at for pending status
                expect(mockQuery.update).not.toHaveBeenCalledWith(expect.objectContaining({
                    responded_at: expect.any(String)
                }));
            });
        });
    });
    describe('Authentication and Authorization', ()=>{
        it('should return 401 for all endpoints when not authenticated', async ()=>{
            mockGetSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const endpoints = [
                {
                    handler: _route.GET,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities'
                    }
                },
                {
                    handler: _route.POST,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities',
                        json: async ()=>({})
                    }
                },
                {
                    handler: _route1.GET,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities/activity-1'
                    },
                    params: {
                        params: Promise.resolve({
                            id: 'activity-1'
                        })
                    }
                },
                {
                    handler: _route1.PUT,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities/activity-1',
                        json: async ()=>({})
                    },
                    params: {
                        params: Promise.resolve({
                            id: 'activity-1'
                        })
                    }
                },
                {
                    handler: _route1.DELETE,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities/activity-1'
                    },
                    params: {
                        params: Promise.resolve({
                            id: 'activity-1'
                        })
                    }
                },
                {
                    handler: _route2.GET,
                    request: {
                        url: 'http://localhost:3000/api/admin/activities/activity-1/capacity'
                    },
                    params: {
                        params: Promise.resolve({
                            id: 'activity-1'
                        })
                    }
                },
                {
                    handler: _route3.GET,
                    request: {
                        url: 'http://localhost:3000/api/admin/rsvps'
                    }
                },
                {
                    handler: _route4.PUT,
                    request: {
                        url: 'http://localhost:3000/api/admin/rsvps/rsvp-1',
                        json: async ()=>({})
                    },
                    params: {
                        params: Promise.resolve({
                            id: 'rsvp-1'
                        })
                    }
                }
            ];
            for (const endpoint of endpoints){
                const response = endpoint.params ? await endpoint.handler(endpoint.request, endpoint.params) : await endpoint.handler(endpoint.request);
                const data = await response.json();
                expect(response.status).toBe(401);
                expect(data.success).toBe(false);
                expect(data.error.code).toBe('UNAUTHORIZED');
            }
        });
        it('should return 401 when session has error', async ()=>{
            mockGetSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: {
                    message: 'Session expired'
                }
            });
            const request = {
                url: 'http://localhost:3000/api/admin/activities'
            };
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL2FjdGl2aXRpZXNBcGkuaW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVncmF0aW9uIFRlc3Q6IEFjdGl2aXRpZXMgQVBJXG4gKiBcbiAqIFRlc3RzIGFjdGl2aXR5IGNyZWF0aW9uL3VwZGF0ZXMsIGNhcGFjaXR5IG1hbmFnZW1lbnQsIGFuZCBSU1ZQIGhhbmRsaW5nXG4gKiBmb3IgYWN0aXZpdHkgbWFuYWdlbWVudCBBUEkgZW5kcG9pbnRzLlxuICovXG5cbi8vIFBvbHlmaWxsIFdlYiBBUElzIGZvciBOZXh0LmpzIHNlcnZlciBjb21wb25lbnRzXG5pbXBvcnQgeyBUZXh0RW5jb2RlciwgVGV4dERlY29kZXIgfSBmcm9tICd1dGlsJztcbmdsb2JhbC5UZXh0RW5jb2RlciA9IFRleHRFbmNvZGVyO1xuZ2xvYmFsLlRleHREZWNvZGVyID0gVGV4dERlY29kZXIgYXMgYW55O1xuXG4vLyBNb2NrIGFjdGl2aXR5IHNlcnZpY2UgQkVGT1JFIGltcG9ydGluZyByb3V0ZSBoYW5kbGVyc1xuamVzdC5tb2NrKCdAL3NlcnZpY2VzL2FjdGl2aXR5U2VydmljZScsICgpID0+ICh7XG4gIGNyZWF0ZTogamVzdC5mbigpLFxuICBnZXQ6IGplc3QuZm4oKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCksXG4gIGRlbGV0ZUFjdGl2aXR5OiBqZXN0LmZuKCksXG4gIGxpc3Q6IGplc3QuZm4oKSxcbiAgc2VhcmNoOiBqZXN0LmZuKCksXG4gIGdldENhcGFjaXR5SW5mbzogamVzdC5mbigpLFxuICBjYWxjdWxhdGVOZXRDb3N0OiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgUlNWUCBzZXJ2aWNlIEJFRk9SRSBpbXBvcnRpbmcgcm91dGUgaGFuZGxlcnNcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9yc3ZwU2VydmljZScsICgpID0+ICh7XG4gIGNyZWF0ZTogamVzdC5mbigpLFxuICBnZXQ6IGplc3QuZm4oKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCksXG4gIGRlbGV0ZVJTVlA6IGplc3QuZm4oKSxcbiAgbGlzdDogamVzdC5mbigpLFxuICBnZXRCeUd1ZXN0OiBqZXN0LmZuKCksXG4gIGdldEJ5RXZlbnQ6IGplc3QuZm4oKSxcbiAgZ2V0QnlBY3Rpdml0eTogamVzdC5mbigpLFxuICBjYWxjdWxhdGVBY3Rpdml0eUNhcGFjaXR5OiBqZXN0LmZuKCksXG4gIGdlbmVyYXRlQ2FwYWNpdHlBbGVydHM6IGplc3QuZm4oKSxcbiAgY2hlY2tDYXBhY2l0eUF2YWlsYWJsZTogamVzdC5mbigpLFxuICBlbmZvcmNlQ2FwYWNpdHlMaW1pdDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgc2VydmVyIG1vZHVsZVxuamVzdC5tb2NrKCduZXh0L3NlcnZlcicsICgpID0+ICh7XG4gIE5leHRSZXNwb25zZToge1xuICAgIGpzb246IChkYXRhOiBhbnksIGluaXQ/OiBhbnkpID0+ICh7XG4gICAgICBqc29uOiBhc3luYyAoKSA9PiBkYXRhLFxuICAgICAgc3RhdHVzOiBpbml0Py5zdGF0dXMgfHwgMjAwLFxuICAgIH0pLFxuICB9LFxuICBOZXh0UmVxdWVzdDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgaGVhZGVycyBhbmQgY29va2llc1xuamVzdC5tb2NrKCduZXh0L2hlYWRlcnMnLCAoKSA9PiAoe1xuICBjb29raWVzOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZ2V0OiBqZXN0LmZuKCksXG4gICAgZ2V0QWxsOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICBzZXQ6IGplc3QuZm4oKSxcbiAgICBkZWxldGU6IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuXG4vLyBNb2NrIFN1cGFiYXNlIHNlcnZlciBjbGllbnRcbmNvbnN0IG1vY2tHZXRVc2VyID0gamVzdC5mbigpO1xuY29uc3QgbW9ja0dldFNlc3Npb24gPSBqZXN0LmZuKCk7XG5jb25zdCBtb2NrU3VwYWJhc2VDbGllbnQgPSB7XG4gIGF1dGg6IHtcbiAgICBnZXRVc2VyOiBtb2NrR2V0VXNlcixcbiAgICBnZXRTZXNzaW9uOiBtb2NrR2V0U2Vzc2lvbixcbiAgfSxcbiAgZnJvbTogamVzdC5mbigpLFxufTtcblxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZVNlcnZlcicsICgpID0+ICh7XG4gIGNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnQ6IGplc3QuZm4oKCkgPT4gbW9ja1N1cGFiYXNlQ2xpZW50KSxcbn0pKTtcblxuLy8gTW9jayBTdXBhYmFzZSBTU1IgY2xpZW50IGZvciBSU1ZQIHJvdXRlc1xuamVzdC5tb2NrKCdAc3VwYWJhc2Uvc3NyJywgKCkgPT4gKHtcbiAgY3JlYXRlU2VydmVyQ2xpZW50OiBqZXN0LmZuKCgpID0+IG1vY2tTdXBhYmFzZUNsaWVudCksXG59KSk7XG5cbmltcG9ydCB7IEdFVCBhcyBHRVRfQUNUSVZJVElFUywgUE9TVCBhcyBQT1NUX0FDVElWSVRJRVMgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vYWN0aXZpdGllcy9yb3V0ZSc7XG5pbXBvcnQge1xuICBHRVQgYXMgR0VUX0FDVElWSVRZX0JZX0lELFxuICBQVVQgYXMgUFVUX0FDVElWSVRZLFxuICBERUxFVEUgYXMgREVMRVRFX0FDVElWSVRZLFxufSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vYWN0aXZpdGllcy9baWRdL3JvdXRlJztcbmltcG9ydCB7IEdFVCBhcyBHRVRfQ0FQQUNJVFkgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vYWN0aXZpdGllcy9baWRdL2NhcGFjaXR5L3JvdXRlJztcbmltcG9ydCB7IEdFVCBhcyBHRVRfUlNWUFMgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vcnN2cHMvcm91dGUnO1xuaW1wb3J0IHsgUFVUIGFzIFBVVF9SU1ZQIH0gZnJvbSAnQC9hcHAvYXBpL2FkbWluL3JzdnBzL1tpZF0vcm91dGUnO1xuaW1wb3J0ICogYXMgYWN0aXZpdHlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvYWN0aXZpdHlTZXJ2aWNlJztcbmltcG9ydCAqIGFzIHJzdnBTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvcnN2cFNlcnZpY2UnO1xuXG5kZXNjcmliZSgnQWN0aXZpdGllcyBBUEkgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIERlZmF1bHQ6IGF1dGhlbnRpY2F0ZWQgdXNlclxuICAgIG1vY2tHZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogeyBpZDogJ3VzZXItMScsIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nIH0sXG4gICAgICB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSBhcyBhbnkpO1xuICAgIFxuICAgIC8vIERlZmF1bHQ6IHZhbGlkIHNlc3Npb25cbiAgICBtb2NrR2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScsIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nIH0gfSxcbiAgICAgIH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9IGFzIGFueSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY3Rpdml0eSBDcmVhdGlvbi9VcGRhdGVzJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdQT1NUIC9hcGkvYWRtaW4vYWN0aXZpdGllcycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGFjdGl2aXR5IHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3QWN0aXZpdHkgPSB7XG4gICAgICAgICAgaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBuYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBjYXBhY2l0eTogMjAsXG4gICAgICAgICAgY29zdFBlclBlcnNvbjogMjUuMDAsXG4gICAgICAgICAgaG9zdFN1YnNpZHk6IDUuMDAsXG4gICAgICAgICAgYWR1bHRzT25seTogZmFsc2UsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH07XG5cbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBuZXdBY3Rpdml0eSxcbiAgICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6ICdCZWFjaCBWb2xsZXliYWxsJyxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICAgIGNhcGFjaXR5OiAyMCxcbiAgICAgICAgICAgIGNvc3RQZXJQZXJzb246IDI1LjAwLFxuICAgICAgICAgICAgaG9zdFN1YnNpZHk6IDUuMDAsXG4gICAgICAgICAgICBhZHVsdHNPbmx5OiBmYWxzZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1RfQUNUSVZJVElFUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvRXF1YWwobmV3QWN0aXZpdHkpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHlTZXJ2aWNlLmNyZWF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIG5hbWU6ICdCZWFjaCBWb2xsZXliYWxsJyxcbiAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMDowMDowMFonLFxuICAgICAgICAgIGNhcGFjaXR5OiAyMCxcbiAgICAgICAgICBjb3N0UGVyUGVyc29uOiAyNS4wMCxcbiAgICAgICAgICBob3N0U3Vic2lkeTogNS4wMCxcbiAgICAgICAgICBhZHVsdHNPbmx5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciB2YWxpZGF0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgICBkZXRhaWxzOiBbeyBwYXRoOiBbJ25hbWUnXSwgbWVzc2FnZTogJ05hbWUgaXMgcmVxdWlyZWQnIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IG5hbWU6ICcnIH0pLCAvLyBJbnZhbGlkOiBlbXB0eSBuYW1lXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUX0FDVElWSVRJRVMocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBtb2NrR2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IG5hbWU6ICdCZWFjaCBWb2xsZXliYWxsJyB9KSxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1RfQUNUSVZJVElFUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiA1MDAgZm9yIGRhdGFiYXNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5jcmVhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBuYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgICBzdGFydFRpbWU6ICcyMDI1LTA2LTE1VDEwOjAwOjAwWicsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUX0FDVElWSVRJRVMocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ1BVVCAvYXBpL2FkbWluL2FjdGl2aXRpZXMvW2lkXScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgdXBkYXRlIGFjdGl2aXR5IHdpdGggdmFsaWQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEFjdGl2aXR5ID0ge1xuICAgICAgICAgIGlkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgbmFtZTogJ1VwZGF0ZWQgQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTE6MDA6MDBaJyxcbiAgICAgICAgICBjYXBhY2l0eTogMjUsXG4gICAgICAgICAgY29zdFBlclBlcnNvbjogMzAuMDAsXG4gICAgICAgICAgaG9zdFN1YnNpZHk6IDEwLjAwLFxuICAgICAgICAgIGFkdWx0c09ubHk6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH07XG5cbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS51cGRhdGUgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiB1cGRhdGVkQWN0aXZpdHksXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBuYW1lOiAnVXBkYXRlZCBCZWFjaCBWb2xsZXliYWxsJyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTE6MDA6MDBaJyxcbiAgICAgICAgICAgIGNhcGFjaXR5OiAyNSxcbiAgICAgICAgICAgIGNvc3RQZXJQZXJzb246IDMwLjAwLFxuICAgICAgICAgICAgaG9zdFN1YnNpZHk6IDEwLjAwLFxuICAgICAgICAgICAgYWR1bHRzT25seTogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUX0FDVElWSVRZKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9FcXVhbCh1cGRhdGVkQWN0aXZpdHkpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHlTZXJ2aWNlLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FjdGl2aXR5LTEnLCB7XG4gICAgICAgICAgbmFtZTogJ1VwZGF0ZWQgQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMTowMDowMFonLFxuICAgICAgICAgIGNhcGFjaXR5OiAyNSxcbiAgICAgICAgICBjb3N0UGVyUGVyc29uOiAzMC4wMCxcbiAgICAgICAgICBob3N0U3Vic2lkeTogMTAuMDAsXG4gICAgICAgICAgYWR1bHRzT25seTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IHdoZW4gYWN0aXZpdHkgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLnVwZGF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnTk9UX0ZPVU5EJywgbWVzc2FnZTogJ0FjdGl2aXR5IG5vdCBmb3VuZCcgfSxcbiAgICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgbmFtZTogJ1VwZGF0ZWQgTmFtZScgfSksXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzL2ludmFsaWQtaWQnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVF9BQ1RJVklUWShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdpbnZhbGlkLWlkJyB9KSB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwNCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdOT1RfRk9VTkQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIHZhbGlkYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLnVwZGF0ZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgIGRldGFpbHM6IFt7IHBhdGg6IFsnY2FwYWNpdHknXSwgbWVzc2FnZTogJ0NhcGFjaXR5IG11c3QgYmUgcG9zaXRpdmUnIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IGNhcGFjaXR5OiAtNSB9KSwgLy8gSW52YWxpZDogbmVnYXRpdmUgY2FwYWNpdHlcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUX0FDVElWSVRZKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FkbWluL2FjdGl2aXRpZXMnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGxpc3QgYWN0aXZpdGllcyB3aXRoIGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tBY3Rpdml0aWVzID0ge1xuICAgICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICAgICAgbmFtZTogJ0JlYWNoIFZvbGxleWJhbGwnLFxuICAgICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgY2FwYWNpdHk6IDIwLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdhY3Rpdml0eS0yJyxcbiAgICAgICAgICAgICAgbmFtZTogJ1N1bnNldCBEaW5uZXInLFxuICAgICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdtZWFsJyxcbiAgICAgICAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxODowMDowMFonLFxuICAgICAgICAgICAgICBjYXBhY2l0eTogNTAsXG4gICAgICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgdG90YWw6IDIsXG4gICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICBwYWdlU2l6ZTogNTAsXG4gICAgICAgICAgdG90YWxQYWdlczogMSxcbiAgICAgICAgfTtcblxuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLmxpc3QgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBtb2NrQWN0aXZpdGllcyxcbiAgICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzP2V2ZW50SWQ9ZXZlbnQtMSZzdGF0dXM9cHVibGlzaGVkJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQUNUSVZJVElFUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvRXF1YWwobW9ja0FjdGl2aXRpZXMpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHlTZXJ2aWNlLmxpc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrQWN0aXZpdGllcyA9IHtcbiAgICAgICAgICBhY3Rpdml0aWVzOiBbXSxcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICBwYWdlOiAyLFxuICAgICAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIChhY3Rpdml0eVNlcnZpY2UubGlzdCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IG1vY2tBY3Rpdml0aWVzLFxuICAgICAgICB9IGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXM/cGFnZT0yJnBhZ2VTaXplPTEwJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQUNUSVZJVElFUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChhY3Rpdml0eVNlcnZpY2UubGlzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHBhZ2U6IDIsXG4gICAgICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FkbWluL2FjdGl2aXRpZXMvW2lkXScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGFjdGl2aXR5IGJ5IElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrQWN0aXZpdHkgPSB7XG4gICAgICAgICAgaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBuYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBjYXBhY2l0eTogMjAsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH07XG5cbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBtb2NrQWN0aXZpdHksXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQUNUSVZJVFlfQllfSUQocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnYWN0aXZpdHktMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0VxdWFsKG1vY2tBY3Rpdml0eSk7XG4gICAgICAgIGV4cGVjdChhY3Rpdml0eVNlcnZpY2UuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYWN0aXZpdHktMScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCB3aGVuIGFjdGl2aXR5IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5nZXQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHsgY29kZTogJ05PVF9GT1VORCcsIG1lc3NhZ2U6ICdBY3Rpdml0eSBub3QgZm91bmQnIH0sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9pbnZhbGlkLWlkJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQUNUSVZJVFlfQllfSUQocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnaW52YWxpZC1pZCcgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDQpO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnTk9UX0ZPVU5EJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9hZG1pbi9hY3Rpdml0aWVzL1tpZF0nLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGRlbGV0ZSBhY3Rpdml0eSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIChhY3Rpdml0eVNlcnZpY2UuZGVsZXRlQWN0aXZpdHkgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBERUxFVEVfQUNUSVZJVFkocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnYWN0aXZpdHktMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHlTZXJ2aWNlLmRlbGV0ZUFjdGl2aXR5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnYWN0aXZpdHktMScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDUwMCB3aGVuIGRlbGV0aW9uIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLmRlbGV0ZUFjdGl2aXR5IGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7IGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZGVsZXRlJyB9LFxuICAgICAgICB9IGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgREVMRVRFX0FDVElWSVRZKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhcGFjaXR5IE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FkbWluL2FjdGl2aXRpZXMvW2lkXS9jYXBhY2l0eScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGNhcGFjaXR5IGluZm9ybWF0aW9uIGZvciBhY3Rpdml0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0NhcGFjaXR5SW5mbyA9IHtcbiAgICAgICAgICBhY3Rpdml0eUlkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgY2FwYWNpdHk6IDIwLFxuICAgICAgICAgIGN1cnJlbnRBdHRlbmRlZXM6IDE1LFxuICAgICAgICAgIGF2YWlsYWJsZVNwb3RzOiA1LFxuICAgICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogNzUsXG4gICAgICAgICAgaXNOZWFyQ2FwYWNpdHk6IGZhbHNlLFxuICAgICAgICAgIGlzQXRDYXBhY2l0eTogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5nZXRDYXBhY2l0eUluZm8gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBtb2NrQ2FwYWNpdHlJbmZvLFxuICAgICAgICB9IGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMS9jYXBhY2l0eScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUX0NBUEFDSVRZKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZGF0YSkudG9FcXVhbChtb2NrQ2FwYWNpdHlJbmZvKTtcbiAgICAgICAgZXhwZWN0KGFjdGl2aXR5U2VydmljZS5nZXRDYXBhY2l0eUluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdhY3Rpdml0eS0xJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FwYWNpdHkgaW5mbyBzaG93aW5nIG5lYXIgY2FwYWNpdHkgd2FybmluZycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0NhcGFjaXR5SW5mbyA9IHtcbiAgICAgICAgICBhY3Rpdml0eUlkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgICAgY2FwYWNpdHk6IDIwLFxuICAgICAgICAgIGN1cnJlbnRBdHRlbmRlZXM6IDE4LFxuICAgICAgICAgIGF2YWlsYWJsZVNwb3RzOiAyLFxuICAgICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogOTAsXG4gICAgICAgICAgaXNOZWFyQ2FwYWNpdHk6IHRydWUsXG4gICAgICAgICAgaXNBdENhcGFjaXR5OiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLmdldENhcGFjaXR5SW5mbyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IG1vY2tDYXBhY2l0eUluZm8sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xL2NhcGFjaXR5JyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQ0FQQUNJVFkocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnYWN0aXZpdHktMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLmlzTmVhckNhcGFjaXR5KS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLnV0aWxpemF0aW9uUGVyY2VudGFnZSkudG9CZSg5MCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gY2FwYWNpdHkgaW5mbyBzaG93aW5nIGF0IGNhcGFjaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrQ2FwYWNpdHlJbmZvID0ge1xuICAgICAgICAgIGFjdGl2aXR5SWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBhY3Rpdml0eU5hbWU6ICdCZWFjaCBWb2xsZXliYWxsJyxcbiAgICAgICAgICBjYXBhY2l0eTogMjAsXG4gICAgICAgICAgY3VycmVudEF0dGVuZGVlczogMjAsXG4gICAgICAgICAgYXZhaWxhYmxlU3BvdHM6IDAsXG4gICAgICAgICAgdXRpbGl6YXRpb25QZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgaXNOZWFyQ2FwYWNpdHk6IHRydWUsXG4gICAgICAgICAgaXNBdENhcGFjaXR5OiB0cnVlLFxuICAgICAgICB9O1xuXG4gICAgICAgIChhY3Rpdml0eVNlcnZpY2UuZ2V0Q2FwYWNpdHlJbmZvIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogbW9ja0NhcGFjaXR5SW5mbyxcbiAgICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzL2FjdGl2aXR5LTEvY2FwYWNpdHknLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVF9DQVBBQ0lUWShyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdhY3Rpdml0eS0xJyB9KSB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmRhdGEuaXNBdENhcGFjaXR5KS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLmF2YWlsYWJsZVNwb3RzKS50b0JlKDApO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwNCB3aGVuIGFjdGl2aXR5IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgKGFjdGl2aXR5U2VydmljZS5nZXRDYXBhY2l0eUluZm8gYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHsgY29kZTogJ05PVF9GT1VORCcsIG1lc3NhZ2U6ICdBY3Rpdml0eSBub3QgZm91bmQnIH0sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9pbnZhbGlkLWlkL2NhcGFjaXR5JyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQ0FQQUNJVFkocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnaW52YWxpZC1pZCcgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDQpO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnTk9UX0ZPVU5EJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5saW1pdGVkIGNhcGFjaXR5IGFjdGl2aXRpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tDYXBhY2l0eUluZm8gPSB7XG4gICAgICAgICAgYWN0aXZpdHlJZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIGFjdGl2aXR5TmFtZTogJ0JlYWNoIFZvbGxleWJhbGwnLFxuICAgICAgICAgIGNhcGFjaXR5OiBudWxsLFxuICAgICAgICAgIGN1cnJlbnRBdHRlbmRlZXM6IDI1LFxuICAgICAgICAgIGF2YWlsYWJsZVNwb3RzOiBudWxsLFxuICAgICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogbnVsbCxcbiAgICAgICAgICBpc05lYXJDYXBhY2l0eTogZmFsc2UsXG4gICAgICAgICAgaXNBdENhcGFjaXR5OiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAoYWN0aXZpdHlTZXJ2aWNlLmdldENhcGFjaXR5SW5mbyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IG1vY2tDYXBhY2l0eUluZm8sXG4gICAgICAgIH0gYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xL2NhcGFjaXR5JyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQ0FQQUNJVFkocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnYWN0aXZpdHktMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLmNhcGFjaXR5KS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLmF2YWlsYWJsZVNwb3RzKS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhLnV0aWxpemF0aW9uUGVyY2VudGFnZSkudG9CZU51bGwoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUlNWUCBIYW5kbGluZycsICgpID0+IHtcbiAgICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vcnN2cHMnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGxpc3QgUlNWUHMgd2l0aCBmaWx0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrUlNWUHMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgICAgZ3Vlc3RfaWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICAgIGFjdGl2aXR5X2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgICAgZ3Vlc3RfY291bnQ6IDIsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdyc3ZwLTInLFxuICAgICAgICAgICAgZ3Vlc3RfaWQ6ICdndWVzdC0yJyxcbiAgICAgICAgICAgIGFjdGl2aXR5X2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgICBzdGF0dXM6ICdkZWNsaW5lZCcsXG4gICAgICAgICAgICBndWVzdF9jb3VudDogMSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAxOjAwOjAwWicsXG4gICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBNb2NrIFN1cGFiYXNlIHF1ZXJ5IGNoYWluIHRvIG1hdGNoIHRoZSBhY3R1YWwgcm91dGUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHJhbmdlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBjb3VudDogMixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcblxuICAgICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1F1ZXJ5KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/YWN0aXZpdHlfaWQ9MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJnN0YXR1cz1hdHRlbmRpbmcnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVF9SU1ZQUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmRhdGEpLnRvRXF1YWwobW9ja1JTVlBzKTtcbiAgICAgICAgZXhwZWN0KGRhdGEucGFnaW5hdGlvbi50b3RhbCkudG9CZSgyKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYWdpbmF0aW9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSU1ZQczogYW55W10gPSBbXTtcblxuICAgICAgICAvLyBNb2NrIFN1cGFiYXNlIHF1ZXJ5IGNoYWluIHRvIG1hdGNoIHRoZSBhY3R1YWwgcm91dGUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgcmFuZ2U6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBtb2NrUlNWUHMsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIG1vY2tTdXBhYmFzZUNsaWVudC5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrUXVlcnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9wYWdlPTImcGFnZV9zaXplPTEwJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfUlNWUFMocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5wYWdpbmF0aW9uLnBhZ2UpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChkYXRhLnBhZ2luYXRpb24ucGFnZV9zaXplKS50b0JlKDEwKTtcbiAgICAgICAgZXhwZWN0KG1vY2tRdWVyeS5yYW5nZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMTAsIDE5KTsgLy8gKHBhZ2UtMSkqcGFnZVNpemUgdG8gKHBhZ2UqcGFnZVNpemUpLTFcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIGludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9wYWdlPWludmFsaWQnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVF9SU1ZQUyhyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIGZvciBkYXRhYmFzZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIE1vY2sgU3VwYWJhc2UgcXVlcnkgY2hhaW4gd2l0aCBlcnJvciB0byBtYXRjaCB0aGUgYWN0dWFsIHJvdXRlIGltcGxlbWVudGF0aW9uXG4gICAgICAgIGNvbnN0IG1vY2tRdWVyeSA9IHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHJhbmdlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfSxcbiAgICAgICAgICAgIGNvdW50OiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIG1vY2tTdXBhYmFzZUNsaWVudC5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrUXVlcnkpO1xuXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUX1JTVlBTKHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdQVVQgL2FwaS9hZG1pbi9yc3Zwcy9baWRdJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgUlNWUCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRSU1ZQID0ge1xuICAgICAgICAgIGlkOiAncnN2cC0xJyxcbiAgICAgICAgICBndWVzdF9pZDogJ2d1ZXN0LTEnLFxuICAgICAgICAgIGFjdGl2aXR5X2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgICBndWVzdF9jb3VudDogMyxcbiAgICAgICAgICBkaWV0YXJ5X25vdGVzOiAnVmVnZXRhcmlhbicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMDFUMTI6MDA6MDBaJyxcbiAgICAgICAgICByZXNwb25kZWRfYXQ6ICcyMDI1LTAxLTAxVDEyOjAwOjAwWicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTW9jayBTdXBhYmFzZSB1cGRhdGUgY2hhaW5cbiAgICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xuICAgICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogdXBkYXRlZFJTVlAsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcblxuICAgICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1F1ZXJ5KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgICAgZ3Vlc3RfY291bnQ6IDMsXG4gICAgICAgICAgICBkaWV0YXJ5X25vdGVzOiAnVmVnZXRhcmlhbicsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9yc3ZwLTEnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVF9SU1ZQKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3JzdnAtMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0VxdWFsKHVwZGF0ZWRSU1ZQKTtcbiAgICAgICAgZXhwZWN0KG1vY2tRdWVyeS51cGRhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgICAgICBndWVzdF9jb3VudDogMyxcbiAgICAgICAgICAgIGRpZXRhcnlfbm90ZXM6ICdWZWdldGFyaWFuJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICAgIHJlc3BvbmRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IHdoZW4gUlNWUCBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIE1vY2sgU3VwYWJhc2UgdXBkYXRlIGNoYWluIHdpdGggbm90IGZvdW5kIGVycm9yXG4gICAgICAgIGNvbnN0IG1vY2tRdWVyeSA9IHtcbiAgICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnLCBtZXNzYWdlOiAnTm8gcm93cyBmb3VuZCcgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcblxuICAgICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1F1ZXJ5KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN0YXR1czogJ2F0dGVuZGluZycgfSksXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9pbnZhbGlkLWlkJyxcbiAgICAgICAgfSBhcyBhbnk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQVVRfUlNWUChyZXF1ZXN0LCB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdpbnZhbGlkLWlkJyB9KSB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwNCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdOT1RfRk9VTkQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIHZhbGlkYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN0YXR1czogJ2ludmFsaWRfc3RhdHVzJyB9KSwgLy8gSW52YWxpZCBzdGF0dXNcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL3JzdnAtMScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUX1JTVlAocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAncnN2cC0xJyB9KSB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBzZXQgcmVzcG9uZGVkX2F0IHdoZW4gc3RhdHVzIGNoYW5nZXMgZnJvbSBwZW5kaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkUlNWUCA9IHtcbiAgICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgICAgZ3Vlc3RfaWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICBhY3Rpdml0eV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgICAgZ3Vlc3RfY291bnQ6IDEsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMDFUMTI6MDA6MDBaJyxcbiAgICAgICAgICByZXNwb25kZWRfYXQ6ICcyMDI1LTAxLTAxVDEyOjAwOjAwWicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTW9jayBTdXBhYmFzZSB1cGRhdGUgY2hhaW5cbiAgICAgICAgY29uc3QgbW9ja1F1ZXJ5ID0ge1xuICAgICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogdXBkYXRlZFJTVlAsXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcblxuICAgICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1F1ZXJ5KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN0YXR1czogJ2F0dGVuZGluZycgfSksXG4gICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9yc3ZwLTEnLFxuICAgICAgICB9IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVF9SU1ZQKHJlcXVlc3QsIHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3JzdnAtMScgfSkgfSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QobW9ja1F1ZXJ5LnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICAgIHJlc3BvbmRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBub3Qgc2V0IHJlc3BvbmRlZF9hdCB3aGVuIHN0YXR1cyBpcyBwZW5kaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkUlNWUCA9IHtcbiAgICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgICAgZ3Vlc3RfaWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICBhY3Rpdml0eV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgIGd1ZXN0X2NvdW50OiAxLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDEyOjAwOjAwWicsXG4gICAgICAgICAgcmVzcG9uZGVkX2F0OiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1vY2sgU3VwYWJhc2UgdXBkYXRlIGNoYWluXG4gICAgICAgIGNvbnN0IG1vY2tRdWVyeSA9IHtcbiAgICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZWRSU1ZQLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG5cbiAgICAgICAgbW9ja1N1cGFiYXNlQ2xpZW50LmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tRdWVyeSk7XG5cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdGF0dXM6ICdwZW5kaW5nJyB9KSxcbiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL3JzdnAtMScsXG4gICAgICAgIH0gYXMgYW55O1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUX1JTVlAocmVxdWVzdCwgeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAncnN2cC0xJyB9KSB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChtb2NrUXVlcnkudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICAvLyBTaG91bGQgbm90IGluY2x1ZGUgcmVzcG9uZGVkX2F0IGZvciBwZW5kaW5nIHN0YXR1c1xuICAgICAgICBleHBlY3QobW9ja1F1ZXJ5LnVwZGF0ZSkubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIHJlc3BvbmRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0F1dGhlbnRpY2F0aW9uIGFuZCBBdXRob3JpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSBmb3IgYWxsIGVuZHBvaW50cyB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0dldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9IGFzIGFueSk7XG5cbiAgICAgIGNvbnN0IGVuZHBvaW50cyA9IFtcbiAgICAgICAgeyBoYW5kbGVyOiBHRVRfQUNUSVZJVElFUywgcmVxdWVzdDogeyB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMnIH0gfSxcbiAgICAgICAgeyBoYW5kbGVyOiBQT1NUX0FDVElWSVRJRVMsIHJlcXVlc3Q6IHsgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzJywganNvbjogYXN5bmMgKCkgPT4gKHt9KSB9IH0sXG4gICAgICAgIHsgaGFuZGxlcjogR0VUX0FDVElWSVRZX0JZX0lELCByZXF1ZXN0OiB7IHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xJyB9LCBwYXJhbXM6IHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0gfSxcbiAgICAgICAgeyBoYW5kbGVyOiBQVVRfQUNUSVZJVFksIHJlcXVlc3Q6IHsgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9hY3Rpdml0aWVzL2FjdGl2aXR5LTEnLCBqc29uOiBhc3luYyAoKSA9PiAoe30pIH0sIHBhcmFtczogeyBwYXJhbXM6IFByb21pc2UucmVzb2x2ZSh7IGlkOiAnYWN0aXZpdHktMScgfSkgfSB9LFxuICAgICAgICB7IGhhbmRsZXI6IERFTEVURV9BQ1RJVklUWSwgcmVxdWVzdDogeyB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMScgfSwgcGFyYW1zOiB7IHBhcmFtczogUHJvbWlzZS5yZXNvbHZlKHsgaWQ6ICdhY3Rpdml0eS0xJyB9KSB9IH0sXG4gICAgICAgIHsgaGFuZGxlcjogR0VUX0NBUEFDSVRZLCByZXF1ZXN0OiB7IHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xL2NhcGFjaXR5JyB9LCBwYXJhbXM6IHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ2FjdGl2aXR5LTEnIH0pIH0gfSxcbiAgICAgICAgeyBoYW5kbGVyOiBHRVRfUlNWUFMsIHJlcXVlc3Q6IHsgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycgfSB9LFxuICAgICAgICB7IGhhbmRsZXI6IFBVVF9SU1ZQLCByZXF1ZXN0OiB7IHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvcnN2cC0xJywganNvbjogYXN5bmMgKCkgPT4gKHt9KSB9LCBwYXJhbXM6IHsgcGFyYW1zOiBQcm9taXNlLnJlc29sdmUoeyBpZDogJ3JzdnAtMScgfSkgfSB9LFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludHMpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBlbmRwb2ludC5wYXJhbXMgXG4gICAgICAgICAgPyBhd2FpdCBlbmRwb2ludC5oYW5kbGVyKGVuZHBvaW50LnJlcXVlc3QgYXMgYW55LCBlbmRwb2ludC5wYXJhbXMgYXMgYW55KVxuICAgICAgICAgIDogYXdhaXQgZW5kcG9pbnQuaGFuZGxlcihlbmRwb2ludC5yZXF1ZXN0IGFzIGFueSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDEgd2hlbiBzZXNzaW9uIGhhcyBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tHZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdTZXNzaW9uIGV4cGlyZWQnIH0sXG4gICAgICB9IGFzIGFueSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vYWN0aXZpdGllcycsXG4gICAgICB9IGFzIGFueTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVRfQUNUSVZJVElFUyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiY3JlYXRlIiwiZm4iLCJnZXQiLCJ1cGRhdGUiLCJkZWxldGVBY3Rpdml0eSIsImxpc3QiLCJzZWFyY2giLCJnZXRDYXBhY2l0eUluZm8iLCJjYWxjdWxhdGVOZXRDb3N0IiwiZGVsZXRlUlNWUCIsImdldEJ5R3Vlc3QiLCJnZXRCeUV2ZW50IiwiZ2V0QnlBY3Rpdml0eSIsImNhbGN1bGF0ZUFjdGl2aXR5Q2FwYWNpdHkiLCJnZW5lcmF0ZUNhcGFjaXR5QWxlcnRzIiwiY2hlY2tDYXBhY2l0eUF2YWlsYWJsZSIsImVuZm9yY2VDYXBhY2l0eUxpbWl0IiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJpbml0Iiwic3RhdHVzIiwiTmV4dFJlcXVlc3QiLCJjb29raWVzIiwiZ2V0QWxsIiwic2V0IiwiZGVsZXRlIiwiY3JlYXRlQXV0aGVudGljYXRlZENsaWVudCIsIm1vY2tTdXBhYmFzZUNsaWVudCIsImNyZWF0ZVNlcnZlckNsaWVudCIsImdsb2JhbCIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJtb2NrR2V0VXNlciIsIm1vY2tHZXRTZXNzaW9uIiwiYXV0aCIsImdldFVzZXIiLCJnZXRTZXNzaW9uIiwiZnJvbSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVzZXIiLCJpZCIsImVtYWlsIiwiZXJyb3IiLCJzZXNzaW9uIiwiaXQiLCJuZXdBY3Rpdml0eSIsIm5hbWUiLCJhY3Rpdml0eVR5cGUiLCJzdGFydFRpbWUiLCJjYXBhY2l0eSIsImNvc3RQZXJQZXJzb24iLCJob3N0U3Vic2lkeSIsImFkdWx0c09ubHkiLCJjcmVhdGVkQXQiLCJhY3Rpdml0eVNlcnZpY2UiLCJzdWNjZXNzIiwicmVxdWVzdCIsInVybCIsInJlc3BvbnNlIiwiUE9TVF9BQ1RJVklUSUVTIiwiZXhwZWN0IiwidG9CZSIsInRvRXF1YWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsInBhdGgiLCJ1cGRhdGVkQWN0aXZpdHkiLCJQVVRfQUNUSVZJVFkiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vY2tBY3Rpdml0aWVzIiwiYWN0aXZpdGllcyIsInRvdGFsIiwicGFnZSIsInBhZ2VTaXplIiwidG90YWxQYWdlcyIsIkdFVF9BQ1RJVklUSUVTIiwiZXZlbnRJZCIsIm1vY2tBY3Rpdml0eSIsIkdFVF9BQ1RJVklUWV9CWV9JRCIsInVuZGVmaW5lZCIsIkRFTEVURV9BQ1RJVklUWSIsIm1vY2tDYXBhY2l0eUluZm8iLCJhY3Rpdml0eUlkIiwiYWN0aXZpdHlOYW1lIiwiY3VycmVudEF0dGVuZGVlcyIsImF2YWlsYWJsZVNwb3RzIiwidXRpbGl6YXRpb25QZXJjZW50YWdlIiwiaXNOZWFyQ2FwYWNpdHkiLCJpc0F0Q2FwYWNpdHkiLCJHRVRfQ0FQQUNJVFkiLCJ0b0JlTnVsbCIsIm1vY2tSU1ZQcyIsImd1ZXN0X2lkIiwiYWN0aXZpdHlfaWQiLCJndWVzdF9jb3VudCIsImNyZWF0ZWRfYXQiLCJtb2NrUXVlcnkiLCJzZWxlY3QiLCJtb2NrUmV0dXJuVGhpcyIsImVxIiwicmFuZ2UiLCJjb3VudCIsIm1vY2tSZXR1cm5WYWx1ZSIsIkdFVF9SU1ZQUyIsInBhZ2luYXRpb24iLCJwYWdlX3NpemUiLCJ1cGRhdGVkUlNWUCIsImRpZXRhcnlfbm90ZXMiLCJ1cGRhdGVkX2F0IiwicmVzcG9uZGVkX2F0Iiwic2luZ2xlIiwiUFVUX1JTVlAiLCJvYmplY3RDb250YWluaW5nIiwiYW55IiwiU3RyaW5nIiwibm90IiwiZW5kcG9pbnRzIiwiaGFuZGxlciIsImVuZHBvaW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQyxHQUVELGtEQUFrRDs7QUFLbEQsd0RBQXdEO0FBQ3hEQSxLQUFLQyxJQUFJLENBQUMsOEJBQThCLElBQU8sQ0FBQTtRQUM3Q0MsUUFBUUYsS0FBS0csRUFBRTtRQUNmQyxLQUFLSixLQUFLRyxFQUFFO1FBQ1pFLFFBQVFMLEtBQUtHLEVBQUU7UUFDZkcsZ0JBQWdCTixLQUFLRyxFQUFFO1FBQ3ZCSSxNQUFNUCxLQUFLRyxFQUFFO1FBQ2JLLFFBQVFSLEtBQUtHLEVBQUU7UUFDZk0saUJBQWlCVCxLQUFLRyxFQUFFO1FBQ3hCTyxrQkFBa0JWLEtBQUtHLEVBQUU7SUFDM0IsQ0FBQTtBQUVBLG9EQUFvRDtBQUNwREgsS0FBS0MsSUFBSSxDQUFDLDBCQUEwQixJQUFPLENBQUE7UUFDekNDLFFBQVFGLEtBQUtHLEVBQUU7UUFDZkMsS0FBS0osS0FBS0csRUFBRTtRQUNaRSxRQUFRTCxLQUFLRyxFQUFFO1FBQ2ZRLFlBQVlYLEtBQUtHLEVBQUU7UUFDbkJJLE1BQU1QLEtBQUtHLEVBQUU7UUFDYlMsWUFBWVosS0FBS0csRUFBRTtRQUNuQlUsWUFBWWIsS0FBS0csRUFBRTtRQUNuQlcsZUFBZWQsS0FBS0csRUFBRTtRQUN0QlksMkJBQTJCZixLQUFLRyxFQUFFO1FBQ2xDYSx3QkFBd0JoQixLQUFLRyxFQUFFO1FBQy9CYyx3QkFBd0JqQixLQUFLRyxFQUFFO1FBQy9CZSxzQkFBc0JsQixLQUFLRyxFQUFFO0lBQy9CLENBQUE7QUFFQSw2QkFBNkI7QUFDN0JILEtBQUtDLElBQUksQ0FBQyxlQUFlLElBQU8sQ0FBQTtRQUM5QmtCLGNBQWM7WUFDWkMsTUFBTSxDQUFDQyxNQUFXQyxPQUFnQixDQUFBO29CQUNoQ0YsTUFBTSxVQUFZQztvQkFDbEJFLFFBQVFELE1BQU1DLFVBQVU7Z0JBQzFCLENBQUE7UUFDRjtRQUNBQyxhQUFheEIsS0FBS0csRUFBRTtJQUN0QixDQUFBO0FBRUEsbUNBQW1DO0FBQ25DSCxLQUFLQyxJQUFJLENBQUMsZ0JBQWdCLElBQU8sQ0FBQTtRQUMvQndCLFNBQVN6QixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUN0QkMsS0FBS0osS0FBS0csRUFBRTtnQkFDWnVCLFFBQVExQixLQUFLRyxFQUFFLENBQUMsSUFBTSxFQUFFO2dCQUN4QndCLEtBQUszQixLQUFLRyxFQUFFO2dCQUNaeUIsUUFBUTVCLEtBQUtHLEVBQUU7WUFDakIsQ0FBQTtJQUNGLENBQUE7QUFhQUgsS0FBS0MsSUFBSSxDQUFDLHdCQUF3QixJQUFPLENBQUE7UUFDdkM0QiwyQkFBMkI3QixLQUFLRyxFQUFFLENBQUMsSUFBTTJCO0lBQzNDLENBQUE7QUFFQSwyQ0FBMkM7QUFDM0M5QixLQUFLQyxJQUFJLENBQUMsaUJBQWlCLElBQU8sQ0FBQTtRQUNoQzhCLG9CQUFvQi9CLEtBQUtHLEVBQUUsQ0FBQyxJQUFNMkI7SUFDcEMsQ0FBQTs7OztzQkF2RXlDO3VCQXlFc0I7d0JBS3hEO3dCQUM2Qjt3QkFDSDt3QkFDRDt5RUFDQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBakZqQ0UsT0FBT0MsV0FBVyxHQUFHQSxpQkFBVztBQUNoQ0QsT0FBT0UsV0FBVyxHQUFHQSxpQkFBVztBQW1EaEMsOEJBQThCO0FBQzlCLE1BQU1DLGNBQWNuQyxLQUFLRyxFQUFFO0FBQzNCLE1BQU1pQyxpQkFBaUJwQyxLQUFLRyxFQUFFO0FBQzlCLE1BQU0yQixxQkFBcUI7SUFDekJPLE1BQU07UUFDSkMsU0FBU0g7UUFDVEksWUFBWUg7SUFDZDtJQUNBSSxNQUFNeEMsS0FBS0csRUFBRTtBQUNmO0FBdUJBc0MsU0FBUyxvQ0FBb0M7SUFDM0NDLFdBQVc7UUFDVDFDLEtBQUsyQyxhQUFhO1FBRWxCLDhCQUE4QjtRQUM5QlIsWUFBWVMsaUJBQWlCLENBQUM7WUFDNUJ2QixNQUFNO2dCQUNKd0IsTUFBTTtvQkFBRUMsSUFBSTtvQkFBVUMsT0FBTztnQkFBb0I7WUFDbkQ7WUFDQUMsT0FBTztRQUNUO1FBRUEseUJBQXlCO1FBQ3pCWixlQUFlUSxpQkFBaUIsQ0FBQztZQUMvQnZCLE1BQU07Z0JBQ0o0QixTQUFTO29CQUFFSixNQUFNO3dCQUFFQyxJQUFJO3dCQUFVQyxPQUFPO29CQUFvQjtnQkFBRTtZQUNoRTtZQUNBQyxPQUFPO1FBQ1Q7SUFDRjtJQUVBUCxTQUFTLDZCQUE2QjtRQUNwQ0EsU0FBUyw4QkFBOEI7WUFDckNTLEdBQUcsMENBQTBDO2dCQUMzQyxNQUFNQyxjQUFjO29CQUNsQkwsSUFBSTtvQkFDSk0sTUFBTTtvQkFDTkMsY0FBYztvQkFDZEMsV0FBVztvQkFDWEMsVUFBVTtvQkFDVkMsZUFBZTtvQkFDZkMsYUFBYTtvQkFDYkMsWUFBWTtvQkFDWm5DLFFBQVE7b0JBQ1JvQyxXQUFXO2dCQUNiO2dCQUVDQyxpQkFBZ0IxRCxNQUFNLENBQWUwQyxpQkFBaUIsQ0FBQztvQkFDdERpQixTQUFTO29CQUNUeEMsTUFBTThCO2dCQUNSO2dCQUVBLE1BQU1XLFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFDakJnQyxNQUFNOzRCQUNOQyxjQUFjOzRCQUNkQyxXQUFXOzRCQUNYQyxVQUFVOzRCQUNWQyxlQUFlOzRCQUNmQyxhQUFhOzRCQUNiQyxZQUFZO3dCQUNkLENBQUE7b0JBQ0FLLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxXQUFlLEVBQUNIO2dCQUN2QyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxFQUFFK0MsT0FBTyxDQUFDakI7Z0JBQzFCZSxPQUFPTixpQkFBZ0IxRCxNQUFNLEVBQUVtRSxvQkFBb0IsQ0FBQztvQkFDbERqQixNQUFNO29CQUNOQyxjQUFjO29CQUNkQyxXQUFXO29CQUNYQyxVQUFVO29CQUNWQyxlQUFlO29CQUNmQyxhQUFhO29CQUNiQyxZQUFZO2dCQUNkO1lBQ0Y7WUFFQVIsR0FBRywyQ0FBMkM7Z0JBQzNDVSxpQkFBZ0IxRCxNQUFNLENBQWUwQyxpQkFBaUIsQ0FBQztvQkFDdERpQixTQUFTO29CQUNUYixPQUFPO3dCQUNMc0IsTUFBTTt3QkFDTkMsU0FBUzt3QkFDVEMsU0FBUzs0QkFBQztnQ0FBRUMsTUFBTTtvQ0FBQztpQ0FBTztnQ0FBRUYsU0FBUzs0QkFBbUI7eUJBQUU7b0JBQzVEO2dCQUNGO2dCQUVBLE1BQU1ULFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFBRWdDLE1BQU07d0JBQUcsQ0FBQTtvQkFDOUJXLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxXQUFlLEVBQUNIO2dCQUN2QyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBSzJCLEtBQUssQ0FBQ3NCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQy9CO1lBRUFqQixHQUFHLDRDQUE0QztnQkFDN0NkLGVBQWVRLGlCQUFpQixDQUFDO29CQUMvQnZCLE1BQU07d0JBQUU0QixTQUFTO29CQUFLO29CQUN0QkQsT0FBTztnQkFDVDtnQkFFQSxNQUFNYyxVQUFVO29CQUNkMUMsTUFBTSxVQUFhLENBQUE7NEJBQUVnQyxNQUFNO3dCQUFtQixDQUFBO29CQUM5Q1csS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFdBQWUsRUFBQ0g7Z0JBQ3ZDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLMkIsS0FBSyxDQUFDc0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDL0I7WUFFQWpCLEdBQUcseUNBQXlDO2dCQUN6Q1UsaUJBQWdCMUQsTUFBTSxDQUFlMEMsaUJBQWlCLENBQUM7b0JBQ3REaUIsU0FBUztvQkFDVGIsT0FBTzt3QkFDTHNCLE1BQU07d0JBQ05DLFNBQVM7b0JBQ1g7Z0JBQ0Y7Z0JBRUEsTUFBTVQsVUFBVTtvQkFDZDFDLE1BQU0sVUFBYSxDQUFBOzRCQUNqQmdDLE1BQU07NEJBQ05DLGNBQWM7NEJBQ2RDLFdBQVc7d0JBQ2IsQ0FBQTtvQkFDQVMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFdBQWUsRUFBQ0g7Z0JBQ3ZDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLMkIsS0FBSyxDQUFDc0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDL0I7UUFDRjtRQUVBMUIsU0FBUyxrQ0FBa0M7WUFDekNTLEdBQUcsMENBQTBDO2dCQUMzQyxNQUFNd0Isa0JBQWtCO29CQUN0QjVCLElBQUk7b0JBQ0pNLE1BQU07b0JBQ05DLGNBQWM7b0JBQ2RDLFdBQVc7b0JBQ1hDLFVBQVU7b0JBQ1ZDLGVBQWU7b0JBQ2ZDLGFBQWE7b0JBQ2JDLFlBQVk7b0JBQ1puQyxRQUFRO29CQUNSb0MsV0FBVztnQkFDYjtnQkFFQ0MsaUJBQWdCdkQsTUFBTSxDQUFldUMsaUJBQWlCLENBQUM7b0JBQ3REaUIsU0FBUztvQkFDVHhDLE1BQU1xRDtnQkFDUjtnQkFFQSxNQUFNWixVQUFVO29CQUNkMUMsTUFBTSxVQUFhLENBQUE7NEJBQ2pCZ0MsTUFBTTs0QkFDTkUsV0FBVzs0QkFDWEMsVUFBVTs0QkFDVkMsZUFBZTs0QkFDZkMsYUFBYTs0QkFDYkMsWUFBWTt3QkFDZCxDQUFBO29CQUNBSyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTVcsSUFBQUEsV0FBWSxFQUFDYixTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxFQUFFK0MsT0FBTyxDQUFDTTtnQkFDMUJSLE9BQU9OLGlCQUFnQnZELE1BQU0sRUFBRWdFLG9CQUFvQixDQUFDLGNBQWM7b0JBQ2hFakIsTUFBTTtvQkFDTkUsV0FBVztvQkFDWEMsVUFBVTtvQkFDVkMsZUFBZTtvQkFDZkMsYUFBYTtvQkFDYkMsWUFBWTtnQkFDZDtZQUNGO1lBRUFSLEdBQUcsNkNBQTZDO2dCQUM3Q1UsaUJBQWdCdkQsTUFBTSxDQUFldUMsaUJBQWlCLENBQUM7b0JBQ3REaUIsU0FBUztvQkFDVGIsT0FBTzt3QkFBRXNCLE1BQU07d0JBQWFDLFNBQVM7b0JBQXFCO2dCQUM1RDtnQkFFQSxNQUFNVCxVQUFVO29CQUNkMUMsTUFBTSxVQUFhLENBQUE7NEJBQUVnQyxNQUFNO3dCQUFlLENBQUE7b0JBQzFDVyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTVcsSUFBQUEsV0FBWSxFQUFDYixTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBSzJCLEtBQUssQ0FBQ3NCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQy9CO1lBRUFqQixHQUFHLDJDQUEyQztnQkFDM0NVLGlCQUFnQnZELE1BQU0sQ0FBZXVDLGlCQUFpQixDQUFDO29CQUN0RGlCLFNBQVM7b0JBQ1RiLE9BQU87d0JBQ0xzQixNQUFNO3dCQUNOQyxTQUFTO3dCQUNUQyxTQUFTOzRCQUFDO2dDQUFFQyxNQUFNO29DQUFDO2lDQUFXO2dDQUFFRixTQUFTOzRCQUE0Qjt5QkFBRTtvQkFDekU7Z0JBQ0Y7Z0JBRUEsTUFBTVQsVUFBVTtvQkFDZDFDLE1BQU0sVUFBYSxDQUFBOzRCQUFFbUMsVUFBVSxDQUFDO3dCQUFFLENBQUE7b0JBQ2xDUSxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTVcsSUFBQUEsV0FBWSxFQUFDYixTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBSzJCLEtBQUssQ0FBQ3NCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQy9CO1FBQ0Y7UUFFQTFCLFNBQVMsNkJBQTZCO1lBQ3BDUyxHQUFHLHVDQUF1QztnQkFDeEMsTUFBTTZCLGlCQUFpQjtvQkFDckJDLFlBQVk7d0JBQ1Y7NEJBQ0VsQyxJQUFJOzRCQUNKTSxNQUFNOzRCQUNOQyxjQUFjOzRCQUNkQyxXQUFXOzRCQUNYQyxVQUFVOzRCQUNWaEMsUUFBUTt3QkFDVjt3QkFDQTs0QkFDRXVCLElBQUk7NEJBQ0pNLE1BQU07NEJBQ05DLGNBQWM7NEJBQ2RDLFdBQVc7NEJBQ1hDLFVBQVU7NEJBQ1ZoQyxRQUFRO3dCQUNWO3FCQUNEO29CQUNEMEQsT0FBTztvQkFDUEMsTUFBTTtvQkFDTkMsVUFBVTtvQkFDVkMsWUFBWTtnQkFDZDtnQkFFQ3hCLGlCQUFnQnJELElBQUksQ0FBZXFDLGlCQUFpQixDQUFDO29CQUNwRGlCLFNBQVM7b0JBQ1R4QyxNQUFNMEQ7Z0JBQ1I7Z0JBRUEsTUFBTWpCLFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNcUIsSUFBQUEsVUFBYyxFQUFDdkI7Z0JBQ3RDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLQSxJQUFJLEVBQUUrQyxPQUFPLENBQUNXO2dCQUMxQmIsT0FBT04saUJBQWdCckQsSUFBSSxFQUFFOEQsb0JBQW9CLENBQUM7b0JBQ2hEaUIsU0FBUztvQkFDVC9ELFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBMkIsR0FBRyx1Q0FBdUM7Z0JBQ3hDLE1BQU02QixpQkFBaUI7b0JBQ3JCQyxZQUFZLEVBQUU7b0JBQ2RDLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFVBQVU7b0JBQ1ZDLFlBQVk7Z0JBQ2Q7Z0JBRUN4QixpQkFBZ0JyRCxJQUFJLENBQWVxQyxpQkFBaUIsQ0FBQztvQkFDcERpQixTQUFTO29CQUNUeEMsTUFBTTBEO2dCQUNSO2dCQUVBLE1BQU1qQixVQUFVO29CQUNkQyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTXFCLElBQUFBLFVBQWMsRUFBQ3ZCO2dCQUN0QyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPTixpQkFBZ0JyRCxJQUFJLEVBQUU4RCxvQkFBb0IsQ0FBQztvQkFDaERhLE1BQU07b0JBQ05DLFVBQVU7Z0JBQ1o7WUFDRjtRQUNGO1FBRUExQyxTQUFTLGtDQUFrQztZQUN6Q1MsR0FBRyxnQ0FBZ0M7Z0JBQ2pDLE1BQU1xQyxlQUFlO29CQUNuQnpDLElBQUk7b0JBQ0pNLE1BQU07b0JBQ05DLGNBQWM7b0JBQ2RDLFdBQVc7b0JBQ1hDLFVBQVU7b0JBQ1ZoQyxRQUFRO29CQUNSb0MsV0FBVztnQkFDYjtnQkFFQ0MsaUJBQWdCeEQsR0FBRyxDQUFld0MsaUJBQWlCLENBQUM7b0JBQ25EaUIsU0FBUztvQkFDVHhDLE1BQU1rRTtnQkFDUjtnQkFFQSxNQUFNekIsVUFBVTtvQkFDZEMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU13QixJQUFBQSxXQUFrQixFQUFDMUIsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDbkcsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUtBLElBQUksRUFBRStDLE9BQU8sQ0FBQ21CO2dCQUMxQnJCLE9BQU9OLGlCQUFnQnhELEdBQUcsRUFBRWlFLG9CQUFvQixDQUFDO1lBQ25EO1lBRUFuQixHQUFHLDZDQUE2QztnQkFDN0NVLGlCQUFnQnhELEdBQUcsQ0FBZXdDLGlCQUFpQixDQUFDO29CQUNuRGlCLFNBQVM7b0JBQ1RiLE9BQU87d0JBQUVzQixNQUFNO3dCQUFhQyxTQUFTO29CQUFxQjtnQkFDNUQ7Z0JBRUEsTUFBTVQsVUFBVTtvQkFDZEMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU13QixJQUFBQSxXQUFrQixFQUFDMUIsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDbkcsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUsyQixLQUFLLENBQUNzQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUMvQjtRQUNGO1FBRUExQixTQUFTLHFDQUFxQztZQUM1Q1MsR0FBRyx1Q0FBdUM7Z0JBQ3ZDVSxpQkFBZ0J0RCxjQUFjLENBQWVzQyxpQkFBaUIsQ0FBQztvQkFDOURpQixTQUFTO29CQUNUeEMsTUFBTW9FO2dCQUNSO2dCQUVBLE1BQU0zQixVQUFVO29CQUNkQyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTTBCLElBQUFBLGNBQWUsRUFBQzVCLFNBQVM7b0JBQUVjLFFBQVFDLFFBQVFDLE9BQU8sQ0FBQzt3QkFBRWhDLElBQUk7b0JBQWE7Z0JBQUc7Z0JBQ2hHLE1BQU16QixPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU9OLGlCQUFnQnRELGNBQWMsRUFBRStELG9CQUFvQixDQUFDO1lBQzlEO1lBRUFuQixHQUFHLHlDQUF5QztnQkFDekNVLGlCQUFnQnRELGNBQWMsQ0FBZXNDLGlCQUFpQixDQUFDO29CQUM5RGlCLFNBQVM7b0JBQ1RiLE9BQU87d0JBQUVzQixNQUFNO3dCQUFrQkMsU0FBUztvQkFBbUI7Z0JBQy9EO2dCQUVBLE1BQU1ULFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNMEIsSUFBQUEsY0FBZSxFQUFDNUIsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDaEcsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUsyQixLQUFLLENBQUNzQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUMvQjtRQUNGO0lBQ0Y7SUFFQTFCLFNBQVMsdUJBQXVCO1FBQzlCQSxTQUFTLDJDQUEyQztZQUNsRFMsR0FBRyxtREFBbUQ7Z0JBQ3BELE1BQU15QyxtQkFBbUI7b0JBQ3ZCQyxZQUFZO29CQUNaQyxjQUFjO29CQUNkdEMsVUFBVTtvQkFDVnVDLGtCQUFrQjtvQkFDbEJDLGdCQUFnQjtvQkFDaEJDLHVCQUF1QjtvQkFDdkJDLGdCQUFnQjtvQkFDaEJDLGNBQWM7Z0JBQ2hCO2dCQUVDdEMsaUJBQWdCbkQsZUFBZSxDQUFlbUMsaUJBQWlCLENBQUM7b0JBQy9EaUIsU0FBUztvQkFDVHhDLE1BQU1zRTtnQkFDUjtnQkFFQSxNQUFNN0IsVUFBVTtvQkFDZEMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU1tQyxJQUFBQSxXQUFZLEVBQUNyQyxTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxFQUFFK0MsT0FBTyxDQUFDdUI7Z0JBQzFCekIsT0FBT04saUJBQWdCbkQsZUFBZSxFQUFFNEQsb0JBQW9CLENBQUM7WUFDL0Q7WUFFQW5CLEdBQUcsNkRBQTZEO2dCQUM5RCxNQUFNeUMsbUJBQW1CO29CQUN2QkMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZHRDLFVBQVU7b0JBQ1Z1QyxrQkFBa0I7b0JBQ2xCQyxnQkFBZ0I7b0JBQ2hCQyx1QkFBdUI7b0JBQ3ZCQyxnQkFBZ0I7b0JBQ2hCQyxjQUFjO2dCQUNoQjtnQkFFQ3RDLGlCQUFnQm5ELGVBQWUsQ0FBZW1DLGlCQUFpQixDQUFDO29CQUMvRGlCLFNBQVM7b0JBQ1R4QyxNQUFNc0U7Z0JBQ1I7Z0JBRUEsTUFBTTdCLFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNbUMsSUFBQUEsV0FBWSxFQUFDckMsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDN0YsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUtBLElBQUksQ0FBQzRFLGNBQWMsRUFBRTlCLElBQUksQ0FBQztnQkFDdENELE9BQU83QyxLQUFLQSxJQUFJLENBQUMyRSxxQkFBcUIsRUFBRTdCLElBQUksQ0FBQztZQUMvQztZQUVBakIsR0FBRyxtREFBbUQ7Z0JBQ3BELE1BQU15QyxtQkFBbUI7b0JBQ3ZCQyxZQUFZO29CQUNaQyxjQUFjO29CQUNkdEMsVUFBVTtvQkFDVnVDLGtCQUFrQjtvQkFDbEJDLGdCQUFnQjtvQkFDaEJDLHVCQUF1QjtvQkFDdkJDLGdCQUFnQjtvQkFDaEJDLGNBQWM7Z0JBQ2hCO2dCQUVDdEMsaUJBQWdCbkQsZUFBZSxDQUFlbUMsaUJBQWlCLENBQUM7b0JBQy9EaUIsU0FBUztvQkFDVHhDLE1BQU1zRTtnQkFDUjtnQkFFQSxNQUFNN0IsVUFBVTtvQkFDZEMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU1tQyxJQUFBQSxXQUFZLEVBQUNyQyxTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxDQUFDNkUsWUFBWSxFQUFFL0IsSUFBSSxDQUFDO2dCQUNwQ0QsT0FBTzdDLEtBQUtBLElBQUksQ0FBQzBFLGNBQWMsRUFBRTVCLElBQUksQ0FBQztZQUN4QztZQUVBakIsR0FBRyw2Q0FBNkM7Z0JBQzdDVSxpQkFBZ0JuRCxlQUFlLENBQWVtQyxpQkFBaUIsQ0FBQztvQkFDL0RpQixTQUFTO29CQUNUYixPQUFPO3dCQUFFc0IsTUFBTTt3QkFBYUMsU0FBUztvQkFBcUI7Z0JBQzVEO2dCQUVBLE1BQU1ULFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNbUMsSUFBQUEsV0FBWSxFQUFDckMsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDN0YsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUsyQixLQUFLLENBQUNzQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUMvQjtZQUVBakIsR0FBRywrQ0FBK0M7Z0JBQ2hELE1BQU15QyxtQkFBbUI7b0JBQ3ZCQyxZQUFZO29CQUNaQyxjQUFjO29CQUNkdEMsVUFBVTtvQkFDVnVDLGtCQUFrQjtvQkFDbEJDLGdCQUFnQjtvQkFDaEJDLHVCQUF1QjtvQkFDdkJDLGdCQUFnQjtvQkFDaEJDLGNBQWM7Z0JBQ2hCO2dCQUVDdEMsaUJBQWdCbkQsZUFBZSxDQUFlbUMsaUJBQWlCLENBQUM7b0JBQy9EaUIsU0FBUztvQkFDVHhDLE1BQU1zRTtnQkFDUjtnQkFFQSxNQUFNN0IsVUFBVTtvQkFDZEMsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU1tQyxJQUFBQSxXQUFZLEVBQUNyQyxTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFhO2dCQUFHO2dCQUM3RixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxDQUFDa0MsUUFBUSxFQUFFNkMsUUFBUTtnQkFDbkNsQyxPQUFPN0MsS0FBS0EsSUFBSSxDQUFDMEUsY0FBYyxFQUFFSyxRQUFRO2dCQUN6Q2xDLE9BQU83QyxLQUFLQSxJQUFJLENBQUMyRSxxQkFBcUIsRUFBRUksUUFBUTtZQUNsRDtRQUNGO0lBQ0Y7SUFFQTNELFNBQVMsaUJBQWlCO1FBQ3hCQSxTQUFTLHdCQUF3QjtZQUMvQlMsR0FBRyxrQ0FBa0M7Z0JBQ25DLE1BQU1tRCxZQUFZO29CQUNoQjt3QkFDRXZELElBQUk7d0JBQ0p3RCxVQUFVO3dCQUNWQyxhQUFhO3dCQUNiaEYsUUFBUTt3QkFDUmlGLGFBQWE7d0JBQ2JDLFlBQVk7b0JBQ2Q7b0JBQ0E7d0JBQ0UzRCxJQUFJO3dCQUNKd0QsVUFBVTt3QkFDVkMsYUFBYTt3QkFDYmhGLFFBQVE7d0JBQ1JpRixhQUFhO3dCQUNiQyxZQUFZO29CQUNkO2lCQUNEO2dCQUVELHFFQUFxRTtnQkFDckUsTUFBTUMsWUFBWTtvQkFDaEJDLFFBQVEzRyxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUNoQ0MsSUFBSTdHLEtBQUtHLEVBQUUsR0FBR3lHLGNBQWM7b0JBQzVCRSxPQUFPOUcsS0FBS0csRUFBRSxHQUFHeUMsaUJBQWlCLENBQUM7d0JBQ2pDdkIsTUFBTWdGO3dCQUNOckQsT0FBTzt3QkFDUCtELE9BQU87b0JBQ1Q7Z0JBQ0Y7Z0JBRUFqRixtQkFBbUJVLElBQUksQ0FBQ3dFLGVBQWUsQ0FBQ047Z0JBRXhDLE1BQU01QyxVQUFVO29CQUNkQyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTWlELElBQUFBLFdBQVMsRUFBQ25EO2dCQUNqQyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxFQUFFK0MsT0FBTyxDQUFDaUM7Z0JBQzFCbkMsT0FBTzdDLEtBQUs2RixVQUFVLENBQUNqQyxLQUFLLEVBQUVkLElBQUksQ0FBQztZQUNyQztZQUVBakIsR0FBRyx1Q0FBdUM7Z0JBQ3hDLE1BQU1tRCxZQUFtQixFQUFFO2dCQUUzQixxRUFBcUU7Z0JBQ3JFLE1BQU1LLFlBQVk7b0JBQ2hCQyxRQUFRM0csS0FBS0csRUFBRSxHQUFHeUcsY0FBYztvQkFDaENFLE9BQU85RyxLQUFLRyxFQUFFLEdBQUd5QyxpQkFBaUIsQ0FBQzt3QkFDakN2QixNQUFNZ0Y7d0JBQ05yRCxPQUFPO3dCQUNQK0QsT0FBTztvQkFDVDtnQkFDRjtnQkFFQWpGLG1CQUFtQlUsSUFBSSxDQUFDd0UsZUFBZSxDQUFDTjtnQkFFeEMsTUFBTTVDLFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNaUQsSUFBQUEsV0FBUyxFQUFDbkQ7Z0JBQ2pDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLNkYsVUFBVSxDQUFDaEMsSUFBSSxFQUFFZixJQUFJLENBQUM7Z0JBQ2xDRCxPQUFPN0MsS0FBSzZGLFVBQVUsQ0FBQ0MsU0FBUyxFQUFFaEQsSUFBSSxDQUFDO2dCQUN2Q0QsT0FBT3dDLFVBQVVJLEtBQUssRUFBRXpDLG9CQUFvQixDQUFDLElBQUksS0FBSyx5Q0FBeUM7WUFDakc7WUFFQW5CLEdBQUcsbURBQW1EO2dCQUNwRCxNQUFNWSxVQUFVO29CQUNkQyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTWlELElBQUFBLFdBQVMsRUFBQ25EO2dCQUNqQyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBSzJCLEtBQUssQ0FBQ3NCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQy9CO1lBRUFqQixHQUFHLHlDQUF5QztnQkFDMUMsZ0ZBQWdGO2dCQUNoRixNQUFNd0QsWUFBWTtvQkFDaEJDLFFBQVEzRyxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUNoQ0UsT0FBTzlHLEtBQUtHLEVBQUUsR0FBR3lDLGlCQUFpQixDQUFDO3dCQUNqQ3ZCLE1BQU07d0JBQ04yQixPQUFPOzRCQUFFdUIsU0FBUzt3QkFBNkI7d0JBQy9Dd0MsT0FBTztvQkFDVDtnQkFDRjtnQkFFQWpGLG1CQUFtQlUsSUFBSSxDQUFDd0UsZUFBZSxDQUFDTjtnQkFFeEMsTUFBTTVDLFVBQVU7b0JBQ2RDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNaUQsSUFBQUEsV0FBUyxFQUFDbkQ7Z0JBQ2pDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLMkIsS0FBSyxDQUFDc0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDL0I7UUFDRjtRQUVBMUIsU0FBUyw2QkFBNkI7WUFDcENTLEdBQUcsc0NBQXNDO2dCQUN2QyxNQUFNa0UsY0FBYztvQkFDbEJ0RSxJQUFJO29CQUNKd0QsVUFBVTtvQkFDVkMsYUFBYTtvQkFDYmhGLFFBQVE7b0JBQ1JpRixhQUFhO29CQUNiYSxlQUFlO29CQUNmQyxZQUFZO29CQUNaQyxjQUFjO2dCQUNoQjtnQkFFQSw2QkFBNkI7Z0JBQzdCLE1BQU1iLFlBQVk7b0JBQ2hCckcsUUFBUUwsS0FBS0csRUFBRSxHQUFHeUcsY0FBYztvQkFDaENDLElBQUk3RyxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUM1QkQsUUFBUTNHLEtBQUtHLEVBQUUsR0FBR3lHLGNBQWM7b0JBQ2hDWSxRQUFReEgsS0FBS0csRUFBRSxHQUFHeUMsaUJBQWlCLENBQUM7d0JBQ2xDdkIsTUFBTStGO3dCQUNOcEUsT0FBTztvQkFDVDtnQkFDRjtnQkFFQWxCLG1CQUFtQlUsSUFBSSxDQUFDd0UsZUFBZSxDQUFDTjtnQkFFeEMsTUFBTTVDLFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFDakJHLFFBQVE7NEJBQ1JpRixhQUFhOzRCQUNiYSxlQUFlO3dCQUNqQixDQUFBO29CQUNBdEQsS0FBSztnQkFDUDtnQkFFQSxNQUFNQyxXQUFXLE1BQU15RCxJQUFBQSxXQUFRLEVBQUMzRCxTQUFTO29CQUFFYyxRQUFRQyxRQUFRQyxPQUFPLENBQUM7d0JBQUVoQyxJQUFJO29CQUFTO2dCQUFHO2dCQUNyRixNQUFNekIsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBS0EsSUFBSSxFQUFFK0MsT0FBTyxDQUFDZ0Q7Z0JBQzFCbEQsT0FBT3dDLFVBQVVyRyxNQUFNLEVBQUVnRSxvQkFBb0IsQ0FDM0NILE9BQU93RCxnQkFBZ0IsQ0FBQztvQkFDdEJuRyxRQUFRO29CQUNSaUYsYUFBYTtvQkFDYmEsZUFBZTtvQkFDZkMsWUFBWXBELE9BQU95RCxHQUFHLENBQUNDO29CQUN2QkwsY0FBY3JELE9BQU95RCxHQUFHLENBQUNDO2dCQUMzQjtZQUVKO1lBRUExRSxHQUFHLHlDQUF5QztnQkFDMUMsa0RBQWtEO2dCQUNsRCxNQUFNd0QsWUFBWTtvQkFDaEJyRyxRQUFRTCxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUNoQ0MsSUFBSTdHLEtBQUtHLEVBQUUsR0FBR3lHLGNBQWM7b0JBQzVCRCxRQUFRM0csS0FBS0csRUFBRSxHQUFHeUcsY0FBYztvQkFDaENZLFFBQVF4SCxLQUFLRyxFQUFFLEdBQUd5QyxpQkFBaUIsQ0FBQzt3QkFDbEN2QixNQUFNO3dCQUNOMkIsT0FBTzs0QkFBRXNCLE1BQU07NEJBQVlDLFNBQVM7d0JBQWdCO29CQUN0RDtnQkFDRjtnQkFFQXpDLG1CQUFtQlUsSUFBSSxDQUFDd0UsZUFBZSxDQUFDTjtnQkFFeEMsTUFBTTVDLFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFBRUcsUUFBUTt3QkFBWSxDQUFBO29CQUN6Q3dDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNeUQsSUFBQUEsV0FBUSxFQUFDM0QsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBYTtnQkFBRztnQkFDekYsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBTzdDLEtBQUsyQixLQUFLLENBQUNzQixJQUFJLEVBQUVILElBQUksQ0FBQztZQUMvQjtZQUVBakIsR0FBRywyQ0FBMkM7Z0JBQzVDLE1BQU1ZLFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFBRUcsUUFBUTt3QkFBaUIsQ0FBQTtvQkFDOUN3QyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTXlELElBQUFBLFdBQVEsRUFBQzNELFNBQVM7b0JBQUVjLFFBQVFDLFFBQVFDLE9BQU8sQ0FBQzt3QkFBRWhDLElBQUk7b0JBQVM7Z0JBQUc7Z0JBQ3JGLE1BQU16QixPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU83QyxLQUFLMkIsS0FBSyxDQUFDc0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7WUFDL0I7WUFFQWpCLEdBQUcsNERBQTREO2dCQUM3RCxNQUFNa0UsY0FBYztvQkFDbEJ0RSxJQUFJO29CQUNKd0QsVUFBVTtvQkFDVkMsYUFBYTtvQkFDYmhGLFFBQVE7b0JBQ1JpRixhQUFhO29CQUNiYyxZQUFZO29CQUNaQyxjQUFjO2dCQUNoQjtnQkFFQSw2QkFBNkI7Z0JBQzdCLE1BQU1iLFlBQVk7b0JBQ2hCckcsUUFBUUwsS0FBS0csRUFBRSxHQUFHeUcsY0FBYztvQkFDaENDLElBQUk3RyxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUM1QkQsUUFBUTNHLEtBQUtHLEVBQUUsR0FBR3lHLGNBQWM7b0JBQ2hDWSxRQUFReEgsS0FBS0csRUFBRSxHQUFHeUMsaUJBQWlCLENBQUM7d0JBQ2xDdkIsTUFBTStGO3dCQUNOcEUsT0FBTztvQkFDVDtnQkFDRjtnQkFFQWxCLG1CQUFtQlUsSUFBSSxDQUFDd0UsZUFBZSxDQUFDTjtnQkFFeEMsTUFBTTVDLFVBQVU7b0JBQ2QxQyxNQUFNLFVBQWEsQ0FBQTs0QkFBRUcsUUFBUTt3QkFBWSxDQUFBO29CQUN6Q3dDLEtBQUs7Z0JBQ1A7Z0JBRUEsTUFBTUMsV0FBVyxNQUFNeUQsSUFBQUEsV0FBUSxFQUFDM0QsU0FBUztvQkFBRWMsUUFBUUMsUUFBUUMsT0FBTyxDQUFDO3dCQUFFaEMsSUFBSTtvQkFBUztnQkFBRztnQkFDckYsTUFBTXpCLE9BQU8sTUFBTTJDLFNBQVM1QyxJQUFJO2dCQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7Z0JBQzdCRCxPQUFPN0MsS0FBS3dDLE9BQU8sRUFBRU0sSUFBSSxDQUFDO2dCQUMxQkQsT0FBT3dDLFVBQVVyRyxNQUFNLEVBQUVnRSxvQkFBb0IsQ0FDM0NILE9BQU93RCxnQkFBZ0IsQ0FBQztvQkFDdEJuRyxRQUFRO29CQUNSK0YsWUFBWXBELE9BQU95RCxHQUFHLENBQUNDO29CQUN2QkwsY0FBY3JELE9BQU95RCxHQUFHLENBQUNDO2dCQUMzQjtZQUVKO1lBRUExRSxHQUFHLHNEQUFzRDtnQkFDdkQsTUFBTWtFLGNBQWM7b0JBQ2xCdEUsSUFBSTtvQkFDSndELFVBQVU7b0JBQ1ZDLGFBQWE7b0JBQ2JoRixRQUFRO29CQUNSaUYsYUFBYTtvQkFDYmMsWUFBWTtvQkFDWkMsY0FBYztnQkFDaEI7Z0JBRUEsNkJBQTZCO2dCQUM3QixNQUFNYixZQUFZO29CQUNoQnJHLFFBQVFMLEtBQUtHLEVBQUUsR0FBR3lHLGNBQWM7b0JBQ2hDQyxJQUFJN0csS0FBS0csRUFBRSxHQUFHeUcsY0FBYztvQkFDNUJELFFBQVEzRyxLQUFLRyxFQUFFLEdBQUd5RyxjQUFjO29CQUNoQ1ksUUFBUXhILEtBQUtHLEVBQUUsR0FBR3lDLGlCQUFpQixDQUFDO3dCQUNsQ3ZCLE1BQU0rRjt3QkFDTnBFLE9BQU87b0JBQ1Q7Z0JBQ0Y7Z0JBRUFsQixtQkFBbUJVLElBQUksQ0FBQ3dFLGVBQWUsQ0FBQ047Z0JBRXhDLE1BQU01QyxVQUFVO29CQUNkMUMsTUFBTSxVQUFhLENBQUE7NEJBQUVHLFFBQVE7d0JBQVUsQ0FBQTtvQkFDdkN3QyxLQUFLO2dCQUNQO2dCQUVBLE1BQU1DLFdBQVcsTUFBTXlELElBQUFBLFdBQVEsRUFBQzNELFNBQVM7b0JBQUVjLFFBQVFDLFFBQVFDLE9BQU8sQ0FBQzt3QkFBRWhDLElBQUk7b0JBQVM7Z0JBQUc7Z0JBQ3JGLE1BQU16QixPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtnQkFFaEM4QyxPQUFPRixTQUFTekMsTUFBTSxFQUFFNEMsSUFBSSxDQUFDO2dCQUM3QkQsT0FBTzdDLEtBQUt3QyxPQUFPLEVBQUVNLElBQUksQ0FBQztnQkFDMUJELE9BQU93QyxVQUFVckcsTUFBTSxFQUFFZ0Usb0JBQW9CLENBQzNDSCxPQUFPd0QsZ0JBQWdCLENBQUM7b0JBQ3RCbkcsUUFBUTtvQkFDUitGLFlBQVlwRCxPQUFPeUQsR0FBRyxDQUFDQztnQkFDekI7Z0JBRUYscURBQXFEO2dCQUNyRDFELE9BQU93QyxVQUFVckcsTUFBTSxFQUFFd0gsR0FBRyxDQUFDeEQsb0JBQW9CLENBQy9DSCxPQUFPd0QsZ0JBQWdCLENBQUM7b0JBQ3RCSCxjQUFjckQsT0FBT3lELEdBQUcsQ0FBQ0M7Z0JBQzNCO1lBRUo7UUFDRjtJQUNGO0lBRUFuRixTQUFTLG9DQUFvQztRQUMzQ1MsR0FBRyw4REFBOEQ7WUFDL0RkLGVBQWVRLGlCQUFpQixDQUFDO2dCQUMvQnZCLE1BQU07b0JBQUU0QixTQUFTO2dCQUFLO2dCQUN0QkQsT0FBTztZQUNUO1lBRUEsTUFBTThFLFlBQVk7Z0JBQ2hCO29CQUFFQyxTQUFTMUMsVUFBYztvQkFBRXZCLFNBQVM7d0JBQUVDLEtBQUs7b0JBQTZDO2dCQUFFO2dCQUMxRjtvQkFBRWdFLFNBQVM5RCxXQUFlO29CQUFFSCxTQUFTO3dCQUFFQyxLQUFLO3dCQUE4QzNDLE1BQU0sVUFBYSxDQUFBLENBQUMsQ0FBQTtvQkFBRztnQkFBRTtnQkFDbkg7b0JBQUUyRyxTQUFTdkMsV0FBa0I7b0JBQUUxQixTQUFTO3dCQUFFQyxLQUFLO29CQUF3RDtvQkFBR2EsUUFBUTt3QkFBRUEsUUFBUUMsUUFBUUMsT0FBTyxDQUFDOzRCQUFFaEMsSUFBSTt3QkFBYTtvQkFBRztnQkFBRTtnQkFDcEs7b0JBQUVpRixTQUFTcEQsV0FBWTtvQkFBRWIsU0FBUzt3QkFBRUMsS0FBSzt3QkFBeUQzQyxNQUFNLFVBQWEsQ0FBQSxDQUFDLENBQUE7b0JBQUc7b0JBQUd3RCxRQUFRO3dCQUFFQSxRQUFRQyxRQUFRQyxPQUFPLENBQUM7NEJBQUVoQyxJQUFJO3dCQUFhO29CQUFHO2dCQUFFO2dCQUN0TDtvQkFBRWlGLFNBQVNyQyxjQUFlO29CQUFFNUIsU0FBUzt3QkFBRUMsS0FBSztvQkFBd0Q7b0JBQUdhLFFBQVE7d0JBQUVBLFFBQVFDLFFBQVFDLE9BQU8sQ0FBQzs0QkFBRWhDLElBQUk7d0JBQWE7b0JBQUc7Z0JBQUU7Z0JBQ2pLO29CQUFFaUYsU0FBUzVCLFdBQVk7b0JBQUVyQyxTQUFTO3dCQUFFQyxLQUFLO29CQUFpRTtvQkFBR2EsUUFBUTt3QkFBRUEsUUFBUUMsUUFBUUMsT0FBTyxDQUFDOzRCQUFFaEMsSUFBSTt3QkFBYTtvQkFBRztnQkFBRTtnQkFDdks7b0JBQUVpRixTQUFTZCxXQUFTO29CQUFFbkQsU0FBUzt3QkFBRUMsS0FBSztvQkFBd0M7Z0JBQUU7Z0JBQ2hGO29CQUFFZ0UsU0FBU04sV0FBUTtvQkFBRTNELFNBQVM7d0JBQUVDLEtBQUs7d0JBQWdEM0MsTUFBTSxVQUFhLENBQUEsQ0FBQyxDQUFBO29CQUFHO29CQUFHd0QsUUFBUTt3QkFBRUEsUUFBUUMsUUFBUUMsT0FBTyxDQUFDOzRCQUFFaEMsSUFBSTt3QkFBUztvQkFBRztnQkFBRTthQUN0SztZQUVELEtBQUssTUFBTWtGLFlBQVlGLFVBQVc7Z0JBQ2hDLE1BQU05RCxXQUFXZ0UsU0FBU3BELE1BQU0sR0FDNUIsTUFBTW9ELFNBQVNELE9BQU8sQ0FBQ0MsU0FBU2xFLE9BQU8sRUFBU2tFLFNBQVNwRCxNQUFNLElBQy9ELE1BQU1vRCxTQUFTRCxPQUFPLENBQUNDLFNBQVNsRSxPQUFPO2dCQUMzQyxNQUFNekMsT0FBTyxNQUFNMkMsU0FBUzVDLElBQUk7Z0JBRWhDOEMsT0FBT0YsU0FBU3pDLE1BQU0sRUFBRTRDLElBQUksQ0FBQztnQkFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7Z0JBQzFCRCxPQUFPN0MsS0FBSzJCLEtBQUssQ0FBQ3NCLElBQUksRUFBRUgsSUFBSSxDQUFDO1lBQy9CO1FBQ0Y7UUFFQWpCLEdBQUcsNENBQTRDO1lBQzdDZCxlQUFlUSxpQkFBaUIsQ0FBQztnQkFDL0J2QixNQUFNO29CQUFFNEIsU0FBUztnQkFBSztnQkFDdEJELE9BQU87b0JBQUV1QixTQUFTO2dCQUFrQjtZQUN0QztZQUVBLE1BQU1ULFVBQVU7Z0JBQ2RDLEtBQUs7WUFDUDtZQUVBLE1BQU1DLFdBQVcsTUFBTXFCLElBQUFBLFVBQWMsRUFBQ3ZCO1lBQ3RDLE1BQU16QyxPQUFPLE1BQU0yQyxTQUFTNUMsSUFBSTtZQUVoQzhDLE9BQU9GLFNBQVN6QyxNQUFNLEVBQUU0QyxJQUFJLENBQUM7WUFDN0JELE9BQU83QyxLQUFLd0MsT0FBTyxFQUFFTSxJQUFJLENBQUM7WUFDMUJELE9BQU83QyxLQUFLMkIsS0FBSyxDQUFDc0IsSUFBSSxFQUFFSCxJQUFJLENBQUM7UUFDL0I7SUFDRjtBQUNGIn0=