{"version":3,"names":["conflictCheckSchema","cov_26bxtyiuuo","f","s","createEventSchema","eventFilterSchema","eventSearchSchema","updateEventSchema","baseEventSchema","_zod","z","object","name","string","trim","min","max","description","nullable","optional","eventType","enum","errorMap","message","locationId","uuid","startDate","datetime","endDate","rsvpRequired","boolean","rsvpDeadline","visibility","array","status","refine","data","b","Date","path","partial","startDateFrom","startDateTo","page","number","int","positive","pageSize","query","excludeEventId"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/eventSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Base schema for event data without refinements.\n */\nconst baseEventSchema = z.object({\n  name: z.string().trim().min(1, 'Event name is required').max(100, 'Event name must be 100 characters or less'),\n  description: z.string().max(2000, 'Description must be 2000 characters or less').nullable().optional(),\n  eventType: z.enum(['ceremony', 'reception', 'pre_wedding', 'post_wedding'], {\n    errorMap: () => ({ message: 'Event type must be ceremony, reception, pre_wedding, or post_wedding' }),\n  }),\n  locationId: z.string().uuid('Invalid location ID format').nullable().optional(),\n  startDate: z.string().datetime('Invalid start date format'),\n  endDate: z.string().datetime('Invalid end date format').nullable().optional(),\n  rsvpRequired: z.boolean().optional(),\n  rsvpDeadline: z.string().nullable().optional(),\n  visibility: z.array(z.string()).optional(),\n  status: z.enum(['draft', 'published']).optional(),\n});\n\n/**\n * Schema for creating a new event.\n * All required fields must be provided.\n */\nexport const createEventSchema = baseEventSchema.refine(\n  (data) => {\n    if (data.endDate && data.startDate) {\n      return new Date(data.startDate) <= new Date(data.endDate);\n    }\n    return true;\n  },\n  {\n    message: 'End date must be after or equal to start date',\n    path: ['endDate'],\n  }\n);\n\n/**\n * Schema for updating an existing event.\n * All fields are optional for partial updates.\n */\nexport const updateEventSchema = baseEventSchema.partial().refine(\n  (data) => {\n    if (data.endDate && data.startDate) {\n      return new Date(data.startDate) <= new Date(data.endDate);\n    }\n    return true;\n  },\n  {\n    message: 'End date must be after or equal to start date',\n    path: ['endDate'],\n  }\n);\n\n/**\n * Schema for event list filters.\n */\nexport const eventFilterSchema = z.object({\n  eventType: z.enum(['ceremony', 'reception', 'pre_wedding', 'post_wedding']).optional(),\n  status: z.enum(['draft', 'published']).optional(),\n  locationId: z.string().uuid().optional(),\n  startDateFrom: z.string().datetime().optional(),\n  startDateTo: z.string().datetime().optional(),\n  page: z.number().int().positive().optional(),\n  pageSize: z.number().int().positive().max(100).optional(),\n});\n\n/**\n * Schema for event search.\n */\nexport const eventSearchSchema = z.object({\n  query: z.string().min(1, 'Search query is required'),\n  page: z.number().int().positive().optional(),\n  pageSize: z.number().int().positive().max(100).optional(),\n});\n\n/**\n * Schema for scheduling conflict check.\n */\nexport const conflictCheckSchema = z.object({\n  locationId: z.string().uuid('Invalid location ID format'),\n  startDate: z.string().datetime('Invalid start date format'),\n  endDate: z.string().datetime('Invalid end date format').nullable().optional(),\n  excludeEventId: z.string().uuid().optional(), // For update operations\n});\n\n/**\n * Type definitions derived from schemas.\n */\nexport type CreateEventDTO = z.infer<typeof createEventSchema>;\nexport type UpdateEventDTO = z.infer<typeof updateEventSchema>;\nexport type EventFilterDTO = z.infer<typeof eventFilterSchema>;\nexport type EventSearchDTO = z.infer<typeof eventSearchSchema>;\nexport type ConflictCheckDTO = z.infer<typeof conflictCheckSchema>;\n\n/**\n * Event entity type matching database structure.\n */\nexport interface Event {\n  id: string;\n  name: string;\n  slug: string;\n  description: string | null;\n  eventType: 'ceremony' | 'reception' | 'pre_wedding' | 'post_wedding';\n  locationId: string | null;\n  startDate: string;\n  endDate: string | null;\n  rsvpRequired: boolean;\n  rsvpDeadline: string | null;\n  visibility: string[];\n  status: 'draft' | 'published';\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Paginated event list response.\n */\nexport interface PaginatedEvents {\n  events: Event[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\n/**\n * Scheduling conflict information.\n */\nexport interface SchedulingConflict {\n  hasConflict: boolean;\n  conflictingEvents: Array<{\n    id: string;\n    name: string;\n    startDate: string;\n    endDate: string | null;\n  }>;\n}\n"],"mappings":"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","ignoreList":[]}