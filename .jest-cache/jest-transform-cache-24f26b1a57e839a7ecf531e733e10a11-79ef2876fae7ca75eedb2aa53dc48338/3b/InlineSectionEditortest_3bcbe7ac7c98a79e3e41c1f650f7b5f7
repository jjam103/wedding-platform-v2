920a0eca0f4e63c7680cf500c06154dc
"use strict";
// Mock dynamic imports
jest.mock('next/dynamic', ()=>({
        __esModule: true,
        default: (fn)=>{
            const Component = fn().then((mod)=>mod.default || mod);
            return Component;
        }
    }));
// Mock PhotoPicker
jest.mock('./PhotoPicker', ()=>({
        PhotoPicker: ({ selectedPhotoIds, onSelectionChange })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "photo-picker",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            "Selected: ",
                            selectedPhotoIds.length
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: ()=>onSelectionChange([
                                ...selectedPhotoIds,
                                'new-photo'
                            ]),
                        children: "Add Photo"
                    })
                ]
            })
    }));
// Mock RichTextEditor
jest.mock('./RichTextEditor', ()=>({
        RichTextEditor: ({ value, onChange })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                "data-testid": "rich-text-editor",
                value: value,
                onChange: (e)=>onChange(e.target.value)
            })
    }));
// Mock SimpleReferenceSelector
jest.mock('./SimpleReferenceSelector', ()=>({
        SimpleReferenceSelector: ({ onSelect })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                "data-testid": "reference-selector",
                onClick: ()=>onSelect({
                        type: 'activity',
                        id: 'activity-1',
                        title: 'Test Activity'
                    }),
                children: "Add Reference"
            })
    }));
// Mock ReferencePreview
jest.mock('./ReferencePreview', ()=>({
        ReferencePreview: ({ reference, onRemove })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "reference-preview",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        children: reference.title
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onRemove,
                        children: "Remove"
                    })
                ]
            })
    }));
// Mock PhotoGallerySkeleton
jest.mock('./PhotoGallerySkeleton', ()=>({
        PhotoGallerySkeleton: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "Loading photos..."
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _InlineSectionEditor = require("./InlineSectionEditor");
describe('InlineSectionEditor', ()=>{
    const mockFetch = jest.fn();
    beforeEach(()=>{
        global.fetch = mockFetch;
        mockFetch.mockClear();
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Rendering', ()=>{
        it('should render loading state initially', ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            expect(_react.screen.getByText('Loading sections...')).toBeInTheDocument();
        });
        it('should render empty state when no sections exist', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Create First Section')).toBeInTheDocument();
        });
        it('should render sections list when sections exist', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('#1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            expect(_react.screen.getByText('1 Col')).toBeInTheDocument();
        });
        it('should render error message when fetch fails', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: false,
                        error: {
                            message: 'Failed to load'
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Failed to load')).toBeInTheDocument();
            });
        });
        it('should render compact mode when compact prop is true', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home",
                compact: true
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const editor = container.querySelector('[data-testid="inline-section-editor"]');
            expect(editor).toHaveClass('text-sm');
        });
    });
    describe('Add Section', ()=>{
        it('should add a new section when Add Section button is clicked', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'new-section',
                            title: null,
                            display_order: 0,
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const addButton = _react.screen.getByText('+ Add Section');
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections', expect.objectContaining({
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            });
        });
        it('should open edit mode for newly created section', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'new-section',
                            title: null,
                            display_order: 0,
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const addButton = _react.screen.getByText('+ Add Section');
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Close')).toBeInTheDocument();
            });
        });
    });
    describe('Edit Section', ()=>{
        it('should toggle edit mode when Edit button is clicked', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Close')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('should update section title when input changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            expect(titleInput).toHaveValue('Updated Title');
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('1 unsaved')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('should toggle layout when layout selector changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            ...mockSections[0],
                            columns: [
                                mockSections[0].columns[0],
                                {
                                    id: 'col-2',
                                    column_number: 2,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Layout:')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const layoutSelect = _react.screen.getByDisplayValue('One Column');
            _react.fireEvent.change(layoutSelect, {
                target: {
                    value: 'two-column'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT'
                }));
            }, {
                timeout: 3000
            });
        });
    });
    describe('Delete Section', ()=>{
        it('should delete section when Delete button is clicked and confirmed', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            // Mock window.confirm
            global.confirm = jest.fn(()=>true);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByText('Delete');
            _react.fireEvent.click(deleteButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'DELETE'
                }));
            });
            expect(global.confirm).toHaveBeenCalledWith('Are you sure you want to delete this section?');
        });
        it('should not delete section when Delete button is clicked and cancelled', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            // Mock window.confirm to return false
            global.confirm = jest.fn(()=>false);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByText('Delete');
            _react.fireEvent.click(deleteButton);
            // Should not call DELETE API
            expect(mockFetch).toHaveBeenCalledTimes(1); // Only initial fetch
        });
    });
    describe('Save Section', ()=>{
        it('should save section when Save button is clicked', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            }, {
                timeout: 3000
            });
        });
        it('should call onSave callback when section is saved', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            const onSave = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home",
                onSave: onSave
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(onSave).toHaveBeenCalled();
            }, {
                timeout: 3000
            });
        });
        it('should clear unsaved changes indicator after save', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('1 unsaved')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('1 unsaved')).not.toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
    describe('Drag and Drop Reordering', ()=>{
        it('should reorder sections when dragged and dropped', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Section 1',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Content 1</p>'
                            }
                        }
                    ]
                },
                {
                    id: 'section-2',
                    title: 'Section 2',
                    display_order: 1,
                    columns: [
                        {
                            id: 'col-2',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Content 2</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
                expect(_react.screen.getByText('Section 2')).toBeInTheDocument();
            });
            // Simulate drag and drop
            const sections = container.querySelectorAll('[draggable="true"]');
            const firstSection = sections[0];
            const secondSection = sections[1];
            _react.fireEvent.dragStart(firstSection);
            _react.fireEvent.dragOver(secondSection);
            _react.fireEvent.drop(secondSection);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            });
        });
    });
    describe('Column Type Changes', ()=>{
        it('should change column type when selector changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            ...mockSections[0],
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'photo_gallery',
                                    content_data: {
                                        photo_ids: [],
                                        display_mode: 'gallery',
                                        autoplaySpeed: 3000,
                                        showCaptions: true
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByDisplayValue('Rich Text')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const typeSelect = _react.screen.getByDisplayValue('Rich Text');
            _react.fireEvent.change(typeSelect, {
                target: {
                    value: 'photo_gallery'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT'
                }));
            }, {
                timeout: 3000
            });
        });
    });
    describe('Error Handling', ()=>{
        it('should display error message when save fails', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: false,
                        error: {
                            message: 'Save failed'
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save failed')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9JbmxpbmVTZWN0aW9uRWRpdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IElubGluZVNlY3Rpb25FZGl0b3IgfSBmcm9tICcuL0lubGluZVNlY3Rpb25FZGl0b3InO1xuXG4vLyBNb2NrIGR5bmFtaWMgaW1wb3J0c1xuamVzdC5tb2NrKCduZXh0L2R5bmFtaWMnLCAoKSA9PiAoe1xuICBfX2VzTW9kdWxlOiB0cnVlLFxuICBkZWZhdWx0OiAoZm46IGFueSkgPT4ge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGZuKCkudGhlbigobW9kOiBhbnkpID0+IG1vZC5kZWZhdWx0IHx8IG1vZCk7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBQaG90b1BpY2tlclxuamVzdC5tb2NrKCcuL1Bob3RvUGlja2VyJywgKCkgPT4gKHtcbiAgUGhvdG9QaWNrZXI6ICh7IHNlbGVjdGVkUGhvdG9JZHMsIG9uU2VsZWN0aW9uQ2hhbmdlIH06IGFueSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJwaG90by1waWNrZXJcIj5cbiAgICAgIDxkaXY+U2VsZWN0ZWQ6IHtzZWxlY3RlZFBob3RvSWRzLmxlbmd0aH08L2Rpdj5cbiAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gb25TZWxlY3Rpb25DaGFuZ2UoWy4uLnNlbGVjdGVkUGhvdG9JZHMsICduZXctcGhvdG8nXSl9PlxuICAgICAgICBBZGQgUGhvdG9cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBNb2NrIFJpY2hUZXh0RWRpdG9yXG5qZXN0Lm1vY2soJy4vUmljaFRleHRFZGl0b3InLCAoKSA9PiAoe1xuICBSaWNoVGV4dEVkaXRvcjogKHsgdmFsdWUsIG9uQ2hhbmdlIH06IGFueSkgPT4gKFxuICAgIDx0ZXh0YXJlYVxuICAgICAgZGF0YS10ZXN0aWQ9XCJyaWNoLXRleHQtZWRpdG9yXCJcbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgIC8+XG4gICksXG59KSk7XG5cbi8vIE1vY2sgU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3Jcbmplc3QubW9jaygnLi9TaW1wbGVSZWZlcmVuY2VTZWxlY3RvcicsICgpID0+ICh7XG4gIFNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yOiAoeyBvblNlbGVjdCB9OiBhbnkpID0+IChcbiAgICA8YnV0dG9uXG4gICAgICBkYXRhLXRlc3RpZD1cInJlZmVyZW5jZS1zZWxlY3RvclwiXG4gICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdCh7IHR5cGU6ICdhY3Rpdml0eScsIGlkOiAnYWN0aXZpdHktMScsIHRpdGxlOiAnVGVzdCBBY3Rpdml0eScgfSl9XG4gICAgPlxuICAgICAgQWRkIFJlZmVyZW5jZVxuICAgIDwvYnV0dG9uPlxuICApLFxufSkpO1xuXG4vLyBNb2NrIFJlZmVyZW5jZVByZXZpZXdcbmplc3QubW9jaygnLi9SZWZlcmVuY2VQcmV2aWV3JywgKCkgPT4gKHtcbiAgUmVmZXJlbmNlUHJldmlldzogKHsgcmVmZXJlbmNlLCBvblJlbW92ZSB9OiBhbnkpID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicmVmZXJlbmNlLXByZXZpZXdcIj5cbiAgICAgIDxzcGFuPntyZWZlcmVuY2UudGl0bGV9PC9zcGFuPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJlbW92ZX0+UmVtb3ZlPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICksXG59KSk7XG5cbi8vIE1vY2sgUGhvdG9HYWxsZXJ5U2tlbGV0b25cbmplc3QubW9jaygnLi9QaG90b0dhbGxlcnlTa2VsZXRvbicsICgpID0+ICh7XG4gIFBob3RvR2FsbGVyeVNrZWxldG9uOiAoKSA9PiA8ZGl2PkxvYWRpbmcgcGhvdG9zLi4uPC9kaXY+LFxufSkpO1xuXG5kZXNjcmliZSgnSW5saW5lU2VjdGlvbkVkaXRvcicsICgpID0+IHtcbiAgY29uc3QgbW9ja0ZldGNoID0gamVzdC5mbigpO1xuICBcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgZ2xvYmFsLmZldGNoID0gbW9ja0ZldGNoO1xuICAgIG1vY2tGZXRjaC5tb2NrQ2xlYXIoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIHNlY3Rpb25zLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBlbXB0eSBzdGF0ZSB3aGVuIG5vIHNlY3Rpb25zIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdObyBzZWN0aW9ucyB5ZXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ3JlYXRlIEZpcnN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIHNlY3Rpb25zIGxpc3Qgd2hlbiBzZWN0aW9ucyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcjMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxIENvbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgZXJyb3IgbWVzc2FnZSB3aGVuIGZldGNoIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkJyB9IH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhaWxlZCB0byBsb2FkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGNvbXBhY3QgbW9kZSB3aGVuIGNvbXBhY3QgcHJvcCBpcyB0cnVlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKFxuICAgICAgICA8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgY29tcGFjdD17dHJ1ZX0gLz5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2VjdGlvbnMgeWV0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZWRpdG9yID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cImlubGluZS1zZWN0aW9uLWVkaXRvclwiXScpO1xuICAgICAgZXhwZWN0KGVkaXRvcikudG9IYXZlQ2xhc3MoJ3RleHQtc20nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FkZCBTZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYWRkIGEgbmV3IHNlY3Rpb24gd2hlbiBBZGQgU2VjdGlvbiBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGlkOiAnbmV3LXNlY3Rpb24nLFxuICAgICAgICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHNlY3Rpb25zIHlldCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJysgQWRkIFNlY3Rpb24nKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vc2VjdGlvbnMnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBvcGVuIGVkaXQgbW9kZSBmb3IgbmV3bHkgY3JlYXRlZCBzZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaWQ6ICduZXctc2VjdGlvbicsXG4gICAgICAgICAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnJyB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2VjdGlvbnMgeWV0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYWRkQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnKyBBZGQgU2VjdGlvbicpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFkZEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2xvc2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRWRpdCBTZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGVkaXQgbW9kZSB3aGVuIEVkaXQgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZWRpdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2xvc2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHNlY3Rpb24gdGl0bGUgd2hlbiBpbnB1dCBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRpdGxlSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBUaXRsZScgfSB9KTtcblxuICAgICAgZXhwZWN0KHRpdGxlSW5wdXQpLnRvSGF2ZVZhbHVlKCdVcGRhdGVkIFRpdGxlJyk7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMSB1bnNhdmVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBsYXlvdXQgd2hlbiBsYXlvdXQgc2VsZWN0b3IgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4ubW9ja1NlY3Rpb25zWzBdLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICAgICAgbW9ja1NlY3Rpb25zWzBdLmNvbHVtbnNbMF0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaWQ6ICdjb2wtMicsXG4gICAgICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAyLFxuICAgICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnJyB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZWRpdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGF5b3V0OicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBsYXlvdXRTZWxlY3QgPSBzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ09uZSBDb2x1bW4nKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UobGF5b3V0U2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3R3by1jb2x1bW4nIH0gfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9zZWN0aW9uLTEnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RlbGV0ZSBTZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGVsZXRlIHNlY3Rpb24gd2hlbiBEZWxldGUgYnV0dG9uIGlzIGNsaWNrZWQgYW5kIGNvbmZpcm1lZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgLy8gTW9jayB3aW5kb3cuY29uZmlybVxuICAgICAgZ2xvYmFsLmNvbmZpcm0gPSBqZXN0LmZuKCgpID0+IHRydWUpO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdEZWxldGUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vc2VjdGlvbnMvc2VjdGlvbi0xJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGdsb2JhbC5jb25maXJtKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHNlY3Rpb24/Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBkZWxldGUgc2VjdGlvbiB3aGVuIERlbGV0ZSBidXR0b24gaXMgY2xpY2tlZCBhbmQgY2FuY2VsbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgd2luZG93LmNvbmZpcm0gdG8gcmV0dXJuIGZhbHNlXG4gICAgICBnbG9iYWwuY29uZmlybSA9IGplc3QuZm4oKCkgPT4gZmFsc2UpO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdEZWxldGUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICAvLyBTaG91bGQgbm90IGNhbGwgREVMRVRFIEFQSVxuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpOyAvLyBPbmx5IGluaXRpYWwgZmV0Y2hcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NhdmUgU2VjdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHNhdmUgc2VjdGlvbiB3aGVuIFNhdmUgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zWzBdIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZWRpdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIC8vIE1ha2UgYSBjaGFuZ2VcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGl0bGVJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdVcGRhdGVkIFRpdGxlJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL2FkbWluL3NlY3Rpb25zL3NlY3Rpb24tMScsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGwgb25TYXZlIGNhbGxiYWNrIHdoZW4gc2VjdGlvbiBpcyBzYXZlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnNbMF0gfSksXG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvblNhdmUgPSBqZXN0LmZuKCk7XG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIG9uU2F2ZT17b25TYXZlfSAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZWRpdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIC8vIE1ha2UgYSBjaGFuZ2VcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGl0bGVJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdVcGRhdGVkIFRpdGxlJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChvblNhdmUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgdW5zYXZlZCBjaGFuZ2VzIGluZGljYXRvciBhZnRlciBzYXZlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnMgfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9uc1swXSB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICAvLyBNYWtlIGEgY2hhbmdlXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRpdGxlSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBUaXRsZScgfSB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcxIHVuc2F2ZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJzEgdW5zYXZlZCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0RyYWcgYW5kIERyb3AgUmVvcmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlb3JkZXIgc2VjdGlvbnMgd2hlbiBkcmFnZ2VkIGFuZCBkcm9wcGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnU2VjdGlvbiAxJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+Q29udGVudCAxPC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0yJyxcbiAgICAgICAgICB0aXRsZTogJ1NlY3Rpb24gMicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMSxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTInLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkNvbnRlbnQgMjwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2ltdWxhdGUgZHJhZyBhbmQgZHJvcFxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZT1cInRydWVcIl0nKTtcbiAgICAgIGNvbnN0IGZpcnN0U2VjdGlvbiA9IHNlY3Rpb25zWzBdO1xuICAgICAgY29uc3Qgc2Vjb25kU2VjdGlvbiA9IHNlY3Rpb25zWzFdO1xuXG4gICAgICBmaXJlRXZlbnQuZHJhZ1N0YXJ0KGZpcnN0U2VjdGlvbik7XG4gICAgICBmaXJlRXZlbnQuZHJhZ092ZXIoc2Vjb25kU2VjdGlvbik7XG4gICAgICBmaXJlRXZlbnQuZHJvcChzZWNvbmRTZWN0aW9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL2FkbWluL3NlY3Rpb25zL3Jlb3JkZXInLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29sdW1uIFR5cGUgQ2hhbmdlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNoYW5nZSBjb2x1bW4gdHlwZSB3aGVuIHNlbGVjdG9yIGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLm1vY2tTZWN0aW9uc1swXSxcbiAgICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3Bob3RvX2dhbGxlcnknLFxuICAgICAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IHBob3RvX2lkczogW10sIGRpc3BsYXlfbW9kZTogJ2dhbGxlcnknLCBhdXRvcGxheVNwZWVkOiAzMDAwLCBzaG93Q2FwdGlvbnM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnUmljaCBUZXh0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IHR5cGVTZWxlY3QgPSBzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1JpY2ggVGV4dCcpO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZSh0eXBlU2VsZWN0LCB7IHRhcmdldDogeyB2YWx1ZTogJ3Bob3RvX2dhbGxlcnknIH0gfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9zZWN0aW9uLTEnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciBtZXNzYWdlIHdoZW4gc2F2ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgbWVzc2FnZTogJ1NhdmUgZmFpbGVkJyB9IH0pLFxuICAgICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZWRpdEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIC8vIE1ha2UgYSBjaGFuZ2VcbiAgICAgIGNvbnN0IHRpdGxlSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodGl0bGVJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdVcGRhdGVkIFRpdGxlJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ1NhdmUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlIGZhaWxlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJmbiIsIkNvbXBvbmVudCIsInRoZW4iLCJtb2QiLCJQaG90b1BpY2tlciIsInNlbGVjdGVkUGhvdG9JZHMiLCJvblNlbGVjdGlvbkNoYW5nZSIsImRpdiIsImRhdGEtdGVzdGlkIiwibGVuZ3RoIiwiYnV0dG9uIiwib25DbGljayIsIlJpY2hUZXh0RWRpdG9yIiwidmFsdWUiLCJvbkNoYW5nZSIsInRleHRhcmVhIiwiZSIsInRhcmdldCIsIlNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yIiwib25TZWxlY3QiLCJ0eXBlIiwiaWQiLCJ0aXRsZSIsIlJlZmVyZW5jZVByZXZpZXciLCJyZWZlcmVuY2UiLCJvblJlbW92ZSIsInNwYW4iLCJQaG90b0dhbGxlcnlTa2VsZXRvbiIsImRlc2NyaWJlIiwibW9ja0ZldGNoIiwiYmVmb3JlRWFjaCIsImdsb2JhbCIsImZldGNoIiwibW9ja0NsZWFyIiwiYWZ0ZXJFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJyZW5kZXIiLCJJbmxpbmVTZWN0aW9uRWRpdG9yIiwicGFnZVR5cGUiLCJwYWdlSWQiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIndhaXRGb3IiLCJtb2NrU2VjdGlvbnMiLCJkaXNwbGF5X29yZGVyIiwiY29sdW1ucyIsImNvbHVtbl9udW1iZXIiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2RhdGEiLCJodG1sIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29udGFpbmVyIiwiY29tcGFjdCIsImVkaXRvciIsInF1ZXJ5U2VsZWN0b3IiLCJ0b0hhdmVDbGFzcyIsImFkZEJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwiaGVhZGVycyIsInRpbWVvdXQiLCJlZGl0QnV0dG9uIiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJ0aXRsZUlucHV0IiwiY2hhbmdlIiwidG9IYXZlVmFsdWUiLCJsYXlvdXRTZWxlY3QiLCJnZXRCeURpc3BsYXlWYWx1ZSIsImNvbmZpcm0iLCJkZWxldGVCdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJzYXZlQnV0dG9uIiwib25TYXZlIiwidG9IYXZlQmVlbkNhbGxlZCIsInF1ZXJ5QnlUZXh0Iiwibm90Iiwic2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmlyc3RTZWN0aW9uIiwic2Vjb25kU2VjdGlvbiIsImRyYWdTdGFydCIsImRyYWdPdmVyIiwiZHJvcCIsInBob3RvX2lkcyIsImRpc3BsYXlfbW9kZSIsImF1dG9wbGF5U3BlZWQiLCJzaG93Q2FwdGlvbnMiLCJ0eXBlU2VsZWN0Il0sIm1hcHBpbmdzIjoiO0FBR0EsdUJBQXVCO0FBQ3ZCQSxLQUFLQyxJQUFJLENBQUMsZ0JBQWdCLElBQU8sQ0FBQTtRQUMvQkMsWUFBWTtRQUNaQyxTQUFTLENBQUNDO1lBQ1IsTUFBTUMsWUFBWUQsS0FBS0UsSUFBSSxDQUFDLENBQUNDLE1BQWFBLElBQUlKLE9BQU8sSUFBSUk7WUFDekQsT0FBT0Y7UUFDVDtJQUNGLENBQUE7QUFFQSxtQkFBbUI7QUFDbkJMLEtBQUtDLElBQUksQ0FBQyxpQkFBaUIsSUFBTyxDQUFBO1FBQ2hDTyxhQUFhLENBQUMsRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFPLGlCQUN4RCxzQkFBQ0M7Z0JBQUlDLGVBQVk7O2tDQUNmLHNCQUFDRDs7NEJBQUk7NEJBQVdGLGlCQUFpQkksTUFBTTs7O2tDQUN2QyxxQkFBQ0M7d0JBQU9DLFNBQVMsSUFBTUwsa0JBQWtCO21DQUFJRDtnQ0FBa0I7NkJBQVk7a0NBQUc7Ozs7SUFLcEYsQ0FBQTtBQUVBLHNCQUFzQjtBQUN0QlQsS0FBS0MsSUFBSSxDQUFDLG9CQUFvQixJQUFPLENBQUE7UUFDbkNlLGdCQUFnQixDQUFDLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxF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