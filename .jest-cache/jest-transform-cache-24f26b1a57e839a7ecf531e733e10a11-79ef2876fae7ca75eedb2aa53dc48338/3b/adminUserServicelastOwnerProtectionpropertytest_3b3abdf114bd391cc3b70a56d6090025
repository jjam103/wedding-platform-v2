470577d452ac08cb3bfd26889f6060ab
/**
 * Property-Based Test: Last Owner Protection
 * 
 * Feature: destination-wedding-platform
 * Property 12: Last Owner Protection
 * 
 * Validates: Requirements 3.10
 * 
 * Property: The system MUST prevent deletion or deactivation of the last active owner account
 * to ensure there is always at least one owner who can manage the system.
 */ "use strict";
// Mock dependencies
jest.mock('@/lib/supabaseServer');
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
const _adminUserService = require("./adminUserService");
const _supabaseServer = require("../lib/supabaseServer");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const mockSupabase = {
    from: jest.fn().mockReturnThis(),
    select: jest.fn().mockReturnThis(),
    update: jest.fn().mockReturnThis(),
    delete: jest.fn().mockReturnThis(),
    eq: jest.fn().mockReturnThis(),
    single: jest.fn()
};
describe('Feature: destination-wedding-platform, Property 12: Last Owner Protection', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        _supabaseServer.createClient.mockReturnValue(mockSupabase);
    });
    it('should prevent deactivation of last active owner', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), async (ownerId)=>{
            // Arrange: Mock last active owner
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: 1,
                error: null
            });
            // Act: Attempt to deactivate last owner
            const result = await _adminUserService.adminUserService.deactivate(ownerId);
            // Assert: Should fail with FORBIDDEN error
            expect(result.success).toBe(false);
            expect(result.error?.code).toBe('FORBIDDEN');
            expect(result.error?.message).toContain('last owner');
        }), {
            numRuns: 100
        });
    });
    it('should prevent deletion of last active owner', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), async (ownerId)=>{
            // Arrange: Mock last active owner
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            });
            mockSupabase.select.mockReturnValueOnce({
                eq: jest.fn().mockReturnThis(),
                single: jest.fn().mockResolvedValue({
                    count: 1,
                    error: null
                })
            });
            // Act: Attempt to delete last owner
            const result = await _adminUserService.adminUserService.delete(ownerId);
            // Assert: Should fail with FORBIDDEN error
            expect(result.success).toBe(false);
            expect(result.error?.code).toBe('FORBIDDEN');
            expect(result.error?.message).toContain('last owner');
        }), {
            numRuns: 100
        });
    });
    it('should allow deactivation when multiple active owners exist', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), _fastcheck.integer({
            min: 2,
            max: 10
        }), async (ownerId, ownerCount)=>{
            // Arrange: Mock owner with multiple active owners
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: ownerCount,
                error: null
            }).mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'inactive',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            });
            // Act: Deactivate owner
            const result = await _adminUserService.adminUserService.deactivate(ownerId);
            // Assert: Should succeed
            expect(result.success).toBe(true);
            expect(result.data?.status).toBe('inactive');
        }), {
            numRuns: 100
        });
    });
    it('should allow deletion when multiple active owners exist', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), _fastcheck.integer({
            min: 2,
            max: 10
        }), async (ownerId, ownerCount)=>{
            // Arrange: Mock owner with multiple active owners
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            });
            mockSupabase.select.mockReturnValueOnce({
                eq: jest.fn().mockReturnThis(),
                single: jest.fn().mockResolvedValue({
                    count: ownerCount,
                    error: null
                })
            });
            mockSupabase.delete.mockReturnValueOnce({
                eq: jest.fn().mockResolvedValue({
                    error: null
                })
            });
            // Act: Delete owner
            const result = await _adminUserService.adminUserService.delete(ownerId);
            // Assert: Should succeed
            expect(result.success).toBe(true);
        }), {
            numRuns: 100
        });
    });
    it('should allow deactivation of non-owner admin users regardless of count', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), _fastcheck.integer({
            min: 0,
            max: 10
        }), async (adminId, ownerCount)=>{
            // Arrange: Mock non-owner admin user
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: adminId,
                    email: 'admin@example.com',
                    role: 'admin',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: ownerCount,
                error: null
            }).mockResolvedValueOnce({
                data: {
                    id: adminId,
                    email: 'admin@example.com',
                    role: 'admin',
                    status: 'inactive',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            });
            // Act: Deactivate admin user
            const result = await _adminUserService.adminUserService.deactivate(adminId);
            // Assert: Should succeed (not an owner, so no protection needed)
            expect(result.success).toBe(true);
            expect(result.data?.status).toBe('inactive');
        }), {
            numRuns: 100
        });
    });
    it('should count only active owners for protection check', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.uuid(), _fastcheck.integer({
            min: 1,
            max: 5
        }), async (ownerId, inactiveOwnerCount)=>{
            // Arrange: Mock last active owner (with inactive owners present)
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: ownerId,
                    email: 'owner@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: 1,
                error: null
            });
            // Act: Attempt to deactivate last active owner
            const result = await _adminUserService.adminUserService.deactivate(ownerId);
            // Assert: Should fail even if inactive owners exist
            expect(result.success).toBe(false);
            expect(result.error?.code).toBe('FORBIDDEN');
            expect(result.error?.message).toContain('last owner');
        }), {
            numRuns: 100
        });
    });
    it('should handle edge case of exactly 2 active owners', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.tuple(_fastcheck.uuid(), _fastcheck.uuid()).filter(([id1, id2])=>id1 !== id2), async ([owner1Id, owner2Id])=>{
            // Arrange: Mock first owner with exactly 2 active owners
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: owner1Id,
                    email: 'owner1@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: 2,
                error: null
            }).mockResolvedValueOnce({
                data: {
                    id: owner1Id,
                    email: 'owner1@example.com',
                    role: 'owner',
                    status: 'inactive',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            });
            // Act: Deactivate first owner (leaving 1 active)
            const result1 = await _adminUserService.adminUserService.deactivate(owner1Id);
            // Assert: Should succeed (still 1 active owner remaining)
            expect(result1.success).toBe(true);
            // Now mock second owner as last active owner
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    id: owner2Id,
                    email: 'owner2@example.com',
                    role: 'owner',
                    status: 'active',
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                error: null
            }).mockResolvedValueOnce({
                count: 1,
                error: null
            });
            // Act: Attempt to deactivate last owner
            const result2 = await _adminUserService.adminUserService.deactivate(owner2Id);
            // Assert: Should fail (last owner)
            expect(result2.success).toBe(false);
            expect(result2.error?.code).toBe('FORBIDDEN');
        }), {
            numRuns: 50
        } // Fewer runs due to complex setup
        );
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvYWRtaW5Vc2VyU2VydmljZS5sYXN0T3duZXJQcm90ZWN0aW9uLnByb3BlcnR5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9wZXJ0eS1CYXNlZCBUZXN0OiBMYXN0IE93bmVyIFByb3RlY3Rpb25cbiAqIFxuICogRmVhdHVyZTogZGVzdGluYXRpb24td2VkZGluZy1wbGF0Zm9ybVxuICogUHJvcGVydHkgMTI6IExhc3QgT3duZXIgUHJvdGVjdGlvblxuICogXG4gKiBWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyAzLjEwXG4gKiBcbiAqIFByb3BlcnR5OiBUaGUgc3lzdGVtIE1VU1QgcHJldmVudCBkZWxldGlvbiBvciBkZWFjdGl2YXRpb24gb2YgdGhlIGxhc3QgYWN0aXZlIG93bmVyIGFjY291bnRcbiAqIHRvIGVuc3VyZSB0aGVyZSBpcyBhbHdheXMgYXQgbGVhc3Qgb25lIG93bmVyIHdobyBjYW4gbWFuYWdlIHRoZSBzeXN0ZW0uXG4gKi9cblxuaW1wb3J0ICogYXMgZmMgZnJvbSAnZmFzdC1jaGVjayc7XG5pbXBvcnQgeyBhZG1pblVzZXJTZXJ2aWNlIH0gZnJvbSAnLi9hZG1pblVzZXJTZXJ2aWNlJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlU2VydmVyJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2VTZXJ2ZXInKTtcblxuY29uc3QgbW9ja1N1cGFiYXNlID0ge1xuICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgZGVsZXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBzaW5nbGU6IGplc3QuZm4oKSxcbn07XG5cbmRlc2NyaWJlKCdGZWF0dXJlOiBkZXN0aW5hdGlvbi13ZWRkaW5nLXBsYXRmb3JtLCBQcm9wZXJ0eSAxMjogTGFzdCBPd25lciBQcm90ZWN0aW9uJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAoY3JlYXRlQ2xpZW50IGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcHJldmVudCBkZWFjdGl2YXRpb24gb2YgbGFzdCBhY3RpdmUgb3duZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMudXVpZCgpLFxuICAgICAgICBhc3luYyAob3duZXJJZCkgPT4ge1xuICAgICAgICAgIC8vIEFycmFuZ2U6IE1vY2sgbGFzdCBhY3RpdmUgb3duZXJcbiAgICAgICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlXG4gICAgICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBvd25lcklkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnb3duZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICAgICAgY291bnQ6IDEsIC8vIE9ubHkgMSBhY3RpdmUgb3duZXJcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFjdDogQXR0ZW1wdCB0byBkZWFjdGl2YXRlIGxhc3Qgb3duZXJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZG1pblVzZXJTZXJ2aWNlLmRlYWN0aXZhdGUob3duZXJJZCk7XG5cbiAgICAgICAgICAvLyBBc3NlcnQ6IFNob3VsZCBmYWlsIHdpdGggRk9SQklEREVOIGVycm9yXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5jb2RlKS50b0JlKCdGT1JCSURERU4nKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5tZXNzYWdlKS50b0NvbnRhaW4oJ2xhc3Qgb3duZXInKTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMTAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHByZXZlbnQgZGVsZXRpb24gb2YgbGFzdCBhY3RpdmUgb3duZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMudXVpZCgpLFxuICAgICAgICBhc3luYyAob3duZXJJZCkgPT4ge1xuICAgICAgICAgIC8vIEFycmFuZ2U6IE1vY2sgbGFzdCBhY3RpdmUgb3duZXJcbiAgICAgICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGlkOiBvd25lcklkLFxuICAgICAgICAgICAgICBlbWFpbDogJ293bmVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBjb3VudDogMSwgLy8gT25seSAxIGFjdGl2ZSBvd25lclxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWN0OiBBdHRlbXB0IHRvIGRlbGV0ZSBsYXN0IG93bmVyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRtaW5Vc2VyU2VydmljZS5kZWxldGUob3duZXJJZCk7XG5cbiAgICAgICAgICAvLyBBc3NlcnQ6IFNob3VsZCBmYWlsIHdpdGggRk9SQklEREVOIGVycm9yXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5jb2RlKS50b0JlKCdGT1JCSURERU4nKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5tZXNzYWdlKS50b0NvbnRhaW4oJ2xhc3Qgb3duZXInKTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMTAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFsbG93IGRlYWN0aXZhdGlvbiB3aGVuIG11bHRpcGxlIGFjdGl2ZSBvd25lcnMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMudXVpZCgpLFxuICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAyLCBtYXg6IDEwIH0pLCAvLyBOdW1iZXIgb2YgYWN0aXZlIG93bmVyc1xuICAgICAgICBhc3luYyAob3duZXJJZCwgb3duZXJDb3VudCkgPT4ge1xuICAgICAgICAgIC8vIEFycmFuZ2U6IE1vY2sgb3duZXIgd2l0aCBtdWx0aXBsZSBhY3RpdmUgb3duZXJzXG4gICAgICAgICAgbW9ja1N1cGFiYXNlLnNpbmdsZVxuICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogb3duZXJJZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogJ293bmVyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgICByb2xlOiAnb3duZXInLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICAgIGNvdW50OiBvd25lckNvdW50LCAvLyBNdWx0aXBsZSBhY3RpdmUgb3duZXJzXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IG93bmVySWQsXG4gICAgICAgICAgICAgICAgZW1haWw6ICdvd25lckBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdpbmFjdGl2ZScsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFjdDogRGVhY3RpdmF0ZSBvd25lclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkbWluVXNlclNlcnZpY2UuZGVhY3RpdmF0ZShvd25lcklkKTtcblxuICAgICAgICAgIC8vIEFzc2VydDogU2hvdWxkIHN1Y2NlZWRcbiAgICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhPy5zdGF0dXMpLnRvQmUoJ2luYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDEwMCB9XG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbGxvdyBkZWxldGlvbiB3aGVuIG11bHRpcGxlIGFjdGl2ZSBvd25lcnMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMudXVpZCgpLFxuICAgICAgICBmYy5pbnRlZ2VyKHsgbWluOiAyLCBtYXg6IDEwIH0pLCAvLyBOdW1iZXIgb2YgYWN0aXZlIG93bmVyc1xuICAgICAgICBhc3luYyAob3duZXJJZCwgb3duZXJDb3VudCkgPT4ge1xuICAgICAgICAgIC8vIEFycmFuZ2U6IE1vY2sgb3duZXIgd2l0aCBtdWx0aXBsZSBhY3RpdmUgb3duZXJzXG4gICAgICAgICAgbW9ja1N1cGFiYXNlLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogb3duZXJJZCxcbiAgICAgICAgICAgICAgZW1haWw6ICdvd25lckBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgY291bnQ6IG93bmVyQ291bnQsIC8vIE11bHRpcGxlIGFjdGl2ZSBvd25lcnNcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG1vY2tTdXBhYmFzZS5kZWxldGUubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFjdDogRGVsZXRlIG93bmVyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRtaW5Vc2VyU2VydmljZS5kZWxldGUob3duZXJJZCk7XG5cbiAgICAgICAgICAvLyBBc3NlcnQ6IFNob3VsZCBzdWNjZWVkXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWxsb3cgZGVhY3RpdmF0aW9uIG9mIG5vbi1vd25lciBhZG1pbiB1c2VycyByZWdhcmRsZXNzIG9mIGNvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgIGZjLnV1aWQoKSxcbiAgICAgICAgZmMuaW50ZWdlcih7IG1pbjogMCwgbWF4OiAxMCB9KSwgLy8gTnVtYmVyIG9mIGFjdGl2ZSBvd25lcnMgKGRvZXNuJ3QgbWF0dGVyKVxuICAgICAgICBhc3luYyAoYWRtaW5JZCwgb3duZXJDb3VudCkgPT4ge1xuICAgICAgICAgIC8vIEFycmFuZ2U6IE1vY2sgbm9uLW93bmVyIGFkbWluIHVzZXJcbiAgICAgICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlXG4gICAgICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBhZG1pbklkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdhZG1pbicsIC8vIE5vdCBhbiBvd25lclxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICAgIGNvdW50OiBvd25lckNvdW50LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBhZG1pbklkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5hY3RpdmUnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBBY3Q6IERlYWN0aXZhdGUgYWRtaW4gdXNlclxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFkbWluVXNlclNlcnZpY2UuZGVhY3RpdmF0ZShhZG1pbklkKTtcblxuICAgICAgICAgIC8vIEFzc2VydDogU2hvdWxkIHN1Y2NlZWQgKG5vdCBhbiBvd25lciwgc28gbm8gcHJvdGVjdGlvbiBuZWVkZWQpXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uc3RhdHVzKS50b0JlKCdpbmFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY291bnQgb25seSBhY3RpdmUgb3duZXJzIGZvciBwcm90ZWN0aW9uIGNoZWNrJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgIGZjLnV1aWQoKSxcbiAgICAgICAgZmMuaW50ZWdlcih7IG1pbjogMSwgbWF4OiA1IH0pLCAvLyBOdW1iZXIgb2YgaW5hY3RpdmUgb3duZXJzXG4gICAgICAgIGFzeW5jIChvd25lcklkLCBpbmFjdGl2ZU93bmVyQ291bnQpID0+IHtcbiAgICAgICAgICAvLyBBcnJhbmdlOiBNb2NrIGxhc3QgYWN0aXZlIG93bmVyICh3aXRoIGluYWN0aXZlIG93bmVycyBwcmVzZW50KVxuICAgICAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGVcbiAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IG93bmVySWQsXG4gICAgICAgICAgICAgICAgZW1haWw6ICdvd25lckBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgICBjb3VudDogMSwgLy8gT25seSAxIEFDVElWRSBvd25lciAoaW5hY3RpdmUgb3duZXJzIGRvbid0IGNvdW50KVxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWN0OiBBdHRlbXB0IHRvIGRlYWN0aXZhdGUgbGFzdCBhY3RpdmUgb3duZXJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZG1pblVzZXJTZXJ2aWNlLmRlYWN0aXZhdGUob3duZXJJZCk7XG5cbiAgICAgICAgICAvLyBBc3NlcnQ6IFNob3VsZCBmYWlsIGV2ZW4gaWYgaW5hY3RpdmUgb3duZXJzIGV4aXN0XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5jb2RlKS50b0JlKCdGT1JCSURERU4nKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yPy5tZXNzYWdlKS50b0NvbnRhaW4oJ2xhc3Qgb3duZXInKTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMTAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBlZGdlIGNhc2Ugb2YgZXhhY3RseSAyIGFjdGl2ZSBvd25lcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMudHVwbGUoZmMudXVpZCgpLCBmYy51dWlkKCkpLmZpbHRlcigoW2lkMSwgaWQyXSkgPT4gaWQxICE9PSBpZDIpLFxuICAgICAgICBhc3luYyAoW293bmVyMUlkLCBvd25lcjJJZF0pID0+IHtcbiAgICAgICAgICAvLyBBcnJhbmdlOiBNb2NrIGZpcnN0IG93bmVyIHdpdGggZXhhY3RseSAyIGFjdGl2ZSBvd25lcnNcbiAgICAgICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlXG4gICAgICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBvd25lcjFJZCxcbiAgICAgICAgICAgICAgICBlbWFpbDogJ293bmVyMUBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ293bmVyJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgICBjb3VudDogMiwgLy8gRXhhY3RseSAyIGFjdGl2ZSBvd25lcnNcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogb3duZXIxSWQsXG4gICAgICAgICAgICAgICAgZW1haWw6ICdvd25lcjFAZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5hY3RpdmUnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBBY3Q6IERlYWN0aXZhdGUgZmlyc3Qgb3duZXIgKGxlYXZpbmcgMSBhY3RpdmUpXG4gICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IGFkbWluVXNlclNlcnZpY2UuZGVhY3RpdmF0ZShvd25lcjFJZCk7XG5cbiAgICAgICAgICAvLyBBc3NlcnQ6IFNob3VsZCBzdWNjZWVkIChzdGlsbCAxIGFjdGl2ZSBvd25lciByZW1haW5pbmcpXG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDEuc3VjY2VzcykudG9CZSh0cnVlKTtcblxuICAgICAgICAgIC8vIE5vdyBtb2NrIHNlY29uZCBvd25lciBhcyBsYXN0IGFjdGl2ZSBvd25lclxuICAgICAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGVcbiAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6IG93bmVyMklkLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnb3duZXIyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgICByb2xlOiAnb3duZXInLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgICAgIGNvdW50OiAxLCAvLyBOb3cgb25seSAxIGFjdGl2ZSBvd25lclxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQWN0OiBBdHRlbXB0IHRvIGRlYWN0aXZhdGUgbGFzdCBvd25lclxuICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBhZG1pblVzZXJTZXJ2aWNlLmRlYWN0aXZhdGUob3duZXIySWQpO1xuXG4gICAgICAgICAgLy8gQXNzZXJ0OiBTaG91bGQgZmFpbCAobGFzdCBvd25lcilcbiAgICAgICAgICBleHBlY3QocmVzdWx0Mi5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0Mi5lcnJvcj8uY29kZSkudG9CZSgnRk9SQklEREVOJyk7XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDUwIH0gLy8gRmV3ZXIgcnVucyBkdWUgdG8gY29tcGxleCBzZXR1cFxuICAgICk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJtb2NrU3VwYWJhc2UiLCJmcm9tIiwiZm4iLCJtb2NrUmV0dXJuVGhpcyIsInNlbGVjdCIsInVwZGF0ZSIsImRlbGV0ZSIsImVxIiwic2luZ2xlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImNyZWF0ZUNsaWVudCIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0IiwiZmMiLCJhc3NlcnQiLCJhc3luY1Byb3BlcnR5IiwidXVpZCIsIm93bmVySWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJkYXRhIiwiaWQiLCJlbWFpbCIsInJvbGUiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlZF9hdCIsImVycm9yIiwiY291bnQiLCJyZXN1bHQiLCJhZG1pblVzZXJTZXJ2aWNlIiwiZGVhY3RpdmF0ZSIsImV4cGVjdCIsInN1Y2Nlc3MiLCJ0b0JlIiwiY29kZSIsIm1lc3NhZ2UiLCJ0b0NvbnRhaW4iLCJudW1SdW5zIiwibW9ja1JldHVyblZhbHVlT25jZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiaW50ZWdlciIsIm1pbiIsIm1heCIsIm93bmVyQ291bnQiLCJhZG1pbklkIiwiaW5hY3RpdmVPd25lckNvdW50IiwidHVwbGUiLCJmaWx0ZXIiLCJpZDEiLCJpZDIiLCJvd25lcjFJZCIsIm93bmVyMklkIiwicmVzdWx0MSIsInJlc3VsdDIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0NBVUM7QUFNRCxvQkFBb0I7QUFDcEJBLEtBQUtDLElBQUksQ0FBQzs7OzttRUFMVTtrQ0FDYTtnQ0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSzdCLE1BQU1DLGVBQWU7SUFDbkJDLE1BQU1ILEtBQUtJLEVBQUUsR0FBR0MsY0FBYztJQUM5QkMsUUFBUU4sS0FBS0ksRUFBRSxHQUFHQyxjQUFjO0lBQ2hDRSxRQUFRUCxLQUFLSSxFQUFFLEdBQUdDLGNBQWM7SUFDaENHLFFBQVFSLEtBQUtJLEVBQUUsR0FBR0MsY0FBYztJQUNoQ0ksSUFBSVQsS0FBS0ksRUFBRSxHQUFHQyxjQUFjO0lBQzVCSyxRQUFRVixLQUFLSSxFQUFFO0FBQ2pCO0FBRUFPLFNBQVMsNkVBQTZFO0lBQ3BGQyxXQUFXO1FBQ1RaLEtBQUthLGFBQWE7UUFDakJDLDRCQUFZLENBQWVDLGVBQWUsQ0FBQ2I7SUFDOUM7SUFFQWMsR0FBRyxvREFBb0Q7UUFDckQsTUFBTUMsV0FBR0MsTUFBTSxDQUNiRCxXQUFHRSxhQUFhLENBQ2RGLFdBQUdHLElBQUksSUFDUCxPQUFPQztZQUNMLGtDQUFrQztZQUNsQ25CLGFBQWFRLE1BQU0sQ0FDaEJZLHFCQUFxQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSkMsSUFBSUg7b0JBQ0pJLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVCxHQUNDVixxQkFBcUIsQ0FBQztnQkFDckJXLE9BQU87Z0JBQ1BELE9BQU87WUFDVDtZQUVGLHdDQUF3QztZQUN4QyxNQUFNRSxTQUFTLE1BQU1DLGtDQUFnQixDQUFDQyxVQUFVLENBQUNmO1lBRWpELDJDQUEyQztZQUMzQ2dCLE9BQU9ILE9BQU9JLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1lBQzVCRixPQUFPSCxPQUFPRixLQUFLLEVBQUVRLE1BQU1ELElBQUksQ0FBQztZQUNoQ0YsT0FBT0gsT0FBT0YsS0FBSyxFQUFFUyxTQUFTQyxTQUFTLENBQUM7UUFDMUMsSUFFRjtZQUFFQyxTQUFTO1FBQUk7SUFFbkI7SUFFQTNCLEdBQUcsZ0RBQWdEO1FBQ2pELE1BQU1DLFdBQUdDLE1BQU0sQ0FDYkQsV0FBR0UsYUFBYSxDQUNkRixXQUFHRyxJQUFJLElBQ1AsT0FBT0M7WUFDTCxrQ0FBa0M7WUFDbENuQixhQUFhUSxNQUFNLENBQUNZLHFCQUFxQixDQUFDO2dCQUN4Q0MsTUFBTTtvQkFDSkMsSUFBSUg7b0JBQ0pJLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVDtZQUVBOUIsYUFBYUksTUFBTSxDQUFDc0MsbUJBQW1CLENBQUM7Z0JBQ3RDbkMsSUFBSVQsS0FBS0ksRUFBRSxHQUFHQyxjQUFjO2dCQUM1QkssUUFBUVYsS0FBS0ksRUFBRSxHQUFHeUMsaUJBQWlCLENBQUM7b0JBQ2xDWixPQUFPO29CQUNQRCxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxvQ0FBb0M7WUFDcEMsTUFBTUUsU0FBUyxNQUFNQyxrQ0FBZ0IsQ0FBQzNCLE1BQU0sQ0FBQ2E7WUFFN0MsMkNBQTJDO1lBQzNDZ0IsT0FBT0gsT0FBT0ksT0FBTyxFQUFFQyxJQUFJLENBQUM7WUFDNUJGLE9BQU9ILE9BQU9GLEtBQUssRUFBRVEsTUFBTUQsSUFBSSxDQUFDO1lBQ2hDRixPQUFPSCxPQUFPRixLQUFLLEVBQUVTLFNBQVNDLFNBQVMsQ0FBQztRQUMxQyxJQUVGO1lBQUVDLFNBQVM7UUFBSTtJQUVuQjtJQUVBM0IsR0FBRywrREFBK0Q7UUFDaEUsTUFBTUMsV0FBR0MsTUFBTSxDQUNiRCxXQUFHRSxhQUFhLENBQ2RGLFdBQUdHLElBQUksSUFDUEgsV0FBRzZCLE9BQU8sQ0FBQztZQUFFQyxLQUFLO1lBQUdDLEtBQUs7UUFBRyxJQUM3QixPQUFPM0IsU0FBUzRCO1lBQ2Qsa0RBQWtEO1lBQ2xEL0MsYUFBYVEsTUFBTSxDQUNoQlkscUJBQXFCLENBQUM7Z0JBQ3JCQyxNQUFNO29CQUNKQyxJQUFJSDtvQkFDSkksT0FBTztvQkFDUEMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO29CQUNsQ0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO2dCQUNwQztnQkFDQUUsT0FBTztZQUNULEdBQ0NWLHFCQUFxQixDQUFDO2dCQUNyQlcsT0FBT2dCO2dCQUNQakIsT0FBTztZQUNULEdBQ0NWLHFCQUFxQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSkMsSUFBSUg7b0JBQ0pJLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVDtZQUVGLHdCQUF3QjtZQUN4QixNQUFNRSxTQUFTLE1BQU1DLGtDQUFnQixDQUFDQyxVQUFVLENBQUNmO1lBRWpELHlCQUF5QjtZQUN6QmdCLE9BQU9ILE9BQU9JLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1lBQzVCRixPQUFPSCxPQUFPWCxJQUFJLEVBQUVJLFFBQVFZLElBQUksQ0FBQztRQUNuQyxJQUVGO1lBQUVJLFNBQVM7UUFBSTtJQUVuQjtJQUVBM0IsR0FBRywyREFBMkQ7UUFDNUQsTUFBTUMsV0FBR0MsTUFBTSxDQUNiRCxXQUFHRSxhQUFhLENBQ2RGLFdBQUdHLElBQUksSUFDUEgsV0FBRzZCLE9BQU8sQ0FBQztZQUFFQyxLQUFLO1lBQUdDLEtBQUs7UUFBRyxJQUM3QixPQUFPM0IsU0FBUzRCO1lBQ2Qsa0RBQWtEO1lBQ2xEL0MsYUFBYVEsTUFBTSxDQUFDWSxxQkFBcUIsQ0FBQztnQkFDeENDLE1BQU07b0JBQ0pDLElBQUlIO29CQUNKSSxPQUFPO29CQUNQQyxNQUFNO29CQUNOQyxRQUFRO29CQUNSQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7b0JBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7Z0JBQ3BDO2dCQUNBRSxPQUFPO1lBQ1Q7WUFFQTlCLGFBQWFJLE1BQU0sQ0FBQ3NDLG1CQUFtQixDQUFDO2dCQUN0Q25DLElBQUlULEtBQUtJLEVBQUUsR0FBR0MsY0FBYztnQkFDNUJLLFFBQVFWLEtBQUtJLEVBQUUsR0FBR3lDLGlCQUFpQixDQUFDO29CQUNsQ1osT0FBT2dCO29CQUNQakIsT0FBTztnQkFDVDtZQUNGO1lBRUE5QixhQUFhTSxNQUFNLENBQUNvQyxtQkFBbUIsQ0FBQztnQkFDdENuQyxJQUFJVCxLQUFLSSxFQUFFLEdBQUd5QyxpQkFBaUIsQ0FBQztvQkFDOUJiLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLG9CQUFvQjtZQUNwQixNQUFNRSxTQUFTLE1BQU1DLGtDQUFnQixDQUFDM0IsTUFBTSxDQUFDYTtZQUU3Qyx5QkFBeUI7WUFDekJnQixPQUFPSCxPQUFPSSxPQUFPLEVBQUVDLElBQUksQ0FBQztRQUM5QixJQUVGO1lBQUVJLFNBQVM7UUFBSTtJQUVuQjtJQUVBM0IsR0FBRywwRUFBMEU7UUFDM0UsTUFBTUMsV0FBR0MsTUFBTSxDQUNiRCxXQUFHRSxhQUFhLENBQ2RGLFdBQUdHLElBQUksSUFDUEgsV0FBRzZCLE9BQU8sQ0FBQztZQUFFQyxLQUFLO1lBQUdDLEtBQUs7UUFBRyxJQUM3QixPQUFPRSxTQUFTRDtZQUNkLHFDQUFxQztZQUNyQy9DLGFBQWFRLE1BQU0sQ0FDaEJZLHFCQUFxQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSkMsSUFBSTBCO29CQUNKekIsT0FBTztvQkFDUEMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO29CQUNsQ0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO2dCQUNwQztnQkFDQUUsT0FBTztZQUNULEdBQ0NWLHFCQUFxQixDQUFDO2dCQUNyQlcsT0FBT2dCO2dCQUNQakIsT0FBTztZQUNULEdBQ0NWLHFCQUFxQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSkMsSUFBSTBCO29CQUNKekIsT0FBTztvQkFDUEMsTUFBTTtvQkFDTkMsUUFBUTtvQkFDUkMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO29CQUNsQ0MsWUFBWSxJQUFJRixPQUFPQyxXQUFXO2dCQUNwQztnQkFDQUUsT0FBTztZQUNUO1lBRUYsNkJBQTZCO1lBQzdCLE1BQU1FLFNBQVMsTUFBTUMsa0NBQWdCLENBQUNDLFVBQVUsQ0FBQ2M7WUFFakQsaUVBQWlFO1lBQ2pFYixPQUFPSCxPQUFPSSxPQUFPLEVBQUVDLElBQUksQ0FBQztZQUM1QkYsT0FBT0gsT0FBT1gsSUFBSSxFQUFFSSxRQUFRWSxJQUFJLENBQUM7UUFDbkMsSUFFRjtZQUFFSSxTQUFTO1FBQUk7SUFFbkI7SUFFQTNCLEdBQUcsd0RBQXdEO1FBQ3pELE1BQU1DLFdBQUdDLE1BQU0sQ0FDYkQsV0FBR0UsYUFBYSxDQUNkRixXQUFHRyxJQUFJLElBQ1BILFdBQUc2QixPQUFPLENBQUM7WUFBRUMsS0FBSztZQUFHQyxLQUFLO1FBQUUsSUFDNUIsT0FBTzNCLFNBQVM4QjtZQUNkLGlFQUFpRTtZQUNqRWpELGFBQWFRLE1BQU0sQ0FDaEJZLHFCQUFxQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSkMsSUFBSUg7b0JBQ0pJLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVCxHQUNDVixxQkFBcUIsQ0FBQztnQkFDckJXLE9BQU87Z0JBQ1BELE9BQU87WUFDVDtZQUVGLCtDQUErQztZQUMvQyxNQUFNRSxTQUFTLE1BQU1DLGtDQUFnQixDQUFDQyxVQUFVLENBQUNmO1lBRWpELG9EQUFvRDtZQUNwRGdCLE9BQU9ILE9BQU9JLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1lBQzVCRixPQUFPSCxPQUFPRixLQUFLLEVBQUVRLE1BQU1ELElBQUksQ0FBQztZQUNoQ0YsT0FBT0gsT0FBT0YsS0FBSyxFQUFFUyxTQUFTQyxTQUFTLENBQUM7UUFDMUMsSUFFRjtZQUFFQyxTQUFTO1FBQUk7SUFFbkI7SUFFQTNCLEdBQUcsc0RBQXNEO1FBQ3ZELE1BQU1DLFdBQUdDLE1BQU0sQ0FDYkQsV0FBR0UsYUFBYSxDQUNkRixXQUFHbUMsS0FBSyxDQUFDbkMsV0FBR0csSUFBSSxJQUFJSCxXQUFHRyxJQUFJLElBQUlpQyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxJQUFJLEdBQUtELFFBQVFDLE1BQzlELE9BQU8sQ0FBQ0MsVUFBVUMsU0FBUztZQUN6Qix5REFBeUQ7WUFDekR2RCxhQUFhUSxNQUFNLENBQ2hCWSxxQkFBcUIsQ0FBQztnQkFDckJDLE1BQU07b0JBQ0pDLElBQUlnQztvQkFDSi9CLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVCxHQUNDVixxQkFBcUIsQ0FBQztnQkFDckJXLE9BQU87Z0JBQ1BELE9BQU87WUFDVCxHQUNDVixxQkFBcUIsQ0FBQztnQkFDckJDLE1BQU07b0JBQ0pDLElBQUlnQztvQkFDSi9CLE9BQU87b0JBQ1BDLE1BQU07b0JBQ05DLFFBQVE7b0JBQ1JDLFlBQVksSUFBSUMsT0FBT0MsV0FBVztvQkFDbENDLFlBQVksSUFBSUYsT0FBT0MsV0FBVztnQkFDcEM7Z0JBQ0FFLE9BQU87WUFDVDtZQUVGLGlEQUFpRDtZQUNqRCxNQUFNMEIsVUFBVSxNQUFNdkIsa0NBQWdCLENBQUNDLFVBQVUsQ0FBQ29CO1lBRWxELDBEQUEwRDtZQUMxRG5CLE9BQU9xQixRQUFRcEIsT0FBTyxFQUFFQyxJQUFJLENBQUM7WUFFN0IsNkNBQTZDO1lBQzdDckMsYUFBYVEsTUFBTSxDQUNoQlkscUJBQXFCLENBQUM7Z0JBQ3JCQyxNQUFNO29CQUNKQyxJQUFJaUM7b0JBQ0poQyxPQUFPO29CQUNQQyxNQUFNO29CQUNOQyxRQUFRO29CQUNSQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7b0JBQ2xDQyxZQUFZLElBQUlGLE9BQU9DLFdBQVc7Z0JBQ3BDO2dCQUNBRSxPQUFPO1lBQ1QsR0FDQ1YscUJBQXFCLENBQUM7Z0JBQ3JCVyxPQUFPO2dCQUNQRCxPQUFPO1lBQ1Q7WUFFRix3Q0FBd0M7WUFDeEMsTUFBTTJCLFVBQVUsTUFBTXhCLGtDQUFnQixDQUFDQyxVQUFVLENBQUNxQjtZQUVsRCxtQ0FBbUM7WUFDbkNwQixPQUFPc0IsUUFBUXJCLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1lBQzdCRixPQUFPc0IsUUFBUTNCLEtBQUssRUFBRVEsTUFBTUQsSUFBSSxDQUFDO1FBQ25DLElBRUY7WUFBRUksU0FBUztRQUFHLEVBQUUsa0NBQWtDOztJQUV0RDtBQUNGIn0=