1d1f9111dff950bb4236d9b8960f8cd3
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get /**
 * Accommodation Management Page
 * 
 * Provides CRUD interface for managing wedding accommodations with collapsible forms.
 * Features:
 * - Data table with sorting, filtering, and search
 * - Collapsible inline form for create/edit operations
 * - LocationSelector with hierarchical location support
 * - Room types management navigation
 * - Section editor integration
 * - Delete confirmation dialog
 * - Toast notifications for success/error feedback
 * - Real-time data refresh after operations
 * 
 * Requirements: 10.1-10.7, 28.1-28.8
 */ default () {
        return AccommodationsPage;
    },
    get dynamic () {
        return dynamic;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _DataTableWithSuspense = require("../../../components/ui/DataTableWithSuspense");
const _CollapsibleForm = require("../../../components/admin/CollapsibleForm");
const _LocationSelector = require("../../../components/admin/LocationSelector");
const _ConfirmDialog = require("../../../components/ui/ConfirmDialog");
const _Button = require("../../../components/ui/Button");
const _ToastContext = require("../../../components/ui/ToastContext");
const _accommodationSchemas = require("../../../schemas/accommodationSchemas");
const _navigation = require("next/navigation");
const dynamic = 'force-dynamic';
function AccommodationsPage() {
    const { addToast } = (0, _ToastContext.useToast)();
    const router = (0, _navigation.useRouter)();
    // State management
    const [accommodations, setAccommodations] = (0, _react.useState)([]);
    const [locations, setLocations] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [isFormOpen, setIsFormOpen] = (0, _react.useState)(false);
    const [isDeleteDialogOpen, setIsDeleteDialogOpen] = (0, _react.useState)(false);
    const [selectedAccommodation, setSelectedAccommodation] = (0, _react.useState)(null);
    const [accommodationToDelete, setAccommodationToDelete] = (0, _react.useState)(null);
    const [selectedLocationId, setSelectedLocationId] = (0, _react.useState)('');
    // Ref for scrolling to newly created accommodation
    const newAccommodationRef = (0, _react.useRef)(null);
    /**
   * Fetch accommodations from API
   */ const fetchAccommodations = (0, _react.useCallback)(async ()=>{
        try {
            setLoading(true);
            const response = await fetch('/api/admin/accommodations');
            if (!response.ok) {
                throw new Error('Failed to fetch accommodations');
            }
            const result = await response.json();
            if (result.success) {
                setAccommodations(result.data.accommodations || []);
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to load accommodations'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Failed to load accommodations'
            });
        } finally{
            setLoading(false);
        }
    }, [
        addToast
    ]);
    /**
   * Fetch locations for dropdown
   */ const fetchLocations = (0, _react.useCallback)(async ()=>{
        try {
            const response = await fetch('/api/admin/locations');
            if (!response.ok) {
                return;
            }
            const result = await response.json();
            if (result.success) {
                setLocations(result.data.locations || []);
            }
        } catch (error) {
            // Silently fail for locations - not critical
            console.error('Failed to fetch locations:', error);
        }
    }, []);
    // Load data on mount
    (0, _react.useEffect)(()=>{
        fetchAccommodations();
        fetchLocations();
    }, [
        fetchAccommodations,
        fetchLocations
    ]);
    /**
   * Handle row click - open edit form
   */ const handleRowClick = (0, _react.useCallback)((accommodation)=>{
        setSelectedAccommodation(accommodation);
        setSelectedLocationId(accommodation.locationId || '');
        setIsFormOpen(true);
    }, []);
    /**
   * Handle add accommodation button click
   */ const handleAddAccommodation = (0, _react.useCallback)(()=>{
        setSelectedAccommodation(null);
        setSelectedLocationId('');
        setIsFormOpen(true);
    }, []);
    /**
   * Handle delete button click
   */ const handleDeleteClick = (0, _react.useCallback)((accommodation)=>{
        setAccommodationToDelete(accommodation);
        setIsDeleteDialogOpen(true);
    }, []);
    /**
   * Handle room types button click
   */ const handleRoomTypes = (0, _react.useCallback)((accommodation)=>{
        // Navigate to room types page for this accommodation
        router.push(`/admin/accommodations/${accommodation.id}/room-types`);
    }, [
        router
    ]);
    /**
   * Handle manage sections button click
   */ const handleManageSections = (0, _react.useCallback)((accommodation)=>{
        // Navigate to section editor for this accommodation
        router.push(`/admin/accommodations/${accommodation.id}/sections`);
    }, [
        router
    ]);
    /**
   * Handle form submission (create or update)
   */ const handleSubmit = (0, _react.useCallback)(async (data)=>{
        try {
            const isEdit = !!selectedAccommodation;
            // Add selected location to data
            const submitData = {
                ...data,
                locationId: selectedLocationId || null
            };
            const url = isEdit ? `/api/admin/accommodations/${selectedAccommodation.id}` : '/api/admin/accommodations';
            const method = isEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(submitData)
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: isEdit ? 'Accommodation updated successfully' : 'Accommodation created successfully'
                });
                // Store new accommodation ID for scrolling
                if (!isEdit && result.data?.id) {
                    newAccommodationRef.current = result.data.id;
                }
                // Refresh accommodation list
                await fetchAccommodations();
                // Close form
                setIsFormOpen(false);
                setSelectedAccommodation(null);
                setSelectedLocationId('');
                // Scroll to new accommodation after a short delay
                if (newAccommodationRef.current) {
                    setTimeout(()=>{
                        const element = document.querySelector(`[data-row-id="${newAccommodationRef.current}"]`);
                        if (element) {
                            element.scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });
                        }
                        newAccommodationRef.current = null;
                    }, 100);
                }
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Operation failed'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Operation failed'
            });
        }
    }, [
        selectedAccommodation,
        selectedLocationId,
        addToast,
        fetchAccommodations
    ]);
    /**
   * Handle delete confirmation
   */ const handleDeleteConfirm = (0, _react.useCallback)(async ()=>{
        if (!accommodationToDelete) return;
        try {
            const response = await fetch(`/api/admin/accommodations/${accommodationToDelete.id}`, {
                method: 'DELETE'
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: 'Accommodation deleted successfully'
                });
                // Refresh accommodation list
                await fetchAccommodations();
                // Close dialog
                setIsDeleteDialogOpen(false);
                setAccommodationToDelete(null);
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to delete accommodation'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Failed to delete accommodation'
            });
        }
    }, [
        accommodationToDelete,
        addToast,
        fetchAccommodations
    ]);
    /**
   * Format date for display
   */ const formatDate = (dateString)=>{
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
        });
    };
    // Define table columns
    const columns = [
        {
            key: 'name',
            label: 'Name',
            sortable: true
        },
        {
            key: 'locationId',
            label: 'Location',
            sortable: true,
            render: (value)=>{
                if (!value) return '-';
                const location = locations.find((l)=>l.id === value);
                return location?.name || '-';
            }
        },
        {
            key: 'checkInDate',
            label: 'Check-in',
            sortable: true,
            render: (value)=>value ? formatDate(value) : '-'
        },
        {
            key: 'checkOutDate',
            label: 'Check-out',
            sortable: true,
            render: (value)=>value ? formatDate(value) : '-'
        },
        {
            key: 'status',
            label: 'Status',
            sortable: true,
            filterable: true,
            filterType: 'select',
            filterOptions: [
                {
                    label: 'Draft',
                    value: 'draft'
                },
                {
                    label: 'Published',
                    value: 'published'
                }
            ],
            render: (value)=>{
                const labels = {
                    draft: 'Draft',
                    published: 'Published'
                };
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${value === 'draft' ? 'bg-sage-100 text-sage-800' : 'bg-jungle-100 text-jungle-800'}`,
                    children: labels[value] || value
                });
            }
        },
        {
            key: 'actions',
            label: 'Actions',
            sortable: false,
            render: (_, row)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "secondary",
                            size: "sm",
                            onClick: (e)=>{
                                e.stopPropagation();
                                window.location.href = `/guest/accommodation/${row.id}`;
                            },
                            children: "View"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "secondary",
                            size: "sm",
                            onClick: (e)=>{
                                e.stopPropagation();
                                handleRoomTypes(row);
                            },
                            children: "Room Types"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "secondary",
                            size: "sm",
                            onClick: (e)=>{
                                e.stopPropagation();
                                handleManageSections(row);
                            },
                            children: "Manage Sections"
                        })
                    ]
                })
        }
    ];
    // Define form fields
    const formFields = [
        {
            name: 'name',
            label: 'Accommodation Name',
            type: 'text',
            required: true,
            placeholder: 'Enter accommodation name'
        },
        {
            name: 'address',
            label: 'Address',
            type: 'text',
            required: false,
            placeholder: 'Enter address'
        },
        {
            name: 'description',
            label: 'Description',
            type: 'richtext',
            required: false,
            placeholder: 'Enter accommodation description',
            helpText: 'Rich text editor for detailed accommodation description'
        },
        {
            name: 'checkInDate',
            label: 'Check-in Date',
            type: 'date',
            required: false,
            helpText: 'Default check-in date for this accommodation'
        },
        {
            name: 'checkOutDate',
            label: 'Check-out Date',
            type: 'date',
            required: false,
            helpText: 'Default check-out date for this accommodation'
        },
        {
            name: 'status',
            label: 'Status',
            type: 'select',
            required: true,
            options: [
                {
                    label: 'Draft',
                    value: 'draft'
                },
                {
                    label: 'Published',
                    value: 'published'
                }
            ]
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                className: "text-3xl font-bold text-sage-900",
                                children: "Accommodation Management"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sage-600 mt-1",
                                children: "Manage wedding accommodations and lodging"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        variant: "primary",
                        onClick: handleAddAccommodation,
                        "aria-label": "Create new accommodation",
                        "data-action": "add-new",
                        children: "+ Add Accommodation"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_CollapsibleForm.CollapsibleForm, {
                isOpen: isFormOpen,
                onToggle: ()=>{
                    setIsFormOpen(!isFormOpen);
                    if (isFormOpen) {
                        setSelectedAccommodation(null);
                        setSelectedLocationId('');
                    }
                },
                title: selectedAccommodation ? 'Edit Accommodation' : 'Add New Accommodation',
                fields: formFields,
                schema: selectedAccommodation ? _accommodationSchemas.updateAccommodationSchema : _accommodationSchemas.createAccommodationSchema,
                onSubmit: handleSubmit,
                onCancel: ()=>{
                    setIsFormOpen(false);
                    setSelectedAccommodation(null);
                    setSelectedLocationId('');
                },
                initialData: selectedAccommodation || {},
                submitLabel: selectedAccommodation ? 'Update Accommodation' : 'Create Accommodation',
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            className: "block text-sm font-medium text-sage-700 mb-2",
                            children: "Location"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                            locations: locations,
                            selectedLocationId: selectedLocationId,
                            onSelect: setSelectedLocationId,
                            placeholder: "Select accommodation location"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "mt-1 text-sm text-sage-500",
                            children: "Select the location where this accommodation is situated"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_DataTableWithSuspense.DataTableWithSuspense, {
                data: accommodations,
                columns: columns,
                loading: loading,
                onRowClick: handleRowClick,
                onDelete: handleDeleteClick,
                totalCount: accommodations.length,
                currentPage: 1,
                pageSize: 25,
                idField: "id"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_ConfirmDialog.ConfirmDialog, {
                isOpen: isDeleteDialogOpen,
                onClose: ()=>{
                    setIsDeleteDialogOpen(false);
                    setAccommodationToDelete(null);
                },
                onConfirm: handleDeleteConfirm,
                title: "Delete Accommodation",
                message: `Are you sure you want to delete "${accommodationToDelete?.name}"? This will also remove all associated room types. This action cannot be undone.`,
                confirmLabel: "Delete",
                cancelLabel: "Cancel",
                variant: "danger"
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2FjY29tbW9kYXRpb25zL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEYXRhVGFibGVXaXRoU3VzcGVuc2UgYXMgRGF0YVRhYmxlLCB0eXBlIENvbHVtbkRlZiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9EYXRhVGFibGVXaXRoU3VzcGVuc2UnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVGb3JtIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL0NvbGxhcHNpYmxlRm9ybSc7XG5pbXBvcnQgeyBMb2NhdGlvblNlbGVjdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL0xvY2F0aW9uU2VsZWN0b3InO1xuaW1wb3J0IHsgQ29uZmlybURpYWxvZyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Db25maXJtRGlhbG9nJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9CdXR0b24nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvVG9hc3RDb250ZXh0JztcbmltcG9ydCB0eXBlIHsgQWNjb21tb2RhdGlvbiB9IGZyb20gJ0Avc2NoZW1hcy9hY2NvbW1vZGF0aW9uU2NoZW1hcyc7XG5pbXBvcnQgeyBjcmVhdGVBY2NvbW1vZGF0aW9uU2NoZW1hLCB1cGRhdGVBY2NvbW1vZGF0aW9uU2NoZW1hIH0gZnJvbSAnQC9zY2hlbWFzL2FjY29tbW9kYXRpb25TY2hlbWFzJztcbmltcG9ydCB0eXBlIHsgRm9ybUZpZWxkIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0R5bmFtaWNGb3JtJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbmludGVyZmFjZSBMb2NhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgcGFyZW50TG9jYXRpb25JZD86IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogQWNjb21tb2RhdGlvbiBNYW5hZ2VtZW50IFBhZ2VcbiAqIFxuICogUHJvdmlkZXMgQ1JVRCBpbnRlcmZhY2UgZm9yIG1hbmFnaW5nIHdlZGRpbmcgYWNjb21tb2RhdGlvbnMgd2l0aCBjb2xsYXBzaWJsZSBmb3Jtcy5cbiAqIEZlYXR1cmVzOlxuICogLSBEYXRhIHRhYmxlIHdpdGggc29ydGluZywgZmlsdGVyaW5nLCBhbmQgc2VhcmNoXG4gKiAtIENvbGxhcHNpYmxlIGlubGluZSBmb3JtIGZvciBjcmVhdGUvZWRpdCBvcGVyYXRpb25zXG4gKiAtIExvY2F0aW9uU2VsZWN0b3Igd2l0aCBoaWVyYXJjaGljYWwgbG9jYXRpb24gc3VwcG9ydFxuICogLSBSb29tIHR5cGVzIG1hbmFnZW1lbnQgbmF2aWdhdGlvblxuICogLSBTZWN0aW9uIGVkaXRvciBpbnRlZ3JhdGlvblxuICogLSBEZWxldGUgY29uZmlybWF0aW9uIGRpYWxvZ1xuICogLSBUb2FzdCBub3RpZmljYXRpb25zIGZvciBzdWNjZXNzL2Vycm9yIGZlZWRiYWNrXG4gKiAtIFJlYWwtdGltZSBkYXRhIHJlZnJlc2ggYWZ0ZXIgb3BlcmF0aW9uc1xuICogXG4gKiBSZXF1aXJlbWVudHM6IDEwLjEtMTAuNywgMjguMS0yOC44XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFjY29tbW9kYXRpb25zUGFnZSgpIHtcbiAgY29uc3QgeyBhZGRUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIFxuICAvLyBTdGF0ZSBtYW5hZ2VtZW50XG4gIGNvbnN0IFthY2NvbW1vZGF0aW9ucywgc2V0QWNjb21tb2RhdGlvbnNdID0gdXNlU3RhdGU8QWNjb21tb2RhdGlvbltdPihbXSk7XG4gIGNvbnN0IFtsb2NhdGlvbnMsIHNldExvY2F0aW9uc10gPSB1c2VTdGF0ZTxMb2NhdGlvbltdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbaXNGb3JtT3Blbiwgc2V0SXNGb3JtT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0RlbGV0ZURpYWxvZ09wZW4sIHNldElzRGVsZXRlRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZEFjY29tbW9kYXRpb24sIHNldFNlbGVjdGVkQWNjb21tb2RhdGlvbl0gPSB1c2VTdGF0ZTxBY2NvbW1vZGF0aW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFthY2NvbW1vZGF0aW9uVG9EZWxldGUsIHNldEFjY29tbW9kYXRpb25Ub0RlbGV0ZV0gPSB1c2VTdGF0ZTxBY2NvbW1vZGF0aW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZExvY2F0aW9uSWQsIHNldFNlbGVjdGVkTG9jYXRpb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgXG4gIC8vIFJlZiBmb3Igc2Nyb2xsaW5nIHRvIG5ld2x5IGNyZWF0ZWQgYWNjb21tb2RhdGlvblxuICBjb25zdCBuZXdBY2NvbW1vZGF0aW9uUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8qKlxuICAgKiBGZXRjaCBhY2NvbW1vZGF0aW9ucyBmcm9tIEFQSVxuICAgKi9cbiAgY29uc3QgZmV0Y2hBY2NvbW1vZGF0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9hY2NvbW1vZGF0aW9ucycpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBhY2NvbW1vZGF0aW9ucycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0QWNjb21tb2RhdGlvbnMocmVzdWx0LmRhdGEuYWNjb21tb2RhdGlvbnMgfHwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBhY2NvbW1vZGF0aW9ucycsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIGFjY29tbW9kYXRpb25zJyxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFthZGRUb2FzdF0pO1xuXG4gIC8qKlxuICAgKiBGZXRjaCBsb2NhdGlvbnMgZm9yIGRyb3Bkb3duXG4gICAqL1xuICBjb25zdCBmZXRjaExvY2F0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9sb2NhdGlvbnMnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0TG9jYXRpb25zKHJlc3VsdC5kYXRhLmxvY2F0aW9ucyB8fCBbXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNpbGVudGx5IGZhaWwgZm9yIGxvY2F0aW9ucyAtIG5vdCBjcml0aWNhbFxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGxvY2F0aW9uczonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gTG9hZCBkYXRhIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hBY2NvbW1vZGF0aW9ucygpO1xuICAgIGZldGNoTG9jYXRpb25zKCk7XG4gIH0sIFtmZXRjaEFjY29tbW9kYXRpb25zLCBmZXRjaExvY2F0aW9uc10pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgcm93IGNsaWNrIC0gb3BlbiBlZGl0IGZvcm1cbiAgICovXG4gIGNvbnN0IGhhbmRsZVJvd0NsaWNrID0gdXNlQ2FsbGJhY2soKGFjY29tbW9kYXRpb246IEFjY29tbW9kYXRpb24pID0+IHtcbiAgICBzZXRTZWxlY3RlZEFjY29tbW9kYXRpb24oYWNjb21tb2RhdGlvbik7XG4gICAgc2V0U2VsZWN0ZWRMb2NhdGlvbklkKGFjY29tbW9kYXRpb24ubG9jYXRpb25JZCB8fCAnJyk7XG4gICAgc2V0SXNGb3JtT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYWRkIGFjY29tbW9kYXRpb24gYnV0dG9uIGNsaWNrXG4gICAqL1xuICBjb25zdCBoYW5kbGVBZGRBY2NvbW1vZGF0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkQWNjb21tb2RhdGlvbihudWxsKTtcbiAgICBzZXRTZWxlY3RlZExvY2F0aW9uSWQoJycpO1xuICAgIHNldElzRm9ybU9wZW4odHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogSGFuZGxlIGRlbGV0ZSBidXR0b24gY2xpY2tcbiAgICovXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUNsaWNrID0gdXNlQ2FsbGJhY2soKGFjY29tbW9kYXRpb246IEFjY29tbW9kYXRpb24pID0+IHtcbiAgICBzZXRBY2NvbW1vZGF0aW9uVG9EZWxldGUoYWNjb21tb2RhdGlvbik7XG4gICAgc2V0SXNEZWxldGVEaWFsb2dPcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByb29tIHR5cGVzIGJ1dHRvbiBjbGlja1xuICAgKi9cbiAgY29uc3QgaGFuZGxlUm9vbVR5cGVzID0gdXNlQ2FsbGJhY2soKGFjY29tbW9kYXRpb246IEFjY29tbW9kYXRpb24pID0+IHtcbiAgICAvLyBOYXZpZ2F0ZSB0byByb29tIHR5cGVzIHBhZ2UgZm9yIHRoaXMgYWNjb21tb2RhdGlvblxuICAgIHJvdXRlci5wdXNoKGAvYWRtaW4vYWNjb21tb2RhdGlvbnMvJHthY2NvbW1vZGF0aW9uLmlkfS9yb29tLXR5cGVzYCk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICAvKipcbiAgICogSGFuZGxlIG1hbmFnZSBzZWN0aW9ucyBidXR0b24gY2xpY2tcbiAgICovXG4gIGNvbnN0IGhhbmRsZU1hbmFnZVNlY3Rpb25zID0gdXNlQ2FsbGJhY2soKGFjY29tbW9kYXRpb246IEFjY29tbW9kYXRpb24pID0+IHtcbiAgICAvLyBOYXZpZ2F0ZSB0byBzZWN0aW9uIGVkaXRvciBmb3IgdGhpcyBhY2NvbW1vZGF0aW9uXG4gICAgcm91dGVyLnB1c2goYC9hZG1pbi9hY2NvbW1vZGF0aW9ucy8ke2FjY29tbW9kYXRpb24uaWR9L3NlY3Rpb25zYCk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICAvKipcbiAgICogSGFuZGxlIGZvcm0gc3VibWlzc2lvbiAoY3JlYXRlIG9yIHVwZGF0ZSlcbiAgICovXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaXNFZGl0ID0gISFzZWxlY3RlZEFjY29tbW9kYXRpb247XG4gICAgICBcbiAgICAgIC8vIEFkZCBzZWxlY3RlZCBsb2NhdGlvbiB0byBkYXRhXG4gICAgICBjb25zdCBzdWJtaXREYXRhID0ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBsb2NhdGlvbklkOiBzZWxlY3RlZExvY2F0aW9uSWQgfHwgbnVsbCxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHVybCA9IGlzRWRpdCA/IGAvYXBpL2FkbWluL2FjY29tbW9kYXRpb25zLyR7c2VsZWN0ZWRBY2NvbW1vZGF0aW9uLmlkfWAgOiAnL2FwaS9hZG1pbi9hY2NvbW1vZGF0aW9ucyc7XG4gICAgICBjb25zdCBtZXRob2QgPSBpc0VkaXQgPyAnUFVUJyA6ICdQT1NUJztcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc3VibWl0RGF0YSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICBtZXNzYWdlOiBpc0VkaXQgPyAnQWNjb21tb2RhdGlvbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgOiAnQWNjb21tb2RhdGlvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgbmV3IGFjY29tbW9kYXRpb24gSUQgZm9yIHNjcm9sbGluZ1xuICAgICAgICBpZiAoIWlzRWRpdCAmJiByZXN1bHQuZGF0YT8uaWQpIHtcbiAgICAgICAgICBuZXdBY2NvbW1vZGF0aW9uUmVmLmN1cnJlbnQgPSByZXN1bHQuZGF0YS5pZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVmcmVzaCBhY2NvbW1vZGF0aW9uIGxpc3RcbiAgICAgICAgYXdhaXQgZmV0Y2hBY2NvbW1vZGF0aW9ucygpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xvc2UgZm9ybVxuICAgICAgICBzZXRJc0Zvcm1PcGVuKGZhbHNlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRBY2NvbW1vZGF0aW9uKG51bGwpO1xuICAgICAgICBzZXRTZWxlY3RlZExvY2F0aW9uSWQoJycpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHRvIG5ldyBhY2NvbW1vZGF0aW9uIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgaWYgKG5ld0FjY29tbW9kYXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXJvdy1pZD1cIiR7bmV3QWNjb21tb2RhdGlvblJlZi5jdXJyZW50fVwiXWApO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QWNjb21tb2RhdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ09wZXJhdGlvbiBmYWlsZWQnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdPcGVyYXRpb24gZmFpbGVkJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkQWNjb21tb2RhdGlvbiwgc2VsZWN0ZWRMb2NhdGlvbklkLCBhZGRUb2FzdCwgZmV0Y2hBY2NvbW1vZGF0aW9uc10pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgZGVsZXRlIGNvbmZpcm1hdGlvblxuICAgKi9cbiAgY29uc3QgaGFuZGxlRGVsZXRlQ29uZmlybSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWFjY29tbW9kYXRpb25Ub0RlbGV0ZSkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWRtaW4vYWNjb21tb2RhdGlvbnMvJHthY2NvbW1vZGF0aW9uVG9EZWxldGUuaWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgbWVzc2FnZTogJ0FjY29tbW9kYXRpb24gZGVsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZnJlc2ggYWNjb21tb2RhdGlvbiBsaXN0XG4gICAgICAgIGF3YWl0IGZldGNoQWNjb21tb2RhdGlvbnMoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsb3NlIGRpYWxvZ1xuICAgICAgICBzZXRJc0RlbGV0ZURpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICBzZXRBY2NvbW1vZGF0aW9uVG9EZWxldGUobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgYWNjb21tb2RhdGlvbicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBkZWxldGUgYWNjb21tb2RhdGlvbicsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthY2NvbW1vZGF0aW9uVG9EZWxldGUsIGFkZFRvYXN0LCBmZXRjaEFjY29tbW9kYXRpb25zXSk7XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBkYXRlIGZvciBkaXNwbGF5XG4gICAqL1xuICBjb25zdCBmb3JtYXREYXRlID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICBkYXk6ICdudW1lcmljJyxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBEZWZpbmUgdGFibGUgY29sdW1uc1xuICBjb25zdCBjb2x1bW5zOiBDb2x1bW5EZWY8QWNjb21tb2RhdGlvbj5bXSA9IFtcbiAgICB7XG4gICAgICBrZXk6ICduYW1lJyxcbiAgICAgIGxhYmVsOiAnTmFtZScsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2xvY2F0aW9uSWQnLFxuICAgICAgbGFiZWw6ICdMb2NhdGlvbicsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIHJlbmRlcjogKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghdmFsdWUpIHJldHVybiAnLSc7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbG9jYXRpb25zLmZpbmQobCA9PiBsLmlkID09PSB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbj8ubmFtZSB8fCAnLSc7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAga2V5OiAnY2hlY2tJbkRhdGUnLFxuICAgICAgbGFiZWw6ICdDaGVjay1pbicsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIHJlbmRlcjogKHZhbHVlKSA9PiB2YWx1ZSA/IGZvcm1hdERhdGUodmFsdWUgYXMgc3RyaW5nKSA6ICctJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2NoZWNrT3V0RGF0ZScsXG4gICAgICBsYWJlbDogJ0NoZWNrLW91dCcsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIHJlbmRlcjogKHZhbHVlKSA9PiB2YWx1ZSA/IGZvcm1hdERhdGUodmFsdWUgYXMgc3RyaW5nKSA6ICctJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ3N0YXR1cycsXG4gICAgICBsYWJlbDogJ1N0YXR1cycsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIGZpbHRlcmFibGU6IHRydWUsXG4gICAgICBmaWx0ZXJUeXBlOiAnc2VsZWN0JyxcbiAgICAgIGZpbHRlck9wdGlvbnM6IFtcbiAgICAgICAgeyBsYWJlbDogJ0RyYWZ0JywgdmFsdWU6ICdkcmFmdCcgfSxcbiAgICAgICAgeyBsYWJlbDogJ1B1Ymxpc2hlZCcsIHZhbHVlOiAncHVibGlzaGVkJyB9LFxuICAgICAgXSxcbiAgICAgIHJlbmRlcjogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgICBkcmFmdDogJ0RyYWZ0JyxcbiAgICAgICAgICBwdWJsaXNoZWQ6ICdQdWJsaXNoZWQnLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMi41IHB5LTAuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICB2YWx1ZSA9PT0gJ2RyYWZ0J1xuICAgICAgICAgICAgICAgID8gJ2JnLXNhZ2UtMTAwIHRleHQtc2FnZS04MDAnXG4gICAgICAgICAgICAgICAgOiAnYmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS04MDAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGFiZWxzW3ZhbHVlIGFzIHN0cmluZ10gfHwgdmFsdWV9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2FjdGlvbnMnLFxuICAgICAgbGFiZWw6ICdBY3Rpb25zJyxcbiAgICAgIHNvcnRhYmxlOiBmYWxzZSxcbiAgICAgIHJlbmRlcjogKF8sIHJvdykgPT4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvZ3Vlc3QvYWNjb21tb2RhdGlvbi8keyhyb3cgYXMgQWNjb21tb2RhdGlvbikuaWR9YDtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgVmlld1xuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIGhhbmRsZVJvb21UeXBlcyhyb3cgYXMgQWNjb21tb2RhdGlvbik7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIFJvb20gVHlwZXNcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBoYW5kbGVNYW5hZ2VTZWN0aW9ucyhyb3cgYXMgQWNjb21tb2RhdGlvbik7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIE1hbmFnZSBTZWN0aW9uc1xuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICksXG4gICAgfSxcbiAgXTtcblxuICAvLyBEZWZpbmUgZm9ybSBmaWVsZHNcbiAgY29uc3QgZm9ybUZpZWxkczogRm9ybUZpZWxkW10gPSBbXG4gICAge1xuICAgICAgbmFtZTogJ25hbWUnLFxuICAgICAgbGFiZWw6ICdBY2NvbW1vZGF0aW9uIE5hbWUnLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIGFjY29tbW9kYXRpb24gbmFtZScsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnYWRkcmVzcycsXG4gICAgICBsYWJlbDogJ0FkZHJlc3MnLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgcGxhY2Vob2xkZXI6ICdFbnRlciBhZGRyZXNzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsXG4gICAgICBsYWJlbDogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgIHR5cGU6ICdyaWNodGV4dCcsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIGFjY29tbW9kYXRpb24gZGVzY3JpcHRpb24nLFxuICAgICAgaGVscFRleHQ6ICdSaWNoIHRleHQgZWRpdG9yIGZvciBkZXRhaWxlZCBhY2NvbW1vZGF0aW9uIGRlc2NyaXB0aW9uJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdjaGVja0luRGF0ZScsXG4gICAgICBsYWJlbDogJ0NoZWNrLWluIERhdGUnLFxuICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgaGVscFRleHQ6ICdEZWZhdWx0IGNoZWNrLWluIGRhdGUgZm9yIHRoaXMgYWNjb21tb2RhdGlvbicsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnY2hlY2tPdXREYXRlJyxcbiAgICAgIGxhYmVsOiAnQ2hlY2stb3V0IERhdGUnLFxuICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgaGVscFRleHQ6ICdEZWZhdWx0IGNoZWNrLW91dCBkYXRlIGZvciB0aGlzIGFjY29tbW9kYXRpb24nLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3N0YXR1cycsXG4gICAgICBsYWJlbDogJ1N0YXR1cycsXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgb3B0aW9uczogW1xuICAgICAgICB7IGxhYmVsOiAnRHJhZnQnLCB2YWx1ZTogJ2RyYWZ0JyB9LFxuICAgICAgICB7IGxhYmVsOiAnUHVibGlzaGVkJywgdmFsdWU6ICdwdWJsaXNoZWQnIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIF07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIFBhZ2UgSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtc2FnZS05MDBcIj5BY2NvbW1vZGF0aW9uIE1hbmFnZW1lbnQ8L2gxPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2FnZS02MDAgbXQtMVwiPk1hbmFnZSB3ZWRkaW5nIGFjY29tbW9kYXRpb25zIGFuZCBsb2RnaW5nPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRBY2NvbW1vZGF0aW9ufVxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDcmVhdGUgbmV3IGFjY29tbW9kYXRpb25cIlxuICAgICAgICAgIGRhdGEtYWN0aW9uPVwiYWRkLW5ld1wiXG4gICAgICAgID5cbiAgICAgICAgICArIEFkZCBBY2NvbW1vZGF0aW9uXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDb2xsYXBzaWJsZSBGb3JtICovfVxuICAgICAgPENvbGxhcHNpYmxlRm9ybVxuICAgICAgICBpc09wZW49e2lzRm9ybU9wZW59XG4gICAgICAgIG9uVG9nZ2xlPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNGb3JtT3BlbighaXNGb3JtT3Blbik7XG4gICAgICAgICAgaWYgKGlzRm9ybU9wZW4pIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQWNjb21tb2RhdGlvbihudWxsKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTG9jYXRpb25JZCgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICB0aXRsZT17c2VsZWN0ZWRBY2NvbW1vZGF0aW9uID8gJ0VkaXQgQWNjb21tb2RhdGlvbicgOiAnQWRkIE5ldyBBY2NvbW1vZGF0aW9uJ31cbiAgICAgICAgZmllbGRzPXtmb3JtRmllbGRzfVxuICAgICAgICBzY2hlbWE9e3NlbGVjdGVkQWNjb21tb2RhdGlvbiA/IHVwZGF0ZUFjY29tbW9kYXRpb25TY2hlbWEgOiBjcmVhdGVBY2NvbW1vZGF0aW9uU2NoZW1hfVxuICAgICAgICBvblN1Ym1pdD17aGFuZGxlU3VibWl0fVxuICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgIHNldElzRm9ybU9wZW4oZmFsc2UpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQWNjb21tb2RhdGlvbihudWxsKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZExvY2F0aW9uSWQoJycpO1xuICAgICAgICB9fVxuICAgICAgICBpbml0aWFsRGF0YT17c2VsZWN0ZWRBY2NvbW1vZGF0aW9uIHx8IHt9fVxuICAgICAgICBzdWJtaXRMYWJlbD17c2VsZWN0ZWRBY2NvbW1vZGF0aW9uID8gJ1VwZGF0ZSBBY2NvbW1vZGF0aW9uJyA6ICdDcmVhdGUgQWNjb21tb2RhdGlvbid9XG4gICAgICA+XG4gICAgICAgIHsvKiBMb2NhdGlvbiBTZWxlY3RvciAtIEN1c3RvbSBmaWVsZCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1zYWdlLTcwMCBtYi0yXCI+XG4gICAgICAgICAgICBMb2NhdGlvblxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPExvY2F0aW9uU2VsZWN0b3JcbiAgICAgICAgICAgIGxvY2F0aW9ucz17bG9jYXRpb25zfVxuICAgICAgICAgICAgc2VsZWN0ZWRMb2NhdGlvbklkPXtzZWxlY3RlZExvY2F0aW9uSWR9XG4gICAgICAgICAgICBvblNlbGVjdD17c2V0U2VsZWN0ZWRMb2NhdGlvbklkfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYWNjb21tb2RhdGlvbiBsb2NhdGlvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1zYWdlLTUwMFwiPlxuICAgICAgICAgICAgU2VsZWN0IHRoZSBsb2NhdGlvbiB3aGVyZSB0aGlzIGFjY29tbW9kYXRpb24gaXMgc2l0dWF0ZWRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Db2xsYXBzaWJsZUZvcm0+XG5cbiAgICAgIHsvKiBEYXRhIFRhYmxlICovfVxuICAgICAgPERhdGFUYWJsZVxuICAgICAgICBkYXRhPXthY2NvbW1vZGF0aW9uc31cbiAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgb25Sb3dDbGljaz17aGFuZGxlUm93Q2xpY2t9XG4gICAgICAgIG9uRGVsZXRlPXtoYW5kbGVEZWxldGVDbGlja31cbiAgICAgICAgdG90YWxDb3VudD17YWNjb21tb2RhdGlvbnMubGVuZ3RofVxuICAgICAgICBjdXJyZW50UGFnZT17MX1cbiAgICAgICAgcGFnZVNpemU9ezI1fVxuICAgICAgICBpZEZpZWxkPVwiaWRcIlxuICAgICAgLz5cblxuICAgICAgey8qIERlbGV0ZSBDb25maXJtYXRpb24gRGlhbG9nICovfVxuICAgICAgPENvbmZpcm1EaWFsb2dcbiAgICAgICAgaXNPcGVuPXtpc0RlbGV0ZURpYWxvZ09wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICBzZXRJc0RlbGV0ZURpYWxvZ09wZW4oZmFsc2UpO1xuICAgICAgICAgIHNldEFjY29tbW9kYXRpb25Ub0RlbGV0ZShudWxsKTtcbiAgICAgICAgfX1cbiAgICAgICAgb25Db25maXJtPXtoYW5kbGVEZWxldGVDb25maXJtfVxuICAgICAgICB0aXRsZT1cIkRlbGV0ZSBBY2NvbW1vZGF0aW9uXCJcbiAgICAgICAgbWVzc2FnZT17YEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCIke2FjY29tbW9kYXRpb25Ub0RlbGV0ZT8ubmFtZX1cIj8gVGhpcyB3aWxsIGFsc28gcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHJvb20gdHlwZXMuIFRoaXMgYWN0aW9uIGNhbm5vdCBiZSB1bmRvbmUuYH1cbiAgICAgICAgY29uZmlybUxhYmVsPVwiRGVsZXRlXCJcbiAgICAgICAgY2FuY2VsTGFiZWw9XCJDYW5jZWxcIlxuICAgICAgICB2YXJpYW50PVwiZGFuZ2VyXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQWNjb21tb2RhdGlvbnNQYWdlIiwiZHluYW1pYyIsImFkZFRvYXN0IiwidXNlVG9hc3QiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJhY2NvbW1vZGF0aW9ucyIsInNldEFjY29tbW9kYXRpb25zIiwidXNlU3RhdGUiLCJsb2NhdGlvbnMiLCJzZXRMb2NhdGlvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImlzRm9ybU9wZW4iLCJzZXRJc0Zvcm1PcGVuIiwiaXNEZWxldGVEaWFsb2dPcGVuIiwic2V0SXNEZWxldGVEaWFsb2dPcGVuIiwic2VsZWN0ZWRBY2NvbW1vZGF0aW9uIiwic2V0U2VsZWN0ZWRBY2NvbW1vZGF0aW9uIiwiYWNjb21tb2RhdGlvblRvRGVsZXRlIiwic2V0QWNjb21tb2RhdGlvblRvRGVsZXRlIiwic2VsZWN0ZWRMb2NhdGlvbklkIiwic2V0U2VsZWN0ZWRMb2NhdGlvbklkIiwibmV3QWNjb21tb2RhdGlvblJlZiIsInVzZVJlZiIsImZldGNoQWNjb21tb2RhdGlvbnMiLCJ1c2VDYWxsYmFjayIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwidHlwZSIsIm1lc3NhZ2UiLCJlcnJvciIsImZldGNoTG9jYXRpb25zIiwiY29uc29sZSIsInVzZUVmZmVjdCIsImhhbmRsZVJvd0NsaWNrIiwiYWNjb21tb2RhdGlvbiIsImxvY2F0aW9uSWQiLCJoYW5kbGVBZGRBY2NvbW1vZGF0aW9uIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVSb29tVHlwZXMiLCJwdXNoIiwiaWQiLCJoYW5kbGVNYW5hZ2VTZWN0aW9ucyIsImhhbmRsZVN1Ym1pdCIsImlzRWRpdCIsInN1Ym1pdERhdGEiLCJ1cmwiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjdXJyZW50Iiwic2V0VGltZW91dCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJoYW5kbGVEZWxldGVDb25maXJtIiwiZm9ybWF0RGF0ZSIsImRhdGVTdHJpbmciLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInllYXIiLCJtb250aCIsImRheSIsImNvbHVtbnMiLCJrZXkiLCJsYWJlbCIsInNvcnRhYmxlIiwicmVuZGVyIiwidmFsdWUiLCJsb2NhdGlvbiIsImZpbmQiLCJsIiwibmFtZSIsImZpbHRlcmFibGUiLCJmaWx0ZXJUeXBlIiwiZmlsdGVyT3B0aW9ucyIsImxhYmVscyIsImRyYWZ0IiwicHVibGlzaGVkIiwic3BhbiIsImNsYXNzTmFtZSIsIl8iLCJyb3ciLCJkaXYiLCJCdXR0b24iLCJ2YXJpYW50Iiwic2l6ZSIsIm9uQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwid2luZG93IiwiaHJlZiIsImZvcm1GaWVsZHMiLCJyZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwiaGVscFRleHQiLCJvcHRpb25zIiwiaDEiLCJwIiwiYXJpYS1sYWJlbCIsImRhdGEtYWN0aW9uIiwiQ29sbGFwc2libGVGb3JtIiwiaXNPcGVuIiwib25Ub2dnbGUiLCJ0aXRsZSIsImZpZWxkcyIsInNjaGVtYSIsInVwZGF0ZUFjY29tbW9kYXRpb25TY2hlbWEiLCJjcmVhdGVBY2NvbW1vZGF0aW9uU2NoZW1hIiwib25TdWJtaXQiLCJvbkNhbmNlbCIsImluaXRpYWxEYXRhIiwic3VibWl0TGFiZWwiLCJMb2NhdGlvblNlbGVjdG9yIiwib25TZWxlY3QiLCJEYXRhVGFibGUiLCJvblJvd0NsaWNrIiwib25EZWxldGUiLCJ0b3RhbENvdW50IiwibGVuZ3RoIiwiY3VycmVudFBhZ2UiLCJwYWdlU2l6ZSIsImlkRmllbGQiLCJDb25maXJtRGlhbG9nIiwib25DbG9zZSIsIm9uQ29uZmlybSIsImNvbmZpcm1MYWJlbCIsImNhbmNlbExhYmVsIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O1FBc0JBOzs7Ozs7Ozs7Ozs7Ozs7Q0FlQyxHQUNEO2VBQXdCQTs7UUFwQ1hDO2VBQUFBOzs7O3VCQUU0Qzt1Q0FDVTtpQ0FDbkM7a0NBQ0M7K0JBQ0g7d0JBQ1A7OEJBQ0U7c0NBRTRDOzRCQUUzQztBQVpuQixNQUFNQSxVQUFVO0FBb0NSLFNBQVNEO0lBQ3RCLE1BQU0sRUFBRUUsUUFBUSxFQUFFLEdBQUdDLElBQUFBLHNCQUFRO0lBQzdCLE1BQU1DLFNBQVNDLElBQUFBLHFCQUFTO0lBRXhCLG1CQUFtQjtJQUNuQixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdDLElBQUFBLGVBQVEsRUFBa0IsRUFBRTtJQUN4RSxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR0YsSUFBQUEsZUFBUSxFQUFhLEVBQUU7SUFDekQsTUFBTSxDQUFDRyxTQUFTQyxXQUFXLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNLLFlBQVlDLGNBQWMsR0FBR04sSUFBQUEsZUFBUSxFQUFDO0lBQzdDLE1BQU0sQ0FBQ08sb0JBQW9CQyxzQkFBc0IsR0FBR1IsSUFBQUEsZUFBUSxFQUFDO0lBQzdELE1BQU0sQ0FBQ1MsdUJBQXVCQyx5QkFBeUIsR0FBR1YsSUFBQUEsZUFBUSxFQUF1QjtJQUN6RixNQUFNLENBQUNXLHVCQUF1QkMseUJBQXlC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