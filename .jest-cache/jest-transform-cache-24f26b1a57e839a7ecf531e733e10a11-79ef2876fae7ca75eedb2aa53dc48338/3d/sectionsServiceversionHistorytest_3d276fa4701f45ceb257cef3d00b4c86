012d5f99f9a189a7f11ccf340c0a6207
"use strict";
// Mock Supabase
jest.mock('../lib/supabase', ()=>({
        supabase: {
            from: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _sectionsService = require("./sectionsService");
const { supabase } = require('../lib/supabase');
describe('sectionsService - Version History', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('getVersionHistory', ()=>{
        it('should return success with version history when versions exist', async ()=>{
            const mockVersions = [
                {
                    id: 'version-1',
                    page_type: 'custom',
                    page_id: 'page-1',
                    created_by: 'user-1',
                    sections_snapshot: [],
                    created_at: '2025-01-27T12:00:00Z'
                },
                {
                    id: 'version-2',
                    page_type: 'custom',
                    page_id: 'page-1',
                    created_by: 'user-1',
                    sections_snapshot: [],
                    created_at: '2025-01-27T11:00:00Z'
                }
            ];
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue({
                            data: mockVersions,
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.getVersionHistory)('page-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(2);
                expect(result.data[0].id).toBe('version-1');
                expect(result.data[1].id).toBe('version-2');
            }
        });
        it('should return success with empty array when no versions exist', async ()=>{
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue({
                            data: [],
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.getVersionHistory)('page-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toEqual([]);
            }
        });
        it('should return DATABASE_ERROR when query fails', async ()=>{
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                message: 'Database connection failed'
                            }
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.getVersionHistory)('page-1');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Database connection failed');
            }
        });
        it('should order versions by created_at descending', async ()=>{
            const orderMock = jest.fn().mockResolvedValue({
                data: [],
                error: null
            });
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        order: orderMock
                    })
                })
            });
            await (0, _sectionsService.getVersionHistory)('page-1');
            expect(orderMock).toHaveBeenCalledWith('created_at', {
                ascending: false
            });
        });
    });
    describe('createVersionSnapshot', ()=>{
        it('should return success with created version when snapshot is created', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    page_type: 'custom',
                    page_id: 'page-1',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            section_id: 'section-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            // Mock listSections - sections call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            order: jest.fn().mockResolvedValue({
                                data: [
                                    mockSections[0]
                                ],
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock listSections - columns call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    in: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue({
                            data: mockSections[0].columns,
                            error: null
                        })
                    })
                })
            });
            // Mock insert
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: 'version-1',
                                page_type: 'custom',
                                page_id: 'page-1',
                                created_by: 'user-1',
                                sections_snapshot: mockSections,
                                created_at: '2025-01-27T12:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.createVersionSnapshot)('custom', 'page-1', 'user-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.id).toBe('version-1');
                expect(result.data.page_type).toBe('custom');
                expect(result.data.page_id).toBe('page-1');
                expect(result.data.created_by).toBe('user-1');
                expect(result.data.sections_snapshot).toEqual(mockSections);
            }
        });
        it('should handle null userId when creating snapshot', async ()=>{
            // Mock listSections - sections call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            order: jest.fn().mockResolvedValue({
                                data: [],
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock listSections - columns call (no columns since no sections)
            // This won't be called since sections is empty
            // Mock insert
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: 'version-1',
                                page_type: 'custom',
                                page_id: 'page-1',
                                created_by: null,
                                sections_snapshot: [],
                                created_at: '2025-01-27T12:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.createVersionSnapshot)('custom', 'page-1', null);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.created_by).toBeNull();
            }
        });
        it('should return DATABASE_ERROR when listSections fails', async ()=>{
            // Mock listSections failure
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            order: jest.fn().mockResolvedValue({
                                data: null,
                                error: {
                                    message: 'Failed to fetch sections'
                                }
                            })
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.createVersionSnapshot)('custom', 'page-1', 'user-1');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Failed to fetch sections');
            }
        });
        it('should return DATABASE_ERROR when insert fails', async ()=>{
            // Mock listSections - sections call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            order: jest.fn().mockResolvedValue({
                                data: [],
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock insert failure
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                message: 'Insert failed'
                            }
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.createVersionSnapshot)('custom', 'page-1', 'user-1');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Insert failed');
            }
        });
        it('should capture complete section snapshot with columns', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    page_type: 'custom',
                    page_id: 'page-1',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            section_id: 'section-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Column 1</p>'
                            }
                        },
                        {
                            id: 'col-2',
                            section_id: 'section-1',
                            column_number: 2,
                            content_type: 'photos',
                            content_data: {
                                photos: [
                                    'photo1.jpg'
                                ]
                            }
                        }
                    ]
                }
            ];
            // Mock listSections - sections call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            order: jest.fn().mockResolvedValue({
                                data: [
                                    mockSections[0]
                                ],
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock listSections - columns call
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    in: jest.fn().mockReturnValue({
                        order: jest.fn().mockResolvedValue({
                            data: mockSections[0].columns,
                            error: null
                        })
                    })
                })
            });
            const insertMock = jest.fn().mockReturnValue({
                select: jest.fn().mockReturnValue({
                    single: jest.fn().mockResolvedValue({
                        data: {
                            id: 'version-1',
                            page_type: 'custom',
                            page_id: 'page-1',
                            created_by: 'user-1',
                            sections_snapshot: mockSections,
                            created_at: '2025-01-27T12:00:00Z'
                        },
                        error: null
                    })
                })
            });
            // Mock insert
            supabase.from.mockReturnValueOnce({
                insert: insertMock
            });
            const result = await (0, _sectionsService.createVersionSnapshot)('custom', 'page-1', 'user-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.sections_snapshot).toHaveLength(1);
                expect(result.data.sections_snapshot[0].columns).toHaveLength(2);
            }
            // Verify insert was called with sections_snapshot
            expect(insertMock).toHaveBeenCalledWith({
                page_type: 'custom',
                page_id: 'page-1',
                created_by: 'user-1',
                sections_snapshot: mockSections
            });
        });
    });
    describe('revertToVersion', ()=>{
        it('should return NOT_FOUND when version does not exist', async ()=>{
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: null,
                                error: {
                                    code: 'PGRST116',
                                    message: 'Version not found'
                                }
                            })
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.revertToVersion)('page-1', 'invalid-version');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('NOT_FOUND');
            }
        });
        it('should verify version belongs to correct page', async ()=>{
            const eqPageIdMock = jest.fn().mockReturnValue({
                single: jest.fn().mockResolvedValue({
                    data: null,
                    error: {
                        code: 'PGRST116',
                        message: 'Not found'
                    }
                })
            });
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: eqPageIdMock
                    })
                })
            });
            await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            // Verify eq was called with page_id
            expect(eqPageIdMock).toHaveBeenCalled();
        });
        it('should return success with restored sections when revert succeeds', async ()=>{
            const mockVersion = {
                id: 'version-1',
                page_type: 'custom',
                page_id: 'page-1',
                created_by: 'user-1',
                sections_snapshot: [
                    {
                        id: 'old-section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        display_order: 0,
                        columns: [
                            {
                                id: 'old-col-1',
                                section_id: 'old-section-1',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Old content</p>'
                                }
                            }
                        ]
                    }
                ],
                created_at: '2025-01-27T12:00:00Z'
            };
            // Mock get version
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: mockVersion,
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock delete current sections
            supabase.from.mockReturnValueOnce({
                delete: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockResolvedValue({
                            error: null
                        })
                    })
                })
            });
            // Mock createSection - insert section
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: 'new-section-1',
                                page_type: 'custom',
                                page_id: 'page-1',
                                display_order: 0
                            },
                            error: null
                        })
                    })
                })
            });
            // Mock createSection - insert columns
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: 'new-col-1',
                                section_id: 'new-section-1',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Old content</p>'
                                }
                            }
                        ],
                        error: null
                    })
                })
            });
            const result = await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(1);
                expect(result.data[0].columns).toHaveLength(1);
                expect(result.data[0].columns[0].content_data).toEqual({
                    html: '<p>Old content</p>'
                });
            }
        });
        it('should delete current sections before restoring', async ()=>{
            const mockVersion = {
                id: 'version-1',
                page_type: 'custom',
                page_id: 'page-1',
                created_by: 'user-1',
                sections_snapshot: [],
                created_at: '2025-01-27T12:00:00Z'
            };
            // Mock get version
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: mockVersion,
                                error: null
                            })
                        })
                    })
                })
            });
            const eqPageTypeMock = jest.fn().mockReturnValue({
                eq: jest.fn().mockResolvedValue({
                    error: null
                })
            });
            const deleteMock = jest.fn().mockReturnValue({
                eq: eqPageTypeMock
            });
            // Mock delete current sections
            supabase.from.mockReturnValueOnce({
                delete: deleteMock
            });
            await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            expect(deleteMock).toHaveBeenCalled();
            expect(eqPageTypeMock).toHaveBeenCalledWith('page_type', 'custom');
        });
        it('should return DATABASE_ERROR when delete fails', async ()=>{
            const mockVersion = {
                id: 'version-1',
                page_type: 'custom',
                page_id: 'page-1',
                created_by: 'user-1',
                sections_snapshot: [],
                created_at: '2025-01-27T12:00:00Z'
            };
            // Mock get version
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: mockVersion,
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock delete failure
            supabase.from.mockReturnValueOnce({
                delete: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockResolvedValue({
                            error: {
                                message: 'Delete failed'
                            }
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Delete failed');
            }
        });
        it('should restore multiple sections with correct order', async ()=>{
            const mockVersion = {
                id: 'version-1',
                page_type: 'custom',
                page_id: 'page-1',
                created_by: 'user-1',
                sections_snapshot: [
                    {
                        id: 'old-section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        display_order: 0,
                        columns: [
                            {
                                id: 'old-col-1',
                                section_id: 'old-section-1',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Section 1</p>'
                                }
                            }
                        ]
                    },
                    {
                        id: 'old-section-2',
                        page_type: 'custom',
                        page_id: 'page-1',
                        display_order: 1,
                        columns: [
                            {
                                id: 'old-col-2',
                                section_id: 'old-section-2',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Section 2</p>'
                                }
                            }
                        ]
                    }
                ],
                created_at: '2025-01-27T12:00:00Z'
            };
            // Mock get version
            supabase.from.mockReturnValueOnce({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: mockVersion,
                                error: null
                            })
                        })
                    })
                })
            });
            // Mock delete current sections
            supabase.from.mockReturnValueOnce({
                delete: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockResolvedValue({
                            error: null
                        })
                    })
                })
            });
            // Mock createSection for first section - insert section
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: 'new-section-1',
                                page_type: 'custom',
                                page_id: 'page-1',
                                display_order: 0
                            },
                            error: null
                        })
                    })
                })
            });
            // Mock createSection for first section - insert columns
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: 'new-col-1',
                                section_id: 'new-section-1',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Section 1</p>'
                                }
                            }
                        ],
                        error: null
                    })
                })
            });
            // Mock createSection for second section - insert section
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: 'new-section-2',
                                page_type: 'custom',
                                page_id: 'page-1',
                                display_order: 1
                            },
                            error: null
                        })
                    })
                })
            });
            // Mock createSection for second section - insert columns
            supabase.from.mockReturnValueOnce({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: 'new-col-2',
                                section_id: 'new-section-2',
                                column_number: 1,
                                content_type: 'rich_text',
                                content_data: {
                                    html: '<p>Section 2</p>'
                                }
                            }
                        ],
                        error: null
                    })
                })
            });
            const result = await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(2);
                expect(result.data[0].display_order).toBe(0);
                expect(result.data[1].display_order).toBe(1);
            }
        });
        it('should return DATABASE_ERROR when version fetch fails', async ()=>{
            supabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: null,
                                error: {
                                    message: 'Database error'
                                }
                            })
                        })
                    })
                })
            });
            const result = await (0, _sectionsService.revertToVersion)('page-1', 'version-1');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvc2VjdGlvbnNTZXJ2aWNlLnZlcnNpb25IaXN0b3J5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2V0VmVyc2lvbkhpc3RvcnksXG4gIGNyZWF0ZVZlcnNpb25TbmFwc2hvdCxcbiAgcmV2ZXJ0VG9WZXJzaW9uLFxuICBsaXN0U2VjdGlvbnMsXG4gIGNyZWF0ZVNlY3Rpb24sXG59IGZyb20gJy4vc2VjdGlvbnNTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgQ29udGVudFZlcnNpb24gfSBmcm9tICcuLi9zY2hlbWFzL2Ntc1NjaGVtYXMnO1xuXG4vLyBNb2NrIFN1cGFiYXNlXG5qZXN0Lm1vY2soJy4uL2xpYi9zdXBhYmFzZScsICgpID0+ICh7XG4gIHN1cGFiYXNlOiB7XG4gICAgZnJvbTogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5jb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCcuLi9saWIvc3VwYWJhc2UnKTtcblxuZGVzY3JpYmUoJ3NlY3Rpb25zU2VydmljZSAtIFZlcnNpb24gSGlzdG9yeScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRWZXJzaW9uSGlzdG9yeScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBzdWNjZXNzIHdpdGggdmVyc2lvbiBoaXN0b3J5IHdoZW4gdmVyc2lvbnMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVmVyc2lvbnM6IENvbnRlbnRWZXJzaW9uW10gPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3ZlcnNpb24tMScsXG4gICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICBjcmVhdGVkX2J5OiAndXNlci0xJyxcbiAgICAgICAgICBzZWN0aW9uc19zbmFwc2hvdDogW10sXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMjdUMTI6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAndmVyc2lvbi0yJyxcbiAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIGNyZWF0ZWRfYnk6ICd1c2VyLTEnLFxuICAgICAgICAgIHNlY3Rpb25zX3NuYXBzaG90OiBbXSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0yN1QxMTowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiBtb2NrVmVyc2lvbnMsXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFZlcnNpb25IaXN0b3J5KCdwYWdlLTEnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0uaWQpLnRvQmUoJ3ZlcnNpb24tMScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMV0uaWQpLnRvQmUoJ3ZlcnNpb24tMicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIGVtcHR5IGFycmF5IHdoZW4gbm8gdmVyc2lvbnMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRWZXJzaW9uSGlzdG9yeSgncGFnZS0xJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwoW10pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiBxdWVyeSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFZlcnNpb25IaXN0b3J5KCdwYWdlLTEnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQmUoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG9yZGVyIHZlcnNpb25zIGJ5IGNyZWF0ZWRfYXQgZGVzY2VuZGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9yZGVyTW9jayA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0gYXMgYW55KTtcblxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIG9yZGVyOiBvcmRlck1vY2ssXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGdldFZlcnNpb25IaXN0b3J5KCdwYWdlLTEnKTtcblxuICAgICAgZXhwZWN0KG9yZGVyTW9jaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGVWZXJzaW9uU25hcHNob3QnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIGNyZWF0ZWQgdmVyc2lvbiB3aGVuIHNuYXBzaG90IGlzIGNyZWF0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICAvLyBNb2NrIGxpc3RTZWN0aW9ucyAtIHNlY3Rpb25zIGNhbGxcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbbW9ja1NlY3Rpb25zWzBdXSxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBsaXN0U2VjdGlvbnMgLSBjb2x1bW5zIGNhbGxcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IG1vY2tTZWN0aW9uc1swXS5jb2x1bW5zLFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGluc2VydFxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICd2ZXJzaW9uLTEnLFxuICAgICAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieTogJ3VzZXItMScsXG4gICAgICAgICAgICAgICAgc2VjdGlvbnNfc25hcHNob3Q6IG1vY2tTZWN0aW9ucyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0yN1QxMjowMDowMFonLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVWZXJzaW9uU25hcHNob3QoJ2N1c3RvbScsICdwYWdlLTEnLCAndXNlci0xJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuaWQpLnRvQmUoJ3ZlcnNpb24tMScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnZV90eXBlKS50b0JlKCdjdXN0b20nKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2VfaWQpLnRvQmUoJ3BhZ2UtMScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuY3JlYXRlZF9ieSkudG9CZSgndXNlci0xJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zZWN0aW9uc19zbmFwc2hvdCkudG9FcXVhbChtb2NrU2VjdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCB1c2VySWQgd2hlbiBjcmVhdGluZyBzbmFwc2hvdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbGlzdFNlY3Rpb25zIC0gc2VjdGlvbnMgY2FsbFxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGxpc3RTZWN0aW9ucyAtIGNvbHVtbnMgY2FsbCAobm8gY29sdW1ucyBzaW5jZSBubyBzZWN0aW9ucylcbiAgICAgIC8vIFRoaXMgd29uJ3QgYmUgY2FsbGVkIHNpbmNlIHNlY3Rpb25zIGlzIGVtcHR5XG5cbiAgICAgIC8vIE1vY2sgaW5zZXJ0XG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJ3ZlcnNpb24tMScsXG4gICAgICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5OiBudWxsLFxuICAgICAgICAgICAgICAgIHNlY3Rpb25zX3NuYXBzaG90OiBbXSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0yN1QxMjowMDowMFonLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVWZXJzaW9uU25hcHNob3QoJ2N1c3RvbScsICdwYWdlLTEnLCBudWxsKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5jcmVhdGVkX2J5KS50b0JlTnVsbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiBsaXN0U2VjdGlvbnMgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGxpc3RTZWN0aW9ucyBmYWlsdXJlXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHNlY3Rpb25zJyB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVWZXJzaW9uU25hcHNob3QoJ2N1c3RvbScsICdwYWdlLTEnLCAndXNlci0xJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5tZXNzYWdlKS50b0JlKCdGYWlsZWQgdG8gZmV0Y2ggc2VjdGlvbnMnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIERBVEFCQVNFX0VSUk9SIHdoZW4gaW5zZXJ0IGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBsaXN0U2VjdGlvbnMgLSBzZWN0aW9ucyBjYWxsXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgaW5zZXJ0IGZhaWx1cmVcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0luc2VydCBmYWlsZWQnIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlVmVyc2lvblNuYXBzaG90KCdjdXN0b20nLCAncGFnZS0xJywgJ3VzZXItMScpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IubWVzc2FnZSkudG9CZSgnSW5zZXJ0IGZhaWxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYXB0dXJlIGNvbXBsZXRlIHNlY3Rpb24gc25hcHNob3Qgd2l0aCBjb2x1bW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5Db2x1bW4gMTwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0yJyxcbiAgICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDIsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3Bob3RvcycsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBwaG90b3M6IFsncGhvdG8xLmpwZyddIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICAvLyBNb2NrIGxpc3RTZWN0aW9ucyAtIHNlY3Rpb25zIGNhbGxcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBbbW9ja1NlY3Rpb25zWzBdXSxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBsaXN0U2VjdGlvbnMgLSBjb2x1bW5zIGNhbGxcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IG1vY2tTZWN0aW9uc1swXS5jb2x1bW5zLFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBpbnNlcnRNb2NrID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogJ3ZlcnNpb24tMScsXG4gICAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgICBjcmVhdGVkX2J5OiAndXNlci0xJyxcbiAgICAgICAgICAgICAgc2VjdGlvbnNfc25hcHNob3Q6IG1vY2tTZWN0aW9ucyxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMjdUMTI6MDA6MDBaJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBpbnNlcnRcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIGluc2VydDogaW5zZXJ0TW9jayxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVWZXJzaW9uU25hcHNob3QoJ2N1c3RvbScsICdwYWdlLTEnLCAndXNlci0xJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuc2VjdGlvbnNfc25hcHNob3QpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnNlY3Rpb25zX3NuYXBzaG90WzBdLmNvbHVtbnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IGluc2VydCB3YXMgY2FsbGVkIHdpdGggc2VjdGlvbnNfc25hcHNob3RcbiAgICAgIGV4cGVjdChpbnNlcnRNb2NrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICBjcmVhdGVkX2J5OiAndXNlci0xJyxcbiAgICAgICAgc2VjdGlvbnNfc25hcHNob3Q6IG1vY2tTZWN0aW9ucyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmV2ZXJ0VG9WZXJzaW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIE5PVF9GT1VORCB3aGVuIHZlcnNpb24gZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnLCBtZXNzYWdlOiAnVmVyc2lvbiBub3QgZm91bmQnIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJldmVydFRvVmVyc2lvbigncGFnZS0xJywgJ2ludmFsaWQtdmVyc2lvbicpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ05PVF9GT1VORCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgdmVyc2lvbiBiZWxvbmdzIHRvIGNvcnJlY3QgcGFnZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVxUGFnZUlkTW9jayA9IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnLCBtZXNzYWdlOiAnTm90IGZvdW5kJyB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgZXE6IGVxUGFnZUlkTW9jayxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcmV2ZXJ0VG9WZXJzaW9uKCdwYWdlLTEnLCAndmVyc2lvbi0xJyk7XG5cbiAgICAgIC8vIFZlcmlmeSBlcSB3YXMgY2FsbGVkIHdpdGggcGFnZV9pZFxuICAgICAgZXhwZWN0KGVxUGFnZUlkTW9jaykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIHJlc3RvcmVkIHNlY3Rpb25zIHdoZW4gcmV2ZXJ0IHN1Y2NlZWRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZlcnNpb24gPSB7XG4gICAgICAgIGlkOiAndmVyc2lvbi0xJyxcbiAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgIGNyZWF0ZWRfYnk6ICd1c2VyLTEnLFxuICAgICAgICBzZWN0aW9uc19zbmFwc2hvdDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnb2xkLXNlY3Rpb24tMScsXG4gICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdvbGQtY29sLTEnLFxuICAgICAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdvbGQtc2VjdGlvbi0xJyxcbiAgICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5PbGQgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTI3VDEyOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGdldCB2ZXJzaW9uXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IG1vY2tWZXJzaW9uLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGRlbGV0ZSBjdXJyZW50IHNlY3Rpb25zXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGNyZWF0ZVNlY3Rpb24gLSBpbnNlcnQgc2VjdGlvblxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICduZXctc2VjdGlvbi0xJyxcbiAgICAgICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgY3JlYXRlU2VjdGlvbiAtIGluc2VydCBjb2x1bW5zXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbmV3LWNvbC0xJyxcbiAgICAgICAgICAgICAgICBzZWN0aW9uX2lkOiAnbmV3LXNlY3Rpb24tMScsXG4gICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+T2xkIGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlcnRUb1ZlcnNpb24oJ3BhZ2UtMScsICd2ZXJzaW9uLTEnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0uY29sdW1ucykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0uY29sdW1uc1swXS5jb250ZW50X2RhdGEpLnRvRXF1YWwoeyBodG1sOiAnPHA+T2xkIGNvbnRlbnQ8L3A+JyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGVsZXRlIGN1cnJlbnQgc2VjdGlvbnMgYmVmb3JlIHJlc3RvcmluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tWZXJzaW9uID0ge1xuICAgICAgICBpZDogJ3ZlcnNpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICBjcmVhdGVkX2J5OiAndXNlci0xJyxcbiAgICAgICAgc2VjdGlvbnNfc25hcHNob3Q6IFtdLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0yN1QxMjowMDowMFonLFxuICAgICAgfTtcblxuICAgICAgLy8gTW9jayBnZXQgdmVyc2lvblxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBtb2NrVmVyc2lvbixcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZXFQYWdlVHlwZU1vY2sgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZU1vY2sgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZXE6IGVxUGFnZVR5cGVNb2NrLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgZGVsZXRlIGN1cnJlbnQgc2VjdGlvbnNcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlT25jZSh7XG4gICAgICAgIGRlbGV0ZTogZGVsZXRlTW9jayxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCByZXZlcnRUb1ZlcnNpb24oJ3BhZ2UtMScsICd2ZXJzaW9uLTEnKTtcblxuICAgICAgZXhwZWN0KGRlbGV0ZU1vY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChlcVBhZ2VUeXBlTW9jaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3BhZ2VfdHlwZScsICdjdXN0b20nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIERBVEFCQVNFX0VSUk9SIHdoZW4gZGVsZXRlIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1ZlcnNpb24gPSB7XG4gICAgICAgIGlkOiAndmVyc2lvbi0xJyxcbiAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgIGNyZWF0ZWRfYnk6ICd1c2VyLTEnLFxuICAgICAgICBzZWN0aW9uc19zbmFwc2hvdDogW10sXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTI3VDEyOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGdldCB2ZXJzaW9uXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IG1vY2tWZXJzaW9uLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGRlbGV0ZSBmYWlsdXJlXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGVsZXRlIGZhaWxlZCcgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlcnRUb1ZlcnNpb24oJ3BhZ2UtMScsICd2ZXJzaW9uLTEnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQmUoJ0RlbGV0ZSBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVzdG9yZSBtdWx0aXBsZSBzZWN0aW9ucyB3aXRoIGNvcnJlY3Qgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrVmVyc2lvbiA9IHtcbiAgICAgICAgaWQ6ICd2ZXJzaW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgY3JlYXRlZF9ieTogJ3VzZXItMScsXG4gICAgICAgIHNlY3Rpb25zX3NuYXBzaG90OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdvbGQtc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ29sZC1jb2wtMScsXG4gICAgICAgICAgICAgICAgc2VjdGlvbl9pZDogJ29sZC1zZWN0aW9uLTEnLFxuICAgICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlNlY3Rpb24gMTwvcD4nIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdvbGQtc2VjdGlvbi0yJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDEsXG4gICAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ29sZC1jb2wtMicsXG4gICAgICAgICAgICAgICAgc2VjdGlvbl9pZDogJ29sZC1zZWN0aW9uLTInLFxuICAgICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlNlY3Rpb24gMjwvcD4nIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTI3VDEyOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGdldCB2ZXJzaW9uXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IG1vY2tWZXJzaW9uLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGRlbGV0ZSBjdXJyZW50IHNlY3Rpb25zXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGNyZWF0ZVNlY3Rpb24gZm9yIGZpcnN0IHNlY3Rpb24gLSBpbnNlcnQgc2VjdGlvblxuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICduZXctc2VjdGlvbi0xJyxcbiAgICAgICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgY3JlYXRlU2VjdGlvbiBmb3IgZmlyc3Qgc2VjdGlvbiAtIGluc2VydCBjb2x1bW5zXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbmV3LWNvbC0xJyxcbiAgICAgICAgICAgICAgICBzZWN0aW9uX2lkOiAnbmV3LXNlY3Rpb24tMScsXG4gICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+U2VjdGlvbiAxPC9wPicgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBjcmVhdGVTZWN0aW9uIGZvciBzZWNvbmQgc2VjdGlvbiAtIGluc2VydCBzZWN0aW9uXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJ25ldy1zZWN0aW9uLTInLFxuICAgICAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBjcmVhdGVTZWN0aW9uIGZvciBzZWNvbmQgc2VjdGlvbiAtIGluc2VydCBjb2x1bW5zXG4gICAgICBzdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZU9uY2Uoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnbmV3LWNvbC0yJyxcbiAgICAgICAgICAgICAgICBzZWN0aW9uX2lkOiAnbmV3LXNlY3Rpb24tMicsXG4gICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+U2VjdGlvbiAyPC9wPicgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmV2ZXJ0VG9WZXJzaW9uKCdwYWdlLTEnLCAndmVyc2lvbi0xJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhWzBdLmRpc3BsYXlfb3JkZXIpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YVsxXS5kaXNwbGF5X29yZGVyKS50b0JlKDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiB2ZXJzaW9uIGZldGNoIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGVycm9yJyB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXZlcnRUb1ZlcnNpb24oJ3BhZ2UtMScsICd2ZXJzaW9uLTEnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwic3VwYWJhc2UiLCJmcm9tIiwiZm4iLCJyZXF1aXJlIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1ZlcnNpb25zIiwiaWQiLCJwYWdlX3R5cGUiLCJwYWdlX2lkIiwiY3JlYXRlZF9ieSIsInNlY3Rpb25zX3NuYXBzaG90IiwiY3JlYXRlZF9hdCIsIm1vY2tSZXR1cm5WYWx1ZSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJlcnJvciIsInJlc3VsdCIsImdldFZlcnNpb25IaXN0b3J5IiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJ0b0hhdmVMZW5ndGgiLCJ0b0VxdWFsIiwibWVzc2FnZSIsImNvZGUiLCJvcmRlck1vY2siLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFzY2VuZGluZyIsIm1vY2tTZWN0aW9ucyIsImRpc3BsYXlfb3JkZXIiLCJjb2x1bW5zIiwic2VjdGlvbl9pZCIsImNvbHVtbl9udW1iZXIiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2RhdGEiLCJodG1sIiwibW9ja1JldHVyblZhbHVlT25jZSIsImluIiwiaW5zZXJ0Iiwic2luZ2xlIiwiY3JlYXRlVmVyc2lvblNuYXBzaG90IiwidG9CZU51bGwiLCJwaG90b3MiLCJpbnNlcnRNb2NrIiwicmV2ZXJ0VG9WZXJzaW9uIiwiZXFQYWdlSWRNb2NrIiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tWZXJzaW9uIiwiZGVsZXRlIiwiZXFQYWdlVHlwZU1vY2siLCJkZWxldGVNb2NrIl0sIm1hcHBpbmdzIjoiO0FBU0EsZ0JBQWdCO0FBQ2hCQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsVUFBVTtZQUNSQyxNQUFNSCxLQUFLSSxFQUFFO1FBQ2Y7SUFDRixDQUFBOzs7O2lDQVJPO0FBVVAsTUFBTSxFQUFFRixRQUFRLEVBQUUsR0FBR0csUUFBUTtBQUU3QkMsU0FBUyxxQ0FBcUM7SUFDNUNDLFdBQVc7UUFDVFAsS0FBS1EsYUFBYTtJQUNwQjtJQUVBRixTQUFTLHFCQUFxQjtRQUM1QkcsR0FBRyxrRUFBa0U7WUFDbkUsTUFBTUMsZUFBaUM7Z0JBQ3JDO29CQUNFQyxJQUFJO29CQUNKQyxXQUFXO29CQUNYQyxTQUFTO29CQUNUQyxZQUFZO29CQUNaQyxtQkFBbUIsRUFBRTtvQkFDckJDLFlBQVk7Z0JBQ2Q7Z0JBQ0E7b0JBQ0VMLElBQUk7b0JBQ0pDLFdBQVc7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