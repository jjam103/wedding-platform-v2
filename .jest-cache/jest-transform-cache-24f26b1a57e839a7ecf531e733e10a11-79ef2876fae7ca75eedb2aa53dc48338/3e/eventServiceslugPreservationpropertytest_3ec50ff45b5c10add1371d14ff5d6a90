0c0cbaacd45effe8af6f7f9ab7755efa
/**
 * Property-Based Tests for Event Service Slug Preservation
 * 
 * **Property 25: Slug Preservation on Update**
 * **Validates: Requirements 24.7**
 * 
 * Tests that slugs are preserved when updating event names and not regenerated automatically.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
const _eventService = require("./eventService");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('Feature: guest-portal-and-admin-enhancements, Property 25: Slug Preservation on Update', ()=>{
    // Clean up test events after each test
    const createdEventIds = [];
    afterEach(async ()=>{
        // Clean up all created events
        for (const id of createdEventIds){
            await (0, _eventService.deleteEvent)(id);
        }
        createdEventIds.length = 0;
    });
    /**
   * Property: Updating event name does not change the slug
   * 
   * When an event's name is updated, the slug should remain unchanged
   * to preserve existing URLs and references.
   */ it('should preserve slug when updating event name', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.string({
            minLength: 3,
            maxLength: 30
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.string({
            minLength: 3,
            maxLength: 30
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.date(), async (originalName, newName, startDate)=>{
            // Skip if names are the same
            if (originalName === newName) {
                return true;
            }
            // Create event with original name
            const createResult = await (0, _eventService.create)({
                name: originalName,
                eventType: 'ceremony',
                startDate: startDate.toISOString()
            });
            if (!createResult.success) {
                return true;
            }
            createdEventIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update event name
            const updateResult = await (0, _eventService.update)(createResult.data.id, {
                name: newName
            });
            if (!updateResult.success) {
                return true;
            }
            // Slug should remain unchanged
            expect(updateResult.data.slug).toBe(originalSlug);
            expect(updateResult.data.name).toBe(newName);
            return true;
        }), {
            numRuns: 50
        });
    });
    /**
   * Property: Multiple updates preserve the original slug
   */ it('should preserve slug across multiple name updates', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.array(_fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), {
            minLength: 2,
            maxLength: 5
        }), _fastcheck.date(), async (originalName, newNames, startDate)=>{
            // Create event
            const createResult = await (0, _eventService.create)({
                name: originalName,
                eventType: 'reception',
                startDate: startDate.toISOString()
            });
            if (!createResult.success) {
                return true;
            }
            createdEventIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update name multiple times
            for (const newName of newNames){
                const updateResult = await (0, _eventService.update)(createResult.data.id, {
                    name: newName
                });
                if (!updateResult.success) {
                    continue;
                }
                // Slug should always remain the original
                expect(updateResult.data.slug).toBe(originalSlug);
            }
            return true;
        }), {
            numRuns: 20
        });
    });
    /**
   * Property: Updating other fields does not affect slug
   */ it('should preserve slug when updating non-name fields', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.string({
            minLength: 3,
            maxLength: 30
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.string({
            minLength: 10,
            maxLength: 100
        }), _fastcheck.date(), _fastcheck.date(), async (name, description, startDate, newStartDate)=>{
            // Create event
            const createResult = await (0, _eventService.create)({
                name,
                eventType: 'meal',
                startDate: startDate.toISOString(),
                description
            });
            if (!createResult.success) {
                return true;
            }
            createdEventIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update description and start date
            const updateResult = await (0, _eventService.update)(createResult.data.id, {
                description: `${description} - Updated`,
                startDate: newStartDate.toISOString()
            });
            if (!updateResult.success) {
                return true;
            }
            // Slug should remain unchanged
            expect(updateResult.data.slug).toBe(originalSlug);
            return true;
        }), {
            numRuns: 30
        });
    });
    /**
   * Property: Slug preservation works with special characters in new names
   */ it('should preserve slug even when new name contains special characters', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.constantFrom('!', '@', '#', '$', '%', '&', '*'), _fastcheck.date(), async (originalName, baseName, specialChar, startDate)=>{
            // Create event
            const createResult = await (0, _eventService.create)({
                name: originalName,
                eventType: 'activity',
                startDate: startDate.toISOString()
            });
            if (!createResult.success) {
                return true;
            }
            createdEventIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update with name containing special characters
            const newName = `${baseName}${specialChar}${baseName}`;
            const updateResult = await (0, _eventService.update)(createResult.data.id, {
                name: newName
            });
            if (!updateResult.success) {
                return true;
            }
            // Slug should remain unchanged despite special characters in new name
            expect(updateResult.data.slug).toBe(originalSlug);
            expect(updateResult.data.name).toBe(newName);
            return true;
        }), {
            numRuns: 25
        });
    });
    /**
   * Property: Slug preservation is idempotent
   */ it('should maintain slug consistency across repeated updates', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.string({
            minLength: 3,
            maxLength: 20
        }).filter((s)=>/[a-zA-Z0-9]/.test(s)), _fastcheck.date(), async (originalName, newName, startDate)=>{
            // Create event
            const createResult = await (0, _eventService.create)({
                name: originalName,
                eventType: 'transport',
                startDate: startDate.toISOString()
            });
            if (!createResult.success) {
                return true;
            }
            createdEventIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update name back and forth multiple times
            for(let i = 0; i < 3; i++){
                // Update to new name
                const update1 = await (0, _eventService.update)(createResult.data.id, {
                    name: newName
                });
                if (update1.success) {
                    expect(update1.data.slug).toBe(originalSlug);
                }
                // Update back to original name
                const update2 = await (0, _eventService.update)(createResult.data.id, {
                    name: originalName
                });
                if (update2.success) {
                    expect(update2.data.slug).toBe(originalSlug);
                }
            }
            return true;
        }), {
            numRuns: 15
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvZXZlbnRTZXJ2aWNlLnNsdWdQcmVzZXJ2YXRpb24ucHJvcGVydHkudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFByb3BlcnR5LUJhc2VkIFRlc3RzIGZvciBFdmVudCBTZXJ2aWNlIFNsdWcgUHJlc2VydmF0aW9uXG4gKiBcbiAqICoqUHJvcGVydHkgMjU6IFNsdWcgUHJlc2VydmF0aW9uIG9uIFVwZGF0ZSoqXG4gKiAqKlZhbGlkYXRlczogUmVxdWlyZW1lbnRzIDI0LjcqKlxuICogXG4gKiBUZXN0cyB0aGF0IHNsdWdzIGFyZSBwcmVzZXJ2ZWQgd2hlbiB1cGRhdGluZyBldmVudCBuYW1lcyBhbmQgbm90IHJlZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cblxuaW1wb3J0ICogYXMgZmMgZnJvbSAnZmFzdC1jaGVjayc7XG5pbXBvcnQgeyBjcmVhdGUsIHVwZGF0ZSwgZGVsZXRlRXZlbnQgfSBmcm9tICcuL2V2ZW50U2VydmljZSc7XG5cbmRlc2NyaWJlKCdGZWF0dXJlOiBndWVzdC1wb3J0YWwtYW5kLWFkbWluLWVuaGFuY2VtZW50cywgUHJvcGVydHkgMjU6IFNsdWcgUHJlc2VydmF0aW9uIG9uIFVwZGF0ZScsICgpID0+IHtcbiAgLy8gQ2xlYW4gdXAgdGVzdCBldmVudHMgYWZ0ZXIgZWFjaCB0ZXN0XG4gIGNvbnN0IGNyZWF0ZWRFdmVudElkczogc3RyaW5nW10gPSBbXTtcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIC8vIENsZWFuIHVwIGFsbCBjcmVhdGVkIGV2ZW50c1xuICAgIGZvciAoY29uc3QgaWQgb2YgY3JlYXRlZEV2ZW50SWRzKSB7XG4gICAgICBhd2FpdCBkZWxldGVFdmVudChpZCk7XG4gICAgfVxuICAgIGNyZWF0ZWRFdmVudElkcy5sZW5ndGggPSAwO1xuICB9KTtcblxuICAvKipcbiAgICogUHJvcGVydHk6IFVwZGF0aW5nIGV2ZW50IG5hbWUgZG9lcyBub3QgY2hhbmdlIHRoZSBzbHVnXG4gICAqIFxuICAgKiBXaGVuIGFuIGV2ZW50J3MgbmFtZSBpcyB1cGRhdGVkLCB0aGUgc2x1ZyBzaG91bGQgcmVtYWluIHVuY2hhbmdlZFxuICAgKiB0byBwcmVzZXJ2ZSBleGlzdGluZyBVUkxzIGFuZCByZWZlcmVuY2VzLlxuICAgKi9cbiAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBzbHVnIHdoZW4gdXBkYXRpbmcgZXZlbnQgbmFtZScsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDMsIG1heExlbmd0aDogMzAgfSkuZmlsdGVyKHMgPT4gL1thLXpBLVowLTldLy50ZXN0KHMpKSxcbiAgICAgICAgZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAzLCBtYXhMZW5ndGg6IDMwIH0pLmZpbHRlcihzID0+IC9bYS16QS1aMC05XS8udGVzdChzKSksXG4gICAgICAgIGZjLmRhdGUoKSxcbiAgICAgICAgYXN5bmMgKG9yaWdpbmFsTmFtZSwgbmV3TmFtZSwgc3RhcnREYXRlKSA9PiB7XG4gICAgICAgICAgLy8gU2tpcCBpZiBuYW1lcyBhcmUgdGhlIHNhbWVcbiAgICAgICAgICBpZiAob3JpZ2luYWxOYW1lID09PSBuZXdOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgZXZlbnQgd2l0aCBvcmlnaW5hbCBuYW1lXG4gICAgICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgY3JlYXRlKHtcbiAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgICAgIGV2ZW50VHlwZTogJ2NlcmVtb255JyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWNyZWF0ZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjcmVhdGVkRXZlbnRJZHMucHVzaChjcmVhdGVSZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxTbHVnID0gY3JlYXRlUmVzdWx0LmRhdGEuc2x1ZztcblxuICAgICAgICAgIC8vIFVwZGF0ZSBldmVudCBuYW1lXG4gICAgICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlKGNyZWF0ZVJlc3VsdC5kYXRhLmlkLCB7XG4gICAgICAgICAgICBuYW1lOiBuZXdOYW1lLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCF1cGRhdGVSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2x1ZyBzaG91bGQgcmVtYWluIHVuY2hhbmdlZFxuICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQuZGF0YS5zbHVnKS50b0JlKG9yaWdpbmFsU2x1Zyk7XG4gICAgICAgICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5kYXRhLm5hbWUpLnRvQmUobmV3TmFtZSk7XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogNTAgfVxuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogTXVsdGlwbGUgdXBkYXRlcyBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2x1Z1xuICAgKi9cbiAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBzbHVnIGFjcm9zcyBtdWx0aXBsZSBuYW1lIHVwZGF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAzLCBtYXhMZW5ndGg6IDIwIH0pLmZpbHRlcihzID0+IC9bYS16QS1aMC05XS8udGVzdChzKSksXG4gICAgICAgIGZjLmFycmF5KGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMywgbWF4TGVuZ3RoOiAyMCB9KS5maWx0ZXIocyA9PiAvW2EtekEtWjAtOV0vLnRlc3QocykpLCB7IG1pbkxlbmd0aDogMiwgbWF4TGVuZ3RoOiA1IH0pLFxuICAgICAgICBmYy5kYXRlKCksXG4gICAgICAgIGFzeW5jIChvcmlnaW5hbE5hbWUsIG5ld05hbWVzLCBzdGFydERhdGUpID0+IHtcbiAgICAgICAgICAvLyBDcmVhdGUgZXZlbnRcbiAgICAgICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICAgICAgbmFtZTogb3JpZ2luYWxOYW1lLFxuICAgICAgICAgICAgZXZlbnRUeXBlOiAncmVjZXB0aW9uJyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWNyZWF0ZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjcmVhdGVkRXZlbnRJZHMucHVzaChjcmVhdGVSZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxTbHVnID0gY3JlYXRlUmVzdWx0LmRhdGEuc2x1ZztcblxuICAgICAgICAgIC8vIFVwZGF0ZSBuYW1lIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgZm9yIChjb25zdCBuZXdOYW1lIG9mIG5ld05hbWVzKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGUoY3JlYXRlUmVzdWx0LmRhdGEuaWQsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmV3TmFtZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXVwZGF0ZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTbHVnIHNob3VsZCBhbHdheXMgcmVtYWluIHRoZSBvcmlnaW5hbFxuICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5kYXRhLnNsdWcpLnRvQmUob3JpZ2luYWxTbHVnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMjAgfVxuICAgICk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogVXBkYXRpbmcgb3RoZXIgZmllbGRzIGRvZXMgbm90IGFmZmVjdCBzbHVnXG4gICAqL1xuICBpdCgnc2hvdWxkIHByZXNlcnZlIHNsdWcgd2hlbiB1cGRhdGluZyBub24tbmFtZSBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAzLCBtYXhMZW5ndGg6IDMwIH0pLmZpbHRlcihzID0+IC9bYS16QS1aMC05XS8udGVzdChzKSksXG4gICAgICAgIGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMTAsIG1heExlbmd0aDogMTAwIH0pLFxuICAgICAgICBmYy5kYXRlKCksXG4gICAgICAgIGZjLmRhdGUoKSxcbiAgICAgICAgYXN5bmMgKG5hbWUsIGRlc2NyaXB0aW9uLCBzdGFydERhdGUsIG5ld1N0YXJ0RGF0ZSkgPT4ge1xuICAgICAgICAgIC8vIENyZWF0ZSBldmVudFxuICAgICAgICAgIGNvbnN0IGNyZWF0ZVJlc3VsdCA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZXZlbnRUeXBlOiAnbWVhbCcsXG4gICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWNyZWF0ZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjcmVhdGVkRXZlbnRJZHMucHVzaChjcmVhdGVSZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxTbHVnID0gY3JlYXRlUmVzdWx0LmRhdGEuc2x1ZztcblxuICAgICAgICAgIC8vIFVwZGF0ZSBkZXNjcmlwdGlvbiBhbmQgc3RhcnQgZGF0ZVxuICAgICAgICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZShjcmVhdGVSZXN1bHQuZGF0YS5pZCwge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IGAke2Rlc2NyaXB0aW9ufSAtIFVwZGF0ZWRgLFxuICAgICAgICAgICAgc3RhcnREYXRlOiBuZXdTdGFydERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghdXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNsdWcgc2hvdWxkIHJlbWFpbiB1bmNoYW5nZWRcbiAgICAgICAgICBleHBlY3QodXBkYXRlUmVzdWx0LmRhdGEuc2x1ZykudG9CZShvcmlnaW5hbFNsdWcpO1xuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDMwIH1cbiAgICApO1xuICB9KTtcblxuICAvKipcbiAgICogUHJvcGVydHk6IFNsdWcgcHJlc2VydmF0aW9uIHdvcmtzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIGluIG5ldyBuYW1lc1xuICAgKi9cbiAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBzbHVnIGV2ZW4gd2hlbiBuZXcgbmFtZSBjb250YWlucyBzcGVjaWFsIGNoYXJhY3RlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAzLCBtYXhMZW5ndGg6IDIwIH0pLmZpbHRlcihzID0+IC9bYS16QS1aMC05XS8udGVzdChzKSksXG4gICAgICAgIGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMywgbWF4TGVuZ3RoOiAyMCB9KS5maWx0ZXIocyA9PiAvW2EtekEtWjAtOV0vLnRlc3QocykpLFxuICAgICAgICBmYy5jb25zdGFudEZyb20oJyEnLCAnQCcsICcjJywgJyQnLCAnJScsICcmJywgJyonKSxcbiAgICAgICAgZmMuZGF0ZSgpLFxuICAgICAgICBhc3luYyAob3JpZ2luYWxOYW1lLCBiYXNlTmFtZSwgc3BlY2lhbENoYXIsIHN0YXJ0RGF0ZSkgPT4ge1xuICAgICAgICAgIC8vIENyZWF0ZSBldmVudFxuICAgICAgICAgIGNvbnN0IGNyZWF0ZVJlc3VsdCA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgICAgICBuYW1lOiBvcmlnaW5hbE5hbWUsXG4gICAgICAgICAgICBldmVudFR5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFjcmVhdGVSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3JlYXRlZEV2ZW50SWRzLnB1c2goY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2x1ZyA9IGNyZWF0ZVJlc3VsdC5kYXRhLnNsdWc7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgd2l0aCBuYW1lIGNvbnRhaW5pbmcgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgICAgICAgY29uc3QgbmV3TmFtZSA9IGAke2Jhc2VOYW1lfSR7c3BlY2lhbENoYXJ9JHtiYXNlTmFtZX1gO1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZShjcmVhdGVSZXN1bHQuZGF0YS5pZCwge1xuICAgICAgICAgICAgbmFtZTogbmV3TmFtZSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghdXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNsdWcgc2hvdWxkIHJlbWFpbiB1bmNoYW5nZWQgZGVzcGl0ZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gbmV3IG5hbWVcbiAgICAgICAgICBleHBlY3QodXBkYXRlUmVzdWx0LmRhdGEuc2x1ZykudG9CZShvcmlnaW5hbFNsdWcpO1xuICAgICAgICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQuZGF0YS5uYW1lKS50b0JlKG5ld05hbWUpO1xuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDI1IH1cbiAgICApO1xuICB9KTtcblxuICAvKipcbiAgICogUHJvcGVydHk6IFNsdWcgcHJlc2VydmF0aW9uIGlzIGlkZW1wb3RlbnRcbiAgICovXG4gIGl0KCdzaG91bGQgbWFpbnRhaW4gc2x1ZyBjb25zaXN0ZW5jeSBhY3Jvc3MgcmVwZWF0ZWQgdXBkYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICBmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDMsIG1heExlbmd0aDogMjAgfSkuZmlsdGVyKHMgPT4gL1thLXpBLVowLTldLy50ZXN0KHMpKSxcbiAgICAgICAgZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAzLCBtYXhMZW5ndGg6IDIwIH0pLmZpbHRlcihzID0+IC9bYS16QS1aMC05XS8udGVzdChzKSksXG4gICAgICAgIGZjLmRhdGUoKSxcbiAgICAgICAgYXN5bmMgKG9yaWdpbmFsTmFtZSwgbmV3TmFtZSwgc3RhcnREYXRlKSA9PiB7XG4gICAgICAgICAgLy8gQ3JlYXRlIGV2ZW50XG4gICAgICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgY3JlYXRlKHtcbiAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsTmFtZSxcbiAgICAgICAgICAgIGV2ZW50VHlwZTogJ3RyYW5zcG9ydCcsXG4gICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFjcmVhdGVSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY3JlYXRlZEV2ZW50SWRzLnB1c2goY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2x1ZyA9IGNyZWF0ZVJlc3VsdC5kYXRhLnNsdWc7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgbmFtZSBiYWNrIGFuZCBmb3J0aCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdG8gbmV3IG5hbWVcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZTEgPSBhd2FpdCB1cGRhdGUoY3JlYXRlUmVzdWx0LmRhdGEuaWQsIHsgbmFtZTogbmV3TmFtZSB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUxLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgZXhwZWN0KHVwZGF0ZTEuZGF0YS5zbHVnKS50b0JlKG9yaWdpbmFsU2x1Zyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBiYWNrIHRvIG9yaWdpbmFsIG5hbWVcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZTIgPSBhd2FpdCB1cGRhdGUoY3JlYXRlUmVzdWx0LmRhdGEuaWQsIHsgbmFtZTogb3JpZ2luYWxOYW1lIH0pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZTIuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBleHBlY3QodXBkYXRlMi5kYXRhLnNsdWcpLnRvQmUob3JpZ2luYWxTbHVnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMTUgfVxuICAgICk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJjcmVhdGVkRXZlbnRJZHMiLCJhZnRlckVhY2giLCJpZCIsImRlbGV0ZUV2ZW50IiwibGVuZ3RoIiwiaXQiLCJmYyIsImFzc2VydCIsImFzeW5jUHJvcGVydHkiLCJzdHJpbmciLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJmaWx0ZXIiLCJzIiwidGVzdCIsImRhdGUiLCJvcmlnaW5hbE5hbWUiLCJuZXdOYW1lIiwic3RhcnREYXRlIiwiY3JlYXRlUmVzdWx0IiwiY3JlYXRlIiwibmFtZSIsImV2ZW50VHlwZSIsInRvSVNPU3RyaW5nIiwic3VjY2VzcyIsInB1c2giLCJkYXRhIiwib3JpZ2luYWxTbHVnIiwic2x1ZyIsInVwZGF0ZVJlc3VsdCIsInVwZGF0ZSIsImV4cGVjdCIsInRvQmUiLCJudW1SdW5zIiwiYXJyYXkiLCJuZXdOYW1lcyIsImRlc2NyaXB0aW9uIiwibmV3U3RhcnREYXRlIiwiY29uc3RhbnRGcm9tIiwiYmFzZU5hbWUiLCJzcGVjaWFsQ2hhciIsImkiLCJ1cGRhdGUxIiwidXBkYXRlMiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Q0FPQzs7OzttRUFFbUI7OEJBQ3dCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNUNBLFNBQVMsMEZBQTBGO0lBQ2pHLHVDQUF1QztJQUN2QyxNQUFNQyxrQkFBNEIsRUFBRTtJQUVwQ0MsVUFBVTtRQUNSLDhCQUE4QjtRQUM5QixLQUFLLE1BQU1DLE1B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