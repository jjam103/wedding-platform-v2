{"version":3,"names":["createSupabaseClient","cov_13z6tj8hvk","f","s","supabase","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseServiceKey","SUPABASE_SERVICE_ROLE_KEY","b","Error","_supabasejs","createClient","auth","autoRefreshToken","persistSession"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n/**\n * Creates a Supabase client for server-side operations with service role privileges.\n * \n * IMPORTANT: This client bypasses Row Level Security (RLS).\n * Only use in server-side code after proper authentication checks.\n * \n * Uses environment variables for configuration.\n * \n * @returns Configured Supabase client with service role privileges\n * @throws Error if required environment variables are missing\n */\nexport function createSupabaseClient() {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n  if (!supabaseUrl || !supabaseServiceKey) {\n    throw new Error(\n      'Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY'\n    );\n  }\n\n  return createClient(supabaseUrl, supabaseServiceKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false\n    }\n  });\n}\n\n/**\n * Singleton Supabase client instance for server-side use with service role privileges.\n * \n * IMPORTANT: This bypasses RLS. Only use after authentication checks.\n */\nexport const supabase = createSupabaseClient();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAagBA,qBAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAH,oBAAA;;MAuBHI,SAAA;IAAA;IAAAH,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;WAAAC,QAAA;;;;;kCApCgB;AAatB,SAASJ,qBAAA;EAAA;EAAAC,cAAA,GAAAC,CAAA;EACd,MAAMG,WAAA;EAAA;EAAA,CAAAJ,cAAA,GAAAE,CAAA,OAAcG,OAAA,CAAQC,GAAG,CAACC,wBAAwB;EACxD,MAAMC,kBAAA;EAAA;EAAA,CAAAR,cAAA,GAAAE,CAAA,OAAqBG,OAAA,CAAQC,GAAG,CAACG,yBAAyB;EAAA;EAAAT,cAAA,GAAAE,CAAA;EAEhE;EAAI;EAAA,CAAAF,cAAA,GAAAU,CAAA,WAACN,WAAA;EAAA;EAAA,CAAAJ,cAAA,GAAAU,CAAA,UAAe,CAACF,kBAAA,GAAoB;IAAA;IAAAR,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IACvC,MAAM,IAAIS,KAAA,CACR;EAEJ;EAAA;EAAA;IAAAX,cAAA,GAAAU,CAAA;EAAA;EAAAV,cAAA,GAAAE,CAAA;EAEA,OAAO,IAAAU,WAAA,CAAAC,YAAY,EAACT,WAAA,EAAaI,kBAAA,EAAoB;IACnDM,IAAA,EAAM;MACJC,gBAAA,EAAkB;MAClBC,cAAA,EAAgB;IAClB;EACF;AACF;AAOO,MAAMb,QAAA;AAAA;AAAA,CAAAH,cAAA,GAAAE,CAAA,QAAWH,oBAAA","ignoreList":[]}