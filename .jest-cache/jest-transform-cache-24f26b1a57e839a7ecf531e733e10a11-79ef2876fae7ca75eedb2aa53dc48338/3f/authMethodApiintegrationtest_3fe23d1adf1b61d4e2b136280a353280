5a3a6933170f22ef5e5cd1ef4616e4f7
/**
 * Integration tests for auth method configuration API endpoints
 * 
 * Tests:
 * - GET /api/admin/settings/auth-method
 * - PUT /api/admin/settings/auth-method
 */ "use strict";
// Mock settingsService
jest.mock('@/services/settingsService', ()=>({
        getDefaultAuthMethod: jest.fn(),
        updateDefaultAuthMethod: jest.fn()
    }));
// Mock Supabase auth
jest.mock('@supabase/auth-helpers-nextjs', ()=>({
        createRouteHandlerClient: jest.fn(()=>({
                auth: {
                    getSession: jest.fn()
                }
            }))
    }));
// Mock Next.js headers
jest.mock('next/headers', ()=>({
        cookies: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _route = require("../../app/api/admin/settings/auth-method/route");
const _settingsService = /*#__PURE__*/ _interop_require_wildcard(require("../../services/settingsService"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('Auth Method API Integration Tests', ()=>{
    const mockGetDefaultAuthMethod = _settingsService.getDefaultAuthMethod;
    const mockUpdateDefaultAuthMethod = _settingsService.updateDefaultAuthMethod;
    let mockAuth;
    beforeEach(()=>{
        jest.clearAllMocks();
        const { createRouteHandlerClient } = require('@supabase/auth-helpers-nextjs');
        mockAuth = createRouteHandlerClient();
    });
    describe('GET /api/admin/settings/auth-method', ()=>{
        it('should return current auth method when authenticated', async ()=>{
            // Mock authenticated session
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            // Mock service response
            mockGetDefaultAuthMethod.mockResolvedValue({
                success: true,
                data: 'email_matching'
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.defaultAuthMethod).toBe('email_matching');
        });
        it('should return 401 when not authenticated', async ()=>{
            // Mock no session
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
        it('should return 404 when setting not found', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockGetDefaultAuthMethod.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Setting not found'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(404);
            expect(data.success).toBe(false);
        });
        it('should return 500 when service fails', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockGetDefaultAuthMethod.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database error'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
        });
    });
    describe('PUT /api/admin/settings/auth-method', ()=>{
        it('should update auth method without updating guests', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockUpdateDefaultAuthMethod.mockResolvedValue({
                success: true,
                data: {
                    updatedGuestsCount: 0
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'magic_link',
                    updateExistingGuests: false
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.defaultAuthMethod).toBe('magic_link');
            expect(data.data.updatedGuestsCount).toBe(0);
            expect(mockUpdateDefaultAuthMethod).toHaveBeenCalledWith('magic_link', false);
        });
        it('should update auth method and bulk update guests', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockUpdateDefaultAuthMethod.mockResolvedValue({
                success: true,
                data: {
                    updatedGuestsCount: 5
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'email_matching',
                    updateExistingGuests: true
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.defaultAuthMethod).toBe('email_matching');
            expect(data.data.updatedGuestsCount).toBe(5);
            expect(mockUpdateDefaultAuthMethod).toHaveBeenCalledWith('email_matching', true);
        });
        it('should return 401 when not authenticated', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'magic_link'
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
        it('should return 400 for invalid auth method', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'invalid_method'
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
        it('should return 400 for missing required fields', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({})
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
        it('should return 500 when service fails', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockUpdateDefaultAuthMethod.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to update'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'magic_link'
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
        });
        it('should default updateExistingGuests to false when not provided', async ()=>{
            mockAuth.auth.getSession.mockResolvedValue({
                data: {
                    session: {
                        user: {
                            id: 'user-1'
                        }
                    }
                },
                error: null
            });
            mockUpdateDefaultAuthMethod.mockResolvedValue({
                success: true,
                data: {
                    updatedGuestsCount: 0
                }
            });
            const request = new Request('http://localhost:3000/api/admin/settings/auth-method', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    defaultAuthMethod: 'magic_link'
                })
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(mockUpdateDefaultAuthMethod).toHaveBeenCalledWith('magic_link', false);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL2F1dGhNZXRob2RBcGkuaW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVncmF0aW9uIHRlc3RzIGZvciBhdXRoIG1ldGhvZCBjb25maWd1cmF0aW9uIEFQSSBlbmRwb2ludHNcbiAqIFxuICogVGVzdHM6XG4gKiAtIEdFVCAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kXG4gKiAtIFBVVCAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kXG4gKi9cblxuaW1wb3J0IHsgR0VULCBQVVQgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vc2V0dGluZ3MvYXV0aC1tZXRob2Qvcm91dGUnO1xuaW1wb3J0ICogYXMgc2V0dGluZ3NTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvc2V0dGluZ3NTZXJ2aWNlJztcblxuLy8gTW9jayBzZXR0aW5nc1NlcnZpY2Vcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9zZXR0aW5nc1NlcnZpY2UnLCAoKSA9PiAoe1xuICBnZXREZWZhdWx0QXV0aE1ldGhvZDogamVzdC5mbigpLFxuICB1cGRhdGVEZWZhdWx0QXV0aE1ldGhvZDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIFN1cGFiYXNlIGF1dGhcbmplc3QubW9jaygnQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anMnLCAoKSA9PiAoe1xuICBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICBhdXRoOiB7XG4gICAgICBnZXRTZXNzaW9uOiBqZXN0LmZuKCksXG4gICAgfSxcbiAgfSkpLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgaGVhZGVyc1xuamVzdC5tb2NrKCduZXh0L2hlYWRlcnMnLCAoKSA9PiAoe1xuICBjb29raWVzOiBqZXN0LmZuKCksXG59KSk7XG5cbmRlc2NyaWJlKCdBdXRoIE1ldGhvZCBBUEkgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tHZXREZWZhdWx0QXV0aE1ldGhvZCA9IHNldHRpbmdzU2VydmljZS5nZXREZWZhdWx0QXV0aE1ldGhvZCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPFxuICAgIHR5cGVvZiBzZXR0aW5nc1NlcnZpY2UuZ2V0RGVmYXVsdEF1dGhNZXRob2RcbiAgPjtcbiAgY29uc3QgbW9ja1VwZGF0ZURlZmF1bHRBdXRoTWV0aG9kID0gc2V0dGluZ3NTZXJ2aWNlLnVwZGF0ZURlZmF1bHRBdXRoTWV0aG9kIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248XG4gICAgdHlwZW9mIHNldHRpbmdzU2VydmljZS51cGRhdGVEZWZhdWx0QXV0aE1ldGhvZFxuICA+O1xuXG4gIGxldCBtb2NrQXV0aDogYW55O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGNvbnN0IHsgY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50IH0gPSByZXF1aXJlKCdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcycpO1xuICAgIG1vY2tBdXRoID0gY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50KCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjdXJyZW50IGF1dGggbWV0aG9kIHdoZW4gYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgYXV0aGVudGljYXRlZCBzZXNzaW9uXG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgc2VydmljZSByZXNwb25zZVxuICAgICAgbW9ja0dldERlZmF1bHRBdXRoTWV0aG9kLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogJ2VtYWlsX21hdGNoaW5nJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vc2V0dGluZ3MvYXV0aC1tZXRob2QnKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuZGVmYXVsdEF1dGhNZXRob2QpLnRvQmUoJ2VtYWlsX21hdGNoaW5nJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDEgd2hlbiBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbm8gc2Vzc2lvblxuICAgICAgbW9ja0F1dGguYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOQVVUSE9SSVpFRCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IHdoZW4gc2V0dGluZyBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tHZXREZWZhdWx0QXV0aE1ldGhvZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdTZXR0aW5nIG5vdCBmb3VuZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kJyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIHdoZW4gc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBdXRoLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgc2Vzc2lvbjogeyB1c2VyOiB7IGlkOiAndXNlci0xJyB9IH0gfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgbW9ja0dldERlZmF1bHRBdXRoTWV0aG9kLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgZXJyb3InLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BVVCAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdXBkYXRlIGF1dGggbWV0aG9kIHdpdGhvdXQgdXBkYXRpbmcgZ3Vlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F1dGguYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiB7IHVzZXI6IHsgaWQ6ICd1c2VyLTEnIH0gfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrVXBkYXRlRGVmYXVsdEF1dGhNZXRob2QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7IHVwZGF0ZWRHdWVzdHNDb3VudDogMCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBkZWZhdWx0QXV0aE1ldGhvZDogJ21hZ2ljX2xpbmsnLFxuICAgICAgICAgIHVwZGF0ZUV4aXN0aW5nR3Vlc3RzOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQVVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5kZWZhdWx0QXV0aE1ldGhvZCkudG9CZSgnbWFnaWNfbGluaycpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS51cGRhdGVkR3Vlc3RzQ291bnQpLnRvQmUoMCk7XG4gICAgICBleHBlY3QobW9ja1VwZGF0ZURlZmF1bHRBdXRoTWV0aG9kKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbWFnaWNfbGluaycsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGF1dGggbWV0aG9kIGFuZCBidWxrIHVwZGF0ZSBndWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tVcGRhdGVEZWZhdWx0QXV0aE1ldGhvZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgdXBkYXRlZEd1ZXN0c0NvdW50OiA1IH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRlZmF1bHRBdXRoTWV0aG9kOiAnZW1haWxfbWF0Y2hpbmcnLFxuICAgICAgICAgIHVwZGF0ZUV4aXN0aW5nR3Vlc3RzOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRlZmF1bHRBdXRoTWV0aG9kKS50b0JlKCdlbWFpbF9tYXRjaGluZycpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS51cGRhdGVkR3Vlc3RzQ291bnQpLnRvQmUoNSk7XG4gICAgICBleHBlY3QobW9ja1VwZGF0ZURlZmF1bHRBdXRoTWV0aG9kKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZW1haWxfbWF0Y2hpbmcnLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0F1dGguYXV0aC5nZXRTZXNzaW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBkZWZhdWx0QXV0aE1ldGhvZDogJ21hZ2ljX2xpbmsnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIGludmFsaWQgYXV0aCBtZXRob2QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBkZWZhdWx0QXV0aE1ldGhvZDogJ2ludmFsaWRfbWV0aG9kJyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQVVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgbWlzc2luZyByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9zZXR0aW5ncy9hdXRoLW1ldGhvZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNTAwIHdoZW4gc2VydmljZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBdXRoLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgc2Vzc2lvbjogeyB1c2VyOiB7IGlkOiAndXNlci0xJyB9IH0gfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1VwZGF0ZURlZmF1bHRBdXRoTWV0aG9kLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZScsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRlZmF1bHRBdXRoTWV0aG9kOiAnbWFnaWNfbGluaycsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgdXBkYXRlRXhpc3RpbmdHdWVzdHMgdG8gZmFsc2Ugd2hlbiBub3QgcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXV0aC5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ3VzZXItMScgfSB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tVcGRhdGVEZWZhdWx0QXV0aE1ldGhvZC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgdXBkYXRlZEd1ZXN0c0NvdW50OiAwIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3NldHRpbmdzL2F1dGgtbWV0aG9kJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRlZmF1bHRBdXRoTWV0aG9kOiAnbWFnaWNfbGluaycsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KG1vY2tVcGRhdGVEZWZhdWx0QXV0aE1ldGhvZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ21hZ2ljX2xpbmsnLCBmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJnZXREZWZhdWx0QXV0aE1ldGhvZCIsImZuIiwidXBkYXRlRGVmYXVsdEF1dGhNZXRob2QiLCJjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImNvb2tpZXMiLCJkZXNjcmliZSIsIm1vY2tHZXREZWZhdWx0QXV0aE1ldGhvZCIsInNldHRpbmdzU2VydmljZSIsIm1vY2tVcGRhdGVEZWZhdWx0QXV0aE1ldGhvZCIsIm1vY2tBdXRoIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJyZXF1aXJlIiwiaXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJzZXNzaW9uIiwidXNlciIsImlkIiwiZXJyb3IiLCJzdWNjZXNzIiwicmVxdWVzdCIsIlJlcXVlc3QiLCJyZXNwb25zZSIsIkdFVCIsImpzb24iLCJleHBlY3QiLCJzdGF0dXMiLCJ0b0JlIiwiZGVmYXVsdEF1dGhNZXRob2QiLCJjb2RlIiwibWVzc2FnZSIsInVwZGF0ZWRHdWVzdHNDb3VudCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZUV4aXN0aW5nR3Vlc3RzIiwiUFVUIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiXSwibWFwcGluZ3MiOiJBQUFBOzs7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