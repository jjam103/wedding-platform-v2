1f9c7371c9f10028ad4c1b871061f685
/**
 * Property-Based Test: Soft Delete Filtering
 * Feature: guest-portal-and-admin-enhancements
 * Property 32: Soft Delete Filtering
 * 
 * Validates: Requirements 29.8
 * 
 * Property: Soft-deleted records must not appear in guest-facing queries.
 * Only active records (deleted_at IS NULL) should be returned.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
const _contentPagesService = require("./contentPagesService");
const _eventService = require("./eventService");
const _activityService = require("./activityService");
const _supabasejs = require("@supabase/supabase-js");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const supabase = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);
describe('Feature: guest-portal-and-admin-enhancements, Property 32: Soft Delete Filtering', ()=>{
    beforeEach(async ()=>{
        // Clean up test data
        await supabase.from('activities').delete().neq('id', '00000000-0000-0000-0000-000000000000');
        await supabase.from('events').delete().neq('id', '00000000-0000-0000-0000-000000000000');
        await supabase.from('content_pages').delete().neq('id', '00000000-0000-0000-0000-000000000000');
    });
    afterAll(async ()=>{
        // Final cleanup
        await supabase.from('activities').delete().neq('id', '00000000-0000-0000-0000-000000000000');
        await supabase.from('events').delete().neq('id', '00000000-0000-0000-0000-000000000000');
        await supabase.from('content_pages').delete().neq('id', '00000000-0000-0000-0000-000000000000');
    });
    it('should not return soft-deleted content pages in guest queries', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.record({
            activeCount: _fastcheck.integer({
                min: 1,
                max: 5
            }),
            deletedCount: _fastcheck.integer({
                min: 1,
                max: 5
            })
        }), async ({ activeCount, deletedCount })=>{
            const activeIds = [];
            const deletedIds = [];
            // Create active content pages
            for(let i = 0; i < activeCount; i++){
                const result = await (0, _contentPagesService.createContentPage)({
                    title: `Active Page ${i}`,
                    status: 'published'
                });
                if (result.success) {
                    activeIds.push(result.data.id);
                }
            }
            // Create and soft delete content pages
            for(let i = 0; i < deletedCount; i++){
                const result = await (0, _contentPagesService.createContentPage)({
                    title: `Deleted Page ${i}`,
                    status: 'published'
                });
                if (result.success) {
                    deletedIds.push(result.data.id);
                    await (0, _contentPagesService.deleteContentPage)(result.data.id, {
                        permanent: false
                    });
                }
            }
            // Query for published content pages (guest query)
            const { data: pages } = await supabase.from('content_pages').select('id').eq('status', 'published').is('deleted_at', null);
            // Verify only active pages are returned
            expect(pages).toHaveLength(activeIds.length);
            const returnedIds = pages?.map((p)=>p.id) || [];
            activeIds.forEach((id)=>{
                expect(returnedIds).toContain(id);
            });
            deletedIds.forEach((id)=>{
                expect(returnedIds).not.toContain(id);
            });
            // Cleanup
            for (const id of activeIds){
                await (0, _contentPagesService.deleteContentPage)(id, {
                    permanent: true
                });
            }
            for (const id of deletedIds){
                await (0, _contentPagesService.deleteContentPage)(id, {
                    permanent: true
                });
            }
        }), {
            numRuns: 50
        });
    });
    it('should not return soft-deleted events in guest queries', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.record({
            activeCount: _fastcheck.integer({
                min: 1,
                max: 5
            }),
            deletedCount: _fastcheck.integer({
                min: 1,
                max: 5
            })
        }), async ({ activeCount, deletedCount })=>{
            const activeIds = [];
            const deletedIds = [];
            // Create active events
            for(let i = 0; i < activeCount; i++){
                const result = await (0, _eventService.create)({
                    name: `Active Event ${i}`,
                    date: new Date().toISOString().split('T')[0]
                });
                if (result.success) {
                    activeIds.push(result.data.id);
                }
            }
            // Create and soft delete events
            for(let i = 0; i < deletedCount; i++){
                const result = await (0, _eventService.create)({
                    name: `Deleted Event ${i}`,
                    date: new Date().toISOString().split('T')[0]
                });
                if (result.success) {
                    deletedIds.push(result.data.id);
                    await (0, _eventService.deleteEvent)(result.data.id, {
                        permanent: false
                    });
                }
            }
            // Query for events (guest query)
            const { data: events } = await supabase.from('events').select('id').is('deleted_at', null);
            // Verify only active events are returned
            expect(events?.length).toBeGreaterThanOrEqual(activeIds.length);
            const returnedIds = events?.map((e)=>e.id) || [];
            activeIds.forEach((id)=>{
                expect(returnedIds).toContain(id);
            });
            deletedIds.forEach((id)=>{
                expect(returnedIds).not.toContain(id);
            });
            // Cleanup
            for (const id of activeIds){
                await (0, _eventService.deleteEvent)(id, {
                    permanent: true
                });
            }
            for (const id of deletedIds){
                await (0, _eventService.deleteEvent)(id, {
                    permanent: true
                });
            }
        }), {
            numRuns: 50
        });
    });
    it('should not return soft-deleted activities in guest queries', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.record({
            activeCount: _fastcheck.integer({
                min: 1,
                max: 5
            }),
            deletedCount: _fastcheck.integer({
                min: 1,
                max: 5
            })
        }), async ({ activeCount, deletedCount })=>{
            const activeIds = [];
            const deletedIds = [];
            // Create active activities
            for(let i = 0; i < activeCount; i++){
                const result = await (0, _activityService.create)({
                    name: `Active Activity ${i}`,
                    date: new Date().toISOString().split('T')[0],
                    activity_type: 'activity'
                });
                if (result.success) {
                    activeIds.push(result.data.id);
                }
            }
            // Create and soft delete activities
            for(let i = 0; i < deletedCount; i++){
                const result = await (0, _activityService.create)({
                    name: `Deleted Activity ${i}`,
                    date: new Date().toISOString().split('T')[0],
                    activity_type: 'activity'
                });
                if (result.success) {
                    deletedIds.push(result.data.id);
                    await (0, _activityService.deleteActivity)(result.data.id, {
                        permanent: false
                    });
                }
            }
            // Query for activities (guest query)
            const { data: activities } = await supabase.from('activities').select('id').is('deleted_at', null);
            // Verify only active activities are returned
            expect(activities?.length).toBeGreaterThanOrEqual(activeIds.length);
            const returnedIds = activities?.map((a)=>a.id) || [];
            activeIds.forEach((id)=>{
                expect(returnedIds).toContain(id);
            });
            deletedIds.forEach((id)=>{
                expect(returnedIds).not.toContain(id);
            });
            // Cleanup
            for (const id of activeIds){
                await (0, _activityService.deleteActivity)(id, {
                    permanent: true
                });
            }
            for (const id of deletedIds){
                await (0, _activityService.deleteActivity)(id, {
                    permanent: true
                });
            }
        }), {
            numRuns: 50
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvc29mdERlbGV0ZUZpbHRlcmluZy5wcm9wZXJ0eS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvcGVydHktQmFzZWQgVGVzdDogU29mdCBEZWxldGUgRmlsdGVyaW5nXG4gKiBGZWF0dXJlOiBndWVzdC1wb3J0YWwtYW5kLWFkbWluLWVuaGFuY2VtZW50c1xuICogUHJvcGVydHkgMzI6IFNvZnQgRGVsZXRlIEZpbHRlcmluZ1xuICogXG4gKiBWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyAyOS44XG4gKiBcbiAqIFByb3BlcnR5OiBTb2Z0LWRlbGV0ZWQgcmVjb3JkcyBtdXN0IG5vdCBhcHBlYXIgaW4gZ3Vlc3QtZmFjaW5nIHF1ZXJpZXMuXG4gKiBPbmx5IGFjdGl2ZSByZWNvcmRzIChkZWxldGVkX2F0IElTIE5VTEwpIHNob3VsZCBiZSByZXR1cm5lZC5cbiAqL1xuXG5pbXBvcnQgKiBhcyBmYyBmcm9tICdmYXN0LWNoZWNrJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRlbnRQYWdlLCBkZWxldGVDb250ZW50UGFnZSB9IGZyb20gJy4vY29udGVudFBhZ2VzU2VydmljZSc7XG5pbXBvcnQgeyBjcmVhdGUgYXMgY3JlYXRlRXZlbnQsIGRlbGV0ZUV2ZW50IH0gZnJvbSAnLi9ldmVudFNlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGNyZWF0ZUFjdGl2aXR5LCBkZWxldGVBY3Rpdml0eSB9IGZyb20gJy4vYWN0aXZpdHlTZXJ2aWNlJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuKTtcblxuZGVzY3JpYmUoJ0ZlYXR1cmU6IGd1ZXN0LXBvcnRhbC1hbmQtYWRtaW4tZW5oYW5jZW1lbnRzLCBQcm9wZXJ0eSAzMjogU29mdCBEZWxldGUgRmlsdGVyaW5nJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBDbGVhbiB1cCB0ZXN0IGRhdGFcbiAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdhY3Rpdml0aWVzJykuZGVsZXRlKCkubmVxKCdpZCcsICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnKTtcbiAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdldmVudHMnKS5kZWxldGUoKS5uZXEoJ2lkJywgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcpO1xuICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2NvbnRlbnRfcGFnZXMnKS5kZWxldGUoKS5uZXEoJ2lkJywgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gRmluYWwgY2xlYW51cFxuICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2FjdGl2aXRpZXMnKS5kZWxldGUoKS5uZXEoJ2lkJywgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcpO1xuICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2V2ZW50cycpLmRlbGV0ZSgpLm5lcSgnaWQnLCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJyk7XG4gICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgnY29udGVudF9wYWdlcycpLmRlbGV0ZSgpLm5lcSgnaWQnLCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IHJldHVybiBzb2Z0LWRlbGV0ZWQgY29udGVudCBwYWdlcyBpbiBndWVzdCBxdWVyaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgYWN0aXZlQ291bnQ6IGZjLmludGVnZXIoeyBtaW46IDEsIG1heDogNSB9KSxcbiAgICAgICAgICBkZWxldGVkQ291bnQ6IGZjLmludGVnZXIoeyBtaW46IDEsIG1heDogNSB9KSxcbiAgICAgICAgfSksXG4gICAgICAgIGFzeW5jICh7IGFjdGl2ZUNvdW50LCBkZWxldGVkQ291bnQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZUlkczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICBjb25zdCBkZWxldGVkSWRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGFjdGl2ZSBjb250ZW50IHBhZ2VzXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVDb250ZW50UGFnZSh7XG4gICAgICAgICAgICAgIHRpdGxlOiBgQWN0aXZlIFBhZ2UgJHtpfWAsXG4gICAgICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUlkcy5wdXNoKHJlc3VsdC5kYXRhLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYW5kIHNvZnQgZGVsZXRlIGNvbnRlbnQgcGFnZXNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGV0ZWRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVDb250ZW50UGFnZSh7XG4gICAgICAgICAgICAgIHRpdGxlOiBgRGVsZXRlZCBQYWdlICR7aX1gLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBkZWxldGVkSWRzLnB1c2gocmVzdWx0LmRhdGEuaWQpO1xuICAgICAgICAgICAgICBhd2FpdCBkZWxldGVDb250ZW50UGFnZShyZXN1bHQuZGF0YS5pZCwgeyBwZXJtYW5lbnQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFF1ZXJ5IGZvciBwdWJsaXNoZWQgY29udGVudCBwYWdlcyAoZ3Vlc3QgcXVlcnkpXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBwYWdlcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdjb250ZW50X3BhZ2VzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgIC5lcSgnc3RhdHVzJywgJ3B1Ymxpc2hlZCcpXG4gICAgICAgICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKTtcblxuICAgICAgICAgIC8vIFZlcmlmeSBvbmx5IGFjdGl2ZSBwYWdlcyBhcmUgcmV0dXJuZWRcbiAgICAgICAgICBleHBlY3QocGFnZXMpLnRvSGF2ZUxlbmd0aChhY3RpdmVJZHMubGVuZ3RoKTtcbiAgICAgICAgICBjb25zdCByZXR1cm5lZElkcyA9IHBhZ2VzPy5tYXAoKHApID0+IHAuaWQpIHx8IFtdO1xuICAgICAgICAgIGFjdGl2ZUlkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJldHVybmVkSWRzKS50b0NvbnRhaW4oaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRlbGV0ZWRJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXR1cm5lZElkcykubm90LnRvQ29udGFpbihpZCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBDbGVhbnVwXG4gICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBhY3RpdmVJZHMpIHtcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUNvbnRlbnRQYWdlKGlkLCB7IHBlcm1hbmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBkZWxldGVkSWRzKSB7XG4gICAgICAgICAgICBhd2FpdCBkZWxldGVDb250ZW50UGFnZShpZCwgeyBwZXJtYW5lbnQ6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyBudW1SdW5zOiA1MCB9XG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBub3QgcmV0dXJuIHNvZnQtZGVsZXRlZCBldmVudHMgaW4gZ3Vlc3QgcXVlcmllcycsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICBmYy5yZWNvcmQoe1xuICAgICAgICAgIGFjdGl2ZUNvdW50OiBmYy5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IDUgfSksXG4gICAgICAgICAgZGVsZXRlZENvdW50OiBmYy5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IDUgfSksXG4gICAgICAgIH0pLFxuICAgICAgICBhc3luYyAoeyBhY3RpdmVDb3VudCwgZGVsZXRlZENvdW50IH0pID0+IHtcbiAgICAgICAgICBjb25zdCBhY3RpdmVJZHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgY29uc3QgZGVsZXRlZElkczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgIC8vIENyZWF0ZSBhY3RpdmUgZXZlbnRzXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVFdmVudCh7XG4gICAgICAgICAgICAgIG5hbWU6IGBBY3RpdmUgRXZlbnQgJHtpfWAsXG4gICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBhY3RpdmVJZHMucHVzaChyZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ3JlYXRlIGFuZCBzb2Z0IGRlbGV0ZSBldmVudHNcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGV0ZWRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVFdmVudCh7XG4gICAgICAgICAgICAgIG5hbWU6IGBEZWxldGVkIEV2ZW50ICR7aX1gLFxuICAgICAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgZGVsZXRlZElkcy5wdXNoKHJlc3VsdC5kYXRhLmlkKTtcbiAgICAgICAgICAgICAgYXdhaXQgZGVsZXRlRXZlbnQocmVzdWx0LmRhdGEuaWQsIHsgcGVybWFuZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBRdWVyeSBmb3IgZXZlbnRzIChndWVzdCBxdWVyeSlcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGV2ZW50cyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdldmVudHMnKVxuICAgICAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAgICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbCk7XG5cbiAgICAgICAgICAvLyBWZXJpZnkgb25seSBhY3RpdmUgZXZlbnRzIGFyZSByZXR1cm5lZFxuICAgICAgICAgIGV4cGVjdChldmVudHM/Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChhY3RpdmVJZHMubGVuZ3RoKTtcbiAgICAgICAgICBjb25zdCByZXR1cm5lZElkcyA9IGV2ZW50cz8ubWFwKChlKSA9PiBlLmlkKSB8fCBbXTtcbiAgICAgICAgICBhY3RpdmVJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChyZXR1cm5lZElkcykudG9Db250YWluKGlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZWxldGVkSWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmV0dXJuZWRJZHMpLm5vdC50b0NvbnRhaW4oaWQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ2xlYW51cFxuICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgYWN0aXZlSWRzKSB7XG4gICAgICAgICAgICBhd2FpdCBkZWxldGVFdmVudChpZCwgeyBwZXJtYW5lbnQ6IHRydWUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgZGVsZXRlZElkcykge1xuICAgICAgICAgICAgYXdhaXQgZGVsZXRlRXZlbnQoaWQsIHsgcGVybWFuZW50OiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogNTAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IHJldHVybiBzb2Z0LWRlbGV0ZWQgYWN0aXZpdGllcyBpbiBndWVzdCBxdWVyaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgIGZjLnJlY29yZCh7XG4gICAgICAgICAgYWN0aXZlQ291bnQ6IGZjLmludGVnZXIoeyBtaW46IDEsIG1heDogNSB9KSxcbiAgICAgICAgICBkZWxldGVkQ291bnQ6IGZjLmludGVnZXIoeyBtaW46IDEsIG1heDogNSB9KSxcbiAgICAgICAgfSksXG4gICAgICAgIGFzeW5jICh7IGFjdGl2ZUNvdW50LCBkZWxldGVkQ291bnQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjdGl2ZUlkczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICBjb25zdCBkZWxldGVkSWRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGFjdGl2ZSBhY3Rpdml0aWVzXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVBY3Rpdml0eSh7XG4gICAgICAgICAgICAgIG5hbWU6IGBBY3RpdmUgQWN0aXZpdHkgJHtpfWAsXG4gICAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICAgICAgICBhY3Rpdml0eV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICBhY3RpdmVJZHMucHVzaChyZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ3JlYXRlIGFuZCBzb2Z0IGRlbGV0ZSBhY3Rpdml0aWVzXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxldGVkQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlQWN0aXZpdHkoe1xuICAgICAgICAgICAgICBuYW1lOiBgRGVsZXRlZCBBY3Rpdml0eSAke2l9YCxcbiAgICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgICAgICAgIGFjdGl2aXR5X3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZWRJZHMucHVzaChyZXN1bHQuZGF0YS5pZCk7XG4gICAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUFjdGl2aXR5KHJlc3VsdC5kYXRhLmlkLCB7IHBlcm1hbmVudDogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUXVlcnkgZm9yIGFjdGl2aXRpZXMgKGd1ZXN0IHF1ZXJ5KVxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogYWN0aXZpdGllcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdhY3Rpdml0aWVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpO1xuXG4gICAgICAgICAgLy8gVmVyaWZ5IG9ubHkgYWN0aXZlIGFjdGl2aXRpZXMgYXJlIHJldHVybmVkXG4gICAgICAgICAgZXhwZWN0KGFjdGl2aXRpZXM/Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbChhY3RpdmVJZHMubGVuZ3RoKTtcbiAgICAgICAgICBjb25zdCByZXR1cm5lZElkcyA9IGFjdGl2aXRpZXM/Lm1hcCgoYSkgPT4gYS5pZCkgfHwgW107XG4gICAgICAgICAgYWN0aXZlSWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QocmV0dXJuZWRJZHMpLnRvQ29udGFpbihpZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGVsZXRlZElkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHJldHVybmVkSWRzKS5ub3QudG9Db250YWluKGlkKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIENsZWFudXBcbiAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGFjdGl2ZUlkcykge1xuICAgICAgICAgICAgYXdhaXQgZGVsZXRlQWN0aXZpdHkoaWQsIHsgcGVybWFuZW50OiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIGRlbGV0ZWRJZHMpIHtcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUFjdGl2aXR5KGlkLCB7IHBlcm1hbmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDUwIH1cbiAgICApO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiY3JlYXRlQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJmcm9tIiwiZGVsZXRlIiwibmVxIiwiYWZ0ZXJBbGwiLCJpdCIsImZjIiwiYXNzZXJ0IiwiYXN5bmNQcm9wZXJ0eSIsInJlY29yZCIsImFjdGl2ZUNvdW50IiwiaW50ZWdlciIsIm1pbiIsIm1heCIsImRlbGV0ZWRDb3VudCIsImFjdGl2ZUlkcyIsImRlbGV0ZWRJZHMiLCJpIiwicmVzdWx0IiwiY3JlYXRlQ29udGVudFBhZ2UiLCJ0aXRsZSIsInN0YXR1cyIsInN1Y2Nlc3MiLCJwdXNoIiwiZGF0YSIsImlkIiwiZGVsZXRlQ29udGVudFBhZ2UiLCJwZXJtYW5lbnQiLCJwYWdlcyIsInNlbGVjdCIsImVxIiwiaXMiLCJleHBlY3QiLCJ0b0hhdmVMZW5ndGgiLCJsZW5ndGgiLCJyZXR1cm5lZElkcyIsIm1hcCIsInAiLCJmb3JFYWNoIiwidG9Db250YWluIiwibm90IiwibnVtUnVucyIsImNyZWF0ZUV2ZW50IiwibmFtZSIsImRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImRlbGV0ZUV2ZW50IiwiZXZlbnRzIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsImUiLCJjcmVhdGVBY3Rpdml0eSIsImFjdGl2aXR5X3R5cGUiLCJkZWxldGVBY3Rpdml0eSIsImFjdGl2aXRpZXMi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