89e4a03ff173d7b9d66d8bc01c7d64a4
/**
 * Unit Tests: TopNavigation Component
 * 
 * Tests for the horizontal top navigation system including:
 * - Tab switching
 * - Sub-item navigation
 * - Mobile menu toggle
 * - Active state highlighting
 * - State persistence
 */ "use strict";
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _TopNavigation = require("./TopNavigation");
// Mock sessionStorage
const mockSessionStorage = (()=>{
    let store = {};
    return {
        getItem: (key)=>store[key] || null,
        setItem: (key, value)=>{
            store[key] = value;
        },
        removeItem: (key)=>{
            delete store[key];
        },
        clear: ()=>{
            store = {};
        }
    };
})();
Object.defineProperty(window, 'sessionStorage', {
    value: mockSessionStorage,
    writable: true
});
describe('TopNavigation', ()=>{
    beforeEach(()=>{
        mockSessionStorage.clear();
        _navigation.usePathname.mockReturnValue('/admin');
        // Mock window.innerWidth for mobile detection
        Object.defineProperty(window, 'innerWidth', {
            writable: true,
            configurable: true,
            value: 1024
        });
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Desktop Navigation', ()=>{
        it('should render all main tabs', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const contentButtons = _react.screen.getAllByText('Content');
            expect(contentButtons.length).toBeGreaterThan(0);
            const guestsButtons = _react.screen.getAllByText('Guests');
            expect(guestsButtons.length).toBeGreaterThan(0);
            const rsvpsButtons = _react.screen.getAllByText('RSVPs');
            expect(rsvpsButtons.length).toBeGreaterThan(0);
            const logisticsButtons = _react.screen.getAllByText('Logistics');
            expect(logisticsButtons.length).toBeGreaterThan(0);
            const adminButtons = _react.screen.getAllByText('Admin');
            expect(adminButtons.length).toBeGreaterThan(0);
        });
        it('should render logo and link to dashboard', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const logoLink = _react.screen.getByRole('link', {
                name: /admin/i
            });
            expect(logoLink).toHaveAttribute('href', '/admin');
        });
        it('should highlight active tab based on pathname', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const contentTab = _react.screen.getByRole('button', {
                name: 'Content'
            });
            expect(contentTab).toHaveClass('bg-emerald-50', 'text-emerald-700');
        });
        it('should display sub-items for active tab', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            // Content tab should be active, showing its sub-items
            expect(_react.screen.getByText('Home Page')).toBeInTheDocument();
            expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            expect(_react.screen.getByText('Events')).toBeInTheDocument();
            expect(_react.screen.getByText('Content Pages')).toBeInTheDocument();
            expect(_react.screen.getByText('Locations')).toBeInTheDocument();
            expect(_react.screen.getByText('Photos')).toBeInTheDocument();
        });
        it('should highlight active sub-item', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: 'Activities'
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should switch tabs when clicking tab button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const guestsTab = _react.screen.getByRole('button', {
                name: 'Guests'
            });
            _react.fireEvent.click(guestsTab);
            // Guests tab should now be active
            expect(guestsTab).toHaveClass('bg-emerald-50', 'text-emerald-700');
            // Guests sub-items should be visible
            expect(_react.screen.getByText('Guest List')).toBeInTheDocument();
            expect(_react.screen.getByText('Guest Groups')).toBeInTheDocument();
            expect(_react.screen.getByText('Import/Export')).toBeInTheDocument();
        });
        it('should persist tab selection to sessionStorage', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const logisticsTab = _react.screen.getByRole('button', {
                name: 'Logistics'
            });
            _react.fireEvent.click(logisticsTab);
            expect(sessionStorage.getItem('activeTab')).toBe('logistics');
        });
        it('should persist sub-item selection to sessionStorage', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: 'Events'
            });
            _react.fireEvent.click(eventsLink);
            expect(sessionStorage.getItem('activeTab')).toBe('content');
            expect(sessionStorage.getItem('activeSubItem')).toBe('events');
        });
        it('should restore state from sessionStorage on mount', ()=>{
            sessionStorage.setItem('activeTab', 'rsvps');
            sessionStorage.setItem('activeSubItem', 'rsvp-analytics');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const rsvpsTab = _react.screen.getByRole('button', {
                name: 'RSVPs'
            });
            expect(rsvpsTab).toHaveClass('bg-emerald-50', 'text-emerald-700');
        });
    });
    describe('Mobile Navigation', ()=>{
        beforeEach(()=>{
            // Set mobile viewport
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 375
            });
        });
        it('should render hamburger menu button on mobile', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            expect(menuButton).toBeInTheDocument();
        });
        it('should not render desktop tabs on mobile', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            // Desktop tabs should not be visible
            const contentButtons = _react.screen.queryAllByRole('button', {
                name: 'Content'
            });
            // Should only find the mobile menu version, not desktop
            expect(contentButtons.length).toBeLessThanOrEqual(1);
        });
        it('should open mobile menu when clicking hamburger button', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('dialog', {
                    name: /mobile navigation menu/i
                })).toBeInTheDocument();
            });
        });
        it('should display all tabs in mobile menu', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('dialog', {
                    name: /mobile navigation menu/i
                })).toBeInTheDocument();
                // Check that tabs are visible in the dialog
                const dialog = _react.screen.getByRole('dialog');
                expect(dialog).toHaveTextContent('Content');
                expect(dialog).toHaveTextContent('Guests');
                expect(dialog).toHaveTextContent('RSVPs');
                expect(dialog).toHaveTextContent('Logistics');
                expect(dialog).toHaveTextContent('Admin');
            });
        });
        it('should expand tab to show sub-items when clicked in mobile menu', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                const contentTab = _react.screen.getByRole('button', {
                    name: /content/i
                });
                _react.fireEvent.click(contentTab);
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Home Page')).toBeInTheDocument();
                expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            });
        });
        it('should close mobile menu when clicking backdrop', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                const backdrop = _react.screen.getByRole('dialog').previousSibling;
                _react.fireEvent.click(backdrop);
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByRole('dialog')).not.toBeInTheDocument();
            });
        });
        it('should close mobile menu when clicking close button', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('dialog')).toBeInTheDocument();
            });
            // Get close button within the dialog
            const dialog = _react.screen.getByRole('dialog');
            const closeButton = (0, _react.within)(dialog).getByRole('button', {
                name: /close menu/i
            });
            _react.fireEvent.click(closeButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByRole('dialog')).not.toBeInTheDocument();
            });
        });
        it('should close mobile menu when pressing Escape key', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('dialog')).toBeInTheDocument();
            });
            _react.fireEvent.keyDown(document, {
                key: 'Escape'
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByRole('dialog')).not.toBeInTheDocument();
            });
        });
        it('should close mobile menu after navigating to sub-item', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                const contentTab = _react.screen.getByRole('button', {
                    name: /content/i
                });
                _react.fireEvent.click(contentTab);
            });
            await (0, _react.waitFor)(()=>{
                const activitiesLink = _react.screen.getByRole('link', {
                    name: 'Activities'
                });
                _react.fireEvent.click(activitiesLink);
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByRole('dialog')).not.toBeInTheDocument();
            });
        });
        it('should have minimum 44px touch targets on mobile', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                const contentTab = _react.screen.getByRole('button', {
                    name: /content/i
                });
                expect(contentTab).toHaveClass('min-h-[44px]');
            });
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            expect(_react.screen.getByRole('navigation', {
                name: 'Main navigation'
            })).toBeInTheDocument();
        });
        it('should mark active tab with aria-current', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const contentTab = _react.screen.getByRole('button', {
                name: 'Content'
            });
            expect(contentTab).toHaveAttribute('aria-current', 'page');
        });
        it('should mark active sub-item with aria-current', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: 'Activities'
            });
            expect(activitiesLink).toHaveAttribute('aria-current', 'page');
        });
        it('should have aria-expanded on mobile menu button', async ()=>{
            Object.defineProperty(window, 'innerWidth', {
                writable: true,
                configurable: true,
                value: 375
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const menuButton = _react.screen.getByRole('button', {
                name: /open menu/i
            });
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            _react.fireEvent.click(menuButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('dialog')).toBeInTheDocument();
            });
        });
    });
    describe('Styling', ()=>{
        it('should have sticky positioning', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const nav = _react.screen.getByRole('navigation');
            expect(nav).toHaveClass('sticky', 'top-0', 'z-50');
        });
        it('should have glassmorphism effect', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const nav = _react.screen.getByRole('navigation');
            expect(nav).toHaveClass('bg-white/90', 'backdrop-blur-md');
        });
        it('should apply emerald color scheme to active elements', ()=>{
            _navigation.usePathname.mockReturnValue('/admin/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_TopNavigation.TopNavigation, {}));
            const contentTab = _react.screen.getByRole('button', {
                name: 'Content'
            });
            expect(contentTab).toHaveClass('bg-emerald-50', 'text-emerald-700');
            const activitiesLink = _react.screen.getByRole('link', {
                name: 'Activities'
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Ub3BOYXZpZ2F0aW9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0czogVG9wTmF2aWdhdGlvbiBDb21wb25lbnRcbiAqIFxuICogVGVzdHMgZm9yIHRoZSBob3Jpem9udGFsIHRvcCBuYXZpZ2F0aW9uIHN5c3RlbSBpbmNsdWRpbmc6XG4gKiAtIFRhYiBzd2l0Y2hpbmdcbiAqIC0gU3ViLWl0ZW0gbmF2aWdhdGlvblxuICogLSBNb2JpbGUgbWVudSB0b2dnbGVcbiAqIC0gQWN0aXZlIHN0YXRlIGhpZ2hsaWdodGluZ1xuICogLSBTdGF0ZSBwZXJzaXN0ZW5jZVxuICovXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IsIHdpdGhpbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgVG9wTmF2aWdhdGlvbiB9IGZyb20gJy4vVG9wTmF2aWdhdGlvbic7XG5cbi8vIE1vY2sgTmV4dC5qcyBuYXZpZ2F0aW9uXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVBhdGhuYW1lOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgc2Vzc2lvblN0b3JhZ2VcbmNvbnN0IG1vY2tTZXNzaW9uU3RvcmFnZSA9ICgoKSA9PiB7XG4gIGxldCBzdG9yZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0SXRlbTogKGtleTogc3RyaW5nKSA9PiBzdG9yZVtrZXldIHx8IG51bGwsXG4gICAgc2V0SXRlbTogKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICBzdG9yZVtrZXldID0gdmFsdWU7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtOiAoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGRlbGV0ZSBzdG9yZVtrZXldO1xuICAgIH0sXG4gICAgY2xlYXI6ICgpID0+IHtcbiAgICAgIHN0b3JlID0ge307XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzZXNzaW9uU3RvcmFnZScsIHtcbiAgdmFsdWU6IG1vY2tTZXNzaW9uU3RvcmFnZSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuZGVzY3JpYmUoJ1RvcE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tTZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuICAgICh1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluJyk7XG4gICAgXG4gICAgLy8gTW9jayB3aW5kb3cuaW5uZXJXaWR0aCBmb3IgbW9iaWxlIGRldGVjdGlvblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lcldpZHRoJywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogMTAyNCwgLy8gRGVza3RvcCBieSBkZWZhdWx0XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEZXNrdG9wIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgYWxsIG1haW4gdGFicycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQ29udGVudCcpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRCdXR0b25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBjb25zdCBndWVzdHNCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnR3Vlc3RzJyk7XG4gICAgICBleHBlY3QoZ3Vlc3RzQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIFxuICAgICAgY29uc3QgcnN2cHNCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnUlNWUHMnKTtcbiAgICAgIGV4cGVjdChyc3Zwc0J1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGxvZ2lzdGljc0J1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdMb2dpc3RpY3MnKTtcbiAgICAgIGV4cGVjdChsb2dpc3RpY3NCdXR0b25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBjb25zdCBhZG1pbkJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdBZG1pbicpO1xuICAgICAgZXhwZWN0KGFkbWluQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGxvZ28gYW5kIGxpbmsgdG8gZGFzaGJvYXJkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxUb3BOYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbG9nb0xpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvYWRtaW4vaSB9KTtcbiAgICAgIGV4cGVjdChsb2dvTGluaykudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9hZG1pbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgYWN0aXZlIHRhYiBiYXNlZCBvbiBwYXRobmFtZScsICgpID0+IHtcbiAgICAgICh1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluL2FjdGl2aXRpZXMnKTtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRUYWIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdDb250ZW50JyB9KTtcbiAgICAgIGV4cGVjdChjb250ZW50VGFiKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC01MCcsICd0ZXh0LWVtZXJhbGQtNzAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgc3ViLWl0ZW1zIGZvciBhY3RpdmUgdGFiJywgKCkgPT4ge1xuICAgICAgKHVzZVBhdGhuYW1lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKCcvYWRtaW4vYWN0aXZpdGllcycpO1xuICAgICAgcmVuZGVyKDxUb3BOYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgLy8gQ29udGVudCB0YWIgc2hvdWxkIGJlIGFjdGl2ZSwgc2hvd2luZyBpdHMgc3ViLWl0ZW1zXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnSG9tZSBQYWdlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0V2ZW50cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbnRlbnQgUGFnZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2NhdGlvbnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQaG90b3MnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGFjdGl2ZSBzdWItaXRlbScsICgpID0+IHtcbiAgICAgICh1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluL2FjdGl2aXRpZXMnKTtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXRpZXNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogJ0FjdGl2aXRpZXMnIH0pO1xuICAgICAgZXhwZWN0KGFjdGl2aXRpZXNMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzd2l0Y2ggdGFicyB3aGVuIGNsaWNraW5nIHRhYiBidXR0b24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBndWVzdHNUYWIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdHdWVzdHMnIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGd1ZXN0c1RhYik7XG5cbiAgICAgIC8vIEd1ZXN0cyB0YWIgc2hvdWxkIG5vdyBiZSBhY3RpdmVcbiAgICAgIGV4cGVjdChndWVzdHNUYWIpLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTUwJywgJ3RleHQtZW1lcmFsZC03MDAnKTtcblxuICAgICAgLy8gR3Vlc3RzIHN1Yi1pdGVtcyBzaG91bGQgYmUgdmlzaWJsZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IExpc3QnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBHcm91cHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbXBvcnQvRXhwb3J0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBlcnNpc3QgdGFiIHNlbGVjdGlvbiB0byBzZXNzaW9uU3RvcmFnZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ2lzdGljc1RhYiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ0xvZ2lzdGljcycgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobG9naXN0aWNzVGFiKTtcblxuICAgICAgZXhwZWN0KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVRhYicpKS50b0JlKCdsb2dpc3RpY3MnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcGVyc2lzdCBzdWItaXRlbSBzZWxlY3Rpb24gdG8gc2Vzc2lvblN0b3JhZ2UnLCAoKSA9PiB7XG4gICAgICAodXNlUGF0aG5hbWUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoJy9hZG1pbi9hY3Rpdml0aWVzJyk7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogJ0V2ZW50cycgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZXZlbnRzTGluayk7XG5cbiAgICAgIGV4cGVjdChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKSkudG9CZSgnY29udGVudCcpO1xuICAgICAgZXhwZWN0KHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nKSkudG9CZSgnZXZlbnRzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlc3RvcmUgc3RhdGUgZnJvbSBzZXNzaW9uU3RvcmFnZSBvbiBtb3VudCcsICgpID0+IHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYicsICdyc3ZwcycpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsICdyc3ZwLWFuYWx5dGljcycpO1xuXG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCByc3Zwc1RhYiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ1JTVlBzJyB9KTtcbiAgICAgIGV4cGVjdChyc3Zwc1RhYikudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNTAnLCAndGV4dC1lbWVyYWxkLTcwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9iaWxlIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBTZXQgbW9iaWxlIHZpZXdwb3J0XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDM3NSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgaGFtYnVyZ2VyIG1lbnUgYnV0dG9uIG9uIG1vYmlsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9vcGVuIG1lbnUvaSB9KTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmVuZGVyIGRlc2t0b3AgdGFicyBvbiBtb2JpbGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAvLyBEZXNrdG9wIHRhYnMgc2hvdWxkIG5vdCBiZSB2aXNpYmxlXG4gICAgICBjb25zdCBjb250ZW50QnV0dG9ucyA9IHNjcmVlbi5xdWVyeUFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAnQ29udGVudCcgfSk7XG4gICAgICAvLyBTaG91bGQgb25seSBmaW5kIHRoZSBtb2JpbGUgbWVudSB2ZXJzaW9uLCBub3QgZGVza3RvcFxuICAgICAgZXhwZWN0KGNvbnRlbnRCdXR0b25zLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgb3BlbiBtb2JpbGUgbWVudSB3aGVuIGNsaWNraW5nIGhhbWJ1cmdlciBidXR0b24nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJywgeyBuYW1lOiAvbW9iaWxlIG5hdmlnYXRpb24gbWVudS9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgYWxsIHRhYnMgaW4gbW9iaWxlIG1lbnUnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJywgeyBuYW1lOiAvbW9iaWxlIG5hdmlnYXRpb24gbWVudS9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0YWJzIGFyZSB2aXNpYmxlIGluIHRoZSBkaWFsb2dcbiAgICAgICAgY29uc3QgZGlhbG9nID0gc2NyZWVuLmdldEJ5Um9sZSgnZGlhbG9nJyk7XG4gICAgICAgIGV4cGVjdChkaWFsb2cpLnRvSGF2ZVRleHRDb250ZW50KCdDb250ZW50Jyk7XG4gICAgICAgIGV4cGVjdChkaWFsb2cpLnRvSGF2ZVRleHRDb250ZW50KCdHdWVzdHMnKTtcbiAgICAgICAgZXhwZWN0KGRpYWxvZykudG9IYXZlVGV4dENvbnRlbnQoJ1JTVlBzJyk7XG4gICAgICAgIGV4cGVjdChkaWFsb2cpLnRvSGF2ZVRleHRDb250ZW50KCdMb2dpc3RpY3MnKTtcbiAgICAgICAgZXhwZWN0KGRpYWxvZykudG9IYXZlVGV4dENvbnRlbnQoJ0FkbWluJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhwYW5kIHRhYiB0byBzaG93IHN1Yi1pdGVtcyB3aGVuIGNsaWNrZWQgaW4gbW9iaWxlIG1lbnUnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50VGFiID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGVudC9pIH0pO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soY29udGVudFRhYik7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb21lIFBhZ2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjdGl2aXRpZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSBtb2JpbGUgbWVudSB3aGVuIGNsaWNraW5nIGJhY2tkcm9wJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxUb3BOYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL29wZW4gbWVudS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgYmFja2Ryb3AgPSBzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKS5wcmV2aW91c1NpYmxpbmcgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrZHJvcCk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVJvbGUoJ2RpYWxvZycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSBtb2JpbGUgbWVudSB3aGVuIGNsaWNraW5nIGNsb3NlIGJ1dHRvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9vcGVuIG1lbnUvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZXQgY2xvc2UgYnV0dG9uIHdpdGhpbiB0aGUgZGlhbG9nXG4gICAgICBjb25zdCBkaWFsb2cgPSBzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKTtcbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gd2l0aGluKGRpYWxvZykuZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbG9zZSBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5Um9sZSgnZGlhbG9nJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gcHJlc3NpbmcgRXNjYXBlIGtleScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9vcGVuIG1lbnUvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdkaWFsb2cnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmaXJlRXZlbnQua2V5RG93bihkb2N1bWVudCwgeyBrZXk6ICdFc2NhcGUnIH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5Um9sZSgnZGlhbG9nJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IGFmdGVyIG5hdmlnYXRpbmcgdG8gc3ViLWl0ZW0nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50VGFiID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGVudC9pIH0pO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soY29udGVudFRhYik7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGl2aXRpZXNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogJ0FjdGl2aXRpZXMnIH0pO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soYWN0aXZpdGllc0xpbmspO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlSb2xlKCdkaWFsb2cnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBtaW5pbXVtIDQ0cHggdG91Y2ggdGFyZ2V0cyBvbiBtb2JpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvb3BlbiBtZW51L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50VGFiID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29udGVudC9pIH0pO1xuICAgICAgICBleHBlY3QoY29udGVudFRhYikudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBsYWJlbHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicsIHsgbmFtZTogJ01haW4gbmF2aWdhdGlvbicgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1hcmsgYWN0aXZlIHRhYiB3aXRoIGFyaWEtY3VycmVudCcsICgpID0+IHtcbiAgICAgICh1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluL2FjdGl2aXRpZXMnKTtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRUYWIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdDb250ZW50JyB9KTtcbiAgICAgIGV4cGVjdChjb250ZW50VGFiKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsICdwYWdlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1hcmsgYWN0aXZlIHN1Yi1pdGVtIHdpdGggYXJpYS1jdXJyZW50JywgKCkgPT4ge1xuICAgICAgKHVzZVBhdGhuYW1lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKCcvYWRtaW4vYWN0aXZpdGllcycpO1xuICAgICAgcmVuZGVyKDxUb3BOYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgYWN0aXZpdGllc0xpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAnQWN0aXZpdGllcycgfSk7XG4gICAgICBleHBlY3QoYWN0aXZpdGllc0xpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhcmlhLWV4cGFuZGVkIG9uIG1vYmlsZSBtZW51IGJ1dHRvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lcldpZHRoJywge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogMzc1LFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9vcGVuIG1lbnUvaSB9KTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2RpYWxvZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdHlsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBzdGlja3kgcG9zaXRpb25pbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFRvcE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBuYXYgPSBzY3JlZW4uZ2V0QnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBleHBlY3QobmF2KS50b0hhdmVDbGFzcygnc3RpY2t5JywgJ3RvcC0wJywgJ3otNTAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBnbGFzc21vcnBoaXNtIGVmZmVjdCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG5hdiA9IHNjcmVlbi5nZXRCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIGV4cGVjdChuYXYpLnRvSGF2ZUNsYXNzKCdiZy13aGl0ZS85MCcsICdiYWNrZHJvcC1ibHVyLW1kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IGVtZXJhbGQgY29sb3Igc2NoZW1lIHRvIGFjdGl2ZSBlbGVtZW50cycsICgpID0+IHtcbiAgICAgICh1c2VQYXRobmFtZSBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluL2FjdGl2aXRpZXMnKTtcbiAgICAgIHJlbmRlcig8VG9wTmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGNvbnRlbnRUYWIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICdDb250ZW50JyB9KTtcbiAgICAgIGV4cGVjdChjb250ZW50VGFiKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC01MCcsICd0ZXh0LWVtZXJhbGQtNzAwJyk7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXRpZXNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogJ0FjdGl2aXRpZXMnIH0pO1xuICAgICAgZXhwZWN0KGFjdGl2aXRpZXNMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUGF0aG5hbWUiLCJmbiIsIm1vY2tTZXNzaW9uU3RvcmFnZSIsInN0b3JlIiwiZ2V0SXRlbSIsImtleSIsInNldEl0ZW0iLCJ2YWx1ZSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93Iiwid3JpdGFibGUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJtb2NrUmV0dXJuVmFsdWUiLCJjb25maWd1cmFibGUiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJyZW5kZXIiLCJUb3BOYXZpZ2F0aW9uIiwiY29udGVudEJ1dHRvbnMiLCJzY3JlZW4iLCJnZXRBbGxCeVRleHQiLCJleHBlY3QiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJndWVzdHNCdXR0b25zIiwicnN2cHNCdXR0b25zIiwibG9naXN0aWNzQnV0dG9ucyIsImFkbWluQnV0dG9ucyIsImxvZ29MaW5rIiwiZ2V0QnlSb2xlIiwibmFtZSIsInRvSGF2ZUF0dHJpYnV0ZSIsImNvbnRlbnRUYWIiLCJ0b0hhdmVDbGFzcyIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiYWN0aXZpdGllc0xpbmsiLCJndWVzdHNUYWIiLCJmaXJlRXZlbnQiLCJjbGljayIsImxvZ2lzdGljc1RhYiIsInNlc3Npb25TdG9yYWdlIiwidG9CZSIsImV2ZW50c0xpbmsiLCJyc3Zwc1RhYiIsIm1lbnVCdXR0b24iLCJxdWVyeUFsbEJ5Um9sZSIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJ3YWl0Rm9yIiwiZGlhbG9nIiwidG9IYXZlVGV4dENvbnRlbnQiLCJiYWNrZHJvcCIsInByZXZpb3VzU2libGluZyIsInF1ZXJ5QnlSb2xlIiwibm90IiwiY2xvc2VCdXR0b24iLCJ3aXRoaW4iLCJrZXlEb3duIiwiZG9jdW1lbnQiLCJuYXYiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Q0FTQztBQU1ELDBCQUEwQjtBQUMxQkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLGFBQWFGLEtBQUtHLEVBQUU7SUFDdEIsQ0FBQTs7Ozs7dUJBUDJEOzRCQUMvQjsrQkFDRTtBQU85QixzQkFBc0I7QUFDdEIsTUFBTUMscUJBQXFCLEFBQUMsQ0FBQTtJQUMxQixJQUFJQyxRQUFn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