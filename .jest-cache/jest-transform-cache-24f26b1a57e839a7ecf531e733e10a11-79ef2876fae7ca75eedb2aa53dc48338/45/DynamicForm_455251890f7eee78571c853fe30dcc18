cd3130fa9ca5b7ec7aaad1bd04af13bd
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "DynamicForm", {
    enumerable: true,
    get: function() {
        return DynamicForm;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _Button = require("./Button");
function DynamicForm({ fields, initialData = {}, schema, onSubmit, submitLabel = 'Submit', onCancel, cancelLabel = 'Cancel' }) {
    const [formState, setFormState] = (0, _react.useState)({
        data: initialData,
        errors: {},
        touched: {},
        submitting: false
    });
    // Handle field change
    const handleChange = (0, _react.useCallback)((name, value)=>{
        setFormState((prev)=>({
                ...prev,
                data: {
                    ...prev.data,
                    [name]: value
                },
                touched: {
                    ...prev.touched,
                    [name]: true
                }
            }));
    }, []);
    // Handle field blur - validate single field
    const handleBlur = (0, _react.useCallback)((name)=>{
        const validation = schema.safeParse(formState.data);
        if (!validation.success) {
            const fieldError = validation.error.issues.find((issue)=>issue.path[0] === name);
            if (fieldError) {
                setFormState((prev)=>({
                        ...prev,
                        errors: {
                            ...prev.errors,
                            [name]: fieldError.message
                        }
                    }));
            } else {
                // Clear error if field is now valid
                setFormState((prev)=>{
                    const newErrors = {
                        ...prev.errors
                    };
                    delete newErrors[name];
                    return {
                        ...prev,
                        errors: newErrors
                    };
                });
            }
        } else {
            // Clear error if validation passes
            setFormState((prev)=>{
                const newErrors = {
                    ...prev.errors
                };
                delete newErrors[name];
                return {
                    ...prev,
                    errors: newErrors
                };
            });
        }
    }, [
        formState.data,
        schema
    ]);
    // Handle form submission
    const handleSubmit = (0, _react.useCallback)(async (event)=>{
        event.preventDefault();
        // Validate all fields
        const validation = schema.safeParse(formState.data);
        if (!validation.success) {
            // Set all fields as touched
            const allTouched = fields.reduce((acc, field)=>{
                acc[field.name] = true;
                return acc;
            }, {});
            // Map errors
            const errors = validation.error.issues.reduce((acc, issue)=>{
                const fieldName = issue.path[0];
                acc[fieldName] = issue.message;
                return acc;
            }, {});
            setFormState((prev)=>({
                    ...prev,
                    errors,
                    touched: allTouched
                }));
            return;
        }
        // Submit form
        setFormState((prev)=>({
                ...prev,
                submitting: true
            }));
        try {
            await onSubmit(validation.data);
        } catch (error) {
            console.error('Form submission error:', error);
        } finally{
            setFormState((prev)=>({
                    ...prev,
                    submitting: false
                }));
        }
    }, [
        formState.data,
        schema,
        fields,
        onSubmit
    ]);
    // Render form field based on type
    const renderField = (field)=>{
        const value = formState.data[field.name] ?? '';
        const error = formState.touched[field.name] ? formState.errors[field.name] : undefined;
        const hasError = !!error;
        const baseInputClasses = `w-full px-3 py-3 md:py-2 text-base md:text-sm border rounded-md transition-colors focus:outline-none focus:ring-2 min-h-[44px] ${hasError ? 'border-volcano-500 focus:ring-volcano-500 focus:border-volcano-500' : 'border-sage-300 focus:ring-jungle-500 focus:border-jungle-500'} ${field.disabled ? 'bg-sage-100 cursor-not-allowed' : 'bg-white'}`;
        const labelClasses = `block text-sm font-medium text-sage-700 mb-1 ${field.required ? "after:content-['*'] after:ml-1 after:text-volcano-500" : ''}`;
        switch(field.type){
            case 'text':
            case 'email':
            case 'number':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: field.name,
                            className: labelClasses,
                            children: field.label
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                            id: field.name,
                            name: field.name,
                            type: field.type,
                            value: value,
                            onChange: (e)=>handleChange(field.name, field.type === 'number' ? Number(e.target.value) : e.target.value),
                            onBlur: ()=>handleBlur(field.name),
                            placeholder: field.placeholder,
                            disabled: field.disabled,
                            required: field.required,
                            className: baseInputClasses,
                            "aria-invalid": hasError,
                            "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            case 'select':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: field.name,
                            className: labelClasses,
                            children: field.label
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                            id: field.name,
                            name: field.name,
                            value: value,
                            onChange: (e)=>handleChange(field.name, e.target.value),
                            onBlur: ()=>handleBlur(field.name),
                            disabled: field.disabled,
                            required: field.required,
                            className: baseInputClasses,
                            "aria-invalid": hasError,
                            "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined,
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("option", {
                                    value: "",
                                    children: [
                                        "Select ",
                                        field.label
                                    ]
                                }),
                                field.options?.map((option)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                        value: option.value,
                                        children: option.label
                                    }, option.value))
                            ]
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            case 'textarea':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: field.name,
                            className: labelClasses,
                            children: field.label
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                            id: field.name,
                            name: field.name,
                            value: value,
                            onChange: (e)=>handleChange(field.name, e.target.value),
                            onBlur: ()=>handleBlur(field.name),
                            placeholder: field.placeholder,
                            disabled: field.disabled,
                            required: field.required,
                            rows: field.rows || 4,
                            className: baseInputClasses,
                            "aria-invalid": hasError,
                            "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            case 'date':
            case 'datetime-local':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: field.name,
                            className: labelClasses,
                            children: field.label
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                            id: field.name,
                            name: field.name,
                            type: field.type === 'datetime-local' ? 'datetime-local' : 'date',
                            value: value,
                            onChange: (e)=>handleChange(field.name, e.target.value),
                            onBlur: ()=>handleBlur(field.name),
                            disabled: field.disabled,
                            required: field.required,
                            className: baseInputClasses,
                            "aria-invalid": hasError,
                            "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            case 'checkbox':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center min-h-[44px]",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                    id: field.name,
                                    name: field.name,
                                    type: "checkbox",
                                    checked: !!value,
                                    onChange: (e)=>handleChange(field.name, e.target.checked),
                                    onBlur: ()=>handleBlur(field.name),
                                    disabled: field.disabled,
                                    className: "h-5 w-5 md:h-4 md:w-4 text-jungle-500 focus:ring-jungle-500 border-sage-300 rounded",
                                    "aria-invalid": hasError,
                                    "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    htmlFor: field.name,
                                    className: "ml-3 md:ml-2 block text-base md:text-sm text-sage-700",
                                    children: [
                                        field.label,
                                        field.required && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "ml-1 text-volcano-500",
                                            children: "*"
                                        })
                                    ]
                                })
                            ]
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500 ml-8 md:ml-6",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600 ml-8 md:ml-6",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            case 'richtext':
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            htmlFor: field.name,
                            className: labelClasses,
                            children: field.label
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                            id: field.name,
                            name: field.name,
                            value: value,
                            onChange: (e)=>handleChange(field.name, e.target.value),
                            onBlur: ()=>handleBlur(field.name),
                            placeholder: field.placeholder,
                            disabled: field.disabled,
                            required: field.required,
                            rows: field.rows || 8,
                            className: baseInputClasses,
                            "aria-invalid": hasError,
                            "aria-describedby": hasError ? `${field.name}-error` : field.helpText ? `${field.name}-help` : undefined
                        }),
                        field.helpText && !hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-help`,
                            className: "mt-1 text-sm text-sage-500",
                            children: field.helpText
                        }),
                        hasError && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            id: `${field.name}-error`,
                            className: "mt-1 text-sm text-volcano-600",
                            role: "alert",
                            children: error
                        })
                    ]
                }, field.name);
            default:
                return null;
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
        onSubmit: handleSubmit,
        noValidate: true,
        children: [
            fields.map(renderField),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex flex-col md:flex-row items-stretch md:items-center justify-end gap-3 mt-6",
                children: [
                    onCancel && /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        type: "button",
                        variant: "ghost",
                        onClick: onCancel,
                        disabled: formState.submitting,
                        className: "w-full md:w-auto order-2 md:order-1",
                        children: cancelLabel
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        type: "submit",
                        variant: "primary",
                        loading: formState.submitting,
                        disabled: formState.submitting,
                        className: "w-full md:w-auto order-1 md:order-2",
                        children: submitLabel
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy91aS9EeW5hbWljRm9ybS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHR5cGUgRm9ybUV2ZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL0J1dHRvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybUZpZWxkIHtcbiAgbmFtZTogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICB0eXBlOiAndGV4dCcgfCAnZW1haWwnIHwgJ251bWJlcicgfCAnc2VsZWN0JyB8ICd0ZXh0YXJlYScgfCAnZGF0ZScgfCAnZGF0ZXRpbWUtbG9jYWwnIHwgJ2NoZWNrYm94JyB8ICdyaWNodGV4dCc7XG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nO1xuICByZXF1aXJlZD86IGJvb2xlYW47XG4gIG9wdGlvbnM/OiB7IGxhYmVsOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfVtdO1xuICBoZWxwVGV4dD86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICByb3dzPzogbnVtYmVyOyAvLyBGb3IgdGV4dGFyZWFcbn1cblxuaW50ZXJmYWNlIER5bmFtaWNGb3JtUHJvcHMge1xuICBmaWVsZHM6IEZvcm1GaWVsZFtdO1xuICBpbml0aWFsRGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIHNjaGVtYTogei5ab2RTY2hlbWE7XG4gIG9uU3VibWl0OiAoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3VibWl0TGFiZWw/OiBzdHJpbmc7XG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZDtcbiAgY2FuY2VsTGFiZWw/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBGb3JtU3RhdGUge1xuICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBlcnJvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHRvdWNoZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICBzdWJtaXR0aW5nOiBib29sZWFuO1xufVxuXG4vKipcbiAqIER5bmFtaWNGb3JtIENvbXBvbmVudFxuICogXG4gKiBSZW5kZXJzIGEgZm9ybSBkeW5hbWljYWxseSBiYXNlZCBvbiBmaWVsZCBjb25maWd1cmF0aW9uLlxuICogVmFsaWRhdGVzIGlucHV0IHVzaW5nIFpvZCBzY2hlbWFzIGFuZCBkaXNwbGF5cyBmaWVsZC1sZXZlbCBlcnJvcnMuXG4gKiBTdXBwb3J0cyB2YXJpb3VzIGlucHV0IHR5cGVzIGluY2x1ZGluZyB0ZXh0LCBlbWFpbCwgbnVtYmVyLCBzZWxlY3QsIHRleHRhcmVhLCBkYXRlLCBkYXRldGltZSwgYW5kIGNoZWNrYm94LlxuICovXG5leHBvcnQgZnVuY3Rpb24gRHluYW1pY0Zvcm0oe1xuICBmaWVsZHMsXG4gIGluaXRpYWxEYXRhID0ge30sXG4gIHNjaGVtYSxcbiAgb25TdWJtaXQsXG4gIHN1Ym1pdExhYmVsID0gJ1N1Ym1pdCcsXG4gIG9uQ2FuY2VsLFxuICBjYW5jZWxMYWJlbCA9ICdDYW5jZWwnLFxufTogRHluYW1pY0Zvcm1Qcm9wcykge1xuICBjb25zdCBbZm9ybVN0YXRlLCBzZXRGb3JtU3RhdGVdID0gdXNlU3RhdGU8Rm9ybVN0YXRlPih7XG4gICAgZGF0YTogaW5pdGlhbERhdGEsXG4gICAgZXJyb3JzOiB7fSxcbiAgICB0b3VjaGVkOiB7fSxcbiAgICBzdWJtaXR0aW5nOiBmYWxzZSxcbiAgfSk7XG5cbiAgLy8gSGFuZGxlIGZpZWxkIGNoYW5nZVxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSB1c2VDYWxsYmFjaygobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgc2V0Rm9ybVN0YXRlKChwcmV2KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLi4ucHJldi5kYXRhLFxuICAgICAgICBbbmFtZV06IHZhbHVlLFxuICAgICAgfSxcbiAgICAgIHRvdWNoZWQ6IHtcbiAgICAgICAgLi4ucHJldi50b3VjaGVkLFxuICAgICAgICBbbmFtZV06IHRydWUsXG4gICAgICB9LFxuICAgIH0pKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBmaWVsZCBibHVyIC0gdmFsaWRhdGUgc2luZ2xlIGZpZWxkXG4gIGNvbnN0IGhhbmRsZUJsdXIgPSB1c2VDYWxsYmFjaygobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS5zYWZlUGFyc2UoZm9ybVN0YXRlLmRhdGEpO1xuICAgIFxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICBjb25zdCBmaWVsZEVycm9yID0gdmFsaWRhdGlvbi5lcnJvci5pc3N1ZXMuZmluZChcbiAgICAgICAgKGlzc3VlKSA9PiBpc3N1ZS5wYXRoWzBdID09PSBuYW1lXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoZmllbGRFcnJvcikge1xuICAgICAgICBzZXRGb3JtU3RhdGUoKHByZXYpID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIC4uLnByZXYuZXJyb3JzLFxuICAgICAgICAgICAgW25hbWVdOiBmaWVsZEVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2xlYXIgZXJyb3IgaWYgZmllbGQgaXMgbm93IHZhbGlkXG4gICAgICAgIHNldEZvcm1TdGF0ZSgocHJldikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0Vycm9ycyA9IHsgLi4ucHJldi5lcnJvcnMgfTtcbiAgICAgICAgICBkZWxldGUgbmV3RXJyb3JzW25hbWVdO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgZXJyb3JzOiBuZXdFcnJvcnMsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIGVycm9yIGlmIHZhbGlkYXRpb24gcGFzc2VzXG4gICAgICBzZXRGb3JtU3RhdGUoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgbmV3RXJyb3JzID0geyAuLi5wcmV2LmVycm9ycyB9O1xuICAgICAgICBkZWxldGUgbmV3RXJyb3JzW25hbWVdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgZXJyb3JzOiBuZXdFcnJvcnMsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtmb3JtU3RhdGUuZGF0YSwgc2NoZW1hXSk7XG5cbiAgLy8gSGFuZGxlIGZvcm0gc3VibWlzc2lvblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjayhhc3luYyAoZXZlbnQ6IEZvcm1FdmVudDxIVE1MRm9ybUVsZW1lbnQ+KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBhbGwgZmllbGRzXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHNjaGVtYS5zYWZlUGFyc2UoZm9ybVN0YXRlLmRhdGEpO1xuICAgIFxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICAvLyBTZXQgYWxsIGZpZWxkcyBhcyB0b3VjaGVkXG4gICAgICBjb25zdCBhbGxUb3VjaGVkID0gZmllbGRzLnJlZHVjZSgoYWNjLCBmaWVsZCkgPT4ge1xuICAgICAgICBhY2NbZmllbGQubmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pO1xuICAgICAgXG4gICAgICAvLyBNYXAgZXJyb3JzXG4gICAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uLmVycm9yLmlzc3Vlcy5yZWR1Y2UoKGFjYywgaXNzdWUpID0+IHtcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gaXNzdWUucGF0aFswXSBhcyBzdHJpbmc7XG4gICAgICAgIGFjY1tmaWVsZE5hbWVdID0gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pO1xuICAgICAgXG4gICAgICBzZXRGb3JtU3RhdGUoKHByZXYpID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgdG91Y2hlZDogYWxsVG91Y2hlZCxcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdWJtaXQgZm9ybVxuICAgIHNldEZvcm1TdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgc3VibWl0dGluZzogdHJ1ZSB9KSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG9uU3VibWl0KHZhbGlkYXRpb24uZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Zvcm0gc3VibWlzc2lvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEZvcm1TdGF0ZSgocHJldikgPT4gKHsgLi4ucHJldiwgc3VibWl0dGluZzogZmFsc2UgfSkpO1xuICAgIH1cbiAgfSwgW2Zvcm1TdGF0ZS5kYXRhLCBzY2hlbWEsIGZpZWxkcywgb25TdWJtaXRdKTtcblxuICAvLyBSZW5kZXIgZm9ybSBmaWVsZCBiYXNlZCBvbiB0eXBlXG4gIGNvbnN0IHJlbmRlckZpZWxkID0gKGZpZWxkOiBGb3JtRmllbGQpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGZvcm1TdGF0ZS5kYXRhW2ZpZWxkLm5hbWVdID8/ICcnO1xuICAgIGNvbnN0IGVycm9yID0gZm9ybVN0YXRlLnRvdWNoZWRbZmllbGQubmFtZV0gPyBmb3JtU3RhdGUuZXJyb3JzW2ZpZWxkLm5hbWVdIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc0Vycm9yID0gISFlcnJvcjtcblxuICAgIGNvbnN0IGJhc2VJbnB1dENsYXNzZXMgPSBgdy1mdWxsIHB4LTMgcHktMyBtZDpweS0yIHRleHQtYmFzZSBtZDp0ZXh0LXNtIGJvcmRlciByb3VuZGVkLW1kIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgbWluLWgtWzQ0cHhdICR7XG4gICAgICBoYXNFcnJvclxuICAgICAgICA/ICdib3JkZXItdm9sY2Fuby01MDAgZm9jdXM6cmluZy12b2xjYW5vLTUwMCBmb2N1czpib3JkZXItdm9sY2Fuby01MDAnXG4gICAgICAgIDogJ2JvcmRlci1zYWdlLTMwMCBmb2N1czpyaW5nLWp1bmdsZS01MDAgZm9jdXM6Ym9yZGVyLWp1bmdsZS01MDAnXG4gICAgfSAke2ZpZWxkLmRpc2FibGVkID8gJ2JnLXNhZ2UtMTAwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnYmctd2hpdGUnfWA7XG5cbiAgICBjb25zdCBsYWJlbENsYXNzZXMgPSBgYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTEgJHtcbiAgICAgIGZpZWxkLnJlcXVpcmVkID8gXCJhZnRlcjpjb250ZW50LVsnKiddIGFmdGVyOm1sLTEgYWZ0ZXI6dGV4dC12b2xjYW5vLTUwMFwiIDogJydcbiAgICB9YDtcblxuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICBjYXNlICdlbWFpbCc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQubmFtZX0gY2xhc3NOYW1lPXtsYWJlbENsYXNzZXN9PlxuICAgICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICBuYW1lPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICB0eXBlPXtmaWVsZC50eXBlfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKGZpZWxkLm5hbWUsIGZpZWxkLnR5cGUgPT09ICdudW1iZXInID8gTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSA6IGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBoYW5kbGVCbHVyKGZpZWxkLm5hbWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtmaWVsZC5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Jhc2VJbnB1dENsYXNzZXN9XG4gICAgICAgICAgICAgIGFyaWEtaW52YWxpZD17aGFzRXJyb3J9XG4gICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e2hhc0Vycm9yID8gYCR7ZmllbGQubmFtZX0tZXJyb3JgIDogZmllbGQuaGVscFRleHQgPyBgJHtmaWVsZC5uYW1lfS1oZWxwYCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7ZmllbGQuaGVscFRleHQgJiYgIWhhc0Vycm9yICYmIChcbiAgICAgICAgICAgICAgPHAgaWQ9e2Ake2ZpZWxkLm5hbWV9LWhlbHBgfSBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1zYWdlLTUwMFwiPlxuICAgICAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dH1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtoYXNFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxwIGlkPXtgJHtmaWVsZC5uYW1lfS1lcnJvcmB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXZvbGNhbm8tNjAwXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgICAge2Vycm9yfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQubmFtZX0gY2xhc3NOYW1lPXtsYWJlbENsYXNzZXN9PlxuICAgICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICBpZD17ZmllbGQubmFtZX1cbiAgICAgICAgICAgICAgbmFtZT17ZmllbGQubmFtZX1cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZShmaWVsZC5uYW1lLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gaGFuZGxlQmx1cihmaWVsZC5uYW1lKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZpZWxkLmRpc2FibGVkfVxuICAgICAgICAgICAgICByZXF1aXJlZD17ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YmFzZUlucHV0Q2xhc3Nlc31cbiAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXtoYXNFcnJvcn1cbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17aGFzRXJyb3IgPyBgJHtmaWVsZC5uYW1lfS1lcnJvcmAgOiBmaWVsZC5oZWxwVGV4dCA/IGAke2ZpZWxkLm5hbWV9LWhlbHBgIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHtmaWVsZC5sYWJlbH08L29wdGlvbj5cbiAgICAgICAgICAgICAge2ZpZWxkLm9wdGlvbnM/Lm1hcCgob3B0aW9uKSA9PiAoXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e29wdGlvbi52YWx1ZX0gdmFsdWU9e29wdGlvbi52YWx1ZX0+XG4gICAgICAgICAgICAgICAgICB7b3B0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAge2ZpZWxkLmhlbHBUZXh0ICYmICFoYXNFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxwIGlkPXtgJHtmaWVsZC5uYW1lfS1oZWxwYH0gY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtc2FnZS01MDBcIj5cbiAgICAgICAgICAgICAgICB7ZmllbGQuaGVscFRleHR9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7aGFzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8cCBpZD17YCR7ZmllbGQubmFtZX0tZXJyb3JgfSBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC12b2xjYW5vLTYwMFwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQubmFtZX0gY2xhc3NOYW1lPXtsYWJlbENsYXNzZXN9PlxuICAgICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICBuYW1lPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKGZpZWxkLm5hbWUsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBoYW5kbGVCbHVyKGZpZWxkLm5hbWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtmaWVsZC5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICByb3dzPXtmaWVsZC5yb3dzIHx8IDR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YmFzZUlucHV0Q2xhc3Nlc31cbiAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXtoYXNFcnJvcn1cbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17aGFzRXJyb3IgPyBgJHtmaWVsZC5uYW1lfS1lcnJvcmAgOiBmaWVsZC5oZWxwVGV4dCA/IGAke2ZpZWxkLm5hbWV9LWhlbHBgIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dCAmJiAhaGFzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8cCBpZD17YCR7ZmllbGQubmFtZX0taGVscGB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwXCI+XG4gICAgICAgICAgICAgICAge2ZpZWxkLmhlbHBUZXh0fVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2hhc0Vycm9yICYmIChcbiAgICAgICAgICAgICAgPHAgaWQ9e2Ake2ZpZWxkLm5hbWV9LWVycm9yYH0gY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtdm9sY2Fuby02MDBcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAnZGF0ZXRpbWUtbG9jYWwnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQubmFtZX0gY2xhc3NOYW1lPXtsYWJlbENsYXNzZXN9PlxuICAgICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGlkPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICBuYW1lPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICB0eXBlPXtmaWVsZC50eXBlID09PSAnZGF0ZXRpbWUtbG9jYWwnID8gJ2RhdGV0aW1lLWxvY2FsJyA6ICdkYXRlJ31cbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNoYW5nZShmaWVsZC5uYW1lLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gaGFuZGxlQmx1cihmaWVsZC5uYW1lKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZpZWxkLmRpc2FibGVkfVxuICAgICAgICAgICAgICByZXF1aXJlZD17ZmllbGQucmVxdWlyZWR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YmFzZUlucHV0Q2xhc3Nlc31cbiAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXtoYXNFcnJvcn1cbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17aGFzRXJyb3IgPyBgJHtmaWVsZC5uYW1lfS1lcnJvcmAgOiBmaWVsZC5oZWxwVGV4dCA/IGAke2ZpZWxkLm5hbWV9LWhlbHBgIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dCAmJiAhaGFzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8cCBpZD17YCR7ZmllbGQubmFtZX0taGVscGB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwXCI+XG4gICAgICAgICAgICAgICAge2ZpZWxkLmhlbHBUZXh0fVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2hhc0Vycm9yICYmIChcbiAgICAgICAgICAgICAgPHAgaWQ9e2Ake2ZpZWxkLm5hbWV9LWVycm9yYH0gY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtdm9sY2Fuby02MDBcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGtleT17ZmllbGQubmFtZX0gY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtaW4taC1bNDRweF1cIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLm5hbWV9XG4gICAgICAgICAgICAgICAgbmFtZT17ZmllbGQubmFtZX1cbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyEhdmFsdWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDaGFuZ2UoZmllbGQubmFtZSwgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBoYW5kbGVCbHVyKGZpZWxkLm5hbWUpfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtmaWVsZC5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTUgdy01IG1kOmgtNCBtZDp3LTQgdGV4dC1qdW5nbGUtNTAwIGZvY3VzOnJpbmctanVuZ2xlLTUwMCBib3JkZXItc2FnZS0zMDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXtoYXNFcnJvcn1cbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXtoYXNFcnJvciA/IGAke2ZpZWxkLm5hbWV9LWVycm9yYCA6IGZpZWxkLmhlbHBUZXh0ID8gYCR7ZmllbGQubmFtZX0taGVscGAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtbC0zIG1kOm1sLTIgYmxvY2sgdGV4dC1iYXNlIG1kOnRleHQtc20gdGV4dC1zYWdlLTcwMFwiPlxuICAgICAgICAgICAgICAgIHtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgICAgICB7ZmllbGQucmVxdWlyZWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSB0ZXh0LXZvbGNhbm8tNTAwXCI+Kjwvc3Bhbj59XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dCAmJiAhaGFzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8cCBpZD17YCR7ZmllbGQubmFtZX0taGVscGB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwIG1sLTggbWQ6bWwtNlwiPlxuICAgICAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dH1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtoYXNFcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxwIGlkPXtgJHtmaWVsZC5uYW1lfS1lcnJvcmB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXZvbGNhbm8tNjAwIG1sLTggbWQ6bWwtNlwiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgICAgIHtlcnJvcn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgY2FzZSAncmljaHRleHQnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYga2V5PXtmaWVsZC5uYW1lfSBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17ZmllbGQubmFtZX0gY2xhc3NOYW1lPXtsYWJlbENsYXNzZXN9PlxuICAgICAgICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIGlkPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICBuYW1lPXtmaWVsZC5uYW1lfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ2hhbmdlKGZpZWxkLm5hbWUsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBoYW5kbGVCbHVyKGZpZWxkLm5hbWUpfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17ZmllbGQucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtmaWVsZC5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgcmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfVxuICAgICAgICAgICAgICByb3dzPXtmaWVsZC5yb3dzIHx8IDh9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YmFzZUlucHV0Q2xhc3Nlc31cbiAgICAgICAgICAgICAgYXJpYS1pbnZhbGlkPXtoYXNFcnJvcn1cbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17aGFzRXJyb3IgPyBgJHtmaWVsZC5uYW1lfS1lcnJvcmAgOiBmaWVsZC5oZWxwVGV4dCA/IGAke2ZpZWxkLm5hbWV9LWhlbHBgIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtmaWVsZC5oZWxwVGV4dCAmJiAhaGFzRXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8cCBpZD17YCR7ZmllbGQubmFtZX0taGVscGB9IGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwXCI+XG4gICAgICAgICAgICAgICAge2ZpZWxkLmhlbHBUZXh0fVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2hhc0Vycm9yICYmIChcbiAgICAgICAgICAgICAgPHAgaWQ9e2Ake2ZpZWxkLm5hbWV9LWVycm9yYH0gY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtdm9sY2Fuby02MDBcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IG5vVmFsaWRhdGU+XG4gICAgICB7ZmllbGRzLm1hcChyZW5kZXJGaWVsZCl9XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBpdGVtcy1zdHJldGNoIG1kOml0ZW1zLWNlbnRlciBqdXN0aWZ5LWVuZCBnYXAtMyBtdC02XCI+XG4gICAgICAgIHtvbkNhbmNlbCAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgb25DbGljaz17b25DYW5jZWx9XG4gICAgICAgICAgICBkaXNhYmxlZD17Zm9ybVN0YXRlLnN1Ym1pdHRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy1hdXRvIG9yZGVyLTIgbWQ6b3JkZXItMVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2NhbmNlbExhYmVsfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgIGxvYWRpbmc9e2Zvcm1TdGF0ZS5zdWJtaXR0aW5nfVxuICAgICAgICAgIGRpc2FibGVkPXtmb3JtU3RhdGUuc3VibWl0dGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy1hdXRvIG9yZGVyLTEgbWQ6b3JkZXItMlwiXG4gICAgICAgID5cbiAgICAgICAgICB7c3VibWl0TGFiZWx9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkR5bmFtaWNGb3JtIiwiZmllbGRzIiwiaW5pdGlhbERhdGEiLCJzY2hlbWEiLCJvblN1Ym1pdCIsInN1Ym1pdExhYmVsIiwib25DYW5jZWwiLCJjYW5jZWxMYWJlbCIsImZvcm1TdGF0ZSIsInNldEZvcm1TdGF0ZSIsInVzZVN0YXRlIiwiZGF0YSIsImVycm9ycyIsInRvdWNoZWQiLCJzdWJtaXR0aW5nIiwiaGFuZGxlQ2hhbmdlIiwidXNlQ2FsbGJhY2siLCJuYW1lIiwidmFsdWUiLCJwcmV2IiwiaGFuZGxlQmx1ciIsInZhbGlkYXRpb24iLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZmllbGRFcnJvciIsImVycm9yIiwiaXNzdWVzIiwiZmluZCIsImlzc3VlIiwicGF0aCIsIm1lc3NhZ2UiLCJuZXdFcnJvcnMiLCJoYW5kbGVTdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWxsVG91Y2hlZCIsInJlZHVjZSIsImFjYyIsImZpZWxkIiwiZmllbGROYW1lIiwiY29uc29sZSIsInJlbmRlckZpZWxkIiwidW5kZWZpbmVkIiwiaGFzRXJyb3IiLCJiYXNlSW5wdXRDbGFzc2VzIiwiZGlzYWJsZWQiLCJsYWJlbENsYXNzZXMiLCJyZXF1aXJlZCIsInR5cGUiLCJkaXYiLCJjbGFzc05hbWUiLCJsYWJlbCIsImh0bWxGb3IiLCJpbnB1dCIsImlkIiwib25DaGFuZ2UiLCJlIiwiTnVtYmVyIiwidGFyZ2V0Iiwib25CbHVyIiwicGxhY2Vob2xkZXIiLCJhcmlhLWludmFsaWQiLCJhcmlhLWRlc2NyaWJlZGJ5IiwiaGVscFRleHQiLCJwIiwicm9sZSIsInNlbGVjdCIsIm9wdGlvbiIsIm9wdGlvbnMiLCJtYXAiLCJ0ZXh0YXJlYSIsInJvd3MiLCJjaGVja2VkIiwic3BhbiIsImZvcm0iLCJub1ZhbGlkYXRlIiwiQnV0dG9uIiwidmFyaWFudCIsIm9uQ2xpY2siLCJsb2FkaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBMENnQkE7OztlQUFBQTs7Ozt1QkF4Q3NDO3dCQUUvQjtBQXNDaEIsU0FBU0EsWUFBWSxFQUMxQkMsTUFBTSxFQUNOQyxjQUFjLENBQUMsQ0FBQyxFQUNoQkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLGNBQWMsUUFBUSxFQUN0QkMsUUFBUSxFQUNSQyxjQUFjLFFBQVEsRUFDTDtJQUNqQixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR0MsSUFBQUEsZUFBUSxF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