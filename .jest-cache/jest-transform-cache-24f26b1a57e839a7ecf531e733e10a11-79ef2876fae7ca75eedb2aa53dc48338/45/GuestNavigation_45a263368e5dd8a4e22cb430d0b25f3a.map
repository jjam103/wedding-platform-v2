{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/GuestNavigation.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { \n  Home, \n  Calendar, \n  Activity, \n  MapPin, \n  Camera, \n  Info,\n  Menu,\n  X,\n  ChevronDown,\n} from 'lucide-react';\n\ninterface NavTab {\n  id: string;\n  label: string;\n  href: string;\n  icon: React.ComponentType<{ className?: string }>;\n  subItems?: NavSubItem[];\n}\n\ninterface NavSubItem {\n  label: string;\n  href: string;\n}\n\nconst NAV_TABS: NavTab[] = [\n  {\n    id: 'home',\n    label: 'Home',\n    href: '/guest/dashboard',\n    icon: Home,\n  },\n  {\n    id: 'events',\n    label: 'Events',\n    href: '/guest/events',\n    icon: Calendar,\n  },\n  {\n    id: 'activities',\n    label: 'Activities',\n    href: '/guest/activities',\n    icon: Activity,\n  },\n  {\n    id: 'itinerary',\n    label: 'Itinerary',\n    href: '/guest/itinerary',\n    icon: MapPin,\n  },\n  {\n    id: 'photos',\n    label: 'Photos',\n    href: '/guest/photos',\n    icon: Camera,\n  },\n  {\n    id: 'info',\n    label: 'Info',\n    href: '/guest/info',\n    icon: Info,\n    subItems: [\n      { label: 'Accommodation', href: '/guest/accommodation' },\n      { label: 'Transportation', href: '/guest/transportation' },\n      { label: 'Family', href: '/guest/family' },\n      { label: 'Our Story', href: '/our-story' },\n    ],\n  },\n];\n\nexport function GuestNavigation() {\n  const pathname = usePathname();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [activeDropdown, setActiveDropdown] = useState<string | null>(null);\n\n  const isActive = useCallback((href: string, subItems?: NavSubItem[]) => {\n    if (pathname === href) return true;\n    if (subItems) {\n      return subItems.some(item => pathname === item.href);\n    }\n    return false;\n  }, [pathname]);\n\n  const toggleDropdown = useCallback((tabId: string) => {\n    setActiveDropdown(prev => prev === tabId ? null : tabId);\n  }, []);\n\n  const closeMobileMenu = useCallback(() => {\n    setMobileMenuOpen(false);\n    setActiveDropdown(null);\n  }, []);\n\n  return (\n    <>\n      {/* Desktop Navigation */}\n      <nav className=\"hidden md:block sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-sage-200 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            {/* Logo/Title */}\n            <div className=\"flex-shrink-0\">\n              <Link \n                href=\"/guest/dashboard\"\n                className=\"text-xl font-bold text-jungle-700 hover:text-jungle-800 transition-colors\"\n              >\n                Wedding Portal\n              </Link>\n            </div>\n\n            {/* Navigation Tabs */}\n            <div className=\"flex items-center space-x-1\">\n              {NAV_TABS.map((tab) => {\n                const Icon = tab.icon;\n                const active = isActive(tab.href, tab.subItems);\n\n                if (tab.subItems) {\n                  return (\n                    <div key={tab.id} className=\"relative\">\n                      <button\n                        onClick={() => toggleDropdown(tab.id)}\n                        className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                          active\n                            ? 'bg-emerald-600 text-white'\n                            : 'text-sage-700 hover:bg-sage-100'\n                        }`}\n                        aria-expanded={activeDropdown === tab.id}\n                        aria-haspopup=\"true\"\n                      >\n                        <Icon className=\"w-4 h-4\" />\n                        <span>{tab.label}</span>\n                        <ChevronDown \n                          className={`w-4 h-4 transition-transform ${\n                            activeDropdown === tab.id ? 'rotate-180' : ''\n                          }`}\n                        />\n                      </button>\n\n                      {/* Dropdown Menu */}\n                      {activeDropdown === tab.id && (\n                        <div className=\"absolute top-full left-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-sage-200 py-1 z-50\">\n                          {tab.subItems.map((subItem) => (\n                            <Link\n                              key={subItem.href}\n                              href={subItem.href}\n                              onClick={() => setActiveDropdown(null)}\n                              className={`block px-4 py-2 text-sm transition-colors ${\n                                pathname === subItem.href\n                                  ? 'bg-emerald-50 text-emerald-700 font-medium'\n                                  : 'text-sage-700 hover:bg-sage-50'\n                              }`}\n                            >\n                              {subItem.label}\n                            </Link>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  );\n                }\n\n                return (\n                  <Link\n                    key={tab.id}\n                    href={tab.href}\n                    className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                      active\n                        ? 'bg-emerald-600 text-white'\n                        : 'text-sage-700 hover:bg-sage-100'\n                    }`}\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    <span>{tab.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n\n            {/* User Menu */}\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href=\"/api/auth/logout\"\n                className=\"text-sm text-sage-600 hover:text-sage-900 font-medium\"\n              >\n                Logout\n              </Link>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Mobile Navigation */}\n      <nav className=\"md:hidden sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-sage-200 shadow-sm\">\n        <div className=\"px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            {/* Logo/Title */}\n            <Link \n              href=\"/guest/dashboard\"\n              className=\"text-lg font-bold text-jungle-700\"\n            >\n              Wedding Portal\n            </Link>\n\n            {/* Hamburger Menu Button */}\n            <button\n              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n              className=\"p-2 rounded-lg text-sage-700 hover:bg-sage-100 transition-colors\"\n              aria-label={mobileMenuOpen ? 'Close menu' : 'Open menu'}\n              aria-expanded={mobileMenuOpen}\n            >\n              {mobileMenuOpen ? (\n                <X className=\"w-6 h-6\" />\n              ) : (\n                <Menu className=\"w-6 h-6\" />\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Menu Overlay */}\n        {mobileMenuOpen && (\n          <>\n            {/* Backdrop */}\n            <div \n              className=\"fixed inset-0 bg-black/50 z-40\"\n              onClick={closeMobileMenu}\n              aria-hidden=\"true\"\n            />\n\n            {/* Menu Panel */}\n            <div className=\"fixed inset-y-0 right-0 w-full max-w-sm bg-white z-50 shadow-xl overflow-y-auto\">\n              <div className=\"p-4\">\n                {/* Close Button */}\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"text-xl font-bold text-jungle-700\">Menu</h2>\n                  <button\n                    onClick={closeMobileMenu}\n                    className=\"p-2 rounded-lg text-sage-700 hover:bg-sage-100 transition-colors\"\n                    aria-label=\"Close menu\"\n                  >\n                    <X className=\"w-6 h-6\" />\n                  </button>\n                </div>\n\n                {/* Navigation Items */}\n                <div className=\"space-y-2\">\n                  {NAV_TABS.map((tab) => {\n                    const Icon = tab.icon;\n                    const active = isActive(tab.href, tab.subItems);\n\n                    if (tab.subItems) {\n                      return (\n                        <div key={tab.id}>\n                          <button\n                            onClick={() => toggleDropdown(tab.id)}\n                            className={`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg text-base font-medium transition-colors ${\n                              active\n                                ? 'bg-emerald-600 text-white'\n                                : 'text-sage-700 hover:bg-sage-100'\n                            }`}\n                            style={{ minHeight: '44px' }} // Touch target size\n                          >\n                            <div className=\"flex items-center gap-3\">\n                              <Icon className=\"w-5 h-5\" />\n                              <span>{tab.label}</span>\n                            </div>\n                            <ChevronDown \n                              className={`w-5 h-5 transition-transform ${\n                                activeDropdown === tab.id ? 'rotate-180' : ''\n                              }`}\n                            />\n                          </button>\n\n                          {/* Sub Items */}\n                          {activeDropdown === tab.id && (\n                            <div className=\"mt-1 ml-4 space-y-1\">\n                              {tab.subItems.map((subItem) => (\n                                <Link\n                                  key={subItem.href}\n                                  href={subItem.href}\n                                  onClick={closeMobileMenu}\n                                  className={`block px-4 py-3 rounded-lg text-sm transition-colors ${\n                                    pathname === subItem.href\n                                      ? 'bg-emerald-50 text-emerald-700 font-medium'\n                                      : 'text-sage-700 hover:bg-sage-50'\n                                  }`}\n                                  style={{ minHeight: '44px' }} // Touch target size\n                                >\n                                  {subItem.label}\n                                </Link>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                      );\n                    }\n\n                    return (\n                      <Link\n                        key={tab.id}\n                        href={tab.href}\n                        onClick={closeMobileMenu}\n                        className={`flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-colors ${\n                          active\n                            ? 'bg-emerald-600 text-white'\n                            : 'text-sage-700 hover:bg-sage-100'\n                        }`}\n                        style={{ minHeight: '44px' }} // Touch target size\n                      >\n                        <Icon className=\"w-5 h-5\" />\n                        <span>{tab.label}</span>\n                      </Link>\n                    );\n                  })}\n                </div>\n\n                {/* Logout Button */}\n                <div className=\"mt-6 pt-6 border-t border-sage-200\">\n                  <Link\n                    href=\"/api/auth/logout\"\n                    onClick={closeMobileMenu}\n                    className=\"block w-full px-4 py-3 text-center rounded-lg text-base font-medium text-sage-700 hover:bg-sage-100 transition-colors\"\n                    style={{ minHeight: '44px' }} // Touch target size\n                  >\n                    Logout\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </nav>\n    </>\n  );\n}\n"],"names":["GuestNavigation","NAV_TABS","id","label","href","icon","Home","Calendar","Activity","MapPin","Camera","Info","subItems","pathname","usePathname","mobileMenuOpen","setMobileMenuOpen","useState","activeDropdown","setActiveDropdown","isActive","useCallback","some","item","toggleDropdown","tabId","prev","closeMobileMenu","nav","className","div","Link","map","tab","Icon","active","button","onClick","aria-expanded","aria-haspopup","span","ChevronDown","subItem","aria-label","X","Menu","aria-hidden","h2","style","minHeight"],"mappings":"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"}