{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/vendorBookingSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Base schema for vendor booking data without refinements.\n */\nconst baseVendorBookingSchema = z.object({\n  vendorId: z.string().uuid('Invalid vendor ID format'),\n  activityId: z.string().uuid('Invalid activity ID format').nullable().optional(),\n  eventId: z.string().uuid('Invalid event ID format').nullable().optional(),\n  bookingDate: z.string(),\n  notes: z.string().max(2000, 'Notes must be 2000 characters or less').nullable().optional(),\n});\n\n/**\n * Schema for creating a new vendor booking.\n * All required fields must be provided.\n */\nexport const createVendorBookingSchema = baseVendorBookingSchema.refine(\n  (data) => {\n    // Must have either activityId or eventId, but not both\n    return (data.activityId && !data.eventId) || (!data.activityId && data.eventId);\n  },\n  {\n    message: 'Must specify either activityId or eventId, but not both',\n    path: ['activityId'],\n  }\n);\n\n/**\n * Schema for updating an existing vendor booking.\n * All fields are optional for partial updates.\n */\nexport const updateVendorBookingSchema = baseVendorBookingSchema.partial().refine(\n  (data) => {\n    // If both are provided, must have either activityId or eventId, but not both\n    if (data.activityId !== undefined && data.eventId !== undefined) {\n      return (data.activityId && !data.eventId) || (!data.activityId && data.eventId);\n    }\n    return true;\n  },\n  {\n    message: 'Must specify either activityId or eventId, but not both',\n    path: ['activityId'],\n  }\n);\n\n/**\n * Schema for vendor booking list filters.\n */\nexport const vendorBookingFilterSchema = z.object({\n  vendorId: z.string().uuid().optional(),\n  activityId: z.string().uuid().optional(),\n  eventId: z.string().uuid().optional(),\n  page: z.number().int().positive().optional(),\n  pageSize: z.number().int().positive().max(100).optional(),\n});\n\n/**\n * Type definitions derived from schemas.\n */\nexport type CreateVendorBookingDTO = z.infer<typeof createVendorBookingSchema>;\nexport type UpdateVendorBookingDTO = z.infer<typeof updateVendorBookingSchema>;\nexport type VendorBookingFilterDTO = z.infer<typeof vendorBookingFilterSchema>;\n\n/**\n * Vendor booking entity type matching database structure.\n */\nexport interface VendorBooking {\n  id: string;\n  vendorId: string;\n  activityId: string | null;\n  eventId: string | null;\n  bookingDate: string;\n  notes: string | null;\n  createdAt: string;\n}\n\n/**\n * Paginated vendor booking list response.\n */\nexport interface PaginatedVendorBookings {\n  bookings: VendorBooking[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\n/**\n * Vendor booking with related vendor and activity/event details.\n */\nexport interface VendorBookingWithDetails {\n  id: string;\n  vendorId: string;\n  vendorName: string;\n  vendorCategory: string;\n  activityId: string | null;\n  activityName: string | null;\n  eventId: string | null;\n  eventName: string | null;\n  bookingDate: string;\n  notes: string | null;\n  createdAt: string;\n}\n"],"names":["createVendorBookingSchema","updateVendorBookingSchema","vendorBookingFilterSchema","baseVendorBookingSchema","z","object","vendorId","string","uuid","activityId","nullable","optional","eventId","bookingDate","notes","max","refine","data","message","path","partial","undefined","page","number","int","positive","pageSize"],"mappings":";;;;;;;;;;;QAiBaA;eAAAA;;QAeAC;eAAAA;;QAiBAC;eAAAA;;;qBAjDK;AAElB;;CAEC,GACD,MAAMC,0BAA0BC,MAAC,CAACC,MAAM,CAAC;IACvCC,UAAUF,MAAC,CAACG,MAAM,GAAGC,IAAI,CAAC;IAC1BC,YAAYL,MAAC,CAACG,MAAM,GAAGC,IAAI,CAAC,8BAA8BE,QAAQ,GAAGC,QAAQ;IAC7EC,SAASR,MAAC,CAACG,MAAM,GAAGC,IAAI,CAAC,2BAA2BE,QAAQ,GAAGC,QAAQ;IACvEE,aAAaT,MAAC,CAACG,MAAM;IACrBO,OAAOV,MAAC,CAACG,MAAM,GAAGQ,GAAG,CAAC,MAAM,yCAAyCL,QAAQ,GAAGC,QAAQ;AAC1F;AAMO,MAAMX,4BAA4BG,wBAAwBa,MAAM,CACrE,CAACC;IACC,uDAAuD;IACvD,OAAO,AAACA,KAAKR,UAAU,IAAI,CAACQ,KAAKL,OAAO,IAAM,CAACK,KAAKR,UAAU,IAAIQ,KAAKL,OAAO;AAChF,GACA;IACEM,SAAS;IACTC,MAAM;QAAC;KAAa;AACtB;AAOK,MAAMlB,4BAA4BE,wBAAwBiB,OAAO,GAAGJ,MAAM,CAC/E,CAACC;IACC,6EAA6E;IAC7E,IAAIA,KAAKR,UAAU,KAAKY,aAAaJ,KAAKL,OAAO,KAAKS,WAAW;QAC/D,OAAO,AAACJ,KAAKR,UAAU,IAAI,CAACQ,KAAKL,OAAO,IAAM,CAACK,KAAKR,UAAU,IAAIQ,KAAKL,OAAO;IAChF;IACA,OAAO;AACT,GACA;IACEM,SAAS;IACTC,MAAM;QAAC;KAAa;AACtB;AAMK,MAAMjB,4BAA4BE,MAAC,CAACC,MAAM,CAAC;IAChDC,UAAUF,MAAC,CAACG,MAAM,GAAGC,IAAI,GAAGG,QAAQ;IACpCF,YAAYL,MAAC,CAACG,MAAM,GAAGC,IAAI,GAAGG,QAAQ;IACtCC,SAASR,MAAC,CAACG,MAAM,GAAGC,IAAI,GAAGG,QAAQ;IACnCW,MAAMlB,MAAC,CAACmB,MAAM,GAAGC,GAAG,GAAGC,QAAQ,GAAGd,QAAQ;IAC1Ce,UAAUtB,MAAC,CAACmB,MAAM,GAAGC,GAAG,GAAGC,QAAQ,GAAGV,GAAG,CAAC,KAAKJ,QAAQ;AACzD"}