{"version":3,"names":["RoomTypeSectionsPage","params","cov_2ad299aw87","f","router","s","_navigation","useRouter","addToast","_ToastContext","useToast","accommodationId","setAccommodationId","_react","useState","roomTypeId","setRoomTypeId","roomTypeName","setRoomTypeName","loading","setLoading","useEffect","then","id","rtId","fetchRoomTypeDetails","accId","response","fetch","result","json","b","success","data","name","type","message","error","handleSave","handleClose","push","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","onClick","_SectionEditor","SectionEditor","pageType","pageId","onSave","onClose"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/accommodations/[id]/room-types/[roomTypeId]/sections/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { SectionEditor } from '@/components/admin/SectionEditor';\nimport { Button } from '@/components/ui/Button';\nimport { useToast } from '@/components/ui/ToastContext';\n\ninterface PageProps {\n  params: Promise<{ id: string; roomTypeId: string }>;\n}\n\n/**\n * Room Type Sections Management Page\n * \n * Provides section editing interface for room type pages.\n * Uses SectionEditor component for managing rich content sections.\n */\nexport default function RoomTypeSectionsPage({ params }: PageProps) {\n  const router = useRouter();\n  const { addToast } = useToast();\n  const [accommodationId, setAccommodationId] = useState<string>('');\n  const [roomTypeId, setRoomTypeId] = useState<string>('');\n  const [roomTypeName, setRoomTypeName] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  // Unwrap params Promise\n  useEffect(() => {\n    params.then(({ id, roomTypeId: rtId }) => {\n      setAccommodationId(id);\n      setRoomTypeId(rtId);\n      fetchRoomTypeDetails(id, rtId);\n    });\n  }, [params]);\n\n  const fetchRoomTypeDetails = async (accId: string, rtId: string) => {\n    try {\n      const response = await fetch(`/api/admin/accommodations/${accId}/room-types/${rtId}`);\n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        setRoomTypeName(result.data.name);\n      } else {\n        addToast({\n          type: 'error',\n          message: 'Failed to load room type details',\n        });\n      }\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: 'Failed to load room type details',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = () => {\n    addToast({\n      type: 'success',\n      message: 'Sections saved successfully',\n    });\n  };\n\n  const handleClose = () => {\n    router.push(`/admin/accommodations/${accommodationId}/room-types`);\n  };\n\n  if (loading || !roomTypeId) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between border-b border-gray-200 pb-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-sage-900\">Manage Sections</h1>\n          <p className=\"text-sage-600 mt-1\">\n            {roomTypeName ? `Room Type: ${roomTypeName}` : 'Room Type Sections'}\n          </p>\n        </div>\n        <Button\n          variant=\"secondary\"\n          onClick={handleClose}\n          aria-label=\"Back to room types\"\n        >\n          ‚Üê Back to Room Types\n        </Button>\n      </div>\n\n      {/* Section Editor */}\n      <SectionEditor\n        pageType=\"room_type\"\n        pageId={roomTypeId}\n        onSave={handleSave}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}