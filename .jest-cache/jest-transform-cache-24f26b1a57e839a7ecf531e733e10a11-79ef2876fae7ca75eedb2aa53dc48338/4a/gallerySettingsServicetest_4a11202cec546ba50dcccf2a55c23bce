6e3143769c346bbe0152c7b8f2228cc8
"use strict";
jest.mock('../lib/supabase', ()=>({
        supabase: mockSupabase
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _gallerySettingsService = require("./gallerySettingsService");
const _mockSupabase = require("../__tests__/helpers/mockSupabase");
// Mock the supabase lib at the module level
const mockSupabase = (0, _mockSupabase.createMockSupabaseClient)();
describe('gallerySettingsService', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('getSettings', ()=>{
        it('should return success with gallery settings when settings exist', async ()=>{
            const mockSettings = {
                id: 'settings-123',
                page_type: 'activity',
                page_id: 'activity-456',
                display_mode: 'gallery',
                show_captions: true,
                created_at: '2024-01-01T10:00:00Z',
                updated_at: '2024-01-01T10:00:00Z'
            };
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: mockSettings,
                                error: null
                            })
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.getSettings)('activity', 'activity-456');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toEqual(mockSettings);
            }
        });
        it('should return success with default settings when no settings found', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: null,
                                error: {
                                    code: 'PGRST116'
                                }
                            })
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.getSettings)('event', 'event-789');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.page_type).toBe('event');
                expect(result.data.page_id).toBe('event-789');
                expect(result.data.display_mode).toBe('gallery');
                expect(result.data.show_captions).toBe(true);
                expect(result.data.id).toBe('');
            }
        });
        it('should return DATABASE_ERROR when query fails with other error', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockReturnValue({
                            single: jest.fn().mockResolvedValue({
                                data: null,
                                error: {
                                    code: 'OTHER_ERROR',
                                    message: 'Database error'
                                }
                            })
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.getSettings)('accommodation', 'accommodation-123');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.getSettings)('room_type', 'room-123');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
    describe('upsertSettings', ()=>{
        it('should return success with created settings when valid data provided', async ()=>{
            const validData = {
                page_type: 'activity',
                page_id: 'activity-456',
                display_mode: 'carousel',
                photos_per_row: 3,
                show_captions: false,
                autoplay_interval: 5000,
                transition_effect: 'fade'
            };
            const mockCreatedSettings = {
                id: 'settings-123',
                ...validData,
                created_at: '2024-01-01T10:00:00Z',
                updated_at: '2024-01-01T10:00:00Z'
            };
            mockSupabase.from.mockReturnValue({
                upsert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: mockCreatedSettings,
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.upsertSettings)(validData);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toEqual(mockCreatedSettings);
            }
        });
        it('should return VALIDATION_ERROR when invalid data provided', async ()=>{
            const invalidData = {
                page_type: 'invalid',
                page_id: '',
                display_mode: 'invalid'
            };
            const result = await (0, _gallerySettingsService.upsertSettings)(invalidData);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when upsert fails', async ()=>{
            const validData = {
                page_type: 'activity',
                page_id: 'activity-456',
                display_mode: 'gallery'
            };
            mockSupabase.from.mockReturnValue({
                upsert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                message: 'Upsert failed'
                            }
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.upsertSettings)(validData);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            const validData = {
                page_type: 'activity',
                page_id: 'activity-456',
                display_mode: 'gallery'
            };
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.upsertSettings)(validData);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
    describe('updateDisplayMode', ()=>{
        it('should return success when display mode updated successfully', async ()=>{
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: null
                    })
                })
            });
            const result = await (0, _gallerySettingsService.updateDisplayMode)('page-123', 'carousel');
            expect(result.success).toBe(true);
        });
        it('should return DATABASE_ERROR when update fails', async ()=>{
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: {
                            message: 'Update failed'
                        }
                    })
                })
            });
            const result = await (0, _gallerySettingsService.updateDisplayMode)('page-123', 'loop');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.updateDisplayMode)('page-123', 'gallery');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
    describe('updatePhotoOrder', ()=>{
        it('should return success when photo order updated successfully', async ()=>{
            const photoIds = [
                'photo-1',
                'photo-2',
                'photo-3'
            ];
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockResolvedValue({
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.updatePhotoOrder)('page-123', photoIds);
            expect(result.success).toBe(true);
            expect(mockSupabase.from).toHaveBeenCalledWith('photos');
        });
        it('should return DATABASE_ERROR when some updates fail', async ()=>{
            const photoIds = [
                'photo-1',
                'photo-2'
            ];
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        eq: jest.fn().mockResolvedValueOnce({
                            error: null
                        }).mockResolvedValueOnce({
                            error: {
                                message: 'Update failed'
                            }
                        })
                    })
                })
            });
            const result = await (0, _gallerySettingsService.updatePhotoOrder)('page-123', photoIds);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.updatePhotoOrder)('page-123', [
                'photo-1'
            ]);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
    describe('configureGallery', ()=>{
        it('should return success when gallery configured successfully', async ()=>{
            const options = {
                photos_per_row: 4,
                show_captions: true,
                autoplay_interval: 3000,
                transition_effect: 'slide'
            };
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: null
                    })
                })
            });
            const result = await (0, _gallerySettingsService.configureGallery)('page-123', options);
            expect(result.success).toBe(true);
        });
        it('should return VALIDATION_ERROR when invalid options provided', async ()=>{
            const invalidOptions = {
                photos_per_row: -1,
                show_captions: 'invalid'
            };
            const result = await (0, _gallerySettingsService.configureGallery)('page-123', invalidOptions);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when update fails', async ()=>{
            const options = {
                photos_per_row: 3,
                show_captions: false
            };
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: {
                            message: 'Update failed'
                        }
                    })
                })
            });
            const result = await (0, _gallerySettingsService.configureGallery)('page-123', options);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.configureGallery)('page-123', {});
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
    describe('deleteSettings', ()=>{
        it('should return success when settings deleted successfully', async ()=>{
            mockSupabase.from.mockReturnValue({
                delete: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: null
                    })
                })
            });
            const result = await (0, _gallerySettingsService.deleteSettings)('page-123');
            expect(result.success).toBe(true);
        });
        it('should return DATABASE_ERROR when delete fails', async ()=>{
            mockSupabase.from.mockReturnValue({
                delete: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        error: {
                            message: 'Delete failed'
                        }
                    })
                })
            });
            const result = await (0, _gallerySettingsService.deleteSettings)('page-123');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
        it('should return UNKNOWN_ERROR when unexpected error occurs', async ()=>{
            mockSupabase.from.mockImplementation(()=>{
                throw new Error('Unexpected error');
            });
            const result = await (0, _gallerySettingsService.deleteSettings)('page-123');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('UNKNOWN_ERROR');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvZ2FsbGVyeVNldHRpbmdzU2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldFNldHRpbmdzLFxuICB1cHNlcnRTZXR0aW5ncyxcbiAgdXBkYXRlRGlzcGxheU1vZGUsXG4gIHVwZGF0ZVBob3RvT3JkZXIsXG4gIGNvbmZpZ3VyZUdhbGxlcnksXG4gIGRlbGV0ZVNldHRpbmdzLFxufSBmcm9tICcuL2dhbGxlcnlTZXR0aW5nc1NlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50IH0gZnJvbSAnLi4vX190ZXN0c19fL2hlbHBlcnMvbW9ja1N1cGFiYXNlJztcblxuLy8gTW9jayB0aGUgc3VwYWJhc2UgbGliIGF0IHRoZSBtb2R1bGUgbGV2ZWxcbmNvbnN0IG1vY2tTdXBhYmFzZSA9IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCgpO1xuamVzdC5tb2NrKCcuLi9saWIvc3VwYWJhc2UnLCAoKSA9PiAoe1xuICBzdXBhYmFzZTogbW9ja1N1cGFiYXNlLFxufSkpO1xuXG5kZXNjcmliZSgnZ2FsbGVyeVNldHRpbmdzU2VydmljZScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRTZXR0aW5ncycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBzdWNjZXNzIHdpdGggZ2FsbGVyeSBzZXR0aW5ncyB3aGVuIHNldHRpbmdzIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NldHRpbmdzID0ge1xuICAgICAgICBpZDogJ3NldHRpbmdzLTEyMycsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTQ1NicsXG4gICAgICAgIGRpc3BsYXlfbW9kZTogJ2dhbGxlcnknLFxuICAgICAgICBzaG93X2NhcHRpb25zOiB0cnVlLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgfTtcblxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBtb2NrU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldFNldHRpbmdzKCdhY3Rpdml0eScsICdhY3Rpdml0eS00NTYnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9FcXVhbChtb2NrU2V0dGluZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIGRlZmF1bHQgc2V0dGluZ3Mgd2hlbiBubyBzZXR0aW5ncyBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnIH0sIC8vIE5vIHJvd3MgZm91bmRcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2V0dGluZ3MoJ2V2ZW50JywgJ2V2ZW50LTc4OScpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2VfdHlwZSkudG9CZSgnZXZlbnQnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2VfaWQpLnRvQmUoJ2V2ZW50LTc4OScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGlzcGxheV9tb2RlKS50b0JlKCdnYWxsZXJ5Jyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zaG93X2NhcHRpb25zKS50b0JlKHRydWUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuaWQpLnRvQmUoJycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiBxdWVyeSBmYWlscyB3aXRoIG90aGVyIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIGVycm9yOiB7IGNvZGU6ICdPVEhFUl9FUlJPUicsIG1lc3NhZ2U6ICdEYXRhYmFzZSBlcnJvcicgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2V0dGluZ3MoJ2FjY29tbW9kYXRpb24nLCAnYWNjb21tb2RhdGlvbi0xMjMnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVU5LTk9XTl9FUlJPUiB3aGVuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGVycm9yJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2V0dGluZ3MoJ3Jvb21fdHlwZScsICdyb29tLTEyMycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1VOS05PV05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3Vwc2VydFNldHRpbmdzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3Mgd2l0aCBjcmVhdGVkIHNldHRpbmdzIHdoZW4gdmFsaWQgZGF0YSBwcm92aWRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkRGF0YSA9IHtcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknIGFzIGNvbnN0LFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktNDU2JyxcbiAgICAgICAgZGlzcGxheV9tb2RlOiAnY2Fyb3VzZWwnIGFzIGNvbnN0LFxuICAgICAgICBwaG90b3NfcGVyX3JvdzogMyxcbiAgICAgICAgc2hvd19jYXB0aW9uczogZmFsc2UsXG4gICAgICAgIGF1dG9wbGF5X2ludGVydmFsOiA1MDAwLFxuICAgICAgICB0cmFuc2l0aW9uX2VmZmVjdDogJ2ZhZGUnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbW9ja0NyZWF0ZWRTZXR0aW5ncyA9IHtcbiAgICAgICAgaWQ6ICdzZXR0aW5ncy0xMjMnLFxuICAgICAgICAuLi52YWxpZERhdGEsXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cHNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IG1vY2tDcmVhdGVkU2V0dGluZ3MsXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwc2VydFNldHRpbmdzKHZhbGlkRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwobW9ja0NyZWF0ZWRTZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBkYXRhIHByb3ZpZGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZERhdGEgPSB7XG4gICAgICAgIHBhZ2VfdHlwZTogJ2ludmFsaWQnIGFzIGFueSxcbiAgICAgICAgcGFnZV9pZDogJycsXG4gICAgICAgIGRpc3BsYXlfbW9kZTogJ2ludmFsaWQnIGFzIGFueSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwc2VydFNldHRpbmdzKGludmFsaWREYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIHVwc2VydCBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkRGF0YSA9IHtcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknIGFzIGNvbnN0LFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktNDU2JyxcbiAgICAgICAgZGlzcGxheV9tb2RlOiAnZ2FsbGVyeScgYXMgY29uc3QsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cHNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdVcHNlcnQgZmFpbGVkJyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwc2VydFNldHRpbmdzKHZhbGlkRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFVOS05PV05fRVJST1Igd2hlbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkRGF0YSA9IHtcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknIGFzIGNvbnN0LFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktNDU2JyxcbiAgICAgICAgZGlzcGxheV9tb2RlOiAnZ2FsbGVyeScgYXMgY29uc3QsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3InKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cHNlcnRTZXR0aW5ncyh2YWxpZERhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1VOS05PV05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwZGF0ZURpc3BsYXlNb2RlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3Mgd2hlbiBkaXNwbGF5IG1vZGUgdXBkYXRlZCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZURpc3BsYXlNb2RlKCdwYWdlLTEyMycsICdjYXJvdXNlbCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIHVwZGF0ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnVXBkYXRlIGZhaWxlZCcgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlRGlzcGxheU1vZGUoJ3BhZ2UtMTIzJywgJ2xvb3AnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVU5LTk9XTl9FUlJPUiB3aGVuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGVycm9yJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlRGlzcGxheU1vZGUoJ3BhZ2UtMTIzJywgJ2dhbGxlcnknKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdVTktOT1dOX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd1cGRhdGVQaG90b09yZGVyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3Mgd2hlbiBwaG90byBvcmRlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBob3RvSWRzID0gWydwaG90by0xJywgJ3Bob3RvLTInLCAncGhvdG8tMyddO1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVQaG90b09yZGVyKCdwYWdlLTEyMycsIHBob3RvSWRzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5mcm9tKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncGhvdG9zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIHNvbWUgdXBkYXRlcyBmYWlsJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGhvdG9JZHMgPSBbJ3Bob3RvLTEnLCAncGhvdG8tMiddO1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIGVxOiBqZXN0LmZuKClcbiAgICAgICAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGVycm9yOiBudWxsIH0pXG4gICAgICAgICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBlcnJvcjogeyBtZXNzYWdlOiAnVXBkYXRlIGZhaWxlZCcgfSB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlUGhvdG9PcmRlcigncGFnZS0xMjMnLCBwaG90b0lkcyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFVOS05PV05fRVJST1Igd2hlbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBlcnJvcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVBob3RvT3JkZXIoJ3BhZ2UtMTIzJywgWydwaG90by0xJ10pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1VOS05PV05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NvbmZpZ3VyZUdhbGxlcnknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aGVuIGdhbGxlcnkgY29uZmlndXJlZCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBwaG90b3NfcGVyX3JvdzogNCxcbiAgICAgICAgc2hvd19jYXB0aW9uczogdHJ1ZSxcbiAgICAgICAgYXV0b3BsYXlfaW50ZXJ2YWw6IDMwMDAsXG4gICAgICAgIHRyYW5zaXRpb25fZWZmZWN0OiAnc2xpZGUnLFxuICAgICAgfTtcblxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb25maWd1cmVHYWxsZXJ5KCdwYWdlLTEyMycsIG9wdGlvbnMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBvcHRpb25zIHByb3ZpZGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW52YWxpZE9wdGlvbnMgPSB7XG4gICAgICAgIHBob3Rvc19wZXJfcm93OiAtMSwgLy8gSW52YWxpZDogbmVnYXRpdmUgbnVtYmVyXG4gICAgICAgIHNob3dfY2FwdGlvbnM6ICdpbnZhbGlkJyBhcyBhbnksIC8vIEludmFsaWQ6IG5vdCBib29sZWFuXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb25maWd1cmVHYWxsZXJ5KCdwYWdlLTEyMycsIGludmFsaWRPcHRpb25zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIHVwZGF0ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBob3Rvc19wZXJfcm93OiAzLFxuICAgICAgICBzaG93X2NhcHRpb25zOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnVXBkYXRlIGZhaWxlZCcgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29uZmlndXJlR2FsbGVyeSgncGFnZS0xMjMnLCBvcHRpb25zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVU5LTk9XTl9FUlJPUiB3aGVuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGVycm9yJyk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29uZmlndXJlR2FsbGVyeSgncGFnZS0xMjMnLCB7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVU5LTk9XTl9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlU2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aGVuIHNldHRpbmdzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZGVsZXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVTZXR0aW5ncygncGFnZS0xMjMnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiBkZWxldGUgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RlbGV0ZSBmYWlsZWQnIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZVNldHRpbmdzKCdwYWdlLTEyMycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBVTktOT1dOX0VSUk9SIHdoZW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3InKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVTZXR0aW5ncygncGFnZS0xMjMnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdVTktOT1dOX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwic3VwYWJhc2UiLCJtb2NrU3VwYWJhc2UiLCJjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrU2V0dGluZ3MiLCJpZCIsInBhZ2VfdHlwZSIsInBhZ2VfaWQiLCJkaXNwbGF5X21vZGUiLCJzaG93X2NhcHRpb25zIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJmcm9tIiwibW9ja1JldHVyblZhbHVlIiwic2VsZWN0IiwiZm4iLCJlcSIsInNpbmdsZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsImVycm9yIiwicmVzdWx0IiwiZ2V0U2V0dGluZ3MiLCJleHBlY3QiLCJzdWNjZXNzIiwidG9CZSIsInRvRXF1YWwiLCJjb2RlIiwibWVzc2FnZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIkVycm9yIiwidmFsaWREYXRhIiwicGhvdG9zX3Blcl9yb3ciLCJhdXRvcGxheV9pbnRlcnZhbCIsInRyYW5zaXRpb25fZWZmZWN0IiwibW9ja0NyZWF0ZWRTZXR0aW5ncyIsInVwc2VydCIsInVwc2VydFNldHRpbmdzIiwiaW52YWxpZERhdGEiLCJ1cGRhdGUiLCJ1cGRhdGVEaXNwbGF5TW9kZSIsInBob3RvSWRzIiwidXBkYXRlUGhvdG9PcmRlciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib3B0aW9ucyIsImNvbmZpZ3VyZUdhbGxlcnkiLCJpbnZhbGlkT3B0aW9ucyIsImRlbGV0ZSIsImRlbGV0ZVNldHRpbmdzIl0sIm1hcHBpbmdzIjoiO0FBWUFBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxVQUFVQztJQUNaLENBQUE7Ozs7d0NBUE87OEJBQ2tDO0FBRXpDLDRDQUE0QztBQUM1QyxNQUFNQSxlQUFlQyxJQUFBQSxzQ0FBd0I7QUFLN0NDLFNBQVMsMEJBQTBCO0lBQ2pDQyxXQUFXO1FBQ1ROLEtBQUtPLGFBQWE7SUFDcEI7SUFFQUYsU0FBUyxlQUFlO1FBQ3RCRyxHQUFHLG1FQUFtRTtZQUNwRSxNQUFNQyxlQUFlO2dCQUNuQkMsSUFBSTtnQkFDSkMsV0FBVztnQkFDWEMsU0FBUztnQkFDVEMsY0FBYztnQkFDZEMsZUFBZTtnQkFDZkMsWUFBWTtnQkFDWkMsWUFBWTtZQUNkO1lBRUFiLGFBQWFjLElBQUksQ0FBQ0MsZUFBZSxDQUFDO2dCQUNoQ0MsUUFBUW5CLEtBQUtvQixFQUFFLEdBQUdGLGVBQWUsQ0FBQztvQkFDaENHLElBQUlyQixLQUFLb0IsRUFBRSxHQUFHRixlQUFlLENBQUM7d0JBQzVCRyxJQUFJ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