4972f5b74c2d1b0a6a54eb53d7f14f8f
"use strict";
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn()
    }));
jest.mock('next/link', ()=>{
    return ({ children, href, onClick, ...props })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            onClick: onClick,
            ...props,
            children: children
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _GuestNavigation = require("./GuestNavigation");
describe('GuestNavigation', ()=>{
    const mockUsePathname = _navigation.usePathname;
    beforeEach(()=>{
        mockUsePathname.mockReturnValue('/guest/dashboard');
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Desktop Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to desktop size
            global.innerWidth = 1024;
        });
        it('should render all navigation tabs', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            expect(_react.screen.getByText('Home')).toBeInTheDocument();
            expect(_react.screen.getByText('Events')).toBeInTheDocument();
            expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            expect(_react.screen.getByText('Itinerary')).toBeInTheDocument();
            expect(_react.screen.getByText('Photos')).toBeInTheDocument();
            expect(_react.screen.getByText('Info')).toBeInTheDocument();
        });
        it('should highlight the active tab', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should render logo with link to dashboard', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logos = _react.screen.getAllByText('Wedding Portal');
            expect(logos.length).toBeGreaterThan(0);
            logos.forEach((logo)=>{
                expect(logo.closest('a')).toHaveAttribute('href', '/guest/dashboard');
            });
        });
        it('should render logout link', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logoutLink = _react.screen.getByText('Logout');
            expect(logoutLink).toHaveAttribute('href', '/api/auth/logout');
        });
        describe('Dropdown Menu', ()=>{
            it('should toggle dropdown when Info tab is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Initially closed
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'true');
                expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
                expect(_react.screen.getByText('Transportation')).toBeInTheDocument();
                expect(_react.screen.getByText('Family')).toBeInTheDocument();
                expect(_react.screen.getByText('Our Story')).toBeInTheDocument();
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should close dropdown when a sub-item is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                _react.fireEvent.click(accommodationLink);
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should highlight active sub-item', ()=>{
                mockUsePathname.mockReturnValue('/guest/accommodation');
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Info tab should be active because sub-item is active
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                // Open dropdown
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                expect(accommodationLink).toHaveClass('bg-emerald-50', 'text-emerald-700');
            });
            it('should rotate chevron icon when dropdown is open', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                const chevron = infoButton.querySelector('svg:last-child');
                // Initially not rotated
                expect(chevron).not.toHaveClass('rotate-180');
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(chevron).toHaveClass('rotate-180');
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(chevron).not.toHaveClass('rotate-180');
            });
        });
    });
    describe('Mobile Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to mobile size
            global.innerWidth = 375;
        });
        it('should render hamburger menu button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toBeInTheDocument();
        });
        it('should toggle mobile menu when hamburger is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            // Initially closed
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            const closeButtons = _react.screen.getAllByLabelText('Close menu');
            expect(closeButtons.length).toBeGreaterThan(0);
            // Click to close
            _react.fireEvent.click(closeButtons[0]);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when backdrop is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            // Click backdrop
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toBeInTheDocument();
            _react.fireEvent.click(backdrop);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when a navigation link is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allEventsLinks = _react.screen.getAllByText('Events');
            // Find the mobile menu link (should be inside the mobile menu panel)
            const mobileEventsLink = allEventsLinks.find((link)=>{
                const parent = link.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            expect(mobileEventsLink).toBeInTheDocument();
            _react.fireEvent.click(mobileEventsLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should have minimum 44px touch targets', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            // Check all navigation items have minimum touch target size
            const allElements = document.querySelectorAll('[style*="minHeight"]');
            const touchTargets = Array.from(allElements).filter((el)=>el.style.minHeight === '44px');
            expect(touchTargets.length).toBeGreaterThan(0);
        });
        it('should toggle dropdown in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allInfoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            // Find the mobile menu button (should be inside the mobile menu panel)
            const mobileInfoButton = allInfoButtons.find((btn)=>{
                const parent = btn.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            expect(mobileInfoButton).toBeInTheDocument();
            // Initially closed
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(mobileInfoButton);
            expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
            // Click to close
            _react.fireEvent.click(mobileInfoButton);
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
        });
        it('should close mobile menu when sub-item is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allInfoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            const mobileInfoButton = allInfoButtons.find((btn)=>{
                const parent = btn.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            _react.fireEvent.click(mobileInfoButton);
            const accommodationLink = _react.screen.getByText('Accommodation');
            _react.fireEvent.click(accommodationLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should render logout button in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const logoutLinks = _react.screen.getAllByText('Logout');
            const mobileLogoutButton = logoutLinks.find((el)=>{
                const link = el.closest('a');
                return link && link.getAttribute('href') === '/api/auth/logout' && link.style.minHeight === '44px';
            });
            expect(mobileLogoutButton).toBeInTheDocument();
        });
    });
    describe('Active State', ()=>{
        it('should highlight Home tab when on dashboard', ()=>{
            mockUsePathname.mockReturnValue('/guest/dashboard');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            expect(homeLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Events tab when on events page', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Activities tab when on activities page', ()=>{
            mockUsePathname.mockReturnValue('/guest/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: /Activities/i
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Itinerary tab when on itinerary page', ()=>{
            mockUsePathname.mockReturnValue('/guest/itinerary');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const itineraryLink = _react.screen.getByRole('link', {
                name: /Itinerary/i
            });
            expect(itineraryLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Photos tab when on photos page', ()=>{
            mockUsePathname.mockReturnValue('/guest/photos');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const photosLink = _react.screen.getByRole('link', {
                name: /Photos/i
            });
            expect(photosLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Info tab when on any sub-item page', ()=>{
            const subItemPaths = [
                '/guest/accommodation',
                '/guest/transportation',
                '/guest/family',
                '/our-story'
            ];
            subItemPaths.forEach((path)=>{
                mockUsePathname.mockReturnValue(path);
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                unmount();
            });
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels for menu buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            _react.fireEvent.click(menuButton);
            const closeButtons = _react.screen.getAllByLabelText('Close menu');
            expect(closeButtons.length).toBeGreaterThan(0);
        });
        it('should have proper ARIA attributes for dropdown', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const infoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            const infoButton = infoButtons[0]; // Get first (desktop) button
            expect(infoButton).toHaveAttribute('aria-expanded', 'false');
            expect(infoButton).toHaveAttribute('aria-haspopup', 'true');
            _react.fireEvent.click(infoButton);
            expect(infoButton).toHaveAttribute('aria-expanded', 'true');
        });
        it('should be keyboard navigable', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLinks = _react.screen.getAllByRole('link').filter((link)=>link.textContent?.includes('Home'));
            const homeLink = homeLinks[0];
            homeLink.focus();
            expect(document.activeElement).toBe(homeLink);
        });
    });
    describe('Styling', ()=>{
        it('should have sticky positioning', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('sticky', 'top-0', 'z-50');
            });
        });
        it('should have glassmorphism effect', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('bg-white/80', 'backdrop-blur-md');
            });
        });
        it('should have proper z-index for overlay', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toHaveClass('z-40');
            const menuPanel = document.querySelector('.fixed.inset-y-0.right-0');
            expect(menuPanel).toHaveClass('z-50');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdE5hdmlnYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgR3Vlc3ROYXZpZ2F0aW9uIH0gZnJvbSAnLi9HdWVzdE5hdmlnYXRpb24nO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VQYXRobmFtZTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ25leHQvbGluaycsICgpID0+IHtcbiAgcmV0dXJuICh7IGNoaWxkcmVuLCBocmVmLCBvbkNsaWNrLCAuLi5wcm9wcyB9OiBhbnkpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17aHJlZn0gb25DbGljaz17b25DbGlja30gey4uLnByb3BzfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ0d1ZXN0TmF2aWdhdGlvbicsICgpID0+IHtcbiAgY29uc3QgbW9ja1VzZVBhdGhuYW1lID0gdXNlUGF0aG5hbWUgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUGF0aG5hbWU+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Rlc2t0b3AgTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIFNldCB2aWV3cG9ydCB0byBkZXNrdG9wIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMTAyNDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBuYXZpZ2F0aW9uIHRhYnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb21lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXZlbnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0l0aW5lcmFyeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Bob3RvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHRoZSBhY3RpdmUgdGFiJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvIHdpdGggbGluayB0byBkYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ29zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnV2VkZGluZyBQb3J0YWwnKTtcbiAgICAgIGV4cGVjdChsb2dvcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGxvZ29zLmZvckVhY2gobG9nbyA9PiB7XG4gICAgICAgIGV4cGVjdChsb2dvLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9nb3V0IGxpbmsnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ291dExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGV4cGVjdChsb2dvdXRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2FwaS9hdXRoL2xvZ291dCcpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Ryb3Bkb3duIE1lbnUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBkcm9wZG93biB3aGVuIEluZm8gdGFiIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVHJhbnNwb3J0YXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhbWlseScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3VyIFN0b3J5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjbG9zZSBkcm9wZG93biB3aGVuIGEgc3ViLWl0ZW0gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uKTtcblxuICAgICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjY29tbW9kYXRpb25MaW5rKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGFjdGl2ZSBzdWItaXRlbScsICgpID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbmZvIHRhYiBzaG91bGQgYmUgYWN0aXZlIGJlY2F1c2Ugc3ViLWl0ZW0gaXMgYWN0aXZlXG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuXG4gICAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25MaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpO1xuICAgICAgICBleHBlY3QoYWNjb21tb2RhdGlvbkxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTUwJywgJ3RleHQtZW1lcmFsZC03MDAnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJvdGF0ZSBjaGV2cm9uIGljb24gd2hlbiBkcm9wZG93biBpcyBvcGVuJywgKCkgPT4ge1xuICAgICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgY29uc3QgY2hldnJvbiA9IGluZm9CdXR0b24ucXVlcnlTZWxlY3Rvcignc3ZnOmxhc3QtY2hpbGQnKTtcblxuICAgICAgICAvLyBJbml0aWFsbHkgbm90IHJvdGF0ZWRcbiAgICAgICAgZXhwZWN0KGNoZXZyb24pLm5vdC50b0hhdmVDbGFzcygncm90YXRlLTE4MCcpO1xuXG4gICAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoY2hldnJvbikudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcblxuICAgICAgICAvLyBDbGljayB0byBjbG9zZVxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChjaGV2cm9uKS5ub3QudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9iaWxlIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBTZXQgdmlld3BvcnQgdG8gbW9iaWxlIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMzc1O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgaGFtYnVyZ2VyIG1lbnUgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgbW9iaWxlIG1lbnUgd2hlbiBoYW1idXJnZXIgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxseSBjbG9zZWRcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoJ0Nsb3NlIG1lbnUnKTtcbiAgICAgIGV4cGVjdChjbG9zZUJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b25zWzBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYmFja2Ryb3AgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIGJhY2tkcm9wXG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC5pbnNldC0wLmJnLWJsYWNrXFxcXC81MCcpO1xuICAgICAgZXhwZWN0KGJhY2tkcm9wKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tkcm9wISk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYSBuYXZpZ2F0aW9uIGxpbmsgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGFsbEV2ZW50c0xpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnRXZlbnRzJyk7XG4gICAgICAvLyBGaW5kIHRoZSBtb2JpbGUgbWVudSBsaW5rIChzaG91bGQgYmUgaW5zaWRlIHRoZSBtb2JpbGUgbWVudSBwYW5lbClcbiAgICAgIGNvbnN0IG1vYmlsZUV2ZW50c0xpbmsgPSBhbGxFdmVudHNMaW5rcy5maW5kKGxpbmsgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBsaW5rLmNsb3Nlc3QoJy5maXhlZC5pbnNldC15LTAucmlnaHQtMCcpO1xuICAgICAgICByZXR1cm4gcGFyZW50ICE9PSBudWxsO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2JpbGVFdmVudHNMaW5rKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vYmlsZUV2ZW50c0xpbmshKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTWVudScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBtaW5pbXVtIDQ0cHggdG91Y2ggdGFyZ2V0cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIC8vIENoZWNrIGFsbCBuYXZpZ2F0aW9uIGl0ZW1zIGhhdmUgbWluaW11bSB0b3VjaCB0YXJnZXQgc2l6ZVxuICAgICAgY29uc3QgYWxsRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbc3R5bGUqPVwibWluSGVpZ2h0XCJdJyk7XG4gICAgICBjb25zdCB0b3VjaFRhcmdldHMgPSBBcnJheS5mcm9tKGFsbEVsZW1lbnRzKS5maWx0ZXIoZWwgPT4gXG4gICAgICAgIChlbCBhcyBIVE1MRWxlbWVudCkuc3R5bGUubWluSGVpZ2h0ID09PSAnNDRweCdcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0b3VjaFRhcmdldHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBkcm9wZG93biBpbiBtb2JpbGUgbWVudScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGFsbEluZm9CdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykuZmlsdGVyKGJ0biA9PiBcbiAgICAgICAgYnRuLnRleHRDb250ZW50Py5pbmNsdWRlcygnSW5mbycpXG4gICAgICApO1xuICAgICAgLy8gRmluZCB0aGUgbW9iaWxlIG1lbnUgYnV0dG9uIChzaG91bGQgYmUgaW5zaWRlIHRoZSBtb2JpbGUgbWVudSBwYW5lbClcbiAgICAgIGNvbnN0IG1vYmlsZUluZm9CdXR0b24gPSBhbGxJbmZvQnV0dG9ucy5maW5kKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGJ0bi5jbG9zZXN0KCcuZml4ZWQuaW5zZXQteS0wLnJpZ2h0LTAnKTtcbiAgICAgICAgcmV0dXJuIHBhcmVudCAhPT0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9iaWxlSW5mb0J1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vYmlsZUluZm9CdXR0b24hKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBmaXJlRXZlbnQuY2xpY2sobW9iaWxlSW5mb0J1dHRvbiEpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2UgbW9iaWxlIG1lbnUgd2hlbiBzdWItaXRlbSBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgYWxsSW5mb0J1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKS5maWx0ZXIoYnRuID0+IFxuICAgICAgICBidG4udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdJbmZvJylcbiAgICAgICk7XG4gICAgICBjb25zdCBtb2JpbGVJbmZvQnV0dG9uID0gYWxsSW5mb0J1dHRvbnMuZmluZChidG4gPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBidG4uY2xvc2VzdCgnLmZpeGVkLmluc2V0LXktMC5yaWdodC0wJyk7XG4gICAgICAgIHJldHVybiBwYXJlbnQgIT09IG51bGw7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vYmlsZUluZm9CdXR0b24hKTtcblxuICAgICAgY29uc3QgYWNjb21tb2RhdGlvbkxpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdBY2NvbW1vZGF0aW9uJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWNjb21tb2RhdGlvbkxpbmspO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdNZW51JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9nb3V0IGJ1dHRvbiBpbiBtb2JpbGUgbWVudScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGxvZ291dExpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnTG9nb3V0Jyk7XG4gICAgICBjb25zdCBtb2JpbGVMb2dvdXRCdXR0b24gPSBsb2dvdXRMaW5rcy5maW5kKGVsID0+IHtcbiAgICAgICAgY29uc3QgbGluayA9IGVsLmNsb3Nlc3QoJ2EnKTtcbiAgICAgICAgcmV0dXJuIGxpbmsgJiYgbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PT0gJy9hcGkvYXV0aC9sb2dvdXQnICYmIGxpbmsuc3R5bGUubWluSGVpZ2h0ID09PSAnNDRweCc7XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2JpbGVMb2dvdXRCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY3RpdmUgU3RhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgSG9tZSB0YWIgd2hlbiBvbiBkYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZ3Vlc3QvZGFzaGJvYXJkJyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGhvbWVMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0hvbWUvaSB9KTtcbiAgICAgIGV4cGVjdChob21lTGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEV2ZW50cyB0YWIgd2hlbiBvbiBldmVudHMgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9ldmVudHMnKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgZXZlbnRzTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9FdmVudHMvaSB9KTtcbiAgICAgIGV4cGVjdChldmVudHNMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgQWN0aXZpdGllcyB0YWIgd2hlbiBvbiBhY3Rpdml0aWVzIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZ3Vlc3QvYWN0aXZpdGllcycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBhY3Rpdml0aWVzTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9BY3Rpdml0aWVzL2kgfSk7XG4gICAgICBleHBlY3QoYWN0aXZpdGllc0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBJdGluZXJhcnkgdGFiIHdoZW4gb24gaXRpbmVyYXJ5IHBhZ2UnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZ3Vlc3QvaXRpbmVyYXJ5Jyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGl0aW5lcmFyeUxpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvSXRpbmVyYXJ5L2kgfSk7XG4gICAgICBleHBlY3QoaXRpbmVyYXJ5TGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IFBob3RvcyB0YWIgd2hlbiBvbiBwaG90b3MgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9waG90b3MnKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgcGhvdG9zTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9QaG90b3MvaSB9KTtcbiAgICAgIGV4cGVjdChwaG90b3NMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgSW5mbyB0YWIgd2hlbiBvbiBhbnkgc3ViLWl0ZW0gcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN1Ykl0ZW1QYXRocyA9IFtcbiAgICAgICAgJy9ndWVzdC9hY2NvbW1vZGF0aW9uJyxcbiAgICAgICAgJy9ndWVzdC90cmFuc3BvcnRhdGlvbicsXG4gICAgICAgICcvZ3Vlc3QvZmFtaWx5JyxcbiAgICAgICAgJy9vdXItc3RvcnknLFxuICAgICAgXTtcblxuICAgICAgc3ViSXRlbVBhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUocGF0aCk7XG4gICAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuXG4gICAgICAgIHVubW91bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgbGFiZWxzIGZvciBtZW51IGJ1dHRvbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZXhwZWN0KG1lbnVCdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoJ0Nsb3NlIG1lbnUnKTtcbiAgICAgIGV4cGVjdChjbG9zZUJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgYXR0cmlidXRlcyBmb3IgZHJvcGRvd24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGluZm9CdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykuZmlsdGVyKGJ0biA9PiBcbiAgICAgICAgYnRuLnRleHRDb250ZW50Py5pbmNsdWRlcygnSW5mbycpXG4gICAgICApO1xuICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IGluZm9CdXR0b25zWzBdOyAvLyBHZXQgZmlyc3QgKGRlc2t0b3ApIGJ1dHRvblxuICAgICAgXG4gICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgJ3RydWUnKTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgZXhwZWN0KGluZm9CdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGJlIGtleWJvYXJkIG5hdmlnYWJsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaG9tZUxpbmtzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnbGluaycpLmZpbHRlcihsaW5rID0+IFxuICAgICAgICBsaW5rLnRleHRDb250ZW50Py5pbmNsdWRlcygnSG9tZScpXG4gICAgICApO1xuICAgICAgY29uc3QgaG9tZUxpbmsgPSBob21lTGlua3NbMF07XG4gICAgICBob21lTGluay5mb2N1cygpO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRvQmUoaG9tZUxpbmspO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3R5bGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgc3RpY2t5IHBvc2l0aW9uaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBuYXZzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgbmF2cy5mb3JFYWNoKG5hdiA9PiB7XG4gICAgICAgIGV4cGVjdChuYXYpLnRvSGF2ZUNsYXNzKCdzdGlja3knLCAndG9wLTAnLCAnei01MCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgZ2xhc3Ntb3JwaGlzbSBlZmZlY3QnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG5hdnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBuYXZzLmZvckVhY2gobmF2ID0+IHtcbiAgICAgICAgZXhwZWN0KG5hdikudG9IYXZlQ2xhc3MoJ2JnLXdoaXRlLzgwJywgJ2JhY2tkcm9wLWJsdXItbWQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciB6LWluZGV4IGZvciBvdmVybGF5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQuaW5zZXQtMC5iZy1ibGFja1xcXFwvNTAnKTtcbiAgICAgIGV4cGVjdChiYWNrZHJvcCkudG9IYXZlQ2xhc3MoJ3otNDAnKTtcblxuICAgICAgY29uc3QgbWVudVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpeGVkLmluc2V0LXktMC5yaWdodC0wJyk7XG4gICAgICBleHBlY3QobWVudVBhbmVsKS50b0hhdmVDbGFzcygnei01MCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUGF0aG5hbWUiLCJmbiIsImNoaWxkcmVuIiwiaHJlZiIsIm9uQ2xpY2siLCJwcm9wcyIsImEiLCJkZXNjcmliZSIsIm1vY2tVc2VQYXRobmFtZSIsImJlZm9yZUVhY2giLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiZ2xvYmFsIiwiaW5uZXJXaWR0aCIsIml0IiwicmVuZGVyIiwiR3Vlc3ROYXZpZ2F0aW9uIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJldmVudHNMaW5rIiwiZ2V0QnlSb2xlIiwibmFtZSIsInRvSGF2ZUNsYXNzIiwibG9nb3MiLCJnZXRBbGxCeVRleHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJmb3JFYWNoIiwibG9nbyIsImNsb3Nlc3QiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJsb2dvdXRMaW5rIiwiaW5mb0J1dHRvbiIsInF1ZXJ5QnlUZXh0Iiwibm90IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJhY2NvbW1vZGF0aW9uTGluayIsImNoZXZyb24iLCJxdWVyeVNlbGVjdG9yIiwibWVudUJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiY2xvc2VCdXR0b25zIiwiZ2V0QWxsQnlMYWJlbFRleHQiLCJiYWNrZHJvcCIsImRvY3VtZW50IiwiYWxsRXZlbnRzTGlua3MiLCJtb2JpbGVFdmVudHNMaW5rIiwiZmluZCIsImxpbmsiLCJwYXJlbnQiLCJhbGxFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3VjaFRhcmdldHMiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJlbCIsInN0eWxlIiwibWluSGVpZ2h0IiwiYWxsSW5mb0J1dHRvbnMiLCJnZXRBbGxCeVJvbGUiLCJidG4iLCJ0ZXh0Q29udGVudCIsImluY2x1ZGVzIiwibW9iaWxlSW5mb0J1dHRvbiIsImxvZ291dExpbmtzIiwibW9iaWxlTG9nb3V0QnV0dG9uIiwiZ2V0QXR0cmlidXRlIiwiaG9tZUxpbmsiLCJhY3Rpdml0aWVzTGluayIsIml0aW5lcmFyeUxpbmsiLCJwaG90b3NMaW5rIiwic3ViSXRlbVBhdGhzIiwicGF0aCIsInVubW91bnQiLCJpbmZvQnV0dG9ucyIsImhvbWVMaW5rcyIsImZvY3VzIiwiYWN0aXZlRWxlbWVudCIsInRvQmUiLCJuYXZzIiwibmF2IiwibWVudVBhbmVsIl0sIm1hcHBpbmdzIjoiO0FBSUEsMEJBQTBCO0FBQzFCQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsYUFBYUYsS0FBS0csRUFBRTtJQUN0QixDQUFBO0FBRUFILEtBQUtDLElBQUksQ0FBQyxhQUFhO0lBQ3JCLE9BQU8sQ0FBQyxFQUFFRyxRQUFRLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFLEdBQUdDLE9BQVk7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