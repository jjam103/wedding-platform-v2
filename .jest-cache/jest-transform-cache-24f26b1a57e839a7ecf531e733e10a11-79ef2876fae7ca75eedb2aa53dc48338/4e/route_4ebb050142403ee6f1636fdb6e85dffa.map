{"version":3,"names":["DELETE","cov_2fzsz2i158","f","s","GET","POST","PUT","createExampleSchema","_zod","z","object","name","string","min","max","description","optional","status","enum","default","updateExampleSchema","partial","request","_apiHelpers","withAuth","userId","searchParams","URL","url","page","pageSize","parsePagination","from","to","getPaginationRange","filters","parseFilters","mockData","items","total","successResponse","error","console","errorResponse","body","json","validation","validateBody","success","b","code","message","details","id","data","createdAt","Date","toISOString","pathParts","pathname","split","length","updatedAt"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/example/route.ts"],"sourcesContent":["import { NextRequest } from 'next/server';\nimport {\n  withAuth,\n  successResponse,\n  errorResponse,\n  validateBody,\n  parsePagination,\n  getPaginationRange,\n  parseFilters,\n} from '@/lib/apiHelpers';\nimport { z } from 'zod';\n\n/**\n * Example API Route Template\n * \n * Demonstrates:\n * - Authentication with withAuth wrapper\n * - Request validation with Zod\n * - Pagination support\n * - Filtering support\n * - Standard error handling\n * - Consistent response format\n * \n * This file serves as a template for creating new API routes.\n * Copy and modify for specific entities.\n */\n\n// Example schema for validation\nconst createExampleSchema = z.object({\n  name: z.string().min(1).max(100),\n  description: z.string().optional(),\n  status: z.enum(['active', 'inactive']).default('active'),\n});\n\nconst updateExampleSchema = createExampleSchema.partial();\n\n/**\n * GET /api/admin/example\n * \n * List examples with pagination and filtering\n */\nexport async function GET(request: NextRequest) {\n  return withAuth(async (userId) => {\n    try {\n      const { searchParams } = new URL(request.url);\n\n      // Parse pagination\n      const { page, pageSize } = parsePagination(searchParams);\n      const { from, to } = getPaginationRange(page, pageSize);\n\n      // Parse filters\n      const filters = parseFilters(searchParams, ['status', 'search']);\n\n      // TODO: Replace with actual service call\n      // Example:\n      // const result = await exampleService.list({\n      //   userId,\n      //   pagination: { from, to },\n      //   filters,\n      // });\n      //\n      // if (!result.success) {\n      //   return errorResponse(\n      //     result.error.code,\n      //     result.error.message,\n      //     500,\n      //     result.error.details\n      //   );\n      // }\n\n      // Mock response for template\n      const mockData = {\n        items: [],\n        total: 0,\n        page,\n        pageSize,\n      };\n\n      return successResponse(mockData);\n    } catch (error) {\n      console.error('GET /api/admin/example error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to fetch examples', 500);\n    }\n  });\n}\n\n/**\n * POST /api/admin/example\n * \n * Create a new example\n */\nexport async function POST(request: NextRequest) {\n  return withAuth(async (userId) => {\n    try {\n      const body = await request.json();\n\n      // Validate request body\n      const validation = validateBody(body, createExampleSchema);\n      if (!validation.success) {\n        return errorResponse(\n          validation.error.code,\n          validation.error.message,\n          400,\n          validation.error.details\n        );\n      }\n\n      // TODO: Replace with actual service call\n      // Example:\n      // const result = await exampleService.create({\n      //   ...validation.data,\n      //   userId,\n      // });\n      //\n      // if (!result.success) {\n      //   return errorResponse(\n      //     result.error.code,\n      //     result.error.message,\n      //     500,\n      //     result.error.details\n      //   );\n      // }\n\n      // Mock response for template\n      const mockData = {\n        id: 'example-id',\n        ...validation.data,\n        createdAt: new Date().toISOString(),\n      };\n\n      return successResponse(mockData, 201);\n    } catch (error) {\n      console.error('POST /api/admin/example error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to create example', 500);\n    }\n  });\n}\n\n/**\n * PUT /api/admin/example/[id]\n * \n * Update an existing example\n * \n * Note: For dynamic routes, create this in app/api/admin/example/[id]/route.ts\n */\nexport async function PUT(request: NextRequest) {\n  return withAuth(async (userId) => {\n    try {\n      // Extract ID from URL\n      const url = new URL(request.url);\n      const pathParts = url.pathname.split('/');\n      const id = pathParts[pathParts.length - 1];\n\n      if (!id) {\n        return errorResponse('INVALID_REQUEST', 'Example ID is required', 400);\n      }\n\n      const body = await request.json();\n\n      // Validate request body\n      const validation = validateBody(body, updateExampleSchema);\n      if (!validation.success) {\n        return errorResponse(\n          validation.error.code,\n          validation.error.message,\n          400,\n          validation.error.details\n        );\n      }\n\n      // TODO: Replace with actual service call\n      // Example:\n      // const result = await exampleService.update(id, {\n      //   ...validation.data,\n      //   userId,\n      // });\n      //\n      // if (!result.success) {\n      //   if (result.error.code === 'NOT_FOUND') {\n      //     return errorResponse(result.error.code, result.error.message, 404);\n      //   }\n      //   return errorResponse(\n      //     result.error.code,\n      //     result.error.message,\n      //     500,\n      //     result.error.details\n      //   );\n      // }\n\n      // Mock response for template\n      const mockData = {\n        id,\n        ...validation.data,\n        updatedAt: new Date().toISOString(),\n      };\n\n      return successResponse(mockData);\n    } catch (error) {\n      console.error('PUT /api/admin/example error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to update example', 500);\n    }\n  });\n}\n\n/**\n * DELETE /api/admin/example/[id]\n * \n * Delete an example\n * \n * Note: For dynamic routes, create this in app/api/admin/example/[id]/route.ts\n */\nexport async function DELETE(request: NextRequest) {\n  return withAuth(async (userId) => {\n    try {\n      // Extract ID from URL\n      const url = new URL(request.url);\n      const pathParts = url.pathname.split('/');\n      const id = pathParts[pathParts.length - 1];\n\n      if (!id) {\n        return errorResponse('INVALID_REQUEST', 'Example ID is required', 400);\n      }\n\n      // TODO: Replace with actual service call\n      // Example:\n      // const result = await exampleService.delete(id, userId);\n      //\n      // if (!result.success) {\n      //   if (result.error.code === 'NOT_FOUND') {\n      //     return errorResponse(result.error.code, result.error.message, 404);\n      //   }\n      //   return errorResponse(\n      //     result.error.code,\n      //     result.error.message,\n      //     500,\n      //     result.error.details\n      //   );\n      // }\n\n      return successResponse({ message: 'Example deleted successfully' });\n    } catch (error) {\n      console.error('DELETE /api/admin/example error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to delete example', 500);\n    }\n  });\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAmNsBA,OAAA;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,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","ignoreList":[]}