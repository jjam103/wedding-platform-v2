{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/LiveRegion.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\n\ninterface LiveRegionProps {\n  message: string;\n  priority?: 'polite' | 'assertive';\n  clearAfter?: number; // Clear message after X milliseconds\n}\n\n/**\n * LiveRegion Component\n * \n * ARIA live region for announcing dynamic content changes to screen readers.\n * \n * Features:\n * - Polite or assertive announcements\n * - Auto-clear after specified time\n * - Visually hidden but accessible to screen readers\n * \n * @example\n * <LiveRegion message=\"Guest created successfully\" priority=\"polite\" clearAfter={3000} />\n */\nexport function LiveRegion({ message, priority = 'polite', clearAfter }: LiveRegionProps) {\n  const regionRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!message || !regionRef.current) return;\n\n    // Clear and set message with slight delay for screen readers to detect change\n    regionRef.current.textContent = '';\n    const timer = setTimeout(() => {\n      if (regionRef.current) {\n        regionRef.current.textContent = message;\n      }\n    }, 100);\n\n    // Auto-clear if specified\n    let clearTimer: NodeJS.Timeout | undefined;\n    if (clearAfter) {\n      clearTimer = setTimeout(() => {\n        if (regionRef.current) {\n          regionRef.current.textContent = '';\n        }\n      }, clearAfter);\n    }\n\n    return () => {\n      clearTimeout(timer);\n      if (clearTimer) clearTimeout(clearTimer);\n    };\n  }, [message, clearAfter]);\n\n  return (\n    <div\n      ref={regionRef}\n      role={priority === 'assertive' ? 'alert' : 'status'}\n      aria-live={priority}\n      aria-atomic=\"true\"\n      className=\"sr-only\"\n    />\n  );\n}\n\n/**\n * VisuallyHidden Component\n * \n * Hides content visually but keeps it accessible to screen readers.\n * \n * @example\n * <VisuallyHidden>Additional context for screen readers</VisuallyHidden>\n */\nexport function VisuallyHidden({ children }: { children: React.ReactNode }) {\n  return <span className=\"sr-only\">{children}</span>;\n}\n"],"names":["LiveRegion","VisuallyHidden","message","priority","clearAfter","regionRef","useRef","useEffect","current","textContent","timer","setTimeout","clearTimer","clearTimeout","div","ref","role","aria-live","aria-atomic","className","children","span"],"mappings":"AAAA;;;;;;;;;;;;QAuBgBA;eAAAA;;QAiDAC;eAAAA;;;;uBAtEkB;AAqB3B,SAASD,WAAW,EAAEE,OAAO,EAAEC,WAAW,QAAQ,EAAEC,UAAU,EAAmB;IACtF,MAAMC,YAAYC,IAAAA,aAAM,EAAiB;IAEzCC,IAAAA,gBAAS,EAAC;QACR,IAAI,CAACL,WAAW,CAACG,UAAUG,OAAO,EAAE;QAEpC,8EAA8E;QAC9EH,UAAUG,OAAO,CAACC,WAAW,GAAG;QAChC,MAAMC,QAAQC,WAAW;YACvB,IAAIN,UAAUG,OAAO,EAAE;gBACrBH,UAAUG,OAAO,CAACC,WAAW,GAAGP;YAClC;QACF,GAAG;QAEH,0BAA0B;QAC1B,IAAIU;QACJ,IAAIR,YAAY;YACdQ,aAAaD,WAAW;gBACtB,IAAIN,UAAUG,OAAO,EAAE;oBACrBH,UAAUG,OAAO,CAACC,WAAW,GAAG;gBAClC;YACF,GAAGL;QACL;QAEA,OAAO;YACLS,aAAaH;YACb,IAAIE,YAAYC,aAAaD;QAC/B;IACF,GAAG;QAACV;QAASE;KAAW;IAExB,qBACE,qBAACU;QACCC,KAAKV;QACLW,MAAMb,aAAa,cAAc,UAAU;QAC3Cc,aAAWd;QACXe,eAAY;QACZC,WAAU;;AAGhB;AAUO,SAASlB,eAAe,EAAEmB,QAAQ,EAAiC;IACxE,qBAAO,qBAACC;QAAKF,WAAU;kBAAWC;;AACpC"}