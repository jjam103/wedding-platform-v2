65748ad834a3bd2682952839c0014bc1
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "SectionEditor", {
    enumerable: true,
    get: function() {
        return SectionEditor;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _dynamic = /*#__PURE__*/ _interop_require_default(require("next/dynamic"));
const _RichTextEditor = require("./RichTextEditor");
const _PhotoGallerySkeleton = require("./PhotoGallerySkeleton");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Lazy load PhotoPicker component
const PhotoPicker = (0, _dynamic.default)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./PhotoPicker"))).then((mod)=>({
            default: mod.PhotoPicker
        })), {
    loadableGenerated: {
        webpack: ()=>[
                require.resolveWeak("./PhotoPicker")
            ]
    },
    loading: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_PhotoGallerySkeleton.PhotoGallerySkeleton, {}),
    ssr: false
});
function SectionEditor({ pageType, pageId, onSave, onClose }) {
    const [sections, setSections] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [saving, setSaving] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const [editingSection, setEditingSection] = (0, _react.useState)(null);
    const [draggedSection, setDraggedSection] = (0, _react.useState)(null);
    const [showPreview, setShowPreview] = (0, _react.useState)(false);
    // Fetch sections on mount
    (0, _react.useEffect)(()=>{
        fetchSections();
    }, [
        pageType,
        pageId
    ]);
    const fetchSections = (0, _react.useCallback)(async ()=>{
        setLoading(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/by-page/${pageType}/${pageId}`);
            const result = await response.json();
            if (result.success) {
                setSections(result.data || []);
            } else {
                setError(result.error?.message || 'Failed to load sections');
            }
        } catch (err) {
            setError('Failed to load sections');
        } finally{
            setLoading(false);
        }
    }, [
        pageType,
        pageId
    ]);
    const handleAddSection = (0, _react.useCallback)(async ()=>{
        const newSection = {
            page_type: pageType === 'home' ? 'custom' : pageType,
            page_id: pageId,
            display_order: sections.length,
            columns: [
                {
                    column_number: 1,
                    content_type: 'rich_text',
                    content_data: {
                        html: ''
                    }
                }
            ]
        };
        setSaving(true);
        setError(null);
        try {
            const response = await fetch('/api/admin/sections', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(newSection)
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>[
                        ...prev,
                        result.data
                    ]);
                setEditingSection(result.data.id);
            } else {
                setError(result.error?.message || 'Failed to create section');
            }
        } catch (err) {
            setError('Failed to create section');
        } finally{
            setSaving(false);
        }
    }, [
        pageType,
        pageId,
        sections.length
    ]);
    const handleDeleteSection = (0, _react.useCallback)(async (sectionId)=>{
        if (!confirm('Are you sure you want to delete this section?')) {
            return;
        }
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'DELETE'
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.filter((s)=>s.id !== sectionId));
            } else {
                setError(result.error?.message || 'Failed to delete section');
            }
        } catch (err) {
            setError('Failed to delete section');
        } finally{
            setSaving(false);
        }
    }, []);
    const handleToggleLayout = (0, _react.useCallback)(async (sectionId)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const currentLayout = section.columns.length === 1 ? 'one-column' : 'two-column';
        const newLayout = currentLayout === 'one-column' ? 'two-column' : 'one-column';
        const updatedColumns = newLayout === 'two-column' ? [
            ...section.columns,
            {
                column_number: 2,
                content_type: 'rich_text',
                content_data: {
                    html: ''
                }
            }
        ] : [
            section.columns[0]
        ];
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    columns: updatedColumns
                })
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.map((s)=>s.id === sectionId ? result.data : s));
            } else {
                setError(result.error?.message || 'Failed to update layout');
            }
        } catch (err) {
            setError('Failed to update layout');
        } finally{
            setSaving(false);
        }
    }, [
        sections
    ]);
    const handleColumnTypeChange = (0, _react.useCallback)(async (sectionId, columnId, newType)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const updatedColumns = section.columns.map((col)=>{
            if (col.id === columnId) {
                let contentData;
                switch(newType){
                    case 'rich_text':
                        contentData = {
                            html: ''
                        };
                        break;
                    case 'photo_gallery':
                        contentData = {
                            photo_ids: []
                        };
                        break;
                    case 'references':
                        contentData = {
                            references: []
                        };
                        break;
                }
                return {
                    ...col,
                    content_type: newType,
                    content_data: contentData
                };
            }
            return col;
        });
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    columns: updatedColumns
                })
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.map((s)=>s.id === sectionId ? result.data : s));
            } else {
                setError(result.error?.message || 'Failed to update column type');
            }
        } catch (err) {
            setError('Failed to update column type');
        } finally{
            setSaving(false);
        }
    }, [
        sections
    ]);
    const handleColumnContentChange = (0, _react.useCallback)(async (sectionId, columnId, contentData)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const updatedColumns = section.columns.map((col)=>{
            if (col.id === columnId) {
                return {
                    ...col,
                    content_data: contentData
                };
            }
            return col;
        });
        // Update local state immediately for better UX
        setSections((prev)=>prev.map((s)=>{
                if (s.id === sectionId) {
                    return {
                        ...s,
                        columns: s.columns.map((col)=>{
                            if (col.id === columnId) {
                                return {
                                    ...col,
                                    content_data: contentData
                                };
                            }
                            return col;
                        })
                    };
                }
                return s;
            }));
        // Debounce the API call
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    columns: updatedColumns
                })
            });
            const result = await response.json();
            if (!result.success) {
                setError(result.error?.message || 'Failed to update content');
                // Revert on error
                fetchSections();
            }
        } catch (err) {
            setError('Failed to update content');
            fetchSections();
        } finally{
            setSaving(false);
        }
    }, [
        sections,
        fetchSections
    ]);
    const handleDragStart = (0, _react.useCallback)((sectionId)=>{
        setDraggedSection(sectionId);
    }, []);
    const handleDragOver = (0, _react.useCallback)((e)=>{
        e.preventDefault();
    }, []);
    const handleDrop = (0, _react.useCallback)(async (targetSectionId)=>{
        if (!draggedSection || draggedSection === targetSectionId) {
            setDraggedSection(null);
            return;
        }
        const draggedIndex = sections.findIndex((s)=>s.id === draggedSection);
        const targetIndex = sections.findIndex((s)=>s.id === targetSectionId);
        if (draggedIndex === -1 || targetIndex === -1) {
            setDraggedSection(null);
            return;
        }
        // Reorder sections locally
        const newSections = [
            ...sections
        ];
        const [removed] = newSections.splice(draggedIndex, 1);
        newSections.splice(targetIndex, 0, removed);
        // Update display_order
        const updatedSections = newSections.map((s, index)=>({
                ...s,
                display_order: index
            }));
        setSections(updatedSections);
        setDraggedSection(null);
        // Save to server
        setSaving(true);
        setError(null);
        try {
            const response = await fetch('/api/admin/sections/reorder', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    pageId,
                    sectionIds: updatedSections.map((s)=>s.id)
                })
            });
            const result = await response.json();
            if (!result.success) {
                setError(result.error?.message || 'Failed to reorder sections');
                // Revert on error
                fetchSections();
            }
        } catch (err) {
            setError('Failed to reorder sections');
            fetchSections();
        } finally{
            setSaving(false);
        }
    }, [
        draggedSection,
        sections,
        pageId,
        fetchSections
    ]);
    const handleMoveUp = (0, _react.useCallback)(async (sectionId)=>{
        const index = sections.findIndex((s)=>s.id === sectionId);
        if (index <= 0) return;
        const newSections = [
            ...sections
        ];
        [newSections[index - 1], newSections[index]] = [
            newSections[index],
            newSections[index - 1]
        ];
        const updatedSections = newSections.map((s, i)=>({
                ...s,
                display_order: i
            }));
        setSections(updatedSections);
        // Save to server
        setSaving(true);
        try {
            await fetch('/api/admin/sections/reorder', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    pageId,
                    sectionIds: updatedSections.map((s)=>s.id)
                })
            });
        } catch (err) {
            setError('Failed to reorder sections');
            fetchSections();
        } finally{
            setSaving(false);
        }
    }, [
        sections,
        pageId,
        fetchSections
    ]);
    const handleMoveDown = (0, _react.useCallback)(async (sectionId)=>{
        const index = sections.findIndex((s)=>s.id === sectionId);
        if (index === -1 || index >= sections.length - 1) return;
        const newSections = [
            ...sections
        ];
        [newSections[index], newSections[index + 1]] = [
            newSections[index + 1],
            newSections[index]
        ];
        const updatedSections = newSections.map((s, i)=>({
                ...s,
                display_order: i
            }));
        setSections(updatedSections);
        // Save to server
        setSaving(true);
        try {
            await fetch('/api/admin/sections/reorder', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    pageId,
                    sectionIds: updatedSections.map((s)=>s.id)
                })
            });
        } catch (err) {
            setError('Failed to reorder sections');
            fetchSections();
        } finally{
            setSaving(false);
        }
    }, [
        sections,
        pageId,
        fetchSections
    ]);
    const handleSaveAll = (0, _react.useCallback)(()=>{
        if (onSave) {
            onSave();
        }
    }, [
        onSave
    ]);
    const handlePreview = (0, _react.useCallback)(()=>{
        setShowPreview(true);
    }, []);
    if (loading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "flex items-center justify-center p-8",
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "text-gray-600",
                children: "Loading sections..."
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-4",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between border-b border-gray-200 pb-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        className: "text-xl font-semibold text-gray-900",
                        children: "Section Editor"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handlePreview,
                                className: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",
                                "aria-label": "Preview as guest",
                                children: "Preview as Guest"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleSaveAll,
                                disabled: saving,
                                className: "px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",
                                "aria-label": "Save all sections",
                                children: saving ? 'Saving...' : 'Save All'
                            }),
                            onClose && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: onClose,
                                className: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",
                                "aria-label": "Close section editor",
                                children: "Close"
                            })
                        ]
                    })
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-4 bg-red-50 border border-red-200 rounded-md",
                role: "alert",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-red-800",
                    children: error
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                onClick: handleAddSection,
                disabled: saving,
                className: "w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",
                "aria-label": "Add new section",
                children: "+ Add Section"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "space-y-4",
                children: sections.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "text-center py-8 text-gray-500",
                    children: 'No sections yet. Click "Add Section" to get started.'
                }) : sections.map((section, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        draggable: true,
                        onDragStart: ()=>handleDragStart(section.id),
                        onDragOver: handleDragOver,
                        onDrop: ()=>handleDrop(section.id),
                        className: `border border-gray-200 rounded-lg bg-white shadow-sm ${draggedSection === section.id ? 'opacity-50' : ''}`,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                className: "text-sm font-medium text-gray-700",
                                                children: [
                                                    "Section ",
                                                    index + 1
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "flex items-center gap-1",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                    onClick: ()=>handleToggleLayout(section.id),
                                                    className: "px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50",
                                                    "aria-label": `Toggle to ${section.columns.length === 1 ? 'two' : 'one'} column layout`,
                                                    children: section.columns.length === 1 ? '1 Col' : '2 Col'
                                                })
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                onClick: ()=>handleMoveUp(section.id),
                                                disabled: index === 0 || saving,
                                                className: "p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",
                                                "aria-label": "Move section up",
                                                children: "↑"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                onClick: ()=>handleMoveDown(section.id),
                                                disabled: index === sections.length - 1 || saving,
                                                className: "p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",
                                                "aria-label": "Move section down",
                                                children: "↓"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                onClick: ()=>handleDeleteSection(section.id),
                                                disabled: saving,
                                                className: "p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed",
                                                "aria-label": "Delete section",
                                                children: "Delete"
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: `p-4 grid gap-4 ${section.columns.length === 2 ? 'grid-cols-2' : 'grid-cols-1'}`,
                                children: section.columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "border border-gray-200 rounded p-4 bg-white",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center justify-between mb-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "text-xs font-medium text-gray-600",
                                                        children: [
                                                            "Column ",
                                                            column.column_number
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                        value: column.content_type,
                                                        onChange: (e)=>handleColumnTypeChange(section.id, column.id, e.target.value),
                                                        className: "text-xs border border-gray-300 rounded px-2 py-1",
                                                        disabled: saving,
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                value: "rich_text",
                                                                children: "Rich Text"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                value: "photo_gallery",
                                                                children: "Photo Gallery"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                value: "references",
                                                                children: "References"
                                                            })
                                                        ]
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "text-sm text-gray-700",
                                                children: [
                                                    column.content_type === 'rich_text' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_RichTextEditor.RichTextEditor, {
                                                        value: column.content_data.html || '',
                                                        onChange: (html)=>handleColumnContentChange(section.id, column.id, {
                                                                html
                                                            }),
                                                        placeholder: "Start typing or use / for commands...",
                                                        disabled: saving
                                                    }),
                                                    column.content_type === 'photo_gallery' && /*#__PURE__*/ (0, _jsxruntime.jsx)(PhotoPicker, {
                                                        selectedPhotoIds: column.content_data.photo_ids || [],
                                                        onSelectionChange: (photoIds)=>handleColumnContentChange(section.id, column.id, {
                                                                photo_ids: photoIds
                                                            }),
                                                        pageType: pageType === 'home' ? 'memory' : pageType === 'custom' ? 'memory' : pageType === 'room_type' ? 'accommodation' : pageType,
                                                        pageId: pageId,
                                                        disabled: saving
                                                    }),
                                                    column.content_type === 'references' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "text-gray-600 p-4 border border-dashed border-gray-300 rounded text-center",
                                                        children: [
                                                            "References (",
                                                            column.content_data.references?.length || 0,
                                                            " items)",
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "text-xs text-gray-500 mt-2",
                                                                children: "Reference lookup integration coming soon"
                                                            })
                                                        ]
                                                    })
                                                ]
                                            })
                                        ]
                                    }, column.id))
                            })
                        ]
                    }, section.id))
            }),
            showPreview && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",
                onClick: ()=>setShowPreview(false),
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-auto",
                    onClick: (e)=>e.stopPropagation(),
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "p-6",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center justify-between mb-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        className: "text-lg font-semibold",
                                        children: "Guest Preview"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                        onClick: ()=>setShowPreview(false),
                                        className: "text-gray-600 hover:text-gray-900",
                                        "aria-label": "Close preview",
                                        children: "✕"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "space-y-6",
                                children: sections.map((section)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: `grid gap-6 ${section.columns.length === 2 ? 'grid-cols-2' : 'grid-cols-1'}`,
                                        children: section.columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    column.content_type === 'rich_text' && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "prose max-w-none",
                                                        dangerouslySetInnerHTML: {
                                                            __html: column.content_data.html || ''
                                                        }
                                                    }),
                                                    column.content_type === 'photo_gallery' && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "grid grid-cols-2 gap-4",
                                                        children: (column.content_data.photo_ids || []).length > 0 ? (column.content_data.photo_ids || []).map((photoId)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                className: "aspect-square rounded-lg overflow-hidden bg-gray-200",
                                                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                    className: "w-full h-full flex items-center justify-center text-gray-500 text-sm",
                                                                    children: [
                                                                        "Photo ",
                                                                        photoId.slice(0, 8)
                                                                    ]
                                                                })
                                                            }, photoId)) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                            className: "col-span-2 text-gray-500 text-center py-4",
                                                            children: "No photos selected"
                                                        })
                                                    }),
                                                    column.content_type === 'references' && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "text-gray-600",
                                                        children: "[References Preview]"
                                                    })
                                                ]
                                            }, column.id))
                                    }, section.id))
                            })
                        ]
                    })
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9TZWN0aW9uRWRpdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCB0eXBlIHsgU2VjdGlvbiwgQ29sdW1uLCBDcmVhdGVTZWN0aW9uRFRPIH0gZnJvbSAnQC9zY2hlbWFzL2Ntc1NjaGVtYXMnO1xuaW1wb3J0IHsgUmljaFRleHRFZGl0b3IgfSBmcm9tICcuL1JpY2hUZXh0RWRpdG9yJztcbmltcG9ydCB7IFBob3RvR2FsbGVyeVNrZWxldG9uIH0gZnJvbSAnLi9QaG90b0dhbGxlcnlTa2VsZXRvbic7XG5cbi8vIExhenkgbG9hZCBQaG90b1BpY2tlciBjb21wb25lbnRcbmNvbnN0IFBob3RvUGlja2VyID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJy4vUGhvdG9QaWNrZXInKS50aGVuKG1vZCA9PiAoeyBkZWZhdWx0OiBtb2QuUGhvdG9QaWNrZXIgfSkpLCB7XG4gIGxvYWRpbmc6ICgpID0+IDxQaG90b0dhbGxlcnlTa2VsZXRvbiAvPixcbiAgc3NyOiBmYWxzZSxcbn0pO1xuXG5pbnRlcmZhY2UgU2VjdGlvbkVkaXRvclByb3BzIHtcbiAgcGFnZVR5cGU6ICdhY3Rpdml0eScgfCAnZXZlbnQnIHwgJ2FjY29tbW9kYXRpb24nIHwgJ3Jvb21fdHlwZScgfCAnY3VzdG9tJyB8ICdob21lJztcbiAgcGFnZUlkOiBzdHJpbmc7XG4gIG9uU2F2ZT86ICgpID0+IHZvaWQ7XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU2VjdGlvbldpdGhDb2x1bW5zIGV4dGVuZHMgU2VjdGlvbiB7XG4gIGNvbHVtbnM6IENvbHVtbltdO1xufVxuXG5pbnRlcmZhY2UgU2VjdGlvbkZvcm1EYXRhIHtcbiAgaWQ/OiBzdHJpbmc7XG4gIGxheW91dDogJ29uZS1jb2x1bW4nIHwgJ3R3by1jb2x1bW4nO1xuICBjb2x1bW5zOiB7XG4gICAgY29sdW1uTnVtYmVyOiAxIHwgMjtcbiAgICBjb250ZW50VHlwZTogJ3JpY2hfdGV4dCcgfCAncGhvdG9fZ2FsbGVyeScgfCAncmVmZXJlbmNlcyc7XG4gICAgY29udGVudERhdGE6IGFueTtcbiAgfVtdO1xufVxuXG4vKipcbiAqIFNlY3Rpb25FZGl0b3IgY29tcG9uZW50IGZvciBtYW5hZ2luZyBwYWdlIHNlY3Rpb25zIHdpdGggcmljaCBjb250ZW50XG4gKiBcbiAqIEZlYXR1cmVzOlxuICogLSBEcmFnLWFuZC1kcm9wIHNlY3Rpb24gcmVvcmRlcmluZ1xuICogLSBPbmUtY29sdW1uIGFuZCB0d28tY29sdW1uIGxheW91dHNcbiAqIC0gUmljaCB0ZXh0LCBwaG90byBnYWxsZXJ5LCBhbmQgcmVmZXJlbmNlIGNvbnRlbnQgdHlwZXNcbiAqIC0gUHJldmlldyBhcyBndWVzdCBmdW5jdGlvbmFsaXR5XG4gKiAtIEF1dG8tc2F2ZSB3aXRoIGRlYm91bmNpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlY3Rpb25FZGl0b3IoeyBwYWdlVHlwZSwgcGFnZUlkLCBvblNhdmUsIG9uQ2xvc2UgfTogU2VjdGlvbkVkaXRvclByb3BzKSB7XG4gIGNvbnN0IFtzZWN0aW9ucywgc2V0U2VjdGlvbnNdID0gdXNlU3RhdGU8U2VjdGlvbldpdGhDb2x1bW5zW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzYXZpbmcsIHNldFNhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlZGl0aW5nU2VjdGlvbiwgc2V0RWRpdGluZ1NlY3Rpb25dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkcmFnZ2VkU2VjdGlvbiwgc2V0RHJhZ2dlZFNlY3Rpb25dID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzaG93UHJldmlldywgc2V0U2hvd1ByZXZpZXddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEZldGNoIHNlY3Rpb25zIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hTZWN0aW9ucygpO1xuICB9LCBbcGFnZVR5cGUsIHBhZ2VJZF0pO1xuXG4gIGNvbnN0IGZldGNoU2VjdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9zZWN0aW9ucy9ieS1wYWdlLyR7cGFnZVR5cGV9LyR7cGFnZUlkfWApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0U2VjdGlvbnMocmVzdWx0LmRhdGEgfHwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBzZWN0aW9ucycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNlY3Rpb25zJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3BhZ2VUeXBlLCBwYWdlSWRdKTtcblxuICBjb25zdCBoYW5kbGVBZGRTZWN0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1NlY3Rpb246IENyZWF0ZVNlY3Rpb25EVE8gPSB7XG4gICAgICBwYWdlX3R5cGU6IHBhZ2VUeXBlID09PSAnaG9tZScgPyAnY3VzdG9tJyA6IHBhZ2VUeXBlLFxuICAgICAgcGFnZV9pZDogcGFnZUlkLFxuICAgICAgZGlzcGxheV9vcmRlcjogc2VjdGlvbnMubGVuZ3RoLFxuICAgICAgY29sdW1uczogW1xuICAgICAgICB7XG4gICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnJyB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vc2VjdGlvbnMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3U2VjdGlvbiksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0U2VjdGlvbnMocHJldiA9PiBbLi4ucHJldiwgcmVzdWx0LmRhdGFdKTtcbiAgICAgICAgc2V0RWRpdGluZ1NlY3Rpb24ocmVzdWx0LmRhdGEuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHNlY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHNlY3Rpb24nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtwYWdlVHlwZSwgcGFnZUlkLCBzZWN0aW9ucy5sZW5ndGhdKTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVTZWN0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc2VjdGlvbj8nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL3NlY3Rpb25zLyR7c2VjdGlvbklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRTZWN0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKHMgPT4gcy5pZCAhPT0gc2VjdGlvbklkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgc2VjdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgc2VjdGlvbicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUxheW91dCA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRMYXlvdXQgPSBzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAxID8gJ29uZS1jb2x1bW4nIDogJ3R3by1jb2x1bW4nO1xuICAgIGNvbnN0IG5ld0xheW91dCA9IGN1cnJlbnRMYXlvdXQgPT09ICdvbmUtY29sdW1uJyA/ICd0d28tY29sdW1uJyA6ICdvbmUtY29sdW1uJztcblxuICAgIGNvbnN0IHVwZGF0ZWRDb2x1bW5zID0gbmV3TGF5b3V0ID09PSAndHdvLWNvbHVtbidcbiAgICAgID8gW1xuICAgICAgICAgIC4uLnNlY3Rpb24uY29sdW1ucyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAyIGFzIGNvbnN0LFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyBhcyBjb25zdCxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnJyB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF1cbiAgICAgIDogW3NlY3Rpb24uY29sdW1uc1swXV07XG5cbiAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9zZWN0aW9ucy8ke3NlY3Rpb25JZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbHVtbnM6IHVwZGF0ZWRDb2x1bW5zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHNldFNlY3Rpb25zKHByZXYgPT5cbiAgICAgICAgICBwcmV2Lm1hcChzID0+IChzLmlkID09PSBzZWN0aW9uSWQgPyByZXN1bHQuZGF0YSA6IHMpKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGxheW91dCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgbGF5b3V0Jyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbc2VjdGlvbnNdKTtcblxuICBjb25zdCBoYW5kbGVDb2x1bW5UeXBlQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHNlY3Rpb25JZDogc3RyaW5nLCBjb2x1bW5JZDogc3RyaW5nLCBuZXdUeXBlOiAncmljaF90ZXh0JyB8ICdwaG90b19nYWxsZXJ5JyB8ICdyZWZlcmVuY2VzJykgPT4ge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IHNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgICAgaWYgKCFzZWN0aW9uKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRDb2x1bW5zID0gc2VjdGlvbi5jb2x1bW5zLm1hcChjb2wgPT4ge1xuICAgICAgICBpZiAoY29sLmlkID09PSBjb2x1bW5JZCkge1xuICAgICAgICAgIGxldCBjb250ZW50RGF0YTogYW55O1xuICAgICAgICAgIHN3aXRjaCAobmV3VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncmljaF90ZXh0JzpcbiAgICAgICAgICAgICAgY29udGVudERhdGEgPSB7IGh0bWw6ICcnIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGhvdG9fZ2FsbGVyeSc6XG4gICAgICAgICAgICAgIGNvbnRlbnREYXRhID0geyBwaG90b19pZHM6IFtdIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVmZXJlbmNlcyc6XG4gICAgICAgICAgICAgIGNvbnRlbnREYXRhID0geyByZWZlcmVuY2VzOiBbXSB9O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgLi4uY29sLCBjb250ZW50X3R5cGU6IG5ld1R5cGUsIGNvbnRlbnRfZGF0YTogY29udGVudERhdGEgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sO1xuICAgICAgfSk7XG5cbiAgICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL3NlY3Rpb25zLyR7c2VjdGlvbklkfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29sdW1uczogdXBkYXRlZENvbHVtbnMgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzZXRTZWN0aW9ucyhwcmV2ID0+XG4gICAgICAgICAgICBwcmV2Lm1hcChzID0+IChzLmlkID09PSBzZWN0aW9uSWQgPyByZXN1bHQuZGF0YSA6IHMpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGNvbHVtbiB0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBjb2x1bW4gdHlwZScpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZWN0aW9uc11cbiAgKTtcblxuICBjb25zdCBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHNlY3Rpb25JZDogc3RyaW5nLCBjb2x1bW5JZDogc3RyaW5nLCBjb250ZW50RGF0YTogYW55KSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgICAgY29uc3QgdXBkYXRlZENvbHVtbnMgPSBzZWN0aW9uLmNvbHVtbnMubWFwKGNvbCA9PiB7XG4gICAgICAgIGlmIChjb2wuaWQgPT09IGNvbHVtbklkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uY29sLCBjb250ZW50X2RhdGE6IGNvbnRlbnREYXRhIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgaW1tZWRpYXRlbHkgZm9yIGJldHRlciBVWFxuICAgICAgc2V0U2VjdGlvbnMocHJldiA9PlxuICAgICAgICBwcmV2Lm1hcChzID0+IHtcbiAgICAgICAgICBpZiAocy5pZCA9PT0gc2VjdGlvbklkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBzLmNvbHVtbnMubWFwKGNvbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmNvbCwgY29udGVudF9kYXRhOiBjb250ZW50RGF0YSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29sO1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gRGVib3VuY2UgdGhlIEFQSSBjYWxsXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9zZWN0aW9ucy8ke3NlY3Rpb25JZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbHVtbnM6IHVwZGF0ZWRDb2x1bW5zIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBjb250ZW50Jyk7XG4gICAgICAgICAgLy8gUmV2ZXJ0IG9uIGVycm9yXG4gICAgICAgICAgZmV0Y2hTZWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgY29udGVudCcpO1xuICAgICAgICBmZXRjaFNlY3Rpb25zKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3NlY3Rpb25zLCBmZXRjaFNlY3Rpb25zXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IHVzZUNhbGxiYWNrKChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldERyYWdnZWRTZWN0aW9uKHNlY3Rpb25JZCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRhcmdldFNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoIWRyYWdnZWRTZWN0aW9uIHx8IGRyYWdnZWRTZWN0aW9uID09PSB0YXJnZXRTZWN0aW9uSWQpIHtcbiAgICAgICAgc2V0RHJhZ2dlZFNlY3Rpb24obnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZHJhZ2dlZEluZGV4ID0gc2VjdGlvbnMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gZHJhZ2dlZFNlY3Rpb24pO1xuICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBzZWN0aW9ucy5maW5kSW5kZXgocyA9PiBzLmlkID09PSB0YXJnZXRTZWN0aW9uSWQpO1xuXG4gICAgICBpZiAoZHJhZ2dlZEluZGV4ID09PSAtMSB8fCB0YXJnZXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgc2V0RHJhZ2dlZFNlY3Rpb24obnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUmVvcmRlciBzZWN0aW9ucyBsb2NhbGx5XG4gICAgICBjb25zdCBuZXdTZWN0aW9ucyA9IFsuLi5zZWN0aW9uc107XG4gICAgICBjb25zdCBbcmVtb3ZlZF0gPSBuZXdTZWN0aW9ucy5zcGxpY2UoZHJhZ2dlZEluZGV4LCAxKTtcbiAgICAgIG5ld1NlY3Rpb25zLnNwbGljZSh0YXJnZXRJbmRleCwgMCwgcmVtb3ZlZCk7XG5cbiAgICAgIC8vIFVwZGF0ZSBkaXNwbGF5X29yZGVyXG4gICAgICBjb25zdCB1cGRhdGVkU2VjdGlvbnMgPSBuZXdTZWN0aW9ucy5tYXAoKHMsIGluZGV4KSA9PiAoe1xuICAgICAgICAuLi5zLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiBpbmRleCxcbiAgICAgIH0pKTtcblxuICAgICAgc2V0U2VjdGlvbnModXBkYXRlZFNlY3Rpb25zKTtcbiAgICAgIHNldERyYWdnZWRTZWN0aW9uKG51bGwpO1xuXG4gICAgICAvLyBTYXZlIHRvIHNlcnZlclxuICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vc2VjdGlvbnMvcmVvcmRlcicsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBwYWdlSWQsXG4gICAgICAgICAgICBzZWN0aW9uSWRzOiB1cGRhdGVkU2VjdGlvbnMubWFwKHMgPT4gcy5pZCksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcmVvcmRlciBzZWN0aW9ucycpO1xuICAgICAgICAgIC8vIFJldmVydCBvbiBlcnJvclxuICAgICAgICAgIGZldGNoU2VjdGlvbnMoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gcmVvcmRlciBzZWN0aW9ucycpO1xuICAgICAgICBmZXRjaFNlY3Rpb25zKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2RyYWdnZWRTZWN0aW9uLCBzZWN0aW9ucywgcGFnZUlkLCBmZXRjaFNlY3Rpb25zXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZU1vdmVVcCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBzZWN0aW9ucy5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgICAgaWYgKGluZGV4IDw9IDApIHJldHVybjtcblxuICAgICAgY29uc3QgbmV3U2VjdGlvbnMgPSBbLi4uc2VjdGlvbnNdO1xuICAgICAgW25ld1NlY3Rpb25zW2luZGV4IC0gMV0sIG5ld1NlY3Rpb25zW2luZGV4XV0gPSBbXG4gICAgICAgIG5ld1NlY3Rpb25zW2luZGV4XSxcbiAgICAgICAgbmV3U2VjdGlvbnNbaW5kZXggLSAxXSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRTZWN0aW9ucyA9IG5ld1NlY3Rpb25zLm1hcCgocywgaSkgPT4gKHtcbiAgICAgICAgLi4ucyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogaSxcbiAgICAgIH0pKTtcblxuICAgICAgc2V0U2VjdGlvbnModXBkYXRlZFNlY3Rpb25zKTtcblxuICAgICAgLy8gU2F2ZSB0byBzZXJ2ZXJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3NlY3Rpb25zL3Jlb3JkZXInLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGFnZUlkLFxuICAgICAgICAgICAgc2VjdGlvbklkczogdXBkYXRlZFNlY3Rpb25zLm1hcChzID0+IHMuaWQpLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHJlb3JkZXIgc2VjdGlvbnMnKTtcbiAgICAgICAgZmV0Y2hTZWN0aW9ucygpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZWN0aW9ucywgcGFnZUlkLCBmZXRjaFNlY3Rpb25zXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZU1vdmVEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHNlY3Rpb25zLmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICBpZiAoaW5kZXggPT09IC0xIHx8IGluZGV4ID49IHNlY3Rpb25zLmxlbmd0aCAtIDEpIHJldHVybjtcblxuICAgICAgY29uc3QgbmV3U2VjdGlvbnMgPSBbLi4uc2VjdGlvbnNdO1xuICAgICAgW25ld1NlY3Rpb25zW2luZGV4XSwgbmV3U2VjdGlvbnNbaW5kZXggKyAxXV0gPSBbXG4gICAgICAgIG5ld1NlY3Rpb25zW2luZGV4ICsgMV0sXG4gICAgICAgIG5ld1NlY3Rpb25zW2luZGV4XSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRTZWN0aW9ucyA9IG5ld1NlY3Rpb25zLm1hcCgocywgaSkgPT4gKHtcbiAgICAgICAgLi4ucyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogaSxcbiAgICAgIH0pKTtcblxuICAgICAgc2V0U2VjdGlvbnModXBkYXRlZFNlY3Rpb25zKTtcblxuICAgICAgLy8gU2F2ZSB0byBzZXJ2ZXJcbiAgICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3NlY3Rpb25zL3Jlb3JkZXInLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGFnZUlkLFxuICAgICAgICAgICAgc2VjdGlvbklkczogdXBkYXRlZFNlY3Rpb25zLm1hcChzID0+IHMuaWQpLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHJlb3JkZXIgc2VjdGlvbnMnKTtcbiAgICAgICAgZmV0Y2hTZWN0aW9ucygpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZWN0aW9ucywgcGFnZUlkLCBmZXRjaFNlY3Rpb25zXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZVNhdmVBbGwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKG9uU2F2ZSkge1xuICAgICAgb25TYXZlKCk7XG4gICAgfVxuICB9LCBbb25TYXZlXSk7XG5cbiAgY29uc3QgaGFuZGxlUHJldmlldyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93UHJldmlldyh0cnVlKTtcbiAgfSwgW10pO1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcgc2VjdGlvbnMuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIHBiLTRcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+U2VjdGlvbiBFZGl0b3I8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUHJldmlld31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktNTAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlByZXZpZXcgYXMgZ3Vlc3RcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFByZXZpZXcgYXMgR3Vlc3RcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlQWxsfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctYmx1ZS02MDAgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLWJsdWUtNTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTYXZlIGFsbCBzZWN0aW9uc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3NhdmluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUgQWxsJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7b25DbG9zZSAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktNTAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctZ3JheS01MDBcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2Ugc2VjdGlvbiBlZGl0b3JcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVycm9yIG1lc3NhZ2UgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwicC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1tZFwiXG4gICAgICAgICAgcm9sZT1cImFsZXJ0XCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtODAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogQWRkIHNlY3Rpb24gYnV0dG9uICovfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRTZWN0aW9ufVxuICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTYwMCBiZy1ibHVlLTUwIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWJsdWUtMzAwIHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS0xMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICBhcmlhLWxhYmVsPVwiQWRkIG5ldyBzZWN0aW9uXCJcbiAgICAgID5cbiAgICAgICAgKyBBZGQgU2VjdGlvblxuICAgICAgPC9idXR0b24+XG5cbiAgICAgIHsvKiBTZWN0aW9ucyBsaXN0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAge3NlY3Rpb25zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTggdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgTm8gc2VjdGlvbnMgeWV0LiBDbGljayBcIkFkZCBTZWN0aW9uXCIgdG8gZ2V0IHN0YXJ0ZWQuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgc2VjdGlvbnMubWFwKChzZWN0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBrZXk9e3NlY3Rpb24uaWR9XG4gICAgICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgICAgICBvbkRyYWdTdGFydD17KCkgPT4gaGFuZGxlRHJhZ1N0YXJ0KHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgICAgICAgICAgb25Ecm9wPXsoKSA9PiBoYW5kbGVEcm9wKHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Bib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgc2hhZG93LXNtICR7XG4gICAgICAgICAgICAgICAgZHJhZ2dlZFNlY3Rpb24gPT09IHNlY3Rpb24uaWQgPyAnb3BhY2l0eS01MCcgOiAnJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgey8qIFNlY3Rpb24gaGVhZGVyICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgU2VjdGlvbiB7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9nZ2xlTGF5b3V0KHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BUb2dnbGUgdG8gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uY29sdW1ucy5sZW5ndGggPT09IDEgPyAndHdvJyA6ICdvbmUnXG4gICAgICAgICAgICAgICAgICAgICAgfSBjb2x1bW4gbGF5b3V0YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAxID8gJzEgQ29sJyA6ICcyIENvbCd9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNb3ZlVXAoc2VjdGlvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpbmRleCA9PT0gMCB8fCBzYXZpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGlzYWJsZWQ6b3BhY2l0eS0zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiTW92ZSBzZWN0aW9uIHVwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg4oaRXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTW92ZURvd24oc2VjdGlvbi5pZCl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpbmRleCA9PT0gc2VjdGlvbnMubGVuZ3RoIC0gMSB8fCBzYXZpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGlzYWJsZWQ6b3BhY2l0eS0zMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiTW92ZSBzZWN0aW9uIGRvd25cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDihpNcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVTZWN0aW9uKHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTkwMCBkaXNhYmxlZDpvcGFjaXR5LTMwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEZWxldGUgc2VjdGlvblwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBTZWN0aW9uIGNvbnRlbnQgKi99XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTQgZ3JpZCBnYXAtNCAke1xuICAgICAgICAgICAgICAgICAgc2VjdGlvbi5jb2x1bW5zLmxlbmd0aCA9PT0gMiA/ICdncmlkLWNvbHMtMicgOiAnZ3JpZC1jb2xzLTEnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c2VjdGlvbi5jb2x1bW5zLm1hcChjb2x1bW4gPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbHVtbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkIHAtNCBiZy13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ29sdW1uIHtjb2x1bW4uY29sdW1uX251bWJlcn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29sdW1uLmNvbnRlbnRfdHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGhhbmRsZUNvbHVtblR5cGVDaGFuZ2Uoc2VjdGlvbi5pZCwgY29sdW1uLmlkLCBlLnRhcmdldC52YWx1ZSBhcyBhbnkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgcHgtMiBweS0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJpY2hfdGV4dFwiPlJpY2ggVGV4dDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInBob3RvX2dhbGxlcnlcIj5QaG90byBHYWxsZXJ5PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicmVmZXJlbmNlc1wiPlJlZmVyZW5jZXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5jb250ZW50X3R5cGUgPT09ICdyaWNoX3RleHQnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSaWNoVGV4dEVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55KS5odG1sIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aHRtbCA9PiBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb24uaWQsIGNvbHVtbi5pZCwgeyBodG1sIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXJ0IHR5cGluZyBvciB1c2UgLyBmb3IgY29tbWFuZHMuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4uY29udGVudF90eXBlID09PSAncGhvdG9fZ2FsbGVyeScgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFBob3RvUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGhvdG9JZHM9eyhjb2x1bW4uY29udGVudF9kYXRhIGFzIGFueSkucGhvdG9faWRzIHx8IFtdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17cGhvdG9JZHMgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb24uaWQsIGNvbHVtbi5pZCwgeyBwaG90b19pZHM6IHBob3RvSWRzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVR5cGU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUeXBlID09PSAnaG9tZScgPyAnbWVtb3J5JyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVR5cGUgPT09ICdjdXN0b20nID8gJ21lbW9yeScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUeXBlID09PSAncm9vbV90eXBlJyA/ICdhY2NvbW1vZGF0aW9uJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSWQ9e3BhZ2VJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLmNvbnRlbnRfdHlwZSA9PT0gJ3JlZmVyZW5jZXMnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBwLTQgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlbmNlcyAoeyhjb2x1bW4uY29udGVudF9kYXRhIGFzIGFueSkucmVmZXJlbmNlcz8ubGVuZ3RoIHx8IDB9IGl0ZW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVmZXJlbmNlIGxvb2t1cCBpbnRlZ3JhdGlvbiBjb21pbmcgc29vblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSlcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogUHJldmlldyBtb2RhbCAqL31cbiAgICAgIHtzaG93UHJldmlldyAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS01MFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByZXZpZXcoZmFsc2UpfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LXctNHhsIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctYXV0b1wiXG4gICAgICAgICAgICBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5HdWVzdCBQcmV2aWV3PC9oMz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJldmlldyhmYWxzZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDBcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIHByZXZpZXdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOKclVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgICB7c2VjdGlvbnMubWFwKHNlY3Rpb24gPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e3NlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGdyaWQgZ2FwLTYgJHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAyID8gJ2dyaWQtY29scy0yJyA6ICdncmlkLWNvbHMtMSdcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmNvbHVtbnMubWFwKGNvbHVtbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2NvbHVtbi5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLmNvbnRlbnRfdHlwZSA9PT0gJ3JpY2hfdGV4dCcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvc2UgbWF4LXctbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9faHRtbDogKGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55KS5odG1sIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5jb250ZW50X3R5cGUgPT09ICdwaG90b19nYWxsZXJ5JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoKGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55KS5waG90b19pZHMgfHwgW10pLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55KS5waG90b19pZHMgfHwgW10pLm1hcCgocGhvdG9JZDogc3RyaW5nKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3Bob3RvSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LXNxdWFyZSByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy1ncmF5LTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaG90byB7cGhvdG9JZC5zbGljZSgwLCA4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTIgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlciBweS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vIHBob3RvcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5jb250ZW50X3R5cGUgPT09ICdyZWZlcmVuY2VzJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtSZWZlcmVuY2VzIFByZXZpZXddXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlNlY3Rpb25FZGl0b3IiLCJQaG90b1BpY2tlciIsImR5bmFtaWMiLCJ0aGVuIiwibW9kIiwiZGVmYXVsdCIsImxvYWRpbmciLCJQaG90b0dhbGxlcnlTa2VsZXRvbiIsInNzciIsInBhZ2VUeXBlIiwicGFnZUlkIiwib25TYXZlIiwib25DbG9zZSIsInNlY3Rpb25zIiwic2V0U2VjdGlvbnMiLCJ1c2VTdGF0ZSIsInNldExvYWRpbmciLCJzYXZpbmciLCJzZXRTYXZpbmciLCJlcnJvciIsInNldEVycm9yIiwiZWRpdGluZ1NlY3Rpb24iLCJzZXRFZGl0aW5nU2VjdGlvbiIsImRyYWdnZWRTZWN0aW9uIiwic2V0RHJhZ2dlZFNlY3Rpb24iLCJzaG93UHJldmlldyIsInNldFNob3dQcmV2aWV3IiwidXNlRWZmZWN0IiwiZmV0Y2hTZWN0aW9ucyIsInVzZUNhbGxiYWNrIiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsIm1lc3NhZ2UiLCJlcnIiLCJoYW5kbGVBZGRTZWN0aW9uIiwibmV3U2VjdGlvbiIsInBhZ2VfdHlwZSIsInBhZ2VfaWQiLCJkaXNwbGF5X29yZGVyIiwibGVuZ3RoIiwiY29sdW1ucyIsImNvbHVtbl9udW1iZXIiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2RhdGEiLCJodG1sIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJldiIsImlkIiwiaGFuZGxlRGVsZXRlU2VjdGlvbiIsInNlY3Rpb25JZCIsImNvbmZpcm0iLCJmaWx0ZXIiLCJzIiwiaGFuZGxlVG9nZ2xlTGF5b3V0Iiwic2VjdGlvbiIsImZpbmQiLCJjdXJyZW50TGF5b3V0IiwibmV3TGF5b3V0IiwidXBkYXRlZENvbHVtbnMiLCJtYXAiLCJoYW5kbGVDb2x1bW5UeXBlQ2hhbmdlIiwiY29sdW1uSWQiLCJuZXdUeXBlIiwiY29sIiwiY29udGVudERhdGEiLCJwaG90b19pZHMiLCJyZWZlcmVuY2VzIiwiaGFuZGxlQ29sdW1uQ29udGVudENoYW5nZSIsImhhbmRsZURyYWdTdGFydCIsImhhbmRsZURyYWdPdmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlRHJvcCIsInRhcmdldFNlY3Rpb25JZCIsImRyYWdnZWRJbmRleCIsImZpbmRJbmRleCIsInRhcmdldEluZGV4IiwibmV3U2VjdGlvbnMiLCJyZW1vdmVkIiwic3BsaWNlIiwidXBkYXRlZFNlY3Rpb25zIiwiaW5kZXgiLCJzZWN0aW9uSWRzIiwiaGFuZGxlTW92ZVVwIiwiaSIsImhhbmRsZU1vdmVEb3duIiwiaGFuZGxlU2F2ZUFsbCIsImhhbmRsZVByZXZpZXciLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiZGlzYWJsZWQiLCJyb2xlIiwicCIsImRyYWdnYWJsZSIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnT3ZlciIsIm9uRHJvcCIsInNwYW4iLCJjb2x1bW4iLCJzZWxlY3QiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib3B0aW9uIiwiUmljaFRleHRFZGl0b3IiLCJwbGFjZWhvbGRlciIsInNlbGVjdGVkUGhvdG9JZHMiLCJvblNlbGVjdGlvbkNoYW5nZSIsInBob3RvSWRzIiwic3RvcFByb3BhZ2F0aW9uIiwiaDMiLCJkYW5nZXJvdXNseVNl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