8466c856055c9bc1c0dd0f3d2300dd45
/**
 * Unit Tests for Guest Management Page
 * 
 * Feature: admin-ui-modernization, Property 3: Row click opens edit modal
 * Validates: Requirements 3.8, 4.8
 */ "use strict";
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: jest.fn(),
                replace: jest.fn(),
                prefetch: jest.fn()
            }),
        useSearchParams: ()=>({
                get: jest.fn(()=>null),
                toString: jest.fn(()=>'')
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
require("@testing-library/jest-dom");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _ToastContext = require("../../../components/ui/ToastContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = jest.fn();
// Mock window.scrollTo
window.scrollTo = jest.fn();
// Sample guest data for testing
const mockGuests = [
    {
        id: '123e4567-e89b-12d3-a456-426614174000',
        groupId: '123e4567-e89b-12d3-a456-426614174001',
        firstName: 'John',
        lastName: 'Doe',
        email: 'john.doe@example.com',
        phone: '+1234567890',
        ageType: 'adult',
        guestType: 'wedding_guest',
        dietaryRestrictions: 'Vegetarian',
        plusOneName: null,
        plusOneAttending: false,
        arrivalDate: '2024-06-01',
        departureDate: '2024-06-05',
        airportCode: 'SJO',
        flightNumber: 'AA123',
        invitationSent: true,
        invitationSentDate: '2024-01-15',
        rsvpDeadline: '2024-05-01',
        notes: 'Prefers window seat',
        createdAt: '2024-01-01T00:00:00Z',
        updatedAt: '2024-01-01T00:00:00Z'
    },
    {
        id: '223e4567-e89b-12d3-a456-426614174000',
        groupId: '123e4567-e89b-12d3-a456-426614174001',
        firstName: 'Jane',
        lastName: 'Smith',
        email: 'jane.smith@example.com',
        phone: null,
        ageType: 'adult',
        guestType: 'wedding_party',
        dietaryRestrictions: null,
        plusOneName: 'Bob Smith',
        plusOneAttending: true,
        arrivalDate: '2024-05-31',
        departureDate: '2024-06-06',
        airportCode: 'LIR',
        flightNumber: null,
        invitationSent: true,
        invitationSentDate: '2024-01-15',
        rsvpDeadline: '2024-05-01',
        notes: null,
        createdAt: '2024-01-01T00:00:00Z',
        updatedAt: '2024-01-01T00:00:00Z'
    },
    {
        id: '323e4567-e89b-12d3-a456-426614174000',
        groupId: '223e4567-e89b-12d3-a456-426614174001',
        firstName: 'Alice',
        lastName: 'Johnson',
        email: null,
        phone: '+9876543210',
        ageType: 'child',
        guestType: 'wedding_guest',
        dietaryRestrictions: 'Gluten-free',
        plusOneName: null,
        plusOneAttending: false,
        arrivalDate: null,
        departureDate: null,
        airportCode: null,
        flightNumber: null,
        invitationSent: false,
        invitationSentDate: null,
        rsvpDeadline: '2024-05-01',
        notes: 'Traveling with parents',
        createdAt: '2024-01-01T00:00:00Z',
        updatedAt: '2024-01-01T00:00:00Z'
    }
];
describe('Feature: admin-ui-modernization, Property 3: Row click opens edit modal', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Mock successful API responses with mock guests
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/admin/guests')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                guests: mockGuests,
                                total: mockGuests.length,
                                page: 1,
                                pageSize: 50,
                                totalPages: 1
                            }
                        })
                });
            }
            if (url.includes('/api/admin/groups')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: []
                        })
                });
            }
            if (url.includes('/api/admin/activities')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: []
                        })
                });
            }
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve({
                        success: true,
                        data: []
                    })
            });
        });
    });
    it('should open edit modal with guest data when guest row is clicked', async ()=>{
        // Render component
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ToastContext.ToastProvider, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for guests to load and table to render with reduced timeout
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getAllByText('John')).toHaveLength(2); // Table and mobile view
        }, {
            timeout: 2000
        });
        // Find and click the first guest row (John Doe) - use more specific approach
        const johnCells = _react.screen.getAllByText('John');
        // Find the table cell (not the mobile view span)
        const johnTableCell = johnCells.find((cell)=>cell.tagName === 'TD');
        expect(johnTableCell).toBeInTheDocument();
        if (johnTableCell) {
            const johnRow = johnTableCell.closest('tr');
            expect(johnRow).toBeInTheDocument();
            if (johnRow) {
                _react.fireEvent.click(johnRow);
                // Wait for modal to open with reduced timeout
                await (0, _react.waitFor)(()=>{
                    expect(_react.screen.getByText('Edit Guest')).toBeInTheDocument();
                }, {
                    timeout: 1000
                });
                // Wait a bit more for form data to populate
                await (0, _react.waitFor)(()=>{
                    const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                    expect(firstNameInput.value).toBe('John');
                }, {
                    timeout: 1000
                });
                // Verify modal contains guest data
                const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                const lastNameInput = _react.screen.getByLabelText(/Last Name/i);
                expect(firstNameInput.value).toBe('John');
                expect(lastNameInput.value).toBe('Doe');
            }
        }
    }, 10000); // Increased test timeout
    it('should open edit modal with correct data for different guest types', async ()=>{
        // Render component
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ToastContext.ToastProvider, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for guests to load and table to render with reduced timeout
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getAllByText('Jane')).toHaveLength(2); // Table and mobile view
        }, {
            timeout: 2000
        });
        // Test clicking Jane Smith (wedding party with plus one) - use more specific approach
        const janeCells = _react.screen.getAllByText('Jane');
        // Find the table cell (not the mobile view span)
        const janeTableCell = janeCells.find((cell)=>cell.tagName === 'TD');
        expect(janeTableCell).toBeInTheDocument();
        if (janeTableCell) {
            const janeRow = janeTableCell.closest('tr');
            expect(janeRow).toBeInTheDocument();
            if (janeRow) {
                _react.fireEvent.click(janeRow);
                await (0, _react.waitFor)(()=>{
                    expect(_react.screen.getByText('Edit Guest')).toBeInTheDocument();
                }, {
                    timeout: 1000
                });
                // Wait a bit more for form data to populate
                await (0, _react.waitFor)(()=>{
                    const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                    expect(firstNameInput.value).toBe('Jane');
                }, {
                    timeout: 1000
                });
                const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                const lastNameInput = _react.screen.getByLabelText(/Last Name/i);
                expect(firstNameInput.value).toBe('Jane');
                expect(lastNameInput.value).toBe('Smith');
            }
        }
    }, 10000); // Increased test timeout
    it('should open edit modal for guest with minimal data (child guest)', async ()=>{
        // Render component
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ToastContext.ToastProvider, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for guests to load and table to render with reduced timeout
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getAllByText('Alice')).toHaveLength(2); // Table and mobile view
        }, {
            timeout: 2000
        });
        // Test clicking Alice Johnson (child with no email) - use more specific approach
        const aliceCells = _react.screen.getAllByText('Alice');
        // Find the table cell (not the mobile view span)
        const aliceTableCell = aliceCells.find((cell)=>cell.tagName === 'TD');
        expect(aliceTableCell).toBeInTheDocument();
        if (aliceTableCell) {
            const aliceRow = aliceTableCell.closest('tr');
            expect(aliceRow).toBeInTheDocument();
            if (aliceRow) {
                _react.fireEvent.click(aliceRow);
                await (0, _react.waitFor)(()=>{
                    expect(_react.screen.getByText('Edit Guest')).toBeInTheDocument();
                }, {
                    timeout: 1000
                });
                // Wait a bit more for form data to populate
                await (0, _react.waitFor)(()=>{
                    const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                    expect(firstNameInput.value).toBe('Alice');
                }, {
                    timeout: 1000
                });
                const firstNameInput = _react.screen.getByLabelText(/First Name/i);
                const lastNameInput = _react.screen.getByLabelText(/Last Name/i);
                expect(firstNameInput.value).toBe('Alice');
                expect(lastNameInput.value).toBe('Johnson');
            }
        }
    }, 10000); // Increased test timeout
    it('should open create modal when Add Guest button is clicked', async ()=>{
        // Render component
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ToastContext.ToastProvider, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for page to load (guests don't need to be present for this test) with reduced timeout
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByRole('button', {
                name: /Add new guest/i
            })).toBeInTheDocument();
        }, {
            timeout: 2000
        });
        // Click Add Guest button
        const addButton = _react.screen.getByRole('button', {
            name: /Add new guest/i
        });
        _react.fireEvent.click(addButton);
        // Wait for modal to open
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Add Guest')).toBeInTheDocument();
        }, {
            timeout: 2000
        });
        // Verify form is empty (create mode)
        const firstNameInput = _react.screen.getByLabelText(/First Name/i);
        const lastNameInput = _react.screen.getByLabelText(/Last Name/i);
        expect(firstNameInput.value).toBe('');
        expect(lastNameInput.value).toBe('');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2d1ZXN0cy9wYWdlLnByb3BlcnR5LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgR3Vlc3QgTWFuYWdlbWVudCBQYWdlXG4gKiBcbiAqIEZlYXR1cmU6IGFkbWluLXVpLW1vZGVybml6YXRpb24sIFByb3BlcnR5IDM6IFJvdyBjbGljayBvcGVucyBlZGl0IG1vZGFsXG4gKiBWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyAzLjgsIDQuOFxuICovXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XG5pbXBvcnQgR3Vlc3RzUGFnZSBmcm9tICcuL3BhZ2UnO1xuaW1wb3J0IHsgVG9hc3RQcm92aWRlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Ub2FzdENvbnRleHQnO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gIH0pLFxuICB1c2VTZWFyY2hQYXJhbXM6ICgpID0+ICh7XG4gICAgZ2V0OiBqZXN0LmZuKCgpID0+IG51bGwpLFxuICAgIHRvU3RyaW5nOiBqZXN0LmZuKCgpID0+ICcnKSxcbiAgfSksXG59KSk7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuLy8gTW9jayB3aW5kb3cuc2Nyb2xsVG9cbndpbmRvdy5zY3JvbGxUbyA9IGplc3QuZm4oKTtcblxuLy8gU2FtcGxlIGd1ZXN0IGRhdGEgZm9yIHRlc3RpbmdcbmNvbnN0IG1vY2tHdWVzdHMgPSBbXG4gIHtcbiAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgZ3JvdXBJZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgbGFzdE5hbWU6ICdEb2UnLFxuICAgIGVtYWlsOiAnam9obi5kb2VAZXhhbXBsZS5jb20nLFxuICAgIHBob25lOiAnKzEyMzQ1Njc4OTAnLFxuICAgIGFnZVR5cGU6ICdhZHVsdCcgYXMgY29uc3QsXG4gICAgZ3Vlc3RUeXBlOiAnd2VkZGluZ19ndWVzdCcgYXMgY29uc3QsXG4gICAgZGlldGFyeVJlc3RyaWN0aW9uczogJ1ZlZ2V0YXJpYW4nLFxuICAgIHBsdXNPbmVOYW1lOiBudWxsLFxuICAgIHBsdXNPbmVBdHRlbmRpbmc6IGZhbHNlLFxuICAgIGFycml2YWxEYXRlOiAnMjAyNC0wNi0wMScsXG4gICAgZGVwYXJ0dXJlRGF0ZTogJzIwMjQtMDYtMDUnLFxuICAgIGFpcnBvcnRDb2RlOiAnU0pPJyxcbiAgICBmbGlnaHROdW1iZXI6ICdBQTEyMycsXG4gICAgaW52aXRhdGlvblNlbnQ6IHRydWUsXG4gICAgaW52aXRhdGlvblNlbnREYXRlOiAnMjAyNC0wMS0xNScsXG4gICAgcnN2cERlYWRsaW5lOiAnMjAyNC0wNS0wMScsXG4gICAgbm90ZXM6ICdQcmVmZXJzIHdpbmRvdyBzZWF0JyxcbiAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICB9LFxuICB7XG4gICAgaWQ6ICcyMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICAgIGdyb3VwSWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgIGZpcnN0TmFtZTogJ0phbmUnLFxuICAgIGxhc3ROYW1lOiAnU21pdGgnLFxuICAgIGVtYWlsOiAnamFuZS5zbWl0aEBleGFtcGxlLmNvbScsXG4gICAgcGhvbmU6IG51bGwsXG4gICAgYWdlVHlwZTogJ2FkdWx0JyBhcyBjb25zdCxcbiAgICBndWVzdFR5cGU6ICd3ZWRkaW5nX3BhcnR5JyBhcyBjb25zdCxcbiAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiBudWxsLFxuICAgIHBsdXNPbmVOYW1lOiAnQm9iIFNtaXRoJyxcbiAgICBwbHVzT25lQXR0ZW5kaW5nOiB0cnVlLFxuICAgIGFycml2YWxEYXRlOiAnMjAyNC0wNS0zMScsXG4gICAgZGVwYXJ0dXJlRGF0ZTogJzIwMjQtMDYtMDYnLFxuICAgIGFpcnBvcnRDb2RlOiAnTElSJyxcbiAgICBmbGlnaHROdW1iZXI6IG51bGwsXG4gICAgaW52aXRhdGlvblNlbnQ6IHRydWUsXG4gICAgaW52aXRhdGlvblNlbnREYXRlOiAnMjAyNC0wMS0xNScsXG4gICAgcnN2cERlYWRsaW5lOiAnMjAyNC0wNS0wMScsXG4gICAgbm90ZXM6IG51bGwsXG4gICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgfSxcbiAge1xuICAgIGlkOiAnMzIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICBncm91cElkOiAnMjIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAxJyxcbiAgICBmaXJzdE5hbWU6ICdBbGljZScsXG4gICAgbGFzdE5hbWU6ICdKb2huc29uJyxcbiAgICBlbWFpbDogbnVsbCxcbiAgICBwaG9uZTogJys5ODc2NTQzMjEwJyxcbiAgICBhZ2VUeXBlOiAnY2hpbGQnIGFzIGNvbnN0LFxuICAgIGd1ZXN0VHlwZTogJ3dlZGRpbmdfZ3Vlc3QnIGFzIGNvbnN0LFxuICAgIGRpZXRhcnlSZXN0cmljdGlvbnM6ICdHbHV0ZW4tZnJlZScsXG4gICAgcGx1c09uZU5hbWU6IG51bGwsXG4gICAgcGx1c09uZUF0dGVuZGluZzogZmFsc2UsXG4gICAgYXJyaXZhbERhdGU6IG51bGwsXG4gICAgZGVwYXJ0dXJlRGF0ZTogbnVsbCxcbiAgICBhaXJwb3J0Q29kZTogbnVsbCxcbiAgICBmbGlnaHROdW1iZXI6IG51bGwsXG4gICAgaW52aXRhdGlvblNlbnQ6IGZhbHNlLFxuICAgIGludml0YXRpb25TZW50RGF0ZTogbnVsbCxcbiAgICByc3ZwRGVhZGxpbmU6ICcyMDI0LTA1LTAxJyxcbiAgICBub3RlczogJ1RyYXZlbGluZyB3aXRoIHBhcmVudHMnLFxuICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gIH0sXG5dO1xuXG5kZXNjcmliZSgnRmVhdHVyZTogYWRtaW4tdWktbW9kZXJuaXphdGlvbiwgUHJvcGVydHkgMzogUm93IGNsaWNrIG9wZW5zIGVkaXQgbW9kYWwnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBBUEkgcmVzcG9uc2VzIHdpdGggbW9jayBndWVzdHNcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ndWVzdHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZ3Vlc3RzOiBtb2NrR3Vlc3RzLFxuICAgICAgICAgICAgICB0b3RhbDogbW9ja0d1ZXN0cy5sZW5ndGgsXG4gICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgIHBhZ2VTaXplOiA1MCxcbiAgICAgICAgICAgICAgdG90YWxQYWdlczogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ncm91cHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG9wZW4gZWRpdCBtb2RhbCB3aXRoIGd1ZXN0IGRhdGEgd2hlbiBndWVzdCByb3cgaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBSZW5kZXIgY29tcG9uZW50XG4gICAgcmVuZGVyKFxuICAgICAgPFRvYXN0UHJvdmlkZXI+XG4gICAgICAgIDxHdWVzdHNQYWdlIC8+XG4gICAgICA8L1RvYXN0UHJvdmlkZXI+XG4gICAgKTtcblxuICAgIC8vIFdhaXQgZm9yIGd1ZXN0cyB0byBsb2FkIGFuZCB0YWJsZSB0byByZW5kZXIgd2l0aCByZWR1Y2VkIHRpbWVvdXRcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXh0KCdKb2huJykpLnRvSGF2ZUxlbmd0aCgyKTsgLy8gVGFibGUgYW5kIG1vYmlsZSB2aWV3XG4gICAgfSwgeyB0aW1lb3V0OiAyMDAwIH0pO1xuXG4gICAgLy8gRmluZCBhbmQgY2xpY2sgdGhlIGZpcnN0IGd1ZXN0IHJvdyAoSm9obiBEb2UpIC0gdXNlIG1vcmUgc3BlY2lmaWMgYXBwcm9hY2hcbiAgICBjb25zdCBqb2huQ2VsbHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdKb2huJyk7XG4gICAgLy8gRmluZCB0aGUgdGFibGUgY2VsbCAobm90IHRoZSBtb2JpbGUgdmlldyBzcGFuKVxuICAgIGNvbnN0IGpvaG5UYWJsZUNlbGwgPSBqb2huQ2VsbHMuZmluZChjZWxsID0+IGNlbGwudGFnTmFtZSA9PT0gJ1REJyk7XG4gICAgZXhwZWN0KGpvaG5UYWJsZUNlbGwpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICBpZiAoam9oblRhYmxlQ2VsbCkge1xuICAgICAgY29uc3Qgam9oblJvdyA9IGpvaG5UYWJsZUNlbGwuY2xvc2VzdCgndHInKTtcbiAgICAgIGV4cGVjdChqb2huUm93KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICBpZiAoam9oblJvdykge1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soam9oblJvdyk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIG1vZGFsIHRvIG9wZW4gd2l0aCByZWR1Y2VkIHRpbWVvdXRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCBHdWVzdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAxMDAwIH0pO1xuXG4gICAgICAvLyBXYWl0IGEgYml0IG1vcmUgZm9yIGZvcm0gZGF0YSB0byBwb3B1bGF0ZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpcnN0TmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9GaXJzdCBOYW1lL2kpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGV4cGVjdChmaXJzdE5hbWVJbnB1dC52YWx1ZSkudG9CZSgnSm9obicpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAxMDAwIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgbW9kYWwgY29udGFpbnMgZ3Vlc3QgZGF0YVxuICAgICAgY29uc3QgZmlyc3ROYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0ZpcnN0IE5hbWUvaSkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGNvbnN0IGxhc3ROYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0xhc3QgTmFtZS9pKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgICBleHBlY3QoZmlyc3ROYW1lSW5wdXQudmFsdWUpLnRvQmUoJ0pvaG4nKTtcbiAgICAgIGV4cGVjdChsYXN0TmFtZUlucHV0LnZhbHVlKS50b0JlKCdEb2UnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIDEwMDAwKTsgLy8gSW5jcmVhc2VkIHRlc3QgdGltZW91dFxuXG4gIGl0KCdzaG91bGQgb3BlbiBlZGl0IG1vZGFsIHdpdGggY29ycmVjdCBkYXRhIGZvciBkaWZmZXJlbnQgZ3Vlc3QgdHlwZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVuZGVyIGNvbXBvbmVudFxuICAgIHJlbmRlcihcbiAgICAgIDxUb2FzdFByb3ZpZGVyPlxuICAgICAgICA8R3Vlc3RzUGFnZSAvPlxuICAgICAgPC9Ub2FzdFByb3ZpZGVyPlxuICAgICk7XG5cbiAgICAvLyBXYWl0IGZvciBndWVzdHMgdG8gbG9hZCBhbmQgdGFibGUgdG8gcmVuZGVyIHdpdGggcmVkdWNlZCB0aW1lb3V0XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnSmFuZScpKS50b0hhdmVMZW5ndGgoMik7IC8vIFRhYmxlIGFuZCBtb2JpbGUgdmlld1xuICAgIH0sIHsgdGltZW91dDogMjAwMCB9KTtcblxuICAgIC8vIFRlc3QgY2xpY2tpbmcgSmFuZSBTbWl0aCAod2VkZGluZyBwYXJ0eSB3aXRoIHBsdXMgb25lKSAtIHVzZSBtb3JlIHNwZWNpZmljIGFwcHJvYWNoXG4gICAgY29uc3QgamFuZUNlbGxzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnSmFuZScpO1xuICAgIC8vIEZpbmQgdGhlIHRhYmxlIGNlbGwgKG5vdCB0aGUgbW9iaWxlIHZpZXcgc3BhbilcbiAgICBjb25zdCBqYW5lVGFibGVDZWxsID0gamFuZUNlbGxzLmZpbmQoY2VsbCA9PiBjZWxsLnRhZ05hbWUgPT09ICdURCcpO1xuICAgIGV4cGVjdChqYW5lVGFibGVDZWxsKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgaWYgKGphbmVUYWJsZUNlbGwpIHtcbiAgICAgIGNvbnN0IGphbmVSb3cgPSBqYW5lVGFibGVDZWxsLmNsb3Nlc3QoJ3RyJyk7XG4gICAgICBleHBlY3QoamFuZVJvdykudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgaWYgKGphbmVSb3cpIHtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGphbmVSb3cpO1xuXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFZGl0IEd1ZXN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIH0sIHsgdGltZW91dDogMTAwMCB9KTtcblxuICAgICAgICAvLyBXYWl0IGEgYml0IG1vcmUgZm9yIGZvcm0gZGF0YSB0byBwb3B1bGF0ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBmaXJzdE5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvRmlyc3QgTmFtZS9pKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWVJbnB1dC52YWx1ZSkudG9CZSgnSmFuZScpO1xuICAgICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAgfSk7XG5cbiAgICAgICAgY29uc3QgZmlyc3ROYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0ZpcnN0IE5hbWUvaSkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgY29uc3QgbGFzdE5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvTGFzdCBOYW1lL2kpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgICAgICAgZXhwZWN0KGZpcnN0TmFtZUlucHV0LnZhbHVlKS50b0JlKCdKYW5lJyk7XG4gICAgICAgIGV4cGVjdChsYXN0TmFtZUlucHV0LnZhbHVlKS50b0JlKCdTbWl0aCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgMTAwMDApOyAvLyBJbmNyZWFzZWQgdGVzdCB0aW1lb3V0XG5cbiAgaXQoJ3Nob3VsZCBvcGVuIGVkaXQgbW9kYWwgZm9yIGd1ZXN0IHdpdGggbWluaW1hbCBkYXRhIChjaGlsZCBndWVzdCknLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVuZGVyIGNvbXBvbmVudFxuICAgIHJlbmRlcihcbiAgICAgIDxUb2FzdFByb3ZpZGVyPlxuICAgICAgICA8R3Vlc3RzUGFnZSAvPlxuICAgICAgPC9Ub2FzdFByb3ZpZGVyPlxuICAgICk7XG5cbiAgICAvLyBXYWl0IGZvciBndWVzdHMgdG8gbG9hZCBhbmQgdGFibGUgdG8gcmVuZGVyIHdpdGggcmVkdWNlZCB0aW1lb3V0XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnQWxpY2UnKSkudG9IYXZlTGVuZ3RoKDIpOyAvLyBUYWJsZSBhbmQgbW9iaWxlIHZpZXdcbiAgICB9LCB7IHRpbWVvdXQ6IDIwMDAgfSk7XG5cbiAgICAvLyBUZXN0IGNsaWNraW5nIEFsaWNlIEpvaG5zb24gKGNoaWxkIHdpdGggbm8gZW1haWwpIC0gdXNlIG1vcmUgc3BlY2lmaWMgYXBwcm9hY2hcbiAgICBjb25zdCBhbGljZUNlbGxzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQWxpY2UnKTtcbiAgICAvLyBGaW5kIHRoZSB0YWJsZSBjZWxsIChub3QgdGhlIG1vYmlsZSB2aWV3IHNwYW4pXG4gICAgY29uc3QgYWxpY2VUYWJsZUNlbGwgPSBhbGljZUNlbGxzLmZpbmQoY2VsbCA9PiBjZWxsLnRhZ05hbWUgPT09ICdURCcpO1xuICAgIGV4cGVjdChhbGljZVRhYmxlQ2VsbCkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIGlmIChhbGljZVRhYmxlQ2VsbCkge1xuICAgICAgY29uc3QgYWxpY2VSb3cgPSBhbGljZVRhYmxlQ2VsbC5jbG9zZXN0KCd0cicpO1xuICAgICAgZXhwZWN0KGFsaWNlUm93KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICBpZiAoYWxpY2VSb3cpIHtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGFsaWNlUm93KTtcblxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCBHdWVzdCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICB9LCB7IHRpbWVvdXQ6IDEwMDAgfSk7XG5cbiAgICAgICAgLy8gV2FpdCBhIGJpdCBtb3JlIGZvciBmb3JtIGRhdGEgdG8gcG9wdWxhdGVcbiAgICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZmlyc3ROYW1lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0ZpcnN0IE5hbWUvaSkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lSW5wdXQudmFsdWUpLnRvQmUoJ0FsaWNlJyk7XG4gICAgICAgIH0sIHsgdGltZW91dDogMTAwMCB9KTtcblxuICAgICAgICBjb25zdCBmaXJzdE5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvRmlyc3QgTmFtZS9pKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBjb25zdCBsYXN0TmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9MYXN0IE5hbWUvaSkgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgICBleHBlY3QoZmlyc3ROYW1lSW5wdXQudmFsdWUpLnRvQmUoJ0FsaWNlJyk7XG4gICAgICAgIGV4cGVjdChsYXN0TmFtZUlucHV0LnZhbHVlKS50b0JlKCdKb2huc29uJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCAxMDAwMCk7IC8vIEluY3JlYXNlZCB0ZXN0IHRpbWVvdXRcblxuICBpdCgnc2hvdWxkIG9wZW4gY3JlYXRlIG1vZGFsIHdoZW4gQWRkIEd1ZXN0IGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIFJlbmRlciBjb21wb25lbnRcbiAgICByZW5kZXIoXG4gICAgICA8VG9hc3RQcm92aWRlcj5cbiAgICAgICAgPEd1ZXN0c1BhZ2UgLz5cbiAgICAgIDwvVG9hc3RQcm92aWRlcj5cbiAgICApO1xuXG4gICAgLy8gV2FpdCBmb3IgcGFnZSB0byBsb2FkIChndWVzdHMgZG9uJ3QgbmVlZCB0byBiZSBwcmVzZW50IGZvciB0aGlzIHRlc3QpIHdpdGggcmVkdWNlZCB0aW1lb3V0XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvQWRkIG5ldyBndWVzdC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0sIHsgdGltZW91dDogMjAwMCB9KTtcblxuICAgIC8vIENsaWNrIEFkZCBHdWVzdCBidXR0b25cbiAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9BZGQgbmV3IGd1ZXN0L2kgfSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGFkZEJ1dHRvbik7XG5cbiAgICAvLyBXYWl0IGZvciBtb2RhbCB0byBvcGVuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWRkIEd1ZXN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSwgeyB0aW1lb3V0OiAyMDAwIH0pO1xuXG4gICAgLy8gVmVyaWZ5IGZvcm0gaXMgZW1wdHkgKGNyZWF0ZSBtb2RlKVxuICAgIGNvbnN0IGZpcnN0TmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9GaXJzdCBOYW1lL2kpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgbGFzdE5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvTGFzdCBOYW1lL2kpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgICBleHBlY3QoZmlyc3ROYW1lSW5wdXQudmFsdWUpLnRvQmUoJycpO1xuICAgIGV4cGVjdChsYXN0TmFtZUlucHV0LnZhbHVlKS50b0JlKCcnKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsInB1c2giLCJmbiIsInJlcGxhY2UiLCJwcmVmZXRjaCIsInVzZVNlYXJjaFBhcmFtcyIsImdldCIsInRvU3RyaW5nIiwiZ2xvYmFsIiwiZmV0Y2giLCJ3aW5kb3ciLCJzY3JvbGxUbyIsIm1vY2tHdWVzdHMiLCJpZCIsImdyb3VwSWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicGhvbmUiLCJhZ2VUeXBlIiwiZ3Vlc3RUeXBlIiwiZGlldGFyeVJlc3RyaWN0aW9ucyIsInBsdXNPbmVOYW1lIiwicGx1c09uZUF0dGVuZGluZyIsImFycml2YWxEYXRlIiwiZGVwYXJ0dXJlRGF0ZSIsImFpcnBvcnRDb2RlIiwiZmxpZ2h0TnVtYmVyIiwiaW52aXRhdGlvblNlbnQiLCJpbnZpdGF0aW9uU2VudERhdGUiLCJyc3ZwRGVhZGxpbmUiLCJub3RlcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ1cmwiLCJpbmNsdWRlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJndWVzdHMiLCJ0b3RhbCIsImxlbmd0aCIsInBhZ2UiLCJwYWdlU2l6ZSIsInRvdGFsUGFnZXMiLCJpdCIsInJlbmRlciIsIlRvYXN0UHJvdmlkZXIiLCJHdWVzdHNQYWdlIiwid2FpdEZvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEFsbEJ5VGV4dCIsInRvSGF2ZUxlbmd0aCIsInRpbWVvdXQiLCJqb2huQ2VsbHMiLCJqb2huVGFibGVDZWxsIiwiZmluZCIsImNlbGwiLCJ0YWdOYW1lIiwidG9CZUluVGhlRG9jdW1lbnQiLCJqb2huUm93IiwiY2xvc2VzdCIsImZpcmVFdmVudCIsImNsaWNrIiwiZ2V0QnlUZXh0IiwiZmlyc3ROYW1lSW5wdXQiLCJnZXRCeUxhYmVsVGV4dCIsInZhbHVlIiwidG9CZSIsImxhc3ROYW1lSW5wdXQiLCJqYW5lQ2VsbHMiLCJqYW5lVGFibGVDZWxsIiwiamFuZVJvdyIsImFsaWNlQ2VsbHMiLCJhbGljZVRhYmxlQ2VsbCIsImFsaWNlUm93IiwiZ2V0QnlSb2xlIiwibmFtZSIsImFkZEJ1dHRvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7QUFPRCxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxXQUFXLElBQU8sQ0FBQTtnQkFDaEJDLE1BQU1ILEtBQUtJLEVBQUU7Z0JBQ2JDLFNBQVNMLEtBQUtJLEVBQUU7Z0JBQ2hC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