{"version":3,"names":["PhotoGallery","photoIds","displayMode","cov_2pczg2wke0","b","autoplaySpeed","showCaptions","className","f","photos","setPhotos","s","_react","useState","loading","setLoading","error","setError","currentIndex","setCurrentIndex","useEffect","fetchPhotos","length","photoPromises","map","id","response","fetch","ok","console","result","json","success","data","fetchedPhotos","Promise","all","validPhotos","filter","p","err","interval","setInterval","prev","clearInterval","_jsxruntime","jsx","photo","jsxs","_image","default","src","photo_url","alt","alt_text","caption","fill","sizes","currentPhoto","goToPrevious","goToNext","priority","Fragment","onClick","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_","index"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/PhotoGallery.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\n\ninterface Photo {\n  id: string;\n  photo_url: string;\n  caption?: string;\n  alt_text?: string;\n}\n\ninterface PhotoGalleryProps {\n  photoIds: string[];\n  displayMode?: 'gallery' | 'carousel' | 'loop';\n  autoplaySpeed?: number; // Speed in milliseconds (default: 3000)\n  showCaptions?: boolean; // Whether to show captions (default: true)\n  className?: string;\n}\n\n/**\n * PhotoGallery Component\n * \n * Displays photos in different modes:\n * - gallery: Static grid layout\n * - carousel: Discrete slide transitions with navigation\n * - loop: Auto-playing continuous loop\n * \n * Fetches photo data from API and renders with proper display mode.\n */\nexport function PhotoGallery({ \n  photoIds, \n  displayMode = 'gallery', \n  autoplaySpeed = 3000,\n  showCaptions = true,\n  className = '' \n}: PhotoGalleryProps) {\n  const [photos, setPhotos] = useState<Photo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    async function fetchPhotos() {\n      if (!photoIds || photoIds.length === 0) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Fetch all photos in parallel from public endpoint\n        const photoPromises = photoIds.map(async (id) => {\n          const response = await fetch(`/api/photos/${id}`);\n          if (!response.ok) {\n            console.error(`Failed to fetch photo ${id}`);\n            return null;\n          }\n          const result = await response.json();\n          return result.success ? result.data : null;\n        });\n\n        const fetchedPhotos = await Promise.all(photoPromises);\n        const validPhotos = fetchedPhotos.filter((p): p is Photo => p !== null);\n        \n        setPhotos(validPhotos);\n      } catch (err) {\n        console.error('Error fetching photos:', err);\n        setError('Failed to load photos');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchPhotos();\n  }, [photoIds]);\n\n  // Auto-advance for loop mode only (carousel has manual controls)\n  useEffect(() => {\n    if (displayMode === 'loop' && photos.length > 1 && !loading) {\n      const interval = setInterval(() => {\n        setCurrentIndex((prev) => (prev + 1) % photos.length);\n      }, autoplaySpeed);\n\n      return () => clearInterval(interval);\n    }\n  }, [displayMode, photos.length, autoplaySpeed, loading]);\n\n  if (loading) {\n    return (\n      <div className={`animate-pulse ${className}`}>\n        <div className=\"bg-sage-200 rounded-lg h-64 w-full\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`text-red-600 p-4 bg-red-50 rounded-lg ${className}`}>\n        {error}\n      </div>\n    );\n  }\n\n  if (photos.length === 0) {\n    return null;\n  }\n\n  // Gallery Grid Mode\n  if (displayMode === 'gallery') {\n    return (\n      <div className={`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ${className}`}>\n        {photos.map((photo) => (\n          <div key={photo.id} className=\"space-y-2\">\n            <div className=\"relative aspect-square overflow-hidden rounded-lg bg-sage-100\">\n              <Image\n                src={photo.photo_url}\n                alt={photo.alt_text || photo.caption || 'Wedding photo'}\n                fill\n                className=\"object-cover hover:scale-105 transition-transform duration-300\"\n                sizes=\"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw\"\n              />\n            </div>\n            {showCaptions && photo.caption && (\n              <p className=\"text-sm text-gray-700 text-center px-2\">\n                {photo.caption}\n              </p>\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // Carousel Mode (with navigation)\n  if (displayMode === 'carousel') {\n    const currentPhoto = photos[currentIndex];\n    \n    const goToPrevious = () => {\n      setCurrentIndex((prev) => (prev - 1 + photos.length) % photos.length);\n    };\n\n    const goToNext = () => {\n      setCurrentIndex((prev) => (prev + 1) % photos.length);\n    };\n\n    return (\n      <div className={`space-y-3 ${className}`}>\n        <div className=\"relative\">\n          <div className=\"relative aspect-video overflow-hidden rounded-lg bg-sage-100\">\n            <Image\n              src={currentPhoto.photo_url}\n              alt={currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo'}\n              fill\n              className=\"object-contain\"\n              sizes=\"100vw\"\n              priority\n            />\n          </div>\n\n          {/* Navigation Buttons */}\n          {photos.length > 1 && (\n            <>\n              <button\n                onClick={goToPrevious}\n                className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all\"\n                aria-label=\"Previous photo\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </button>\n              <button\n                onClick={goToNext}\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all\"\n                aria-label=\"Next photo\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                </svg>\n              </button>\n            </>\n          )}\n        </div>\n\n        {/* Caption below image */}\n        {showCaptions && currentPhoto.caption && (\n          <p className=\"text-center text-gray-700 px-4\">\n            {currentPhoto.caption}\n          </p>\n        )}\n\n        {/* Dots Indicator */}\n        {photos.length > 1 && (\n          <div className=\"flex justify-center gap-2\">\n            {photos.map((_, index) => (\n              <button\n                key={index}\n                onClick={() => setCurrentIndex(index)}\n                className={`w-2 h-2 rounded-full transition-all ${\n                  index === currentIndex ? 'bg-jungle-600 w-6' : 'bg-sage-300'\n                }`}\n                aria-label={`Go to photo ${index + 1}`}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Loop Mode (auto-playing)\n  if (displayMode === 'loop') {\n    const currentPhoto = photos[currentIndex];\n\n    return (\n      <div className={`space-y-3 ${className}`}>\n        <div className=\"relative aspect-video overflow-hidden rounded-lg bg-sage-100\">\n          <Image\n            src={currentPhoto.photo_url}\n            alt={currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo'}\n            fill\n            className=\"object-cover transition-opacity duration-1000\"\n            sizes=\"100vw\"\n            priority\n          />\n        </div>\n\n        {/* Caption below image */}\n        {showCaptions && currentPhoto.caption && (\n          <p className=\"text-center text-gray-700 px-4\">\n            {currentPhoto.caption}\n          </p>\n        )}\n\n        {/* Progress Indicator */}\n        <div className=\"flex justify-center gap-1\">\n          {photos.map((_, index) => (\n            <div\n              key={index}\n              className={`h-1 rounded-full transition-all ${\n                index === currentIndex ? 'bg-jungle-600 w-8' : 'bg-sage-300 w-2'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}