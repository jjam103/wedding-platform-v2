{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/cmsSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Content type schemas\nexport const richTextContentSchema = z.object({\n  html: z.string(),\n});\n\nexport const photoGalleryContentSchema = z.object({\n  photo_ids: z.array(z.string().uuid()),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']),\n});\n\nexport const referenceSchema = z.object({\n  type: z.enum(['activity', 'event', 'accommodation', 'location', 'content_page']),\n  id: z.string().uuid(),\n  name: z.string().optional(),\n  label: z.string().optional(),\n  description: z.string().optional(),\n  metadata: z.record(z.any()).optional(),\n});\n\nexport const referencesContentSchema = z.object({\n  references: z.array(referenceSchema),\n});\n\n// Column schema\nexport const columnDataSchema = z.object({\n  column_number: z.union([z.literal(1), z.literal(2)]),\n  content_type: z.enum(['rich_text', 'photo_gallery', 'references']),\n  content_data: z.union([\n    richTextContentSchema,\n    photoGalleryContentSchema,\n    referencesContentSchema,\n  ]),\n});\n\n// Section schemas\nexport const createSectionSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom']),\n  page_id: z.string().min(1),\n  title: z.string().max(200).optional(),\n  display_order: z.number().int().min(0),\n  columns: z.array(columnDataSchema).min(1).max(2),\n});\n\nexport const updateSectionSchema = createSectionSchema.partial().extend({\n  columns: z.array(columnDataSchema).min(1).max(2).optional(),\n});\n\n// Content pages schemas\nexport const createContentPageSchema = z.object({\n  title: z.string().min(1).max(200),\n  slug: z.string().min(1).regex(/^[a-z0-9-]+$/, 'Slug must contain only lowercase letters, numbers, and hyphens').optional(),\n  status: z.enum(['draft', 'published']).default('draft'),\n});\n\nexport const updateContentPageSchema = createContentPageSchema.partial();\n\n// Gallery settings schemas\nexport const createGallerySettingsSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']),\n  page_id: z.string().min(1),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']).default('gallery'),\n  photos_per_row: z.number().int().min(1).max(6).optional(),\n  show_captions: z.boolean().default(true),\n  autoplay_interval: z.number().int().min(1000).optional(),\n  transition_effect: z.string().optional(),\n});\n\nexport const updateGallerySettingsSchema = createGallerySettingsSchema.partial().extend({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']).optional(),\n  page_id: z.string().min(1).optional(),\n});\n\n// Type exports\nexport type RichTextContent = z.infer<typeof richTextContentSchema>;\nexport type PhotoGalleryContent = z.infer<typeof photoGalleryContentSchema>;\nexport type Reference = z.infer<typeof referenceSchema>;\nexport type ReferencesContent = z.infer<typeof referencesContentSchema>;\nexport type ColumnData = z.infer<typeof columnDataSchema>;\nexport type CreateSectionDTO = z.infer<typeof createSectionSchema>;\nexport type UpdateSectionDTO = z.infer<typeof updateSectionSchema>;\nexport type CreateContentPageDTO = z.infer<typeof createContentPageSchema>;\nexport type UpdateContentPageDTO = z.infer<typeof updateContentPageSchema>;\nexport type CreateGallerySettingsDTO = z.infer<typeof createGallerySettingsSchema>;\nexport type UpdateGallerySettingsDTO = z.infer<typeof updateGallerySettingsSchema>;\n\n// Database entity types\nexport interface ContentPage {\n  id: string;\n  slug: string;\n  title: string;\n  status: 'draft' | 'published';\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Section {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  title?: string;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Column {\n  id: string;\n  section_id: string;\n  column_number: 1 | 2;\n  content_type: 'rich_text' | 'photo_gallery' | 'references';\n  content_data: RichTextContent | PhotoGalleryContent | ReferencesContent;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface GallerySettings {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom' | 'memory';\n  page_id: string;\n  display_mode: 'gallery' | 'carousel' | 'loop';\n  photos_per_row?: number;\n  show_captions: boolean;\n  autoplay_interval?: number;\n  transition_effect?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ContentVersion {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  created_by: string | null;\n  sections_snapshot: any;\n  created_at: string;\n}\n\n// Validation result types\nexport interface ValidationResult {\n  valid: boolean;\n  brokenReferences: Reference[];\n  circularReferences: Reference[];\n}\n"],"names":["columnDataSchema","createContentPageSchema","createGallerySettingsSchema","createSectionSchema","photoGalleryContentSchema","referenceSchema","referencesContentSchema","richTextContentSchema","updateContentPageSchema","updateGallerySettingsSchema","updateSectionSchema","z","object","html","string","photo_ids","array","uuid","display_mode","enum","type","id","name","optional","label","description","metadata","record","any","references","column_number","union","literal","content_type","content_data","page_type","page_id","min","title","max","display_order","number","int","columns","partial","extend","slug","regex","status","default","photos_per_row","show_captions","boolean","autoplay_interval","transition_effect"],"mappings":"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"}