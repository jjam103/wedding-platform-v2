{"version":3,"names":["PhotoGallery","photoIds","displayMode","cov_2pczg2wke0","b","className","f","photos","setPhotos","s","_react","useState","loading","setLoading","error","setError","currentIndex","setCurrentIndex","useEffect","fetchPhotos","length","photoPromises","map","id","response","fetch","ok","console","result","json","success","data","fetchedPhotos","Promise","all","validPhotos","filter","p","err","interval","setInterval","prev","clearInterval","_jsxruntime","jsx","photo","jsxs","_image","default","src","photo_url","alt","alt_text","caption","fill","sizes","currentPhoto","goToPrevious","goToNext","priority","Fragment","onClick","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_","index"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/PhotoGallery.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image from 'next/image';\n\ninterface Photo {\n  id: string;\n  photo_url: string;\n  caption?: string;\n  alt_text?: string;\n}\n\ninterface PhotoGalleryProps {\n  photoIds: string[];\n  displayMode?: 'gallery' | 'carousel' | 'loop';\n  className?: string;\n}\n\n/**\n * PhotoGallery Component\n * \n * Displays photos in different modes:\n * - gallery: Static grid layout\n * - carousel: Discrete slide transitions with navigation\n * - loop: Auto-playing continuous loop\n * \n * Fetches photo data from API and renders with proper display mode.\n */\nexport function PhotoGallery({ photoIds, displayMode = 'gallery', className = '' }: PhotoGalleryProps) {\n  const [photos, setPhotos] = useState<Photo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    async function fetchPhotos() {\n      if (!photoIds || photoIds.length === 0) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Fetch all photos in parallel\n        const photoPromises = photoIds.map(async (id) => {\n          const response = await fetch(`/api/admin/photos/${id}`);\n          if (!response.ok) {\n            console.error(`Failed to fetch photo ${id}`);\n            return null;\n          }\n          const result = await response.json();\n          return result.success ? result.data : null;\n        });\n\n        const fetchedPhotos = await Promise.all(photoPromises);\n        const validPhotos = fetchedPhotos.filter((p): p is Photo => p !== null);\n        \n        setPhotos(validPhotos);\n      } catch (err) {\n        console.error('Error fetching photos:', err);\n        setError('Failed to load photos');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchPhotos();\n  }, [photoIds]);\n\n  // Auto-advance for loop mode\n  useEffect(() => {\n    if (displayMode === 'loop' && photos.length > 1) {\n      const interval = setInterval(() => {\n        setCurrentIndex((prev) => (prev + 1) % photos.length);\n      }, 3000); // Change photo every 3 seconds\n\n      return () => clearInterval(interval);\n    }\n  }, [displayMode, photos.length]);\n\n  if (loading) {\n    return (\n      <div className={`animate-pulse ${className}`}>\n        <div className=\"bg-sage-200 rounded-lg h-64 w-full\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`text-red-600 p-4 bg-red-50 rounded-lg ${className}`}>\n        {error}\n      </div>\n    );\n  }\n\n  if (photos.length === 0) {\n    return null;\n  }\n\n  // Gallery Grid Mode\n  if (displayMode === 'gallery') {\n    return (\n      <div className={`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ${className}`}>\n        {photos.map((photo) => (\n          <div key={photo.id} className=\"relative aspect-square overflow-hidden rounded-lg bg-sage-100\">\n            <Image\n              src={photo.photo_url}\n              alt={photo.alt_text || photo.caption || 'Wedding photo'}\n              fill\n              className=\"object-cover hover:scale-105 transition-transform duration-300\"\n              sizes=\"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw\"\n            />\n            {photo.caption && (\n              <div className=\"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2 text-sm\">\n                {photo.caption}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // Carousel Mode (with navigation)\n  if (displayMode === 'carousel') {\n    const currentPhoto = photos[currentIndex];\n    \n    const goToPrevious = () => {\n      setCurrentIndex((prev) => (prev - 1 + photos.length) % photos.length);\n    };\n\n    const goToNext = () => {\n      setCurrentIndex((prev) => (prev + 1) % photos.length);\n    };\n\n    return (\n      <div className={`relative ${className}`}>\n        <div className=\"relative aspect-video overflow-hidden rounded-lg bg-sage-100\">\n          <Image\n            src={currentPhoto.photo_url}\n            alt={currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo'}\n            fill\n            className=\"object-contain\"\n            sizes=\"100vw\"\n            priority\n          />\n          {currentPhoto.caption && (\n            <div className=\"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-3 text-center\">\n              {currentPhoto.caption}\n            </div>\n          )}\n        </div>\n\n        {/* Navigation Buttons */}\n        {photos.length > 1 && (\n          <>\n            <button\n              onClick={goToPrevious}\n              className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all\"\n              aria-label=\"Previous photo\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n            <button\n              onClick={goToNext}\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all\"\n              aria-label=\"Next photo\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </button>\n\n            {/* Dots Indicator */}\n            <div className=\"flex justify-center gap-2 mt-4\">\n              {photos.map((_, index) => (\n                <button\n                  key={index}\n                  onClick={() => setCurrentIndex(index)}\n                  className={`w-2 h-2 rounded-full transition-all ${\n                    index === currentIndex ? 'bg-jungle-600 w-6' : 'bg-sage-300'\n                  }`}\n                  aria-label={`Go to photo ${index + 1}`}\n                />\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    );\n  }\n\n  // Loop Mode (auto-playing)\n  if (displayMode === 'loop') {\n    const currentPhoto = photos[currentIndex];\n\n    return (\n      <div className={`relative ${className}`}>\n        <div className=\"relative aspect-video overflow-hidden rounded-lg bg-sage-100\">\n          <Image\n            src={currentPhoto.photo_url}\n            alt={currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo'}\n            fill\n            className=\"object-cover transition-opacity duration-1000\"\n            sizes=\"100vw\"\n            priority\n          />\n          {currentPhoto.caption && (\n            <div className=\"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-3 text-center\">\n              {currentPhoto.caption}\n            </div>\n          )}\n        </div>\n\n        {/* Progress Indicator */}\n        <div className=\"flex justify-center gap-1 mt-3\">\n          {photos.map((_, index) => (\n            <div\n              key={index}\n              className={`h-1 rounded-full transition-all ${\n                index === currentIndex ? 'bg-jungle-600 w-8' : 'bg-sage-300 w-2'\n              }`}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}