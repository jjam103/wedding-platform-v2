{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/Toast.property.test.tsx"],"sourcesContent":["/**\n * Property-Based Tests for Toast Notification System\n * \n * Feature: admin-ui-modernization\n * Tests universal properties of the Toast notification system across various inputs.\n */\n\nimport { render, screen, waitFor, cleanup, act } from '@testing-library/react';\nimport * as fc from 'fast-check';\nimport { ToastProvider, useToast } from './ToastContext';\nimport type { ReactNode } from 'react';\n\n// Helper component to test toast functionality\nfunction ToastTestComponent({ \n  onMount \n}: { \n  onMount: (addToast: ReturnType<typeof useToast>['addToast']) => void \n}) {\n  const { addToast } = useToast();\n  \n  // Call onMount with addToast function when component mounts\n  if (onMount) {\n    onMount(addToast);\n  }\n  \n  return <div data-testid=\"toast-test-component\">Test Component</div>;\n}\n\ndescribe('Toast System Property Tests', () => {\n  afterEach(() => {\n    cleanup();\n  });\n\n  /**\n   * Property 5: Success toast on successful operations\n   * Validates: Requirements 3.10, 4.9, 8.7\n   * \n   * For any successful CRUD operation (create, update, delete), the system should\n   * display a success toast notification with an appropriate message.\n   */\n  describe('Feature: admin-ui-modernization, Property 5: Success toast on successful operations', () => {\n    it('should display success toast with correct styling and message', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 200 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n            operation: fc.constantFrom('create', 'update', 'delete'),\n          }),\n          async ({ message, operation }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add success toast\n              act(() => {\n                addToastFn!({ type: 'success', message });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                const toast = screen.getByTestId('toast-success');\n                expect(toast).toBeInTheDocument();\n              });\n\n              // Verify success styling (jungle green colors)\n              const toast = screen.getByTestId('toast-success');\n              expect(toast).toHaveClass('bg-jungle-50');\n              expect(toast).toHaveClass('border-jungle-500');\n              expect(toast).toHaveClass('text-jungle-900');\n\n              // Verify message is displayed (use flexible text matcher)\n              const messageElement = toast.querySelector('p');\n              expect(messageElement?.textContent).toBe(message);\n\n              // Verify success icon is present (checkmark)\n              const icon = toast.querySelector('svg');\n              expect(icon).toBeInTheDocument();\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 50 }\n      );\n    });\n\n    it('should auto-dismiss success toast after specified duration', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 100 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n            duration: fc.integer({ min: 100, max: 1000 }), // Short durations for testing\n          }),\n          async ({ message, duration }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add success toast with custom duration\n              act(() => {\n                addToastFn!({ type: 'success', message, duration });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                expect(screen.getByTestId('toast-success')).toBeInTheDocument();\n              });\n\n              // Wait for toast to auto-dismiss (duration + buffer)\n              await waitFor(\n                () => {\n                  expect(screen.queryByTestId('toast-success')).not.toBeInTheDocument();\n                },\n                { timeout: duration + 500 }\n              );\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 20 } // Fewer runs due to timing-based test\n      );\n    }, 30000); // Increased timeout for timing-based tests\n  });\n\n  /**\n   * Property 6: Error toast on failed operations\n   * Validates: Requirements 3.11, 12.1\n   * \n   * For any failed CRUD operation, the system should display an error toast\n   * notification with a user-friendly error message.\n   */\n  describe('Feature: admin-ui-modernization, Property 6: Error toast on failed operations', () => {\n    it('should display error toast with correct styling and message', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 200 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n            errorType: fc.constantFrom('VALIDATION_ERROR', 'DATABASE_ERROR', 'UNAUTHORIZED', 'NOT_FOUND'),\n          }),\n          async ({ message, errorType }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add error toast\n              act(() => {\n                addToastFn!({ type: 'error', message });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                const toast = screen.getByTestId('toast-error');\n                expect(toast).toBeInTheDocument();\n              });\n\n              // Verify error styling (volcano red colors)\n              const toast = screen.getByTestId('toast-error');\n              expect(toast).toHaveClass('bg-volcano-50');\n              expect(toast).toHaveClass('border-volcano-500');\n              expect(toast).toHaveClass('text-volcano-900');\n\n              // Verify message is displayed (use flexible text matcher)\n              const messageElement = toast.querySelector('p');\n              expect(messageElement?.textContent).toBe(message);\n\n              // Verify error icon is present (X mark)\n              const icon = toast.querySelector('svg');\n              expect(icon).toBeInTheDocument();\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 50 }\n      );\n    });\n\n    it('should display warning toast with correct styling', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 200 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n          }),\n          async ({ message }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add warning toast\n              act(() => {\n                addToastFn!({ type: 'warning', message });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                const toast = screen.getByTestId('toast-warning');\n                expect(toast).toBeInTheDocument();\n              });\n\n              // Verify warning styling (sunset orange colors)\n              const toast = screen.getByTestId('toast-warning');\n              expect(toast).toHaveClass('bg-sunset-50');\n              expect(toast).toHaveClass('border-sunset-500');\n              expect(toast).toHaveClass('text-sunset-900');\n\n              // Verify message is displayed (use flexible text matcher)\n              const messageElement = toast.querySelector('p');\n              expect(messageElement?.textContent).toBe(message);\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 50 }\n      );\n    });\n\n    it('should display info toast with correct styling', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 200 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n          }),\n          async ({ message }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add info toast\n              act(() => {\n                addToastFn!({ type: 'info', message });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                const toast = screen.getByTestId('toast-info');\n                expect(toast).toBeInTheDocument();\n              });\n\n              // Verify info styling (ocean blue colors)\n              const toast = screen.getByTestId('toast-info');\n              expect(toast).toHaveClass('bg-ocean-50');\n              expect(toast).toHaveClass('border-ocean-500');\n              expect(toast).toHaveClass('text-ocean-900');\n\n              // Verify message is displayed (use flexible text matcher)\n              const messageElement = toast.querySelector('p');\n              expect(messageElement?.textContent).toBe(message);\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 50 }\n      );\n    });\n  });\n\n  /**\n   * Additional property: Multiple toasts stack vertically\n   * \n   * For any number of toasts displayed simultaneously, they should stack\n   * vertically without overlapping.\n   */\n  describe('Feature: admin-ui-modernization, Multiple toasts stack vertically', () => {\n    it('should stack multiple toasts vertically', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.array(\n            fc.record({\n              message: fc.string({ minLength: 5, maxLength: 50 }).filter(s => {\n                const trimmed = s.trim();\n                return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n              }),\n              type: fc.constantFrom('success', 'error', 'warning', 'info'),\n            }),\n            { minLength: 2, maxLength: 3 } // Reduced to 3 for faster tests\n          ),\n          async (toasts) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add all toasts\n              act(() => {\n                toasts.forEach(toast => {\n                  addToastFn!({ type: toast.type as any, message: toast.message, duration: 10000 });\n                });\n              });\n\n              // Wait for all toasts to appear\n              await waitFor(() => {\n                const displayedToasts = screen.getAllByRole('alert');\n                expect(displayedToasts.length).toBe(toasts.length);\n              }, { timeout: 2000 });\n\n              // Verify each toast message is displayed by checking all alerts\n              const displayedToasts = screen.getAllByRole('alert');\n              toasts.forEach((toast, index) => {\n                const toastElement = displayedToasts[index];\n                const messageElement = toastElement.querySelector('p');\n                expect(messageElement?.textContent).toBe(toast.message);\n              });\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 20 } // Reduced runs for performance\n      );\n    }, 15000); // Increased timeout\n  });\n\n  /**\n   * Additional property: Toast close button functionality\n   * \n   * For any toast, clicking the close button should immediately remove the toast.\n   */\n  describe('Feature: admin-ui-modernization, Toast close button functionality', () => {\n    it('should remove toast when close button is clicked', async () => {\n      await fc.assert(\n        fc.asyncProperty(\n          fc.record({\n            message: fc.string({ minLength: 5, maxLength: 100 }).filter(s => {\n              const trimmed = s.trim();\n              return trimmed.length >= 5 && /[a-zA-Z0-9]/.test(trimmed);\n            }),\n            type: fc.constantFrom('success', 'error', 'warning', 'info'),\n          }),\n          async ({ message, type }) => {\n            let addToastFn: ReturnType<typeof useToast>['addToast'] | null = null;\n\n            const { unmount } = render(\n              <ToastProvider>\n                <ToastTestComponent \n                  onMount={(addToast) => {\n                    addToastFn = addToast;\n                  }}\n                />\n              </ToastProvider>\n            );\n\n            try {\n              // Add toast with long duration so it doesn't auto-dismiss\n              act(() => {\n                addToastFn!({ type: type as any, message, duration: 10000 });\n              });\n\n              // Wait for toast to appear\n              await waitFor(() => {\n                expect(screen.getByTestId(`toast-${type}`)).toBeInTheDocument();\n              });\n\n              // Get the toast element and find its close button\n              const toast = screen.getByTestId(`toast-${type}`);\n              const closeButton = toast.querySelector('button[aria-label=\"Close notification\"]');\n              expect(closeButton).toBeInTheDocument();\n\n              // Click close button\n              act(() => {\n                (closeButton as HTMLButtonElement).click();\n              });\n\n              // Verify toast is removed\n              await waitFor(() => {\n                expect(screen.queryByTestId(`toast-${type}`)).not.toBeInTheDocument();\n              });\n            } finally {\n              unmount();\n            }\n          }\n        ),\n        { numRuns: 50 }\n      );\n    });\n  });\n});\n"],"names":["ToastTestComponent","onMount","addToast","useToast","div","data-testid","describe","afterEach","cleanup","it","fc","assert","asyncProperty","record","message","string","minLength","maxLength","filter","s","trimmed","trim","length","test","operation","constantFrom","addToastFn","unmount","render","ToastProvider","act","type","waitFor","toast","screen","getByTestId","expect","toBeInTheDocument","toHaveClass","messageElement","querySelector","textContent","toBe","icon","numRuns","duration","integer","min","max","queryByTestId","not","timeout","errorType","array","toasts","forEach","displayedToasts","getAllByRole","index","toastElement","closeButton","click"],"mappings":"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"}