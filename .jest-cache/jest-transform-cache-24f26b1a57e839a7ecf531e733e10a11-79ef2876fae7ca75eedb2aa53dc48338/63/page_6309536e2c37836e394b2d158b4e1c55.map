{"version":3,"names":["EventSectionsPage","params","cov_29obet6f6a","f","router","s","_navigation","useRouter","addToast","_ToastContext","useToast","eventId","setEventId","_react","useState","eventName","setEventName","loading","setLoading","useEffect","then","id","fetchEventDetails","response","fetch","result","json","b","success","data","name","type","message","error","handleSave","handleClose","push","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","onClick","_SectionEditor","SectionEditor","pageType","pageId","onSave","onClose"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/events/[id]/sections/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { SectionEditor } from '@/components/admin/SectionEditor';\nimport { Button } from '@/components/ui/Button';\nimport { useToast } from '@/components/ui/ToastContext';\n\ninterface PageProps {\n  params: Promise<{ id: string }>;\n}\n\n/**\n * Event Sections Management Page\n * \n * Provides section editing interface for event pages.\n * Uses SectionEditor component for managing rich content sections.\n */\nexport default function EventSectionsPage({ params }: PageProps) {\n  const router = useRouter();\n  const { addToast } = useToast();\n  const [eventId, setEventId] = useState<string>('');\n  const [eventName, setEventName] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  // Unwrap params Promise\n  useEffect(() => {\n    params.then(({ id }) => {\n      setEventId(id);\n      fetchEventDetails(id);\n    });\n  }, [params]);\n\n  const fetchEventDetails = async (id: string) => {\n    try {\n      const response = await fetch(`/api/admin/events/${id}`);\n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        setEventName(result.data.name);\n      } else {\n        addToast({\n          type: 'error',\n          message: 'Failed to load event details',\n        });\n      }\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: 'Failed to load event details',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = () => {\n    addToast({\n      type: 'success',\n      message: 'Sections saved successfully',\n    });\n  };\n\n  const handleClose = () => {\n    router.push('/admin/events');\n  };\n\n  if (loading || !eventId) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between border-b border-gray-200 pb-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-sage-900\">Manage Sections</h1>\n          <p className=\"text-sage-600 mt-1\">\n            {eventName ? `Event: ${eventName}` : 'Event Sections'}\n          </p>\n        </div>\n        <Button\n          variant=\"secondary\"\n          onClick={handleClose}\n          aria-label=\"Back to events\"\n        >\n          ‚Üê Back to Events\n        </Button>\n      </div>\n\n      {/* Section Editor */}\n      <SectionEditor\n        pageType=\"event\"\n        pageId={eventId}\n        onSave={handleSave}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}