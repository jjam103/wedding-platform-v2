{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/hooks/useKeyboardShortcuts.ts"],"sourcesContent":["import { useEffect, useCallback } from 'react';\n\n/**\n * Keyboard shortcut configuration\n */\nexport interface KeyboardShortcut {\n  key: string;\n  description: string;\n  category: 'navigation' | 'actions' | 'general';\n  handler: () => void;\n  ctrlKey?: boolean;\n  shiftKey?: boolean;\n  altKey?: boolean;\n}\n\n/**\n * Hook for managing global keyboard shortcuts\n * \n * @param shortcuts - Array of keyboard shortcut configurations\n * @param enabled - Whether shortcuts are enabled (default: true)\n * \n * @example\n * useKeyboardShortcuts([\n *   { key: '/', description: 'Focus search', category: 'navigation', handler: focusSearch },\n *   { key: 'n', description: 'New item', category: 'actions', handler: openNewForm },\n * ]);\n */\nexport function useKeyboardShortcuts(\n  shortcuts: KeyboardShortcut[],\n  enabled: boolean = true\n): void {\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      if (!enabled) return;\n\n      // Don't trigger shortcuts when typing in input fields\n      const target = event.target as HTMLElement;\n      const isInputField =\n        target.tagName === 'INPUT' ||\n        target.tagName === 'TEXTAREA' ||\n        target.isContentEditable;\n\n      // Allow \"/\" to work even in input fields (to focus search)\n      if (event.key !== '/' && isInputField) {\n        return;\n      }\n\n      // Find matching shortcut\n      const shortcut = shortcuts.find(\n        (s) =>\n          s.key === event.key &&\n          (s.ctrlKey === undefined || s.ctrlKey === event.ctrlKey) &&\n          (s.shiftKey === undefined || s.shiftKey === event.shiftKey) &&\n          (s.altKey === undefined || s.altKey === event.altKey)\n      );\n\n      if (shortcut) {\n        event.preventDefault();\n        shortcut.handler();\n      }\n    },\n    [shortcuts, enabled]\n  );\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handleKeyDown, enabled]);\n}\n\n/**\n * Get all registered keyboard shortcuts\n * Useful for displaying help dialog\n */\nexport function getShortcutsByCategory(shortcuts: KeyboardShortcut[]): Record<string, KeyboardShortcut[]> {\n  return shortcuts.reduce((acc, shortcut) => {\n    if (!acc[shortcut.category]) {\n      acc[shortcut.category] = [];\n    }\n    acc[shortcut.category].push(shortcut);\n    return acc;\n  }, {} as Record<string, KeyboardShortcut[]>);\n}\n\n/**\n * Format keyboard shortcut for display\n */\nexport function formatShortcut(shortcut: KeyboardShortcut): string {\n  const parts: string[] = [];\n  \n  if (shortcut.ctrlKey) parts.push('Ctrl');\n  if (shortcut.shiftKey) parts.push('Shift');\n  if (shortcut.altKey) parts.push('Alt');\n  parts.push(shortcut.key.toUpperCase());\n  \n  return parts.join(' + ');\n}\n"],"names":["formatShortcut","getShortcutsByCategory","useKeyboardShortcuts","shortcuts","enabled","handleKeyDown","useCallback","event","target","isInputField","tagName","isContentEditable","key","shortcut","find","s","ctrlKey","undefined","shiftKey","altKey","preventDefault","handler","useEffect","window","addEventListener","removeEventListener","reduce","acc","category","push","parts","toUpperCase","join"],"mappings":";;;;;;;;;;;QAyFgBA;eAAAA;;QAbAC;eAAAA;;QAjDAC;eAAAA;;;uBA3BuB;AA2BhC,SAASA,qBACdC,SAA6B,EAC7BC,UAAmB,IAAI;IAEvB,MAAMC,gBAAgBC,IAAAA,kBAAW,EAC/B,CAACC;QACC,IAAI,CAACH,SAAS;QAEd,sDAAsD;QACtD,MAAMI,SAASD,MAAMC,MAAM;QAC3B,MAAMC,eACJD,OAAOE,OAAO,KAAK,WACnBF,OAAOE,OAAO,KAAK,cACnBF,OAAOG,iBAAiB;QAE1B,2DAA2D;QAC3D,IAAIJ,MAAMK,GAAG,KAAK,OAAOH,cAAc;YACrC;QACF;QAEA,yBAAyB;QACzB,MAAMI,WAAWV,UAAUW,IAAI,CAC7B,CAACC,IACCA,EAAEH,GAAG,KAAKL,MAAMK,GAAG,IAClBG,CAAAA,EAAEC,OAAO,KAAKC,aAAaF,EAAEC,OAAO,KAAKT,MAAMS,OAAO,AAAD,KACrDD,CAAAA,EAAEG,QAAQ,KAAKD,aAAaF,EAAEG,QAAQ,KAAKX,MAAMW,QAAQ,AAAD,KACxDH,CAAAA,EAAEI,MAAM,KAAKF,aAAaF,EAAEI,MAAM,KAAKZ,MAAMY,MAAM,AAAD;QAGvD,IAAIN,UAAU;YACZN,MAAMa,cAAc;YACpBP,SAASQ,OAAO;QAClB;IACF,GACA;QAAClB;QAAWC;KAAQ;IAGtBkB,IAAAA,gBAAS,EAAC;QACR,IAAI,CAAClB,SAAS;QAEdmB,OAAOC,gBAAgB,CAAC,WAAWnB;QACnC,OAAO,IAAMkB,OAAOE,mBAAmB,CAAC,WAAWpB;IACrD,GAAG;QAACA;QAAeD;KAAQ;AAC7B;AAMO,SAASH,uBAAuBE,SAA6B;IAClE,OAAOA,UAAUuB,MAAM,CAAC,CAACC,KAAKd;QAC5B,IAAI,CAACc,GAAG,CAACd,SAASe,QAAQ,CAAC,EAAE;YAC3BD,GAAG,CAACd,SAASe,QAAQ,CAAC,GAAG,EAAE;QAC7B;QACAD,GAAG,CAACd,SAASe,QAAQ,CAAC,CAACC,IAAI,CAAChB;QAC5B,OAAOc;IACT,GAAG,CAAC;AACN;AAKO,SAAS3B,eAAea,QAA0B;IACvD,MAAMiB,QAAkB,EAAE;IAE1B,IAAIjB,SAASG,OAAO,EAAEc,MAAMD,IAAI,CAAC;IACjC,IAAIhB,SAASK,QAAQ,EAAEY,MAAMD,IAAI,CAAC;IAClC,IAAIhB,SAASM,MAAM,EAAEW,MAAMD,IAAI,CAAC;IAChCC,MAAMD,IAAI,CAAChB,SAASD,GAAG,CAACmB,WAAW;IAEnC,OAAOD,MAAME,IAAI,CAAC;AACpB"}