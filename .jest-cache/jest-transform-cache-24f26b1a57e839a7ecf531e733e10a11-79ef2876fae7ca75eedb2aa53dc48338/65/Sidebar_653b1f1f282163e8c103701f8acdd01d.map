{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { GroupedNavigation } from './GroupedNavigation';\n\ninterface SidebarProps {\n  currentSection: string;\n  pendingPhotosCount?: number;\n}\n\n/**\n * Sidebar Client Component\n * \n * Persistent navigation menu with:\n * - Grouped navigation with logical sections\n * - Active section highlighting based on current route\n * - Collapse/expand functionality for mobile\n * - Badge support for pending counts (e.g., pending photos)\n * - Real-time updates for pending photo count\n * - Dashboard quick access\n */\nexport function Sidebar({ currentSection, pendingPhotosCount = 0 }: SidebarProps) {\n  const pathname = usePathname();\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Detect mobile viewport\n  useEffect(() => {\n    const checkMobile = () => {\n      const mobile = window.innerWidth < 768; // md breakpoint for mobile\n      setIsMobile(mobile);\n      // On mobile, start collapsed. On tablet/desktop, start expanded\n      if (mobile) {\n        setIsCollapsed(true);\n      }\n    };\n\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  const toggleSidebar = () => {\n    setIsCollapsed(!isCollapsed);\n  };\n\n  const handleNavigate = () => {\n    // Close sidebar on mobile after navigation\n    if (isMobile) {\n      setIsCollapsed(true);\n    }\n  };\n\n  const isDashboardActive = pathname === '/admin';\n\n  return (\n    <>\n      {/* Mobile overlay */}\n      {isMobile && !isCollapsed && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\n          onClick={toggleSidebar}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={`fixed top-0 left-0 h-full bg-white border-r border-sage-200 shadow-lg z-50 transition-all duration-300 ${\n          isCollapsed ? '-translate-x-full md:translate-x-0 md:w-20' : 'translate-x-0 w-64'\n        }`}\n        role=\"navigation\"\n        aria-label=\"Main navigation\"\n      >\n        {/* Header */}\n        <div className=\"h-16 flex items-center justify-between px-4 border-b border-sage-200\">\n          {!isCollapsed && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-2xl\">üå¥</span>\n              <span className=\"font-bold text-lg text-jungle-600\">Admin</span>\n            </div>\n          )}\n          <button\n            onClick={toggleSidebar}\n            className=\"p-2 hover:bg-sage-100 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center\"\n            aria-label={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n          >\n            <span className=\"text-xl\">{isCollapsed ? '‚Üí' : '‚Üê'}</span>\n          </button>\n        </div>\n\n        {/* Dashboard Link */}\n        <div className=\"p-2 border-b border-sage-200\">\n          <Link\n            href=\"/admin\"\n            className={`flex items-center gap-3 px-3 py-3 md:py-2.5 rounded-lg transition-all duration-200 min-h-[44px] ${\n              isDashboardActive\n                ? 'bg-jungle-50 text-jungle-700 font-medium'\n                : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'\n            }`}\n            aria-label=\"Dashboard\"\n            aria-current={isDashboardActive ? 'page' : undefined}\n            onClick={handleNavigate}\n          >\n            <span className=\"text-xl flex-shrink-0\" aria-hidden=\"true\">üè†</span>\n            {!isCollapsed && <span className=\"flex-1\">Dashboard</span>}\n          </Link>\n        </div>\n\n        {/* Grouped Navigation */}\n        <div className=\"overflow-y-auto\" style={{ height: 'calc(100% - 8rem)' }}>\n          <GroupedNavigation\n            pendingPhotosCount={pendingPhotosCount}\n            isCollapsed={isCollapsed}\n            onNavigate={handleNavigate}\n          />\n        </div>\n\n        {/* Footer */}\n        {!isCollapsed && (\n          <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-sage-200 bg-sage-50\">\n            <p className=\"text-xs text-sage-600 text-center\">\n              Pura Vida! ‚òÄÔ∏è\n            </p>\n          </div>\n        )}\n      </aside>\n\n      {/* Mobile toggle button (when sidebar is collapsed) */}\n      {isMobile && isCollapsed && (\n        <button\n          onClick={toggleSidebar}\n          className=\"fixed top-4 left-4 z-40 p-3 bg-white border border-sage-200 rounded-lg shadow-md md:hidden min-h-[44px] min-w-[44px] flex items-center justify-center\"\n          aria-label=\"Open sidebar\"\n        >\n          <span className=\"text-xl\">‚ò∞</span>\n        </button>\n      )}\n    </>\n  );\n}\n"],"names":["Sidebar","currentSection","pendingPhotosCount","pathname","usePathname","isCollapsed","setIsCollapsed","useState","isMobile","setIsMobile","useEffect","checkMobile","mobile","window","innerWidth","addEventListener","removeEventListener","toggleSidebar","handleNavigate","isDashboardActive","div","className","onClick","aria-hidden","aside","role","aria-label","span","button","Link","href","aria-current","undefined","style","height","GroupedNavigation","onNavigate","p"],"mappings":"AAAA;;;;;+BAuBgBA;;;eAAAA;;;;uBArBoB;6DACnB;4BACW;mCACM;;;;;;AAkB3B,SAASA,QAAQ,EAAEC,cAAc,EAAEC,qBAAqB,CAAC,EAAgB;IAC9E,MAAMC,WAAWC,IAAAA,uBAAW;IAC5B,MAAM,CAACC,aAAaC,eAAe,GAAGC,IAAAA,eAAQ,EAAC;IAC/C,MAAM,CAACC,UAAUC,YAAY,GAAGF,IAAAA,eAAQ,EAAC;IAEzC,yBAAyB;IACzBG,IAAAA,gBAAS,EAAC;QACR,MAAMC,cAAc;YAClB,MAAMC,SAASC,OAAOC,UAAU,GAAG,KAAK,2BAA2B;YACnEL,YAAYG;YACZ,gEAAgE;YAChE,IAAIA,QAAQ;gBACVN,eAAe;YACjB;QACF;QAEAK;QACAE,OAAOE,gBAAgB,CAAC,UAAUJ;QAClC,OAAO,IAAME,OAAOG,mBAAmB,CAAC,UAAUL;IACpD,GAAG,EAAE;IAEL,MAAMM,gBAAgB;QACpBX,eAAe,CAACD;IAClB;IAEA,MAAMa,iBAAiB;QACrB,2CAA2C;QAC3C,IAAIV,UAAU;YACZF,eAAe;QACjB;IACF;IAEA,MAAMa,oBAAoBhB,aAAa;IAEvC,qBACE;;YAEGK,YAAY,CAACH,6BACZ,qBAACe;gBACCC,WAAU;gBACVC,SAASL;gBACTM,eAAY;;0BAKhB,sBAACC;gBACCH,WAAW,CAAC,uGAAuG,EACjHhB,cAAc,+CAA+C,sBAC7D;gBACFoB,MAAK;gBACLC,cAAW;;kCAGX,sBAACN;wBAAIC,WAAU;;4BACZ,CAAChB,6BACA,sBAACe;gCAAIC,WAAU;;kDACb,qBAACM;wCAAKN,WAAU;kDAAW;;kDAC3B,qBAACM;wCAAKN,WAAU;kDAAoC;;;;0CAGxD,qBAACO;gCACCN,SAASL;gCACTI,WAAU;gCACVK,cAAYrB,cAAc,mBAAmB;0CAE7C,cAAA,qBAACsB;oCAAKN,WAAU;8CAAWhB,cAAc,MAAM;;;;;kCAKnD,qBAACe;wBAAIC,WAAU;kCACb,cAAA,sBAACQ,aAAI;4BACHC,MAAK;4BACLT,WAAW,CAAC,gGAAgG,EAC1GF,oBACI,6CACA,sDACJ;4BACFO,cAAW;4BACXK,gBAAcZ,oBAAoB,SAASa;4BAC3CV,SAASJ;;8CAET,qBAACS;oCAAKN,WAAU;oCAAwBE,eAAY;8CAAO;;gCAC1D,CAAClB,6BAAe,qBAACsB;oCAAKN,WAAU;8CAAS;;;;;kCAK9C,qBAACD;wBAAIC,WAAU;wBAAkBY,OAAO;4BAAEC,QAAQ;wBAAoB;kCACpE,cAAA,qBAACC,oCAAiB;4BAChBjC,oBAAoBA;4BACpBG,aAAaA;4BACb+B,YAAYlB;;;oBAKf,CAACb,6BACA,qBAACe;wBAAIC,WAAU;kCACb,cAAA,qBAACgB;4BAAEhB,WAAU;sCAAoC;;;;;YAQtDb,YAAYH,6BACX,qBAACuB;gBACCN,SAASL;gBACTI,WAAU;gBACVK,cAAW;0BAEX,cAAA,qBAACC;oBAAKN,WAAU;8BAAU;;;;;AAKpC"}