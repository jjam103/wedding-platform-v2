1e9a8a9726325418fffd0076010e3233
"use strict";

/* istanbul ignore next */
function cov_ue5ygvtdn() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/references/[type]/[id]/route.ts";
  var hash = "c1340cdde1a0ecaa89e6b5c766b4b93b00b5bf28";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/references/[type]/[id]/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 19
        }
      },
      "3": {
        start: {
          line: 11,
          column: 13
        },
        end: {
          line: 11,
          column: 37
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 40
        }
      },
      "5": {
        start: {
          line: 13,
          column: 16
        },
        end: {
          line: 13,
          column: 38
        }
      },
      "6": {
        start: {
          line: 15,
          column: 4
        },
        end: {
          line: 253,
          column: 5
        }
      },
      "7": {
        start: {
          line: 17,
          column: 28
        },
        end: {
          line: 17,
          column: 57
        }
      },
      "8": {
        start: {
          line: 18,
          column: 25
        },
        end: {
          line: 29,
          column: 10
        }
      },
      "9": {
        start: {
          line: 21,
          column: 20
        },
        end: {
          line: 21,
          column: 48
        }
      },
      "10": {
        start: {
          line: 24,
          column: 20
        },
        end: {
          line: 26,
          column: 23
        }
      },
      "11": {
        start: {
          line: 25,
          column: 24
        },
        end: {
          line: 25,
          column: 53
        }
      },
      "12": {
        start: {
          line: 30,
          column: 56
        },
        end: {
          line: 30,
          column: 88
        }
      },
      "13": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 41,
          column: 9
        }
      },
      "14": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 40,
          column: 15
        }
      },
      "15": {
        start: {
          line: 43,
          column: 31
        },
        end: {
          line: 43,
          column: 43
        }
      },
      "16": {
        start: {
          line: 44,
          column: 29
        },
        end: {
          line: 44,
          column: 43
        }
      },
      "17": {
        start: {
          line: 45,
          column: 27
        },
        end: {
          line: 51,
          column: 9
        }
      },
      "18": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 62,
          column: 9
        }
      },
      "19": {
        start: {
          line: 53,
          column: 12
        },
        end: {
          line: 61,
          column: 15
        }
      },
      "20": {
        start: {
          line: 64,
          column: 22
        },
        end: {
          line: 64,
          column: 26
        }
      },
      "21": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 236,
          column: 9
        }
      },
      "22": {
        start: {
          line: 68,
          column: 51
        },
        end: {
          line: 68,
          column: 202
        }
      },
      "23": {
        start: {
          line: 69,
          column: 20
        },
        end: {
          line: 79,
          column: 21
        }
      },
      "24": {
        start: {
          line: 70,
          column: 24
        },
        end: {
          line: 78,
          column: 27
        }
      },
      "25": {
        start: {
          line: 80,
          column: 20
        },
        end: {
          line: 93,
          column: 22
        }
      },
      "26": {
        start: {
          line: 94,
          column: 20
        },
        end: {
          line: 94,
          column: 26
        }
      },
      "27": {
        start: {
          line: 98,
          column: 54
        },
        end: {
          line: 98,
          column: 228
        }
      },
      "28": {
        start: {
          line: 99,
          column: 20
        },
        end: {
          line: 109,
          column: 21
        }
      },
      "29": {
        start: {
          line: 100,
          column: 24
        },
        end: {
          line: 108,
          column: 27
        }
      },
      "30": {
        start: {
          line: 111,
          column: 49
        },
        end: {
          line: 114,
          column: 70
        }
      },
      "31": {
        start: {
          line: 115,
          column: 20
        },
        end: {
          line: 130,
          column: 22
        }
      },
      "32": {
        start: {
          line: 131,
          column: 20
        },
        end: {
          line: 131,
          column: 26
        }
      },
      "33": {
        start: {
          line: 135,
          column: 59
        },
        end: {
          line: 135,
          column: 213
        }
      },
      "34": {
        start: {
          line: 136,
          column: 20
        },
        end: {
          line: 146,
          column: 21
        }
      },
      "35": {
        start: {
          line: 137,
          column: 24
        },
        end: {
          line: 145,
          column: 27
        }
      },
      "36": {
        start: {
          line: 148,
          column: 53
        },
        end: {
          line: 151,
          column: 49
        }
      },
      "37": {
        start: {
          line: 152,
          column: 20
        },
        end: {
          line: 165,
          column: 22
        }
      },
      "38": {
        start: {
          line: 166,
          column: 20
        },
        end: {
          line: 166,
          column: 26
        }
      },
      "39": {
        start: {
          line: 170,
          column: 54
        },
        end: {
          line: 170,
          column: 221
        }
      },
      "40": {
        start: {
          line: 171,
          column: 20
        },
        end: {
          line: 181,
          column: 21
        }
      },
      "41": {
        start: {
          line: 172,
          column: 24
        },
        end: {
          line: 180,
          column: 27
        }
      },
      "42": {
        start: {
          line: 183,
          column: 50
        },
        end: {
          line: 186,
          column: 45
        }
      },
      "43": {
        start: {
          line: 187,
          column: 20
        },
        end: {
          line: 200,
          column: 22
        }
      },
      "44": {
        start: {
          line: 201,
          column: 20
        },
        end: {
          line: 201,
          column: 26
        }
      },
      "45": {
        start: {
          line: 205,
          column: 50
        },
        end: {
          line: 205,
          column: 166
        }
      },
      "46": {
        start: {
          line: 206,
          column: 20
        },
        end: {
          line: 216,
          column: 21
        }
      },
      "47": {
        start: {
          line: 207,
          column: 24
        },
        end: {
          line: 215,
          column: 27
        }
      },
      "48": {
        start: {
          line: 218,
          column: 52
        },
        end: {
          line: 221,
          column: 66
        }
      },
      "49": {
        start: {
          line: 222,
          column: 20
        },
        end: {
          line: 233,
          column: 22
        }
      },
      "50": {
        start: {
          line: 234,
          column: 20
        },
        end: {
          line: 234,
          column: 26
        }
      },
      "51": {
        start: {
          line: 238,
          column: 8
        },
        end: {
          line: 241,
          column: 11
        }
      },
      "52": {
        start: {
          line: 243,
          column: 8
        },
        end: {
          line: 243,
          column: 54
        }
      },
      "53": {
        start: {
          line: 244,
          column: 8
        },
        end: {
          line: 252,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "GET",
        decl: {
          start: {
            line: 14,
            column: 15
          },
          end: {
            line: 14,
            column: 18
          }
        },
        loc: {
          start: {
            line: 14,
            column: 40
          },
          end: {
            line: 254,
            column: 1
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 16
          },
          end: {
            line: 20,
            column: 17
          }
        },
        loc: {
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 22,
            column: 17
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 23,
            column: 16
          },
          end: {
            line: 23,
            column: 17
          }
        },
        loc: {
          start: {
            line: 23,
            column: 38
          },
          end: {
            line: 27,
            column: 17
          }
        },
        line: 23
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 24,
            column: 41
          },
          end: {
            line: 24,
            column: 42
          }
        },
        loc: {
          start: {
            line: 24,
            column: 60
          },
          end: {
            line: 26,
            column: 21
          }
        },
        line: 24
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 41,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 41,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "1": {
        loc: {
          start: {
            line: 31,
            column: 12
          },
          end: {
            line: 31,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 12
          },
          end: {
            line: 31,
            column: 21
          }
        }, {
          start: {
            line: 31,
            column: 25
          },
          end: {
            line: 31,
            column: 33
          }
        }],
        line: 31
      },
      "2": {
        loc: {
          start: {
            line: 52,
            column: 8
          },
          end: {
            line: 62,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 8
          },
          end: {
            line: 62,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "3": {
        loc: {
          start: {
            line: 65,
            column: 8
          },
          end: {
            line: 236,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 95,
            column: 17
          }
        }, {
          start: {
            line: 96,
            column: 12
          },
          end: {
            line: 132,
            column: 17
          }
        }, {
          start: {
            line: 133,
            column: 12
          },
          end: {
            line: 167,
            column: 17
          }
        }, {
          start: {
            line: 168,
            column: 12
          },
          end: {
            line: 202,
            column: 17
          }
        }, {
          start: {
            line: 203,
            column: 12
          },
          end: {
            line: 235,
            column: 17
          }
        }],
        line: 65
      },
      "4": {
        loc: {
          start: {
            line: 69,
            column: 20
          },
          end: {
            line: 79,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 69,
            column: 20
          },
          end: {
            line: 79,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 69
      },
      "5": {
        loc: {
          start: {
            line: 69,
            column: 24
          },
          end: {
            line: 69,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 69,
            column: 24
          },
          end: {
            line: 69,
            column: 29
          }
        }, {
          start: {
            line: 69,
            column: 33
          },
          end: {
            line: 69,
            column: 39
          }
        }],
        line: 69
      },
      "6": {
        loc: {
          start: {
            line: 85,
            column: 32
          },
          end: {
            line: 85,
            column: 71
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 85,
            column: 50
          },
          end: {
            line: 85,
            column: 58
          }
        }, {
          start: {
            line: 85,
            column: 61
          },
          end: {
            line: 85,
            column: 71
          }
        }],
        line: 85
      },
      "7": {
        loc: {
          start: {
            line: 99,
            column: 20
          },
          end: {
            line: 109,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 20
          },
          end: {
            line: 109,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "8": {
        loc: {
          start: {
            line: 99,
            column: 24
          },
          end: {
            line: 99,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 24
          },
          end: {
            line: 99,
            column: 29
          }
        }, {
          start: {
            line: 99,
            column: 33
          },
          end: {
            line: 99,
            column: 42
          }
        }],
        line: 99
      },
      "9": {
        loc: {
          start: {
            line: 126,
            column: 39
          },
          end: {
            line: 126,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 126,
            column: 39
          },
          end: {
            line: 126,
            column: 48
          }
        }, {
          start: {
            line: 126,
            column: 52
          },
          end: {
            line: 126,
            column: 53
          }
        }],
        line: 126
      },
      "10": {
        loc: {
          start: {
            line: 136,
            column: 20
          },
          end: {
            line: 146,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 20
          },
          end: {
            line: 146,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "11": {
        loc: {
          start: {
            line: 136,
            column: 24
          },
          end: {
            line: 136,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 136,
            column: 24
          },
          end: {
            line: 136,
            column: 29
          }
        }, {
          start: {
            line: 136,
            column: 33
          },
          end: {
            line: 136,
            column: 47
          }
        }],
        line: 136
      },
      "12": {
        loc: {
          start: {
            line: 163,
            column: 43
          },
          end: {
            line: 163,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 163,
            column: 43
          },
          end: {
            line: 163,
            column: 56
          }
        }, {
          start: {
            line: 163,
            column: 60
          },
          end: {
            line: 163,
            column: 61
          }
        }],
        line: 163
      },
      "13": {
        loc: {
          start: {
            line: 171,
            column: 20
          },
          end: {
            line: 181,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 20
          },
          end: {
            line: 181,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 171
      },
      "14": {
        loc: {
          start: {
            line: 171,
            column: 24
          },
          end: {
            line: 171,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 171,
            column: 24
          },
          end: {
            line: 171,
            column: 29
          }
        }, {
          start: {
            line: 171,
            column: 33
          },
          end: {
            line: 171,
            column: 42
          }
        }],
        line: 171
      },
      "15": {
        loc: {
          start: {
            line: 198,
            column: 40
          },
          end: {
            line: 198,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 198,
            column: 40
          },
          end: {
            line: 198,
            column: 50
          }
        }, {
          start: {
            line: 198,
            column: 54
          },
          end: {
            line: 198,
            column: 55
          }
        }],
        line: 198
      },
      "16": {
        loc: {
          start: {
            line: 206,
            column: 20
          },
          end: {
            line: 216,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 206,
            column: 20
          },
          end: {
            line: 216,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 206
      },
      "17": {
        loc: {
          start: {
            line: 206,
            column: 24
          },
          end: {
            line: 206,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 206,
            column: 24
          },
          end: {
            line: 206,
            column: 29
          }
        }, {
          start: {
            line: 206,
            column: 33
          },
          end: {
            line: 206,
            column: 38
          }
        }],
        line: 206
      },
      "18": {
        loc: {
          start: {
            line: 231,
            column: 42
          },
          end: {
            line: 231,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 231,
            column: 42
          },
          end: {
            line: 231,
            column: 54
          }
        }, {
          start: {
            line: 231,
            column: 58
          },
          end: {
            line: 231,
            column: 59
          }
        }],
        line: 231
      },
      "19": {
        loc: {
          start: {
            line: 248,
            column: 25
          },
          end: {
            line: 248,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 248,
            column: 50
          },
          end: {
            line: 248,
            column: 63
          }
        }, {
          start: {
            line: 248,
            column: 66
          },
          end: {
            line: 248,
            column: 81
          }
        }],
        line: 248
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/references/[type]/[id]/route.ts"],
      sourcesContent: ["import { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\nimport { NextResponse } from 'next/server';\n\ninterface EntityPreview {\n  id: string;\n  name: string;\n  type: string;\n  slug?: string;\n  status?: string;\n  details: Record<string, any>;\n}\n\n/**\n * Get entity preview details for reference cards\n * \n * @param request - Request object\n * @param params - Route params with type and id\n * @returns Entity preview details\n */\nexport async function GET(\n  request: Request,\n  { params }: { params: Promise<{ type: string; id: string }> }\n): Promise<NextResponse> {\n  try {\n    // 1. Authenticate\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n      {\n        cookies: {\n          getAll() {\n            return cookieStore.getAll();\n          },\n          setAll(cookiesToSet) {\n            cookiesToSet.forEach(({ name, value }) => {\n              cookieStore.set(name, value);\n            });\n          },\n        },\n      }\n    );\n    const {\n      data: { session },\n      error: authError,\n    } = await supabase.auth.getSession();\n\n    if (authError || !session) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: { code: 'UNAUTHORIZED', message: 'Authentication required' },\n        },\n        { status: 401 }\n      );\n    }\n\n    // 2. Validate parameters\n    const resolvedParams = await params;\n    const { type, id } = resolvedParams;\n    const validTypes = ['event', 'activity', 'accommodation', 'room_type', 'content_page'];\n\n    if (!validTypes.includes(type)) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: 'VALIDATION_ERROR',\n            message: `Invalid entity type. Must be one of: ${validTypes.join(', ')}`,\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    // 3. Fetch entity based on type\n    let preview: EntityPreview | null = null;\n\n    switch (type) {\n      case 'event': {\n        const { data: event, error } = await supabase\n          .from('events')\n          .select('id, name, slug, is_active, start_time, end_time, description, event_type, locations(name)')\n          .eq('id', id)\n          .single();\n\n        if (error || !event) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: { code: 'NOT_FOUND', message: 'Event not found' },\n            },\n            { status: 404 }\n          );\n        }\n\n        preview = {\n          id: event.id,\n          name: event.name,\n          type: 'event',\n          slug: event.slug,\n          status: event.is_active ? 'active' : 'inactive',\n          details: {\n            eventType: event.event_type,\n            startTime: event.start_time,\n            endTime: event.end_time,\n            description: event.description,\n            location: (event.locations as any)?.name,\n          },\n        };\n        break;\n      }\n\n      case 'activity': {\n        const { data: activity, error } = await supabase\n          .from('activities')\n          .select('id, name, slug, capacity, start_time, end_time, description, activity_type, cost_per_person, locations(name)')\n          .eq('id', id)\n          .single();\n\n        if (error || !activity) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: { code: 'NOT_FOUND', message: 'Activity not found' },\n            },\n            { status: 404 }\n          );\n        }\n\n        // Get RSVP count\n        const { count: rsvpCount } = await supabase\n          .from('rsvps')\n          .select('*', { count: 'exact', head: true })\n          .eq('activity_id', id)\n          .eq('status', 'attending');\n\n        preview = {\n          id: activity.id,\n          name: activity.name,\n          type: 'activity',\n          slug: activity.slug,\n          details: {\n            activityType: activity.activity_type,\n            startTime: activity.start_time,\n            endTime: activity.end_time,\n            description: activity.description,\n            capacity: activity.capacity,\n            attendees: rsvpCount || 0,\n            costPerPerson: activity.cost_per_person,\n            location: (activity.locations as any)?.name,\n          },\n        };\n        break;\n      }\n\n      case 'accommodation': {\n        const { data: accommodation, error } = await supabase\n          .from('accommodations')\n          .select('id, name, slug, check_in_date, check_out_date, description, address, locations(name)')\n          .eq('id', id)\n          .single();\n\n        if (error || !accommodation) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: { code: 'NOT_FOUND', message: 'Accommodation not found' },\n            },\n            { status: 404 }\n          );\n        }\n\n        // Get room type count\n        const { count: roomTypeCount } = await supabase\n          .from('room_types')\n          .select('*', { count: 'exact', head: true })\n          .eq('accommodation_id', id);\n\n        preview = {\n          id: accommodation.id,\n          name: accommodation.name,\n          type: 'accommodation',\n          slug: accommodation.slug,\n          details: {\n            checkInDate: accommodation.check_in_date,\n            checkOutDate: accommodation.check_out_date,\n            description: accommodation.description,\n            address: accommodation.address,\n            location: (accommodation.locations as any)?.name,\n            roomTypeCount: roomTypeCount || 0,\n          },\n        };\n        break;\n      }\n\n      case 'room_type': {\n        const { data: roomType, error } = await supabase\n          .from('room_types')\n          .select('id, name, capacity, price_per_night, description, check_in_date, check_out_date, accommodations(name)')\n          .eq('id', id)\n          .single();\n\n        if (error || !roomType) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: { code: 'NOT_FOUND', message: 'Room type not found' },\n            },\n            { status: 404 }\n          );\n        }\n\n        // Get guest assignment count\n        const { count: guestCount } = await supabase\n          .from('room_assignments')\n          .select('*', { count: 'exact', head: true })\n          .eq('room_type_id', id);\n\n        preview = {\n          id: roomType.id,\n          name: roomType.name,\n          type: 'room_type',\n          details: {\n            accommodationName: (roomType.accommodations as any)?.name,\n            capacity: roomType.capacity,\n            pricePerNight: roomType.price_per_night,\n            description: roomType.description,\n            checkInDate: roomType.check_in_date,\n            checkOutDate: roomType.check_out_date,\n            guestCount: guestCount || 0,\n          },\n        };\n        break;\n      }\n\n      case 'content_page': {\n        const { data: page, error } = await supabase\n          .from('content_pages')\n          .select('id, title, slug, status, created_at, updated_at')\n          .eq('id', id)\n          .single();\n\n        if (error || !page) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: { code: 'NOT_FOUND', message: 'Content page not found' },\n            },\n            { status: 404 }\n          );\n        }\n\n        // Get section count\n        const { count: sectionCount } = await supabase\n          .from('content_sections')\n          .select('*', { count: 'exact', head: true })\n          .eq('page_type', 'custom')\n          .eq('page_id', id);\n\n        preview = {\n          id: page.id,\n          name: page.title,\n          type: 'content_page',\n          slug: page.slug,\n          status: page.status,\n          details: {\n            createdAt: page.created_at,\n            updatedAt: page.updated_at,\n            sectionCount: sectionCount || 0,\n          },\n        };\n        break;\n      }\n    }\n\n    // 4. Return preview\n    return NextResponse.json({\n      success: true,\n      data: preview,\n    });\n  } catch (error) {\n    console.error('Entity preview error:', error);\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: 'INTERNAL_ERROR',\n          message: error instanceof Error ? error.message : 'Unknown error',\n        },\n      },\n      { status: 500 }\n    );\n  }\n}\n"],
      names: ["GET", "request", "params", "cookieStore", "cookies", "supabase", "createServerClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "NEXT_PUBLIC_SUPABASE_ANON_KEY", "getAll", "setAll", "cookiesToSet", "forEach", "name", "value", "set", "data", "session", "error", "authError", "auth", "getSession", "NextResponse", "json", "success", "code", "message", "status", "resolvedParams", "type", "id", "validTypes", "includes", "join", "preview", "event", "from", "select", "eq", "single", "slug", "is_active", "details", "eventType", "event_type", "startTime", "start_time", "endTime", "end_time", "description", "location", "locations", "activity", "count", "rsvpCount", "head", "activityType", "activity_type", "capacity", "attendees", "costPerPerson", "cost_per_person", "accommodation", "roomTypeCount", "checkInDate", "check_in_date", "checkOutDate", "check_out_date", "address", "roomType", "guestCount", "accommodationName", "accommodations", "pricePerNight", "price_per_night", "page", "sectionCount", "title", "createdAt", "created_at", "updatedAt", "updated_at", "console", "Error"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c1340cdde1a0ecaa89e6b5c766b4b93b00b5bf28"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_ue5ygvtdn = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_ue5ygvtdn();
cov_ue5ygvtdn().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_ue5ygvtdn().s[1]++;
Object.defineProperty(exports, "GET", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_ue5ygvtdn().f[0]++;
    cov_ue5ygvtdn().s[2]++;
    return GET;
  }
});
const _ssr =
/* istanbul ignore next */
(cov_ue5ygvtdn().s[3]++, require("@supabase/ssr"));
const _headers =
/* istanbul ignore next */
(cov_ue5ygvtdn().s[4]++, require("next/headers"));
const _server =
/* istanbul ignore next */
(cov_ue5ygvtdn().s[5]++, require("next/server"));
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_ue5ygvtdn().f[1]++;
  cov_ue5ygvtdn().s[6]++;
  try {
    // 1. Authenticate
    const cookieStore =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[7]++, await (0, _headers.cookies)());
    const supabase =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[8]++, (0, _ssr.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {
      cookies: {
        getAll() {
          /* istanbul ignore next */
          cov_ue5ygvtdn().f[2]++;
          cov_ue5ygvtdn().s[9]++;
          return cookieStore.getAll();
        },
        setAll(cookiesToSet) {
          /* istanbul ignore next */
          cov_ue5ygvtdn().f[3]++;
          cov_ue5ygvtdn().s[10]++;
          cookiesToSet.forEach(({
            name,
            value
          }) => {
            /* istanbul ignore next */
            cov_ue5ygvtdn().f[4]++;
            cov_ue5ygvtdn().s[11]++;
            cookieStore.set(name, value);
          });
        }
      }
    }));
    const {
      data: {
        session
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[12]++, await supabase.auth.getSession());
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[13]++;
    if (
    /* istanbul ignore next */
    (cov_ue5ygvtdn().b[1][0]++, authError) ||
    /* istanbul ignore next */
    (cov_ue5ygvtdn().b[1][1]++, !session)) {
      /* istanbul ignore next */
      cov_ue5ygvtdn().b[0][0]++;
      cov_ue5ygvtdn().s[14]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'UNAUTHORIZED',
          message: 'Authentication required'
        }
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_ue5ygvtdn().b[0][1]++;
    }
    // 2. Validate parameters
    const resolvedParams =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[15]++, await params);
    const {
      type,
      id
    } =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[16]++, resolvedParams);
    const validTypes =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[17]++, ['event', 'activity', 'accommodation', 'room_type', 'content_page']);
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[18]++;
    if (!validTypes.includes(type)) {
      /* istanbul ignore next */
      cov_ue5ygvtdn().b[2][0]++;
      cov_ue5ygvtdn().s[19]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: `Invalid entity type. Must be one of: ${validTypes.join(', ')}`
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_ue5ygvtdn().b[2][1]++;
    }
    // 3. Fetch entity based on type
    let preview =
    /* istanbul ignore next */
    (cov_ue5ygvtdn().s[20]++, null);
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[21]++;
    switch (type) {
      case 'event':
        /* istanbul ignore next */
        cov_ue5ygvtdn().b[3][0]++;
        {
          const {
            data: event,
            error
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[22]++, await supabase.from('events').select('id, name, slug, is_active, start_time, end_time, description, event_type, locations(name)').eq('id', id).single());
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[23]++;
          if (
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[5][0]++, error) ||
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[5][1]++, !event)) {
            /* istanbul ignore next */
            cov_ue5ygvtdn().b[4][0]++;
            cov_ue5ygvtdn().s[24]++;
            return _server.NextResponse.json({
              success: false,
              error: {
                code: 'NOT_FOUND',
                message: 'Event not found'
              }
            }, {
              status: 404
            });
          } else
          /* istanbul ignore next */
          {
            cov_ue5ygvtdn().b[4][1]++;
          }
          cov_ue5ygvtdn().s[25]++;
          preview = {
            id: event.id,
            name: event.name,
            type: 'event',
            slug: event.slug,
            status: event.is_active ?
            /* istanbul ignore next */
            (cov_ue5ygvtdn().b[6][0]++, 'active') :
            /* istanbul ignore next */
            (cov_ue5ygvtdn().b[6][1]++, 'inactive'),
            details: {
              eventType: event.event_type,
              startTime: event.start_time,
              endTime: event.end_time,
              description: event.description,
              location: event.locations?.name
            }
          };
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[26]++;
          break;
        }
      case 'activity':
        /* istanbul ignore next */
        cov_ue5ygvtdn().b[3][1]++;
        {
          const {
            data: activity,
            error
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[27]++, await supabase.from('activities').select('id, name, slug, capacity, start_time, end_time, description, activity_type, cost_per_person, locations(name)').eq('id', id).single());
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[28]++;
          if (
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[8][0]++, error) ||
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[8][1]++, !activity)) {
            /* istanbul ignore next */
            cov_ue5ygvtdn().b[7][0]++;
            cov_ue5ygvtdn().s[29]++;
            return _server.NextResponse.json({
              success: false,
              error: {
                code: 'NOT_FOUND',
                message: 'Activity not found'
              }
            }, {
              status: 404
            });
          } else
          /* istanbul ignore next */
          {
            cov_ue5ygvtdn().b[7][1]++;
          }
          // Get RSVP count
          const {
            count: rsvpCount
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[30]++, await supabase.from('rsvps').select('*', {
            count: 'exact',
            head: true
          }).eq('activity_id', id).eq('status', 'attending'));
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[31]++;
          preview = {
            id: activity.id,
            name: activity.name,
            type: 'activity',
            slug: activity.slug,
            details: {
              activityType: activity.activity_type,
              startTime: activity.start_time,
              endTime: activity.end_time,
              description: activity.description,
              capacity: activity.capacity,
              attendees:
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[9][0]++, rsvpCount) ||
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[9][1]++, 0),
              costPerPerson: activity.cost_per_person,
              location: activity.locations?.name
            }
          };
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[32]++;
          break;
        }
      case 'accommodation':
        /* istanbul ignore next */
        cov_ue5ygvtdn().b[3][2]++;
        {
          const {
            data: accommodation,
            error
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[33]++, await supabase.from('accommodations').select('id, name, slug, check_in_date, check_out_date, description, address, locations(name)').eq('id', id).single());
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[34]++;
          if (
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[11][0]++, error) ||
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[11][1]++, !accommodation)) {
            /* istanbul ignore next */
            cov_ue5ygvtdn().b[10][0]++;
            cov_ue5ygvtdn().s[35]++;
            return _server.NextResponse.json({
              success: false,
              error: {
                code: 'NOT_FOUND',
                message: 'Accommodation not found'
              }
            }, {
              status: 404
            });
          } else
          /* istanbul ignore next */
          {
            cov_ue5ygvtdn().b[10][1]++;
          }
          // Get room type count
          const {
            count: roomTypeCount
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[36]++, await supabase.from('room_types').select('*', {
            count: 'exact',
            head: true
          }).eq('accommodation_id', id));
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[37]++;
          preview = {
            id: accommodation.id,
            name: accommodation.name,
            type: 'accommodation',
            slug: accommodation.slug,
            details: {
              checkInDate: accommodation.check_in_date,
              checkOutDate: accommodation.check_out_date,
              description: accommodation.description,
              address: accommodation.address,
              location: accommodation.locations?.name,
              roomTypeCount:
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[12][0]++, roomTypeCount) ||
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[12][1]++, 0)
            }
          };
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[38]++;
          break;
        }
      case 'room_type':
        /* istanbul ignore next */
        cov_ue5ygvtdn().b[3][3]++;
        {
          const {
            data: roomType,
            error
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[39]++, await supabase.from('room_types').select('id, name, capacity, price_per_night, description, check_in_date, check_out_date, accommodations(name)').eq('id', id).single());
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[40]++;
          if (
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[14][0]++, error) ||
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[14][1]++, !roomType)) {
            /* istanbul ignore next */
            cov_ue5ygvtdn().b[13][0]++;
            cov_ue5ygvtdn().s[41]++;
            return _server.NextResponse.json({
              success: false,
              error: {
                code: 'NOT_FOUND',
                message: 'Room type not found'
              }
            }, {
              status: 404
            });
          } else
          /* istanbul ignore next */
          {
            cov_ue5ygvtdn().b[13][1]++;
          }
          // Get guest assignment count
          const {
            count: guestCount
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[42]++, await supabase.from('room_assignments').select('*', {
            count: 'exact',
            head: true
          }).eq('room_type_id', id));
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[43]++;
          preview = {
            id: roomType.id,
            name: roomType.name,
            type: 'room_type',
            details: {
              accommodationName: roomType.accommodations?.name,
              capacity: roomType.capacity,
              pricePerNight: roomType.price_per_night,
              description: roomType.description,
              checkInDate: roomType.check_in_date,
              checkOutDate: roomType.check_out_date,
              guestCount:
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[15][0]++, guestCount) ||
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[15][1]++, 0)
            }
          };
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[44]++;
          break;
        }
      case 'content_page':
        /* istanbul ignore next */
        cov_ue5ygvtdn().b[3][4]++;
        {
          const {
            data: page,
            error
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[45]++, await supabase.from('content_pages').select('id, title, slug, status, created_at, updated_at').eq('id', id).single());
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[46]++;
          if (
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[17][0]++, error) ||
          /* istanbul ignore next */
          (cov_ue5ygvtdn().b[17][1]++, !page)) {
            /* istanbul ignore next */
            cov_ue5ygvtdn().b[16][0]++;
            cov_ue5ygvtdn().s[47]++;
            return _server.NextResponse.json({
              success: false,
              error: {
                code: 'NOT_FOUND',
                message: 'Content page not found'
              }
            }, {
              status: 404
            });
          } else
          /* istanbul ignore next */
          {
            cov_ue5ygvtdn().b[16][1]++;
          }
          // Get section count
          const {
            count: sectionCount
          } =
          /* istanbul ignore next */
          (cov_ue5ygvtdn().s[48]++, await supabase.from('content_sections').select('*', {
            count: 'exact',
            head: true
          }).eq('page_type', 'custom').eq('page_id', id));
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[49]++;
          preview = {
            id: page.id,
            name: page.title,
            type: 'content_page',
            slug: page.slug,
            status: page.status,
            details: {
              createdAt: page.created_at,
              updatedAt: page.updated_at,
              sectionCount:
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[18][0]++, sectionCount) ||
              /* istanbul ignore next */
              (cov_ue5ygvtdn().b[18][1]++, 0)
            }
          };
          /* istanbul ignore next */
          cov_ue5ygvtdn().s[50]++;
          break;
        }
    }
    // 4. Return preview
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[51]++;
    return _server.NextResponse.json({
      success: true,
      data: preview
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[52]++;
    console.error('Entity preview error:', error);
    /* istanbul ignore next */
    cov_ue5ygvtdn().s[53]++;
    return _server.NextResponse.json({
      success: false,
      error: {
        code: 'INTERNAL_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_ue5ygvtdn().b[19][0]++, error.message) :
        /* istanbul ignore next */
        (cov_ue5ygvtdn().b[19][1]++, 'Unknown error')
      }
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfdWU1eWd2dGRuIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImYiLCJjb29raWVTdG9yZSIsIl9oZWFkZXJzIiwiY29va2llcyIsInN1cGFiYXNlIiwiX3NzciIsImNyZWF0ZVNlcnZlckNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJkYXRhIiwic2Vzc2lvbiIsImVycm9yIiwiYXV0aEVycm9yIiwiYXV0aCIsImdldFNlc3Npb24iLCJiIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwiY29kZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJyZXNvbHZlZFBhcmFtcyIsInR5cGUiLCJpZCIsInZhbGlkVHlwZXMiLCJpbmNsdWRlcyIsImpvaW4iLCJwcmV2aWV3IiwiZXZlbnQiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJzbHVnIiwiaXNfYWN0aXZlIiwiZGV0YWlscyIsImV2ZW50VHlwZSIsImV2ZW50X3R5cGUiLCJzdGFydFRpbWUiLCJzdGFydF90aW1lIiwiZW5kVGltZSIsImVuZF90aW1lIiwiZGVzY3JpcHRpb24iLCJsb2NhdGlvbiIsImxvY2F0aW9ucyIsImFjdGl2aXR5IiwiY291bnQiLCJyc3ZwQ291bnQiLCJoZWFkIiwiYWN0aXZpdHlUeXBlIiwiYWN0aXZpdHlfdHlwZSIsImNhcGFjaXR5IiwiYXR0ZW5kZWVzIiwiY29zdFBlclBlcnNvbiIsImNvc3RfcGVyX3BlcnNvbiIsImFjY29tbW9kYXRpb24iLCJyb29tVHlwZUNvdW50IiwiY2hlY2tJbkRhdGUiLCJjaGVja19pbl9kYXRlIiwiY2hlY2tPdXREYXRlIiwiY2hlY2tfb3V0X2RhdGUiLCJhZGRyZXNzIiwicm9vbVR5cGUiLCJndWVzdENvdW50IiwiYWNjb21tb2RhdGlvbk5hbWUiLCJhY2NvbW1vZGF0aW9ucyIsInByaWNlUGVyTmlnaHQiLCJwcmljZV9wZXJfbmlnaHQiLCJwYWdlIiwic2VjdGlvbkNvdW50IiwidGl0bGUiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsImNvbnNvbGUiLCJFcnJvciJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL1t0eXBlXS9baWRdL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbmludGVyZmFjZSBFbnRpdHlQcmV2aWV3IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG4gIHNsdWc/OiBzdHJpbmc7XG4gIHN0YXR1cz86IHN0cmluZztcbiAgZGV0YWlsczogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuLyoqXG4gKiBHZXQgZW50aXR5IHByZXZpZXcgZGV0YWlscyBmb3IgcmVmZXJlbmNlIGNhcmRzXG4gKiBcbiAqIEBwYXJhbSByZXF1ZXN0IC0gUmVxdWVzdCBvYmplY3RcbiAqIEBwYXJhbSBwYXJhbXMgLSBSb3V0ZSBwYXJhbXMgd2l0aCB0eXBlIGFuZCBpZFxuICogQHJldHVybnMgRW50aXR5IHByZXZpZXcgZGV0YWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IHR5cGU6IHN0cmluZzsgaWQ6IHN0cmluZyB9PiB9XG4pOiBQcm9taXNlPE5leHRSZXNwb25zZT4ge1xuICB0cnkge1xuICAgIC8vIDEuIEF1dGhlbnRpY2F0ZVxuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICAgIHtcbiAgICAgICAgY29va2llczoge1xuICAgICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXRBbGwoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICAgIGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKTtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhOiB7IHNlc3Npb24gfSxcbiAgICAgIGVycm9yOiBhdXRoRXJyb3IsXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuXG4gICAgaWYgKGF1dGhFcnJvciB8fCAhc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHsgY29kZTogJ1VOQVVUSE9SSVpFRCcsIG1lc3NhZ2U6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDIuIFZhbGlkYXRlIHBhcmFtZXRlcnNcbiAgICBjb25zdCByZXNvbHZlZFBhcmFtcyA9IGF3YWl0IHBhcmFtcztcbiAgICBjb25zdCB7IHR5cGUsIGlkIH0gPSByZXNvbHZlZFBhcmFtcztcbiAgICBjb25zdCB2YWxpZFR5cGVzID0gWydldmVudCcsICdhY3Rpdml0eScsICdhY2NvbW1vZGF0aW9uJywgJ3Jvb21fdHlwZScsICdjb250ZW50X3BhZ2UnXTtcblxuICAgIGlmICghdmFsaWRUeXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGVudGl0eSB0eXBlLiBNdXN0IGJlIG9uZSBvZjogJHt2YWxpZFR5cGVzLmpvaW4oJywgJyl9YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMy4gRmV0Y2ggZW50aXR5IGJhc2VkIG9uIHR5cGVcbiAgICBsZXQgcHJldmlldzogRW50aXR5UHJldmlldyB8IG51bGwgPSBudWxsO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdldmVudCc6IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBldmVudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2V2ZW50cycpXG4gICAgICAgICAgLnNlbGVjdCgnaWQsIG5hbWUsIHNsdWcsIGlzX2FjdGl2ZSwgc3RhcnRfdGltZSwgZW5kX3RpbWUsIGRlc2NyaXB0aW9uLCBldmVudF90eXBlLCBsb2NhdGlvbnMobmFtZSknKVxuICAgICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgaWYgKGVycm9yIHx8ICFldmVudCkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIGVycm9yOiB7IGNvZGU6ICdOT1RfRk9VTkQnLCBtZXNzYWdlOiAnRXZlbnQgbm90IGZvdW5kJyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2aWV3ID0ge1xuICAgICAgICAgIGlkOiBldmVudC5pZCxcbiAgICAgICAgICBuYW1lOiBldmVudC5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdldmVudCcsXG4gICAgICAgICAgc2x1ZzogZXZlbnQuc2x1ZyxcbiAgICAgICAgICBzdGF0dXM6IGV2ZW50LmlzX2FjdGl2ZSA/ICdhY3RpdmUnIDogJ2luYWN0aXZlJyxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBldmVudFR5cGU6IGV2ZW50LmV2ZW50X3R5cGUsXG4gICAgICAgICAgICBzdGFydFRpbWU6IGV2ZW50LnN0YXJ0X3RpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiBldmVudC5lbmRfdGltZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiAoZXZlbnQubG9jYXRpb25zIGFzIGFueSk/Lm5hbWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2FjdGl2aXR5Jzoge1xuICAgICAgICBjb25zdCB7IGRhdGE6IGFjdGl2aXR5LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYWN0aXZpdGllcycpXG4gICAgICAgICAgLnNlbGVjdCgnaWQsIG5hbWUsIHNsdWcsIGNhcGFjaXR5LCBzdGFydF90aW1lLCBlbmRfdGltZSwgZGVzY3JpcHRpb24sIGFjdGl2aXR5X3R5cGUsIGNvc3RfcGVyX3BlcnNvbiwgbG9jYXRpb25zKG5hbWUpJylcbiAgICAgICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvciB8fCAhYWN0aXZpdHkpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnTk9UX0ZPVU5EJywgbWVzc2FnZTogJ0FjdGl2aXR5IG5vdCBmb3VuZCcgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IFJTVlAgY291bnRcbiAgICAgICAgY29uc3QgeyBjb3VudDogcnN2cENvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyc3ZwcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAuZXEoJ2FjdGl2aXR5X2lkJywgaWQpXG4gICAgICAgICAgLmVxKCdzdGF0dXMnLCAnYXR0ZW5kaW5nJyk7XG5cbiAgICAgICAgcHJldmlldyA9IHtcbiAgICAgICAgICBpZDogYWN0aXZpdHkuaWQsXG4gICAgICAgICAgbmFtZTogYWN0aXZpdHkubmFtZSxcbiAgICAgICAgICB0eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHNsdWc6IGFjdGl2aXR5LnNsdWcsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgYWN0aXZpdHlUeXBlOiBhY3Rpdml0eS5hY3Rpdml0eV90eXBlLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBhY3Rpdml0eS5zdGFydF90aW1lLFxuICAgICAgICAgICAgZW5kVGltZTogYWN0aXZpdHkuZW5kX3RpbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aXZpdHkuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBjYXBhY2l0eTogYWN0aXZpdHkuY2FwYWNpdHksXG4gICAgICAgICAgICBhdHRlbmRlZXM6IHJzdnBDb3VudCB8fCAwLFxuICAgICAgICAgICAgY29zdFBlclBlcnNvbjogYWN0aXZpdHkuY29zdF9wZXJfcGVyc29uLFxuICAgICAgICAgICAgbG9jYXRpb246IChhY3Rpdml0eS5sb2NhdGlvbnMgYXMgYW55KT8ubmFtZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY2FzZSAnYWNjb21tb2RhdGlvbic6IHtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBhY2NvbW1vZGF0aW9uLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYWNjb21tb2RhdGlvbnMnKVxuICAgICAgICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCBzbHVnLCBjaGVja19pbl9kYXRlLCBjaGVja19vdXRfZGF0ZSwgZGVzY3JpcHRpb24sIGFkZHJlc3MsIGxvY2F0aW9ucyhuYW1lKScpXG4gICAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IgfHwgIWFjY29tbW9kYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnTk9UX0ZPVU5EJywgbWVzc2FnZTogJ0FjY29tbW9kYXRpb24gbm90IGZvdW5kJyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgcm9vbSB0eXBlIGNvdW50XG4gICAgICAgIGNvbnN0IHsgY291bnQ6IHJvb21UeXBlQ291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3Jvb21fdHlwZXMnKVxuICAgICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgICAgLmVxKCdhY2NvbW1vZGF0aW9uX2lkJywgaWQpO1xuXG4gICAgICAgIHByZXZpZXcgPSB7XG4gICAgICAgICAgaWQ6IGFjY29tbW9kYXRpb24uaWQsXG4gICAgICAgICAgbmFtZTogYWNjb21tb2RhdGlvbi5uYW1lLFxuICAgICAgICAgIHR5cGU6ICdhY2NvbW1vZGF0aW9uJyxcbiAgICAgICAgICBzbHVnOiBhY2NvbW1vZGF0aW9uLnNsdWcsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgY2hlY2tJbkRhdGU6IGFjY29tbW9kYXRpb24uY2hlY2tfaW5fZGF0ZSxcbiAgICAgICAgICAgIGNoZWNrT3V0RGF0ZTogYWNjb21tb2RhdGlvbi5jaGVja19vdXRfZGF0ZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY2NvbW1vZGF0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgYWRkcmVzczogYWNjb21tb2RhdGlvbi5hZGRyZXNzLFxuICAgICAgICAgICAgbG9jYXRpb246IChhY2NvbW1vZGF0aW9uLmxvY2F0aW9ucyBhcyBhbnkpPy5uYW1lLFxuICAgICAgICAgICAgcm9vbVR5cGVDb3VudDogcm9vbVR5cGVDb3VudCB8fCAwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdyb29tX3R5cGUnOiB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcm9vbVR5cGUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyb29tX3R5cGVzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCwgbmFtZSwgY2FwYWNpdHksIHByaWNlX3Blcl9uaWdodCwgZGVzY3JpcHRpb24sIGNoZWNrX2luX2RhdGUsIGNoZWNrX291dF9kYXRlLCBhY2NvbW1vZGF0aW9ucyhuYW1lKScpXG4gICAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICBpZiAoZXJyb3IgfHwgIXJvb21UeXBlKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgZXJyb3I6IHsgY29kZTogJ05PVF9GT1VORCcsIG1lc3NhZ2U6ICdSb29tIHR5cGUgbm90IGZvdW5kJyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZ3Vlc3QgYXNzaWdubWVudCBjb3VudFxuICAgICAgICBjb25zdCB7IGNvdW50OiBndWVzdENvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdyb29tX2Fzc2lnbm1lbnRzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAgIC5lcSgncm9vbV90eXBlX2lkJywgaWQpO1xuXG4gICAgICAgIHByZXZpZXcgPSB7XG4gICAgICAgICAgaWQ6IHJvb21UeXBlLmlkLFxuICAgICAgICAgIG5hbWU6IHJvb21UeXBlLm5hbWUsXG4gICAgICAgICAgdHlwZTogJ3Jvb21fdHlwZScsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgYWNjb21tb2RhdGlvbk5hbWU6IChyb29tVHlwZS5hY2NvbW1vZGF0aW9ucyBhcyBhbnkpPy5uYW1lLFxuICAgICAgICAgICAgY2FwYWNpdHk6IHJvb21UeXBlLmNhcGFjaXR5LFxuICAgICAgICAgICAgcHJpY2VQZXJOaWdodDogcm9vbVR5cGUucHJpY2VfcGVyX25pZ2h0LFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHJvb21UeXBlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgY2hlY2tJbkRhdGU6IHJvb21UeXBlLmNoZWNrX2luX2RhdGUsXG4gICAgICAgICAgICBjaGVja091dERhdGU6IHJvb21UeXBlLmNoZWNrX291dF9kYXRlLFxuICAgICAgICAgICAgZ3Vlc3RDb3VudDogZ3Vlc3RDb3VudCB8fCAwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjYXNlICdjb250ZW50X3BhZ2UnOiB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFnZSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2NvbnRlbnRfcGFnZXMnKVxuICAgICAgICAgIC5zZWxlY3QoJ2lkLCB0aXRsZSwgc2x1Zywgc3RhdHVzLCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcbiAgICAgICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChlcnJvciB8fCAhcGFnZSkge1xuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgIGVycm9yOiB7IGNvZGU6ICdOT1RfRk9VTkQnLCBtZXNzYWdlOiAnQ29udGVudCBwYWdlIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHNlY3Rpb24gY291bnRcbiAgICAgICAgY29uc3QgeyBjb3VudDogc2VjdGlvbkNvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdjb250ZW50X3NlY3Rpb25zJylcbiAgICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAgIC5lcSgncGFnZV90eXBlJywgJ2N1c3RvbScpXG4gICAgICAgICAgLmVxKCdwYWdlX2lkJywgaWQpO1xuXG4gICAgICAgIHByZXZpZXcgPSB7XG4gICAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgICAgbmFtZTogcGFnZS50aXRsZSxcbiAgICAgICAgICB0eXBlOiAnY29udGVudF9wYWdlJyxcbiAgICAgICAgICBzbHVnOiBwYWdlLnNsdWcsXG4gICAgICAgICAgc3RhdHVzOiBwYWdlLnN0YXR1cyxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHBhZ2UuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogcGFnZS51cGRhdGVkX2F0LFxuICAgICAgICAgICAgc2VjdGlvbkNvdW50OiBzZWN0aW9uQ291bnQgfHwgMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA0LiBSZXR1cm4gcHJldmlld1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogcHJldmlldyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFbnRpdHkgcHJldmlldyBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnSU5URVJOQUxfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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