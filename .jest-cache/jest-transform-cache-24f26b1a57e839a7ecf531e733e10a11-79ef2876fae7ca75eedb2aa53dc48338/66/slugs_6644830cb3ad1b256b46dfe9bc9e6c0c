019ce18e41b455f87a681890c90e5730
/**
 * Slug generation and management utilities
 * 
 * Provides functions for generating URL-safe slugs from titles,
 * ensuring uniqueness, and validating slug format.
 */ /**
 * Generates a URL-safe slug from a title
 * 
 * Converts title to lowercase, replaces spaces with hyphens,
 * removes special characters, and normalizes multiple hyphens.
 * 
 * @param title - Page title or entity name
 * @returns URL-safe slug
 * 
 * @example
 * generateSlug('Our Story & Photos') // 'our-story-photos'
 * generateSlug('  Hello   World  ') // 'hello-world'
 * generateSlug('Caf√© & Restaurant') // 'cafe-restaurant'
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get generateSlug () {
        return generateSlug;
    },
    get getSlugPreview () {
        return getSlugPreview;
    },
    get isValidSlug () {
        return isValidSlug;
    },
    get makeUniqueSlug () {
        return makeUniqueSlug;
    },
    get normalizeSlug () {
        return normalizeSlug;
    }
});
function generateSlug(title) {
    return title.toLowerCase().trim().replace(/[^\w\s-]/g, '') // Remove special characters (keeps alphanumeric, underscore, space, hyphen)
    .replace(/_/g, '-') // Replace underscores with hyphens
    .replace(/\s+/g, '-') // Replace spaces with hyphens
    .replace(/-+/g, '-') // Replace multiple hyphens with single hyphen
    .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens
}
function isValidSlug(slug) {
    if (!slug || slug.trim() === '') {
        return false;
    }
    // Must contain at least one alphanumeric character
    if (!/[a-z0-9]/.test(slug)) {
        return false;
    }
    // Must only contain lowercase letters, numbers, and hyphens
    if (!/^[a-z0-9-]+$/.test(slug)) {
        return false;
    }
    return true;
}
function makeUniqueSlug(baseSlug, existingSlugs) {
    let uniqueSlug = baseSlug;
    let counter = 2;
    while(existingSlugs.includes(uniqueSlug)){
        uniqueSlug = `${baseSlug}-${counter}`;
        counter++;
    }
    return uniqueSlug;
}
function getSlugPreview(slug, entityType) {
    return `/${entityType}/${slug}`;
}
function normalizeSlug(slug) {
    return slug.toLowerCase().trim().replace(/[^\w\s-]/g, '').replace(/_/g, '-').replace(/\s+/g, '-').replace(/-+/g, '-').replace(/^-+|-+$/g, '');
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvdXRpbHMvc2x1Z3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTbHVnIGdlbmVyYXRpb24gYW5kIG1hbmFnZW1lbnQgdXRpbGl0aWVzXG4gKiBcbiAqIFByb3ZpZGVzIGZ1bmN0aW9ucyBmb3IgZ2VuZXJhdGluZyBVUkwtc2FmZSBzbHVncyBmcm9tIHRpdGxlcyxcbiAqIGVuc3VyaW5nIHVuaXF1ZW5lc3MsIGFuZCB2YWxpZGF0aW5nIHNsdWcgZm9ybWF0LlxuICovXG5cbi8qKlxuICogR2VuZXJhdGVzIGEgVVJMLXNhZmUgc2x1ZyBmcm9tIGEgdGl0bGVcbiAqIFxuICogQ29udmVydHMgdGl0bGUgdG8gbG93ZXJjYXNlLCByZXBsYWNlcyBzcGFjZXMgd2l0aCBoeXBoZW5zLFxuICogcmVtb3ZlcyBzcGVjaWFsIGNoYXJhY3RlcnMsIGFuZCBub3JtYWxpemVzIG11bHRpcGxlIGh5cGhlbnMuXG4gKiBcbiAqIEBwYXJhbSB0aXRsZSAtIFBhZ2UgdGl0bGUgb3IgZW50aXR5IG5hbWVcbiAqIEByZXR1cm5zIFVSTC1zYWZlIHNsdWdcbiAqIFxuICogQGV4YW1wbGVcbiAqIGdlbmVyYXRlU2x1ZygnT3VyIFN0b3J5ICYgUGhvdG9zJykgLy8gJ291ci1zdG9yeS1waG90b3MnXG4gKiBnZW5lcmF0ZVNsdWcoJyAgSGVsbG8gICBXb3JsZCAgJykgLy8gJ2hlbGxvLXdvcmxkJ1xuICogZ2VuZXJhdGVTbHVnKCdDYWbDqSAmIFJlc3RhdXJhbnQnKSAvLyAnY2FmZS1yZXN0YXVyYW50J1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTbHVnKHRpdGxlOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdGl0bGVcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC50cmltKClcbiAgICAucmVwbGFjZSgvW15cXHdcXHMtXS9nLCAnJykgLy8gUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyAoa2VlcHMgYWxwaGFudW1lcmljLCB1bmRlcnNjb3JlLCBzcGFjZSwgaHlwaGVuKVxuICAgIC5yZXBsYWNlKC9fL2csICctJykgLy8gUmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIGh5cGhlbnNcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggaHlwaGVuc1xuICAgIC5yZXBsYWNlKC8tKy9nLCAnLScpIC8vIFJlcGxhY2UgbXVsdGlwbGUgaHlwaGVucyB3aXRoIHNpbmdsZSBoeXBoZW5cbiAgICAucmVwbGFjZSgvXi0rfC0rJC9nLCAnJyk7IC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIGh5cGhlbnNcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhhdCBhIHNsdWcgaXMgVVJMLXNhZmUgYW5kIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBhbHBoYW51bWVyaWMgY2hhcmFjdGVyXG4gKiBcbiAqIEBwYXJhbSBzbHVnIC0gU2x1ZyB0byB2YWxpZGF0ZVxuICogQHJldHVybnMgVHJ1ZSBpZiBzbHVnIGlzIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqIFxuICogQGV4YW1wbGVcbiAqIGlzVmFsaWRTbHVnKCdoZWxsby13b3JsZCcpIC8vIHRydWVcbiAqIGlzVmFsaWRTbHVnKCctLS0nKSAvLyBmYWxzZVxuICogaXNWYWxpZFNsdWcoJycpIC8vIGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU2x1ZyhzbHVnOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKCFzbHVnIHx8IHNsdWcudHJpbSgpID09PSAnJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gTXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBhbHBoYW51bWVyaWMgY2hhcmFjdGVyXG4gIGlmICghL1thLXowLTldLy50ZXN0KHNsdWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICAvLyBNdXN0IG9ubHkgY29udGFpbiBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIGh5cGhlbnNcbiAgaWYgKCEvXlthLXowLTktXSskLy50ZXN0KHNsdWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSB1bmlxdWUgc2x1ZyBieSBhcHBlbmRpbmcgYSBudW1iZXIgaWYgdGhlIGJhc2Ugc2x1ZyBhbHJlYWR5IGV4aXN0c1xuICogXG4gKiBAcGFyYW0gYmFzZVNsdWcgLSBCYXNlIHNsdWcgdG8gbWFrZSB1bmlxdWVcbiAqIEBwYXJhbSBleGlzdGluZ1NsdWdzIC0gQXJyYXkgb2YgZXhpc3Rpbmcgc2x1Z3MgdG8gY2hlY2sgYWdhaW5zdFxuICogQHJldHVybnMgVW5pcXVlIHNsdWcgKGUuZy4sICdzbHVnLTInLCAnc2x1Zy0zJylcbiAqIFxuICogQGV4YW1wbGVcbiAqIG1ha2VVbmlxdWVTbHVnKCdoZWxsbycsIFsnaGVsbG8nLCAnaGVsbG8tMiddKSAvLyAnaGVsbG8tMydcbiAqIG1ha2VVbmlxdWVTbHVnKCd3b3JsZCcsIFsnaGVsbG8nXSkgLy8gJ3dvcmxkJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVVuaXF1ZVNsdWcoYmFzZVNsdWc6IHN0cmluZywgZXhpc3RpbmdTbHVnczogc3RyaW5nW10pOiBzdHJpbmcge1xuICBsZXQgdW5pcXVlU2x1ZyA9IGJhc2VTbHVnO1xuICBsZXQgY291bnRlciA9IDI7XG4gIFxuICB3aGlsZSAoZXhpc3RpbmdTbHVncy5pbmNsdWRlcyh1bmlxdWVTbHVnKSkge1xuICAgIHVuaXF1ZVNsdWcgPSBgJHtiYXNlU2x1Z30tJHtjb3VudGVyfWA7XG4gICAgY291bnRlcisrO1xuICB9XG4gIFxuICByZXR1cm4gdW5pcXVlU2x1Zztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBVUkwgcGF0aCBwcmV2aWV3IGZvciBhIHNsdWdcbiAqIFxuICogQHBhcmFtIHNsdWcgLSBTbHVnIHRvIHByZXZpZXdcbiAqIEBwYXJhbSBlbnRpdHlUeXBlIC0gVHlwZSBvZiBlbnRpdHkgKGUuZy4sICdldmVudHMnLCAnYWN0aXZpdGllcycsICdwYWdlcycpXG4gKiBAcmV0dXJucyBGdWxsIFVSTCBwYXRoXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBnZXRTbHVnUHJldmlldygnY2VyZW1vbnknLCAnZXZlbnRzJykgLy8gJy9ldmVudHMvY2VyZW1vbnknXG4gKiBnZXRTbHVnUHJldmlldygnb3VyLXN0b3J5JywgJ3BhZ2VzJykgLy8gJy9wYWdlcy9vdXItc3RvcnknXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTbHVnUHJldmlldyhzbHVnOiBzdHJpbmcsIGVudGl0eVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgLyR7ZW50aXR5VHlwZX0vJHtzbHVnfWA7XG59XG5cbi8qKlxuICogTm9ybWFsaXplcyBhIHVzZXItcHJvdmlkZWQgc2x1ZyB0byBlbnN1cmUgaXQncyBVUkwtc2FmZVxuICogXG4gKiBTaW1pbGFyIHRvIGdlbmVyYXRlU2x1ZyBidXQgcHJlc2VydmVzIGludGVudGlvbmFsIHN0cnVjdHVyZVxuICogZnJvbSB1c2VyIGlucHV0IChlLmcuLCBkb2Vzbid0IHJlbW92ZSBhbGwgc3BlY2lhbCBjaGFycylcbiAqIFxuICogQHBhcmFtIHNsdWcgLSBVc2VyLXByb3ZpZGVkIHNsdWdcbiAqIEByZXR1cm5zIE5vcm1hbGl6ZWQgc2x1Z1xuICogXG4gKiBAZXhhbXBsZVxuICogbm9ybWFsaXplU2x1ZygnSGVsbG8gV29ybGQnKSAvLyAnaGVsbG8td29ybGQnXG4gKiBub3JtYWxpemVTbHVnKCdteV9jdXN0b21fc2x1ZycpIC8vICdteS1jdXN0b20tc2x1ZydcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVNsdWcoc2x1Zzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHNsdWdcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC50cmltKClcbiAgICAucmVwbGFjZSgvW15cXHdcXHMtXS9nLCAnJylcbiAgICAucmVwbGFjZSgvXy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgIC5yZXBsYWNlKC8tKy9nLCAnLScpXG4gICAgLnJlcGxhY2UoL14tK3wtKyQvZywgJycpO1xufVxuIl0sIm5hbWVzIjpbImdlbmVyYXRlU2x1ZyIsImdldFNsdWdQcmV2aWV3IiwiaXNWYWxpZFNsdWciLCJtYWtlVW5pcXVlU2x1ZyIsIm5vcm1hbGl6ZVNsdWciLCJ0aXRsZSIsInRvTG93ZXJDYXNlIiwidHJpbSIsInJlcGxhY2UiLCJzbHVnIiwidGVzdCIsImJhc2VTbHVnIiwiZXhpc3RpbmdTbHVncyIsInVuaXF1ZVNsdWciLCJjb3VudGVyIiwiaW5jbHVkZXMiLCJlbnRpdHlUeXBlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQyxHQUVEOzs7Ozs7Ozs7Ozs7O0NBYUM7Ozs7Ozs7Ozs7O1FBQ2VBO2VBQUFBOztRQTBFQUM7ZUFBQUE7O1FBcERBQztlQUFBQTs7UUE2QkFDO2VBQUFBOztRQXdDQUM7ZUFBQUE7OztBQTNGVCxTQUFTSixhQUFhSyxLQUFhO0lBQ3hDLE9BQU9BLE1BQ0pDLFdBQVcsR0FDWEMsSUFBSSxHQUNKQyxPQUFPLENBQUMsYUFBYSxJQUFJLDRFQUE0RTtLQUNyR0EsT0FBTyxDQUFDLE1BQU0sS0FBSyxtQ0FBbUM7S0FDdERBLE9BQU8sQ0FBQyxRQUFRLEtBQUssOEJBQThCO0tBQ25EQSxPQUFPLENBQUMsT0FBTyxLQUFLLDhDQUE4QztLQUNsRUEsT0FBTyxDQUFDLFlBQVksS0FBSyxrQ0FBa0M7QUFDaEU7QUFhTyxTQUFTTixZQUFZTyxJQUFZO0lBQ3RDLElBQUksQ0FBQ0EsUUFBUUEsS0FBS0YsSUFBSSxPQUFPLElBQUk7UUFDL0IsT0FBTztJQUNUO0lBRUEsbURBQW1EO0lBQ25ELElBQUksQ0FBQyxXQUFXRyxJQUFJLENBQUNELE9BQU87UUFDMUIsT0FBTztJQUNUO0lBRUEsNERBQTREO0lBQzVELElBQUksQ0FBQyxlQUFlQyxJQUFJLENBQUNELE9BQU87UUFDOUIsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNUO0FBYU8sU0FBU04sZUFBZVEsUUFBZ0IsRUFBRUMsYUFBdUI7SUFDdEUsSUFBSUMsYUFBYUY7SUFDakIsSUFBSUcsVUFBVTtJQUVkLE1BQU9GLGNBQWNHLFFBQVEsQ0FBQ0YsWUFBYTtRQUN6Q0EsYUFBYSxHQUFHRixTQUFTLENBQUMsRUFBRUcsU0FBUztRQUNyQ0E7SUFDRjtJQUVBLE9BQU9EO0FBQ1Q7QUFhTyxTQUFTWixlQUFlUSxJQUFZLEVBQUVPLFVBQWtCO0lBQzdELE9BQU8sQ0FBQyxDQUFDLEVBQUVBLFdBQVcsQ0FBQyxFQUFFUCxNQUFNO0FBQ2pDO0FBZU8sU0FBU0wsY0FBY0ssSUFBWTtJQUN4QyxPQUFPQSxLQUNKSCxXQUFXLEdBQ1hDLElBQUksR0FDSkMsT0FBTyxDQUFDLGFBQWEsSUFDckJBLE9BQU8sQ0FBQyxNQUFNLEtBQ2RBLE9BQU8sQ0FBQyxRQUFRLEtBQ2hCQSxPQUFPLENBQUMsT0FBTyxLQUNmQSxPQUFPLENBQUMsWUFBWTtBQUN6QiJ9