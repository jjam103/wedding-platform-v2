2447f3db45c93d122eebf4f9d1348a7e
"use strict";
// Mock Supabase
jest.mock('@/lib/supabase', ()=>({
        supabase: {
            from: jest.fn(()=>({
                    insert: jest.fn(()=>({
                            select: jest.fn(()=>({
                                    single: jest.fn()
                                }))
                        }))
                }))
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _guestService = require("./guestService");
describe('guestService CSV Import/Export', ()=>{
    describe('exportToCSV', ()=>{
        it('should export guests to valid CSV format', async ()=>{
            const guests = [
                {
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    groupId: '123e4567-e89b-12d3-a456-426614174001',
                    firstName: 'John',
                    lastName: 'Doe',
                    email: 'john@example.com',
                    phone: '+1234567890',
                    ageType: 'adult',
                    guestType: 'wedding_guest',
                    dietaryRestrictions: 'Vegetarian',
                    plusOneName: 'Jane Doe',
                    plusOneAttending: true,
                    arrivalDate: '2025-06-01',
                    departureDate: '2025-06-05',
                    airportCode: 'SJO',
                    flightNumber: 'AA123',
                    invitationSent: true,
                    invitationSentDate: '2025-01-15',
                    rsvpDeadline: '2025-05-01',
                    notes: 'VIP guest',
                    createdAt: '2025-01-01T00:00:00Z',
                    updatedAt: '2025-01-01T00:00:00Z'
                }
            ];
            const result = await (0, _guestService.exportToCSV)(guests);
            expect(result.success).toBe(true);
            if (result.success) {
                const lines = result.data.split('\n');
                expect(lines.length).toBe(2); // Header + 1 data row
                // Check header
                expect(lines[0]).toBe('groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes');
                // Check data row
                expect(lines[1]).toContain('John');
                expect(lines[1]).toContain('Doe');
                expect(lines[1]).toContain('john@example.com');
            }
        });
        it('should handle guests with null values', async ()=>{
            const guests = [
                {
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    groupId: '123e4567-e89b-12d3-a456-426614174001',
                    firstName: 'Jane',
                    lastName: 'Smith',
                    email: null,
                    phone: null,
                    ageType: 'adult',
                    guestType: 'wedding_guest',
                    dietaryRestrictions: null,
                    plusOneName: null,
                    plusOneAttending: false,
                    arrivalDate: null,
                    departureDate: null,
                    airportCode: null,
                    flightNumber: null,
                    invitationSent: false,
                    invitationSentDate: null,
                    rsvpDeadline: null,
                    notes: null,
                    createdAt: '2025-01-01T00:00:00Z',
                    updatedAt: '2025-01-01T00:00:00Z'
                }
            ];
            const result = await (0, _guestService.exportToCSV)(guests);
            expect(result.success).toBe(true);
            if (result.success) {
                const lines = result.data.split('\n');
                expect(lines.length).toBe(2);
                // Null values should be empty strings in CSV
                const fields = lines[1].split(',');
                expect(fields[3]).toBe(''); // email
                expect(fields[4]).toBe(''); // phone
            }
        });
        it('should escape fields containing commas', async ()=>{
            const guests = [
                {
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    groupId: '123e4567-e89b-12d3-a456-426614174001',
                    firstName: 'John',
                    lastName: 'Doe',
                    email: 'john@example.com',
                    phone: null,
                    ageType: 'adult',
                    guestType: 'wedding_guest',
                    dietaryRestrictions: 'No dairy, no nuts',
                    plusOneName: null,
                    plusOneAttending: false,
                    arrivalDate: null,
                    departureDate: null,
                    airportCode: null,
                    flightNumber: null,
                    invitationSent: false,
                    invitationSentDate: null,
                    rsvpDeadline: null,
                    notes: 'Needs wheelchair access, arriving early',
                    createdAt: '2025-01-01T00:00:00Z',
                    updatedAt: '2025-01-01T00:00:00Z'
                }
            ];
            const result = await (0, _guestService.exportToCSV)(guests);
            expect(result.success).toBe(true);
            if (result.success) {
                // Fields with commas should be wrapped in quotes
                expect(result.data).toContain('"No dairy, no nuts"');
                expect(result.data).toContain('"Needs wheelchair access, arriving early"');
            }
        });
        it('should escape fields containing quotes', async ()=>{
            const guests = [
                {
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    groupId: '123e4567-e89b-12d3-a456-426614174001',
                    firstName: 'John',
                    lastName: 'O\'Brien',
                    email: 'john@example.com',
                    phone: null,
                    ageType: 'adult',
                    guestType: 'wedding_guest',
                    dietaryRestrictions: null,
                    plusOneName: null,
                    plusOneAttending: false,
                    arrivalDate: null,
                    departureDate: null,
                    airportCode: null,
                    flightNumber: null,
                    invitationSent: false,
                    invitationSentDate: null,
                    rsvpDeadline: null,
                    notes: 'Prefers "vegetarian" meals',
                    createdAt: '2025-01-01T00:00:00Z',
                    updatedAt: '2025-01-01T00:00:00Z'
                }
            ];
            const result = await (0, _guestService.exportToCSV)(guests);
            expect(result.success).toBe(true);
            if (result.success) {
                // Fields with quotes should be wrapped and quotes doubled
                expect(result.data).toContain('""vegetarian""');
            }
        });
        it('should handle empty array', async ()=>{
            const result = await (0, _guestService.exportToCSV)([]);
            expect(result.success).toBe(true);
            if (result.success) {
                const lines = result.data.split('\n');
                expect(lines.length).toBe(1); // Only header
            }
        });
        it('should return validation error for non-array input', async ()=>{
            const result = await (0, _guestService.exportToCSV)(null);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
    });
    describe('importFromCSV', ()=>{
        beforeEach(()=>{
            // Reset mock
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockClear();
        });
        it('should import valid CSV data', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes
123e4567-e89b-12d3-a456-426614174001,John,Doe,john@example.com,+1234567890,adult,wedding_guest,Vegetarian,Jane Doe,true,2025-06-01,2025-06-05,SJO,AA123,true,2025-01-15,2025-05-01,VIP guest`;
            // Mock successful database insert
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174000',
                                group_id: '123e4567-e89b-12d3-a456-426614174001',
                                first_name: 'John',
                                last_name: 'Doe',
                                email: 'john@example.com',
                                phone: '+1234567890',
                                age_type: 'adult',
                                guest_type: 'wedding_guest',
                                dietary_restrictions: 'Vegetarian',
                                plus_one_name: 'Jane Doe',
                                plus_one_attending: true,
                                arrival_date: '2025-06-01',
                                departure_date: '2025-06-05',
                                airport_code: 'SJO',
                                flight_number: 'AA123',
                                invitation_sent: true,
                                invitation_sent_date: '2025-01-15',
                                rsvp_deadline: '2025-05-01',
                                notes: 'VIP guest',
                                created_at: '2025-01-01T00:00:00Z',
                                updated_at: '2025-01-01T00:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(1);
                expect(result.data[0].firstName).toBe('John');
                expect(result.data[0].lastName).toBe('Doe');
            }
        });
        it('should handle CSV with null values', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes
123e4567-e89b-12d3-a456-426614174001,Jane,Smith,,,adult,wedding_guest,,,false,,,,,false,,,`;
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174000',
                                group_id: '123e4567-e89b-12d3-a456-426614174001',
                                first_name: 'Jane',
                                last_name: 'Smith',
                                email: null,
                                phone: null,
                                age_type: 'adult',
                                guest_type: 'wedding_guest',
                                dietary_restrictions: null,
                                plus_one_name: null,
                                plus_one_attending: false,
                                arrival_date: null,
                                departure_date: null,
                                airport_code: null,
                                flight_number: null,
                                invitation_sent: false,
                                invitation_sent_date: null,
                                rsvp_deadline: null,
                                notes: null,
                                created_at: '2025-01-01T00:00:00Z',
                                updated_at: '2025-01-01T00:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(1);
                expect(result.data[0].email).toBeNull();
                expect(result.data[0].phone).toBeNull();
            }
        });
        it('should handle CSV with quoted fields containing commas', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes
123e4567-e89b-12d3-a456-426614174001,John,Doe,john@example.com,,adult,wedding_guest,"No dairy, no nuts",,false,,,,,false,,,"Needs wheelchair access, arriving early"`;
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174000',
                                group_id: '123e4567-e89b-12d3-a456-426614174001',
                                first_name: 'John',
                                last_name: 'Doe',
                                email: 'john@example.com',
                                phone: null,
                                age_type: 'adult',
                                guest_type: 'wedding_guest',
                                dietary_restrictions: 'No dairy, no nuts',
                                plus_one_name: null,
                                plus_one_attending: false,
                                arrival_date: null,
                                departure_date: null,
                                airport_code: null,
                                flight_number: null,
                                invitation_sent: false,
                                invitation_sent_date: null,
                                rsvp_deadline: null,
                                notes: 'Needs wheelchair access, arriving early',
                                created_at: '2025-01-01T00:00:00Z',
                                updated_at: '2025-01-01T00:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data[0].dietaryRestrictions).toBe('No dairy, no nuts');
                expect(result.data[0].notes).toBe('Needs wheelchair access, arriving early');
            }
        });
        it('should return validation error for empty CSV', async ()=>{
            const result = await (0, _guestService.importFromCSV)('');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return validation error for CSV with only header', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes`;
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
                expect(result.error.message).toContain('at least one data row');
            }
        });
        it('should return validation error for mismatched headers', async ()=>{
            const csvContent = `firstName,lastName,email
John,Doe,john@example.com`;
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
                expect(result.error.message).toContain('header mismatch');
            }
        });
        it('should return validation error for invalid data', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes
invalid-uuid,John,Doe,invalid-email,,adult,wedding_guest,,,false,,,,,false,,,`;
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
                expect(result.error.message).toContain('failed');
            }
        });
        it('should skip empty lines in CSV', async ()=>{
            const csvContent = `groupId,firstName,lastName,email,phone,ageType,guestType,dietaryRestrictions,plusOneName,plusOneAttending,arrivalDate,departureDate,airportCode,flightNumber,invitationSent,invitationSentDate,rsvpDeadline,notes

123e4567-e89b-12d3-a456-426614174001,John,Doe,john@example.com,,adult,wedding_guest,,,false,,,,,false,,,

`;
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174000',
                                group_id: '123e4567-e89b-12d3-a456-426614174001',
                                first_name: 'John',
                                last_name: 'Doe',
                                email: 'john@example.com',
                                phone: null,
                                age_type: 'adult',
                                guest_type: 'wedding_guest',
                                dietary_restrictions: null,
                                plus_one_name: null,
                                plus_one_attending: false,
                                arrival_date: null,
                                departure_date: null,
                                airport_code: null,
                                flight_number: null,
                                invitation_sent: false,
                                invitation_sent_date: null,
                                rsvp_deadline: null,
                                notes: null,
                                created_at: '2025-01-01T00:00:00Z',
                                updated_at: '2025-01-01T00:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            const result = await (0, _guestService.importFromCSV)(csvContent);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(1);
            }
        });
    });
    describe('CSV Round-Trip', ()=>{
        it('should preserve data through export and import', async ()=>{
            const originalGuests = [
                {
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    groupId: '123e4567-e89b-12d3-a456-426614174001',
                    firstName: 'John',
                    lastName: 'Doe',
                    email: 'john@example.com',
                    phone: '+1234567890',
                    ageType: 'adult',
                    guestType: 'wedding_guest',
                    dietaryRestrictions: 'Vegetarian',
                    plusOneName: 'Jane Doe',
                    plusOneAttending: true,
                    arrivalDate: '2025-06-01',
                    departureDate: '2025-06-05',
                    airportCode: 'SJO',
                    flightNumber: 'AA123',
                    invitationSent: true,
                    invitationSentDate: '2025-01-15',
                    rsvpDeadline: '2025-05-01',
                    notes: 'VIP guest',
                    createdAt: '2025-01-01T00:00:00Z',
                    updatedAt: '2025-01-01T00:00:00Z'
                }
            ];
            // Export to CSV
            const exportResult = await (0, _guestService.exportToCSV)(originalGuests);
            expect(exportResult.success).toBe(true);
            if (!exportResult.success) return;
            // Mock database for import
            const { supabase } = require('@/lib/supabase');
            supabase.from.mockReturnValue({
                insert: jest.fn().mockReturnValue({
                    select: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174002',
                                group_id: originalGuests[0].groupId,
                                first_name: originalGuests[0].firstName,
                                last_name: originalGuests[0].lastName,
                                email: originalGuests[0].email,
                                phone: originalGuests[0].phone,
                                age_type: originalGuests[0].ageType,
                                guest_type: originalGuests[0].guestType,
                                dietary_restrictions: originalGuests[0].dietaryRestrictions,
                                plus_one_name: originalGuests[0].plusOneName,
                                plus_one_attending: originalGuests[0].plusOneAttending,
                                arrival_date: originalGuests[0].arrivalDate,
                                departure_date: originalGuests[0].departureDate,
                                airport_code: originalGuests[0].airportCode,
                                flight_number: originalGuests[0].flightNumber,
                                invitation_sent: originalGuests[0].invitationSent,
                                invitation_sent_date: originalGuests[0].invitationSentDate,
                                rsvp_deadline: originalGuests[0].rsvpDeadline,
                                notes: originalGuests[0].notes,
                                created_at: '2025-01-25T00:00:00Z',
                                updated_at: '2025-01-25T00:00:00Z'
                            },
                            error: null
                        })
                    })
                })
            });
            // Import from CSV
            const importResult = await (0, _guestService.importFromCSV)(exportResult.data);
            expect(importResult.success).toBe(true);
            if (!importResult.success) return;
            // Verify data integrity (excluding id, createdAt, updatedAt which are generated)
            const imported = importResult.data[0];
            expect(imported.groupId).toBe(originalGuests[0].groupId);
            expect(imported.firstName).toBe(originalGuests[0].firstName);
            expect(imported.lastName).toBe(originalGuests[0].lastName);
            expect(imported.email).toBe(originalGuests[0].email);
            expect(imported.phone).toBe(originalGuests[0].phone);
            expect(imported.ageType).toBe(originalGuests[0].ageType);
            expect(imported.guestType).toBe(originalGuests[0].guestType);
            expect(imported.dietaryRestrictions).toBe(originalGuests[0].dietaryRestrictions);
            expect(imported.plusOneName).toBe(originalGuests[0].plusOneName);
            expect(imported.plusOneAttending).toBe(originalGuests[0].plusOneAttending);
            expect(imported.arrivalDate).toBe(originalGuests[0].arrivalDate);
            expect(imported.departureDate).toBe(originalGuests[0].departureDate);
            expect(imported.airportCode).toBe(originalGuests[0].airportCode);
            expect(imported.flightNumber).toBe(originalGuests[0].flightNumber);
            expect(imported.invitationSent).toBe(originalGuests[0].invitationSent);
            expect(imported.invitationSentDate).toBe(originalGuests[0].invitationSentDate);
            expect(imported.rsvpDeadline).toBe(originalGuests[0].rsvpDeadline);
            expect(imported.notes).toBe(originalGuests[0].notes);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvY3N2SW1wb3J0RXhwb3J0LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXhwb3J0VG9DU1YsIGltcG9ydEZyb21DU1YgfSBmcm9tICcuL2d1ZXN0U2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IEd1ZXN0IH0gZnJvbSAnQC9zY2hlbWFzL2d1ZXN0U2NoZW1hcyc7XG5cbi8vIE1vY2sgU3VwYWJhc2Vcbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2UnLCAoKSA9PiAoe1xuICBzdXBhYmFzZToge1xuICAgIGZyb206IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGluc2VydDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICAgICAgfSkpLFxuICAgICAgfSkpLFxuICAgIH0pKSxcbiAgfSxcbn0pKTtcblxuZGVzY3JpYmUoJ2d1ZXN0U2VydmljZSBDU1YgSW1wb3J0L0V4cG9ydCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2V4cG9ydFRvQ1NWJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhwb3J0IGd1ZXN0cyB0byB2YWxpZCBDU1YgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ3Vlc3RzOiBHdWVzdFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICAgICAgICAgIGdyb3VwSWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAgICAgICAgICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBob25lOiAnKzEyMzQ1Njc4OTAnLFxuICAgICAgICAgIGFnZVR5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgZ3Vlc3RUeXBlOiAnd2VkZGluZ19ndWVzdCcsXG4gICAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogJ1ZlZ2V0YXJpYW4nLFxuICAgICAgICAgIHBsdXNPbmVOYW1lOiAnSmFuZSBEb2UnLFxuICAgICAgICAgIHBsdXNPbmVBdHRlbmRpbmc6IHRydWUsXG4gICAgICAgICAgYXJyaXZhbERhdGU6ICcyMDI1LTA2LTAxJyxcbiAgICAgICAgICBkZXBhcnR1cmVEYXRlOiAnMjAyNS0wNi0wNScsXG4gICAgICAgICAgYWlycG9ydENvZGU6ICdTSk8nLFxuICAgICAgICAgIGZsaWdodE51bWJlcjogJ0FBMTIzJyxcbiAgICAgICAgICBpbnZpdGF0aW9uU2VudDogdHJ1ZSxcbiAgICAgICAgICBpbnZpdGF0aW9uU2VudERhdGU6ICcyMDI1LTAxLTE1JyxcbiAgICAgICAgICByc3ZwRGVhZGxpbmU6ICcyMDI1LTA1LTAxJyxcbiAgICAgICAgICBub3RlczogJ1ZJUCBndWVzdCcsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4cG9ydFRvQ1NWKGd1ZXN0cyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJlc3VsdC5kYXRhLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzLmxlbmd0aCkudG9CZSgyKTsgLy8gSGVhZGVyICsgMSBkYXRhIHJvd1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaGVhZGVyXG4gICAgICAgIGV4cGVjdChsaW5lc1swXSkudG9CZShcbiAgICAgICAgICAnZ3JvdXBJZCxmaXJzdE5hbWUsbGFzdE5hbWUsZW1haWwscGhvbmUsYWdlVHlwZSxndWVzdFR5cGUsZGlldGFyeVJlc3RyaWN0aW9ucyxwbHVzT25lTmFtZSxwbHVzT25lQXR0ZW5kaW5nLGFycml2YWxEYXRlLGRlcGFydHVyZURhdGUsYWlycG9ydENvZGUsZmxpZ2h0TnVtYmVyLGludml0YXRpb25TZW50LGludml0YXRpb25TZW50RGF0ZSxyc3ZwRGVhZGxpbmUsbm90ZXMnXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBkYXRhIHJvd1xuICAgICAgICBleHBlY3QobGluZXNbMV0pLnRvQ29udGFpbignSm9obicpO1xuICAgICAgICBleHBlY3QobGluZXNbMV0pLnRvQ29udGFpbignRG9lJyk7XG4gICAgICAgIGV4cGVjdChsaW5lc1sxXSkudG9Db250YWluKCdqb2huQGV4YW1wbGUuY29tJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBndWVzdHMgd2l0aCBudWxsIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGd1ZXN0czogR3Vlc3RbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgICBncm91cElkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAxJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdKYW5lJyxcbiAgICAgICAgICBsYXN0TmFtZTogJ1NtaXRoJyxcbiAgICAgICAgICBlbWFpbDogbnVsbCxcbiAgICAgICAgICBwaG9uZTogbnVsbCxcbiAgICAgICAgICBhZ2VUeXBlOiAnYWR1bHQnLFxuICAgICAgICAgIGd1ZXN0VHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgIGRpZXRhcnlSZXN0cmljdGlvbnM6IG51bGwsXG4gICAgICAgICAgcGx1c09uZU5hbWU6IG51bGwsXG4gICAgICAgICAgcGx1c09uZUF0dGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgYXJyaXZhbERhdGU6IG51bGwsXG4gICAgICAgICAgZGVwYXJ0dXJlRGF0ZTogbnVsbCxcbiAgICAgICAgICBhaXJwb3J0Q29kZTogbnVsbCxcbiAgICAgICAgICBmbGlnaHROdW1iZXI6IG51bGwsXG4gICAgICAgICAgaW52aXRhdGlvblNlbnQ6IGZhbHNlLFxuICAgICAgICAgIGludml0YXRpb25TZW50RGF0ZTogbnVsbCxcbiAgICAgICAgICByc3ZwRGVhZGxpbmU6IG51bGwsXG4gICAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4cG9ydFRvQ1NWKGd1ZXN0cyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJlc3VsdC5kYXRhLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzLmxlbmd0aCkudG9CZSgyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE51bGwgdmFsdWVzIHNob3VsZCBiZSBlbXB0eSBzdHJpbmdzIGluIENTVlxuICAgICAgICBjb25zdCBmaWVsZHMgPSBsaW5lc1sxXS5zcGxpdCgnLCcpO1xuICAgICAgICBleHBlY3QoZmllbGRzWzNdKS50b0JlKCcnKTsgLy8gZW1haWxcbiAgICAgICAgZXhwZWN0KGZpZWxkc1s0XSkudG9CZSgnJyk7IC8vIHBob25lXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVzY2FwZSBmaWVsZHMgY29udGFpbmluZyBjb21tYXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBndWVzdHM6IEd1ZXN0W10gPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgZ3JvdXBJZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gICAgICAgICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgbGFzdE5hbWU6ICdEb2UnLFxuICAgICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgYWdlVHlwZTogJ2FkdWx0JyxcbiAgICAgICAgICBndWVzdFR5cGU6ICd3ZWRkaW5nX2d1ZXN0JyxcbiAgICAgICAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiAnTm8gZGFpcnksIG5vIG51dHMnLFxuICAgICAgICAgIHBsdXNPbmVOYW1lOiBudWxsLFxuICAgICAgICAgIHBsdXNPbmVBdHRlbmRpbmc6IGZhbHNlLFxuICAgICAgICAgIGFycml2YWxEYXRlOiBudWxsLFxuICAgICAgICAgIGRlcGFydHVyZURhdGU6IG51bGwsXG4gICAgICAgICAgYWlycG9ydENvZGU6IG51bGwsXG4gICAgICAgICAgZmxpZ2h0TnVtYmVyOiBudWxsLFxuICAgICAgICAgIGludml0YXRpb25TZW50OiBmYWxzZSxcbiAgICAgICAgICBpbnZpdGF0aW9uU2VudERhdGU6IG51bGwsXG4gICAgICAgICAgcnN2cERlYWRsaW5lOiBudWxsLFxuICAgICAgICAgIG5vdGVzOiAnTmVlZHMgd2hlZWxjaGFpciBhY2Nlc3MsIGFycml2aW5nIGVhcmx5JyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhwb3J0VG9DU1YoZ3Vlc3RzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIEZpZWxkcyB3aXRoIGNvbW1hcyBzaG91bGQgYmUgd3JhcHBlZCBpbiBxdW90ZXNcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ1wiTm8gZGFpcnksIG5vIG51dHNcIicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignXCJOZWVkcyB3aGVlbGNoYWlyIGFjY2VzcywgYXJyaXZpbmcgZWFybHlcIicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlc2NhcGUgZmllbGRzIGNvbnRhaW5pbmcgcXVvdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZ3Vlc3RzOiBHdWVzdFtdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICAgICAgICAgIGdyb3VwSWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgIGxhc3ROYW1lOiAnT1xcJ0JyaWVuJyxcbiAgICAgICAgICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBob25lOiBudWxsLFxuICAgICAgICAgIGFnZVR5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgZ3Vlc3RUeXBlOiAnd2VkZGluZ19ndWVzdCcsXG4gICAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogbnVsbCxcbiAgICAgICAgICBwbHVzT25lTmFtZTogbnVsbCxcbiAgICAgICAgICBwbHVzT25lQXR0ZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICBhcnJpdmFsRGF0ZTogbnVsbCxcbiAgICAgICAgICBkZXBhcnR1cmVEYXRlOiBudWxsLFxuICAgICAgICAgIGFpcnBvcnRDb2RlOiBudWxsLFxuICAgICAgICAgIGZsaWdodE51bWJlcjogbnVsbCxcbiAgICAgICAgICBpbnZpdGF0aW9uU2VudDogZmFsc2UsXG4gICAgICAgICAgaW52aXRhdGlvblNlbnREYXRlOiBudWxsLFxuICAgICAgICAgIHJzdnBEZWFkbGluZTogbnVsbCxcbiAgICAgICAgICBub3RlczogJ1ByZWZlcnMgXCJ2ZWdldGFyaWFuXCIgbWVhbHMnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleHBvcnRUb0NTVihndWVzdHMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gRmllbGRzIHdpdGggcXVvdGVzIHNob3VsZCBiZSB3cmFwcGVkIGFuZCBxdW90ZXMgZG91YmxlZFxuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignXCJcInZlZ2V0YXJpYW5cIlwiJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBhcnJheScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4cG9ydFRvQ1NWKFtdKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gcmVzdWx0LmRhdGEuc3BsaXQoJ1xcbicpO1xuICAgICAgICBleHBlY3QobGluZXMubGVuZ3RoKS50b0JlKDEpOyAvLyBPbmx5IGhlYWRlclxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdmFsaWRhdGlvbiBlcnJvciBmb3Igbm9uLWFycmF5IGlucHV0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhwb3J0VG9DU1YobnVsbCBhcyBhbnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ltcG9ydEZyb21DU1YnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBSZXNldCBtb2NrXG4gICAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrQ2xlYXIoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW1wb3J0IHZhbGlkIENTViBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3N2Q29udGVudCA9IGBncm91cElkLGZpcnN0TmFtZSxsYXN0TmFtZSxlbWFpbCxwaG9uZSxhZ2VUeXBlLGd1ZXN0VHlwZSxkaWV0YXJ5UmVzdHJpY3Rpb25zLHBsdXNPbmVOYW1lLHBsdXNPbmVBdHRlbmRpbmcsYXJyaXZhbERhdGUsZGVwYXJ0dXJlRGF0ZSxhaXJwb3J0Q29kZSxmbGlnaHROdW1iZXIsaW52aXRhdGlvblNlbnQsaW52aXRhdGlvblNlbnREYXRlLHJzdnBEZWFkbGluZSxub3Rlc1xuMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAxLEpvaG4sRG9lLGpvaG5AZXhhbXBsZS5jb20sKzEyMzQ1Njc4OTAsYWR1bHQsd2VkZGluZ19ndWVzdCxWZWdldGFyaWFuLEphbmUgRG9lLHRydWUsMjAyNS0wNi0wMSwyMDI1LTA2LTA1LFNKTyxBQTEyMyx0cnVlLDIwMjUtMDEtMTUsMjAyNS0wNS0wMSxWSVAgZ3Vlc3RgO1xuXG4gICAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgZGF0YWJhc2UgaW5zZXJ0XG4gICAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgICAgICAgZ3JvdXBfaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6ICdKb2huJyxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6ICdEb2UnLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcGhvbmU6ICcrMTIzNDU2Nzg5MCcsXG4gICAgICAgICAgICAgICAgYWdlX3R5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiAnVmVnZXRhcmlhbicsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfbmFtZTogJ0phbmUgRG9lJyxcbiAgICAgICAgICAgICAgICBwbHVzX29uZV9hdHRlbmRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgYXJyaXZhbF9kYXRlOiAnMjAyNS0wNi0wMScsXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlX2RhdGU6ICcyMDI1LTA2LTA1JyxcbiAgICAgICAgICAgICAgICBhaXJwb3J0X2NvZGU6ICdTSk8nLFxuICAgICAgICAgICAgICAgIGZsaWdodF9udW1iZXI6ICdBQTEyMycsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgIGludml0YXRpb25fc2VudF9kYXRlOiAnMjAyNS0wMS0xNScsXG4gICAgICAgICAgICAgICAgcnN2cF9kZWFkbGluZTogJzIwMjUtMDUtMDEnLFxuICAgICAgICAgICAgICAgIG5vdGVzOiAnVklQIGd1ZXN0JyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoY3N2Q29udGVudCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhWzBdLmZpcnN0TmFtZSkudG9CZSgnSm9obicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0ubGFzdE5hbWUpLnRvQmUoJ0RvZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ1NWIHdpdGggbnVsbCB2YWx1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjc3ZDb250ZW50ID0gYGdyb3VwSWQsZmlyc3ROYW1lLGxhc3ROYW1lLGVtYWlsLHBob25lLGFnZVR5cGUsZ3Vlc3RUeXBlLGRpZXRhcnlSZXN0cmljdGlvbnMscGx1c09uZU5hbWUscGx1c09uZUF0dGVuZGluZyxhcnJpdmFsRGF0ZSxkZXBhcnR1cmVEYXRlLGFpcnBvcnRDb2RlLGZsaWdodE51bWJlcixpbnZpdGF0aW9uU2VudCxpbnZpdGF0aW9uU2VudERhdGUscnN2cERlYWRsaW5lLG5vdGVzXG4xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEsSmFuZSxTbWl0aCwsLGFkdWx0LHdlZGRpbmdfZ3Vlc3QsLCxmYWxzZSwsLCwsZmFsc2UsLCxgO1xuXG4gICAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgICAgICAgZ3JvdXBfaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6ICdKYW5lJyxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6ICdTbWl0aCcsXG4gICAgICAgICAgICAgICAgZW1haWw6IG51bGwsXG4gICAgICAgICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWdlX3R5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgIHBsdXNfb25lX25hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfYXR0ZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcnJpdmFsX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWlycG9ydF9jb2RlOiBudWxsLFxuICAgICAgICAgICAgICAgIGZsaWdodF9udW1iZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbnZpdGF0aW9uX3NlbnRfZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByc3ZwX2RlYWRsaW5lOiBudWxsLFxuICAgICAgICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW1wb3J0RnJvbUNTVihjc3ZDb250ZW50KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0uZW1haWwpLnRvQmVOdWxsKCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YVswXS5waG9uZSkudG9CZU51bGwoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIENTViB3aXRoIHF1b3RlZCBmaWVsZHMgY29udGFpbmluZyBjb21tYXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjc3ZDb250ZW50ID0gYGdyb3VwSWQsZmlyc3ROYW1lLGxhc3ROYW1lLGVtYWlsLHBob25lLGFnZVR5cGUsZ3Vlc3RUeXBlLGRpZXRhcnlSZXN0cmljdGlvbnMscGx1c09uZU5hbWUscGx1c09uZUF0dGVuZGluZyxhcnJpdmFsRGF0ZSxkZXBhcnR1cmVEYXRlLGFpcnBvcnRDb2RlLGZsaWdodE51bWJlcixpbnZpdGF0aW9uU2VudCxpbnZpdGF0aW9uU2VudERhdGUscnN2cERlYWRsaW5lLG5vdGVzXG4xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEsSm9obixEb2Usam9obkBleGFtcGxlLmNvbSwsYWR1bHQsd2VkZGluZ19ndWVzdCxcIk5vIGRhaXJ5LCBubyBudXRzXCIsLGZhbHNlLCwsLCxmYWxzZSwsLFwiTmVlZHMgd2hlZWxjaGFpciBhY2Nlc3MsIGFycml2aW5nIGVhcmx5XCJgO1xuXG4gICAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgICAgICAgZ3JvdXBfaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6ICdKb2huJyxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6ICdEb2UnLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWdlX3R5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiAnTm8gZGFpcnksIG5vIG51dHMnLFxuICAgICAgICAgICAgICAgIHBsdXNfb25lX25hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfYXR0ZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcnJpdmFsX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWlycG9ydF9jb2RlOiBudWxsLFxuICAgICAgICAgICAgICAgIGZsaWdodF9udW1iZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbnZpdGF0aW9uX3NlbnRfZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByc3ZwX2RlYWRsaW5lOiBudWxsLFxuICAgICAgICAgICAgICAgIG5vdGVzOiAnTmVlZHMgd2hlZWxjaGFpciBhY2Nlc3MsIGFycml2aW5nIGVhcmx5JyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoY3N2Q29udGVudCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGFbMF0uZGlldGFyeVJlc3RyaWN0aW9ucykudG9CZSgnTm8gZGFpcnksIG5vIG51dHMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhWzBdLm5vdGVzKS50b0JlKCdOZWVkcyB3aGVlbGNoYWlyIGFjY2VzcywgYXJyaXZpbmcgZWFybHknKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3IgZm9yIGVtcHR5IENTVicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoJycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHZhbGlkYXRpb24gZXJyb3IgZm9yIENTViB3aXRoIG9ubHkgaGVhZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3N2Q29udGVudCA9IGBncm91cElkLGZpcnN0TmFtZSxsYXN0TmFtZSxlbWFpbCxwaG9uZSxhZ2VUeXBlLGd1ZXN0VHlwZSxkaWV0YXJ5UmVzdHJpY3Rpb25zLHBsdXNPbmVOYW1lLHBsdXNPbmVBdHRlbmRpbmcsYXJyaXZhbERhdGUsZGVwYXJ0dXJlRGF0ZSxhaXJwb3J0Q29kZSxmbGlnaHROdW1iZXIsaW52aXRhdGlvblNlbnQsaW52aXRhdGlvblNlbnREYXRlLHJzdnBEZWFkbGluZSxub3Rlc2A7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoY3N2Q29udGVudCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignYXQgbGVhc3Qgb25lIGRhdGEgcm93Jyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB2YWxpZGF0aW9uIGVycm9yIGZvciBtaXNtYXRjaGVkIGhlYWRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjc3ZDb250ZW50ID0gYGZpcnN0TmFtZSxsYXN0TmFtZSxlbWFpbFxuSm9obixEb2Usam9obkBleGFtcGxlLmNvbWA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoY3N2Q29udGVudCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignaGVhZGVyIG1pc21hdGNoJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiB2YWxpZGF0aW9uIGVycm9yIGZvciBpbnZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjc3ZDb250ZW50ID0gYGdyb3VwSWQsZmlyc3ROYW1lLGxhc3ROYW1lLGVtYWlsLHBob25lLGFnZVR5cGUsZ3Vlc3RUeXBlLGRpZXRhcnlSZXN0cmljdGlvbnMscGx1c09uZU5hbWUscGx1c09uZUF0dGVuZGluZyxhcnJpdmFsRGF0ZSxkZXBhcnR1cmVEYXRlLGFpcnBvcnRDb2RlLGZsaWdodE51bWJlcixpbnZpdGF0aW9uU2VudCxpbnZpdGF0aW9uU2VudERhdGUscnN2cERlYWRsaW5lLG5vdGVzXG5pbnZhbGlkLXV1aWQsSm9obixEb2UsaW52YWxpZC1lbWFpbCwsYWR1bHQsd2VkZGluZ19ndWVzdCwsLGZhbHNlLCwsLCxmYWxzZSwsLGA7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcG9ydEZyb21DU1YoY3N2Q29udGVudCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignZmFpbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNraXAgZW1wdHkgbGluZXMgaW4gQ1NWJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3N2Q29udGVudCA9IGBncm91cElkLGZpcnN0TmFtZSxsYXN0TmFtZSxlbWFpbCxwaG9uZSxhZ2VUeXBlLGd1ZXN0VHlwZSxkaWV0YXJ5UmVzdHJpY3Rpb25zLHBsdXNPbmVOYW1lLHBsdXNPbmVBdHRlbmRpbmcsYXJyaXZhbERhdGUsZGVwYXJ0dXJlRGF0ZSxhaXJwb3J0Q29kZSxmbGlnaHROdW1iZXIsaW52aXRhdGlvblNlbnQsaW52aXRhdGlvblNlbnREYXRlLHJzdnBEZWFkbGluZSxub3Rlc1xuXG4xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEsSm9obixEb2Usam9obkBleGFtcGxlLmNvbSwsYWR1bHQsd2VkZGluZ19ndWVzdCwsLGZhbHNlLCwsLCxmYWxzZSwsLFxuXG5gO1xuXG4gICAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgICAgICAgZ3JvdXBfaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6ICdKb2huJyxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6ICdEb2UnLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWdlX3R5cGU6ICdhZHVsdCcsXG4gICAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgIHBsdXNfb25lX25hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfYXR0ZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhcnJpdmFsX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlX2RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgYWlycG9ydF9jb2RlOiBudWxsLFxuICAgICAgICAgICAgICAgIGZsaWdodF9udW1iZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbnZpdGF0aW9uX3NlbnRfZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByc3ZwX2RlYWRsaW5lOiBudWxsLFxuICAgICAgICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW1wb3J0RnJvbUNTVihjc3ZDb250ZW50KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ1NWIFJvdW5kLVRyaXAnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBkYXRhIHRocm91Z2ggZXhwb3J0IGFuZCBpbXBvcnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbEd1ZXN0czogR3Vlc3RbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgICBncm91cElkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAxJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwaG9uZTogJysxMjM0NTY3ODkwJyxcbiAgICAgICAgICBhZ2VUeXBlOiAnYWR1bHQnLFxuICAgICAgICAgIGd1ZXN0VHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICAgIGRpZXRhcnlSZXN0cmljdGlvbnM6ICdWZWdldGFyaWFuJyxcbiAgICAgICAgICBwbHVzT25lTmFtZTogJ0phbmUgRG9lJyxcbiAgICAgICAgICBwbHVzT25lQXR0ZW5kaW5nOiB0cnVlLFxuICAgICAgICAgIGFycml2YWxEYXRlOiAnMjAyNS0wNi0wMScsXG4gICAgICAgICAgZGVwYXJ0dXJlRGF0ZTogJzIwMjUtMDYtMDUnLFxuICAgICAgICAgIGFpcnBvcnRDb2RlOiAnU0pPJyxcbiAgICAgICAgICBmbGlnaHROdW1iZXI6ICdBQTEyMycsXG4gICAgICAgICAgaW52aXRhdGlvblNlbnQ6IHRydWUsXG4gICAgICAgICAgaW52aXRhdGlvblNlbnREYXRlOiAnMjAyNS0wMS0xNScsXG4gICAgICAgICAgcnN2cERlYWRsaW5lOiAnMjAyNS0wNS0wMScsXG4gICAgICAgICAgbm90ZXM6ICdWSVAgZ3Vlc3QnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICAvLyBFeHBvcnQgdG8gQ1NWXG4gICAgICBjb25zdCBleHBvcnRSZXN1bHQgPSBhd2FpdCBleHBvcnRUb0NTVihvcmlnaW5hbEd1ZXN0cyk7XG4gICAgICBleHBlY3QoZXhwb3J0UmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAoIWV4cG9ydFJlc3VsdC5zdWNjZXNzKSByZXR1cm47XG5cbiAgICAgIC8vIE1vY2sgZGF0YWJhc2UgZm9yIGltcG9ydFxuICAgICAgY29uc3QgeyBzdXBhYmFzZSB9ID0gcmVxdWlyZSgnQC9saWIvc3VwYWJhc2UnKTtcbiAgICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDInLFxuICAgICAgICAgICAgICAgIGdyb3VwX2lkOiBvcmlnaW5hbEd1ZXN0c1swXS5ncm91cElkLFxuICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IG9yaWdpbmFsR3Vlc3RzWzBdLmZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0X25hbWU6IG9yaWdpbmFsR3Vlc3RzWzBdLmxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBvcmlnaW5hbEd1ZXN0c1swXS5lbWFpbCxcbiAgICAgICAgICAgICAgICBwaG9uZTogb3JpZ2luYWxHdWVzdHNbMF0ucGhvbmUsXG4gICAgICAgICAgICAgICAgYWdlX3R5cGU6IG9yaWdpbmFsR3Vlc3RzWzBdLmFnZVR5cGUsXG4gICAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogb3JpZ2luYWxHdWVzdHNbMF0uZ3Vlc3RUeXBlLFxuICAgICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiBvcmlnaW5hbEd1ZXN0c1swXS5kaWV0YXJ5UmVzdHJpY3Rpb25zLFxuICAgICAgICAgICAgICAgIHBsdXNfb25lX25hbWU6IG9yaWdpbmFsR3Vlc3RzWzBdLnBsdXNPbmVOYW1lLFxuICAgICAgICAgICAgICAgIHBsdXNfb25lX2F0dGVuZGluZzogb3JpZ2luYWxHdWVzdHNbMF0ucGx1c09uZUF0dGVuZGluZyxcbiAgICAgICAgICAgICAgICBhcnJpdmFsX2RhdGU6IG9yaWdpbmFsR3Vlc3RzWzBdLmFycml2YWxEYXRlLFxuICAgICAgICAgICAgICAgIGRlcGFydHVyZV9kYXRlOiBvcmlnaW5hbEd1ZXN0c1swXS5kZXBhcnR1cmVEYXRlLFxuICAgICAgICAgICAgICAgIGFpcnBvcnRfY29kZTogb3JpZ2luYWxHdWVzdHNbMF0uYWlycG9ydENvZGUsXG4gICAgICAgICAgICAgICAgZmxpZ2h0X251bWJlcjogb3JpZ2luYWxHdWVzdHNbMF0uZmxpZ2h0TnVtYmVyLFxuICAgICAgICAgICAgICAgIGludml0YXRpb25fc2VudDogb3JpZ2luYWxHdWVzdHNbMF0uaW52aXRhdGlvblNlbnQsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50X2RhdGU6IG9yaWdpbmFsR3Vlc3RzWzBdLmludml0YXRpb25TZW50RGF0ZSxcbiAgICAgICAgICAgICAgICByc3ZwX2RlYWRsaW5lOiBvcmlnaW5hbEd1ZXN0c1swXS5yc3ZwRGVhZGxpbmUsXG4gICAgICAgICAgICAgICAgbm90ZXM6IG9yaWdpbmFsR3Vlc3RzWzBdLm5vdGVzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTI1VDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMjVUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gSW1wb3J0IGZyb20gQ1NWXG4gICAgICBjb25zdCBpbXBvcnRSZXN1bHQgPSBhd2FpdCBpbXBvcnRGcm9tQ1NWKGV4cG9ydFJlc3VsdC5kYXRhKTtcbiAgICAgIGV4cGVjdChpbXBvcnRSZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghaW1wb3J0UmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgLy8gVmVyaWZ5IGRhdGEgaW50ZWdyaXR5IChleGNsdWRpbmcgaWQsIGNyZWF0ZWRBdCwgdXBkYXRlZEF0IHdoaWNoIGFyZSBnZW5lcmF0ZWQpXG4gICAgICBjb25zdCBpbXBvcnRlZCA9IGltcG9ydFJlc3VsdC5kYXRhWzBdO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmdyb3VwSWQpLnRvQmUob3JpZ2luYWxHdWVzdHNbMF0uZ3JvdXBJZCk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuZmlyc3ROYW1lKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmZpcnN0TmFtZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQubGFzdE5hbWUpLnRvQmUob3JpZ2luYWxHdWVzdHNbMF0ubGFzdE5hbWUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmVtYWlsKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmVtYWlsKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5waG9uZSkudG9CZShvcmlnaW5hbEd1ZXN0c1swXS5waG9uZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuYWdlVHlwZSkudG9CZShvcmlnaW5hbEd1ZXN0c1swXS5hZ2VUeXBlKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5ndWVzdFR5cGUpLnRvQmUob3JpZ2luYWxHdWVzdHNbMF0uZ3Vlc3RUeXBlKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5kaWV0YXJ5UmVzdHJpY3Rpb25zKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmRpZXRhcnlSZXN0cmljdGlvbnMpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLnBsdXNPbmVOYW1lKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLnBsdXNPbmVOYW1lKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5wbHVzT25lQXR0ZW5kaW5nKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLnBsdXNPbmVBdHRlbmRpbmcpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmFycml2YWxEYXRlKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmFycml2YWxEYXRlKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5kZXBhcnR1cmVEYXRlKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmRlcGFydHVyZURhdGUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmFpcnBvcnRDb2RlKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmFpcnBvcnRDb2RlKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5mbGlnaHROdW1iZXIpLnRvQmUob3JpZ2luYWxHdWVzdHNbMF0uZmxpZ2h0TnVtYmVyKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5pbnZpdGF0aW9uU2VudCkudG9CZShvcmlnaW5hbEd1ZXN0c1swXS5pbnZpdGF0aW9uU2VudCk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuaW52aXRhdGlvblNlbnREYXRlKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLmludml0YXRpb25TZW50RGF0ZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQucnN2cERlYWRsaW5lKS50b0JlKG9yaWdpbmFsR3Vlc3RzWzBdLnJzdnBEZWFkbGluZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQubm90ZXMpLnRvQmUob3JpZ2luYWxHdWVzdHNbMF0ubm90ZXMpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwic3VwYWJhc2UiLCJmcm9tIiwiZm4iLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJkZXNjcmliZSIsIml0IiwiZ3Vlc3RzIiwiaWQiLCJncm91cElkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBob25lIiwiYWdlVHlwZSIsImd1ZXN0VHlwZSIsImRpZXRhcnlSZXN0cmljdGlvbnMiLCJwbHVzT25lTmFtZSIsInBsdXNPbmVBdHRlbmRpbmciLCJhcnJpdmFsRGF0ZSIsImRlcGFydHVyZURhdGUiLCJhaXJwb3J0Q29kZSIsImZsaWdodE51bWJlciIsImludml0YXRpb25TZW50IiwiaW52aXRhdGlvblNlbnREYXRlIiwicnN2cERlYWRsaW5lIiwibm90ZXMiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJyZXN1bHQiLCJleHBvcnRUb0NTViIsImV4cGVjdCIsInN1Y2Nlc3MiLCJ0b0JlIiwibGluZXMiLCJkYXRhIiwic3BsaXQiLCJsZW5ndGgiLCJ0b0NvbnRhaW4iLCJmaWVsZHMiLCJlcnJvciIsImNvZGUiLCJiZWZvcmVFYWNoIiwicmVxdWlyZSIsIm1vY2tDbGVhciIsImNzdkNvbnRlbnQiLCJtb2NrUmV0dXJuVmFsdWUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImdyb3VwX2lkIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImFnZV90eXBlIiwiZ3Vlc3RfdHlwZSIsImRpZXRhcnlfcmVzdHJpY3Rpb25zIiwicGx1c19vbmVfbmFtZSIsInBsdXNfb25lX2F0dGVuZGluZyIsImFycml2YWxfZGF0ZSIsImRlcGFydHVyZV9kYXRlIiwiYWlycG9ydF9jb2RlIiwiZmxpZ2h0X251bWJlciIsImludml0YXRpb25fc2VudCIsImludml0YXRpb25fc2VudF9kYXRlIiwicnN2cF9kZWFkbGluZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiaW1wb3J0RnJvbUNTViIsInRvSGF2ZUxlbmd0aCIsInRvQmVOdWxsIiwibWVzc2FnZSIsIm9yaWdpbmFsR3Vlc3RzIiwiZXhwb3J0UmVzdWx0IiwiaW1wb3J0UmVzdWx0IiwiaW1wb3J0ZWQiXSwibWFwcGluZ3MiOiI7QUFHQSxnQkFBZ0I7QUFDaEJBLEtBQUtDLElBQUksQ0FBQyxrQkFBa0IsSUFBTyxDQUFBO1FBQ2pDQyxVQUFVO1lBQ1JDLE1BQU1ILEtBQUtJLEVBQUUsQ0FBQyxJQUFPLENBQUE7b0JBQ25CQyxRQUFRTCxLQUFLSSxFQUFFLENBQUMsSUFBTyxDQUFBOzRCQUNyQkUsUUFBUU4sS0FBS0ksRUFBRSxDQUFDLElBQU8sQ0FBQTtvQ0FDckJHLFFBQVFQLEtB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