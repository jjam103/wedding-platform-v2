{"version":3,"names":["createEmailTemplateSchema","cov_bph64da21","f","s","emailWebhookSchema","scheduleEmailSchema","sendBulkEmailSchema","sendEmailSchema","updateEmailTemplateSchema","_zod","z","object","name","string","min","max","subject","body_html","body_text","variables","array","default","partial","to","email","html","text","optional","template_id","uuid","record","recipients","extend","scheduled_at","datetime","email_id","event","enum","timestamp","error_message"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/emailSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Schema for creating an email template.\n * Requirements: 12.1, 12.2\n */\nexport const createEmailTemplateSchema = z.object({\n  name: z.string().min(1).max(100),\n  subject: z.string().min(1).max(200),\n  body_html: z.string().min(1),\n  body_text: z.string().min(1),\n  variables: z.array(z.string()).default([]),\n});\n\n/**\n * Schema for updating an email template.\n */\nexport const updateEmailTemplateSchema = createEmailTemplateSchema.partial();\n\n/**\n * Schema for sending a single email.\n * Requirements: 12.3\n */\nexport const sendEmailSchema = z.object({\n  to: z.string().email(),\n  subject: z.string().min(1).max(200),\n  html: z.string().min(1),\n  text: z.string().optional(),\n  template_id: z.string().uuid().optional(),\n  variables: z.record(z.string(), z.string()).optional(),\n});\n\n/**\n * Schema for sending bulk emails.\n * Requirements: 12.3\n */\nexport const sendBulkEmailSchema = z.object({\n  recipients: z.array(z.string().email()).min(1).max(100),\n  subject: z.string().min(1).max(200),\n  html: z.string().min(1),\n  text: z.string().optional(),\n  template_id: z.string().uuid().optional(),\n  variables: z.record(z.string(), z.string()).optional(),\n});\n\n/**\n * Schema for scheduling an email.\n * Requirements: 12.5\n */\nexport const scheduleEmailSchema = sendEmailSchema.extend({\n  scheduled_at: z.string().datetime(),\n});\n\n/**\n * Schema for webhook delivery status update.\n * Requirements: 12.7\n */\nexport const emailWebhookSchema = z.object({\n  email_id: z.string(),\n  event: z.enum(['delivered', 'bounced', 'failed', 'opened', 'clicked']),\n  timestamp: z.string().datetime(),\n  error_message: z.string().optional(),\n});\n\n/**\n * Type exports derived from schemas.\n */\nexport type CreateEmailTemplateDTO = z.infer<typeof createEmailTemplateSchema>;\nexport type UpdateEmailTemplateDTO = z.infer<typeof updateEmailTemplateSchema>;\nexport type SendEmailDTO = z.infer<typeof sendEmailSchema>;\nexport type SendBulkEmailDTO = z.infer<typeof sendBulkEmailSchema>;\nexport type ScheduleEmailDTO = z.infer<typeof scheduleEmailSchema>;\nexport type EmailWebhookDTO = z.infer<typeof emailWebhookSchema>;\n\n/**\n * Email template entity.\n */\nexport interface EmailTemplate {\n  id: string;\n  name: string;\n  subject: string;\n  body_html: string;\n  body_text: string;\n  variables: string[];\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * Email log entity.\n * Requirements: 12.6, 12.7\n */\nexport interface EmailLog {\n  id: string;\n  template_id?: string;\n  recipient_email: string;\n  subject: string;\n  delivery_status: 'queued' | 'sent' | 'delivered' | 'failed' | 'bounced';\n  sent_at?: string;\n  delivered_at?: string;\n  error_message?: string;\n  created_at: string;\n}\n"],"mappings":"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","ignoreList":[]}