8ae6cbe0ade5b1d3fa960814caf46fb1
/**
 * RSVP Form Component
 * 
 * Allows guests to submit or update their RSVP for activities.
 * Includes validation for deadlines, capacity, and guest counts.
 * 
 * Requirements: 10.1, 10.2, 10.3, 10.4, 10.5, 10.6, 10.7, 10.8, 10.9, 10.10
 */ 'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "RSVPForm", {
    enumerable: true,
    get: function() {
        return RSVPForm;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _zod = require("zod");
const _sanitization = require("../../utils/sanitization");
// RSVP form schema
const rsvpFormSchema = _zod.z.object({
    status: _zod.z.enum([
        'attending',
        'declined',
        'maybe'
    ]),
    guestCount: _zod.z.number().int().positive('Guest count must be positive').optional(),
    dietaryRestrictions: _zod.z.string().max(500, 'Dietary restrictions must be 500 characters or less').optional(),
    plusOne: _zod.z.boolean().optional()
});
function RSVPForm({ activityId, currentRsvp, activityDetails, onSuccess, onCancel }) {
    const [formData, setFormData] = (0, _react.useState)({
        status: currentRsvp?.status === 'pending' ? 'attending' : currentRsvp?.status || 'attending',
        guestCount: currentRsvp?.guestCount || 1,
        dietaryRestrictions: currentRsvp?.dietaryRestrictions || '',
        plusOne: currentRsvp?.plusOne || false
    });
    const [errors, setErrors] = (0, _react.useState)({});
    const [loading, setLoading] = (0, _react.useState)(false);
    const [submitError, setSubmitError] = (0, _react.useState)(null);
    // Check if deadline has passed
    const isDeadlinePassed = activityDetails?.rsvpDeadline ? new Date(activityDetails.rsvpDeadline) < new Date() : false;
    // Check if capacity is full
    const isCapacityFull = activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined ? activityDetails.capacityRemaining <= 0 : false;
    // Check if capacity is almost full (< 10% remaining)
    const isCapacityAlmostFull = activityDetails?.capacity && activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined ? activityDetails.capacityRemaining / activityDetails.capacity < 0.1 : false;
    // Validate form
    const validateForm = ()=>{
        const newErrors = {};
        // Deadline validation
        if (isDeadlinePassed) {
            newErrors.deadline = 'The RSVP deadline for this activity has passed. You can no longer submit or update your RSVP.';
            setErrors(newErrors);
            return false;
        }
        // Capacity validation (only for "attending" status)
        if (formData.status === 'attending') {
            if (isCapacityFull) {
                newErrors.capacity = 'This activity is at full capacity. You cannot RSVP as attending.';
                setErrors(newErrors);
                return false;
            }
            // Guest count validation
            if (!formData.guestCount || formData.guestCount < 1) {
                newErrors.guestCount = 'Guest count must be at least 1 when attending.';
            }
            // Check if guest count exceeds remaining capacity
            if (activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined) {
                const requestedCount = formData.guestCount || 1;
                if (requestedCount > activityDetails.capacityRemaining) {
                    newErrors.guestCount = `Only ${activityDetails.capacityRemaining} spot(s) remaining. Please reduce your guest count.`;
                }
            }
        }
        // Zod validation
        const validation = rsvpFormSchema.safeParse(formData);
        if (!validation.success) {
            validation.error.issues.forEach((issue)=>{
                if (issue.path[0]) {
                    newErrors[issue.path[0].toString()] = issue.message;
                }
            });
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    // Handle form submission
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setSubmitError(null);
        if (!validateForm()) {
            return;
        }
        setLoading(true);
        try {
            // Sanitize input
            const sanitizedData = {
                ...formData,
                dietaryRestrictions: formData.dietaryRestrictions ? (0, _sanitization.sanitizeInput)(formData.dietaryRestrictions) : undefined
            };
            // Determine API endpoint
            const url = currentRsvp ? `/api/guest/rsvps/${currentRsvp.id}` : `/api/guest/rsvps`;
            const method = currentRsvp ? 'PUT' : 'POST';
            const body = currentRsvp ? sanitizedData : {
                ...sanitizedData,
                activityId
            };
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(body)
            });
            const result = await response.json();
            if (!result.success) {
                throw new Error(result.error?.message || 'Failed to submit RSVP');
            }
            // Show success message (could use toast here)
            onSuccess();
        } catch (error) {
            setSubmitError(error instanceof Error ? error.message : 'An error occurred while submitting your RSVP');
        } finally{
            setLoading(false);
        }
    };
    // Handle status change
    const handleStatusChange = (status)=>{
        setFormData({
            ...formData,
            status
        });
        setErrors({});
    };
    // Handle guest count change
    const handleGuestCountChange = (count)=>{
        setFormData({
            ...formData,
            guestCount: count
        });
        setErrors({
            ...errors,
            guestCount: ''
        });
    };
    // Handle dietary restrictions change
    const handleDietaryRestrictionsChange = (value)=>{
        setFormData({
            ...formData,
            dietaryRestrictions: value
        });
        setErrors({
            ...errors,
            dietaryRestrictions: ''
        });
    };
    // Handle plus-one change
    const handlePlusOneChange = (checked)=>{
        setFormData({
            ...formData,
            plusOne: checked
        });
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
        onSubmit: handleSubmit,
        className: "space-y-6",
        children: [
            isDeadlinePassed && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-red-800 font-medium",
                    children: "⚠️ The RSVP deadline for this activity has passed. You can no longer submit or update your RSVP."
                })
            }),
            !isDeadlinePassed && isCapacityAlmostFull && !isCapacityFull && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                    className: "text-sm text-yellow-800 font-medium",
                    children: [
                        "⚠️ This activity is almost full! Only ",
                        activityDetails?.capacityRemaining,
                        " spot(s) remaining."
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "RSVP Status *"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "grid grid-cols-3 gap-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('attending'),
                                disabled: isDeadlinePassed || isCapacityFull && formData.status !== 'attending',
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'attending' ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-300 bg-white text-gray-700 hover:border-green-300'} ${isDeadlinePassed || isCapacityFull && formData.status !== 'attending' ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Attending"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('maybe'),
                                disabled: isDeadlinePassed,
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'maybe' ? 'border-yellow-500 bg-yellow-50 text-yellow-700' : 'border-gray-300 bg-white text-gray-700 hover:border-yellow-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Maybe"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                type: "button",
                                onClick: ()=>handleStatusChange('declined'),
                                disabled: isDeadlinePassed,
                                className: `px-4 py-3 rounded-lg border-2 font-medium transition-colors ${formData.status === 'declined' ? 'border-red-500 bg-red-50 text-red-700' : 'border-gray-300 bg-white text-gray-700 hover:border-red-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`,
                                children: "Declined"
                            })
                        ]
                    }),
                    errors.capacity && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-2 text-sm text-red-600",
                        children: errors.capacity
                    })
                ]
            }),
            formData.status === 'attending' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "guestCount",
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "Number of Guests *"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "number",
                        id: "guestCount",
                        min: "1",
                        value: formData.guestCount || 1,
                        onChange: (e)=>handleGuestCountChange(parseInt(e.target.value, 10)),
                        disabled: isDeadlinePassed,
                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 ${errors.guestCount ? 'border-red-500' : 'border-gray-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`
                    }),
                    errors.guestCount && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-1 text-sm text-red-600",
                        children: errors.guestCount
                    }),
                    activityDetails?.capacityRemaining !== null && activityDetails?.capacityRemaining !== undefined && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        className: "mt-1 text-sm text-gray-600",
                        children: [
                            activityDetails.capacityRemaining,
                            " spot(s) remaining"
                        ]
                    })
                ]
            }),
            formData.status === 'attending' && activityDetails?.isMeal && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "dietaryRestrictions",
                        className: "block text-sm font-medium text-gray-700 mb-2",
                        children: "Dietary Restrictions"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                        id: "dietaryRestrictions",
                        rows: 3,
                        value: formData.dietaryRestrictions || '',
                        onChange: (e)=>handleDietaryRestrictionsChange(e.target.value),
                        disabled: isDeadlinePassed,
                        placeholder: "Please let us know about any dietary restrictions or allergies...",
                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 ${errors.dietaryRestrictions ? 'border-red-500' : 'border-gray-300'} ${isDeadlinePassed ? 'opacity-50 cursor-not-allowed' : ''}`
                    }),
                    errors.dietaryRestrictions && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-1 text-sm text-red-600",
                        children: errors.dietaryRestrictions
                    })
                ]
            }),
            formData.status === 'attending' && activityDetails?.allowsPlusOnes && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        type: "checkbox",
                        id: "plusOne",
                        checked: formData.plusOne || false,
                        onChange: (e)=>handlePlusOneChange(e.target.checked),
                        disabled: isDeadlinePassed,
                        className: "h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                        htmlFor: "plusOne",
                        className: "ml-2 block text-sm text-gray-700",
                        children: "I will be bringing a plus-one"
                    })
                ]
            }),
            submitError && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-red-800",
                    children: submitError
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-end gap-3 pt-4 border-t border-gray-200",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: onCancel,
                        disabled: loading,
                        className: "px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",
                        children: "Cancel"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        type: "submit",
                        disabled: loading || isDeadlinePassed || Object.keys(errors).length > 0,
                        className: "px-4 py-2 text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",
                        children: [
                            loading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("svg", {
                                className: "animate-spin h-4 w-4 text-white",
                                xmlns: "http://www.w3.org/2000/svg",
                                fill: "none",
                                viewBox: "0 0 24 24",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                        className: "opacity-25",
                                        cx: "12",
                                        cy: "12",
                                        r: "10",
                                        stroke: "currentColor",
                                        strokeWidth: "4"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        className: "opacity-75",
                                        fill: "currentColor",
                                        d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                                    })
                                ]
                            }),
                            loading ? 'Submitting...' : currentRsvp ? 'Update RSVP' : 'Submit RSVP'
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9SU1ZQRm9ybS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSU1ZQIEZvcm0gQ29tcG9uZW50XG4gKiBcbiAqIEFsbG93cyBndWVzdHMgdG8gc3VibWl0IG9yIHVwZGF0ZSB0aGVpciBSU1ZQIGZvciBhY3Rpdml0aWVzLlxuICogSW5jbHVkZXMgdmFsaWRhdGlvbiBmb3IgZGVhZGxpbmVzLCBjYXBhY2l0eSwgYW5kIGd1ZXN0IGNvdW50cy5cbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxMC4xLCAxMC4yLCAxMC4zLCAxMC40LCAxMC41LCAxMC42LCAxMC43LCAxMC44LCAxMC45LCAxMC4xMFxuICovXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgc2FuaXRpemVJbnB1dCB9IGZyb20gJ0AvdXRpbHMvc2FuaXRpemF0aW9uJztcbmltcG9ydCB0eXBlIHsgUlNWUCB9IGZyb20gJ0AvdHlwZXMnO1xuXG4vLyBSU1ZQIGZvcm0gc2NoZW1hXG5jb25zdCByc3ZwRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc3RhdHVzOiB6LmVudW0oWydhdHRlbmRpbmcnLCAnZGVjbGluZWQnLCAnbWF5YmUnXSksXG4gIGd1ZXN0Q291bnQ6IHoubnVtYmVyKCkuaW50KCkucG9zaXRpdmUoJ0d1ZXN0IGNvdW50IG11c3QgYmUgcG9zaXRpdmUnKS5vcHRpb25hbCgpLFxuICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiB6LnN0cmluZygpLm1heCg1MDAsICdEaWV0YXJ5IHJlc3RyaWN0aW9ucyBtdXN0IGJlIDUwMCBjaGFyYWN0ZXJzIG9yIGxlc3MnKS5vcHRpb25hbCgpLFxuICBwbHVzT25lOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxufSk7XG5cbnR5cGUgUlNWUEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgcnN2cEZvcm1TY2hlbWE+O1xuXG5pbnRlcmZhY2UgUlNWUEZvcm1Qcm9wcyB7XG4gIGFjdGl2aXR5SWQ6IHN0cmluZztcbiAgY3VycmVudFJzdnA/OiBSU1ZQO1xuICBhY3Rpdml0eURldGFpbHM/OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNhcGFjaXR5OiBudW1iZXIgfCBudWxsO1xuICAgIGNhcGFjaXR5UmVtYWluaW5nOiBudW1iZXIgfCBudWxsO1xuICAgIHJzdnBEZWFkbGluZTogc3RyaW5nIHwgbnVsbDtcbiAgICBhbGxvd3NQbHVzT25lczogYm9vbGVhbjtcbiAgICBpc01lYWw6IGJvb2xlYW47XG4gIH07XG4gIG9uU3VjY2VzczogKCkgPT4gdm9pZDtcbiAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSU1ZQRm9ybSh7XG4gIGFjdGl2aXR5SWQsXG4gIGN1cnJlbnRSc3ZwLFxuICBhY3Rpdml0eURldGFpbHMsXG4gIG9uU3VjY2VzcyxcbiAgb25DYW5jZWwsXG59OiBSU1ZQRm9ybVByb3BzKSB7XG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGU8UlNWUEZvcm1EYXRhPih7XG4gICAgc3RhdHVzOiBjdXJyZW50UnN2cD8uc3RhdHVzID09PSAncGVuZGluZycgPyAnYXR0ZW5kaW5nJyA6IChjdXJyZW50UnN2cD8uc3RhdHVzIGFzIGFueSkgfHwgJ2F0dGVuZGluZycsXG4gICAgZ3Vlc3RDb3VudDogY3VycmVudFJzdnA/Lmd1ZXN0Q291bnQgfHwgMSxcbiAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiBjdXJyZW50UnN2cD8uZGlldGFyeVJlc3RyaWN0aW9ucyB8fCAnJyxcbiAgICBwbHVzT25lOiBjdXJyZW50UnN2cD8ucGx1c09uZSB8fCBmYWxzZSxcbiAgfSk7XG5cbiAgY29uc3QgW2Vycm9ycywgc2V0RXJyb3JzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc3VibWl0RXJyb3IsIHNldFN1Ym1pdEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIENoZWNrIGlmIGRlYWRsaW5lIGhhcyBwYXNzZWRcbiAgY29uc3QgaXNEZWFkbGluZVBhc3NlZCA9IGFjdGl2aXR5RGV0YWlscz8ucnN2cERlYWRsaW5lXG4gICAgPyBuZXcgRGF0ZShhY3Rpdml0eURldGFpbHMucnN2cERlYWRsaW5lKSA8IG5ldyBEYXRlKClcbiAgICA6IGZhbHNlO1xuXG4gIC8vIENoZWNrIGlmIGNhcGFjaXR5IGlzIGZ1bGxcbiAgY29uc3QgaXNDYXBhY2l0eUZ1bGwgPSBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSBudWxsICYmIGFjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHlSZW1haW5pbmcgIT09IHVuZGVmaW5lZFxuICAgID8gYWN0aXZpdHlEZXRhaWxzLmNhcGFjaXR5UmVtYWluaW5nIDw9IDBcbiAgICA6IGZhbHNlO1xuXG4gIC8vIENoZWNrIGlmIGNhcGFjaXR5IGlzIGFsbW9zdCBmdWxsICg8IDEwJSByZW1haW5pbmcpXG4gIGNvbnN0IGlzQ2FwYWNpdHlBbG1vc3RGdWxsID0gYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eSAmJiBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSBudWxsICYmIGFjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHlSZW1haW5pbmcgIT09IHVuZGVmaW5lZFxuICAgID8gKGFjdGl2aXR5RGV0YWlscy5jYXBhY2l0eVJlbWFpbmluZyAvIGFjdGl2aXR5RGV0YWlscy5jYXBhY2l0eSkgPCAwLjFcbiAgICA6IGZhbHNlO1xuXG4gIC8vIFZhbGlkYXRlIGZvcm1cbiAgY29uc3QgdmFsaWRhdGVGb3JtID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IG5ld0Vycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG4gICAgLy8gRGVhZGxpbmUgdmFsaWRhdGlvblxuICAgIGlmIChpc0RlYWRsaW5lUGFzc2VkKSB7XG4gICAgICBuZXdFcnJvcnMuZGVhZGxpbmUgPSAnVGhlIFJTVlAgZGVhZGxpbmUgZm9yIHRoaXMgYWN0aXZpdHkgaGFzIHBhc3NlZC4gWW91IGNhbiBubyBsb25nZXIgc3VibWl0IG9yIHVwZGF0ZSB5b3VyIFJTVlAuJztcbiAgICAgIHNldEVycm9ycyhuZXdFcnJvcnMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENhcGFjaXR5IHZhbGlkYXRpb24gKG9ubHkgZm9yIFwiYXR0ZW5kaW5nXCIgc3RhdHVzKVxuICAgIGlmIChmb3JtRGF0YS5zdGF0dXMgPT09ICdhdHRlbmRpbmcnKSB7XG4gICAgICBpZiAoaXNDYXBhY2l0eUZ1bGwpIHtcbiAgICAgICAgbmV3RXJyb3JzLmNhcGFjaXR5ID0gJ1RoaXMgYWN0aXZpdHkgaXMgYXQgZnVsbCBjYXBhY2l0eS4gWW91IGNhbm5vdCBSU1ZQIGFzIGF0dGVuZGluZy4nO1xuICAgICAgICBzZXRFcnJvcnMobmV3RXJyb3JzKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBHdWVzdCBjb3VudCB2YWxpZGF0aW9uXG4gICAgICBpZiAoIWZvcm1EYXRhLmd1ZXN0Q291bnQgfHwgZm9ybURhdGEuZ3Vlc3RDb3VudCA8IDEpIHtcbiAgICAgICAgbmV3RXJyb3JzLmd1ZXN0Q291bnQgPSAnR3Vlc3QgY291bnQgbXVzdCBiZSBhdCBsZWFzdCAxIHdoZW4gYXR0ZW5kaW5nLic7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGd1ZXN0IGNvdW50IGV4Y2VlZHMgcmVtYWluaW5nIGNhcGFjaXR5XG4gICAgICBpZiAoYWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gbnVsbCAmJiBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ291bnQgPSBmb3JtRGF0YS5ndWVzdENvdW50IHx8IDE7XG4gICAgICAgIGlmIChyZXF1ZXN0ZWRDb3VudCA+IGFjdGl2aXR5RGV0YWlscy5jYXBhY2l0eVJlbWFpbmluZykge1xuICAgICAgICAgIG5ld0Vycm9ycy5ndWVzdENvdW50ID0gYE9ubHkgJHthY3Rpdml0eURldGFpbHMuY2FwYWNpdHlSZW1haW5pbmd9IHNwb3QocykgcmVtYWluaW5nLiBQbGVhc2UgcmVkdWNlIHlvdXIgZ3Vlc3QgY291bnQuYDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFpvZCB2YWxpZGF0aW9uXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHJzdnBGb3JtU2NoZW1hLnNhZmVQYXJzZShmb3JtRGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHZhbGlkYXRpb24uZXJyb3IuaXNzdWVzLmZvckVhY2goKGlzc3VlKSA9PiB7XG4gICAgICAgIGlmIChpc3N1ZS5wYXRoWzBdKSB7XG4gICAgICAgICAgbmV3RXJyb3JzW2lzc3VlLnBhdGhbMF0udG9TdHJpbmcoKV0gPSBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRFcnJvcnMobmV3RXJyb3JzKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobmV3RXJyb3JzKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGZvcm0gc3VibWlzc2lvblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZTogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHNldFN1Ym1pdEVycm9yKG51bGwpO1xuXG4gICAgaWYgKCF2YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gU2FuaXRpemUgaW5wdXRcbiAgICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSB7XG4gICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiBmb3JtRGF0YS5kaWV0YXJ5UmVzdHJpY3Rpb25zXG4gICAgICAgICAgPyBzYW5pdGl6ZUlucHV0KGZvcm1EYXRhLmRpZXRhcnlSZXN0cmljdGlvbnMpXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlcm1pbmUgQVBJIGVuZHBvaW50XG4gICAgICBjb25zdCB1cmwgPSBjdXJyZW50UnN2cFxuICAgICAgICA/IGAvYXBpL2d1ZXN0L3JzdnBzLyR7Y3VycmVudFJzdnAuaWR9YFxuICAgICAgICA6IGAvYXBpL2d1ZXN0L3JzdnBzYDtcblxuICAgICAgY29uc3QgbWV0aG9kID0gY3VycmVudFJzdnAgPyAnUFVUJyA6ICdQT1NUJztcblxuICAgICAgY29uc3QgYm9keSA9IGN1cnJlbnRSc3ZwXG4gICAgICAgID8gc2FuaXRpemVkRGF0YVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLnNhbml0aXplZERhdGEsXG4gICAgICAgICAgICBhY3Rpdml0eUlkLFxuICAgICAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3VibWl0IFJTVlAnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2UgKGNvdWxkIHVzZSB0b2FzdCBoZXJlKVxuICAgICAgb25TdWNjZXNzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldFN1Ym1pdEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHN1Ym1pdHRpbmcgeW91ciBSU1ZQJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgc3RhdHVzIGNoYW5nZVxuICBjb25zdCBoYW5kbGVTdGF0dXNDaGFuZ2UgPSAoc3RhdHVzOiAnYXR0ZW5kaW5nJyB8ICdkZWNsaW5lZCcgfCAnbWF5YmUnKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgc3RhdHVzIH0pO1xuICAgIHNldEVycm9ycyh7fSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGd1ZXN0IGNvdW50IGNoYW5nZVxuICBjb25zdCBoYW5kbGVHdWVzdENvdW50Q2hhbmdlID0gKGNvdW50OiBudW1iZXIpID0+IHtcbiAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBndWVzdENvdW50OiBjb3VudCB9KTtcbiAgICBzZXRFcnJvcnMoeyAuLi5lcnJvcnMsIGd1ZXN0Q291bnQ6ICcnIH0pO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBkaWV0YXJ5IHJlc3RyaWN0aW9ucyBjaGFuZ2VcbiAgY29uc3QgaGFuZGxlRGlldGFyeVJlc3RyaWN0aW9uc0NoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoeyAuLi5mb3JtRGF0YSwgZGlldGFyeVJlc3RyaWN0aW9uczogdmFsdWUgfSk7XG4gICAgc2V0RXJyb3JzKHsgLi4uZXJyb3JzLCBkaWV0YXJ5UmVzdHJpY3Rpb25zOiAnJyB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgcGx1cy1vbmUgY2hhbmdlXG4gIGNvbnN0IGhhbmRsZVBsdXNPbmVDaGFuZ2UgPSAoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIHBsdXNPbmU6IGNoZWNrZWQgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBEZWFkbGluZSBXYXJuaW5nICovfVxuICAgICAge2lzRGVhZGxpbmVQYXNzZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTgwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAg4pqg77iPIFRoZSBSU1ZQIGRlYWRsaW5lIGZvciB0aGlzIGFjdGl2aXR5IGhhcyBwYXNzZWQuIFlvdSBjYW4gbm8gbG9uZ2VyIHN1Ym1pdCBvciB1cGRhdGUgeW91ciBSU1ZQLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogQ2FwYWNpdHkgV2FybmluZyAqL31cbiAgICAgIHshaXNEZWFkbGluZVBhc3NlZCAmJiBpc0NhcGFjaXR5QWxtb3N0RnVsbCAmJiAhaXNDYXBhY2l0eUZ1bGwgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQteWVsbG93LTgwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAg4pqg77iPIFRoaXMgYWN0aXZpdHkgaXMgYWxtb3N0IGZ1bGwhIE9ubHkge2FjdGl2aXR5RGV0YWlscz8uY2FwYWNpdHlSZW1haW5pbmd9IHNwb3QocykgcmVtYWluaW5nLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogU3RhdHVzIFNlbGVjdGlvbiAqL31cbiAgICAgIDxkaXY+XG4gICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgIFJTVlAgU3RhdHVzICpcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0zIGdhcC0zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ2F0dGVuZGluZycpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGVhZGxpbmVQYXNzZWQgfHwgKGlzQ2FwYWNpdHlGdWxsICYmIGZvcm1EYXRhLnN0YXR1cyAhPT0gJ2F0dGVuZGluZycpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0zIHJvdW5kZWQtbGcgYm9yZGVyLTIgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgZm9ybURhdGEuc3RhdHVzID09PSAnYXR0ZW5kaW5nJ1xuICAgICAgICAgICAgICAgID8gJ2JvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAgdGV4dC1ncmVlbi03MDAnXG4gICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMzAwIGJnLXdoaXRlIHRleHQtZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyZWVuLTMwMCdcbiAgICAgICAgICAgIH0gJHtcbiAgICAgICAgICAgICAgKGlzRGVhZGxpbmVQYXNzZWQgfHwgKGlzQ2FwYWNpdHlGdWxsICYmIGZvcm1EYXRhLnN0YXR1cyAhPT0gJ2F0dGVuZGluZycpKVxuICAgICAgICAgICAgICAgID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEF0dGVuZGluZ1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdtYXliZScpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGVhZGxpbmVQYXNzZWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTMgcm91bmRlZC1sZyBib3JkZXItMiBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBmb3JtRGF0YS5zdGF0dXMgPT09ICdtYXliZSdcbiAgICAgICAgICAgICAgICA/ICdib3JkZXIteWVsbG93LTUwMCBiZy15ZWxsb3ctNTAgdGV4dC15ZWxsb3ctNzAwJ1xuICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCBiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJvcmRlci15ZWxsb3ctMzAwJ1xuICAgICAgICAgICAgfSAke2lzRGVhZGxpbmVQYXNzZWQgPyAnb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWQnIDogJyd9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBNYXliZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdkZWNsaW5lZCcpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGVhZGxpbmVQYXNzZWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTMgcm91bmRlZC1sZyBib3JkZXItMiBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBmb3JtRGF0YS5zdGF0dXMgPT09ICdkZWNsaW5lZCdcbiAgICAgICAgICAgICAgICA/ICdib3JkZXItcmVkLTUwMCBiZy1yZWQtNTAgdGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCBiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJvcmRlci1yZWQtMzAwJ1xuICAgICAgICAgICAgfSAke2lzRGVhZGxpbmVQYXNzZWQgPyAnb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWQnIDogJyd9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBEZWNsaW5lZFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2Vycm9ycy5jYXBhY2l0eSAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJvcnMuY2FwYWNpdHl9PC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBHdWVzdCBDb3VudCAob25seSBmb3IgYXR0ZW5kaW5nKSAqL31cbiAgICAgIHtmb3JtRGF0YS5zdGF0dXMgPT09ICdhdHRlbmRpbmcnICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImd1ZXN0Q291bnRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgTnVtYmVyIG9mIEd1ZXN0cyAqXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgaWQ9XCJndWVzdENvdW50XCJcbiAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmd1ZXN0Q291bnQgfHwgMX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlR3Vlc3RDb3VudENoYW5nZShwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB4LTMgcHktMiBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1lbWVyYWxkLTUwMCBmb2N1czpib3JkZXItZW1lcmFsZC01MDAgJHtcbiAgICAgICAgICAgICAgZXJyb3JzLmd1ZXN0Q291bnQgPyAnYm9yZGVyLXJlZC01MDAnIDogJ2JvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgIH0gJHtpc0RlYWRsaW5lUGFzc2VkID8gJ29wYWNpdHktNTAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICcnfWB9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7ZXJyb3JzLmd1ZXN0Q291bnQgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJvcnMuZ3Vlc3RDb3VudH08L3A+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7YWN0aXZpdHlEZXRhaWxzPy5jYXBhY2l0eVJlbWFpbmluZyAhPT0gbnVsbCAmJiBhY3Rpdml0eURldGFpbHM/LmNhcGFjaXR5UmVtYWluaW5nICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAge2FjdGl2aXR5RGV0YWlscy5jYXBhY2l0eVJlbWFpbmluZ30gc3BvdChzKSByZW1haW5pbmdcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBEaWV0YXJ5IFJlc3RyaWN0aW9ucyAob25seSBmb3IgbWVhbHMgYW5kIGF0dGVuZGluZykgKi99XG4gICAgICB7Zm9ybURhdGEuc3RhdHVzID09PSAnYXR0ZW5kaW5nJyAmJiBhY3Rpdml0eURldGFpbHM/LmlzTWVhbCAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJkaWV0YXJ5UmVzdHJpY3Rpb25zXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgIERpZXRhcnkgUmVzdHJpY3Rpb25zXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIGlkPVwiZGlldGFyeVJlc3RyaWN0aW9uc1wiXG4gICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmRpZXRhcnlSZXN0cmljdGlvbnMgfHwgJyd9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZURpZXRhcnlSZXN0cmljdGlvbnNDaGFuZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGVhZGxpbmVQYXNzZWR9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBsZWFzZSBsZXQgdXMga25vdyBhYm91dCBhbnkgZGlldGFyeSByZXN0cmljdGlvbnMgb3IgYWxsZXJnaWVzLi4uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBweC0zIHB5LTIgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctZW1lcmFsZC01MDAgZm9jdXM6Ym9yZGVyLWVtZXJhbGQtNTAwICR7XG4gICAgICAgICAgICAgIGVycm9ycy5kaWV0YXJ5UmVzdHJpY3Rpb25zID8gJ2JvcmRlci1yZWQtNTAwJyA6ICdib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICB9ICR7aXNEZWFkbGluZVBhc3NlZCA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnJ31gfVxuICAgICAgICAgIC8+XG4gICAgICAgICAge2Vycm9ycy5kaWV0YXJ5UmVzdHJpY3Rpb25zICYmIChcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXJlZC02MDBcIj57ZXJyb3JzLmRpZXRhcnlSZXN0cmljdGlvbnN9PC9wPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFBsdXMtT25lIChpZiBhbGxvd2VkIGFuZCBhdHRlbmRpbmcpICovfVxuICAgICAge2Zvcm1EYXRhLnN0YXR1cyA9PT0gJ2F0dGVuZGluZycgJiYgYWN0aXZpdHlEZXRhaWxzPy5hbGxvd3NQbHVzT25lcyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBpZD1cInBsdXNPbmVcIlxuICAgICAgICAgICAgY2hlY2tlZD17Zm9ybURhdGEucGx1c09uZSB8fCBmYWxzZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlUGx1c09uZUNoYW5nZShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0RlYWRsaW5lUGFzc2VkfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWVtZXJhbGQtNjAwIGZvY3VzOnJpbmctZW1lcmFsZC01MDAgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWRcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwbHVzT25lXCIgY2xhc3NOYW1lPVwibWwtMiBibG9jayB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgIEkgd2lsbCBiZSBicmluZ2luZyBhIHBsdXMtb25lXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogU3VibWl0IEVycm9yICovfVxuICAgICAge3N1Ym1pdEVycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC04MDBcIj57c3VibWl0RXJyb3J9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBGb3JtIEFjdGlvbnMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0zIHB0LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC1ncmF5LTcwMCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JheS01MCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgID5cbiAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZyB8fCBpc0RlYWRsaW5lUGFzc2VkIHx8IE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgdGV4dC13aGl0ZSBiZy1lbWVyYWxkLTYwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWVtZXJhbGQtNzAwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNCB3LTQgdGV4dC13aGl0ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzc05hbWU9XCJvcGFjaXR5LTI1XCIgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMTBcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICAgICAgPHBhdGggY2xhc3NOYW1lPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQgMTJhOCA4IDAgMDE4LThWMEM1LjM3MyAwIDAgNS4zNzMgMCAxMmg0em0yIDUuMjkxQTcuOTYyIDcuOTYyIDAgMDE0IDEySDBjMCAzLjA0MiAxLjEzNSA1LjgyNCAzIDcuOTM4bDMtMi42NDd6XCI+PC9wYXRoPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7bG9hZGluZyA/ICdTdWJtaXR0aW5nLi4uJyA6IGN1cnJlbnRSc3ZwID8gJ1VwZGF0ZSBSU1ZQJyA6ICdTdWJtaXQgUlNWUCd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJTVlBGb3JtIiwicnN2cEZvcm1TY2hlbWEiLCJ6Iiwib2JqZWN0Iiwic3RhdHVzIiwiZW51bSIsImd1ZXN0Q291bnQiLCJudW1iZXIiLCJpbnQiLCJwb3NpdGl2ZSIsIm9wdGlvbmFsIiwiZGlldGFyeVJlc3RyaWN0aW9ucyIsInN0cmluZyIsIm1heCIsInBsdXNPbmUiLCJib29sZWFuIiwiYWN0aXZpdHlJZCIsImN1cnJlbnRSc3ZwIiwiYWN0aXZpdHlEZXRhaWxzIiwib25TdWNjZXNzIiwib25DYW5jZWwiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwidXNlU3RhdGUiLCJlcnJvcnMiLCJzZXRFcnJvcnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInN1Ym1pdEVycm9yIiwic2V0U3VibWl0RXJyb3IiLCJpc0RlYWRsaW5lUGFzc2VkIiwicnN2cERlYWRsaW5lIiwiRGF0ZSIsImlzQ2FwYWNpdHlGdWxsIiwiY2FwYWNpdHlSZW1haW5pbmciLCJ1bmRlZmluZWQiLCJpc0NhcGFjaXR5QWxtb3N0RnVsbCIsImNhcGFjaXR5IiwidmFsaWRhdGVGb3JtIiwibmV3RXJyb3JzIiwiZGVhZGxpbmUiLCJyZXF1ZXN0ZWRDb3VudCIsInZhbGlkYXRpb24iLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJpc3N1ZXMiLCJmb3JFYWNoIiwiaXNzdWUiLCJwYXRoIiwidG9TdHJpbmciLCJtZXNzYWdlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNhbml0aXplZERhdGEiLCJzYW5pdGl6ZUlucHV0IiwidXJsIiwiaWQiLCJtZXRob2QiLCJib2R5IiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwianNvbiIsIkVycm9yIiwiaGFuZGxlU3RhdHVzQ2hhbmdlIiwiaGFuZGxlR3Vlc3RDb3VudENoYW5nZSIsImNvdW50IiwiaGFuZGxlRGlldGFyeVJlc3RyaWN0aW9uc0NoYW5nZSIsInZhbHVlIiwiaGFuZGxlUGx1c09uZUNoYW5nZSIsImNoZWNrZWQiLCJmb3JtIiwib25TdWJtaXQiLCJjbGFzc05hbWUiLCJkaXYiLCJwIiwibGFiZWwiLCJidXR0b24iLCJ0eXBlIiwib25DbGljayIsImRpc2FibGVkIiwiaHRtbEZvciIsImlucHV0IiwibWluIiwib25DaGFuZ2UiLCJwYXJzZUludCIsInRhcmdldCIsImlzTWVhbCIsInRleHRhcmVhIiwicm93cyIsInBsYWNlaG9sZGVyIiwiYWxsb3dzUGx1c09uZXMiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94IiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0NBT0MsR0FFRDs7Ozs7K0JBZ0NnQkE7OztlQUFBQTs7Ozt1QkE5Qm9CO3FCQUNsQjs4QkFDWTtBQUc5QixtQkFBbUI7QUFDbkIsTUFBTUMsaUJBQWlCQyxNQUFDLENBQUNDLE1BQU0sQ0FBQztJQUM5QkMsUUFBUUYsTUFBQyxDQUFDRyxJQUFJLENBQUM7UUFBQztRQUFhO1FBQVk7S0FBUTtJQUNqREMsWUFBWUosTUFBQyxDQUFDSyxNQUFNLEdBQUdDLEdBQUcsR0FBR0MsUUFBUSxDQUFDLGdDQUFnQ0MsUUFBUTtJQUM5RUMscUJBQXFCVCxNQUFDLENBQUNVLE1BQU0sR0FBR0MsR0FBRyxDQUFDLEtBQUssdURBQXVESCxRQUFRO0lBQ3hHSSxTQUFTWixNQUFDLENBQUNhLE9BQU8sR0FBR0wsUUFBUTtBQUMvQjtBQW1CTyxTQUFTVixTQUFTLEVBQ3ZCZ0IsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGVBQWUsRUFDZkMsU0FBUyxFQUNUQyxRQUFRLEVBQ007SUFDZCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR0MsSUFBQUEsZUFBUSxFQUFlO1FBQ3JEbkIsUUFBUWEsYUFBYWIsV0FBVyxZQUFZLGNBQWMsQUFBQ2EsYUFBYWIsVUFBa0I7UUFDMUZFLFlBQVlXLGFBQWFYLGNBQWM7UUFDdkNLLHFCQUFxQk0sYUFBYU4sdUJBQXVCO1FBQ3pERyxTQUFTRyxhQUFhSCxXQUFXO0lBQ25DO0lBRUEsTUFBTSxDQUFDVSxRQUFRQyxVQUFVLEdBQUdGLElBQUFBLGVBQVEsRUFBeUIsQ0FBQztJ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