{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/services/aiContentSchemaValidation.property.test.ts"],"sourcesContent":["import * as fc from 'fast-check';\nimport { validateExtractedContent, type ContentType } from './aiContentService';\n\n/**\n * Feature: destination-wedding-platform, Property 26: AI Content Schema Validation\n * \n * For any content extracted by the AI import system from a URL, the extracted data\n * should pass Zod schema validation for the target entity type (activity, accommodation, vendor)\n * before being imported.\n * \n * Validates: Requirements 21.3\n */\n\n// Arbitraries for generating valid content data\n\n// Helper to generate realistic text strings (never whitespace-only)\nconst realisticString = (minLength: number, maxLength: number) =>\n  fc.lorem({ maxCount: 20 }).map(s => {\n    const trimmed = s.trim().substring(0, maxLength);\n    // Ensure we have at least minLength non-whitespace characters\n    if (trimmed.length >= minLength && trimmed.trim().length > 0) {\n      return trimmed;\n    }\n    // Fallback: generate a string with actual content\n    return 'Sample Text '.repeat(Math.ceil(minLength / 12)).substring(0, Math.max(minLength, 10));\n  });\n\nconst validActivityArbitrary = fc.record({\n  name: realisticString(2, 100),\n  description: fc.option(fc.lorem({ maxCount: 200 }).map(s => s.substring(0, 2000)), { nil: null }),\n  activityType: realisticString(2, 50),\n  startTime: fc.date({ min: new Date('2025-01-01'), max: new Date('2026-12-31') }).map(d => d.toISOString()),\n  endTime: fc.option(\n    fc.date({ min: new Date('2025-01-02'), max: new Date('2026-12-31') }).map(d => d.toISOString()),\n    { nil: null }\n  ),\n  capacity: fc.option(fc.integer({ min: 1, max: 500 }), { nil: null }),\n  costPerPerson: fc.option(fc.float({ min: 0, max: 10000, noNaN: true }), { nil: null }),\n  hostSubsidy: fc.option(fc.float({ min: 0, max: 5000, noNaN: true }), { nil: null }),\n  adultsOnly: fc.option(fc.boolean(), { nil: undefined }),\n  plusOneAllowed: fc.option(fc.boolean(), { nil: undefined }),\n  visibility: fc.option(fc.array(fc.string()), { nil: undefined }),\n  status: fc.option(fc.constantFrom('draft' as const, 'published' as const), { nil: undefined }),\n  displayOrder: fc.option(fc.integer({ min: 0, max: 1000 }), { nil: undefined }),\n}).filter(data => {\n  // Ensure endTime is after startTime if both are present\n  if (data.endTime && data.startTime) {\n    return new Date(data.startTime) <= new Date(data.endTime);\n  }\n  return true;\n});\n\nconst validAccommodationArbitrary = fc.record({\n  name: realisticString(2, 200),\n  description: fc.option(fc.lorem({ maxCount: 500 }).map(s => s.substring(0, 5000)), { nil: null }),\n  address: fc.option(fc.lorem({ maxCount: 50 }).map(s => s.substring(0, 500)), { nil: null }),\n  status: fc.option(fc.constantFrom('draft' as const, 'published' as const), { nil: undefined }),\n});\n\nconst validVendorArbitrary = fc.record({\n  name: realisticString(2, 100),\n  category: fc.constantFrom(\n    'photography' as const,\n    'flowers' as const,\n    'catering' as const,\n    'music' as const,\n    'transportation' as const,\n    'decoration' as const,\n    'other' as const\n  ),\n  contactName: fc.option(fc.lorem({ maxCount: 10 }).map(s => s.substring(0, 100)), { nil: null }),\n  email: fc.option(\n    fc.tuple(\n      fc.stringMatching(/^[a-z0-9]+$/),\n      fc.stringMatching(/^[a-z0-9]+$/),\n      fc.constantFrom('com', 'org', 'net', 'edu')\n    ).map(([local, domain, tld]) => `${local}@${domain}.${tld}`),\n    { nil: null }\n  ),\n  phone: fc.option(fc.stringMatching(/^\\+?[0-9]{10,19}$/), { nil: null }),\n  pricingModel: fc.constantFrom('flat_rate' as const, 'per_guest' as const, 'tiered' as const),\n  baseCost: fc.float({ min: 0, max: 100000, noNaN: true }),\n  paymentStatus: fc.option(fc.constantFrom('unpaid' as const, 'partial' as const, 'paid' as const), { nil: undefined }),\n  amountPaid: fc.option(fc.float({ min: 0, max: 100000, noNaN: true }), { nil: undefined }),\n  notes: fc.option(fc.lorem({ maxCount: 200 }).map(s => s.substring(0, 2000)), { nil: null }),\n});\n\n// Arbitraries for generating invalid content data\n\nconst invalidActivityArbitrary = fc.oneof(\n  // Missing required name\n  fc.record({\n    activityType: fc.string(),\n    startTime: fc.date().map(d => d.toISOString()),\n  }),\n  // Empty name\n  fc.record({\n    name: fc.constant(''),\n    activityType: fc.string(),\n    startTime: fc.date().map(d => d.toISOString()),\n  }),\n  // Missing required activityType\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    startTime: fc.date().map(d => d.toISOString()),\n  }),\n  // Missing required startTime\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    activityType: fc.string(),\n  }),\n  // Invalid startTime format\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    activityType: fc.string(),\n    startTime: fc.constant('not-a-date'),\n  }),\n  // Negative capacity\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    activityType: fc.string(),\n    startTime: fc.date().map(d => d.toISOString()),\n    capacity: fc.integer({ max: -1 }),\n  }),\n  // Negative cost\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    activityType: fc.string(),\n    startTime: fc.date().map(d => d.toISOString()),\n    costPerPerson: fc.constant(-100),\n  })\n);\n\nconst invalidAccommodationArbitrary = fc.oneof(\n  // Missing required name\n  fc.record({\n    description: fc.string(),\n  }),\n  // Empty name\n  fc.record({\n    name: fc.constant(''),\n  }),\n  // Name too long\n  fc.record({\n    name: fc.string({ minLength: 201, maxLength: 300 }),\n  }),\n  // Description too long\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    description: fc.string({ minLength: 5001, maxLength: 6000 }),\n  })\n);\n\nconst invalidVendorArbitrary = fc.oneof(\n  // Missing required name\n  fc.record({\n    category: fc.constant('photography' as const),\n    pricingModel: fc.constant('flat_rate' as const),\n    baseCost: fc.constant(1000),\n  }),\n  // Empty name\n  fc.record({\n    name: fc.constant(''),\n    category: fc.constant('photography' as const),\n    pricingModel: fc.constant('flat_rate' as const),\n    baseCost: fc.constant(1000),\n  }),\n  // Invalid category\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    category: fc.constant('invalid-category' as any),\n    pricingModel: fc.constant('flat_rate' as const),\n    baseCost: fc.constant(1000),\n  }),\n  // Missing required pricingModel\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    category: fc.constant('photography' as const),\n    baseCost: fc.constant(1000),\n  }),\n  // Negative baseCost\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    category: fc.constant('photography' as const),\n    pricingModel: fc.constant('flat_rate' as const),\n    baseCost: fc.constant(-1000),\n  }),\n  // Invalid email format\n  fc.record({\n    name: fc.string({ minLength: 1 }),\n    category: fc.constant('photography' as const),\n    pricingModel: fc.constant('flat_rate' as const),\n    baseCost: fc.constant(1000),\n    email: fc.constant('not-an-email'),\n  })\n);\n\ndescribe('Feature: destination-wedding-platform, Property 26: AI Content Schema Validation', () => {\n  describe('Valid content should pass schema validation', () => {\n    it('should validate valid activity data', () => {\n      fc.assert(\n        fc.property(validActivityArbitrary, (activityData) => {\n          const result = validateExtractedContent('activity', activityData);\n          expect(result.success).toBe(true);\n        }),\n        { numRuns: 100 }\n      );\n    });\n\n    it('should validate valid accommodation data', () => {\n      fc.assert(\n        fc.property(validAccommodationArbitrary, (accommodationData) => {\n          const result = validateExtractedContent('accommodation', accommodationData);\n          expect(result.success).toBe(true);\n        }),\n        { numRuns: 100 }\n      );\n    });\n\n    it('should validate valid vendor data', () => {\n      fc.assert(\n        fc.property(validVendorArbitrary, (vendorData) => {\n          const result = validateExtractedContent('vendor', vendorData);\n          expect(result.success).toBe(true);\n        }),\n        { numRuns: 100 }\n      );\n    });\n  });\n\n  describe('Invalid content should fail schema validation', () => {\n    it('should reject invalid activity data', () => {\n      fc.assert(\n        fc.property(invalidActivityArbitrary, (activityData) => {\n          const result = validateExtractedContent('activity', activityData);\n          expect(result.success).toBe(false);\n          if (!result.success) {\n            expect(result.error.code).toBe('VALIDATION_ERROR');\n          }\n        }),\n        { numRuns: 100 }\n      );\n    });\n\n    it('should reject invalid accommodation data', () => {\n      fc.assert(\n        fc.property(invalidAccommodationArbitrary, (accommodationData) => {\n          const result = validateExtractedContent('accommodation', accommodationData);\n          expect(result.success).toBe(false);\n          if (!result.success) {\n            expect(result.error.code).toBe('VALIDATION_ERROR');\n          }\n        }),\n        { numRuns: 100 }\n      );\n    });\n\n    it('should reject invalid vendor data', () => {\n      fc.assert(\n        fc.property(invalidVendorArbitrary, (vendorData) => {\n          const result = validateExtractedContent('vendor', vendorData);\n          expect(result.success).toBe(false);\n          if (!result.success) {\n            expect(result.error.code).toBe('VALIDATION_ERROR');\n          }\n        }),\n        { numRuns: 100 }\n      );\n    });\n  });\n\n  describe('Content type validation', () => {\n    it('should reject unsupported content types', () => {\n      fc.assert(\n        fc.property(validActivityArbitrary, (activityData) => {\n          const result = validateExtractedContent('unsupported' as ContentType, activityData);\n          expect(result.success).toBe(false);\n          if (!result.success) {\n            expect(result.error.code).toBe('INVALID_CONTENT_TYPE');\n          }\n        }),\n        { numRuns: 50 }\n      );\n    });\n  });\n\n  describe('Edge cases', () => {\n    it('should handle null and undefined values appropriately', () => {\n      const result1 = validateExtractedContent('activity', null);\n      expect(result1.success).toBe(false);\n\n      const result2 = validateExtractedContent('activity', undefined);\n      expect(result2.success).toBe(false);\n    });\n\n    it('should handle empty objects', () => {\n      const result = validateExtractedContent('activity', {});\n      expect(result.success).toBe(false);\n      if (!result.success) {\n        expect(result.error.code).toBe('VALIDATION_ERROR');\n      }\n    });\n\n    it('should handle arrays instead of objects', () => {\n      const result = validateExtractedContent('activity', []);\n      expect(result.success).toBe(false);\n    });\n\n    it('should handle primitive values', () => {\n      const result1 = validateExtractedContent('activity', 'string');\n      expect(result1.success).toBe(false);\n\n      const result2 = validateExtractedContent('activity', 123);\n      expect(result2.success).toBe(false);\n\n      const result3 = validateExtractedContent('activity', true);\n      expect(result3.success).toBe(false);\n    });\n  });\n});\n"],"names":["realisticString","minLength","maxLength","fc","lorem","maxCount","map","s","trimmed","trim","substring","length","repeat","Math","ceil","max","validActivityArbitrary","record","name","description","option","nil","activityType","startTime","date","min","Date","d","toISOString","endTime","capacity","integer","costPerPerson","float","noNaN","hostSubsidy","adultsOnly","boolean","undefined","plusOneAllowed","visibility","array","string","status","constantFrom","displayOrder","filter","data","validAccommodationArbitrary","address","validVendorArbitrary","category","contactName","email","tuple","stringMatching","local","domain","tld","phone","pricingModel","baseCost","paymentStatus","amountPaid","notes","invalidActivityArbitrary","oneof","constant","invalidAccommodationArbitrary","invalidVendorArbitrary","describe","it","assert","property","activityData","result","validateExtractedContent","expect","success","toBe","numRuns","accommodationData","vendorData","error","code","result1","result2","result3"],"mappings":"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"}