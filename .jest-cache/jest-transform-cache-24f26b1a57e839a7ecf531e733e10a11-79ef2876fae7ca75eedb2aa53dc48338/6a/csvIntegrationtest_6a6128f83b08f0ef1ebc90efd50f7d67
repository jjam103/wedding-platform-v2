9b23f2b5f5455c11df54ab3c1cb0cf76
/**
 * Integration test for CSV import/export functionality.
 * Tests the complete workflow of exporting and importing guest data.
 */ "use strict";
// Mock Supabase
jest.mock('@/lib/supabase', ()=>({
        supabase: {
            from: jest.fn(()=>({
                    insert: jest.fn(()=>({
                            select: jest.fn(()=>({
                                    single: jest.fn()
                                }))
                        }))
                }))
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _guestService = require("./guestService");
describe('CSV Import/Export Integration', ()=>{
    it('should handle complete export-import workflow with multiple guests', async ()=>{
        const originalGuests = [
            {
                id: '123e4567-e89b-12d3-a456-426614174000',
                groupId: '123e4567-e89b-12d3-a456-426614174001',
                firstName: 'John',
                lastName: 'Doe',
                email: 'john@example.com',
                phone: '+1234567890',
                ageType: 'adult',
                guestType: 'wedding_guest',
                dietaryRestrictions: 'Vegetarian',
                plusOneName: 'Jane Doe',
                plusOneAttending: true,
                arrivalDate: '2025-06-01',
                departureDate: '2025-06-05',
                airportCode: 'SJO',
                flightNumber: 'AA123',
                invitationSent: true,
                invitationSentDate: '2025-01-15',
                rsvpDeadline: '2025-05-01',
                notes: 'VIP guest',
                createdAt: '2025-01-01T00:00:00Z',
                updatedAt: '2025-01-01T00:00:00Z'
            },
            {
                id: '223e4567-e89b-12d3-a456-426614174000',
                groupId: '123e4567-e89b-12d3-a456-426614174001',
                firstName: 'Alice',
                lastName: 'Smith',
                email: null,
                phone: null,
                ageType: 'child',
                guestType: 'wedding_guest',
                dietaryRestrictions: null,
                plusOneName: null,
                plusOneAttending: false,
                arrivalDate: null,
                departureDate: null,
                airportCode: null,
                flightNumber: null,
                invitationSent: false,
                invitationSentDate: null,
                rsvpDeadline: null,
                notes: null,
                createdAt: '2025-01-01T00:00:00Z',
                updatedAt: '2025-01-01T00:00:00Z'
            },
            {
                id: '323e4567-e89b-12d3-a456-426614174000',
                groupId: '223e4567-e89b-12d3-a456-426614174001',
                firstName: 'Bob',
                lastName: 'Johnson',
                email: 'bob@example.com',
                phone: '+9876543210',
                ageType: 'senior',
                guestType: 'wedding_party',
                dietaryRestrictions: 'Gluten-free, dairy-free',
                plusOneName: null,
                plusOneAttending: false,
                arrivalDate: '2025-05-30',
                departureDate: '2025-06-07',
                airportCode: 'LIR',
                flightNumber: 'UA456',
                invitationSent: true,
                invitationSentDate: '2025-01-10',
                rsvpDeadline: '2025-04-30',
                notes: 'Needs wheelchair assistance',
                createdAt: '2025-01-01T00:00:00Z',
                updatedAt: '2025-01-01T00:00:00Z'
            }
        ];
        // Step 1: Export to CSV
        const exportResult = await (0, _guestService.exportToCSV)(originalGuests);
        expect(exportResult.success).toBe(true);
        if (!exportResult.success) return;
        // Verify CSV structure
        const csvLines = exportResult.data.split('\n');
        expect(csvLines.length).toBe(4); // Header + 3 data rows
        // Step 2: Mock database for import
        const { supabase } = require('@/lib/supabase');
        let callCount = 0;
        supabase.from.mockReturnValue({
            insert: jest.fn().mockReturnValue({
                select: jest.fn().mockReturnValue({
                    single: jest.fn().mockImplementation(()=>{
                        const guest = originalGuests[callCount];
                        callCount++;
                        return Promise.resolve({
                            data: {
                                id: `new-id-${callCount}`,
                                group_id: guest.groupId,
                                first_name: guest.firstName,
                                last_name: guest.lastName,
                                email: guest.email,
                                phone: guest.phone,
                                age_type: guest.ageType,
                                guest_type: guest.guestType,
                                dietary_restrictions: guest.dietaryRestrictions,
                                plus_one_name: guest.plusOneName,
                                plus_one_attending: guest.plusOneAttending,
                                arrival_date: guest.arrivalDate,
                                departure_date: guest.departureDate,
                                airport_code: guest.airportCode,
                                flight_number: guest.flightNumber,
                                invitation_sent: guest.invitationSent,
                                invitation_sent_date: guest.invitationSentDate,
                                rsvp_deadline: guest.rsvpDeadline,
                                notes: guest.notes,
                                created_at: '2025-01-25T00:00:00Z',
                                updated_at: '2025-01-25T00:00:00Z'
                            },
                            error: null
                        });
                    })
                })
            })
        });
        // Step 3: Import from CSV
        const importResult = await (0, _guestService.importFromCSV)(exportResult.data);
        expect(importResult.success).toBe(true);
        if (!importResult.success) return;
        // Step 4: Verify all guests were imported
        expect(importResult.data).toHaveLength(3);
        // Step 5: Verify data integrity for each guest
        for(let i = 0; i < originalGuests.length; i++){
            const original = originalGuests[i];
            const imported = importResult.data[i];
            expect(imported.groupId).toBe(original.groupId);
            expect(imported.firstName).toBe(original.firstName);
            expect(imported.lastName).toBe(original.lastName);
            expect(imported.email).toBe(original.email);
            expect(imported.phone).toBe(original.phone);
            expect(imported.ageType).toBe(original.ageType);
            expect(imported.guestType).toBe(original.guestType);
            expect(imported.dietaryRestrictions).toBe(original.dietaryRestrictions);
            expect(imported.plusOneName).toBe(original.plusOneName);
            expect(imported.plusOneAttending).toBe(original.plusOneAttending);
            expect(imported.arrivalDate).toBe(original.arrivalDate);
            expect(imported.departureDate).toBe(original.departureDate);
            expect(imported.airportCode).toBe(original.airportCode);
            expect(imported.flightNumber).toBe(original.flightNumber);
            expect(imported.invitationSent).toBe(original.invitationSent);
            expect(imported.invitationSentDate).toBe(original.invitationSentDate);
            expect(imported.rsvpDeadline).toBe(original.rsvpDeadline);
            expect(imported.notes).toBe(original.notes);
        }
    });
    it('should handle special characters in CSV fields', async ()=>{
        const guestsWithSpecialChars = [
            {
                id: '123e4567-e89b-12d3-a456-426614174000',
                groupId: '123e4567-e89b-12d3-a456-426614174001',
                firstName: 'María',
                lastName: 'García',
                email: 'maria@example.com',
                phone: null,
                ageType: 'adult',
                guestType: 'wedding_guest',
                dietaryRestrictions: 'No shellfish, no "raw" fish',
                plusOneName: null,
                plusOneAttending: false,
                arrivalDate: null,
                departureDate: null,
                airportCode: null,
                flightNumber: null,
                invitationSent: false,
                invitationSentDate: null,
                rsvpDeadline: null,
                notes: 'Prefers Spanish, speaks limited English',
                createdAt: '2025-01-01T00:00:00Z',
                updatedAt: '2025-01-01T00:00:00Z'
            }
        ];
        // Export
        const exportResult = await (0, _guestService.exportToCSV)(guestsWithSpecialChars);
        expect(exportResult.success).toBe(true);
        if (!exportResult.success) return;
        // Mock database
        const { supabase } = require('@/lib/supabase');
        supabase.from.mockReturnValue({
            insert: jest.fn().mockReturnValue({
                select: jest.fn().mockReturnValue({
                    single: jest.fn().mockResolvedValue({
                        data: {
                            id: 'new-id',
                            group_id: guestsWithSpecialChars[0].groupId,
                            first_name: guestsWithSpecialChars[0].firstName,
                            last_name: guestsWithSpecialChars[0].lastName,
                            email: guestsWithSpecialChars[0].email,
                            phone: guestsWithSpecialChars[0].phone,
                            age_type: guestsWithSpecialChars[0].ageType,
                            guest_type: guestsWithSpecialChars[0].guestType,
                            dietary_restrictions: guestsWithSpecialChars[0].dietaryRestrictions,
                            plus_one_name: guestsWithSpecialChars[0].plusOneName,
                            plus_one_attending: guestsWithSpecialChars[0].plusOneAttending,
                            arrival_date: guestsWithSpecialChars[0].arrivalDate,
                            departure_date: guestsWithSpecialChars[0].departureDate,
                            airport_code: guestsWithSpecialChars[0].airportCode,
                            flight_number: guestsWithSpecialChars[0].flightNumber,
                            invitation_sent: guestsWithSpecialChars[0].invitationSent,
                            invitation_sent_date: guestsWithSpecialChars[0].invitationSentDate,
                            rsvp_deadline: guestsWithSpecialChars[0].rsvpDeadline,
                            notes: guestsWithSpecialChars[0].notes,
                            created_at: '2025-01-25T00:00:00Z',
                            updated_at: '2025-01-25T00:00:00Z'
                        },
                        error: null
                    })
                })
            })
        });
        // Import
        const importResult = await (0, _guestService.importFromCSV)(exportResult.data);
        expect(importResult.success).toBe(true);
        if (!importResult.success) return;
        // Verify special characters preserved
        expect(importResult.data[0].firstName).toBe('María');
        expect(importResult.data[0].lastName).toBe('García');
        expect(importResult.data[0].dietaryRestrictions).toBe('No shellfish, no "raw" fish');
        expect(importResult.data[0].notes).toBe('Prefers Spanish, speaks limited English');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvY3N2SW50ZWdyYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEludGVncmF0aW9uIHRlc3QgZm9yIENTViBpbXBvcnQvZXhwb3J0IGZ1bmN0aW9uYWxpdHkuXG4gKiBUZXN0cyB0aGUgY29tcGxldGUgd29ya2Zsb3cgb2YgZXhwb3J0aW5nIGFuZCBpbXBvcnRpbmcgZ3Vlc3QgZGF0YS5cbiAqL1xuXG5pbXBvcnQgeyBleHBvcnRUb0NTViwgaW1wb3J0RnJvbUNTViB9IGZyb20gJy4vZ3Vlc3RTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgR3Vlc3QgfSBmcm9tICdAL3NjaGVtYXMvZ3Vlc3RTY2hlbWFzJztcblxuLy8gTW9jayBTdXBhYmFzZVxuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZScsICgpID0+ICh7XG4gIHN1cGFiYXNlOiB7XG4gICAgZnJvbTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLFxuICAgICAgICB9KSksXG4gICAgICB9KSksXG4gICAgfSkpLFxuICB9LFxufSkpO1xuXG5kZXNjcmliZSgnQ1NWIEltcG9ydC9FeHBvcnQgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXRlIGV4cG9ydC1pbXBvcnQgd29ya2Zsb3cgd2l0aCBtdWx0aXBsZSBndWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxHdWVzdHM6IEd1ZXN0W10gPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgZ3JvdXBJZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gICAgICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICAgIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgIHBob25lOiAnKzEyMzQ1Njc4OTAnLFxuICAgICAgICBhZ2VUeXBlOiAnYWR1bHQnLFxuICAgICAgICBndWVzdFR5cGU6ICd3ZWRkaW5nX2d1ZXN0JyxcbiAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogJ1ZlZ2V0YXJpYW4nLFxuICAgICAgICBwbHVzT25lTmFtZTogJ0phbmUgRG9lJyxcbiAgICAgICAgcGx1c09uZUF0dGVuZGluZzogdHJ1ZSxcbiAgICAgICAgYXJyaXZhbERhdGU6ICcyMDI1LTA2LTAxJyxcbiAgICAgICAgZGVwYXJ0dXJlRGF0ZTogJzIwMjUtMDYtMDUnLFxuICAgICAgICBhaXJwb3J0Q29kZTogJ1NKTycsXG4gICAgICAgIGZsaWdodE51bWJlcjogJ0FBMTIzJyxcbiAgICAgICAgaW52aXRhdGlvblNlbnQ6IHRydWUsXG4gICAgICAgIGludml0YXRpb25TZW50RGF0ZTogJzIwMjUtMDEtMTUnLFxuICAgICAgICByc3ZwRGVhZGxpbmU6ICcyMDI1LTA1LTAxJyxcbiAgICAgICAgbm90ZXM6ICdWSVAgZ3Vlc3QnLFxuICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMjIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgZ3JvdXBJZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gICAgICAgIGZpcnN0TmFtZTogJ0FsaWNlJyxcbiAgICAgICAgbGFzdE5hbWU6ICdTbWl0aCcsXG4gICAgICAgIGVtYWlsOiBudWxsLFxuICAgICAgICBwaG9uZTogbnVsbCxcbiAgICAgICAgYWdlVHlwZTogJ2NoaWxkJyxcbiAgICAgICAgZ3Vlc3RUeXBlOiAnd2VkZGluZ19ndWVzdCcsXG4gICAgICAgIGRpZXRhcnlSZXN0cmljdGlvbnM6IG51bGwsXG4gICAgICAgIHBsdXNPbmVOYW1lOiBudWxsLFxuICAgICAgICBwbHVzT25lQXR0ZW5kaW5nOiBmYWxzZSxcbiAgICAgICAgYXJyaXZhbERhdGU6IG51bGwsXG4gICAgICAgIGRlcGFydHVyZURhdGU6IG51bGwsXG4gICAgICAgIGFpcnBvcnRDb2RlOiBudWxsLFxuICAgICAgICBmbGlnaHROdW1iZXI6IG51bGwsXG4gICAgICAgIGludml0YXRpb25TZW50OiBmYWxzZSxcbiAgICAgICAgaW52aXRhdGlvblNlbnREYXRlOiBudWxsLFxuICAgICAgICByc3ZwRGVhZGxpbmU6IG51bGwsXG4gICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICBjcmVhdGVkQXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMzIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgZ3JvdXBJZDogJzIyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMScsXG4gICAgICAgIGZpcnN0TmFtZTogJ0JvYicsXG4gICAgICAgIGxhc3ROYW1lOiAnSm9obnNvbicsXG4gICAgICAgIGVtYWlsOiAnYm9iQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGhvbmU6ICcrOTg3NjU0MzIxMCcsXG4gICAgICAgIGFnZVR5cGU6ICdzZW5pb3InLFxuICAgICAgICBndWVzdFR5cGU6ICd3ZWRkaW5nX3BhcnR5JyxcbiAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogJ0dsdXRlbi1mcmVlLCBkYWlyeS1mcmVlJyxcbiAgICAgICAgcGx1c09uZU5hbWU6IG51bGwsXG4gICAgICAgIHBsdXNPbmVBdHRlbmRpbmc6IGZhbHNlLFxuICAgICAgICBhcnJpdmFsRGF0ZTogJzIwMjUtMDUtMzAnLFxuICAgICAgICBkZXBhcnR1cmVEYXRlOiAnMjAyNS0wNi0wNycsXG4gICAgICAgIGFpcnBvcnRDb2RlOiAnTElSJyxcbiAgICAgICAgZmxpZ2h0TnVtYmVyOiAnVUE0NTYnLFxuICAgICAgICBpbnZpdGF0aW9uU2VudDogdHJ1ZSxcbiAgICAgICAgaW52aXRhdGlvblNlbnREYXRlOiAnMjAyNS0wMS0xMCcsXG4gICAgICAgIHJzdnBEZWFkbGluZTogJzIwMjUtMDQtMzAnLFxuICAgICAgICBub3RlczogJ05lZWRzIHdoZWVsY2hhaXIgYXNzaXN0YW5jZScsXG4gICAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgLy8gU3RlcCAxOiBFeHBvcnQgdG8gQ1NWXG4gICAgY29uc3QgZXhwb3J0UmVzdWx0ID0gYXdhaXQgZXhwb3J0VG9DU1Yob3JpZ2luYWxHdWVzdHMpO1xuICAgIGV4cGVjdChleHBvcnRSZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICBpZiAoIWV4cG9ydFJlc3VsdC5zdWNjZXNzKSByZXR1cm47XG5cbiAgICAvLyBWZXJpZnkgQ1NWIHN0cnVjdHVyZVxuICAgIGNvbnN0IGNzdkxpbmVzID0gZXhwb3J0UmVzdWx0LmRhdGEuc3BsaXQoJ1xcbicpO1xuICAgIGV4cGVjdChjc3ZMaW5lcy5sZW5ndGgpLnRvQmUoNCk7IC8vIEhlYWRlciArIDMgZGF0YSByb3dzXG5cbiAgICAvLyBTdGVwIDI6IE1vY2sgZGF0YWJhc2UgZm9yIGltcG9ydFxuICAgIGNvbnN0IHsgc3VwYWJhc2UgfSA9IHJlcXVpcmUoJ0AvbGliL3N1cGFiYXNlJyk7XG4gICAgbGV0IGNhbGxDb3VudCA9IDA7XG4gICAgc3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3Vlc3QgPSBvcmlnaW5hbEd1ZXN0c1tjYWxsQ291bnRdO1xuICAgICAgICAgICAgY2FsbENvdW50Kys7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiBgbmV3LWlkLSR7Y2FsbENvdW50fWAsXG4gICAgICAgICAgICAgICAgZ3JvdXBfaWQ6IGd1ZXN0Lmdyb3VwSWQsXG4gICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogZ3Vlc3QuZmlyc3ROYW1lLFxuICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogZ3Vlc3QubGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IGd1ZXN0LmVtYWlsLFxuICAgICAgICAgICAgICAgIHBob25lOiBndWVzdC5waG9uZSxcbiAgICAgICAgICAgICAgICBhZ2VfdHlwZTogZ3Vlc3QuYWdlVHlwZSxcbiAgICAgICAgICAgICAgICBndWVzdF90eXBlOiBndWVzdC5ndWVzdFR5cGUsXG4gICAgICAgICAgICAgICAgZGlldGFyeV9yZXN0cmljdGlvbnM6IGd1ZXN0LmRpZXRhcnlSZXN0cmljdGlvbnMsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfbmFtZTogZ3Vlc3QucGx1c09uZU5hbWUsXG4gICAgICAgICAgICAgICAgcGx1c19vbmVfYXR0ZW5kaW5nOiBndWVzdC5wbHVzT25lQXR0ZW5kaW5nLFxuICAgICAgICAgICAgICAgIGFycml2YWxfZGF0ZTogZ3Vlc3QuYXJyaXZhbERhdGUsXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlX2RhdGU6IGd1ZXN0LmRlcGFydHVyZURhdGUsXG4gICAgICAgICAgICAgICAgYWlycG9ydF9jb2RlOiBndWVzdC5haXJwb3J0Q29kZSxcbiAgICAgICAgICAgICAgICBmbGlnaHRfbnVtYmVyOiBndWVzdC5mbGlnaHROdW1iZXIsXG4gICAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50OiBndWVzdC5pbnZpdGF0aW9uU2VudCxcbiAgICAgICAgICAgICAgICBpbnZpdGF0aW9uX3NlbnRfZGF0ZTogZ3Vlc3QuaW52aXRhdGlvblNlbnREYXRlLFxuICAgICAgICAgICAgICAgIHJzdnBfZGVhZGxpbmU6IGd1ZXN0LnJzdnBEZWFkbGluZSxcbiAgICAgICAgICAgICAgICBub3RlczogZ3Vlc3Qubm90ZXMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMjVUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNS0wMS0yNVQwMDowMDowMFonLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gU3RlcCAzOiBJbXBvcnQgZnJvbSBDU1ZcbiAgICBjb25zdCBpbXBvcnRSZXN1bHQgPSBhd2FpdCBpbXBvcnRGcm9tQ1NWKGV4cG9ydFJlc3VsdC5kYXRhKTtcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgaWYgKCFpbXBvcnRSZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgLy8gU3RlcCA0OiBWZXJpZnkgYWxsIGd1ZXN0cyB3ZXJlIGltcG9ydGVkXG4gICAgZXhwZWN0KGltcG9ydFJlc3VsdC5kYXRhKS50b0hhdmVMZW5ndGgoMyk7XG5cbiAgICAvLyBTdGVwIDU6IFZlcmlmeSBkYXRhIGludGVncml0eSBmb3IgZWFjaCBndWVzdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JpZ2luYWxHdWVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsID0gb3JpZ2luYWxHdWVzdHNbaV07XG4gICAgICBjb25zdCBpbXBvcnRlZCA9IGltcG9ydFJlc3VsdC5kYXRhW2ldO1xuXG4gICAgICBleHBlY3QoaW1wb3J0ZWQuZ3JvdXBJZCkudG9CZShvcmlnaW5hbC5ncm91cElkKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5maXJzdE5hbWUpLnRvQmUob3JpZ2luYWwuZmlyc3ROYW1lKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5sYXN0TmFtZSkudG9CZShvcmlnaW5hbC5sYXN0TmFtZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuZW1haWwpLnRvQmUob3JpZ2luYWwuZW1haWwpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLnBob25lKS50b0JlKG9yaWdpbmFsLnBob25lKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5hZ2VUeXBlKS50b0JlKG9yaWdpbmFsLmFnZVR5cGUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmd1ZXN0VHlwZSkudG9CZShvcmlnaW5hbC5ndWVzdFR5cGUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmRpZXRhcnlSZXN0cmljdGlvbnMpLnRvQmUob3JpZ2luYWwuZGlldGFyeVJlc3RyaWN0aW9ucyk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQucGx1c09uZU5hbWUpLnRvQmUob3JpZ2luYWwucGx1c09uZU5hbWUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLnBsdXNPbmVBdHRlbmRpbmcpLnRvQmUob3JpZ2luYWwucGx1c09uZUF0dGVuZGluZyk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuYXJyaXZhbERhdGUpLnRvQmUob3JpZ2luYWwuYXJyaXZhbERhdGUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmRlcGFydHVyZURhdGUpLnRvQmUob3JpZ2luYWwuZGVwYXJ0dXJlRGF0ZSk7XG4gICAgICBleHBlY3QoaW1wb3J0ZWQuYWlycG9ydENvZGUpLnRvQmUob3JpZ2luYWwuYWlycG9ydENvZGUpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmZsaWdodE51bWJlcikudG9CZShvcmlnaW5hbC5mbGlnaHROdW1iZXIpO1xuICAgICAgZXhwZWN0KGltcG9ydGVkLmludml0YXRpb25TZW50KS50b0JlKG9yaWdpbmFsLmludml0YXRpb25TZW50KTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5pbnZpdGF0aW9uU2VudERhdGUpLnRvQmUob3JpZ2luYWwuaW52aXRhdGlvblNlbnREYXRlKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5yc3ZwRGVhZGxpbmUpLnRvQmUob3JpZ2luYWwucnN2cERlYWRsaW5lKTtcbiAgICAgIGV4cGVjdChpbXBvcnRlZC5ub3RlcykudG9CZShvcmlnaW5hbC5ub3Rlcyk7XG4gICAgfVxuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gQ1NWIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBndWVzdHNXaXRoU3BlY2lhbENoYXJzOiBHdWVzdFtdID0gW1xuICAgICAge1xuICAgICAgICBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgIGdyb3VwSWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDEnLFxuICAgICAgICBmaXJzdE5hbWU6ICdNYXLDrWEnLFxuICAgICAgICBsYXN0TmFtZTogJ0dhcmPDrWEnLFxuICAgICAgICBlbWFpbDogJ21hcmlhQGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGhvbmU6IG51bGwsXG4gICAgICAgIGFnZVR5cGU6ICdhZHVsdCcsXG4gICAgICAgIGd1ZXN0VHlwZTogJ3dlZGRpbmdfZ3Vlc3QnLFxuICAgICAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiAnTm8gc2hlbGxmaXNoLCBubyBcInJhd1wiIGZpc2gnLFxuICAgICAgICBwbHVzT25lTmFtZTogbnVsbCxcbiAgICAgICAgcGx1c09uZUF0dGVuZGluZzogZmFsc2UsXG4gICAgICAgIGFycml2YWxEYXRlOiBudWxsLFxuICAgICAgICBkZXBhcnR1cmVEYXRlOiBudWxsLFxuICAgICAgICBhaXJwb3J0Q29kZTogbnVsbCxcbiAgICAgICAgZmxpZ2h0TnVtYmVyOiBudWxsLFxuICAgICAgICBpbnZpdGF0aW9uU2VudDogZmFsc2UsXG4gICAgICAgIGludml0YXRpb25TZW50RGF0ZTogbnVsbCxcbiAgICAgICAgcnN2cERlYWRsaW5lOiBudWxsLFxuICAgICAgICBub3RlczogJ1ByZWZlcnMgU3BhbmlzaCwgc3BlYWtzIGxpbWl0ZWQgRW5nbGlzaCcsXG4gICAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZEF0OiAnMjAyNS0wMS0wMVQwMDowMDowMFonLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgLy8gRXhwb3J0XG4gICAgY29uc3QgZXhwb3J0UmVzdWx0ID0gYXdhaXQgZXhwb3J0VG9DU1YoZ3Vlc3RzV2l0aFNwZWNpYWxDaGFycyk7XG4gICAgZXhwZWN0KGV4cG9ydFJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgIGlmICghZXhwb3J0UmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgIC8vIE1vY2sgZGF0YWJhc2VcbiAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCdAL2xpYi9zdXBhYmFzZScpO1xuICAgIHN1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogJ25ldy1pZCcsXG4gICAgICAgICAgICAgIGdyb3VwX2lkOiBndWVzdHNXaXRoU3BlY2lhbENoYXJzWzBdLmdyb3VwSWQsXG4gICAgICAgICAgICAgIGZpcnN0X25hbWU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0uZmlyc3ROYW1lLFxuICAgICAgICAgICAgICBsYXN0X25hbWU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0ubGFzdE5hbWUsXG4gICAgICAgICAgICAgIGVtYWlsOiBndWVzdHNXaXRoU3BlY2lhbENoYXJzWzBdLmVtYWlsLFxuICAgICAgICAgICAgICBwaG9uZTogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5waG9uZSxcbiAgICAgICAgICAgICAgYWdlX3R5cGU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0uYWdlVHlwZSxcbiAgICAgICAgICAgICAgZ3Vlc3RfdHlwZTogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5ndWVzdFR5cGUsXG4gICAgICAgICAgICAgIGRpZXRhcnlfcmVzdHJpY3Rpb25zOiBndWVzdHNXaXRoU3BlY2lhbENoYXJzWzBdLmRpZXRhcnlSZXN0cmljdGlvbnMsXG4gICAgICAgICAgICAgIHBsdXNfb25lX25hbWU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0ucGx1c09uZU5hbWUsXG4gICAgICAgICAgICAgIHBsdXNfb25lX2F0dGVuZGluZzogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5wbHVzT25lQXR0ZW5kaW5nLFxuICAgICAgICAgICAgICBhcnJpdmFsX2RhdGU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0uYXJyaXZhbERhdGUsXG4gICAgICAgICAgICAgIGRlcGFydHVyZV9kYXRlOiBndWVzdHNXaXRoU3BlY2lhbENoYXJzWzBdLmRlcGFydHVyZURhdGUsXG4gICAgICAgICAgICAgIGFpcnBvcnRfY29kZTogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5haXJwb3J0Q29kZSxcbiAgICAgICAgICAgICAgZmxpZ2h0X251bWJlcjogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5mbGlnaHROdW1iZXIsXG4gICAgICAgICAgICAgIGludml0YXRpb25fc2VudDogZ3Vlc3RzV2l0aFNwZWNpYWxDaGFyc1swXS5pbnZpdGF0aW9uU2VudCxcbiAgICAgICAgICAgICAgaW52aXRhdGlvbl9zZW50X2RhdGU6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0uaW52aXRhdGlvblNlbnREYXRlLFxuICAgICAgICAgICAgICByc3ZwX2RlYWRsaW5lOiBndWVzdHNXaXRoU3BlY2lhbENoYXJzWzBdLnJzdnBEZWFkbGluZSxcbiAgICAgICAgICAgICAgbm90ZXM6IGd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnNbMF0ubm90ZXMsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTI1VDAwOjAwOjAwWicsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTI1VDAwOjAwOjAwWicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICAvLyBJbXBvcnRcbiAgICBjb25zdCBpbXBvcnRSZXN1bHQgPSBhd2FpdCBpbXBvcnRGcm9tQ1NWKGV4cG9ydFJlc3VsdC5kYXRhKTtcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgaWYgKCFpbXBvcnRSZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgLy8gVmVyaWZ5IHNwZWNpYWwgY2hhcmFjdGVycyBwcmVzZXJ2ZWRcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LmRhdGFbMF0uZmlyc3ROYW1lKS50b0JlKCdNYXLDrWEnKTtcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LmRhdGFbMF0ubGFzdE5hbWUpLnRvQmUoJ0dhcmPDrWEnKTtcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LmRhdGFbMF0uZGlldGFyeVJlc3RyaWN0aW9ucykudG9CZSgnTm8gc2hlbGxmaXNoLCBubyBcInJhd1wiIGZpc2gnKTtcbiAgICBleHBlY3QoaW1wb3J0UmVzdWx0LmRhdGFbMF0ubm90ZXMpLnRvQmUoJ1ByZWZlcnMgU3BhbmlzaCwgc3BlYWtzIGxpbWl0ZWQgRW5nbGlzaCcpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwic3VwYWJhc2UiLCJmcm9tIiwiZm4iLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJkZXNjcmliZSIsIml0Iiwib3JpZ2luYWxHdWVzdHMiLCJpZCIsImdyb3VwSWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicGhvbmUiLCJhZ2VUeXBlIiwiZ3Vlc3RUeXBlIiwiZGlldGFyeVJlc3RyaWN0aW9ucyIsInBsdXNPbmVOYW1lIiwicGx1c09uZUF0dGVuZGluZyIsImFycml2YWxEYXRlIiwiZGVwYXJ0dXJlRGF0ZSIsImFpcnBvcnRDb2RlIiwiZmxpZ2h0TnVtYmVyIiwiaW52aXRhdGlvblNlbnQiLCJpbnZpdGF0aW9uU2VudERhdGUiLCJyc3ZwRGVhZGxpbmUiLCJub3RlcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsImV4cG9ydFJlc3VsdCIsImV4cG9ydFRvQ1NWIiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJjc3ZMaW5lcyIsImRhdGEiLCJzcGxpdCIsImxlbmd0aCIsInJlcXVpcmUiLCJjYWxsQ291bnQiLCJtb2NrUmV0dXJuVmFsdWUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJndWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ3JvdXBfaWQiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiYWdlX3R5cGUiLCJndWVzdF90eXBlIiwiZGlldGFyeV9yZXN0cmljdGlvbnMiLCJwbHVzX29uZV9uYW1lIiwicGx1c19vbmVfYXR0ZW5kaW5nIiwiYXJyaXZhbF9kYXRlIiwiZGVwYXJ0dXJlX2RhdGUiLCJhaXJwb3J0X2NvZGUiLCJmbGlnaHRfbnVtYmVyIiwiaW52aXRhdGlvbl9zZW50IiwiaW52aXRhdGlvbl9zZW50X2RhdGUiLCJyc3ZwX2RlYWRsaW5lIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJlcnJvciIsImltcG9ydFJlc3VsdCIsImltcG9ydEZyb21DU1YiLCJ0b0hhdmVMZW5ndGgiLCJpIiwib3JpZ2luYWwiLCJpbXBvcnRlZCIsImd1ZXN0c1dpdGhTcGVjaWFsQ2hhcnMiLCJtb2NrUmVzb2x2ZWRWYWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDO0FBS0QsZ0JBQWdCO0FBQ2hCQSxLQUFLQyxJQUFJLENBQUMsa0JBQWtCLElBQU8sQ0FBQTtRQUNqQ0MsVUFBVTtZQUNSQyxNQUFNSCxLQUFLSSxFQUFFLENBQUMsSUFBTyxDQUFBO29CQUNuQkMsUUFBUUwsS0FBS0ksRUFBRSxDQUFDLElBQU8sQ0FBQTs0QkFDckJFLFFBQVFOLEtBQUtJLEVBQUUsQ0FBQyxJQUFPLENBQUE7b0NBQ3JCRyxRQUFRUCxLQUFLSSxFQUFFO2dDQUNqQixDQUFBO3dCQUNGLENBQUE7Z0JBQ0YsQ0FBQTtRQUNGO0lBQ0YsQ0FBQTs7Ozs4QkFkMkM7QUFnQjNDSSxTQUFTLGlDQUFpQztJQUN4Q0MsR0FBRyxzRUFBc0U7UUFDdkUsTUFBTUMsaUJBQTBCO1lBQzlCO2dCQUNFQyxJQUFJO2dCQUNKQyxTQUFTO2dCQUNUQyxXQUFXO2dCQUNYQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxTQUFTO2dCQUNUQyxXQUFXO2dCQUNYQyxxQkFBcUI7Z0JBQ3JCQyxhQUFhO2dCQUNiQyxrQkFBa0I7Z0JBQ2xCQyxhQUFhO2dCQUNiQyxlQUFlO2dCQUNmQyxhQUFhO2dCQUNiQyxjQUFjO2dCQUNkQyxnQkFBZ0I7Z0JBQ2hCQyxvQkFBb0I7Z0JBQ3BCQyxjQUFjO2dCQUNkQyxPQUFPO2dCQUNQQyxXQUFXO2dCQUNYQyxXQUFXO1lBQ2I7WUFDQTtnQkFDRXBCLElBQUk7Z0JBQ0pDLFNBQVM7Z0JBQ1RDLFdBQVc7Z0JBQ1hDLFVBQVU7Z0JBQ1ZDLE9BQU87Z0JBQ1BDLE9BQU87Z0JBQ1BDLFNBQVM7Z0JBQ1RDLFdBQVc7Z0JB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