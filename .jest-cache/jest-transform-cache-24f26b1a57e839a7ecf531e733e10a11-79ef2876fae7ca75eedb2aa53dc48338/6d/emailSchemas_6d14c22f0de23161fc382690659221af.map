{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/emailSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n/**\n * Schema for creating an email template.\n * Requirements: 12.1, 12.2\n */\nexport const createEmailTemplateSchema = z.object({\n  name: z.string().min(1).max(100),\n  subject: z.string().min(1).max(200),\n  body_html: z.string().min(1),\n  body_text: z.string().min(1),\n  variables: z.array(z.string()).default([]),\n});\n\n/**\n * Schema for updating an email template.\n */\nexport const updateEmailTemplateSchema = createEmailTemplateSchema.partial();\n\n/**\n * Schema for sending a single email.\n * Requirements: 12.3\n */\nexport const sendEmailSchema = z.object({\n  to: z.string().email(),\n  subject: z.string().min(1).max(200),\n  html: z.string().min(1),\n  text: z.string().optional(),\n  template_id: z.string().uuid().optional(),\n  variables: z.record(z.string(), z.string()).optional(),\n});\n\n/**\n * Schema for sending bulk emails.\n * Requirements: 12.3\n */\nexport const sendBulkEmailSchema = z.object({\n  recipients: z.array(z.string().email()).min(1).max(100),\n  subject: z.string().min(1).max(200),\n  html: z.string().min(1),\n  text: z.string().optional(),\n  template_id: z.string().uuid().optional(),\n  variables: z.record(z.string(), z.string()).optional(),\n});\n\n/**\n * Schema for scheduling an email.\n * Requirements: 12.5\n */\nexport const scheduleEmailSchema = sendEmailSchema.extend({\n  scheduled_at: z.string().datetime(),\n});\n\n/**\n * Schema for webhook delivery status update.\n * Requirements: 12.7\n */\nexport const emailWebhookSchema = z.object({\n  email_id: z.string(),\n  event: z.enum(['delivered', 'bounced', 'failed', 'opened', 'clicked']),\n  timestamp: z.string().datetime(),\n  error_message: z.string().optional(),\n});\n\n/**\n * Type exports derived from schemas.\n */\nexport type CreateEmailTemplateDTO = z.infer<typeof createEmailTemplateSchema>;\nexport type UpdateEmailTemplateDTO = z.infer<typeof updateEmailTemplateSchema>;\nexport type SendEmailDTO = z.infer<typeof sendEmailSchema>;\nexport type SendBulkEmailDTO = z.infer<typeof sendBulkEmailSchema>;\nexport type ScheduleEmailDTO = z.infer<typeof scheduleEmailSchema>;\nexport type EmailWebhookDTO = z.infer<typeof emailWebhookSchema>;\n\n/**\n * Email template entity.\n */\nexport interface EmailTemplate {\n  id: string;\n  name: string;\n  subject: string;\n  body_html: string;\n  body_text: string;\n  variables: string[];\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * Email log entity.\n * Requirements: 12.6, 12.7\n */\nexport interface EmailLog {\n  id: string;\n  template_id?: string;\n  recipient_email: string;\n  subject: string;\n  delivery_status: 'queued' | 'sent' | 'delivered' | 'failed' | 'bounced';\n  sent_at?: string;\n  delivered_at?: string;\n  error_message?: string;\n  created_at: string;\n}\n"],"names":["createEmailTemplateSchema","emailWebhookSchema","scheduleEmailSchema","sendBulkEmailSchema","sendEmailSchema","updateEmailTemplateSchema","z","object","name","string","min","max","subject","body_html","body_text","variables","array","default","partial","to","email","html","text","optional","template_id","uuid","record","recipients","extend","scheduled_at","datetime","email_id","event","enum","timestamp","error_message"],"mappings":";;;;;;;;;;;QAMaA;eAAAA;;QAmDAC;eAAAA;;QARAC;eAAAA;;QAbAC;eAAAA;;QAbAC;eAAAA;;QANAC;eAAAA;;;qBAjBK;AAMX,MAAML,4BAA4BM,MAAC,CAACC,MAAM,CAAC;IAChDC,MAAMF,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC,GAAGC,GAAG,CAAC;IAC5BC,SAASN,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC,GAAGC,GAAG,CAAC;IAC/BE,WAAWP,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IAC1BI,WAAWR,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IAC1BK,WAAWT,MAAC,CAACU,KAAK,CAACV,MAAC,CAACG,MAAM,IAAIQ,OAAO,CAAC,EAAE;AAC3C;AAKO,MAAMZ,4BAA4BL,0BAA0BkB,OAAO;AAMnE,MAAMd,kBAAkBE,MAAC,CAACC,MAAM,CAAC;IACtCY,IAAIb,MAAC,CAACG,MAAM,GAAGW,KAAK;IACpBR,SAASN,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC,GAAGC,GAAG,CAAC;IAC/BU,MAAMf,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACrBY,MAAMhB,MAAC,CAACG,MAAM,GAAGc,QAAQ;IACzBC,aAAalB,MAAC,CAACG,MAAM,GAAGgB,IAAI,GAAGF,QAAQ;IACvCR,WAAWT,MAAC,CAACoB,MAAM,CAACpB,MAAC,CAACG,MAAM,IAAIH,MAAC,CAACG,MAAM,IAAIc,QAAQ;AACtD;AAMO,MAAMpB,sBAAsBG,MAAC,CAACC,MAAM,CAAC;IAC1CoB,YAAYrB,MAAC,CAACU,KAAK,CAACV,MAAC,CAACG,MAAM,GAAGW,KAAK,IAAIV,GAAG,CAAC,GAAGC,GAAG,CAAC;IACnDC,SAASN,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC,GAAGC,GAAG,CAAC;IAC/BU,MAAMf,MAAC,CAACG,MAAM,GAAGC,GAAG,CAAC;IACrBY,MAAMhB,MAAC,CAACG,MAAM,GAAGc,QAAQ;IACzBC,aAAalB,MAAC,CAACG,MAAM,GAAGgB,IAAI,GAAGF,QAAQ;IACvCR,WAAWT,MAAC,CAACoB,MAAM,CAACpB,MAAC,CAACG,MAAM,IAAIH,MAAC,CAACG,MAAM,IAAIc,QAAQ;AACtD;AAMO,MAAMrB,sBAAsBE,gBAAgBwB,MAAM,CAAC;IACxDC,cAAcvB,MAAC,CAACG,MAAM,GAAGqB,QAAQ;AACnC;AAMO,MAAM7B,qBAAqBK,MAAC,CAACC,MAAM,CAAC;IACzCwB,UAAUzB,MAAC,CAACG,MAAM;IAClBuB,OAAO1B,MAAC,CAAC2B,IAAI,CAAC;QAAC;QAAa;QAAW;QAAU;QAAU;KAAU;IACrEC,WAAW5B,MAAC,CAACG,MAAM,GAAGqB,QAAQ;IAC9BK,eAAe7B,MAAC,CAACG,MAAM,GAAGc,QAAQ;AACpC"}