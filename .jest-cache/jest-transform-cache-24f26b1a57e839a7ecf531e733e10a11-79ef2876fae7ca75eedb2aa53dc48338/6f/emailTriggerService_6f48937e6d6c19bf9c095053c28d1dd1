4c71650565df4a978fe502524d8e1464
"use strict";

/* istanbul ignore next */
function cov_1cb23m6epv() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/emailTriggerService.ts";
  var hash = "5f32c586af5844756582290a217801e043ede638";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/emailTriggerService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 37
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 41
        }
      },
      "6": {
        start: {
          line: 19,
          column: 20
        },
        end: {
          line: 19,
          column: 52
        }
      },
      "7": {
        start: {
          line: 20,
          column: 22
        },
        end: {
          line: 20,
          column: 47
        }
      },
      "8": {
        start: {
          line: 21,
          column: 15
        },
        end: {
          line: 21,
          column: 34
        }
      },
      "9": {
        start: {
          line: 22,
          column: 20
        },
        end: {
          line: 22,
          column: 56
        }
      },
      "10": {
        start: {
          line: 23,
          column: 20
        },
        end: {
          line: 23,
          column: 57
        }
      },
      "11": {
        start: {
          line: 24,
          column: 17
        },
        end: {
          line: 24,
          column: 72
        }
      },
      "12": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 91,
          column: 5
        }
      },
      "13": {
        start: {
          line: 28,
          column: 20
        },
        end: {
          line: 28,
          column: 30
        }
      },
      "14": {
        start: {
          line: 29,
          column: 26
        },
        end: {
          line: 29,
          column: 71
        }
      },
      "15": {
        start: {
          line: 30,
          column: 26
        },
        end: {
          line: 30,
          column: 71
        }
      },
      "16": {
        start: {
          line: 31,
          column: 61
        },
        end: {
          line: 31,
          column: 237
        }
      },
      "17": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 41,
          column: 9
        }
      },
      "18": {
        start: {
          line: 33,
          column: 12
        },
        end: {
          line: 40,
          column: 14
        }
      },
      "19": {
        start: {
          line: 42,
          column: 19
        },
        end: {
          line: 42,
          column: 20
        }
      },
      "20": {
        start: {
          line: 43,
          column: 21
        },
        end: {
          line: 43,
          column: 22
        }
      },
      "21": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "22": {
        start: {
          line: 46,
          column: 55
        },
        end: {
          line: 46,
          column: 197
        }
      },
      "23": {
        start: {
          line: 47,
          column: 12
        },
        end: {
          line: 50,
          column: 13
        }
      },
      "24": {
        start: {
          line: 48,
          column: 16
        },
        end: {
          line: 48,
          column: 25
        }
      },
      "25": {
        start: {
          line: 49,
          column: 16
        },
        end: {
          line: 49,
          column: 25
        }
      },
      "26": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 74,
          column: 13
        }
      },
      "27": {
        start: {
          line: 52,
          column: 30
        },
        end: {
          line: 52,
          column: 41
        }
      },
      "28": {
        start: {
          line: 53,
          column: 16
        },
        end: {
          line: 53,
          column: 53
        }
      },
      "29": {
        start: {
          line: 53,
          column: 44
        },
        end: {
          line: 53,
          column: 53
        }
      },
      "30": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 73,
          column: 17
        }
      },
      "31": {
        start: {
          line: 55,
          column: 20
        },
        end: {
          line: 69,
          column: 23
        }
      },
      "32": {
        start: {
          line: 70,
          column: 20
        },
        end: {
          line: 70,
          column: 27
        }
      },
      "33": {
        start: {
          line: 72,
          column: 20
        },
        end: {
          line: 72,
          column: 29
        }
      },
      "34": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 82,
          column: 10
        }
      },
      "35": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 90,
          column: 10
        }
      },
      "36": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 171,
          column: 5
        }
      },
      "37": {
        start: {
          line: 96,
          column: 20
        },
        end: {
          line: 96,
          column: 30
        }
      },
      "38": {
        start: {
          line: 97,
          column: 24
        },
        end: {
          line: 97,
          column: 73
        }
      },
      "39": {
        start: {
          line: 98,
          column: 24
        },
        end: {
          line: 98,
          column: 73
        }
      },
      "40": {
        start: {
          line: 99,
          column: 23
        },
        end: {
          line: 99,
          column: 72
        }
      },
      "41": {
        start: {
          line: 100,
          column: 30
        },
        end: {
          line: 104,
          column: 9
        }
      },
      "42": {
        start: {
          line: 105,
          column: 61
        },
        end: {
          line: 105,
          column: 163
        }
      },
      "43": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 115,
          column: 9
        }
      },
      "44": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 114,
          column: 14
        }
      },
      "45": {
        start: {
          line: 116,
          column: 19
        },
        end: {
          line: 116,
          column: 20
        }
      },
      "46": {
        start: {
          line: 117,
          column: 21
        },
        end: {
          line: 117,
          column: 22
        }
      },
      "47": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 155,
          column: 9
        }
      },
      "48": {
        start: {
          line: 121,
          column: 60
        },
        end: {
          line: 121,
          column: 132
        }
      },
      "49": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 125,
          column: 13
        }
      },
      "50": {
        start: {
          line: 123,
          column: 16
        },
        end: {
          line: 123,
          column: 25
        }
      },
      "51": {
        start: {
          line: 124,
          column: 16
        },
        end: {
          line: 124,
          column: 25
        }
      },
      "52": {
        start: {
          line: 127,
          column: 64
        },
        end: {
          line: 127,
          column: 167
        }
      },
      "53": {
        start: {
          line: 128,
          column: 12
        },
        end: {
          line: 131,
          column: 13
        }
      },
      "54": {
        start: {
          line: 129,
          column: 16
        },
        end: {
          line: 129,
          column: 25
        }
      },
      "55": {
        start: {
          line: 130,
          column: 16
        },
        end: {
          line: 130,
          column: 25
        }
      },
      "56": {
        start: {
          line: 132,
          column: 38
        },
        end: {
          line: 132,
          column: 90
        }
      },
      "57": {
        start: {
          line: 132,
          column: 78
        },
        end: {
          line: 132,
          column: 88
        }
      },
      "58": {
        start: {
          line: 134,
          column: 12
        },
        end: {
          line: 154,
          column: 13
        }
      },
      "59": {
        start: {
          line: 135,
          column: 16
        },
        end: {
          line: 135,
          column: 78
        }
      },
      "60": {
        start: {
          line: 135,
          column: 69
        },
        end: {
          line: 135,
          column: 78
        }
      },
      "61": {
        start: {
          line: 136,
          column: 16
        },
        end: {
          line: 153,
          column: 17
        }
      },
      "62": {
        start: {
          line: 137,
          column: 20
        },
        end: {
          line: 149,
          column: 23
        }
      },
      "63": {
        start: {
          line: 150,
          column: 20
        },
        end: {
          line: 150,
          column: 27
        }
      },
      "64": {
        start: {
          line: 152,
          column: 20
        },
        end: {
          line: 152,
          column: 29
        }
      },
      "65": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 162,
          column: 10
        }
      },
      "66": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 170,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 33
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 37
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "sendActivityReminders",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 36
          }
        },
        loc: {
          start: {
            line: 25,
            column: 39
          },
          end: {
            line: 92,
            column: 1
          }
        },
        line: 25
      },
      "4": {
        name: "sendDeadlineNotifications",
        decl: {
          start: {
            line: 93,
            column: 15
          },
          end: {
            line: 93,
            column: 40
          }
        },
        loc: {
          start: {
            line: 93,
            column: 43
          },
          end: {
            line: 172,
            column: 1
          }
        },
        line: 93
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 132,
            column: 73
          },
          end: {
            line: 132,
            column: 74
          }
        },
        loc: {
          start: {
            line: 132,
            column: 78
          },
          end: {
            line: 132,
            column: 88
          }
        },
        line: 132
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 41,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 32,
            column: 8
          },
          end: {
            line: 41,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 32
      },
      "1": {
        loc: {
          start: {
            line: 45,
            column: 31
          },
          end: {
            line: 45,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 45,
            column: 31
          },
          end: {
            line: 45,
            column: 41
          }
        }, {
          start: {
            line: 45,
            column: 45
          },
          end: {
            line: 45,
            column: 47
          }
        }],
        line: 45
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 50,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 50,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 51,
            column: 31
          },
          end: {
            line: 51,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 51,
            column: 31
          },
          end: {
            line: 51,
            column: 36
          }
        }, {
          start: {
            line: 51,
            column: 40
          },
          end: {
            line: 51,
            column: 42
          }
        }],
        line: 51
      },
      "4": {
        loc: {
          start: {
            line: 53,
            column: 16
          },
          end: {
            line: 53,
            column: 53
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 53,
            column: 16
          },
          end: {
            line: 53,
            column: 53
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 53
      },
      "5": {
        loc: {
          start: {
            line: 53,
            column: 20
          },
          end: {
            line: 53,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 20
          },
          end: {
            line: 53,
            column: 26
          }
        }, {
          start: {
            line: 53,
            column: 30
          },
          end: {
            line: 53,
            column: 42
          }
        }],
        line: 53
      },
      "6": {
        loc: {
          start: {
            line: 63,
            column: 42
          },
          end: {
            line: 63,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 63,
            column: 42
          },
          end: {
            line: 63,
            column: 55
          }
        }, {
          start: {
            line: 63,
            column: 59
          },
          end: {
            line: 63,
            column: 64
          }
        }],
        line: 63
      },
      "7": {
        loc: {
          start: {
            line: 64,
            column: 46
          },
          end: {
            line: 64,
            column: 72
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 64,
            column: 46
          },
          end: {
            line: 64,
            column: 63
          }
        }, {
          start: {
            line: 64,
            column: 67
          },
          end: {
            line: 64,
            column: 72
          }
        }],
        line: 64
      },
      "8": {
        loc: {
          start: {
            line: 67,
            column: 107
          },
          end: {
            line: 67,
            column: 129
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 107
          },
          end: {
            line: 67,
            column: 120
          }
        }, {
          start: {
            line: 67,
            column: 124
          },
          end: {
            line: 67,
            column: 129
          }
        }],
        line: 67
      },
      "9": {
        loc: {
          start: {
            line: 67,
            column: 144
          },
          end: {
            line: 67,
            column: 170
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 144
          },
          end: {
            line: 67,
            column: 161
          }
        }, {
          start: {
            line: 67,
            column: 165
          },
          end: {
            line: 67,
            column: 170
          }
        }],
        line: 67
      },
      "10": {
        loc: {
          start: {
            line: 88,
            column: 25
          },
          end: {
            line: 88,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 88,
            column: 50
          },
          end: {
            line: 88,
            column: 63
          }
        }, {
          start: {
            line: 88,
            column: 66
          },
          end: {
            line: 88,
            column: 81
          }
        }],
        line: 88
      },
      "11": {
        loc: {
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "12": {
        loc: {
          start: {
            line: 119,
            column: 31
          },
          end: {
            line: 119,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 119,
            column: 31
          },
          end: {
            line: 119,
            column: 41
          }
        }, {
          start: {
            line: 119,
            column: 45
          },
          end: {
            line: 119,
            column: 47
          }
        }],
        line: 119
      },
      "13": {
        loc: {
          start: {
            line: 122,
            column: 12
          },
          end: {
            line: 125,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 122,
            column: 12
          },
          end: {
            line: 125,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 122
      },
      "14": {
        loc: {
          start: {
            line: 128,
            column: 12
          },
          end: {
            line: 131,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 128,
            column: 12
          },
          end: {
            line: 131,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 128
      },
      "15": {
        loc: {
          start: {
            line: 132,
            column: 47
          },
          end: {
            line: 132,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 132,
            column: 47
          },
          end: {
            line: 132,
            column: 61
          }
        }, {
          start: {
            line: 132,
            column: 65
          },
          end: {
            line: 132,
            column: 67
          }
        }],
        line: 132
      },
      "16": {
        loc: {
          start: {
            line: 134,
            column: 32
          },
          end: {
            line: 134,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 134,
            column: 32
          },
          end: {
            line: 134,
            column: 41
          }
        }, {
          start: {
            line: 134,
            column: 45
          },
          end: {
            line: 134,
            column: 47
          }
        }],
        line: 134
      },
      "17": {
        loc: {
          start: {
            line: 135,
            column: 16
          },
          end: {
            line: 135,
            column: 78
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 16
          },
          end: {
            line: 135,
            column: 78
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "18": {
        loc: {
          start: {
            line: 135,
            column: 20
          },
          end: {
            line: 135,
            column: 67
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 135,
            column: 20
          },
          end: {
            line: 135,
            column: 51
          }
        }, {
          start: {
            line: 135,
            column: 55
          },
          end: {
            line: 135,
            column: 67
          }
        }],
        line: 135
      },
      "19": {
        loc: {
          start: {
            line: 168,
            column: 25
          },
          end: {
            line: 168,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 168,
            column: 50
          },
          end: {
            line: 168,
            column: 63
          }
        }, {
          start: {
            line: 168,
            column: 66
          },
          end: {
            line: 168,
            column: 81
          }
        }],
        line: 168
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/emailTriggerService.ts"],
      sourcesContent: ["import { createClient } from '@supabase/supabase-js';\nimport { sendEmail } from './emailService';\nimport type { Result } from '@/types';\nimport { ERROR_CODES } from '@/types';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\n/**\n * Sends activity reminder emails to guests 48 hours before activities\n * Requirements: 26.10\n */\nexport async function sendActivityReminders(): Promise<Result<{ sent: number; failed: number }>> {\n  try {\n    // Get activities starting in 48 hours\n    const now = new Date();\n    const in48Hours = new Date(now.getTime() + 48 * 60 * 60 * 1000);\n    const in49Hours = new Date(now.getTime() + 49 * 60 * 60 * 1000);\n\n    const { data: activities, error: activitiesError } = await supabase\n      .from('activities')\n      .select('id, name, date, time, location')\n      .gte('date', in48Hours.toISOString().split('T')[0])\n      .lte('date', in49Hours.toISOString().split('T')[0]);\n\n    if (activitiesError) {\n      return {\n        success: false,\n        error: {\n          code: ERROR_CODES.DATABASE_ERROR,\n          message: activitiesError.message,\n          details: activitiesError,\n        },\n      };\n    }\n\n    let sent = 0;\n    let failed = 0;\n\n    // For each activity, get attending guests and send reminders\n    for (const activity of activities || []) {\n      const { data: rsvps, error: rsvpsError } = await supabase\n        .from('rsvps')\n        .select('guest_id, guests(first_name, last_name, email)')\n        .eq('activity_id', activity.id)\n        .eq('status', 'attending');\n\n      if (rsvpsError) {\n        failed++;\n        continue;\n      }\n\n      for (const rsvp of rsvps || []) {\n        const guest = (rsvp as any).guests;\n        if (!guest || !guest.email) continue;\n\n        try {\n          await sendEmail({\n            to: guest.email,\n            subject: `Reminder: ${activity.name} Tomorrow`,\n            html: `\n              <p>Hi ${guest.first_name},</p>\n              <p>This is a reminder that you have an activity coming up!</p>\n              <p><strong>Activity:</strong> ${activity.name}</p>\n              <p><strong>Date:</strong> ${activity.date}</p>\n              <p><strong>Time:</strong> ${activity.time || 'TBD'}</p>\n              <p><strong>Location:</strong> ${activity.location || 'TBD'}</p>\n              <p>See you there!</p>\n            `,\n            text: `Hi ${guest.first_name}, Reminder: ${activity.name} on ${activity.date} at ${activity.time || 'TBD'}. Location: ${activity.location || 'TBD'}`,\n            template_id: undefined, // Could use 'activity_reminder' template\n          });\n          sent++;\n        } catch (error) {\n          failed++;\n        }\n      }\n    }\n\n    return {\n      success: true,\n      data: { sent, failed },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: ERROR_CODES.UNKNOWN_ERROR,\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n\n/**\n * Sends deadline notification emails to guests who haven't responded\n * Requirements: 4.8\n */\nexport async function sendDeadlineNotifications(): Promise<Result<{ sent: number; failed: number }>> {\n  try {\n    // Get activities with RSVP deadlines in 7 days, 3 days, or 1 day\n    const now = new Date();\n    const in7Days = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);\n    const in3Days = new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000);\n    const in1Day = new Date(now.getTime() + 1 * 24 * 60 * 60 * 1000);\n\n    const deadlineDates = [\n      in7Days.toISOString().split('T')[0],\n      in3Days.toISOString().split('T')[0],\n      in1Day.toISOString().split('T')[0],\n    ];\n\n    const { data: activities, error: activitiesError } = await supabase\n      .from('activities')\n      .select('id, name, rsvp_deadline')\n      .in('rsvp_deadline', deadlineDates);\n\n    if (activitiesError) {\n      return {\n        success: false,\n        error: {\n          code: ERROR_CODES.DATABASE_ERROR,\n          message: activitiesError.message,\n          details: activitiesError,\n        },\n      };\n    }\n\n    let sent = 0;\n    let failed = 0;\n\n    // For each activity, find guests who haven't responded\n    for (const activity of activities || []) {\n      // Get all guests invited to this activity\n      const { data: allGuests, error: guestsError } = await supabase\n        .from('guests')\n        .select('id, first_name, last_name, email');\n\n      if (guestsError) {\n        failed++;\n        continue;\n      }\n\n      // Get guests who have already responded\n      const { data: respondedRsvps, error: rsvpsError } = await supabase\n        .from('rsvps')\n        .select('guest_id')\n        .eq('activity_id', activity.id)\n        .neq('status', 'pending');\n\n      if (rsvpsError) {\n        failed++;\n        continue;\n      }\n\n      const respondedGuestIds = new Set((respondedRsvps || []).map(r => r.guest_id));\n\n      // Send reminders to guests who haven't responded\n      for (const guest of allGuests || []) {\n        if (respondedGuestIds.has(guest.id) || !guest.email) continue;\n\n        try {\n          await sendEmail({\n            to: guest.email,\n            subject: `RSVP Deadline Approaching for ${activity.name}`,\n            html: `\n              <p>Hi ${guest.first_name},</p>\n              <p>This is a reminder that the RSVP deadline for ${activity.name} is approaching!</p>\n              <p><strong>Deadline:</strong> ${activity.rsvp_deadline}</p>\n              <p>Please submit your RSVP as soon as possible.</p>\n              <p>Thank you!</p>\n            `,\n            text: `Hi ${guest.first_name}, RSVP deadline for ${activity.name} is ${activity.rsvp_deadline}. Please respond soon!`,\n            template_id: undefined, // Could use 'deadline_reminder' template\n          });\n          sent++;\n        } catch (error) {\n          failed++;\n        }\n      }\n    }\n\n    return {\n      success: true,\n      data: { sent, failed },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: ERROR_CODES.UNKNOWN_ERROR,\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n    };\n  }\n}\n"],
      names: ["sendActivityReminders", "sendDeadlineNotifications", "supabaseUrl", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "supabaseKey", "SUPABASE_SERVICE_ROLE_KEY", "supabase", "createClient", "now", "Date", "in48Hours", "getTime", "in49Hours", "data", "activities", "error", "activitiesError", "from", "select", "gte", "toISOString", "split", "lte", "success", "code", "ERROR_CODES", "DATABASE_ERROR", "message", "details", "sent", "failed", "activity", "rsvps", "rsvpsError", "eq", "id", "rsvp", "guest", "guests", "email", "sendEmail", "to", "subject", "name", "html", "first_name", "date", "time", "location", "text", "template_id", "undefined", "UNKNOWN_ERROR", "Error", "in7Days", "in3Days", "in1Day", "deadlineDates", "in", "allGuests", "guestsError", "respondedRsvps", "neq", "respondedGuestIds", "Set", "map", "r", "guest_id", "has", "rsvp_deadline"],
      mappings: ";;;;;;;;;;;QAasBA;eAAAA;;QAsFAC;eAAAA;;;4BAnGO;8BACH;uBAEE;AAE5B,MAAMC,cAAcC,QAAQC,GAAG,CAACC,wBAAwB;AACxD,MAAMC,cAAcH,QAAQC,GAAG,CAACG,yBAAyB;AACzD,MAAMC,WAAWC,IAAAA,wBAAY,EAACP,aAAaI;AAMpC,eAAeN;IACpB,IAAI;QACF,sCAAsC;QACtC,MAAMU,MAAM,IAAIC;QAChB,MAAMC,YAAY,IAAID,KAAKD,IAAIG,OAAO,KAAK,KAAK,KAAK,KAAK;QAC1D,MAAMC,YAAY,IAAIH,KAAKD,IAAIG,OAAO,KAAK,KAAK,KAAK,KAAK;QAE1D,MAAM,EAAEE,MAAMC,UAAU,EAAEC,OAAOC,eAAe,EAAE,GAAG,MAAMV,SACxDW,IAAI,CAAC,cACLC,MAAM,CAAC,kCACPC,GAAG,CAAC,QAAQT,UAAUU,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE,EACjDC,GAAG,CAAC,QAAQV,UAAUQ,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;QAEpD,IAAIL,iBAAiB;YACnB,OAAO;gBACLO,SAAS;gBACTR,OAAO;oBACLS,MAAMC,kBAAW,CAACC,cAAc;oBAChCC,SAASX,gBAAgBW,OAAO;oBAChCC,SAASZ;gBACX;YACF;QACF;QAEA,IAAIa,OAAO;QACX,IAAIC,SAAS;QAEb,6DAA6D;QAC7D,KAAK,MAAMC,YAAYjB,cAAc,EAAE,CAAE;YACvC,MAAM,EAAED,MAAMmB,KAAK,EAAEjB,OAAOkB,UAAU,EAAE,GAAG,MAAM3B,SAC9CW,IAAI,CAAC,SACLC,MAAM,CAAC,kDACPgB,EAAE,CAAC,eAAeH,SAASI,EAAE,EAC7BD,EAAE,CAAC,UAAU;YAEhB,IAAID,YAAY;gBACdH;gBACA;YACF;YAEA,KAAK,MAAMM,QAAQJ,SAAS,EAAE,CAAE;gBAC9B,MAAMK,QAAQ,AAACD,KAAaE,MAAM;gBAClC,IAAI,CAACD,SAAS,CAACA,MAAME,KAAK,EAAE;gBAE5B,IAAI;oBACF,MAAMC,IAAAA,uBAAS,EAAC;wBACdC,IAAIJ,MAAME,KAAK;wBACfG,SAAS,CAAC,UAAU,EAAEX,SAASY,IAAI,CAAC,SAAS,CAAC;wBAC9CC,MAAM,CAAC;oBACC,EAAEP,MAAMQ,UAAU,CAAC;;4CAEK,EAAEd,SAASY,IAAI,CAAC;wCACpB,EAAEZ,SAASe,IAAI,CAAC;wCAChB,EAAEf,SAASgB,IAAI,IAAI,MAAM;4CACrB,EAAEhB,SAASiB,QAAQ,IAAI,MAAM;;YAE7D,CAAC;wBACDC,MAAM,CAAC,GAAG,EAAEZ,MAAMQ,UAAU,CAAC,YAAY,EAAEd,SAASY,IAAI,CAAC,IAAI,EAAEZ,SAASe,IAAI,CAAC,IAAI,EAAEf,SAASgB,IAAI,IAAI,MAAM,YAAY,EAAEhB,SAASiB,QAAQ,IAAI,OAAO;wBACpJE,aAAaC;oBACf;oBACAtB;gBACF,EAAE,OAAOd,OAAO;oBACde;gBACF;YACF;QACF;QAEA,OAAO;YACLP,SAAS;YACTV,MAAM;gBAAEgB;gBAAMC;YAAO;QACvB;IACF,EAAE,OAAOf,OAAO;QACd,OAAO;YACLQ,SAAS;YACTR,OAAO;gBACLS,MAAMC,kBAAW,CAAC2B,aAAa;gBAC/BzB,SAASZ,iBAAiBsC,QAAQtC,MAAMY,OAAO,GAAG;YACpD;QACF;IACF;AACF;AAMO,eAAe5B;IACpB,IAAI;QACF,iEAAiE;QACjE,MAAMS,MAAM,IAAIC;QAChB,MAAM6C,UAAU,IAAI7C,KAAKD,IAAIG,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK;QAC5D,MAAM4C,UAAU,IAAI9C,KAAKD,IAAIG,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK;QAC5D,MAAM6C,SAAS,IAAI/C,KAAKD,IAAIG,OAAO,KAAK,IAAI,KAAK,KAAK,KAAK;QAE3D,MAAM8C,gBAAgB;YACpBH,QAAQlC,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;YACnCkC,QAAQnC,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;YACnCmC,OAAOpC,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;SACnC;QAED,MAAM,EAAER,MAAMC,UAAU,EAAEC,OAAOC,eAAe,EAAE,GAAG,MAAMV,SACxDW,IAAI,CAAC,cACLC,MAAM,CAAC,2BACPwC,EAAE,CAAC,iBAAiBD;QAEvB,IAAIzC,iBAAiB;YACnB,OAAO;gBACLO,SAAS;gBACTR,OAAO;oBACLS,MAAMC,kBAAW,CAACC,cAAc;oBAChCC,SAASX,gBAAgBW,OAAO;oBAChCC,SAASZ;gBACX;YACF;QACF;QAEA,IAAIa,OAAO;QACX,IAAIC,SAAS;QAEb,uDAAuD;QACvD,KAAK,MAAMC,YAAYjB,cAAc,EAAE,CAAE;YACvC,0CAA0C;YAC1C,MAAM,EAAED,MAAM8C,SAAS,EAAE5C,OAAO6C,WAAW,EAAE,GAAG,MAAMtD,SACnDW,IAAI,CAAC,UACLC,MAAM,CAAC;YAEV,IAAI0C,aAAa;gBACf9B;gBACA;YACF;YAEA,wCAAwC;YACxC,MAAM,EAAEjB,MAAMgD,cAAc,EAAE9C,OAAOkB,UAAU,EAAE,GAAG,MAAM3B,SACvDW,IAAI,CAAC,SACLC,MAAM,CAAC,YACPgB,EAAE,CAAC,eAAeH,SAASI,EAAE,EAC7B2B,GAAG,CAAC,UAAU;YAEjB,IAAI7B,YAAY;gBACdH;gBACA;YACF;YAEA,MAAMiC,oBAAoB,IAAIC,IAAI,AAACH,CAAAA,kBAAkB,EAAE,AAAD,EAAGI,GAAG,CAACC,CAAAA,IAAKA,EAAEC,QAAQ;YAE5E,iDAAiD;YACjD,KAAK,MAAM9B,SAASsB,aAAa,EAAE,CAAE;gBACnC,IAAII,kBAAkBK,GAAG,CAAC/B,MAAMF,EAAE,KAAK,CAACE,MAAME,KAAK,EAAE;gBAErD,IAAI;oBACF,MAAMC,IAAAA,uBAAS,EAAC;wBACdC,IAAIJ,MAAME,KAAK;wBACfG,SAAS,CAAC,8BAA8B,EAAEX,SAASY,IAAI,EAAE;wBACzDC,MAAM,CAAC;oBACC,EAAEP,MAAMQ,UAAU,CAAC;+DACwB,EAAEd,SAASY,IAAI,CAAC;4CACnC,EAAEZ,SAASsC,aAAa,CAAC;;;YAGzD,CAAC;wBACDpB,MAAM,CAAC,GAAG,EAAEZ,MAAMQ,UAAU,CAAC,oBAAoB,EAAEd,SAASY,IAAI,CAAC,IAAI,EAAEZ,SAASsC,aAAa,CAAC,sBAAsB,CAAC;wBACrHnB,aAAaC;oBACf;oBACAtB;gBACF,EAAE,OAAOd,OAAO;oBACde;gBACF;YACF;QACF;QAEA,OAAO;YACLP,SAAS;YACTV,MAAM;gBAAEgB;gBAAMC;YAAO;QACvB;IACF,EAAE,OAAOf,OAAO;QACd,OAAO;YACLQ,SAAS;YACTR,OAAO;gBACLS,MAAMC,kBAAW,CAAC2B,aAAa;gBAC/BzB,SAASZ,iBAAiBsC,QAAQtC,MAAMY,OAAO,GAAG;YACpD;QACF;IACF;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5f32c586af5844756582290a217801e043ede638"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1cb23m6epv = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1cb23m6epv();
cov_1cb23m6epv().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1cb23m6epv().f[0]++;
  cov_1cb23m6epv().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1cb23m6epv().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1cb23m6epv().s[3]++;
_export(exports, {
  get sendActivityReminders() {
    /* istanbul ignore next */
    cov_1cb23m6epv().f[1]++;
    cov_1cb23m6epv().s[4]++;
    return sendActivityReminders;
  },
  get sendDeadlineNotifications() {
    /* istanbul ignore next */
    cov_1cb23m6epv().f[2]++;
    cov_1cb23m6epv().s[5]++;
    return sendDeadlineNotifications;
  }
});
const _supabasejs =
/* istanbul ignore next */
(cov_1cb23m6epv().s[6]++, require("@supabase/supabase-js"));
const _emailService =
/* istanbul ignore next */
(cov_1cb23m6epv().s[7]++, require("./emailService"));
const _types =
/* istanbul ignore next */
(cov_1cb23m6epv().s[8]++, require("../types"));
const supabaseUrl =
/* istanbul ignore next */
(cov_1cb23m6epv().s[9]++, process.env.NEXT_PUBLIC_SUPABASE_URL);
const supabaseKey =
/* istanbul ignore next */
(cov_1cb23m6epv().s[10]++, process.env.SUPABASE_SERVICE_ROLE_KEY);
const supabase =
/* istanbul ignore next */
(cov_1cb23m6epv().s[11]++, (0, _supabasejs.createClient)(supabaseUrl, supabaseKey));
async function sendActivityReminders() {
  /* istanbul ignore next */
  cov_1cb23m6epv().f[3]++;
  cov_1cb23m6epv().s[12]++;
  try {
    // Get activities starting in 48 hours
    const now =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[13]++, new Date());
    const in48Hours =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[14]++, new Date(now.getTime() + 48 * 60 * 60 * 1000));
    const in49Hours =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[15]++, new Date(now.getTime() + 49 * 60 * 60 * 1000));
    const {
      data: activities,
      error: activitiesError
    } =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[16]++, await supabase.from('activities').select('id, name, date, time, location').gte('date', in48Hours.toISOString().split('T')[0]).lte('date', in49Hours.toISOString().split('T')[0]));
    /* istanbul ignore next */
    cov_1cb23m6epv().s[17]++;
    if (activitiesError) {
      /* istanbul ignore next */
      cov_1cb23m6epv().b[0][0]++;
      cov_1cb23m6epv().s[18]++;
      return {
        success: false,
        error: {
          code: _types.ERROR_CODES.DATABASE_ERROR,
          message: activitiesError.message,
          details: activitiesError
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_1cb23m6epv().b[0][1]++;
    }
    let sent =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[19]++, 0);
    let failed =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[20]++, 0);
    // For each activity, get attending guests and send reminders
    /* istanbul ignore next */
    cov_1cb23m6epv().s[21]++;
    for (const activity of
    /* istanbul ignore next */
    (cov_1cb23m6epv().b[1][0]++, activities) ||
    /* istanbul ignore next */
    (cov_1cb23m6epv().b[1][1]++, [])) {
      const {
        data: rsvps,
        error: rsvpsError
      } =
      /* istanbul ignore next */
      (cov_1cb23m6epv().s[22]++, await supabase.from('rsvps').select('guest_id, guests(first_name, last_name, email)').eq('activity_id', activity.id).eq('status', 'attending'));
      /* istanbul ignore next */
      cov_1cb23m6epv().s[23]++;
      if (rsvpsError) {
        /* istanbul ignore next */
        cov_1cb23m6epv().b[2][0]++;
        cov_1cb23m6epv().s[24]++;
        failed++;
        /* istanbul ignore next */
        cov_1cb23m6epv().s[25]++;
        continue;
      } else
      /* istanbul ignore next */
      {
        cov_1cb23m6epv().b[2][1]++;
      }
      cov_1cb23m6epv().s[26]++;
      for (const rsvp of
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[3][0]++, rsvps) ||
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[3][1]++, [])) {
        const guest =
        /* istanbul ignore next */
        (cov_1cb23m6epv().s[27]++, rsvp.guests);
        /* istanbul ignore next */
        cov_1cb23m6epv().s[28]++;
        if (
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[5][0]++, !guest) ||
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[5][1]++, !guest.email)) {
          /* istanbul ignore next */
          cov_1cb23m6epv().b[4][0]++;
          cov_1cb23m6epv().s[29]++;
          continue;
        } else
        /* istanbul ignore next */
        {
          cov_1cb23m6epv().b[4][1]++;
        }
        cov_1cb23m6epv().s[30]++;
        try {
          /* istanbul ignore next */
          cov_1cb23m6epv().s[31]++;
          await (0, _emailService.sendEmail)({
            to: guest.email,
            subject: `Reminder: ${activity.name} Tomorrow`,
            html: `
              <p>Hi ${guest.first_name},</p>
              <p>This is a reminder that you have an activity coming up!</p>
              <p><strong>Activity:</strong> ${activity.name}</p>
              <p><strong>Date:</strong> ${activity.date}</p>
              <p><strong>Time:</strong> ${
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[6][0]++, activity.time) ||
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[6][1]++, 'TBD')}</p>
              <p><strong>Location:</strong> ${
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[7][0]++, activity.location) ||
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[7][1]++, 'TBD')}</p>
              <p>See you there!</p>
            `,
            text: `Hi ${guest.first_name}, Reminder: ${activity.name} on ${activity.date} at ${
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[8][0]++, activity.time) ||
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[8][1]++, 'TBD')}. Location: ${
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[9][0]++, activity.location) ||
            /* istanbul ignore next */
            (cov_1cb23m6epv().b[9][1]++, 'TBD')}`,
            template_id: undefined
          });
          /* istanbul ignore next */
          cov_1cb23m6epv().s[32]++;
          sent++;
        } catch (error) {
          /* istanbul ignore next */
          cov_1cb23m6epv().s[33]++;
          failed++;
        }
      }
    }
    /* istanbul ignore next */
    cov_1cb23m6epv().s[34]++;
    return {
      success: true,
      data: {
        sent,
        failed
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_1cb23m6epv().s[35]++;
    return {
      success: false,
      error: {
        code: _types.ERROR_CODES.UNKNOWN_ERROR,
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[10][0]++, error.message) :
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[10][1]++, 'Unknown error')
      }
    };
  }
}
async function sendDeadlineNotifications() {
  /* istanbul ignore next */
  cov_1cb23m6epv().f[4]++;
  cov_1cb23m6epv().s[36]++;
  try {
    // Get activities with RSVP deadlines in 7 days, 3 days, or 1 day
    const now =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[37]++, new Date());
    const in7Days =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[38]++, new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000));
    const in3Days =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[39]++, new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000));
    const in1Day =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[40]++, new Date(now.getTime() + 1 * 24 * 60 * 60 * 1000));
    const deadlineDates =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[41]++, [in7Days.toISOString().split('T')[0], in3Days.toISOString().split('T')[0], in1Day.toISOString().split('T')[0]]);
    const {
      data: activities,
      error: activitiesError
    } =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[42]++, await supabase.from('activities').select('id, name, rsvp_deadline').in('rsvp_deadline', deadlineDates));
    /* istanbul ignore next */
    cov_1cb23m6epv().s[43]++;
    if (activitiesError) {
      /* istanbul ignore next */
      cov_1cb23m6epv().b[11][0]++;
      cov_1cb23m6epv().s[44]++;
      return {
        success: false,
        error: {
          code: _types.ERROR_CODES.DATABASE_ERROR,
          message: activitiesError.message,
          details: activitiesError
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_1cb23m6epv().b[11][1]++;
    }
    let sent =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[45]++, 0);
    let failed =
    /* istanbul ignore next */
    (cov_1cb23m6epv().s[46]++, 0);
    // For each activity, find guests who haven't responded
    /* istanbul ignore next */
    cov_1cb23m6epv().s[47]++;
    for (const activity of
    /* istanbul ignore next */
    (cov_1cb23m6epv().b[12][0]++, activities) ||
    /* istanbul ignore next */
    (cov_1cb23m6epv().b[12][1]++, [])) {
      // Get all guests invited to this activity
      const {
        data: allGuests,
        error: guestsError
      } =
      /* istanbul ignore next */
      (cov_1cb23m6epv().s[48]++, await supabase.from('guests').select('id, first_name, last_name, email'));
      /* istanbul ignore next */
      cov_1cb23m6epv().s[49]++;
      if (guestsError) {
        /* istanbul ignore next */
        cov_1cb23m6epv().b[13][0]++;
        cov_1cb23m6epv().s[50]++;
        failed++;
        /* istanbul ignore next */
        cov_1cb23m6epv().s[51]++;
        continue;
      } else
      /* istanbul ignore next */
      {
        cov_1cb23m6epv().b[13][1]++;
      }
      // Get guests who have already responded
      const {
        data: respondedRsvps,
        error: rsvpsError
      } =
      /* istanbul ignore next */
      (cov_1cb23m6epv().s[52]++, await supabase.from('rsvps').select('guest_id').eq('activity_id', activity.id).neq('status', 'pending'));
      /* istanbul ignore next */
      cov_1cb23m6epv().s[53]++;
      if (rsvpsError) {
        /* istanbul ignore next */
        cov_1cb23m6epv().b[14][0]++;
        cov_1cb23m6epv().s[54]++;
        failed++;
        /* istanbul ignore next */
        cov_1cb23m6epv().s[55]++;
        continue;
      } else
      /* istanbul ignore next */
      {
        cov_1cb23m6epv().b[14][1]++;
      }
      const respondedGuestIds =
      /* istanbul ignore next */
      (cov_1cb23m6epv().s[56]++, new Set((
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[15][0]++, respondedRsvps) ||
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[15][1]++, [])).map(r => {
        /* istanbul ignore next */
        cov_1cb23m6epv().f[5]++;
        cov_1cb23m6epv().s[57]++;
        return r.guest_id;
      })));
      // Send reminders to guests who haven't responded
      /* istanbul ignore next */
      cov_1cb23m6epv().s[58]++;
      for (const guest of
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[16][0]++, allGuests) ||
      /* istanbul ignore next */
      (cov_1cb23m6epv().b[16][1]++, [])) {
        /* istanbul ignore next */
        cov_1cb23m6epv().s[59]++;
        if (
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[18][0]++, respondedGuestIds.has(guest.id)) ||
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[18][1]++, !guest.email)) {
          /* istanbul ignore next */
          cov_1cb23m6epv().b[17][0]++;
          cov_1cb23m6epv().s[60]++;
          continue;
        } else
        /* istanbul ignore next */
        {
          cov_1cb23m6epv().b[17][1]++;
        }
        cov_1cb23m6epv().s[61]++;
        try {
          /* istanbul ignore next */
          cov_1cb23m6epv().s[62]++;
          await (0, _emailService.sendEmail)({
            to: guest.email,
            subject: `RSVP Deadline Approaching for ${activity.name}`,
            html: `
              <p>Hi ${guest.first_name},</p>
              <p>This is a reminder that the RSVP deadline for ${activity.name} is approaching!</p>
              <p><strong>Deadline:</strong> ${activity.rsvp_deadline}</p>
              <p>Please submit your RSVP as soon as possible.</p>
              <p>Thank you!</p>
            `,
            text: `Hi ${guest.first_name}, RSVP deadline for ${activity.name} is ${activity.rsvp_deadline}. Please respond soon!`,
            template_id: undefined
          });
          /* istanbul ignore next */
          cov_1cb23m6epv().s[63]++;
          sent++;
        } catch (error) {
          /* istanbul ignore next */
          cov_1cb23m6epv().s[64]++;
          failed++;
        }
      }
    }
    /* istanbul ignore next */
    cov_1cb23m6epv().s[65]++;
    return {
      success: true,
      data: {
        sent,
        failed
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_1cb23m6epv().s[66]++;
    return {
      success: false,
      error: {
        code: _types.ERROR_CODES.UNKNOWN_ERROR,
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[19][0]++, error.message) :
        /* istanbul ignore next */
        (cov_1cb23m6epv().b[19][1]++, 'Unknown error')
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kQWN0aXZpdHlSZW1pbmRlcnMiLCJjb3ZfMWNiMjNtNmVwdiIsImYiLCJzIiwic2VuZERlYWRsaW5lTm90aWZpY2F0aW9ucyIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlS2V5IiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsInN1cGFiYXNlIiwiX3N1cGFiYXNlanMiLCJjcmVhdGVDbGllbnQiLCJub3ciLCJEYXRlIiwiaW40OEhvdXJzIiwiZ2V0VGltZSIsImluNDlIb3VycyIsImRhdGEiLCJhY3Rpdml0aWVzIiwiZXJyb3IiLCJhY3Rpdml0aWVzRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZ3RlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImx0ZSIsImIiLCJzdWNjZXNzIiwiY29kZSIsIl90eXBlcyIsIkVSUk9SX0NPREVTIiwiREFUQUJBU0VfRVJST1IiLCJtZXNzYWdlIiwiZGV0YWlscyIsInNlbnQiLCJmYWlsZWQiLCJhY3Rpdml0eSIsInJzdnBzIiwicnN2cHNFcnJvciIsImVxIiwiaWQiLCJyc3ZwIiwiZ3Vlc3QiLCJndWVzdHMiLCJlbWFpbCIsIl9lbWFpbFNlcnZpY2UiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJuYW1lIiwiaHRtbCIsImZpcnN0X25hbWUiLCJkYXRlIiwidGltZSIsImxvY2F0aW9uIiwidGV4dCIsInRlbXBsYXRlX2lkIiwidW5kZWZpbmVkIiwiVU5LTk9XTl9FUlJPUiIsIkVycm9yIiwiaW43RGF5cyIsImluM0RheXMiLCJpbjFEYXkiLCJkZWFkbGluZURhdGVzIiwiaW4iLCJhbGxHdWVzdHMiLCJndWVzdHNFcnJvciIsInJlc3BvbmRlZFJzdnBzIiwibmVxIiwicmVzcG9uZGVkR3Vlc3RJZHMiLCJTZXQiLCJtYXAiLCJyIiwiZ3Vlc3RfaWQiLCJoYXMiLCJyc3ZwX2RlYWRsaW5lIl0sInNvdXJjZXMiOlsiL1VzZXJzL2phcm9uL0Rlc2t0b3Avd2VkZGluZy1wbGF0Zm9ybS12Mi9zZXJ2aWNlcy9lbWFpbFRyaWdnZXJTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBzZW5kRW1haWwgfSBmcm9tICcuL2VtYWlsU2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgRVJST1JfQ09ERVMgfSBmcm9tICdAL3R5cGVzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhO1xuY29uc3Qgc3VwYWJhc2VLZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZITtcbmNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSk7XG5cbi8qKlxuICogU2VuZHMgYWN0aXZpdHkgcmVtaW5kZXIgZW1haWxzIHRvIGd1ZXN0cyA0OCBob3VycyBiZWZvcmUgYWN0aXZpdGllc1xuICogUmVxdWlyZW1lbnRzOiAyNi4xMFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEFjdGl2aXR5UmVtaW5kZXJzKCk6IFByb21pc2U8UmVzdWx0PHsgc2VudDogbnVtYmVyOyBmYWlsZWQ6IG51bWJlciB9Pj4ge1xuICB0cnkge1xuICAgIC8vIEdldCBhY3Rpdml0aWVzIHN0YXJ0aW5nIGluIDQ4IGhvdXJzXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBpbjQ4SG91cnMgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgNDggKiA2MCAqIDYwICogMTAwMCk7XG4gICAgY29uc3QgaW40OUhvdXJzID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIDQ5ICogNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgY29uc3QgeyBkYXRhOiBhY3Rpdml0aWVzLCBlcnJvcjogYWN0aXZpdGllc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FjdGl2aXRpZXMnKVxuICAgICAgLnNlbGVjdCgnaWQsIG5hbWUsIGRhdGUsIHRpbWUsIGxvY2F0aW9uJylcbiAgICAgIC5ndGUoJ2RhdGUnLCBpbjQ4SG91cnMudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxuICAgICAgLmx0ZSgnZGF0ZScsIGluNDlIb3Vycy50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pO1xuXG4gICAgaWYgKGFjdGl2aXRpZXNFcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogRVJST1JfQ09ERVMuREFUQUJBU0VfRVJST1IsXG4gICAgICAgICAgbWVzc2FnZTogYWN0aXZpdGllc0Vycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogYWN0aXZpdGllc0Vycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgc2VudCA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG5cbiAgICAvLyBGb3IgZWFjaCBhY3Rpdml0eSwgZ2V0IGF0dGVuZGluZyBndWVzdHMgYW5kIHNlbmQgcmVtaW5kZXJzXG4gICAgZm9yIChjb25zdCBhY3Rpdml0eSBvZiBhY3Rpdml0aWVzIHx8IFtdKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHJzdnBzLCBlcnJvcjogcnN2cHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3JzdnBzJylcbiAgICAgICAgLnNlbGVjdCgnZ3Vlc3RfaWQsIGd1ZXN0cyhmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGVtYWlsKScpXG4gICAgICAgIC5lcSgnYWN0aXZpdHlfaWQnLCBhY3Rpdml0eS5pZClcbiAgICAgICAgLmVxKCdzdGF0dXMnLCAnYXR0ZW5kaW5nJyk7XG5cbiAgICAgIGlmIChyc3Zwc0Vycm9yKSB7XG4gICAgICAgIGZhaWxlZCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCByc3ZwIG9mIHJzdnBzIHx8IFtdKSB7XG4gICAgICAgIGNvbnN0IGd1ZXN0ID0gKHJzdnAgYXMgYW55KS5ndWVzdHM7XG4gICAgICAgIGlmICghZ3Vlc3QgfHwgIWd1ZXN0LmVtYWlsKSBjb250aW51ZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHNlbmRFbWFpbCh7XG4gICAgICAgICAgICB0bzogZ3Vlc3QuZW1haWwsXG4gICAgICAgICAgICBzdWJqZWN0OiBgUmVtaW5kZXI6ICR7YWN0aXZpdHkubmFtZX0gVG9tb3Jyb3dgLFxuICAgICAgICAgICAgaHRtbDogYFxuICAgICAgICAgICAgICA8cD5IaSAke2d1ZXN0LmZpcnN0X25hbWV9LDwvcD5cbiAgICAgICAgICAgICAgPHA+VGhpcyBpcyBhIHJlbWluZGVyIHRoYXQgeW91IGhhdmUgYW4gYWN0aXZpdHkgY29taW5nIHVwITwvcD5cbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BY3Rpdml0eTo8L3N0cm9uZz4gJHthY3Rpdml0eS5uYW1lfTwvcD5cbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5EYXRlOjwvc3Ryb25nPiAke2FjdGl2aXR5LmRhdGV9PC9wPlxuICAgICAgICAgICAgICA8cD48c3Ryb25nPlRpbWU6PC9zdHJvbmc+ICR7YWN0aXZpdHkudGltZSB8fCAnVEJEJ308L3A+XG4gICAgICAgICAgICAgIDxwPjxzdHJvbmc+TG9jYXRpb246PC9zdHJvbmc+ICR7YWN0aXZpdHkubG9jYXRpb24gfHwgJ1RCRCd9PC9wPlxuICAgICAgICAgICAgICA8cD5TZWUgeW91IHRoZXJlITwvcD5cbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICB0ZXh0OiBgSGkgJHtndWVzdC5maXJzdF9uYW1lfSwgUmVtaW5kZXI6ICR7YWN0aXZpdHkubmFtZX0gb24gJHthY3Rpdml0eS5kYXRlfSBhdCAke2FjdGl2aXR5LnRpbWUgfHwgJ1RCRCd9LiBMb2NhdGlvbjogJHthY3Rpdml0eS5sb2NhdGlvbiB8fCAnVEJEJ31gLFxuICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHVuZGVmaW5lZCwgLy8gQ291bGQgdXNlICdhY3Rpdml0eV9yZW1pbmRlcicgdGVtcGxhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZW50Kys7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZmFpbGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHsgc2VudCwgZmFpbGVkIH0sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiBFUlJPUl9DT0RFUy5VTktOT1dOX0VSUk9SLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbmRzIGRlYWRsaW5lIG5vdGlmaWNhdGlvbiBlbWFpbHMgdG8gZ3Vlc3RzIHdobyBoYXZlbid0IHJlc3BvbmRlZFxuICogUmVxdWlyZW1lbnRzOiA0LjhcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmREZWFkbGluZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTxSZXN1bHQ8eyBzZW50OiBudW1iZXI7IGZhaWxlZDogbnVtYmVyIH0+PiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGFjdGl2aXRpZXMgd2l0aCBSU1ZQIGRlYWRsaW5lcyBpbiA3IGRheXMsIDMgZGF5cywgb3IgMSBkYXlcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGluN0RheXMgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgIGNvbnN0IGluM0RheXMgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgMyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgIGNvbnN0IGluMURheSA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgKyAxICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG5cbiAgICBjb25zdCBkZWFkbGluZURhdGVzID0gW1xuICAgICAgaW43RGF5cy50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICBpbjNEYXlzLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgIGluMURheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgXTtcblxuICAgIGNvbnN0IHsgZGF0YTogYWN0aXZpdGllcywgZXJyb3I6IGFjdGl2aXRpZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhY3Rpdml0aWVzJylcbiAgICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCByc3ZwX2RlYWRsaW5lJylcbiAgICAgIC5pbigncnN2cF9kZWFkbGluZScsIGRlYWRsaW5lRGF0ZXMpO1xuXG4gICAgaWYgKGFjdGl2aXRpZXNFcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogRVJST1JfQ09ERVMuREFUQUJBU0VfRVJST1IsXG4gICAgICAgICAgbWVzc2FnZTogYWN0aXZpdGllc0Vycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogYWN0aXZpdGllc0Vycm9yLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgc2VudCA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG5cbiAgICAvLyBGb3IgZWFjaCBhY3Rpdml0eSwgZmluZCBndWVzdHMgd2hvIGhhdmVuJ3QgcmVzcG9uZGVkXG4gICAgZm9yIChjb25zdCBhY3Rpdml0eSBvZiBhY3Rpdml0aWVzIHx8IFtdKSB7XG4gICAgICAvLyBHZXQgYWxsIGd1ZXN0cyBpbnZpdGVkIHRvIHRoaXMgYWN0aXZpdHlcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsR3Vlc3RzLCBlcnJvcjogZ3Vlc3RzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdndWVzdHMnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCcpO1xuXG4gICAgICBpZiAoZ3Vlc3RzRXJyb3IpIHtcbiAgICAgICAgZmFpbGVkKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgZ3Vlc3RzIHdobyBoYXZlIGFscmVhZHkgcmVzcG9uZGVkXG4gICAgICBjb25zdCB7IGRhdGE6IHJlc3BvbmRlZFJzdnBzLCBlcnJvcjogcnN2cHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3JzdnBzJylcbiAgICAgICAgLnNlbGVjdCgnZ3Vlc3RfaWQnKVxuICAgICAgICAuZXEoJ2FjdGl2aXR5X2lkJywgYWN0aXZpdHkuaWQpXG4gICAgICAgIC5uZXEoJ3N0YXR1cycsICdwZW5kaW5nJyk7XG5cbiAgICAgIGlmIChyc3Zwc0Vycm9yKSB7XG4gICAgICAgIGZhaWxlZCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uZGVkR3Vlc3RJZHMgPSBuZXcgU2V0KChyZXNwb25kZWRSc3ZwcyB8fCBbXSkubWFwKHIgPT4gci5ndWVzdF9pZCkpO1xuXG4gICAgICAvLyBTZW5kIHJlbWluZGVycyB0byBndWVzdHMgd2hvIGhhdmVuJ3QgcmVzcG9uZGVkXG4gICAgICBmb3IgKGNvbnN0IGd1ZXN0IG9mIGFsbEd1ZXN0cyB8fCBbXSkge1xuICAgICAgICBpZiAocmVzcG9uZGVkR3Vlc3RJZHMuaGFzKGd1ZXN0LmlkKSB8fCAhZ3Vlc3QuZW1haWwpIGNvbnRpbnVlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc2VuZEVtYWlsKHtcbiAgICAgICAgICAgIHRvOiBndWVzdC5lbWFpbCxcbiAgICAgICAgICAgIHN1YmplY3Q6IGBSU1ZQIERlYWRsaW5lIEFwcHJvYWNoaW5nIGZvciAke2FjdGl2aXR5Lm5hbWV9YCxcbiAgICAgICAgICAgIGh0bWw6IGBcbiAgICAgICAgICAgICAgPHA+SGkgJHtndWVzdC5maXJzdF9uYW1lfSw8L3A+XG4gICAgICAgICAgICAgIDxwPlRoaXMgaXMgYSByZW1pbmRlciB0aGF0IHRoZSBSU1ZQIGRlYWRsaW5lIGZvciAke2FjdGl2aXR5Lm5hbWV9IGlzIGFwcHJvYWNoaW5nITwvcD5cbiAgICAgICAgICAgICAgPHA+PHN0cm9uZz5EZWFkbGluZTo8L3N0cm9uZz4gJHthY3Rpdml0eS5yc3ZwX2RlYWRsaW5lfTwvcD5cbiAgICAgICAgICAgICAgPHA+UGxlYXNlIHN1Ym1pdCB5b3VyIFJTVlAgYXMgc29vbiBhcyBwb3NzaWJsZS48L3A+XG4gICAgICAgICAgICAgIDxwPlRoYW5rIHlvdSE8L3A+XG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgdGV4dDogYEhpICR7Z3Vlc3QuZmlyc3RfbmFtZX0sIFJTVlAgZGVhZGxpbmUgZm9yICR7YWN0aXZpdHkubmFtZX0gaXMgJHthY3Rpdml0eS5yc3ZwX2RlYWRsaW5lfS4gUGxlYXNlIHJlc3BvbmQgc29vbiFgLFxuICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHVuZGVmaW5lZCwgLy8gQ291bGQgdXNlICdkZWFkbGluZV9yZW1pbmRlcicgdGVtcGxhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZW50Kys7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZmFpbGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHsgc2VudCwgZmFpbGVkIH0sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiBFUlJPUl9DT0RFUy5VTktOT1dOX0VSUk9SLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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