{"version":3,"names":["cov_2bthblz3wu","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","RATE_LIMITS","checkBulkEmailRateLimit","checkEmailRateLimit","checkRateLimit","getRateLimitHeaders","rateLimitMiddleware","rateLimitService","RateLimitStore","get","key","entry","store","Date","now","resetAt","delete","increment","windowMs","existing","count","set","cleanup","entries","Map","setInterval","identifier","action","config","allowed","maxRequests","remaining","Math","max","reset","floor","retryAfter","ceil","limit","api","strict","moderate","relaxed","email","perUser","perRecipient","bulk","auth","login","passwordReset","upload","photos","documents","result","success","error","code","message","details","data","headers","String","userId","recipientEmail","userLimit","recipientLimit","canSend","recipientCount","bulkLimit","requested","check","middleware","getHeaders","checkEmail","checkBulkEmail"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/lib/rateLimit.ts"],"sourcesContent":["/**\n * Rate limiting utilities for API endpoints and email sending\n */\n\n/**\n * Result type for consistent error handling\n */\ntype Result<T> =\n  | { success: true; data: T }\n  | { success: false; error: { code: string; message: string; details?: unknown } };\n\n/**\n * Rate limit check result\n */\nexport interface RateLimitResult {\n  allowed: boolean;\n  limit: number;\n  remaining: number;\n  reset: number; // Unix timestamp when the limit resets\n  retryAfter?: number; // Seconds until retry is allowed\n}\n\n/**\n * Rate limit configuration\n */\nexport interface RateLimitConfig {\n  maxRequests: number;\n  windowMs: number; // Time window in milliseconds\n}\n\n/**\n * In-memory store for rate limiting\n * In production, this should be replaced with Redis or similar\n */\nclass RateLimitStore {\n  private store: Map<string, { count: number; resetAt: number }> = new Map();\n\n  /**\n   * Gets the current count and reset time for an identifier\n   */\n  get(key: string): { count: number; resetAt: number } | null {\n    const entry = this.store.get(key);\n    if (!entry) return null;\n\n    // Check if the window has expired\n    if (Date.now() > entry.resetAt) {\n      this.store.delete(key);\n      return null;\n    }\n\n    return entry;\n  }\n\n  /**\n   * Increments the count for an identifier\n   */\n  increment(key: string, windowMs: number): { count: number; resetAt: number } {\n    const existing = this.get(key);\n\n    if (existing) {\n      existing.count++;\n      this.store.set(key, existing);\n      return existing;\n    }\n\n    const resetAt = Date.now() + windowMs;\n    const entry = { count: 1, resetAt };\n    this.store.set(key, entry);\n    return entry;\n  }\n\n  /**\n   * Clears expired entries (cleanup)\n   */\n  cleanup(): void {\n    const now = Date.now();\n    for (const [key, entry] of this.store.entries()) {\n      if (now > entry.resetAt) {\n        this.store.delete(key);\n      }\n    }\n  }\n}\n\n// Global store instance\nconst store = new RateLimitStore();\n\n// Run cleanup every 5 minutes\nif (typeof setInterval !== 'undefined') {\n  setInterval(() => store.cleanup(), 5 * 60 * 1000);\n}\n\n/**\n * Checks if a request is within rate limits.\n * \n * @param identifier - Unique identifier (user ID, IP address, etc.)\n * @param action - Action being rate limited (e.g., 'api:guests:create')\n * @param config - Rate limit configuration\n * @returns Rate limit check result\n * \n * @example\n * const result = await checkRateLimit('user-123', 'api:guests:create', {\n *   maxRequests: 10,\n *   windowMs: 60000, // 1 minute\n * });\n * \n * if (!result.allowed) {\n *   return Response with 429 status\n * }\n */\nexport function checkRateLimit(\n  identifier: string,\n  action: string,\n  config: RateLimitConfig\n): RateLimitResult {\n  const key = `${identifier}:${action}`;\n  const entry = store.increment(key, config.windowMs);\n\n  const allowed = entry.count <= config.maxRequests;\n  const remaining = Math.max(0, config.maxRequests - entry.count);\n  const reset = Math.floor(entry.resetAt / 1000); // Convert to seconds\n  const retryAfter = allowed ? undefined : Math.ceil((entry.resetAt - Date.now()) / 1000);\n\n  return {\n    allowed,\n    limit: config.maxRequests,\n    remaining,\n    reset,\n    retryAfter,\n  };\n}\n\n/**\n * Predefined rate limit configurations for common use cases\n */\nexport const RATE_LIMITS = {\n  // API endpoints\n  api: {\n    strict: { maxRequests: 10, windowMs: 60 * 1000 }, // 10 requests per minute\n    moderate: { maxRequests: 30, windowMs: 60 * 1000 }, // 30 requests per minute\n    relaxed: { maxRequests: 100, windowMs: 60 * 1000 }, // 100 requests per minute\n  },\n  // Email sending\n  email: {\n    perUser: { maxRequests: 10, windowMs: 60 * 60 * 1000 }, // 10 emails per hour per user\n    perRecipient: { maxRequests: 3, windowMs: 60 * 60 * 1000 }, // 3 emails per hour per recipient\n    bulk: { maxRequests: 100, windowMs: 60 * 60 * 1000 }, // 100 bulk emails per hour\n  },\n  // Authentication\n  auth: {\n    login: { maxRequests: 5, windowMs: 15 * 60 * 1000 }, // 5 login attempts per 15 minutes\n    passwordReset: { maxRequests: 3, windowMs: 60 * 60 * 1000 }, // 3 password resets per hour\n  },\n  // File uploads\n  upload: {\n    photos: { maxRequests: 20, windowMs: 60 * 60 * 1000 }, // 20 photo uploads per hour\n    documents: { maxRequests: 10, windowMs: 60 * 60 * 1000 }, // 10 document uploads per hour\n  },\n} as const;\n\n/**\n * Middleware helper for rate limiting API routes.\n * \n * @param identifier - Unique identifier (user ID, IP address, etc.)\n * @param action - Action being rate limited\n * @param config - Rate limit configuration\n * @returns Result indicating if request is allowed\n * \n * @example\n * const rateLimitResult = await rateLimitMiddleware(\n *   session.user.id,\n *   'api:guests:create',\n *   RATE_LIMITS.api.moderate\n * );\n * \n * if (!rateLimitResult.success) {\n *   return NextResponse.json(rateLimitResult, { status: 429 });\n * }\n */\nexport function rateLimitMiddleware(\n  identifier: string,\n  action: string,\n  config: RateLimitConfig\n): Result<RateLimitResult> {\n  try {\n    const result = checkRateLimit(identifier, action, config);\n\n    if (!result.allowed) {\n      return {\n        success: false,\n        error: {\n          code: 'RATE_LIMIT_EXCEEDED',\n          message: 'Too many requests. Please try again later.',\n          details: {\n            limit: result.limit,\n            remaining: result.remaining,\n            reset: result.reset,\n            retryAfter: result.retryAfter,\n          },\n        },\n      };\n    }\n\n    return {\n      success: true,\n      data: result,\n    };\n  } catch (error) {\n    // If rate limiting fails, allow the request (fail open)\n    return {\n      success: true,\n      data: {\n        allowed: true,\n        limit: config.maxRequests,\n        remaining: config.maxRequests,\n        reset: Math.floor((Date.now() + config.windowMs) / 1000),\n      },\n    };\n  }\n}\n\n/**\n * Gets rate limit headers for HTTP responses.\n * \n * @param result - Rate limit check result\n * @returns Headers object\n */\nexport function getRateLimitHeaders(result: RateLimitResult): Record<string, string> {\n  const headers: Record<string, string> = {\n    'X-RateLimit-Limit': String(result.limit),\n    'X-RateLimit-Remaining': String(result.remaining),\n    'X-RateLimit-Reset': String(result.reset),\n  };\n\n  if (result.retryAfter !== undefined) {\n    headers['Retry-After'] = String(result.retryAfter);\n  }\n\n  return headers;\n}\n\n/**\n * Email-specific rate limiting helper.\n * \n * @param userId - User ID sending the email\n * @param recipientEmail - Recipient email address\n * @returns Result indicating if email can be sent\n */\nexport function checkEmailRateLimit(\n  userId: string,\n  recipientEmail: string\n): Result<{ canSend: boolean; reason?: string }> {\n  // Check per-user limit\n  const userLimit = checkRateLimit(userId, 'email:send', RATE_LIMITS.email.perUser);\n  if (!userLimit.allowed) {\n    return {\n      success: false,\n      error: {\n        code: 'EMAIL_RATE_LIMIT_EXCEEDED',\n        message: 'You have sent too many emails. Please try again later.',\n        details: {\n          limit: userLimit.limit,\n          retryAfter: userLimit.retryAfter,\n        },\n      },\n    };\n  }\n\n  // Check per-recipient limit\n  const recipientLimit = checkRateLimit(\n    recipientEmail,\n    'email:receive',\n    RATE_LIMITS.email.perRecipient\n  );\n  if (!recipientLimit.allowed) {\n    return {\n      success: false,\n      error: {\n        code: 'RECIPIENT_RATE_LIMIT_EXCEEDED',\n        message: 'This recipient has received too many emails. Please try again later.',\n        details: {\n          limit: recipientLimit.limit,\n          retryAfter: recipientLimit.retryAfter,\n        },\n      },\n    };\n  }\n\n  return {\n    success: true,\n    data: {\n      canSend: true,\n    },\n  };\n}\n\n/**\n * Bulk email rate limiting helper.\n * \n * @param userId - User ID sending bulk emails\n * @param recipientCount - Number of recipients\n * @returns Result indicating if bulk email can be sent\n */\nexport function checkBulkEmailRateLimit(\n  userId: string,\n  recipientCount: number\n): Result<{ canSend: boolean; reason?: string }> {\n  const bulkLimit = checkRateLimit(userId, 'email:bulk', RATE_LIMITS.email.bulk);\n\n  if (!bulkLimit.allowed) {\n    return {\n      success: false,\n      error: {\n        code: 'BULK_EMAIL_RATE_LIMIT_EXCEEDED',\n        message: 'You have sent too many bulk emails. Please try again later.',\n        details: {\n          limit: bulkLimit.limit,\n          retryAfter: bulkLimit.retryAfter,\n        },\n      },\n    };\n  }\n\n  // Check if this bulk send would exceed the limit\n  if (bulkLimit.remaining < recipientCount) {\n    return {\n      success: false,\n      error: {\n        code: 'BULK_EMAIL_WOULD_EXCEED_LIMIT',\n        message: `Sending to ${recipientCount} recipients would exceed your rate limit. You can send to ${bulkLimit.remaining} more recipients.`,\n        details: {\n          limit: bulkLimit.limit,\n          remaining: bulkLimit.remaining,\n          requested: recipientCount,\n        },\n      },\n    };\n  }\n\n  return {\n    success: true,\n    data: {\n      canSend: true,\n    },\n  };\n}\n\nexport const rateLimitService = {\n  check: checkRateLimit,\n  middleware: rateLimitMiddleware,\n  getHeaders: getRateLimitHeaders,\n  checkEmail: checkEmailRateLimit,\n  checkBulkEmail: checkBulkEmailRateLimit,\n};\n"],"mappings":"AAAA;;GAAA,CAIA;;MAEC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;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","ignoreList":[]}