75d38dfcb13e58ecd65ba699c0e86086
"use strict";

/* istanbul ignore next */
function cov_8gdzj12uc() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/transportation/driver-sheets/route.ts";
  var hash = "517c98fc3eac2b8e7a6d54b6ff5797797bbd7571";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/transportation/driver-sheets/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 20
        }
      },
      "3": {
        start: {
          line: 11,
          column: 13
        },
        end: {
          line: 11,
          column: 37
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 40
        }
      },
      "5": {
        start: {
          line: 13,
          column: 16
        },
        end: {
          line: 13,
          column: 38
        }
      },
      "6": {
        start: {
          line: 14,
          column: 13
        },
        end: {
          line: 14,
          column: 27
        }
      },
      "7": {
        start: {
          line: 15,
          column: 27
        },
        end: {
          line: 21,
          column: 2
        }
      },
      "8": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 109,
          column: 5
        }
      },
      "9": {
        start: {
          line: 25,
          column: 28
        },
        end: {
          line: 25,
          column: 57
        }
      },
      "10": {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 37,
          column: 10
        }
      },
      "11": {
        start: {
          line: 29,
          column: 20
        },
        end: {
          line: 29,
          column: 48
        }
      },
      "12": {
        start: {
          line: 32,
          column: 20
        },
        end: {
          line: 34,
          column: 23
        }
      },
      "13": {
        start: {
          line: 33,
          column: 24
        },
        end: {
          line: 33,
          column: 53
        }
      },
      "14": {
        start: {
          line: 38,
          column: 56
        },
        end: {
          line: 38,
          column: 88
        }
      },
      "15": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 49,
          column: 9
        }
      },
      "16": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 48,
          column: 15
        }
      },
      "17": {
        start: {
          line: 51,
          column: 21
        },
        end: {
          line: 51,
          column: 41
        }
      },
      "18": {
        start: {
          line: 52,
          column: 27
        },
        end: {
          line: 52,
          column: 61
        }
      },
      "19": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 64,
          column: 9
        }
      },
      "20": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 63,
          column: 15
        }
      },
      "21": {
        start: {
          line: 65,
          column: 31
        },
        end: {
          line: 65,
          column: 46
        }
      },
      "22": {
        start: {
          line: 67,
          column: 26
        },
        end: {
          line: 67,
          column: 81
        }
      },
      "23": {
        start: {
          line: 68,
          column: 26
        },
        end: {
          line: 68,
          column: 81
        }
      },
      "24": {
        start: {
          line: 69,
          column: 40
        },
        end: {
          line: 69,
          column: 244
        }
      },
      "25": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "26": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 80,
          column: 15
        }
      },
      "27": {
        start: {
          line: 83,
          column: 30
        },
        end: {
          line: 83,
          column: 39
        }
      },
      "28": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 90,
          column: 11
        }
      },
      "29": {
        start: {
          line: 85,
          column: 28
        },
        end: {
          line: 85,
          column: 68
        }
      },
      "30": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 88,
          column: 13
        }
      },
      "31": {
        start: {
          line: 87,
          column: 16
        },
        end: {
          line: 87,
          column: 47
        }
      },
      "32": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 89,
          column: 51
        }
      },
      "33": {
        start: {
          line: 92,
          column: 21
        },
        end: {
          line: 92,
          column: 72
        }
      },
      "34": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 98,
          column: 11
        }
      },
      "35": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 108,
          column: 11
        }
      },
      "36": {
        start: {
          line: 112,
          column: 18
        },
        end: {
          line: 112,
          column: 63
        }
      },
      "37": {
        start: {
          line: 113,
          column: 15
        },
        end: {
          line: 134,
          column: 3
        }
      },
      "38": {
        start: {
          line: 135,
          column: 4
        },
        end: {
          line: 170,
          column: 5
        }
      },
      "39": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 151,
          column: 6
        }
      },
      "40": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 164,
          column: 11
        }
      },
      "41": {
        start: {
          line: 153,
          column: 30
        },
        end: {
          line: 153,
          column: 85
        }
      },
      "42": {
        start: {
          line: 154,
          column: 25
        },
        end: {
          line: 154,
          column: 82
        }
      },
      "43": {
        start: {
          line: 155,
          column: 12
        },
        end: {
          line: 163,
          column: 8
        }
      },
      "44": {
        start: {
          line: 165,
          column: 8
        },
        end: {
          line: 169,
          column: 6
        }
      },
      "45": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 174,
          column: 4
        }
      },
      "46": {
        start: {
          line: 175,
          column: 4
        },
        end: {
          line: 175,
          column: 16
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "POST",
        decl: {
          start: {
            line: 22,
            column: 15
          },
          end: {
            line: 22,
            column: 19
          }
        },
        loc: {
          start: {
            line: 22,
            column: 29
          },
          end: {
            line: 110,
            column: 1
          }
        },
        line: 22
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 28,
            column: 16
          },
          end: {
            line: 28,
            column: 17
          }
        },
        loc: {
          start: {
            line: 28,
            column: 26
          },
          end: {
            line: 30,
            column: 17
          }
        },
        line: 28
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 31,
            column: 16
          },
          end: {
            line: 31,
            column: 17
          }
        },
        loc: {
          start: {
            line: 31,
            column: 38
          },
          end: {
            line: 35,
            column: 17
          }
        },
        line: 31
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 32,
            column: 41
          },
          end: {
            line: 32,
            column: 42
          }
        },
        loc: {
          start: {
            line: 32,
            column: 60
          },
          end: {
            line: 34,
            column: 21
          }
        },
        line: 32
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 84,
            column: 24
          },
          end: {
            line: 84,
            column: 25
          }
        },
        loc: {
          start: {
            line: 84,
            column: 33
          },
          end: {
            line: 90,
            column: 9
          }
        },
        line: 84
      },
      "6": {
        name: "generateDriverSheetsHTML",
        decl: {
          start: {
            line: 111,
            column: 9
          },
          end: {
            line: 111,
            column: 33
          }
        },
        loc: {
          start: {
            line: 111,
            column: 61
          },
          end: {
            line: 176,
            column: 1
          }
        },
        line: 111
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 152,
            column: 23
          },
          end: {
            line: 152,
            column: 24
          }
        },
        loc: {
          start: {
            line: 152,
            column: 32
          },
          end: {
            line: 164,
            column: 9
          }
        },
        line: 152
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 39,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 39
      },
      "1": {
        loc: {
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 39,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 39,
            column: 12
          },
          end: {
            line: 39,
            column: 21
          }
        }, {
          start: {
            line: 39,
            column: 25
          },
          end: {
            line: 39,
            column: 33
          }
        }],
        line: 39
      },
      "2": {
        loc: {
          start: {
            line: 53,
            column: 8
          },
          end: {
            line: 64,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 53,
            column: 8
          },
          end: {
            line: 64,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 53
      },
      "3": {
        loc: {
          start: {
            line: 67,
            column: 26
          },
          end: {
            line: 67,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 67,
            column: 48
          },
          end: {
            line: 67,
            column: 62
          }
        }, {
          start: {
            line: 67,
            column: 65
          },
          end: {
            line: 67,
            column: 81
          }
        }],
        line: 67
      },
      "4": {
        loc: {
          start: {
            line: 68,
            column: 26
          },
          end: {
            line: 68,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 68,
            column: 48
          },
          end: {
            line: 68,
            column: 62
          }
        }, {
          start: {
            line: 68,
            column: 65
          },
          end: {
            line: 68,
            column: 81
          }
        }],
        line: 68
      },
      "5": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "6": {
        loc: {
          start: {
            line: 85,
            column: 28
          },
          end: {
            line: 85,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 85,
            column: 28
          },
          end: {
            line: 85,
            column: 52
          }
        }, {
          start: {
            line: 85,
            column: 56
          },
          end: {
            line: 85,
            column: 68
          }
        }],
        line: 85
      },
      "7": {
        loc: {
          start: {
            line: 86,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 86,
            column: 12
          },
          end: {
            line: 88,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 86
      },
      "8": {
        loc: {
          start: {
            line: 104,
            column: 25
          },
          end: {
            line: 104,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 104,
            column: 50
          },
          end: {
            line: 104,
            column: 63
          }
        }, {
          start: {
            line: 104,
            column: 66
          },
          end: {
            line: 104,
            column: 81
          }
        }],
        line: 104
      },
      "9": {
        loc: {
          start: {
            line: 112,
            column: 18
          },
          end: {
            line: 112,
            column: 63
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 112,
            column: 40
          },
          end: {
            line: 112,
            column: 49
          }
        }, {
          start: {
            line: 112,
            column: 52
          },
          end: {
            line: 112,
            column: 63
          }
        }],
        line: 112
      },
      "10": {
        loc: {
          start: {
            line: 153,
            column: 30
          },
          end: {
            line: 153,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 153,
            column: 52
          },
          end: {
            line: 153,
            column: 66
          }
        }, {
          start: {
            line: 153,
            column: 69
          },
          end: {
            line: 153,
            column: 85
          }
        }],
        line: 153
      },
      "11": {
        loc: {
          start: {
            line: 154,
            column: 25
          },
          end: {
            line: 154,
            column: 82
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 154,
            column: 44
          },
          end: {
            line: 154,
            column: 76
          }
        }, {
          start: {
            line: 154,
            column: 79
          },
          end: {
            line: 154,
            column: 82
          }
        }],
        line: 154
      },
      "12": {
        loc: {
          start: {
            line: 158,
            column: 16
          },
          end: {
            line: 158,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 158,
            column: 16
          },
          end: {
            line: 158,
            column: 35
          }
        }, {
          start: {
            line: 158,
            column: 39
          },
          end: {
            line: 158,
            column: 42
          }
        }],
        line: 158
      },
      "13": {
        loc: {
          start: {
            line: 160,
            column: 16
          },
          end: {
            line: 160,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 160,
            column: 16
          },
          end: {
            line: 160,
            column: 34
          }
        }, {
          start: {
            line: 160,
            column: 38
          },
          end: {
            line: 160,
            column: 41
          }
        }],
        line: 160
      },
      "14": {
        loc: {
          start: {
            line: 161,
            column: 16
          },
          end: {
            line: 161,
            column: 34
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 16
          },
          end: {
            line: 161,
            column: 27
          }
        }, {
          start: {
            line: 161,
            column: 31
          },
          end: {
            line: 161,
            column: 34
          }
        }],
        line: 161
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/transportation/driver-sheets/route.ts"],
      sourcesContent: ["import { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\nimport { NextResponse } from 'next/server';\nimport { z } from 'zod';\n\nconst driverSheetsSchema = z.object({\n  date: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\n  type: z.enum(['arrivals', 'departures']),\n});\n\n/**\n * POST /api/admin/transportation/driver-sheets\n * Generate driver sheets for a specific date\n */\nexport async function POST(request: Request) {\n  try {\n    // 1. Auth check\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n      {\n        cookies: {\n          getAll() {\n            return cookieStore.getAll();\n          },\n          setAll(cookiesToSet) {\n            cookiesToSet.forEach(({ name, value }) => {\n              cookieStore.set(name, value);\n            });\n          },\n        },\n      }\n    );\n    const {\n      data: { session },\n      error: authError,\n    } = await supabase.auth.getSession();\n\n    if (authError || !session) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: { code: 'UNAUTHORIZED', message: 'Authentication required' },\n        },\n        { status: 401 }\n      );\n    }\n\n    // 2. Parse and validate request body\n    const body = await request.json();\n    const validation = driverSheetsSchema.safeParse(body);\n\n    if (!validation.success) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: 'VALIDATION_ERROR',\n            message: 'Invalid request data',\n            details: validation.error.issues,\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    const { date, type } = validation.data;\n\n    // 3. Query guests\n    const dateField = type === 'arrivals' ? 'arrival_date' : 'departure_date';\n    const timeField = type === 'arrivals' ? 'arrival_time' : 'departure_time';\n\n    const { data: guests, error } = await supabase\n      .from('guests')\n      .select(`id, first_name, last_name, ${timeField}, airport_code, flight_number, phone, shuttle_assignment`)\n      .eq(dateField, date)\n      .not('airport_code', 'is', null)\n      .order(timeField);\n\n    if (error) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: { code: 'DATABASE_ERROR', message: error.message, details: error },\n        },\n        { status: 500 }\n      );\n    }\n\n    // 4. Group by shuttle assignment\n    const shuttleGroups = new Map<string, any[]>();\n    \n    guests?.forEach((guest: any) => {\n      const shuttle = guest.shuttle_assignment || 'Unassigned';\n      if (!shuttleGroups.has(shuttle)) {\n        shuttleGroups.set(shuttle, []);\n      }\n      shuttleGroups.get(shuttle)!.push(guest);\n    });\n\n    // 5. Generate HTML for driver sheets\n    const html = generateDriverSheetsHTML(shuttleGroups, date, type);\n\n    return NextResponse.json({\n      success: true,\n      data: { html },\n    });\n  } catch (error) {\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: 'UNKNOWN_ERROR',\n          message: error instanceof Error ? error.message : 'Unknown error',\n        },\n      },\n      { status: 500 }\n    );\n  }\n}\n\nfunction generateDriverSheetsHTML(\n  shuttleGroups: Map<string, any[]>,\n  date: string,\n  type: string\n): string {\n  const title = type === 'arrivals' ? 'Arrival' : 'Departure';\n  \n  let html = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Driver Sheets - ${title} - ${date}</title>\n      <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        h1 { text-align: center; }\n        .shuttle-group { page-break-after: always; margin-bottom: 40px; }\n        .shuttle-group:last-child { page-break-after: auto; }\n        table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n        th { background-color: #f2f2f2; }\n        .summary { margin-top: 20px; font-weight: bold; }\n        @media print {\n          .shuttle-group { page-break-after: always; }\n        }\n      </style>\n    </head>\n    <body>\n      <h1>${title} Driver Sheets - ${date}</h1>\n  `;\n\n  for (const [shuttle, guests] of shuttleGroups.entries()) {\n    html += `\n      <div class=\"shuttle-group\">\n        <h2>Shuttle: ${shuttle}</h2>\n        <p class=\"summary\">Total Guests: ${guests.length}</p>\n        <table>\n          <thead>\n            <tr>\n              <th>Guest Name</th>\n              <th>Flight</th>\n              <th>Time</th>\n              <th>Airport</th>\n              <th>Phone</th>\n            </tr>\n          </thead>\n          <tbody>\n    `;\n\n    guests.forEach((guest: any) => {\n      const timeField = type === 'arrivals' ? 'arrival_time' : 'departure_time';\n      const time = guest[timeField] ? guest[timeField].substring(0, 5) : '-';\n      \n      html += `\n        <tr>\n          <td>${guest.first_name} ${guest.last_name}</td>\n          <td>${guest.flight_number || '-'}</td>\n          <td>${time}</td>\n          <td>${guest.airport_code || '-'}</td>\n          <td>${guest.phone || '-'}</td>\n        </tr>\n      `;\n    });\n\n    html += `\n          </tbody>\n        </table>\n      </div>\n    `;\n  }\n\n  html += `\n    </body>\n    </html>\n  `;\n\n  return html;\n}\n"],
      names: ["POST", "driverSheetsSchema", "z", "object", "date", "string", "regex", "type", "enum", "request", "cookieStore", "cookies", "supabase", "createServerClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "NEXT_PUBLIC_SUPABASE_ANON_KEY", "getAll", "setAll", "cookiesToSet", "forEach", "name", "value", "set", "data", "session", "error", "authError", "auth", "getSession", "NextResponse", "json", "success", "code", "message", "status", "body", "validation", "safeParse", "details", "issues", "dateField", "timeField", "guests", "from", "select", "eq", "not", "order", "shuttleGroups", "Map", "guest", "shuttle", "shuttle_assignment", "has", "get", "push", "html", "generateDriverSheetsHTML", "Error", "title", "entries", "length", "time", "substring", "first_name", "last_name", "flight_number", "airport_code", "phone"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "517c98fc3eac2b8e7a6d54b6ff5797797bbd7571"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_8gdzj12uc = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_8gdzj12uc();
cov_8gdzj12uc().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_8gdzj12uc().s[1]++;
Object.defineProperty(exports, "POST", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_8gdzj12uc().f[0]++;
    cov_8gdzj12uc().s[2]++;
    return POST;
  }
});
const _ssr =
/* istanbul ignore next */
(cov_8gdzj12uc().s[3]++, require("@supabase/ssr"));
const _headers =
/* istanbul ignore next */
(cov_8gdzj12uc().s[4]++, require("next/headers"));
const _server =
/* istanbul ignore next */
(cov_8gdzj12uc().s[5]++, require("next/server"));
const _zod =
/* istanbul ignore next */
(cov_8gdzj12uc().s[6]++, require("zod"));
const driverSheetsSchema =
/* istanbul ignore next */
(cov_8gdzj12uc().s[7]++, _zod.z.object({
  date: _zod.z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
  type: _zod.z.enum(['arrivals', 'departures'])
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_8gdzj12uc().f[1]++;
  cov_8gdzj12uc().s[8]++;
  try {
    // 1. Auth check
    const cookieStore =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[9]++, await (0, _headers.cookies)());
    const supabase =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[10]++, (0, _ssr.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {
      cookies: {
        getAll() {
          /* istanbul ignore next */
          cov_8gdzj12uc().f[2]++;
          cov_8gdzj12uc().s[11]++;
          return cookieStore.getAll();
        },
        setAll(cookiesToSet) {
          /* istanbul ignore next */
          cov_8gdzj12uc().f[3]++;
          cov_8gdzj12uc().s[12]++;
          cookiesToSet.forEach(({
            name,
            value
          }) => {
            /* istanbul ignore next */
            cov_8gdzj12uc().f[4]++;
            cov_8gdzj12uc().s[13]++;
            cookieStore.set(name, value);
          });
        }
      }
    }));
    const {
      data: {
        session
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[14]++, await supabase.auth.getSession());
    /* istanbul ignore next */
    cov_8gdzj12uc().s[15]++;
    if (
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[1][0]++, authError) ||
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[1][1]++, !session)) {
      /* istanbul ignore next */
      cov_8gdzj12uc().b[0][0]++;
      cov_8gdzj12uc().s[16]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'UNAUTHORIZED',
          message: 'Authentication required'
        }
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_8gdzj12uc().b[0][1]++;
    }
    // 2. Parse and validate request body
    const body =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[17]++, await request.json());
    const validation =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[18]++, driverSheetsSchema.safeParse(body));
    /* istanbul ignore next */
    cov_8gdzj12uc().s[19]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_8gdzj12uc().b[2][0]++;
      cov_8gdzj12uc().s[20]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Invalid request data',
          details: validation.error.issues
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_8gdzj12uc().b[2][1]++;
    }
    const {
      date,
      type
    } =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[21]++, validation.data);
    // 3. Query guests
    const dateField =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[22]++, type === 'arrivals' ?
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[3][0]++, 'arrival_date') :
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[3][1]++, 'departure_date'));
    const timeField =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[23]++, type === 'arrivals' ?
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[4][0]++, 'arrival_time') :
    /* istanbul ignore next */
    (cov_8gdzj12uc().b[4][1]++, 'departure_time'));
    const {
      data: guests,
      error
    } =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[24]++, await supabase.from('guests').select(`id, first_name, last_name, ${timeField}, airport_code, flight_number, phone, shuttle_assignment`).eq(dateField, date).not('airport_code', 'is', null).order(timeField));
    /* istanbul ignore next */
    cov_8gdzj12uc().s[25]++;
    if (error) {
      /* istanbul ignore next */
      cov_8gdzj12uc().b[5][0]++;
      cov_8gdzj12uc().s[26]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: error.message,
          details: error
        }
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_8gdzj12uc().b[5][1]++;
    }
    // 4. Group by shuttle assignment
    const shuttleGroups =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[27]++, new Map());
    /* istanbul ignore next */
    cov_8gdzj12uc().s[28]++;
    guests?.forEach(guest => {
      /* istanbul ignore next */
      cov_8gdzj12uc().f[5]++;
      const shuttle =
      /* istanbul ignore next */
      (cov_8gdzj12uc().s[29]++,
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[6][0]++, guest.shuttle_assignment) ||
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[6][1]++, 'Unassigned'));
      /* istanbul ignore next */
      cov_8gdzj12uc().s[30]++;
      if (!shuttleGroups.has(shuttle)) {
        /* istanbul ignore next */
        cov_8gdzj12uc().b[7][0]++;
        cov_8gdzj12uc().s[31]++;
        shuttleGroups.set(shuttle, []);
      } else
      /* istanbul ignore next */
      {
        cov_8gdzj12uc().b[7][1]++;
      }
      cov_8gdzj12uc().s[32]++;
      shuttleGroups.get(shuttle).push(guest);
    });
    // 5. Generate HTML for driver sheets
    const html =
    /* istanbul ignore next */
    (cov_8gdzj12uc().s[33]++, generateDriverSheetsHTML(shuttleGroups, date, type));
    /* istanbul ignore next */
    cov_8gdzj12uc().s[34]++;
    return _server.NextResponse.json({
      success: true,
      data: {
        html
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_8gdzj12uc().s[35]++;
    return _server.NextResponse.json({
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_8gdzj12uc().b[8][0]++, error.message) :
        /* istanbul ignore next */
        (cov_8gdzj12uc().b[8][1]++, 'Unknown error')
      }
    }, {
      status: 500
    });
  }
}
function generateDriverSheetsHTML(shuttleGroups, date, type) {
  /* istanbul ignore next */
  cov_8gdzj12uc().f[6]++;
  const title =
  /* istanbul ignore next */
  (cov_8gdzj12uc().s[36]++, type === 'arrivals' ?
  /* istanbul ignore next */
  (cov_8gdzj12uc().b[9][0]++, 'Arrival') :
  /* istanbul ignore next */
  (cov_8gdzj12uc().b[9][1]++, 'Departure'));
  let html =
  /* istanbul ignore next */
  (cov_8gdzj12uc().s[37]++, `
    <!DOCTYPE html>
    <html>
    <head>
      <title>Driver Sheets - ${title} - ${date}</title>
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        .shuttle-group { page-break-after: always; margin-bottom: 40px; }
        .shuttle-group:last-child { page-break-after: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .summary { margin-top: 20px; font-weight: bold; }
        @media print {
          .shuttle-group { page-break-after: always; }
        }
      </style>
    </head>
    <body>
      <h1>${title} Driver Sheets - ${date}</h1>
  `);
  /* istanbul ignore next */
  cov_8gdzj12uc().s[38]++;
  for (const [shuttle, guests] of shuttleGroups.entries()) {
    /* istanbul ignore next */
    cov_8gdzj12uc().s[39]++;
    html += `
      <div class="shuttle-group">
        <h2>Shuttle: ${shuttle}</h2>
        <p class="summary">Total Guests: ${guests.length}</p>
        <table>
          <thead>
            <tr>
              <th>Guest Name</th>
              <th>Flight</th>
              <th>Time</th>
              <th>Airport</th>
              <th>Phone</th>
            </tr>
          </thead>
          <tbody>
    `;
    /* istanbul ignore next */
    cov_8gdzj12uc().s[40]++;
    guests.forEach(guest => {
      /* istanbul ignore next */
      cov_8gdzj12uc().f[7]++;
      const timeField =
      /* istanbul ignore next */
      (cov_8gdzj12uc().s[41]++, type === 'arrivals' ?
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[10][0]++, 'arrival_time') :
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[10][1]++, 'departure_time'));
      const time =
      /* istanbul ignore next */
      (cov_8gdzj12uc().s[42]++, guest[timeField] ?
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[11][0]++, guest[timeField].substring(0, 5)) :
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[11][1]++, '-'));
      /* istanbul ignore next */
      cov_8gdzj12uc().s[43]++;
      html += `
        <tr>
          <td>${guest.first_name} ${guest.last_name}</td>
          <td>${
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[12][0]++, guest.flight_number) ||
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[12][1]++, '-')}</td>
          <td>${time}</td>
          <td>${
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[13][0]++, guest.airport_code) ||
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[13][1]++, '-')}</td>
          <td>${
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[14][0]++, guest.phone) ||
      /* istanbul ignore next */
      (cov_8gdzj12uc().b[14][1]++, '-')}</td>
        </tr>
      `;
    });
    /* istanbul ignore next */
    cov_8gdzj12uc().s[44]++;
    html += `
          </tbody>
        </table>
      </div>
    `;
  }
  /* istanbul ignore next */
  cov_8gdzj12uc().s[45]++;
  html += `
    </body>
    </html>
  `;
  /* istanbul ignore next */
  cov_8gdzj12uc().s[46]++;
  return html;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfOGdkemoxMnVjIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiUE9TVCIsImRyaXZlclNoZWV0c1NjaGVtYSIsIl96b2QiLCJ6Iiwib2JqZWN0IiwiZGF0ZSIsInN0cmluZyIsInJlZ2V4IiwidHlwZSIsImVudW0iLCJyZXF1ZXN0IiwiZiIsImNvb2tpZVN0b3JlIiwiX2hlYWRlcnMiLCJjb29raWVzIiwic3VwYWJhc2UiLCJfc3NyIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiZ2V0QWxsIiwic2V0QWxsIiwiY29va2llc1RvU2V0IiwiZm9yRWFjaCIsIm5hbWUiLCJ2YWx1ZSIsInNldCIsImRhdGEiLCJzZXNzaW9uIiwiZXJyb3IiLCJhdXRoRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImIiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJjb2RlIiwibWVzc2FnZSIsInN0YXR1cyIsImJvZHkiLCJ2YWxpZGF0aW9uIiwic2FmZVBhcnNlIiwiZGV0YWlscyIsImlzc3VlcyIsImRhdGVGaWVsZCIsInRpbWVGaWVsZCIsImd1ZXN0cyIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm5vdCIsIm9yZGVyIiwic2h1dHRsZUdyb3VwcyIsIk1hcCIsImd1ZXN0Iiwic2h1dHRsZSIsInNodXR0bGVfYXNzaWdubWVudCIsImhhcyIsImdldCIsInB1c2giLCJodG1sIiwiZ2VuZXJhdGVEcml2ZXJTaGVldHNIVE1MIiwiRXJyb3IiLCJ0aXRsZSIsImVudHJpZXMiLCJsZW5ndGgiLCJ0aW1lIiwic3Vic3RyaW5nIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImZsaWdodF9udW1iZXIiLCJhaXJwb3J0X2NvZGUiLCJwaG9uZSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi90cmFuc3BvcnRhdGlvbi9kcml2ZXItc2hlZXRzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zc3InO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycyc7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuY29uc3QgZHJpdmVyU2hlZXRzU2NoZW1hID0gei5vYmplY3Qoe1xuICBkYXRlOiB6LnN0cmluZygpLnJlZ2V4KC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLyksXG4gIHR5cGU6IHouZW51bShbJ2Fycml2YWxzJywgJ2RlcGFydHVyZXMnXSksXG59KTtcblxuLyoqXG4gKiBQT1NUIC9hcGkvYWRtaW4vdHJhbnNwb3J0YXRpb24vZHJpdmVyLXNoZWV0c1xuICogR2VuZXJhdGUgZHJpdmVyIHNoZWV0cyBmb3IgYSBzcGVjaWZpYyBkYXRlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyAxLiBBdXRoIGNoZWNrXG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgICAge1xuICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldEFsbCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0QWxsKGNvb2tpZXNUb1NldCkge1xuICAgICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICBjb29raWVTdG9yZS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGE6IHsgc2Vzc2lvbiB9LFxuICAgICAgZXJyb3I6IGF1dGhFcnJvcixcbiAgICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG5cbiAgICBpZiAoYXV0aEVycm9yIHx8ICFzZXNzaW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMi4gUGFyc2UgYW5kIHZhbGlkYXRlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gZHJpdmVyU2hlZXRzU2NoZW1hLnNhZmVQYXJzZShib2R5KTtcblxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgcmVxdWVzdCBkYXRhJyxcbiAgICAgICAgICAgIGRldGFpbHM6IHZhbGlkYXRpb24uZXJyb3IuaXNzdWVzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGUsIHR5cGUgfSA9IHZhbGlkYXRpb24uZGF0YTtcblxuICAgIC8vIDMuIFF1ZXJ5IGd1ZXN0c1xuICAgIGNvbnN0IGRhdGVGaWVsZCA9IHR5cGUgPT09ICdhcnJpdmFscycgPyAnYXJyaXZhbF9kYXRlJyA6ICdkZXBhcnR1cmVfZGF0ZSc7XG4gICAgY29uc3QgdGltZUZpZWxkID0gdHlwZSA9PT0gJ2Fycml2YWxzJyA/ICdhcnJpdmFsX3RpbWUnIDogJ2RlcGFydHVyZV90aW1lJztcblxuICAgIGNvbnN0IHsgZGF0YTogZ3Vlc3RzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdndWVzdHMnKVxuICAgICAgLnNlbGVjdChgaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgJHt0aW1lRmllbGR9LCBhaXJwb3J0X2NvZGUsIGZsaWdodF9udW1iZXIsIHBob25lLCBzaHV0dGxlX2Fzc2lnbm1lbnRgKVxuICAgICAgLmVxKGRhdGVGaWVsZCwgZGF0ZSlcbiAgICAgIC5ub3QoJ2FpcnBvcnRfY29kZScsICdpcycsIG51bGwpXG4gICAgICAub3JkZXIodGltZUZpZWxkKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHsgY29kZTogJ0RBVEFCQVNFX0VSUk9SJywgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgZGV0YWlsczogZXJyb3IgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDQuIEdyb3VwIGJ5IHNodXR0bGUgYXNzaWdubWVudFxuICAgIGNvbnN0IHNodXR0bGVHcm91cHMgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XG4gICAgXG4gICAgZ3Vlc3RzPy5mb3JFYWNoKChndWVzdDogYW55KSA9PiB7XG4gICAgICBjb25zdCBzaHV0dGxlID0gZ3Vlc3Quc2h1dHRsZV9hc3NpZ25tZW50IHx8ICdVbmFzc2lnbmVkJztcbiAgICAgIGlmICghc2h1dHRsZUdyb3Vwcy5oYXMoc2h1dHRsZSkpIHtcbiAgICAgICAgc2h1dHRsZUdyb3Vwcy5zZXQoc2h1dHRsZSwgW10pO1xuICAgICAgfVxuICAgICAgc2h1dHRsZUdyb3Vwcy5nZXQoc2h1dHRsZSkhLnB1c2goZ3Vlc3QpO1xuICAgIH0pO1xuXG4gICAgLy8gNS4gR2VuZXJhdGUgSFRNTCBmb3IgZHJpdmVyIHNoZWV0c1xuICAgIGNvbnN0IGh0bWwgPSBnZW5lcmF0ZURyaXZlclNoZWV0c0hUTUwoc2h1dHRsZUdyb3VwcywgZGF0ZSwgdHlwZSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHsgaHRtbCB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVEcml2ZXJTaGVldHNIVE1MKFxuICBzaHV0dGxlR3JvdXBzOiBNYXA8c3RyaW5nLCBhbnlbXT4sXG4gIGRhdGU6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nXG4pOiBzdHJpbmcge1xuICBjb25zdCB0aXRsZSA9IHR5cGUgPT09ICdhcnJpdmFscycgPyAnQXJyaXZhbCcgOiAnRGVwYXJ0dXJlJztcbiAgXG4gIGxldCBodG1sID0gYFxuICAgIDwhRE9DVFlQRSBodG1sPlxuICAgIDxodG1sPlxuICAgIDxoZWFkPlxuICAgICAgPHRpdGxlPkRyaXZlciBTaGVldHMgLSAke3RpdGxlfSAtICR7ZGF0ZX08L3RpdGxlPlxuICAgICAgPHN0eWxlPlxuICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXJnaW46IDIwcHg7IH1cbiAgICAgICAgaDEgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IH1cbiAgICAgICAgLnNodXR0bGUtZ3JvdXAgeyBwYWdlLWJyZWFrLWFmdGVyOiBhbHdheXM7IG1hcmdpbi1ib3R0b206IDQwcHg7IH1cbiAgICAgICAgLnNodXR0bGUtZ3JvdXA6bGFzdC1jaGlsZCB7IHBhZ2UtYnJlYWstYWZ0ZXI6IGF1dG87IH1cbiAgICAgICAgdGFibGUgeyB3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgbWFyZ2luLXRvcDogMjBweDsgfVxuICAgICAgICB0aCwgdGQgeyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiA4cHg7IHRleHQtYWxpZ246IGxlZnQ7IH1cbiAgICAgICAgdGggeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOyB9XG4gICAgICAgIC5zdW1tYXJ5IHsgbWFyZ2luLXRvcDogMjBweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cbiAgICAgICAgQG1lZGlhIHByaW50IHtcbiAgICAgICAgICAuc2h1dHRsZS1ncm91cCB7IHBhZ2UtYnJlYWstYWZ0ZXI6IGFsd2F5czsgfVxuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keT5cbiAgICAgIDxoMT4ke3RpdGxlfSBEcml2ZXIgU2hlZXRzIC0gJHtkYXRlfTwvaDE+XG4gIGA7XG5cbiAgZm9yIChjb25zdCBbc2h1dHRsZSwgZ3Vlc3RzXSBvZiBzaHV0dGxlR3JvdXBzLmVudHJpZXMoKSkge1xuICAgIGh0bWwgKz0gYFxuICAgICAgPGRpdiBjbGFzcz1cInNodXR0bGUtZ3JvdXBcIj5cbiAgICAgICAgPGgyPlNodXR0bGU6ICR7c2h1dHRsZX08L2gyPlxuICAgICAgICA8cCBjbGFzcz1cInN1bW1hcnlcIj5Ub3RhbCBHdWVzdHM6ICR7Z3Vlc3RzLmxlbmd0aH08L3A+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5HdWVzdCBOYW1lPC90aD5cbiAgICAgICAgICAgICAgPHRoPkZsaWdodDwvdGg+XG4gICAgICAgICAgICAgIDx0aD5UaW1lPC90aD5cbiAgICAgICAgICAgICAgPHRoPkFpcnBvcnQ8L3RoPlxuICAgICAgICAgICAgICA8dGg+UGhvbmU8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICBgO1xuXG4gICAgZ3Vlc3RzLmZvckVhY2goKGd1ZXN0OiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVGaWVsZCA9IHR5cGUgPT09ICdhcnJpdmFscycgPyAnYXJyaXZhbF90aW1lJyA6ICdkZXBhcnR1cmVfdGltZSc7XG4gICAgICBjb25zdCB0aW1lID0gZ3Vlc3RbdGltZUZpZWxkXSA/IGd1ZXN0W3RpbWVGaWVsZF0uc3Vic3RyaW5nKDAsIDUpIDogJy0nO1xuICAgICAgXG4gICAgICBodG1sICs9IGBcbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD4ke2d1ZXN0LmZpcnN0X25hbWV9ICR7Z3Vlc3QubGFzdF9uYW1lfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7Z3Vlc3QuZmxpZ2h0X251bWJlciB8fCAnLSd9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt0aW1lfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7Z3Vlc3QuYWlycG9ydF9jb2RlIHx8ICctJ308L3RkPlxuICAgICAgICAgIDx0ZD4ke2d1ZXN0LnBob25lIHx8ICctJ308L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgYDtcbiAgICB9KTtcblxuICAgIGh0bWwgKz0gYFxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgaHRtbCArPSBgXG4gICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYDtcblxuICByZXR1cm4gaHRtbDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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