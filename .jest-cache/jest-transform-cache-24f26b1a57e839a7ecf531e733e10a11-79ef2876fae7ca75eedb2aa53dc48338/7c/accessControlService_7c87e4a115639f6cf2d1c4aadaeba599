d3f5545b37f5080dfe453063f389f923
"use strict";

/* istanbul ignore next */
function cov_opr8culrm() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/accessControlService.ts";
  var hash = "e617c2f1a2e13dc80e1018a508d1870710f26bc1";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/accessControlService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 36,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 30
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 32
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 29
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 26
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 23
        }
      },
      "9": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 30
        }
      },
      "10": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 34
        }
      },
      "11": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 27
        }
      },
      "12": {
        start: {
          line: 37,
          column: 20
        },
        end: {
          line: 37,
          column: 52
        }
      },
      "13": {
        start: {
          line: 38,
          column: 16
        },
        end: {
          line: 38,
          column: 42
        }
      },
      "14": {
        start: {
          line: 39,
          column: 15
        },
        end: {
          line: 39,
          column: 34
        }
      },
      "15": {
        start: {
          line: 43,
          column: 24
        },
        end: {
          line: 43,
          column: 60
        }
      },
      "16": {
        start: {
          line: 44,
          column: 28
        },
        end: {
          line: 44,
          column: 69
        }
      },
      "17": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 47,
          column: 5
        }
      },
      "18": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 46,
          column: 137
        }
      },
      "19": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 71
        }
      },
      "20": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 65,
          column: 5
        }
      },
      "21": {
        start: {
          line: 52,
          column: 25
        },
        end: {
          line: 52,
          column: 52
        }
      },
      "22": {
        start: {
          line: 53,
          column: 41
        },
        end: {
          line: 53,
          column: 110
        }
      },
      "23": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 56,
          column: 9
        }
      },
      "24": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 55,
          column: 95
        }
      },
      "25": {
        start: {
          line: 57,
          column: 25
        },
        end: {
          line: 57,
          column: 34
        }
      },
      "26": {
        start: {
          line: 58,
          column: 24
        },
        end: {
          line: 58,
          column: 49
        }
      },
      "27": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 62,
          column: 11
        }
      },
      "28": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 64,
          column: 46
        }
      },
      "29": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 82,
          column: 5
        }
      },
      "30": {
        start: {
          line: 69,
          column: 25
        },
        end: {
          line: 69,
          column: 52
        }
      },
      "31": {
        start: {
          line: 70,
          column: 41
        },
        end: {
          line: 70,
          column: 110
        }
      },
      "32": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 73,
          column: 9
        }
      },
      "33": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 72,
          column: 95
        }
      },
      "34": {
        start: {
          line: 74,
          column: 25
        },
        end: {
          line: 74,
          column: 34
        }
      },
      "35": {
        start: {
          line: 75,
          column: 24
        },
        end: {
          line: 75,
          column: 55
        }
      },
      "36": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 79,
          column: 11
        }
      },
      "37": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 46
        }
      },
      "38": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 115,
          column: 5
        }
      },
      "39": {
        start: {
          line: 86,
          column: 25
        },
        end: {
          line: 86,
          column: 52
        }
      },
      "40": {
        start: {
          line: 88,
          column: 53
        },
        end: {
          line: 88,
          column: 128
        }
      },
      "41": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 91,
          column: 9
        }
      },
      "42": {
        start: {
          line: 90,
          column: 12
        },
        end: {
          line: 90,
          column: 97
        }
      },
      "43": {
        start: {
          line: 92,
          column: 25
        },
        end: {
          line: 92,
          column: 38
        }
      },
      "44": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 99,
          column: 9
        }
      },
      "45": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 98,
          column: 15
        }
      },
      "46": {
        start: {
          line: 101,
          column: 57
        },
        end: {
          line: 101,
          column: 175
        }
      },
      "47": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 107,
          column: 9
        }
      },
      "48": {
        start: {
          line: 103,
          column: 12
        },
        end: {
          line: 106,
          column: 15
        }
      },
      "49": {
        start: {
          line: 108,
          column: 26
        },
        end: {
          line: 108,
          column: 53
        }
      },
      "50": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 112,
          column: 11
        }
      },
      "51": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 114,
          column: 46
        }
      },
      "52": {
        start: {
          line: 118,
          column: 4
        },
        end: {
          line: 193,
          column: 5
        }
      },
      "53": {
        start: {
          line: 119,
          column: 43
        },
        end: {
          line: 119,
          column: 48
        }
      },
      "54": {
        start: {
          line: 121,
          column: 8
        },
        end: {
          line: 125,
          column: 9
        }
      },
      "55": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 124,
          column: 15
        }
      },
      "56": {
        start: {
          line: 127,
          column: 8
        },
        end: {
          line: 148,
          column: 9
        }
      },
      "57": {
        start: {
          line: 128,
          column: 34
        },
        end: {
          line: 139,
          column: 13
        }
      },
      "58": {
        start: {
          line: 140,
          column: 12
        },
        end: {
          line: 144,
          column: 13
        }
      },
      "59": {
        start: {
          line: 141,
          column: 16
        },
        end: {
          line: 143,
          column: 19
        }
      },
      "60": {
        start: {
          line: 145,
          column: 12
        },
        end: {
          line: 147,
          column: 15
        }
      },
      "61": {
        start: {
          line: 150,
          column: 8
        },
        end: {
          line: 187,
          column: 9
        }
      },
      "62": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 164,
          column: 13
        }
      },
      "63": {
        start: {
          line: 153,
          column: 40
        },
        end: {
          line: 158,
          column: 17
        }
      },
      "64": {
        start: {
          line: 159,
          column: 16
        },
        end: {
          line: 163,
          column: 17
        }
      },
      "65": {
        start: {
          line: 160,
          column: 20
        },
        end: {
          line: 162,
          column: 23
        }
      },
      "66": {
        start: {
          line: 166,
          column: 12
        },
        end: {
          line: 171,
          column: 13
        }
      },
      "67": {
        start: {
          line: 168,
          column: 16
        },
        end: {
          line: 170,
          column: 19
        }
      },
      "68": {
        start: {
          line: 173,
          column: 12
        },
        end: {
          line: 177,
          column: 13
        }
      },
      "69": {
        start: {
          line: 174,
          column: 16
        },
        end: {
          line: 176,
          column: 19
        }
      },
      "70": {
        start: {
          line: 179,
          column: 12
        },
        end: {
          line: 183,
          column: 13
        }
      },
      "71": {
        start: {
          line: 180,
          column: 16
        },
        end: {
          line: 182,
          column: 19
        }
      },
      "72": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 186,
          column: 15
        }
      },
      "73": {
        start: {
          line: 188,
          column: 8
        },
        end: {
          line: 190,
          column: 11
        }
      },
      "74": {
        start: {
          line: 192,
          column: 8
        },
        end: {
          line: 192,
          column: 46
        }
      },
      "75": {
        start: {
          line: 196,
          column: 19
        },
        end: {
          line: 196,
          column: 54
        }
      },
      "76": {
        start: {
          line: 197,
          column: 4
        },
        end: {
          line: 199,
          column: 5
        }
      },
      "77": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 198,
          column: 22
        }
      },
      "78": {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 205,
          column: 5
        }
      },
      "79": {
        start: {
          line: 201,
          column: 8
        },
        end: {
          line: 204,
          column: 11
        }
      },
      "80": {
        start: {
          line: 206,
          column: 4
        },
        end: {
          line: 208,
          column: 7
        }
      },
      "81": {
        start: {
          line: 211,
          column: 19
        },
        end: {
          line: 211,
          column: 57
        }
      },
      "82": {
        start: {
          line: 212,
          column: 4
        },
        end: {
          line: 214,
          column: 5
        }
      },
      "83": {
        start: {
          line: 213,
          column: 8
        },
        end: {
          line: 213,
          column: 22
        }
      },
      "84": {
        start: {
          line: 215,
          column: 4
        },
        end: {
          line: 220,
          column: 5
        }
      },
      "85": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 219,
          column: 11
        }
      },
      "86": {
        start: {
          line: 221,
          column: 4
        },
        end: {
          line: 223,
          column: 7
        }
      },
      "87": {
        start: {
          line: 226,
          column: 19
        },
        end: {
          line: 226,
          column: 46
        }
      },
      "88": {
        start: {
          line: 227,
          column: 4
        },
        end: {
          line: 229,
          column: 5
        }
      },
      "89": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 228,
          column: 22
        }
      },
      "90": {
        start: {
          line: 230,
          column: 4
        },
        end: {
          line: 235,
          column: 5
        }
      },
      "91": {
        start: {
          line: 231,
          column: 8
        },
        end: {
          line: 234,
          column: 11
        }
      },
      "92": {
        start: {
          line: 236,
          column: 4
        },
        end: {
          line: 238,
          column: 7
        }
      },
      "93": {
        start: {
          line: 241,
          column: 4
        },
        end: {
          line: 273,
          column: 5
        }
      },
      "94": {
        start: {
          line: 242,
          column: 25
        },
        end: {
          line: 242,
          column: 52
        }
      },
      "95": {
        start: {
          line: 244,
          column: 53
        },
        end: {
          line: 244,
          column: 122
        }
      },
      "96": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 247,
          column: 9
        }
      },
      "97": {
        start: {
          line: 246,
          column: 12
        },
        end: {
          line: 246,
          column: 97
        }
      },
      "98": {
        start: {
          line: 248,
          column: 25
        },
        end: {
          line: 248,
          column: 38
        }
      },
      "99": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 260,
          column: 9
        }
      },
      "100": {
        start: {
          line: 251,
          column: 60
        },
        end: {
          line: 251,
          column: 102
        }
      },
      "101": {
        start: {
          line: 252,
          column: 12
        },
        end: {
          line: 254,
          column: 13
        }
      },
      "102": {
        start: {
          line: 253,
          column: 16
        },
        end: {
          line: 253,
          column: 116
        }
      },
      "103": {
        start: {
          line: 255,
          column: 29
        },
        end: {
          line: 255,
          column: 60
        }
      },
      "104": {
        start: {
          line: 255,
          column: 49
        },
        end: {
          line: 255,
          column: 53
        }
      },
      "105": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 259,
          column: 15
        }
      },
      "106": {
        start: {
          line: 262,
          column: 59
        },
        end: {
          line: 262,
          column: 156
        }
      },
      "107": {
        start: {
          line: 263,
          column: 8
        },
        end: {
          line: 265,
          column: 9
        }
      },
      "108": {
        start: {
          line: 264,
          column: 12
        },
        end: {
          line: 264,
          column: 117
        }
      },
      "109": {
        start: {
          line: 266,
          column: 25
        },
        end: {
          line: 266,
          column: 65
        }
      },
      "110": {
        start: {
          line: 266,
          column: 48
        },
        end: {
          line: 266,
          column: 58
        }
      },
      "111": {
        start: {
          line: 267,
          column: 8
        },
        end: {
          line: 270,
          column: 11
        }
      },
      "112": {
        start: {
          line: 272,
          column: 8
        },
        end: {
          line: 272,
          column: 46
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 26
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 28
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 25
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 22
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 19
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 24
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 26
          },
          end: {
            line: 29,
            column: 5
          }
        },
        line: 27
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 30
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 30
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 23
          },
          end: {
            line: 35,
            column: 5
          }
        },
        line: 33
      },
      "9": {
        name: "createAccessControlClient",
        decl: {
          start: {
            line: 42,
            column: 13
          },
          end: {
            line: 42,
            column: 38
          }
        },
        loc: {
          start: {
            line: 42,
            column: 41
          },
          end: {
            line: 49,
            column: 1
          }
        },
        line: 42
      },
      "10": {
        name: "hasRole",
        decl: {
          start: {
            line: 50,
            column: 15
          },
          end: {
            line: 50,
            column: 22
          }
        },
        loc: {
          start: {
            line: 50,
            column: 45
          },
          end: {
            line: 66,
            column: 1
          }
        },
        line: 50
      },
      "11": {
        name: "hasAnyRole",
        decl: {
          start: {
            line: 67,
            column: 15
          },
          end: {
            line: 67,
            column: 25
          }
        },
        loc: {
          start: {
            line: 67,
            column: 48
          },
          end: {
            line: 83,
            column: 1
          }
        },
        line: 67
      },
      "12": {
        name: "canAccessGroup",
        decl: {
          start: {
            line: 84,
            column: 15
          },
          end: {
            line: 84,
            column: 29
          }
        },
        loc: {
          start: {
            line: 84,
            column: 37
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 84
      },
      "13": {
        name: "canPerformAction",
        decl: {
          start: {
            line: 117,
            column: 15
          },
          end: {
            line: 117,
            column: 31
          }
        },
        loc: {
          start: {
            line: 117,
            column: 39
          },
          end: {
            line: 194,
            column: 1
          }
        },
        line: 117
      },
      "14": {
        name: "requireRole",
        decl: {
          start: {
            line: 195,
            column: 15
          },
          end: {
            line: 195,
            column: 26
          }
        },
        loc: {
          start: {
            line: 195,
            column: 49
          },
          end: {
            line: 209,
            column: 1
          }
        },
        line: 195
      },
      "15": {
        name: "requireAnyRole",
        decl: {
          start: {
            line: 210,
            column: 15
          },
          end: {
            line: 210,
            column: 29
          }
        },
        loc: {
          start: {
            line: 210,
            column: 52
          },
          end: {
            line: 224,
            column: 1
          }
        },
        line: 210
      },
      "16": {
        name: "requireGroupAccess",
        decl: {
          start: {
            line: 225,
            column: 15
          },
          end: {
            line: 225,
            column: 33
          }
        },
        loc: {
          start: {
            line: 225,
            column: 41
          },
          end: {
            line: 239,
            column: 1
          }
        },
        line: 225
      },
      "17": {
        name: "getUserGroups",
        decl: {
          start: {
            line: 240,
            column: 15
          },
          end: {
            line: 240,
            column: 28
          }
        },
        loc: {
          start: {
            line: 240,
            column: 37
          },
          end: {
            line: 274,
            column: 1
          }
        },
        line: 240
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 255,
            column: 44
          },
          end: {
            line: 255,
            column: 45
          }
        },
        loc: {
          start: {
            line: 255,
            column: 49
          },
          end: {
            line: 255,
            column: 53
          }
        },
        line: 255
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 266,
            column: 43
          },
          end: {
            line: 266,
            column: 44
          }
        },
        loc: {
          start: {
            line: 266,
            column: 48
          },
          end: {
            line: 266,
            column: 58
          }
        },
        line: 266
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 47,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "1": {
        loc: {
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 45,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 45,
            column: 20
          }
        }, {
          start: {
            line: 45,
            column: 24
          },
          end: {
            line: 45,
            column: 40
          }
        }],
        line: 45
      },
      "2": {
        loc: {
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 8
          },
          end: {
            line: 56,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "3": {
        loc: {
          start: {
            line: 54,
            column: 12
          },
          end: {
            line: 54,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 54,
            column: 12
          },
          end: {
            line: 54,
            column: 19
          }
        }, {
          start: {
            line: 54,
            column: 23
          },
          end: {
            line: 54,
            column: 28
          }
        }],
        line: 54
      },
      "4": {
        loc: {
          start: {
            line: 71,
            column: 8
          },
          end: {
            line: 73,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 8
          },
          end: {
            line: 73,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "5": {
        loc: {
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 71,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 71,
            column: 19
          }
        }, {
          start: {
            line: 71,
            column: 23
          },
          end: {
            line: 71,
            column: 28
          }
        }],
        line: 71
      },
      "6": {
        loc: {
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 91,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 91,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "7": {
        loc: {
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 89,
            column: 34
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 89,
            column: 21
          }
        }, {
          start: {
            line: 89,
            column: 25
          },
          end: {
            line: 89,
            column: 34
          }
        }],
        line: 89
      },
      "8": {
        loc: {
          start: {
            line: 94,
            column: 8
          },
          end: {
            line: 99,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 94,
            column: 8
          },
          end: {
            line: 99,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 94
      },
      "9": {
        loc: {
          start: {
            line: 102,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 8
          },
          end: {
            line: 107,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 102
      },
      "10": {
        loc: {
          start: {
            line: 102,
            column: 12
          },
          end: {
            line: 102,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 102,
            column: 12
          },
          end: {
            line: 102,
            column: 23
          }
        }, {
          start: {
            line: 102,
            column: 27
          },
          end: {
            line: 102,
            column: 38
          }
        }],
        line: 102
      },
      "11": {
        loc: {
          start: {
            line: 121,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "12": {
        loc: {
          start: {
            line: 127,
            column: 8
          },
          end: {
            line: 148,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 127,
            column: 8
          },
          end: {
            line: 148,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 127
      },
      "13": {
        loc: {
          start: {
            line: 140,
            column: 12
          },
          end: {
            line: 144,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 140,
            column: 12
          },
          end: {
            line: 144,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 140
      },
      "14": {
        loc: {
          start: {
            line: 150,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 150,
            column: 8
          },
          end: {
            line: 187,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 150
      },
      "15": {
        loc: {
          start: {
            line: 152,
            column: 12
          },
          end: {
            line: 164,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 152,
            column: 12
          },
          end: {
            line: 164,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 152
      },
      "16": {
        loc: {
          start: {
            line: 159,
            column: 16
          },
          end: {
            line: 163,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 159,
            column: 16
          },
          end: {
            line: 163,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 159
      },
      "17": {
        loc: {
          start: {
            line: 166,
            column: 12
          },
          end: {
            line: 171,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 12
          },
          end: {
            line: 171,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 166
      },
      "18": {
        loc: {
          start: {
            line: 166,
            column: 16
          },
          end: {
            line: 166,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 166,
            column: 16
          },
          end: {
            line: 166,
            column: 35
          }
        }, {
          start: {
            line: 166,
            column: 39
          },
          end: {
            line: 166,
            column: 60
          }
        }],
        line: 166
      },
      "19": {
        loc: {
          start: {
            line: 173,
            column: 12
          },
          end: {
            line: 177,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 173,
            column: 12
          },
          end: {
            line: 177,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 173
      },
      "20": {
        loc: {
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 173,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 173,
            column: 35
          }
        }, {
          start: {
            line: 173,
            column: 39
          },
          end: {
            line: 173,
            column: 59
          }
        }],
        line: 173
      },
      "21": {
        loc: {
          start: {
            line: 179,
            column: 12
          },
          end: {
            line: 183,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 179,
            column: 12
          },
          end: {
            line: 183,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 179
      },
      "22": {
        loc: {
          start: {
            line: 179,
            column: 16
          },
          end: {
            line: 179,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 179,
            column: 16
          },
          end: {
            line: 179,
            column: 35
          }
        }, {
          start: {
            line: 179,
            column: 39
          },
          end: {
            line: 179,
            column: 60
          }
        }],
        line: 179
      },
      "23": {
        loc: {
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 197,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 197
      },
      "24": {
        loc: {
          start: {
            line: 200,
            column: 4
          },
          end: {
            line: 205,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 200,
            column: 4
          },
          end: {
            line: 205,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 200
      },
      "25": {
        loc: {
          start: {
            line: 212,
            column: 4
          },
          end: {
            line: 214,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 212,
            column: 4
          },
          end: {
            line: 214,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 212
      },
      "26": {
        loc: {
          start: {
            line: 215,
            column: 4
          },
          end: {
            line: 220,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 4
          },
          end: {
            line: 220,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "27": {
        loc: {
          start: {
            line: 227,
            column: 4
          },
          end: {
            line: 229,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 227,
            column: 4
          },
          end: {
            line: 229,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 227
      },
      "28": {
        loc: {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 230
      },
      "29": {
        loc: {
          start: {
            line: 245,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 245,
            column: 8
          },
          end: {
            line: 247,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 245
      },
      "30": {
        loc: {
          start: {
            line: 245,
            column: 12
          },
          end: {
            line: 245,
            column: 34
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 245,
            column: 12
          },
          end: {
            line: 245,
            column: 21
          }
        }, {
          start: {
            line: 245,
            column: 25
          },
          end: {
            line: 245,
            column: 34
          }
        }],
        line: 245
      },
      "31": {
        loc: {
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 260,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 250,
            column: 8
          },
          end: {
            line: 260,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 250
      },
      "32": {
        loc: {
          start: {
            line: 252,
            column: 12
          },
          end: {
            line: 254,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 252,
            column: 12
          },
          end: {
            line: 254,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 252
      },
      "33": {
        loc: {
          start: {
            line: 255,
            column: 29
          },
          end: {
            line: 255,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 255,
            column: 29
          },
          end: {
            line: 255,
            column: 54
          }
        }, {
          start: {
            line: 255,
            column: 58
          },
          end: {
            line: 255,
            column: 60
          }
        }],
        line: 255
      },
      "34": {
        loc: {
          start: {
            line: 263,
            column: 8
          },
          end: {
            line: 265,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 263,
            column: 8
          },
          end: {
            line: 265,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 263
      },
      "35": {
        loc: {
          start: {
            line: 266,
            column: 25
          },
          end: {
            line: 266,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 266,
            column: 25
          },
          end: {
            line: 266,
            column: 59
          }
        }, {
          start: {
            line: 266,
            column: 63
          },
          end: {
            line: 266,
            column: 65
          }
        }],
        line: 266
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/accessControlService.ts"],
      sourcesContent: ["import { createClient } from '@supabase/supabase-js';\nimport type { Result } from '@/types';\nimport { success, error, unauthorizedError, unknownError } from '@/utils/errors';\nimport { ERROR_CODES } from '@/types';\n\n/**\n * Access control service for managing role-based permissions.\n * Implements authorization checks for different user roles and resource access.\n */\n\nexport type UserRole = 'super_admin' | 'host' | 'guest';\n\nexport interface PermissionCheck {\n  userId: string;\n  role: UserRole;\n  resource: string;\n  action: 'create' | 'read' | 'update' | 'delete';\n}\n\nexport interface GroupAccessCheck {\n  userId: string;\n  groupId: string;\n}\n\n/**\n * Creates a Supabase client for access control operations.\n */\nfunction createAccessControlClient() {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      'Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY'\n    );\n  }\n\n  return createClient(supabaseUrl, supabaseAnonKey);\n}\n\n/**\n * Checks if a user has a specific role.\n * \n * @param userId - User ID to check\n * @param requiredRole - Required role\n * @returns Result indicating if user has the role\n * \n * @example\n * const result = await accessControlService.hasRole('user-123', 'super_admin');\n * if (result.success && result.data.hasRole) {\n *   console.log('User is super admin');\n * }\n */\nexport async function hasRole(\n  userId: string,\n  requiredRole: UserRole\n): Promise<Result<{ hasRole: boolean; userRole: UserRole }>> {\n  try {\n    const supabase = createAccessControlClient();\n\n    const { data, error: dbError } = await supabase\n      .from('users')\n      .select('role')\n      .eq('id', userId)\n      .single();\n\n    if (dbError || !data) {\n      return error(\n        ERROR_CODES.NOT_FOUND,\n        'User not found',\n        dbError\n      );\n    }\n\n    const userRole = data.role as UserRole;\n    const hasRole = userRole === requiredRole;\n\n    return success({ hasRole, userRole });\n  } catch (err) {\n    return unknownError(err);\n  }\n}\n\n/**\n * Checks if a user has any of the specified roles.\n * \n * @param userId - User ID to check\n * @param allowedRoles - Array of allowed roles\n * @returns Result indicating if user has any of the roles\n * \n * @example\n * const result = await accessControlService.hasAnyRole('user-123', ['super_admin', 'host']);\n */\nexport async function hasAnyRole(\n  userId: string,\n  allowedRoles: UserRole[]\n): Promise<Result<{ hasRole: boolean; userRole: UserRole }>> {\n  try {\n    const supabase = createAccessControlClient();\n\n    const { data, error: dbError } = await supabase\n      .from('users')\n      .select('role')\n      .eq('id', userId)\n      .single();\n\n    if (dbError || !data) {\n      return error(\n        ERROR_CODES.NOT_FOUND,\n        'User not found',\n        dbError\n      );\n    }\n\n    const userRole = data.role as UserRole;\n    const hasRole = allowedRoles.includes(userRole);\n\n    return success({ hasRole, userRole });\n  } catch (err) {\n    return unknownError(err);\n  }\n}\n\n/**\n * Checks if a user can access a specific group.\n * Super admins can access all groups.\n * Group owners can access their assigned groups.\n * \n * @param check - User ID and group ID to check\n * @returns Result indicating if user can access the group\n * \n * @example\n * const result = await accessControlService.canAccessGroup({\n *   userId: 'user-123',\n *   groupId: 'group-456'\n * });\n */\nexport async function canAccessGroup(\n  check: GroupAccessCheck\n): Promise<Result<{ canAccess: boolean; role: UserRole }>> {\n  try {\n    const supabase = createAccessControlClient();\n\n    // Check user role\n    const { data: userData, error: userError } = await supabase\n      .from('users')\n      .select('role')\n      .eq('id', check.userId)\n      .single();\n\n    if (userError || !userData) {\n      return error(\n        ERROR_CODES.NOT_FOUND,\n        'User not found',\n        userError\n      );\n    }\n\n    const userRole = userData.role as UserRole;\n\n    // Super admins can access all groups\n    if (userRole === 'super_admin') {\n      return success({ canAccess: true, role: userRole });\n    }\n\n    // Check if user is a group member with owner role\n    const { data: memberData, error: memberError } = await supabase\n      .from('group_members')\n      .select('role')\n      .eq('user_id', check.userId)\n      .eq('group_id', check.groupId)\n      .single();\n\n    if (memberError || !memberData) {\n      return success({ canAccess: false, role: userRole });\n    }\n\n    const canAccess = memberData.role === 'owner';\n    return success({ canAccess, role: userRole });\n  } catch (err) {\n    return unknownError(err);\n  }\n}\n\n/**\n * Checks if a user can perform an action on a resource based on their role.\n * \n * Role hierarchy:\n * - super_admin: Can perform all actions on all resources\n * - host: Can perform all actions on wedding-related resources\n * - guest: Can only read and update their own information\n * \n * @param check - Permission check parameters\n * @returns Result indicating if action is allowed\n * \n * @example\n * const result = await accessControlService.canPerformAction({\n *   userId: 'user-123',\n *   role: 'host',\n *   resource: 'guests',\n *   action: 'create'\n * });\n */\nexport async function canPerformAction(\n  check: PermissionCheck\n): Promise<Result<{ allowed: boolean }>> {\n  try {\n    const { role, resource, action } = check;\n\n    // Super admins can do everything\n    if (role === 'super_admin') {\n      return success({ allowed: true });\n    }\n\n    // Hosts can manage wedding resources\n    if (role === 'host') {\n      const hostResources = [\n        'guests',\n        'events',\n        'activities',\n        'rsvps',\n        'vendors',\n        'accommodations',\n        'photos',\n        'emails',\n        'budget',\n        'transportation',\n      ];\n\n      if (hostResources.includes(resource)) {\n        return success({ allowed: true });\n      }\n\n      return success({ allowed: false });\n    }\n\n    // Guests have limited permissions\n    if (role === 'guest') {\n      // Guests can read public information\n      if (action === 'read') {\n        const publicResources = [\n          'events',\n          'activities',\n          'accommodations',\n          'photos',\n        ];\n        if (publicResources.includes(resource)) {\n          return success({ allowed: true });\n        }\n      }\n\n      // Guests can update their own information\n      if (action === 'update' && resource === 'guests') {\n        // Additional check needed to verify it's their own record\n        return success({ allowed: true });\n      }\n\n      // Guests can create RSVPs\n      if (action === 'create' && resource === 'rsvps') {\n        return success({ allowed: true });\n      }\n\n      // Guests can upload photos\n      if (action === 'create' && resource === 'photos') {\n        return success({ allowed: true });\n      }\n\n      return success({ allowed: false });\n    }\n\n    return success({ allowed: false });\n  } catch (err) {\n    return unknownError(err);\n  }\n}\n\n/**\n * Requires that a user has a specific role, returning an error if not.\n * \n * @param userId - User ID to check\n * @param requiredRole - Required role\n * @returns Result with success if user has role, error otherwise\n * \n * @example\n * const result = await accessControlService.requireRole('user-123', 'super_admin');\n * if (!result.success) {\n *   return result; // Return error to caller\n * }\n */\nexport async function requireRole(\n  userId: string,\n  requiredRole: UserRole\n): Promise<Result<{ userRole: UserRole }>> {\n  const result = await hasRole(userId, requiredRole);\n\n  if (!result.success) {\n    return result;\n  }\n\n  if (!result.data.hasRole) {\n    return error(\n      ERROR_CODES.INSUFFICIENT_PERMISSIONS,\n      `User does not have required role: ${requiredRole}`,\n      { userRole: result.data.userRole, requiredRole }\n    );\n  }\n\n  return success({ userRole: result.data.userRole });\n}\n\n/**\n * Requires that a user has any of the specified roles.\n * \n * @param userId - User ID to check\n * @param allowedRoles - Array of allowed roles\n * @returns Result with success if user has any role, error otherwise\n * \n * @example\n * const result = await accessControlService.requireAnyRole('user-123', ['super_admin', 'host']);\n */\nexport async function requireAnyRole(\n  userId: string,\n  allowedRoles: UserRole[]\n): Promise<Result<{ userRole: UserRole }>> {\n  const result = await hasAnyRole(userId, allowedRoles);\n\n  if (!result.success) {\n    return result;\n  }\n\n  if (!result.data.hasRole) {\n    return error(\n      ERROR_CODES.INSUFFICIENT_PERMISSIONS,\n      `User does not have any of the required roles: ${allowedRoles.join(', ')}`,\n      { userRole: result.data.userRole, allowedRoles }\n    );\n  }\n\n  return success({ userRole: result.data.userRole });\n}\n\n/**\n * Requires that a user can access a specific group.\n * \n * @param check - User ID and group ID to check\n * @returns Result with success if user can access, error otherwise\n */\nexport async function requireGroupAccess(\n  check: GroupAccessCheck\n): Promise<Result<{ role: UserRole }>> {\n  const result = await canAccessGroup(check);\n\n  if (!result.success) {\n    return result;\n  }\n\n  if (!result.data.canAccess) {\n    return error(\n      ERROR_CODES.INSUFFICIENT_PERMISSIONS,\n      'User does not have access to this group',\n      { userId: check.userId, groupId: check.groupId }\n    );\n  }\n\n  return success({ role: result.data.role });\n}\n\n/**\n * Gets all groups that a user can access.\n * \n * @param userId - User ID\n * @returns Result containing array of accessible group IDs\n * \n * @example\n * const result = await accessControlService.getUserGroups('user-123');\n * if (result.success) {\n *   console.log('User can access groups:', result.data.groupIds);\n * }\n */\nexport async function getUserGroups(\n  userId: string\n): Promise<Result<{ groupIds: string[]; role: UserRole }>> {\n  try {\n    const supabase = createAccessControlClient();\n\n    // Check user role\n    const { data: userData, error: userError } = await supabase\n      .from('users')\n      .select('role')\n      .eq('id', userId)\n      .single();\n\n    if (userError || !userData) {\n      return error(\n        ERROR_CODES.NOT_FOUND,\n        'User not found',\n        userError\n      );\n    }\n\n    const userRole = userData.role as UserRole;\n\n    // Super admins can access all groups\n    if (userRole === 'super_admin') {\n      const { data: allGroups, error: groupsError } = await supabase\n        .from('groups')\n        .select('id');\n\n      if (groupsError) {\n        return error(\n          ERROR_CODES.DATABASE_ERROR,\n          'Failed to fetch groups',\n          groupsError\n        );\n      }\n\n      const groupIds = allGroups?.map(g => g.id) || [];\n      return success({ groupIds, role: userRole });\n    }\n\n    // Get groups where user is an owner\n    const { data: memberGroups, error: memberError } = await supabase\n      .from('group_members')\n      .select('group_id')\n      .eq('user_id', userId)\n      .eq('role', 'owner');\n\n    if (memberError) {\n      return error(\n        ERROR_CODES.DATABASE_ERROR,\n        'Failed to fetch user groups',\n        memberError\n      );\n    }\n\n    const groupIds = memberGroups?.map(m => m.group_id) || [];\n    return success({ groupIds, role: userRole });\n  } catch (err) {\n    return unknownError(err);\n  }\n}\n"],
      names: ["canAccessGroup", "canPerformAction", "getUserGroups", "hasAnyRole", "hasRole", "requireAnyRole", "requireGroupAccess", "requireRole", "createAccessControlClient", "supabaseUrl", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "supabaseAnonKey", "NEXT_PUBLIC_SUPABASE_ANON_KEY", "Error", "createClient", "userId", "requiredRole", "supabase", "data", "error", "dbError", "from", "select", "eq", "single", "ERROR_CODES", "NOT_FOUND", "userRole", "role", "success", "err", "unknownError", "allowedRoles", "includes", "check", "userData", "userError", "canAccess", "memberData", "memberError", "groupId", "resource", "action", "allowed", "hostResources", "publicResources", "result", "INSUFFICIENT_PERMISSIONS", "join", "allGroups", "groupsError", "DATABASE_ERROR", "groupIds", "map", "g", "id", "memberGroups", "m", "group_id"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "e617c2f1a2e13dc80e1018a508d1870710f26bc1"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_opr8culrm = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_opr8culrm();
cov_opr8culrm().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_opr8culrm().f[0]++;
  cov_opr8culrm().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_opr8culrm().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_opr8culrm().s[3]++;
_export(exports, {
  get canAccessGroup() {
    /* istanbul ignore next */
    cov_opr8culrm().f[1]++;
    cov_opr8culrm().s[4]++;
    return canAccessGroup;
  },
  get canPerformAction() {
    /* istanbul ignore next */
    cov_opr8culrm().f[2]++;
    cov_opr8culrm().s[5]++;
    return canPerformAction;
  },
  get getUserGroups() {
    /* istanbul ignore next */
    cov_opr8culrm().f[3]++;
    cov_opr8culrm().s[6]++;
    return getUserGroups;
  },
  get hasAnyRole() {
    /* istanbul ignore next */
    cov_opr8culrm().f[4]++;
    cov_opr8culrm().s[7]++;
    return hasAnyRole;
  },
  get hasRole() {
    /* istanbul ignore next */
    cov_opr8culrm().f[5]++;
    cov_opr8culrm().s[8]++;
    return hasRole;
  },
  get requireAnyRole() {
    /* istanbul ignore next */
    cov_opr8culrm().f[6]++;
    cov_opr8culrm().s[9]++;
    return requireAnyRole;
  },
  get requireGroupAccess() {
    /* istanbul ignore next */
    cov_opr8culrm().f[7]++;
    cov_opr8culrm().s[10]++;
    return requireGroupAccess;
  },
  get requireRole() {
    /* istanbul ignore next */
    cov_opr8culrm().f[8]++;
    cov_opr8culrm().s[11]++;
    return requireRole;
  }
});
const _supabasejs =
/* istanbul ignore next */
(cov_opr8culrm().s[12]++, require("@supabase/supabase-js"));
const _errors =
/* istanbul ignore next */
(cov_opr8culrm().s[13]++, require("../utils/errors"));
const _types =
/* istanbul ignore next */
(cov_opr8culrm().s[14]++, require("../types"));
/**
 * Creates a Supabase client for access control operations.
 */
function createAccessControlClient() {
  /* istanbul ignore next */
  cov_opr8culrm().f[9]++;
  const supabaseUrl =
  /* istanbul ignore next */
  (cov_opr8culrm().s[15]++, process.env.NEXT_PUBLIC_SUPABASE_URL);
  const supabaseAnonKey =
  /* istanbul ignore next */
  (cov_opr8culrm().s[16]++, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);
  /* istanbul ignore next */
  cov_opr8culrm().s[17]++;
  if (
  /* istanbul ignore next */
  (cov_opr8culrm().b[1][0]++, !supabaseUrl) ||
  /* istanbul ignore next */
  (cov_opr8culrm().b[1][1]++, !supabaseAnonKey)) {
    /* istanbul ignore next */
    cov_opr8culrm().b[0][0]++;
    cov_opr8culrm().s[18]++;
    throw new Error('Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY');
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[0][1]++;
  }
  cov_opr8culrm().s[19]++;
  return (0, _supabasejs.createClient)(supabaseUrl, supabaseAnonKey);
}
async function hasRole(userId, requiredRole) {
  /* istanbul ignore next */
  cov_opr8culrm().f[10]++;
  cov_opr8culrm().s[20]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_opr8culrm().s[21]++, createAccessControlClient());
    const {
      data,
      error: dbError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[22]++, await supabase.from('users').select('role').eq('id', userId).single());
    /* istanbul ignore next */
    cov_opr8culrm().s[23]++;
    if (
    /* istanbul ignore next */
    (cov_opr8culrm().b[3][0]++, dbError) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[3][1]++, !data)) {
      /* istanbul ignore next */
      cov_opr8culrm().b[2][0]++;
      cov_opr8culrm().s[24]++;
      return (0, _errors.error)(_types.ERROR_CODES.NOT_FOUND, 'User not found', dbError);
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[2][1]++;
    }
    const userRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[25]++, data.role);
    const hasRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[26]++, userRole === requiredRole);
    /* istanbul ignore next */
    cov_opr8culrm().s[27]++;
    return (0, _errors.success)({
      hasRole,
      userRole
    });
  } catch (err) {
    /* istanbul ignore next */
    cov_opr8culrm().s[28]++;
    return (0, _errors.unknownError)(err);
  }
}
async function hasAnyRole(userId, allowedRoles) {
  /* istanbul ignore next */
  cov_opr8culrm().f[11]++;
  cov_opr8culrm().s[29]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_opr8culrm().s[30]++, createAccessControlClient());
    const {
      data,
      error: dbError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[31]++, await supabase.from('users').select('role').eq('id', userId).single());
    /* istanbul ignore next */
    cov_opr8culrm().s[32]++;
    if (
    /* istanbul ignore next */
    (cov_opr8culrm().b[5][0]++, dbError) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[5][1]++, !data)) {
      /* istanbul ignore next */
      cov_opr8culrm().b[4][0]++;
      cov_opr8culrm().s[33]++;
      return (0, _errors.error)(_types.ERROR_CODES.NOT_FOUND, 'User not found', dbError);
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[4][1]++;
    }
    const userRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[34]++, data.role);
    const hasRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[35]++, allowedRoles.includes(userRole));
    /* istanbul ignore next */
    cov_opr8culrm().s[36]++;
    return (0, _errors.success)({
      hasRole,
      userRole
    });
  } catch (err) {
    /* istanbul ignore next */
    cov_opr8culrm().s[37]++;
    return (0, _errors.unknownError)(err);
  }
}
async function canAccessGroup(check) {
  /* istanbul ignore next */
  cov_opr8culrm().f[12]++;
  cov_opr8culrm().s[38]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_opr8culrm().s[39]++, createAccessControlClient());
    // Check user role
    const {
      data: userData,
      error: userError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[40]++, await supabase.from('users').select('role').eq('id', check.userId).single());
    /* istanbul ignore next */
    cov_opr8culrm().s[41]++;
    if (
    /* istanbul ignore next */
    (cov_opr8culrm().b[7][0]++, userError) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[7][1]++, !userData)) {
      /* istanbul ignore next */
      cov_opr8culrm().b[6][0]++;
      cov_opr8culrm().s[42]++;
      return (0, _errors.error)(_types.ERROR_CODES.NOT_FOUND, 'User not found', userError);
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[6][1]++;
    }
    const userRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[43]++, userData.role);
    // Super admins can access all groups
    /* istanbul ignore next */
    cov_opr8culrm().s[44]++;
    if (userRole === 'super_admin') {
      /* istanbul ignore next */
      cov_opr8culrm().b[8][0]++;
      cov_opr8culrm().s[45]++;
      return (0, _errors.success)({
        canAccess: true,
        role: userRole
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[8][1]++;
    }
    // Check if user is a group member with owner role
    const {
      data: memberData,
      error: memberError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[46]++, await supabase.from('group_members').select('role').eq('user_id', check.userId).eq('group_id', check.groupId).single());
    /* istanbul ignore next */
    cov_opr8culrm().s[47]++;
    if (
    /* istanbul ignore next */
    (cov_opr8culrm().b[10][0]++, memberError) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[10][1]++, !memberData)) {
      /* istanbul ignore next */
      cov_opr8culrm().b[9][0]++;
      cov_opr8culrm().s[48]++;
      return (0, _errors.success)({
        canAccess: false,
        role: userRole
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[9][1]++;
    }
    const canAccess =
    /* istanbul ignore next */
    (cov_opr8culrm().s[49]++, memberData.role === 'owner');
    /* istanbul ignore next */
    cov_opr8culrm().s[50]++;
    return (0, _errors.success)({
      canAccess,
      role: userRole
    });
  } catch (err) {
    /* istanbul ignore next */
    cov_opr8culrm().s[51]++;
    return (0, _errors.unknownError)(err);
  }
}
async function canPerformAction(check) {
  /* istanbul ignore next */
  cov_opr8culrm().f[13]++;
  cov_opr8culrm().s[52]++;
  try {
    const {
      role,
      resource,
      action
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[53]++, check);
    // Super admins can do everything
    /* istanbul ignore next */
    cov_opr8culrm().s[54]++;
    if (role === 'super_admin') {
      /* istanbul ignore next */
      cov_opr8culrm().b[11][0]++;
      cov_opr8culrm().s[55]++;
      return (0, _errors.success)({
        allowed: true
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[11][1]++;
    }
    // Hosts can manage wedding resources
    cov_opr8culrm().s[56]++;
    if (role === 'host') {
      /* istanbul ignore next */
      cov_opr8culrm().b[12][0]++;
      const hostResources =
      /* istanbul ignore next */
      (cov_opr8culrm().s[57]++, ['guests', 'events', 'activities', 'rsvps', 'vendors', 'accommodations', 'photos', 'emails', 'budget', 'transportation']);
      /* istanbul ignore next */
      cov_opr8culrm().s[58]++;
      if (hostResources.includes(resource)) {
        /* istanbul ignore next */
        cov_opr8culrm().b[13][0]++;
        cov_opr8culrm().s[59]++;
        return (0, _errors.success)({
          allowed: true
        });
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[13][1]++;
      }
      cov_opr8culrm().s[60]++;
      return (0, _errors.success)({
        allowed: false
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[12][1]++;
    }
    // Guests have limited permissions
    cov_opr8culrm().s[61]++;
    if (role === 'guest') {
      /* istanbul ignore next */
      cov_opr8culrm().b[14][0]++;
      cov_opr8culrm().s[62]++;
      // Guests can read public information
      if (action === 'read') {
        /* istanbul ignore next */
        cov_opr8culrm().b[15][0]++;
        const publicResources =
        /* istanbul ignore next */
        (cov_opr8culrm().s[63]++, ['events', 'activities', 'accommodations', 'photos']);
        /* istanbul ignore next */
        cov_opr8culrm().s[64]++;
        if (publicResources.includes(resource)) {
          /* istanbul ignore next */
          cov_opr8culrm().b[16][0]++;
          cov_opr8culrm().s[65]++;
          return (0, _errors.success)({
            allowed: true
          });
        } else
        /* istanbul ignore next */
        {
          cov_opr8culrm().b[16][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[15][1]++;
      }
      // Guests can update their own information
      cov_opr8culrm().s[66]++;
      if (
      /* istanbul ignore next */
      (cov_opr8culrm().b[18][0]++, action === 'update') &&
      /* istanbul ignore next */
      (cov_opr8culrm().b[18][1]++, resource === 'guests')) {
        /* istanbul ignore next */
        cov_opr8culrm().b[17][0]++;
        cov_opr8culrm().s[67]++;
        // Additional check needed to verify it's their own record
        return (0, _errors.success)({
          allowed: true
        });
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[17][1]++;
      }
      // Guests can create RSVPs
      cov_opr8culrm().s[68]++;
      if (
      /* istanbul ignore next */
      (cov_opr8culrm().b[20][0]++, action === 'create') &&
      /* istanbul ignore next */
      (cov_opr8culrm().b[20][1]++, resource === 'rsvps')) {
        /* istanbul ignore next */
        cov_opr8culrm().b[19][0]++;
        cov_opr8culrm().s[69]++;
        return (0, _errors.success)({
          allowed: true
        });
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[19][1]++;
      }
      // Guests can upload photos
      cov_opr8culrm().s[70]++;
      if (
      /* istanbul ignore next */
      (cov_opr8culrm().b[22][0]++, action === 'create') &&
      /* istanbul ignore next */
      (cov_opr8culrm().b[22][1]++, resource === 'photos')) {
        /* istanbul ignore next */
        cov_opr8culrm().b[21][0]++;
        cov_opr8culrm().s[71]++;
        return (0, _errors.success)({
          allowed: true
        });
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[21][1]++;
      }
      cov_opr8culrm().s[72]++;
      return (0, _errors.success)({
        allowed: false
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[14][1]++;
    }
    cov_opr8culrm().s[73]++;
    return (0, _errors.success)({
      allowed: false
    });
  } catch (err) {
    /* istanbul ignore next */
    cov_opr8culrm().s[74]++;
    return (0, _errors.unknownError)(err);
  }
}
async function requireRole(userId, requiredRole) {
  /* istanbul ignore next */
  cov_opr8culrm().f[14]++;
  const result =
  /* istanbul ignore next */
  (cov_opr8culrm().s[75]++, await hasRole(userId, requiredRole));
  /* istanbul ignore next */
  cov_opr8culrm().s[76]++;
  if (!result.success) {
    /* istanbul ignore next */
    cov_opr8culrm().b[23][0]++;
    cov_opr8culrm().s[77]++;
    return result;
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[23][1]++;
  }
  cov_opr8culrm().s[78]++;
  if (!result.data.hasRole) {
    /* istanbul ignore next */
    cov_opr8culrm().b[24][0]++;
    cov_opr8culrm().s[79]++;
    return (0, _errors.error)(_types.ERROR_CODES.INSUFFICIENT_PERMISSIONS, `User does not have required role: ${requiredRole}`, {
      userRole: result.data.userRole,
      requiredRole
    });
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[24][1]++;
  }
  cov_opr8culrm().s[80]++;
  return (0, _errors.success)({
    userRole: result.data.userRole
  });
}
async function requireAnyRole(userId, allowedRoles) {
  /* istanbul ignore next */
  cov_opr8culrm().f[15]++;
  const result =
  /* istanbul ignore next */
  (cov_opr8culrm().s[81]++, await hasAnyRole(userId, allowedRoles));
  /* istanbul ignore next */
  cov_opr8culrm().s[82]++;
  if (!result.success) {
    /* istanbul ignore next */
    cov_opr8culrm().b[25][0]++;
    cov_opr8culrm().s[83]++;
    return result;
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[25][1]++;
  }
  cov_opr8culrm().s[84]++;
  if (!result.data.hasRole) {
    /* istanbul ignore next */
    cov_opr8culrm().b[26][0]++;
    cov_opr8culrm().s[85]++;
    return (0, _errors.error)(_types.ERROR_CODES.INSUFFICIENT_PERMISSIONS, `User does not have any of the required roles: ${allowedRoles.join(', ')}`, {
      userRole: result.data.userRole,
      allowedRoles
    });
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[26][1]++;
  }
  cov_opr8culrm().s[86]++;
  return (0, _errors.success)({
    userRole: result.data.userRole
  });
}
async function requireGroupAccess(check) {
  /* istanbul ignore next */
  cov_opr8culrm().f[16]++;
  const result =
  /* istanbul ignore next */
  (cov_opr8culrm().s[87]++, await canAccessGroup(check));
  /* istanbul ignore next */
  cov_opr8culrm().s[88]++;
  if (!result.success) {
    /* istanbul ignore next */
    cov_opr8culrm().b[27][0]++;
    cov_opr8culrm().s[89]++;
    return result;
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[27][1]++;
  }
  cov_opr8culrm().s[90]++;
  if (!result.data.canAccess) {
    /* istanbul ignore next */
    cov_opr8culrm().b[28][0]++;
    cov_opr8culrm().s[91]++;
    return (0, _errors.error)(_types.ERROR_CODES.INSUFFICIENT_PERMISSIONS, 'User does not have access to this group', {
      userId: check.userId,
      groupId: check.groupId
    });
  } else
  /* istanbul ignore next */
  {
    cov_opr8culrm().b[28][1]++;
  }
  cov_opr8culrm().s[92]++;
  return (0, _errors.success)({
    role: result.data.role
  });
}
async function getUserGroups(userId) {
  /* istanbul ignore next */
  cov_opr8culrm().f[17]++;
  cov_opr8culrm().s[93]++;
  try {
    const supabase =
    /* istanbul ignore next */
    (cov_opr8culrm().s[94]++, createAccessControlClient());
    // Check user role
    const {
      data: userData,
      error: userError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[95]++, await supabase.from('users').select('role').eq('id', userId).single());
    /* istanbul ignore next */
    cov_opr8culrm().s[96]++;
    if (
    /* istanbul ignore next */
    (cov_opr8culrm().b[30][0]++, userError) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[30][1]++, !userData)) {
      /* istanbul ignore next */
      cov_opr8culrm().b[29][0]++;
      cov_opr8culrm().s[97]++;
      return (0, _errors.error)(_types.ERROR_CODES.NOT_FOUND, 'User not found', userError);
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[29][1]++;
    }
    const userRole =
    /* istanbul ignore next */
    (cov_opr8culrm().s[98]++, userData.role);
    // Super admins can access all groups
    /* istanbul ignore next */
    cov_opr8culrm().s[99]++;
    if (userRole === 'super_admin') {
      /* istanbul ignore next */
      cov_opr8culrm().b[31][0]++;
      const {
        data: allGroups,
        error: groupsError
      } =
      /* istanbul ignore next */
      (cov_opr8culrm().s[100]++, await supabase.from('groups').select('id'));
      /* istanbul ignore next */
      cov_opr8culrm().s[101]++;
      if (groupsError) {
        /* istanbul ignore next */
        cov_opr8culrm().b[32][0]++;
        cov_opr8culrm().s[102]++;
        return (0, _errors.error)(_types.ERROR_CODES.DATABASE_ERROR, 'Failed to fetch groups', groupsError);
      } else
      /* istanbul ignore next */
      {
        cov_opr8culrm().b[32][1]++;
      }
      const groupIds =
      /* istanbul ignore next */
      (cov_opr8culrm().s[103]++,
      /* istanbul ignore next */
      (cov_opr8culrm().b[33][0]++, allGroups?.map(g => {
        /* istanbul ignore next */
        cov_opr8culrm().f[18]++;
        cov_opr8culrm().s[104]++;
        return g.id;
      })) ||
      /* istanbul ignore next */
      (cov_opr8culrm().b[33][1]++, []));
      /* istanbul ignore next */
      cov_opr8culrm().s[105]++;
      return (0, _errors.success)({
        groupIds,
        role: userRole
      });
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[31][1]++;
    }
    // Get groups where user is an owner
    const {
      data: memberGroups,
      error: memberError
    } =
    /* istanbul ignore next */
    (cov_opr8culrm().s[106]++, await supabase.from('group_members').select('group_id').eq('user_id', userId).eq('role', 'owner'));
    /* istanbul ignore next */
    cov_opr8culrm().s[107]++;
    if (memberError) {
      /* istanbul ignore next */
      cov_opr8culrm().b[34][0]++;
      cov_opr8culrm().s[108]++;
      return (0, _errors.error)(_types.ERROR_CODES.DATABASE_ERROR, 'Failed to fetch user groups', memberError);
    } else
    /* istanbul ignore next */
    {
      cov_opr8culrm().b[34][1]++;
    }
    const groupIds =
    /* istanbul ignore next */
    (cov_opr8culrm().s[109]++,
    /* istanbul ignore next */
    (cov_opr8culrm().b[35][0]++, memberGroups?.map(m => {
      /* istanbul ignore next */
      cov_opr8culrm().f[19]++;
      cov_opr8culrm().s[110]++;
      return m.group_id;
    })) ||
    /* istanbul ignore next */
    (cov_opr8culrm().b[35][1]++, []));
    /* istanbul ignore next */
    cov_opr8culrm().s[111]++;
    return (0, _errors.success)({
      groupIds,
      role: userRole
    });
  } catch (err) {
    /* istanbul ignore next */
    cov_opr8culrm().s[112]++;
    return (0, _errors.unknownError)(err);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYW5BY2Nlc3NHcm91cCIsImNvdl9vcHI4Y3Vscm0iLCJmIiwicyIsImNhblBlcmZvcm1BY3Rpb24iLCJnZXRVc2VyR3JvdXBzIiwiaGFzQW55Um9sZSIsImhhc1JvbGUiLCJyZXF1aXJlQW55Um9sZSIsInJlcXVpcmVHcm91cEFjY2VzcyIsInJlcXVpcmVSb2xlIiwiY3JlYXRlQWNjZXNzQ29udHJvbENsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiYiIsIkVycm9yIiwiX3N1cGFiYXNlanMiLCJjcmVhdGVDbGllbnQiLCJ1c2VySWQiLCJyZXF1aXJlZFJvbGUiLCJzdXBhYmFzZSIsImRhdGEiLCJlcnJvciIsImRiRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJfZXJyb3JzIiwiX3R5cGVzIiwiRVJST1JfQ09ERVMiLCJOT1RfRk9VTkQiLCJ1c2VyUm9sZSIsInJvbGUiLCJzdWNjZXNzIiwiZXJyIiwidW5rbm93bkVycm9yIiwiYWxsb3dlZFJvbGVzIiwiaW5jbHVkZXMiLCJjaGVjayIsInVzZXJEYXRhIiwidXNlckVycm9yIiwiY2FuQWNjZXNzIiwibWVtYmVyRGF0YSIsIm1lbWJlckVycm9yIiwiZ3JvdXBJZCIsInJlc291cmNlIiwiYWN0aW9uIiwiYWxsb3dlZCIsImhvc3RSZXNvdXJjZXMiLCJwdWJsaWNSZXNvdXJjZXMiLCJyZXN1bHQiLCJJTlNVRkZJQ0lFTlRfUEVSTUlTU0lPTlMiLCJqb2luIiwiYWxsR3JvdXBzIiwiZ3JvdXBzRXJyb3IiLCJEQVRBQkFTRV9FUlJPUiIsImdyb3VwSWRzIiwibWFwIiwiZyIsImlkIiwibWVtYmVyR3JvdXBzIiwibSIsImdyb3VwX2lkIl0sInNvdXJjZXMiOlsiL1VzZXJzL2phcm9uL0Rlc2t0b3Avd2VkZGluZy1wbGF0Zm9ybS12Mi9zZXJ2aWNlcy9hY2Nlc3NDb250cm9sU2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuaW1wb3J0IHR5cGUgeyBSZXN1bHQgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IHN1Y2Nlc3MsIGVycm9yLCB1bmF1dGhvcml6ZWRFcnJvciwgdW5rbm93bkVycm9yIH0gZnJvbSAnQC91dGlscy9lcnJvcnMnO1xuaW1wb3J0IHsgRVJST1JfQ09ERVMgfSBmcm9tICdAL3R5cGVzJztcblxuLyoqXG4gKiBBY2Nlc3MgY29udHJvbCBzZXJ2aWNlIGZvciBtYW5hZ2luZyByb2xlLWJhc2VkIHBlcm1pc3Npb25zLlxuICogSW1wbGVtZW50cyBhdXRob3JpemF0aW9uIGNoZWNrcyBmb3IgZGlmZmVyZW50IHVzZXIgcm9sZXMgYW5kIHJlc291cmNlIGFjY2Vzcy5cbiAqL1xuXG5leHBvcnQgdHlwZSBVc2VyUm9sZSA9ICdzdXBlcl9hZG1pbicgfCAnaG9zdCcgfCAnZ3Vlc3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBlcm1pc3Npb25DaGVjayB7XG4gIHVzZXJJZDogc3RyaW5nO1xuICByb2xlOiBVc2VyUm9sZTtcbiAgcmVzb3VyY2U6IHN0cmluZztcbiAgYWN0aW9uOiAnY3JlYXRlJyB8ICdyZWFkJyB8ICd1cGRhdGUnIHwgJ2RlbGV0ZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JvdXBBY2Nlc3NDaGVjayB7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBncm91cElkOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFN1cGFiYXNlIGNsaWVudCBmb3IgYWNjZXNzIGNvbnRyb2wgb3BlcmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWNjZXNzQ29udHJvbENsaWVudCgpIHtcbiAgY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XG4gIGNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuXG4gIGlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlQW5vbktleSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcy4gUGxlYXNlIHNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZJ1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHVzZXIgaGFzIGEgc3BlY2lmaWMgcm9sZS5cbiAqIFxuICogQHBhcmFtIHVzZXJJZCAtIFVzZXIgSUQgdG8gY2hlY2tcbiAqIEBwYXJhbSByZXF1aXJlZFJvbGUgLSBSZXF1aXJlZCByb2xlXG4gKiBAcmV0dXJucyBSZXN1bHQgaW5kaWNhdGluZyBpZiB1c2VyIGhhcyB0aGUgcm9sZVxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgYWNjZXNzQ29udHJvbFNlcnZpY2UuaGFzUm9sZSgndXNlci0xMjMnLCAnc3VwZXJfYWRtaW4nKTtcbiAqIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YS5oYXNSb2xlKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdVc2VyIGlzIHN1cGVyIGFkbWluJyk7XG4gKiB9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNSb2xlKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgcmVxdWlyZWRSb2xlOiBVc2VyUm9sZVxuKTogUHJvbWlzZTxSZXN1bHQ8eyBoYXNSb2xlOiBib29sZWFuOyB1c2VyUm9sZTogVXNlclJvbGUgfT4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUFjY2Vzc0NvbnRyb2xDbGllbnQoKTtcblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IGRiRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnNlbGVjdCgncm9sZScpXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGRiRXJyb3IgfHwgIWRhdGEpIHtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgRVJST1JfQ09ERVMuTk9UX0ZPVU5ELFxuICAgICAgICAnVXNlciBub3QgZm91bmQnLFxuICAgICAgICBkYkVycm9yXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJSb2xlID0gZGF0YS5yb2xlIGFzIFVzZXJSb2xlO1xuICAgIGNvbnN0IGhhc1JvbGUgPSB1c2VyUm9sZSA9PT0gcmVxdWlyZWRSb2xlO1xuXG4gICAgcmV0dXJuIHN1Y2Nlc3MoeyBoYXNSb2xlLCB1c2VyUm9sZSB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHVua25vd25FcnJvcihlcnIpO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgdXNlciBoYXMgYW55IG9mIHRoZSBzcGVjaWZpZWQgcm9sZXMuXG4gKiBcbiAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEIHRvIGNoZWNrXG4gKiBAcGFyYW0gYWxsb3dlZFJvbGVzIC0gQXJyYXkgb2YgYWxsb3dlZCByb2xlc1xuICogQHJldHVybnMgUmVzdWx0IGluZGljYXRpbmcgaWYgdXNlciBoYXMgYW55IG9mIHRoZSByb2xlc1xuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgYWNjZXNzQ29udHJvbFNlcnZpY2UuaGFzQW55Um9sZSgndXNlci0xMjMnLCBbJ3N1cGVyX2FkbWluJywgJ2hvc3QnXSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNBbnlSb2xlKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgYWxsb3dlZFJvbGVzOiBVc2VyUm9sZVtdXG4pOiBQcm9taXNlPFJlc3VsdDx7IGhhc1JvbGU6IGJvb2xlYW47IHVzZXJSb2xlOiBVc2VyUm9sZSB9Pj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQWNjZXNzQ29udHJvbENsaWVudCgpO1xuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvcjogZGJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZGJFcnJvciB8fCAhZGF0YSkge1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBFUlJPUl9DT0RFUy5OT1RfRk9VTkQsXG4gICAgICAgICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgICAgIGRiRXJyb3JcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclJvbGUgPSBkYXRhLnJvbGUgYXMgVXNlclJvbGU7XG4gICAgY29uc3QgaGFzUm9sZSA9IGFsbG93ZWRSb2xlcy5pbmNsdWRlcyh1c2VyUm9sZSk7XG5cbiAgICByZXR1cm4gc3VjY2Vzcyh7IGhhc1JvbGUsIHVzZXJSb2xlIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdW5rbm93bkVycm9yKGVycik7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSB1c2VyIGNhbiBhY2Nlc3MgYSBzcGVjaWZpYyBncm91cC5cbiAqIFN1cGVyIGFkbWlucyBjYW4gYWNjZXNzIGFsbCBncm91cHMuXG4gKiBHcm91cCBvd25lcnMgY2FuIGFjY2VzcyB0aGVpciBhc3NpZ25lZCBncm91cHMuXG4gKiBcbiAqIEBwYXJhbSBjaGVjayAtIFVzZXIgSUQgYW5kIGdyb3VwIElEIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBSZXN1bHQgaW5kaWNhdGluZyBpZiB1c2VyIGNhbiBhY2Nlc3MgdGhlIGdyb3VwXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBhY2Nlc3NDb250cm9sU2VydmljZS5jYW5BY2Nlc3NHcm91cCh7XG4gKiAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAqICAgZ3JvdXBJZDogJ2dyb3VwLTQ1NidcbiAqIH0pO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuQWNjZXNzR3JvdXAoXG4gIGNoZWNrOiBHcm91cEFjY2Vzc0NoZWNrXG4pOiBQcm9taXNlPFJlc3VsdDx7IGNhbkFjY2VzczogYm9vbGVhbjsgcm9sZTogVXNlclJvbGUgfT4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUFjY2Vzc0NvbnRyb2xDbGllbnQoKTtcblxuICAgIC8vIENoZWNrIHVzZXIgcm9sZVxuICAgIGNvbnN0IHsgZGF0YTogdXNlckRhdGEsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnNlbGVjdCgncm9sZScpXG4gICAgICAuZXEoJ2lkJywgY2hlY2sudXNlcklkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKHVzZXJFcnJvciB8fCAhdXNlckRhdGEpIHtcbiAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgRVJST1JfQ09ERVMuTk9UX0ZPVU5ELFxuICAgICAgICAnVXNlciBub3QgZm91bmQnLFxuICAgICAgICB1c2VyRXJyb3JcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIGFzIFVzZXJSb2xlO1xuXG4gICAgLy8gU3VwZXIgYWRtaW5zIGNhbiBhY2Nlc3MgYWxsIGdyb3Vwc1xuICAgIGlmICh1c2VyUm9sZSA9PT0gJ3N1cGVyX2FkbWluJykge1xuICAgICAgcmV0dXJuIHN1Y2Nlc3MoeyBjYW5BY2Nlc3M6IHRydWUsIHJvbGU6IHVzZXJSb2xlIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYSBncm91cCBtZW1iZXIgd2l0aCBvd25lciByb2xlXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXJEYXRhLCBlcnJvcjogbWVtYmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZ3JvdXBfbWVtYmVycycpXG4gICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgIC5lcSgndXNlcl9pZCcsIGNoZWNrLnVzZXJJZClcbiAgICAgIC5lcSgnZ3JvdXBfaWQnLCBjaGVjay5ncm91cElkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKG1lbWJlckVycm9yIHx8ICFtZW1iZXJEYXRhKSB7XG4gICAgICByZXR1cm4gc3VjY2Vzcyh7IGNhbkFjY2VzczogZmFsc2UsIHJvbGU6IHVzZXJSb2xlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbkFjY2VzcyA9IG1lbWJlckRhdGEucm9sZSA9PT0gJ293bmVyJztcbiAgICByZXR1cm4gc3VjY2Vzcyh7IGNhbkFjY2Vzcywgcm9sZTogdXNlclJvbGUgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB1bmtub3duRXJyb3IoZXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHVzZXIgY2FuIHBlcmZvcm0gYW4gYWN0aW9uIG9uIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlaXIgcm9sZS5cbiAqIFxuICogUm9sZSBoaWVyYXJjaHk6XG4gKiAtIHN1cGVyX2FkbWluOiBDYW4gcGVyZm9ybSBhbGwgYWN0aW9ucyBvbiBhbGwgcmVzb3VyY2VzXG4gKiAtIGhvc3Q6IENhbiBwZXJmb3JtIGFsbCBhY3Rpb25zIG9uIHdlZGRpbmctcmVsYXRlZCByZXNvdXJjZXNcbiAqIC0gZ3Vlc3Q6IENhbiBvbmx5IHJlYWQgYW5kIHVwZGF0ZSB0aGVpciBvd24gaW5mb3JtYXRpb25cbiAqIFxuICogQHBhcmFtIGNoZWNrIC0gUGVybWlzc2lvbiBjaGVjayBwYXJhbWV0ZXJzXG4gKiBAcmV0dXJucyBSZXN1bHQgaW5kaWNhdGluZyBpZiBhY3Rpb24gaXMgYWxsb3dlZFxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgYWNjZXNzQ29udHJvbFNlcnZpY2UuY2FuUGVyZm9ybUFjdGlvbih7XG4gKiAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAqICAgcm9sZTogJ2hvc3QnLFxuICogICByZXNvdXJjZTogJ2d1ZXN0cycsXG4gKiAgIGFjdGlvbjogJ2NyZWF0ZSdcbiAqIH0pO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuUGVyZm9ybUFjdGlvbihcbiAgY2hlY2s6IFBlcm1pc3Npb25DaGVja1xuKTogUHJvbWlzZTxSZXN1bHQ8eyBhbGxvd2VkOiBib29sZWFuIH0+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByb2xlLCByZXNvdXJjZSwgYWN0aW9uIH0gPSBjaGVjaztcblxuICAgIC8vIFN1cGVyIGFkbWlucyBjYW4gZG8gZXZlcnl0aGluZ1xuICAgIGlmIChyb2xlID09PSAnc3VwZXJfYWRtaW4nKSB7XG4gICAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gSG9zdHMgY2FuIG1hbmFnZSB3ZWRkaW5nIHJlc291cmNlc1xuICAgIGlmIChyb2xlID09PSAnaG9zdCcpIHtcbiAgICAgIGNvbnN0IGhvc3RSZXNvdXJjZXMgPSBbXG4gICAgICAgICdndWVzdHMnLFxuICAgICAgICAnZXZlbnRzJyxcbiAgICAgICAgJ2FjdGl2aXRpZXMnLFxuICAgICAgICAncnN2cHMnLFxuICAgICAgICAndmVuZG9ycycsXG4gICAgICAgICdhY2NvbW1vZGF0aW9ucycsXG4gICAgICAgICdwaG90b3MnLFxuICAgICAgICAnZW1haWxzJyxcbiAgICAgICAgJ2J1ZGdldCcsXG4gICAgICAgICd0cmFuc3BvcnRhdGlvbicsXG4gICAgICBdO1xuXG4gICAgICBpZiAoaG9zdFJlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3MoeyBhbGxvd2VkOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIEd1ZXN0cyBoYXZlIGxpbWl0ZWQgcGVybWlzc2lvbnNcbiAgICBpZiAocm9sZSA9PT0gJ2d1ZXN0Jykge1xuICAgICAgLy8gR3Vlc3RzIGNhbiByZWFkIHB1YmxpYyBpbmZvcm1hdGlvblxuICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JlYWQnKSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY1Jlc291cmNlcyA9IFtcbiAgICAgICAgICAnZXZlbnRzJyxcbiAgICAgICAgICAnYWN0aXZpdGllcycsXG4gICAgICAgICAgJ2FjY29tbW9kYXRpb25zJyxcbiAgICAgICAgICAncGhvdG9zJyxcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKHB1YmxpY1Jlc291cmNlcy5pbmNsdWRlcyhyZXNvdXJjZSkpIHtcbiAgICAgICAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR3Vlc3RzIGNhbiB1cGRhdGUgdGhlaXIgb3duIGluZm9ybWF0aW9uXG4gICAgICBpZiAoYWN0aW9uID09PSAndXBkYXRlJyAmJiByZXNvdXJjZSA9PT0gJ2d1ZXN0cycpIHtcbiAgICAgICAgLy8gQWRkaXRpb25hbCBjaGVjayBuZWVkZWQgdG8gdmVyaWZ5IGl0J3MgdGhlaXIgb3duIHJlY29yZFxuICAgICAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEd1ZXN0cyBjYW4gY3JlYXRlIFJTVlBzXG4gICAgICBpZiAoYWN0aW9uID09PSAnY3JlYXRlJyAmJiByZXNvdXJjZSA9PT0gJ3JzdnBzJykge1xuICAgICAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEd1ZXN0cyBjYW4gdXBsb2FkIHBob3Rvc1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2NyZWF0ZScgJiYgcmVzb3VyY2UgPT09ICdwaG90b3MnKSB7XG4gICAgICAgIHJldHVybiBzdWNjZXNzKHsgYWxsb3dlZDogdHJ1ZSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1Y2Nlc3MoeyBhbGxvd2VkOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3VjY2Vzcyh7IGFsbG93ZWQ6IGZhbHNlIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdW5rbm93bkVycm9yKGVycik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXF1aXJlcyB0aGF0IGEgdXNlciBoYXMgYSBzcGVjaWZpYyByb2xlLCByZXR1cm5pbmcgYW4gZXJyb3IgaWYgbm90LlxuICogXG4gKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRCB0byBjaGVja1xuICogQHBhcmFtIHJlcXVpcmVkUm9sZSAtIFJlcXVpcmVkIHJvbGVcbiAqIEByZXR1cm5zIFJlc3VsdCB3aXRoIHN1Y2Nlc3MgaWYgdXNlciBoYXMgcm9sZSwgZXJyb3Igb3RoZXJ3aXNlXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBhY2Nlc3NDb250cm9sU2VydmljZS5yZXF1aXJlUm9sZSgndXNlci0xMjMnLCAnc3VwZXJfYWRtaW4nKTtcbiAqIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAqICAgcmV0dXJuIHJlc3VsdDsgLy8gUmV0dXJuIGVycm9yIHRvIGNhbGxlclxuICogfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWlyZVJvbGUoXG4gIHVzZXJJZDogc3RyaW5nLFxuICByZXF1aXJlZFJvbGU6IFVzZXJSb2xlXG4pOiBQcm9taXNlPFJlc3VsdDx7IHVzZXJSb2xlOiBVc2VyUm9sZSB9Pj4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYXNSb2xlKHVzZXJJZCwgcmVxdWlyZWRSb2xlKTtcblxuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghcmVzdWx0LmRhdGEuaGFzUm9sZSkge1xuICAgIHJldHVybiBlcnJvcihcbiAgICAgIEVSUk9SX0NPREVTLklOU1VGRklDSUVOVF9QRVJNSVNTSU9OUyxcbiAgICAgIGBVc2VyIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgcm9sZTogJHtyZXF1aXJlZFJvbGV9YCxcbiAgICAgIHsgdXNlclJvbGU6IHJlc3VsdC5kYXRhLnVzZXJSb2xlLCByZXF1aXJlZFJvbGUgfVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc3VjY2Vzcyh7IHVzZXJSb2xlOiByZXN1bHQuZGF0YS51c2VyUm9sZSB9KTtcbn1cblxuLyoqXG4gKiBSZXF1aXJlcyB0aGF0IGEgdXNlciBoYXMgYW55IG9mIHRoZSBzcGVjaWZpZWQgcm9sZXMuXG4gKiBcbiAqIEBwYXJhbSB1c2VySWQgLSBVc2VyIElEIHRvIGNoZWNrXG4gKiBAcGFyYW0gYWxsb3dlZFJvbGVzIC0gQXJyYXkgb2YgYWxsb3dlZCByb2xlc1xuICogQHJldHVybnMgUmVzdWx0IHdpdGggc3VjY2VzcyBpZiB1c2VyIGhhcyBhbnkgcm9sZSwgZXJyb3Igb3RoZXJ3aXNlXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBhY2Nlc3NDb250cm9sU2VydmljZS5yZXF1aXJlQW55Um9sZSgndXNlci0xMjMnLCBbJ3N1cGVyX2FkbWluJywgJ2hvc3QnXSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlQW55Um9sZShcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGFsbG93ZWRSb2xlczogVXNlclJvbGVbXVxuKTogUHJvbWlzZTxSZXN1bHQ8eyB1c2VyUm9sZTogVXNlclJvbGUgfT4+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFzQW55Um9sZSh1c2VySWQsIGFsbG93ZWRSb2xlcyk7XG5cbiAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXJlc3VsdC5kYXRhLmhhc1JvbGUpIHtcbiAgICByZXR1cm4gZXJyb3IoXG4gICAgICBFUlJPUl9DT0RFUy5JTlNVRkZJQ0lFTlRfUEVSTUlTU0lPTlMsXG4gICAgICBgVXNlciBkb2VzIG5vdCBoYXZlIGFueSBvZiB0aGUgcmVxdWlyZWQgcm9sZXM6ICR7YWxsb3dlZFJvbGVzLmpvaW4oJywgJyl9YCxcbiAgICAgIHsgdXNlclJvbGU6IHJlc3VsdC5kYXRhLnVzZXJSb2xlLCBhbGxvd2VkUm9sZXMgfVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc3VjY2Vzcyh7IHVzZXJSb2xlOiByZXN1bHQuZGF0YS51c2VyUm9sZSB9KTtcbn1cblxuLyoqXG4gKiBSZXF1aXJlcyB0aGF0IGEgdXNlciBjYW4gYWNjZXNzIGEgc3BlY2lmaWMgZ3JvdXAuXG4gKiBcbiAqIEBwYXJhbSBjaGVjayAtIFVzZXIgSUQgYW5kIGdyb3VwIElEIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBSZXN1bHQgd2l0aCBzdWNjZXNzIGlmIHVzZXIgY2FuIGFjY2VzcywgZXJyb3Igb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXF1aXJlR3JvdXBBY2Nlc3MoXG4gIGNoZWNrOiBHcm91cEFjY2Vzc0NoZWNrXG4pOiBQcm9taXNlPFJlc3VsdDx7IHJvbGU6IFVzZXJSb2xlIH0+PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhbkFjY2Vzc0dyb3VwKGNoZWNrKTtcblxuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghcmVzdWx0LmRhdGEuY2FuQWNjZXNzKSB7XG4gICAgcmV0dXJuIGVycm9yKFxuICAgICAgRVJST1JfQ09ERVMuSU5TVUZGSUNJRU5UX1BFUk1JU1NJT05TLFxuICAgICAgJ1VzZXIgZG9lcyBub3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyBncm91cCcsXG4gICAgICB7IHVzZXJJZDogY2hlY2sudXNlcklkLCBncm91cElkOiBjaGVjay5ncm91cElkIH1cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHN1Y2Nlc3MoeyByb2xlOiByZXN1bHQuZGF0YS5yb2xlIH0pO1xufVxuXG4vKipcbiAqIEdldHMgYWxsIGdyb3VwcyB0aGF0IGEgdXNlciBjYW4gYWNjZXNzLlxuICogXG4gKiBAcGFyYW0gdXNlcklkIC0gVXNlciBJRFxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgYXJyYXkgb2YgYWNjZXNzaWJsZSBncm91cCBJRHNcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFjY2Vzc0NvbnRyb2xTZXJ2aWNlLmdldFVzZXJHcm91cHMoJ3VzZXItMTIzJyk7XG4gKiBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAqICAgY29uc29sZS5sb2coJ1VzZXIgY2FuIGFjY2VzcyBncm91cHM6JywgcmVzdWx0LmRhdGEuZ3JvdXBJZHMpO1xuICogfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckdyb3VwcyhcbiAgdXNlcklkOiBzdHJpbmdcbik6IFByb21pc2U8UmVzdWx0PHsgZ3JvdXBJZHM6IHN0cmluZ1tdOyByb2xlOiBVc2VyUm9sZSB9Pj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQWNjZXNzQ29udHJvbENsaWVudCgpO1xuXG4gICAgLy8gQ2hlY2sgdXNlciByb2xlXG4gICAgY29uc3QgeyBkYXRhOiB1c2VyRGF0YSwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAodXNlckVycm9yIHx8ICF1c2VyRGF0YSkge1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBFUlJPUl9DT0RFUy5OT1RfRk9VTkQsXG4gICAgICAgICdVc2VyIG5vdCBmb3VuZCcsXG4gICAgICAgIHVzZXJFcnJvclxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgYXMgVXNlclJvbGU7XG5cbiAgICAvLyBTdXBlciBhZG1pbnMgY2FuIGFjY2VzcyBhbGwgZ3JvdXBzXG4gICAgaWYgKHVzZXJSb2xlID09PSAnc3VwZXJfYWRtaW4nKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGFsbEdyb3VwcywgZXJyb3I6IGdyb3Vwc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnZ3JvdXBzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKTtcblxuICAgICAgaWYgKGdyb3Vwc0Vycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBFUlJPUl9DT0RFUy5EQVRBQkFTRV9FUlJPUixcbiAgICAgICAgICAnRmFpbGVkIHRvIGZldGNoIGdyb3VwcycsXG4gICAgICAgICAgZ3JvdXBzRXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ3JvdXBJZHMgPSBhbGxHcm91cHM/Lm1hcChnID0+IGcuaWQpIHx8IFtdO1xuICAgICAgcmV0dXJuIHN1Y2Nlc3MoeyBncm91cElkcywgcm9sZTogdXNlclJvbGUgfSk7XG4gICAgfVxuXG4gICAgLy8gR2V0IGdyb3VwcyB3aGVyZSB1c2VyIGlzIGFuIG93bmVyXG4gICAgY29uc3QgeyBkYXRhOiBtZW1iZXJHcm91cHMsIGVycm9yOiBtZW1iZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdncm91cF9tZW1iZXJzJylcbiAgICAgIC5zZWxlY3QoJ2dyb3VwX2lkJylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5lcSgncm9sZScsICdvd25lcicpO1xuXG4gICAgaWYgKG1lbWJlckVycm9yKSB7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIEVSUk9SX0NPREVTLkRBVEFCQVNFX0VSUk9SLFxuICAgICAgICAnRmFpbGVkIHRvIGZldGNoIHVzZXIgZ3JvdXBzJyxcbiAgICAgICAgbWVtYmVyRXJyb3JcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBJZHMgPSBtZW1iZXJHcm91cHM/Lm1hcChtID0+IG0uZ3JvdXBfaWQpIHx8IFtdO1xuICAgIHJldHVybiBzdWNjZXNzKHsgZ3JvdXBJZHMsIHJvbGU6IHVzZXJSb2xlIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdW5rbm93bkVycm9yKGVycik7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BeUlzQkEsZUFBQTtJQUFBO0lBQUFDLGFBQUEsR0FBQUMsQ0FBQTtJQUFBRCxhQUFBLEdBQUFFLENBQUE7V0FBQUgsY0FBQTs7TUFrRUFJLGlCQUFBO0lBQUE7SUFBQUgsYUFBQSxHQUFBQyxDQUFBO0lBQUFELGFBQUEsR0FBQUUsQ0FBQTtXQUFBQyxnQkFBQTs7TUFnTEFDLGNBQUE7SUFBQTtJQUFBSixhQUFBLEdBQUFDLENBQUE7SUFBQUQsYUFBQSxHQUFBRSxDQUFBO1dBQUFFLGFBQUE7O01BOVJBQyxXQUFBO0lBQUE7SUFBQUwsYUFBQSxHQUFBQyxDQUFBO0lBQUFELGFBQUEsR0FBQUUsQ0FBQTtXQUFBRyxVQUFBOztNQXhDQUMsUUFBQTtJQUFBO0lBQUFOLGFBQUEs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