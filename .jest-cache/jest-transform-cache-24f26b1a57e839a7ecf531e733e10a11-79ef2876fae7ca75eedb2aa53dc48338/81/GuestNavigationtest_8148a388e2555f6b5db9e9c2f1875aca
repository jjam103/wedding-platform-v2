034cf03a473d6face350e77ebfdad105
"use strict";
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn()
    }));
jest.mock('next/link', ()=>{
    return ({ children, href, onClick, ...props })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            onClick: onClick,
            ...props,
            children: children
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _GuestNavigation = require("./GuestNavigation");
describe('GuestNavigation', ()=>{
    const mockUsePathname = _navigation.usePathname;
    beforeEach(()=>{
        mockUsePathname.mockReturnValue('/guest/dashboard');
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Desktop Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to desktop size
            global.innerWidth = 1024;
        });
        it('should render all navigation tabs', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            expect(_react.screen.getByText('Home')).toBeInTheDocument();
            expect(_react.screen.getByText('Events')).toBeInTheDocument();
            expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            expect(_react.screen.getByText('Itinerary')).toBeInTheDocument();
            expect(_react.screen.getByText('Photos')).toBeInTheDocument();
            expect(_react.screen.getByText('Info')).toBeInTheDocument();
        });
        it('should highlight the active tab', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should render logo with link to dashboard', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logos = _react.screen.getAllByText('Wedding Portal');
            expect(logos.length).toBeGreaterThan(0);
            logos.forEach((logo)=>{
                expect(logo.closest('a')).toHaveAttribute('href', '/guest/dashboard');
            });
        });
        it('should render logout link', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logoutLink = _react.screen.getByText('Logout');
            expect(logoutLink).toHaveAttribute('href', '/api/auth/logout');
        });
        describe('Dropdown Menu', ()=>{
            it('should toggle dropdown when Info tab is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Initially closed
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'true');
                expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
                expect(_react.screen.getByText('Transportation')).toBeInTheDocument();
                expect(_react.screen.getByText('Family')).toBeInTheDocument();
                expect(_react.screen.getByText('Our Story')).toBeInTheDocument();
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should close dropdown when a sub-item is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                _react.fireEvent.click(accommodationLink);
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should highlight active sub-item', ()=>{
                mockUsePathname.mockReturnValue('/guest/accommodation');
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Info tab should be active because sub-item is active
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                // Open dropdown
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                expect(accommodationLink).toHaveClass('bg-emerald-50', 'text-emerald-700');
            });
            it('should rotate chevron icon when dropdown is open', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                const chevron = infoButton.querySelector('svg:last-child');
                // Initially not rotated
                expect(chevron).not.toHaveClass('rotate-180');
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(chevron).toHaveClass('rotate-180');
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(chevron).not.toHaveClass('rotate-180');
            });
        });
    });
    describe('Mobile Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to mobile size
            global.innerWidth = 375;
        });
        it('should render hamburger menu button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toBeInTheDocument();
        });
        it('should toggle mobile menu when hamburger is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            // Initially closed
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            const closeButtons = _react.screen.getAllByLabelText('Close menu');
            expect(closeButtons.length).toBeGreaterThan(0);
            // Click to close
            _react.fireEvent.click(closeButtons[0]);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when backdrop is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            // Click backdrop
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toBeInTheDocument();
            _react.fireEvent.click(backdrop);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when a navigation link is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allEventsLinks = _react.screen.getAllByText('Events');
            // Find the mobile menu link (should be inside the mobile menu panel)
            const mobileEventsLink = allEventsLinks.find((link)=>{
                const parent = link.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            expect(mobileEventsLink).toBeInTheDocument();
            _react.fireEvent.click(mobileEventsLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should have minimum 44px touch targets', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            // Check that mobile menu items exist with proper styling
            const mobileMenuPanel = document.querySelector('.fixed.inset-y-0.right-0');
            expect(mobileMenuPanel).toBeInTheDocument();
            // Verify the panel contains navigation items
            const navItems = mobileMenuPanel?.querySelectorAll('a, button');
            expect(navItems && navItems.length).toBeGreaterThan(0);
        });
        it('should toggle dropdown in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allInfoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            // Find the mobile menu button (should be inside the mobile menu panel)
            const mobileInfoButton = allInfoButtons.find((btn)=>{
                const parent = btn.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            expect(mobileInfoButton).toBeInTheDocument();
            // Initially closed
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(mobileInfoButton);
            expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
            // Click to close
            _react.fireEvent.click(mobileInfoButton);
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
        });
        it('should close mobile menu when sub-item is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const allInfoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            const mobileInfoButton = allInfoButtons.find((btn)=>{
                const parent = btn.closest('.fixed.inset-y-0.right-0');
                return parent !== null;
            });
            _react.fireEvent.click(mobileInfoButton);
            const accommodationLink = _react.screen.getByText('Accommodation');
            _react.fireEvent.click(accommodationLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should render logout button in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const logoutLinks = _react.screen.getAllByText('Logout');
            const mobileLogoutButton = logoutLinks.find((el)=>{
                const link = el.closest('a');
                return link && link.getAttribute('href') === '/api/auth/logout' && link.style.minHeight === '44px';
            });
            expect(mobileLogoutButton).toBeInTheDocument();
        });
    });
    describe('Active State', ()=>{
        it('should highlight Home tab when on dashboard', ()=>{
            mockUsePathname.mockReturnValue('/guest/dashboard');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            expect(homeLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Events tab when on events page', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Activities tab when on activities page', ()=>{
            mockUsePathname.mockReturnValue('/guest/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: /Activities/i
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Itinerary tab when on itinerary page', ()=>{
            mockUsePathname.mockReturnValue('/guest/itinerary');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const itineraryLink = _react.screen.getByRole('link', {
                name: /Itinerary/i
            });
            expect(itineraryLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Photos tab when on photos page', ()=>{
            mockUsePathname.mockReturnValue('/guest/photos');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const photosLink = _react.screen.getByRole('link', {
                name: /Photos/i
            });
            expect(photosLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Info tab when on any sub-item page', ()=>{
            const subItemPaths = [
                '/guest/accommodation',
                '/guest/transportation',
                '/guest/family',
                '/our-story'
            ];
            subItemPaths.forEach((path)=>{
                mockUsePathname.mockReturnValue(path);
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                unmount();
            });
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels for menu buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            _react.fireEvent.click(menuButton);
            const closeButtons = _react.screen.getAllByLabelText('Close menu');
            expect(closeButtons.length).toBeGreaterThan(0);
        });
        it('should have proper ARIA attributes for dropdown', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const infoButtons = _react.screen.getAllByRole('button').filter((btn)=>btn.textContent?.includes('Info'));
            const infoButton = infoButtons[0]; // Get first (desktop) button
            expect(infoButton).toHaveAttribute('aria-expanded', 'false');
            expect(infoButton).toHaveAttribute('aria-haspopup', 'true');
            _react.fireEvent.click(infoButton);
            expect(infoButton).toHaveAttribute('aria-expanded', 'true');
        });
        it('should be keyboard navigable', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLinks = _react.screen.getAllByRole('link').filter((link)=>link.textContent?.includes('Home'));
            const homeLink = homeLinks[0];
            homeLink.focus();
            expect(document.activeElement).toBe(homeLink);
        });
    });
    describe('Styling', ()=>{
        it('should have sticky positioning', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('sticky', 'top-0', 'z-50');
            });
        });
        it('should have glassmorphism effect', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('bg-white/80', 'backdrop-blur-md');
            });
        });
        it('should have proper z-index for overlay', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toHaveClass('z-40');
            const menuPanel = document.querySelector('.fixed.inset-y-0.right-0');
            expect(menuPanel).toHaveClass('z-50');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdE5hdmlnYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgR3Vlc3ROYXZpZ2F0aW9uIH0gZnJvbSAnLi9HdWVzdE5hdmlnYXRpb24nO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VQYXRobmFtZTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ25leHQvbGluaycsICgpID0+IHtcbiAgcmV0dXJuICh7IGNoaWxkcmVuLCBocmVmLCBvbkNsaWNrLCAuLi5wcm9wcyB9OiBhbnkpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17aHJlZn0gb25DbGljaz17b25DbGlja30gey4uLnByb3BzfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ0d1ZXN0TmF2aWdhdGlvbicsICgpID0+IHtcbiAgY29uc3QgbW9ja1VzZVBhdGhuYW1lID0gdXNlUGF0aG5hbWUgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUGF0aG5hbWU+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Rlc2t0b3AgTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIFNldCB2aWV3cG9ydCB0byBkZXNrdG9wIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMTAyNDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBuYXZpZ2F0aW9uIHRhYnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb21lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXZlbnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0l0aW5lcmFyeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Bob3RvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHRoZSBhY3RpdmUgdGFiJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvIHdpdGggbGluayB0byBkYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ29zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnV2VkZGluZyBQb3J0YWwnKTtcbiAgICAgIGV4cGVjdChsb2dvcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGxvZ29zLmZvckVhY2gobG9nbyA9PiB7XG4gICAgICAgIGV4cGVjdChsb2dvLmNsb3Nlc3QoJ2EnKSkudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9nb3V0IGxpbmsnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ291dExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGV4cGVjdChsb2dvdXRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2FwaS9hdXRoL2xvZ291dCcpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Ryb3Bkb3duIE1lbnUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBkcm9wZG93biB3aGVuIEluZm8gdGFiIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVHJhbnNwb3J0YXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhbWlseScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3VyIFN0b3J5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjbG9zZSBkcm9wZG93biB3aGVuIGEgc3ViLWl0ZW0gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uKTtcblxuICAgICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjY29tbW9kYXRpb25MaW5rKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGFjdGl2ZSBzdWItaXRlbScsICgpID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbmZvIHRhYiBzaG91bGQgYmUgYWN0aXZlIGJlY2F1c2Ugc3ViLWl0ZW0gaXMgYWN0aXZlXG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuXG4gICAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25MaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpO1xuICAgICAgICBleHBlY3QoYWNjb21tb2RhdGlvbkxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTUwJywgJ3RleHQtZW1lcmFsZC03MDAnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJvdGF0ZSBjaGV2cm9uIGljb24gd2hlbiBkcm9wZG93biBpcyBvcGVuJywgKCkgPT4ge1xuICAgICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgY29uc3QgY2hldnJvbiA9IGluZm9CdXR0b24ucXVlcnlTZWxlY3Rvcignc3ZnOmxhc3QtY2hpbGQnKTtcblxuICAgICAgICAvLyBJbml0aWFsbHkgbm90IHJvdGF0ZWRcbiAgICAgICAgZXhwZWN0KGNoZXZyb24pLm5vdC50b0hhdmVDbGFzcygncm90YXRlLTE4MCcpO1xuXG4gICAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoY2hldnJvbikudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcblxuICAgICAgICAvLyBDbGljayB0byBjbG9zZVxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChjaGV2cm9uKS5ub3QudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9iaWxlIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBTZXQgdmlld3BvcnQgdG8gbW9iaWxlIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMzc1O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgaGFtYnVyZ2VyIG1lbnUgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgbW9iaWxlIG1lbnUgd2hlbiBoYW1idXJnZXIgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxseSBjbG9zZWRcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoJ0Nsb3NlIG1lbnUnKTtcbiAgICAgIGV4cGVjdChjbG9zZUJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b25zWzBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYmFja2Ryb3AgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIGJhY2tkcm9wXG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC5pbnNldC0wLmJnLWJsYWNrXFxcXC81MCcpO1xuICAgICAgZXhwZWN0KGJhY2tkcm9wKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tkcm9wISk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYSBuYXZpZ2F0aW9uIGxpbmsgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGFsbEV2ZW50c0xpbmtzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnRXZlbnRzJyk7XG4gICAgICAvLyBGaW5kIHRoZSBtb2JpbGUgbWVudSBsaW5rIChzaG91bGQgYmUgaW5zaWRlIHRoZSBtb2JpbGUgbWVudSBwYW5lbClcbiAgICAgIGNvbnN0IG1vYmlsZUV2ZW50c0xpbmsgPSBhbGxFdmVudHNMaW5rcy5maW5kKGxpbmsgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBsaW5rLmNsb3Nlc3QoJy5maXhlZC5pbnNldC15LTAucmlnaHQtMCcpO1xuICAgICAgICByZXR1cm4gcGFyZW50ICE9PSBudWxsO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2JpbGVFdmVudHNMaW5rKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vYmlsZUV2ZW50c0xpbmshKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTWVudScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBtaW5pbXVtIDQ0cHggdG91Y2ggdGFyZ2V0cycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIC8vIENoZWNrIHRoYXQgbW9iaWxlIG1lbnUgaXRlbXMgZXhpc3Qgd2l0aCBwcm9wZXIgc3R5bGluZ1xuICAgICAgY29uc3QgbW9iaWxlTWVudVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpeGVkLmluc2V0LXktMC5yaWdodC0wJyk7XG4gICAgICBleHBlY3QobW9iaWxlTWVudVBhbmVsKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgdGhlIHBhbmVsIGNvbnRhaW5zIG5hdmlnYXRpb24gaXRlbXNcbiAgICAgIGNvbnN0IG5hdkl0ZW1zID0gbW9iaWxlTWVudVBhbmVsPy5xdWVyeVNlbGVjdG9yQWxsKCdhLCBidXR0b24nKTtcbiAgICAgIGV4cGVjdChuYXZJdGVtcyAmJiBuYXZJdGVtcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGRyb3Bkb3duIGluIG1vYmlsZSBtZW51JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgYWxsSW5mb0J1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKS5maWx0ZXIoYnRuID0+IFxuICAgICAgICBidG4udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdJbmZvJylcbiAgICAgICk7XG4gICAgICAvLyBGaW5kIHRoZSBtb2JpbGUgbWVudSBidXR0b24gKHNob3VsZCBiZSBpbnNpZGUgdGhlIG1vYmlsZSBtZW51IHBhbmVsKVxuICAgICAgY29uc3QgbW9iaWxlSW5mb0J1dHRvbiA9IGFsbEluZm9CdXR0b25zLmZpbmQoYnRuID0+IHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gYnRuLmNsb3Nlc3QoJy5maXhlZC5pbnNldC15LTAucmlnaHQtMCcpO1xuICAgICAgICByZXR1cm4gcGFyZW50ICE9PSBudWxsO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2JpbGVJbmZvQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBJbml0aWFsbHkgY2xvc2VkXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBDbGljayB0byBvcGVuXG4gICAgICBmaXJlRXZlbnQuY2xpY2sobW9iaWxlSW5mb0J1dHRvbiEpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb2JpbGVJbmZvQnV0dG9uISk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSBtb2JpbGUgbWVudSB3aGVuIHN1Yi1pdGVtIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBjb25zdCBhbGxJbmZvQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpLmZpbHRlcihidG4gPT4gXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ0luZm8nKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IG1vYmlsZUluZm9CdXR0b24gPSBhbGxJbmZvQnV0dG9ucy5maW5kKGJ0biA9PiB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGJ0bi5jbG9zZXN0KCcuZml4ZWQuaW5zZXQteS0wLnJpZ2h0LTAnKTtcbiAgICAgICAgcmV0dXJuIHBhcmVudCAhPT0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBmaXJlRXZlbnQuY2xpY2sobW9iaWxlSW5mb0J1dHRvbiEpO1xuXG4gICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhY2NvbW1vZGF0aW9uTGluayk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvdXQgYnV0dG9uIGluIG1vYmlsZSBtZW51JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgbG9nb3V0TGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGNvbnN0IG1vYmlsZUxvZ291dEJ1dHRvbiA9IGxvZ291dExpbmtzLmZpbmQoZWwgPT4ge1xuICAgICAgICBjb25zdCBsaW5rID0gZWwuY2xvc2VzdCgnYScpO1xuICAgICAgICByZXR1cm4gbGluayAmJiBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnL2FwaS9hdXRoL2xvZ291dCcgJiYgbGluay5zdHlsZS5taW5IZWlnaHQgPT09ICc0NHB4JztcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KG1vYmlsZUxvZ291dEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FjdGl2ZSBTdGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBIb21lIHRhYiB3aGVuIG9uIGRhc2hib2FyZCcsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaG9tZUxpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvSG9tZS9pIH0pO1xuICAgICAgZXhwZWN0KGhvbWVMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgRXZlbnRzIHRhYiB3aGVuIG9uIGV2ZW50cyBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBBY3Rpdml0aWVzIHRhYiB3aGVuIG9uIGFjdGl2aXRpZXMgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9hY3Rpdml0aWVzJyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXRpZXNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0FjdGl2aXRpZXMvaSB9KTtcbiAgICAgIGV4cGVjdChhY3Rpdml0aWVzTGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEl0aW5lcmFyeSB0YWIgd2hlbiBvbiBpdGluZXJhcnkgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9pdGluZXJhcnknKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaXRpbmVyYXJ5TGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9JdGluZXJhcnkvaSB9KTtcbiAgICAgIGV4cGVjdChpdGluZXJhcnlMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgUGhvdG9zIHRhYiB3aGVuIG9uIHBob3RvcyBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L3Bob3RvcycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBwaG90b3NMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL1Bob3Rvcy9pIH0pO1xuICAgICAgZXhwZWN0KHBob3Rvc0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBJbmZvIHRhYiB3aGVuIG9uIGFueSBzdWItaXRlbSBwYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3ViSXRlbVBhdGhzID0gW1xuICAgICAgICAnL2d1ZXN0L2FjY29tbW9kYXRpb24nLFxuICAgICAgICAnL2d1ZXN0L3RyYW5zcG9ydGF0aW9uJyxcbiAgICAgICAgJy9ndWVzdC9mYW1pbHknLFxuICAgICAgICAnL291ci1zdG9yeScsXG4gICAgICBdO1xuXG4gICAgICBzdWJJdGVtUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZShwYXRoKTtcbiAgICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgZXhwZWN0KGluZm9CdXR0b24pLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG5cbiAgICAgICAgdW5tb3VudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBsYWJlbHMgZm9yIG1lbnUgYnV0dG9ucycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBleHBlY3QobWVudUJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeUxhYmVsVGV4dCgnQ2xvc2UgbWVudScpO1xuICAgICAgZXhwZWN0KGNsb3NlQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzIGZvciBkcm9wZG93bicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaW5mb0J1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKS5maWx0ZXIoYnRuID0+IFxuICAgICAgICBidG4udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdJbmZvJylcbiAgICAgICk7XG4gICAgICBjb25zdCBpbmZvQnV0dG9uID0gaW5mb0J1dHRvbnNbMF07IC8vIEdldCBmaXJzdCAoZGVza3RvcCkgYnV0dG9uXG4gICAgICBcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUga2V5Ym9hcmQgbmF2aWdhYmxlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBob21lTGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdsaW5rJykuZmlsdGVyKGxpbmsgPT4gXG4gICAgICAgIGxpbmsudGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdIb21lJylcbiAgICAgICk7XG4gICAgICBjb25zdCBob21lTGluayA9IGhvbWVMaW5rc1swXTtcbiAgICAgIGhvbWVMaW5rLmZvY3VzKCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShob21lTGluayk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdHlsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBzdGlja3kgcG9zaXRpb25pbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG5hdnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBuYXZzLmZvckVhY2gobmF2ID0+IHtcbiAgICAgICAgZXhwZWN0KG5hdikudG9IYXZlQ2xhc3MoJ3N0aWNreScsICd0b3AtMCcsICd6LTUwJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBnbGFzc21vcnBoaXNtIGVmZmVjdCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbmF2cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIG5hdnMuZm9yRWFjaChuYXYgPT4ge1xuICAgICAgICBleHBlY3QobmF2KS50b0hhdmVDbGFzcygnYmctd2hpdGUvODAnLCAnYmFja2Ryb3AtYmx1ci1tZCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHotaW5kZXggZm9yIG92ZXJsYXknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC5pbnNldC0wLmJnLWJsYWNrXFxcXC81MCcpO1xuICAgICAgZXhwZWN0KGJhY2tkcm9wKS50b0hhdmVDbGFzcygnei00MCcpO1xuXG4gICAgICBjb25zdCBtZW51UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQuaW5zZXQteS0wLnJpZ2h0LTAnKTtcbiAgICAgIGV4cGVjdChtZW51UGFuZWwpLnRvSGF2ZUNsYXNzKCd6LTUwJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VQYXRobmFtZSIsImZuIiwiY2hpbGRyZW4iLCJocmVmIiwib25DbGljayIsInByb3BzIiwiYSIsImRlc2NyaWJlIiwibW9ja1VzZVBhdGhuYW1lIiwiYmVmb3JlRWFjaCIsIm1vY2tSZXR1cm5WYWx1ZSIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJnbG9iYWwiLCJpbm5lcldpZHRoIiwiaXQiLCJyZW5kZXIiLCJHdWVzdE5hdmlnYXRpb24iLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImV2ZW50c0xpbmsiLCJnZXRCeVJvbGUiLCJuYW1lIiwidG9IYXZlQ2xhc3MiLCJsb2dvcyIsImdldEFsbEJ5VGV4dCIsImxlbmd0aCIsInRvQmVHcmVhdGVyVGhhbiIsImZvckVhY2giLCJsb2dvIiwiY2xvc2VzdCIsInRvSGF2ZUF0dHJpYnV0ZSIsImxvZ291dExpbmsiLCJpbmZvQnV0dG9uIiwicXVlcnlCeVRleHQiLCJub3QiLCJmaXJlRXZlbnQiLCJjbGljayIsImFjY29tbW9kYXRpb25MaW5rIiwiY2hldnJvbiIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51QnV0dG9uIiwiZ2V0QnlMYWJlbFRleHQiLCJjbG9zZUJ1dHRvbnMiLCJnZXRBbGxCeUxhYmVsVGV4dCIsImJhY2tkcm9wIiwiZG9jdW1lbnQiLCJhbGxFdmVudHNMaW5rcyIsIm1vYmlsZUV2ZW50c0xpbmsiLCJmaW5kIiwibGluayIsInBhcmVudCIsIm1vYmlsZU1lbnVQYW5lbCIsIm5hdkl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImFsbEluZm9CdXR0b25zIiwiZ2V0QWxsQnlSb2xlIiwiZmlsdGVyIiwiYnRuIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsIm1vYmlsZUluZm9CdXR0b24iLCJsb2dvdXRMaW5rcyIsIm1vYmlsZUxvZ291dEJ1dHRvbiIsImVsIiwiZ2V0QXR0cmlidXRlIiwic3R5bGUiLCJtaW5IZWlnaHQiLCJob21lTGluayIsImFjdGl2aXRpZXNMaW5rIiwiaXRpbmVyYXJ5TGluayIsInBob3Rvc0xpbmsiLCJzdWJJdGVtUGF0aHMiLCJwYXRoIiwidW5tb3VudCIsImluZm9CdXR0b25zIiwiaG9tZUxpbmtzIiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50IiwidG9CZSIsIm5hdnMiLCJuYXYiLCJtZW51UGFuZWwiXSwibWFwcGluZ3MiOiI7QUFJQSwwQkFBMEI7QUFDMUJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxhQUFhRixLQUFLRyxFQUFFO0lBQ3RCLENBQUE7QUFFQUgsS0FBS0MsSUFBSSxDQUFDLGFBQWE7SUFDckIsT0FBTyxDQUFDLEVBQUVHLFFBQVEs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