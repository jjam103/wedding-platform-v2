ac30a04e1f2e4272cc9fc5682f46c591
"use strict";
// Mock DataTable component
jest.mock('@/components/ui/DataTable', ()=>({
        DataTable: ({ data, columns, onSearch, onPageChange, onSelectionChange, onBulkExport, selectable })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "data-table",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                        "data-testid": "search-input",
                        onChange: (e)=>onSearch?.(e.target.value),
                        placeholder: "Search..."
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "export-button",
                        onClick: onBulkExport,
                        children: "Export"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "table-data",
                        children: data.map((row)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                "data-testid": `row-${row.id}`,
                                children: [
                                    selectable && /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        "data-testid": `checkbox-${row.id}`,
                                        onChange: (e)=>{
                                            const currentSelected = Array.from(document.querySelectorAll('[data-testid^="checkbox-"]:checked')).map((el)=>el.getAttribute('data-testid')?.replace('checkbox-', ''));
                                            onSelectionChange?.(currentSelected);
                                        }
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        children: [
                                            row.guestFirstName,
                                            " ",
                                            row.guestLastName
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: row.status
                                    })
                                ]
                            }, row.id))
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "page-next",
                        onClick: ()=>onPageChange?.(2),
                        children: "Next"
                    })
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _RSVPManager = require("./RSVPManager");
const _ToastContext = require("../ui/ToastContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = jest.fn();
// Helper to render with providers
function renderWithProviders(ui) {
    return (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ToastContext.ToastProvider, {
        children: ui
    }));
}
// Mock RSVP data
const mockRSVPs = [
    {
        id: 'rsvp-1',
        guestId: 'guest-1',
        guestFirstName: 'John',
        guestLastName: 'Doe',
        guestEmail: 'john@example.com',
        eventId: 'event-1',
        eventName: 'Wedding Ceremony',
        activityId: null,
        activityName: null,
        status: 'attending',
        guestCount: 2,
        dietaryNotes: null,
        specialRequirements: null,
        notes: null,
        respondedAt: '2024-01-15T10:00:00Z',
        createdAt: '2024-01-01T10:00:00Z',
        updatedAt: '2024-01-15T10:00:00Z'
    },
    {
        id: 'rsvp-2',
        guestId: 'guest-2',
        guestFirstName: 'Jane',
        guestLastName: 'Smith',
        guestEmail: 'jane@example.com',
        eventId: 'event-1',
        eventName: 'Wedding Ceremony',
        activityId: 'activity-1',
        activityName: 'Reception',
        status: 'pending',
        guestCount: 1,
        dietaryNotes: 'Vegetarian',
        specialRequirements: null,
        notes: null,
        respondedAt: null,
        createdAt: '2024-01-01T10:00:00Z',
        updatedAt: '2024-01-01T10:00:00Z'
    },
    {
        id: 'rsvp-3',
        guestId: 'guest-3',
        guestFirstName: 'Bob',
        guestLastName: 'Johnson',
        guestEmail: 'bob@example.com',
        eventId: 'event-2',
        eventName: 'Rehearsal Dinner',
        activityId: null,
        activityName: null,
        status: 'declined',
        guestCount: 1,
        dietaryNotes: null,
        specialRequirements: null,
        notes: 'Cannot attend',
        respondedAt: '2024-01-10T10:00:00Z',
        createdAt: '2024-01-01T10:00:00Z',
        updatedAt: '2024-01-10T10:00:00Z'
    }
];
const mockStatistics = {
    totalRSVPs: 3,
    byStatus: {
        attending: 1,
        declined: 1,
        maybe: 0,
        pending: 1
    },
    totalGuestCount: 3
};
const mockEvents = [
    {
        id: 'event-1',
        name: 'Wedding Ceremony'
    },
    {
        id: 'event-2',
        name: 'Rehearsal Dinner'
    }
];
const mockActivities = [
    {
        id: 'activity-1',
        name: 'Reception'
    },
    {
        id: 'activity-2',
        name: 'Cocktail Hour'
    }
];
describe('RSVPManager', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Default mock responses
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/admin/rsvps?')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                data: mockRSVPs,
                                pagination: {
                                    page: 1,
                                    limit: 50,
                                    total: 3,
                                    totalPages: 1
                                },
                                statistics: mockStatistics
                            }
                        })
                });
            }
            if (url.includes('/api/admin/events')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                events: mockEvents
                            }
                        })
                });
            }
            if (url.includes('/api/admin/activities')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                activities: mockActivities
                            }
                        })
                });
            }
            return Promise.reject(new Error('Unknown URL'));
        });
    });
    describe('Rendering', ()=>{
        it('should render statistics dashboard', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            // Wait for data to load and statistics to update
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Total RSVPs')).toBeInTheDocument();
                // Check that statistics have been updated (not 0)
                const totalRSVPsElement = _react.screen.getByText('Total RSVPs').nextElementSibling;
                expect(totalRSVPsElement?.textContent).not.toBe('0');
            });
            // Now verify the actual values
            await (0, _react.waitFor)(()=>{
                // Find the Total RSVPs card and check its value
                const totalCard = _react.screen.getByText('Total RSVPs').closest('div');
                expect(totalCard).toHaveTextContent('3');
            });
            // Check other statistics
            expect(_react.screen.getByText('Attending')).toBeInTheDocument();
            const attendingCard = _react.screen.getByText('Attending').closest('div');
            expect(attendingCard).toHaveTextContent('1');
            expect(attendingCard).toHaveTextContent('3 total guests');
            expect(_react.screen.getByText('Declined')).toBeInTheDocument();
            const declinedCard = _react.screen.getByText('Declined').closest('div');
            expect(declinedCard).toHaveTextContent('1');
            expect(_react.screen.getByText('Pending')).toBeInTheDocument();
            const pendingCard = _react.screen.getByText('Pending').closest('div');
            expect(pendingCard).toHaveTextContent('1');
        });
        it('should render data table with RSVPs', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('data-table')).toBeInTheDocument();
            });
            // Wait for data to be loaded and rendered
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('John Doe')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Jane Smith')).toBeInTheDocument();
            expect(_react.screen.getByText('Bob Johnson')).toBeInTheDocument();
        });
        it('should show loading state initially', ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            // Statistics should show 0 initially
            expect(_react.screen.getByText('Total RSVPs')).toBeInTheDocument();
        });
    });
    describe('Filtering', ()=>{
        it('should fetch RSVPs with event filter', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {
                initialFilters: {
                    eventId: 'event-1'
                }
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('eventId=event-1'));
            });
        });
        it('should fetch RSVPs with activity filter', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {
                initialFilters: {
                    activityId: 'activity-1'
                }
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('activityId=activity-1'));
            });
        });
        it('should fetch RSVPs with status filter', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {
                initialFilters: {
                    status: 'attending'
                }
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('status=attending'));
            });
        });
        it('should fetch RSVPs with multiple filters', async ()=>{
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {
                initialFilters: {
                    eventId: 'event-1',
                    status: 'attending'
                }
            }));
            await (0, _react.waitFor)(()=>{
                const calls = global.fetch.mock.calls;
                const rsvpCall = calls.find((call)=>call[0].includes('/api/admin/rsvps?'));
                expect(rsvpCall[0]).toContain('eventId=event-1');
                expect(rsvpCall[0]).toContain('status=attending');
            });
        });
    });
    describe('Search', ()=>{
        it('should handle search input', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('search-input')).toBeInTheDocument();
            });
            const searchInput = _react.screen.getByTestId('search-input');
            await user.type(searchInput, 'John');
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('search=John'));
            });
        });
        it('should reset to first page when searching', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('search-input')).toBeInTheDocument();
            });
            // Go to page 2
            const nextButton = _react.screen.getByTestId('page-next');
            await user.click(nextButton);
            // Search
            const searchInput = _react.screen.getByTestId('search-input');
            await user.type(searchInput, 'Jane');
            await (0, _react.waitFor)(()=>{
                const calls = global.fetch.mock.calls;
                const lastCall = calls[calls.length - 1][0];
                expect(lastCall).toContain('page=1');
                expect(lastCall).toContain('search=Jane');
            });
        });
    });
    describe('Bulk Selection', ()=>{
        it('should allow selecting RSVPs', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('checkbox-rsvp-1')).toBeInTheDocument();
            });
            const checkbox = _react.screen.getByTestId('checkbox-rsvp-1');
            await user.click(checkbox);
            // Bulk actions toolbar should appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/1 RSVP selected/)).toBeInTheDocument();
            });
        });
        it('should show bulk action buttons when RSVPs selected', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('checkbox-rsvp-1')).toBeInTheDocument();
            });
            const checkbox = _react.screen.getByTestId('checkbox-rsvp-1');
            await user.click(checkbox);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Mark Attending')).toBeInTheDocument();
                expect(_react.screen.getByText('Mark Maybe')).toBeInTheDocument();
                expect(_react.screen.getByText('Mark Declined')).toBeInTheDocument();
                expect(_react.screen.getByText('Mark Pending')).toBeInTheDocument();
            });
        });
    });
    describe('Bulk Status Update', ()=>{
        it('should update selected RSVPs to attending', async ()=>{
            const user = _userevent.default.setup();
            global.fetch.mockImplementation((url, options)=>{
                if (url.includes('/api/admin/rsvps/bulk') && options?.method === 'PATCH') {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    updatedCount: 1
                                }
                            })
                    });
                }
                // Default responses for other calls
                if (url.includes('/api/admin/rsvps?')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    data: mockRSVPs,
                                    pagination: {
                                        page: 1,
                                        limit: 50,
                                        total: 3,
                                        totalPages: 1
                                    },
                                    statistics: mockStatistics
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('checkbox-rsvp-1')).toBeInTheDocument();
            });
            // Select RSVP
            const checkbox = _react.screen.getByTestId('checkbox-rsvp-1');
            await user.click(checkbox);
            // Click Mark Attending
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Mark Attending')).toBeInTheDocument();
            });
            const attendingButton = _react.screen.getByText('Mark Attending');
            await user.click(attendingButton);
            // Verify API call
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/rsvps/bulk', expect.objectContaining({
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        rsvpIds: [
                            'rsvp-1'
                        ],
                        status: 'attending'
                    })
                }));
            });
            // Success toast should appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/Successfully updated 1 RSVP/)).toBeInTheDocument();
            });
        });
        it('should handle bulk update errors', async ()=>{
            const user = _userevent.default.setup();
            global.fetch.mockImplementation((url, options)=>{
                if (url.includes('/api/admin/rsvps/bulk') && options?.method === 'PATCH') {
                    return Promise.resolve({
                        ok: false,
                        json: ()=>Promise.resolve({
                                success: false,
                                error: {
                                    message: 'Bulk update failed'
                                }
                            })
                    });
                }
                // Default responses
                if (url.includes('/api/admin/rsvps?')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    data: mockRSVPs,
                                    pagination: {
                                        page: 1,
                                        limit: 50,
                                        total: 3,
                                        totalPages: 1
                                    },
                                    statistics: mockStatistics
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('checkbox-rsvp-1')).toBeInTheDocument();
            });
            // Select RSVP
            const checkbox = _react.screen.getByTestId('checkbox-rsvp-1');
            await user.click(checkbox);
            // Click Mark Attending
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Mark Attending')).toBeInTheDocument();
            });
            const attendingButton = _react.screen.getByText('Mark Attending');
            await user.click(attendingButton);
            // Error toast should appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/Bulk update failed/)).toBeInTheDocument();
            });
        });
    });
    describe('CSV Export', ()=>{
        it('should export RSVPs to CSV', async ()=>{
            const user = _userevent.default.setup();
            // Mock CSV export response
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/rsvps/export')) {
                    return Promise.resolve({
                        ok: true,
                        text: ()=>Promise.resolve('RSVP ID,Guest Name,Status\nrsvp-1,John Doe,attending')
                    });
                }
                // Default responses
                if (url.includes('/api/admin/rsvps?')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    data: mockRSVPs,
                                    pagination: {
                                        page: 1,
                                        limit: 50,
                                        total: 3,
                                        totalPages: 1
                                    },
                                    statistics: mockStatistics
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            // Mock URL.createObjectURL and related methods
            global.URL.createObjectURL = jest.fn(()=>'blob:mock-url');
            global.URL.revokeObjectURL = jest.fn();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('export-button')).toBeInTheDocument();
            });
            const exportButton = _react.screen.getByTestId('export-button');
            await user.click(exportButton);
            // Verify export API call
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('/api/admin/rsvps/export'));
            });
            // Success toast should appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/RSVPs exported successfully/)).toBeInTheDocument();
            });
        });
        it('should handle export errors', async ()=>{
            const user = _userevent.default.setup();
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/rsvps/export')) {
                    return Promise.resolve({
                        ok: false,
                        text: ()=>Promise.reject(new Error('Export failed'))
                    });
                }
                // Default responses
                if (url.includes('/api/admin/rsvps?')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    data: mockRSVPs,
                                    pagination: {
                                        page: 1,
                                        limit: 50,
                                        total: 3,
                                        totalPages: 1
                                    },
                                    statistics: mockStatistics
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('export-button')).toBeInTheDocument();
            });
            const exportButton = _react.screen.getByTestId('export-button');
            await user.click(exportButton);
            // Error toast should appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/Failed to export RSVPs/)).toBeInTheDocument();
            });
        });
    });
    describe('Pagination', ()=>{
        it('should handle page changes', async ()=>{
            const user = _userevent.default.setup();
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByTestId('page-next')).toBeInTheDocument();
            });
            const nextButton = _react.screen.getByTestId('page-next');
            await user.click(nextButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(expect.stringContaining('page=2'));
            });
        });
    });
    describe('Error Handling', ()=>{
        it('should handle API errors gracefully', async ()=>{
            global.fetch.mockImplementation(()=>Promise.resolve({
                    ok: false,
                    json: ()=>Promise.resolve({
                            success: false,
                            error: {
                                message: 'Failed to fetch RSVPs'
                            }
                        })
                }));
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            // Wait for error toast to appear
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/Failed to fetch RSVPs/)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('should handle network errors', async ()=>{
            global.fetch.mockImplementation(()=>Promise.reject(new Error('Network error')));
            renderWithProviders(/*#__PURE__*/ (0, _jsxruntime.jsx)(_RSVPManager.RSVPManager, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/Network error/)).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9SU1ZQTWFuYWdlci50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciwgd2l0aGluLCBmaXJlRXZlbnQgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcbmltcG9ydCB7IFJTVlBNYW5hZ2VyIH0gZnJvbSAnLi9SU1ZQTWFuYWdlcic7XG5pbXBvcnQgeyBUb2FzdFByb3ZpZGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL1RvYXN0Q29udGV4dCc7XG5pbXBvcnQgdHlwZSB7IFJTVlBWaWV3TW9kZWwgfSBmcm9tICdAL3NlcnZpY2VzL3JzdnBNYW5hZ2VtZW50U2VydmljZSc7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuLy8gTW9jayBEYXRhVGFibGUgY29tcG9uZW50XG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9EYXRhVGFibGUnLCAoKSA9PiAoe1xuICBEYXRhVGFibGU6ICh7IGRhdGEsIGNvbHVtbnMsIG9uU2VhcmNoLCBvblBhZ2VDaGFuZ2UsIG9uU2VsZWN0aW9uQ2hhbmdlLCBvbkJ1bGtFeHBvcnQsIHNlbGVjdGFibGUgfTogYW55KSA9PiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cImRhdGEtdGFibGVcIj5cbiAgICAgIDxpbnB1dFxuICAgICAgICBkYXRhLXRlc3RpZD1cInNlYXJjaC1pbnB1dFwiXG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25TZWFyY2g/LihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoLi4uXCJcbiAgICAgIC8+XG4gICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiZXhwb3J0LWJ1dHRvblwiIG9uQ2xpY2s9e29uQnVsa0V4cG9ydH0+XG4gICAgICAgIEV4cG9ydFxuICAgICAgPC9idXR0b24+XG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwidGFibGUtZGF0YVwiPlxuICAgICAgICB7ZGF0YS5tYXAoKHJvdzogYW55KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e3Jvdy5pZH0gZGF0YS10ZXN0aWQ9e2Byb3ctJHtyb3cuaWR9YH0+XG4gICAgICAgICAgICB7c2VsZWN0YWJsZSAmJiAoXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BjaGVja2JveC0ke3Jvdy5pZH1gfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkID0gQXJyYXkuZnJvbShcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGVzdGlkXj1cImNoZWNrYm94LVwiXTpjaGVja2VkJylcbiAgICAgICAgICAgICAgICAgICkubWFwKChlbCkgPT4gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRlc3RpZCcpPy5yZXBsYWNlKCdjaGVja2JveC0nLCAnJykpO1xuICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U/LihjdXJyZW50U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPHNwYW4+e3Jvdy5ndWVzdEZpcnN0TmFtZX0ge3Jvdy5ndWVzdExhc3ROYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuPntyb3cuc3RhdHVzfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9XCJwYWdlLW5leHRcIiBvbkNsaWNrPXsoKSA9PiBvblBhZ2VDaGFuZ2U/LigyKX0+XG4gICAgICAgIE5leHRcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBIZWxwZXIgdG8gcmVuZGVyIHdpdGggcHJvdmlkZXJzXG5mdW5jdGlvbiByZW5kZXJXaXRoUHJvdmlkZXJzKHVpOiBSZWFjdC5SZWFjdEVsZW1lbnQpIHtcbiAgcmV0dXJuIHJlbmRlcig8VG9hc3RQcm92aWRlcj57dWl9PC9Ub2FzdFByb3ZpZGVyPik7XG59XG5cbi8vIE1vY2sgUlNWUCBkYXRhXG5jb25zdCBtb2NrUlNWUHM6IFJTVlBWaWV3TW9kZWxbXSA9IFtcbiAge1xuICAgIGlkOiAncnN2cC0xJyxcbiAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgZ3Vlc3RGaXJzdE5hbWU6ICdKb2huJyxcbiAgICBndWVzdExhc3ROYW1lOiAnRG9lJyxcbiAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgZ3Vlc3RDb3VudDogMixcbiAgICBkaWV0YXJ5Tm90ZXM6IG51bGwsXG4gICAgc3BlY2lhbFJlcXVpcmVtZW50czogbnVsbCxcbiAgICBub3RlczogbnVsbCxcbiAgICByZXNwb25kZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICB9LFxuICB7XG4gICAgaWQ6ICdyc3ZwLTInLFxuICAgIGd1ZXN0SWQ6ICdndWVzdC0yJyxcbiAgICBndWVzdEZpcnN0TmFtZTogJ0phbmUnLFxuICAgIGd1ZXN0TGFzdE5hbWU6ICdTbWl0aCcsXG4gICAgZ3Vlc3RFbWFpbDogJ2phbmVAZXhhbXBsZS5jb20nLFxuICAgIGV2ZW50SWQ6ICdldmVudC0xJyxcbiAgICBldmVudE5hbWU6ICdXZWRkaW5nIENlcmVtb255JyxcbiAgICBhY3Rpdml0eUlkOiAnYWN0aXZpdHktMScsXG4gICAgYWN0aXZpdHlOYW1lOiAnUmVjZXB0aW9uJyxcbiAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICBndWVzdENvdW50OiAxLFxuICAgIGRpZXRhcnlOb3RlczogJ1ZlZ2V0YXJpYW4nLFxuICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgbm90ZXM6IG51bGwsXG4gICAgcmVzcG9uZGVkQXQ6IG51bGwsXG4gICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgfSxcbiAge1xuICAgIGlkOiAncnN2cC0zJyxcbiAgICBndWVzdElkOiAnZ3Vlc3QtMycsXG4gICAgZ3Vlc3RGaXJzdE5hbWU6ICdCb2InLFxuICAgIGd1ZXN0TGFzdE5hbWU6ICdKb2huc29uJyxcbiAgICBndWVzdEVtYWlsOiAnYm9iQGV4YW1wbGUuY29tJyxcbiAgICBldmVudElkOiAnZXZlbnQtMicsXG4gICAgZXZlbnROYW1lOiAnUmVoZWFyc2FsIERpbm5lcicsXG4gICAgYWN0aXZpdHlJZDogbnVsbCxcbiAgICBhY3Rpdml0eU5hbWU6IG51bGwsXG4gICAgc3RhdHVzOiAnZGVjbGluZWQnLFxuICAgIGd1ZXN0Q291bnQ6IDEsXG4gICAgZGlldGFyeU5vdGVzOiBudWxsLFxuICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgbm90ZXM6ICdDYW5ub3QgYXR0ZW5kJyxcbiAgICByZXNwb25kZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICB9LFxuXTtcblxuY29uc3QgbW9ja1N0YXRpc3RpY3MgPSB7XG4gIHRvdGFsUlNWUHM6IDMsXG4gIGJ5U3RhdHVzOiB7XG4gICAgYXR0ZW5kaW5nOiAxLFxuICAgIGRlY2xpbmVkOiAxLFxuICAgIG1heWJlOiAwLFxuICAgIHBlbmRpbmc6IDEsXG4gIH0sXG4gIHRvdGFsR3Vlc3RDb3VudDogMyxcbn07XG5cbmNvbnN0IG1vY2tFdmVudHMgPSBbXG4gIHsgaWQ6ICdldmVudC0xJywgbmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknIH0sXG4gIHsgaWQ6ICdldmVudC0yJywgbmFtZTogJ1JlaGVhcnNhbCBEaW5uZXInIH0sXG5dO1xuXG5jb25zdCBtb2NrQWN0aXZpdGllcyA9IFtcbiAgeyBpZDogJ2FjdGl2aXR5LTEnLCBuYW1lOiAnUmVjZXB0aW9uJyB9LFxuICB7IGlkOiAnYWN0aXZpdHktMicsIG5hbWU6ICdDb2NrdGFpbCBIb3VyJyB9LFxuXTtcblxuZGVzY3JpYmUoJ1JTVlBNYW5hZ2VyJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBEZWZhdWx0IG1vY2sgcmVzcG9uc2VzXG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vcnN2cHM/JykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT5cbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBtb2NrUlNWUHMsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgIGxpbWl0OiA1MCxcbiAgICAgICAgICAgICAgICAgIHRvdGFsOiAzLFxuICAgICAgICAgICAgICAgICAgdG90YWxQYWdlczogMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXRpc3RpY3M6IG1vY2tTdGF0aXN0aWNzLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ldmVudHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBldmVudHM6IG1vY2tFdmVudHMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGFjdGl2aXRpZXM6IG1vY2tBY3Rpdml0aWVzIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdVbmtub3duIFVSTCcpKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlbmRlcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciBzdGF0aXN0aWNzIGRhc2hib2FyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgLy8gV2FpdCBmb3IgZGF0YSB0byBsb2FkIGFuZCBzdGF0aXN0aWNzIHRvIHVwZGF0ZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb3RhbCBSU1ZQcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHN0YXRpc3RpY3MgaGF2ZSBiZWVuIHVwZGF0ZWQgKG5vdCAwKVxuICAgICAgICBjb25zdCB0b3RhbFJTVlBzRWxlbWVudCA9IHNjcmVlbi5nZXRCeVRleHQoJ1RvdGFsIFJTVlBzJykubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBleHBlY3QodG90YWxSU1ZQc0VsZW1lbnQ/LnRleHRDb250ZW50KS5ub3QudG9CZSgnMCcpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE5vdyB2ZXJpZnkgdGhlIGFjdHVhbCB2YWx1ZXNcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBGaW5kIHRoZSBUb3RhbCBSU1ZQcyBjYXJkIGFuZCBjaGVjayBpdHMgdmFsdWVcbiAgICAgICAgY29uc3QgdG90YWxDYXJkID0gc2NyZWVuLmdldEJ5VGV4dCgnVG90YWwgUlNWUHMnKS5jbG9zZXN0KCdkaXYnKTtcbiAgICAgICAgZXhwZWN0KHRvdGFsQ2FyZCkudG9IYXZlVGV4dENvbnRlbnQoJzMnKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBvdGhlciBzdGF0aXN0aWNzXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQXR0ZW5kaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBhdHRlbmRpbmdDYXJkID0gc2NyZWVuLmdldEJ5VGV4dCgnQXR0ZW5kaW5nJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBleHBlY3QoYXR0ZW5kaW5nQ2FyZCkudG9IYXZlVGV4dENvbnRlbnQoJzEnKTtcbiAgICAgIGV4cGVjdChhdHRlbmRpbmdDYXJkKS50b0hhdmVUZXh0Q29udGVudCgnMyB0b3RhbCBndWVzdHMnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RlY2xpbmVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBkZWNsaW5lZENhcmQgPSBzY3JlZW4uZ2V0QnlUZXh0KCdEZWNsaW5lZCcpLmNsb3Nlc3QoJ2RpdicpO1xuICAgICAgZXhwZWN0KGRlY2xpbmVkQ2FyZCkudG9IYXZlVGV4dENvbnRlbnQoJzEnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BlbmRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGNvbnN0IHBlbmRpbmdDYXJkID0gc2NyZWVuLmdldEJ5VGV4dCgnUGVuZGluZycpLmNsb3Nlc3QoJ2RpdicpO1xuICAgICAgZXhwZWN0KHBlbmRpbmdDYXJkKS50b0hhdmVUZXh0Q29udGVudCgnMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgZGF0YSB0YWJsZSB3aXRoIFJTVlBzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8UlNWUE1hbmFnZXIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZGF0YS10YWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGRhdGEgdG8gYmUgbG9hZGVkIGFuZCByZW5kZXJlZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKb2huIERvZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKYW5lIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQm9iIEpvaG5zb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgLy8gU3RhdGlzdGljcyBzaG91bGQgc2hvdyAwIGluaXRpYWxseVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvdGFsIFJTVlBzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBSU1ZQcyB3aXRoIGV2ZW50IGZpbHRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIGluaXRpYWxGaWx0ZXJzPXt7IGV2ZW50SWQ6ICdldmVudC0xJyB9fSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnZXZlbnRJZD1ldmVudC0xJylcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBSU1ZQcyB3aXRoIGFjdGl2aXR5IGZpbHRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIGluaXRpYWxGaWx0ZXJzPXt7IGFjdGl2aXR5SWQ6ICdhY3Rpdml0eS0xJyB9fSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnYWN0aXZpdHlJZD1hY3Rpdml0eS0xJylcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBSU1ZQcyB3aXRoIHN0YXR1cyBmaWx0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxSU1ZQTWFuYWdlciBpbml0aWFsRmlsdGVycz17eyBzdGF0dXM6ICdhdHRlbmRpbmcnIH19IC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdzdGF0dXM9YXR0ZW5kaW5nJylcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBSU1ZQcyB3aXRoIG11bHRpcGxlIGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKFxuICAgICAgICA8UlNWUE1hbmFnZXJcbiAgICAgICAgICBpbml0aWFsRmlsdGVycz17e1xuICAgICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxzID0gKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHM7XG4gICAgICAgIGNvbnN0IHJzdnBDYWxsID0gY2FsbHMuZmluZCgoY2FsbCkgPT4gY2FsbFswXS5pbmNsdWRlcygnL2FwaS9hZG1pbi9yc3Zwcz8nKSk7XG4gICAgICAgIGV4cGVjdChyc3ZwQ2FsbFswXSkudG9Db250YWluKCdldmVudElkPWV2ZW50LTEnKTtcbiAgICAgICAgZXhwZWN0KHJzdnBDYWxsWzBdKS50b0NvbnRhaW4oJ3N0YXR1cz1hdHRlbmRpbmcnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VhcmNoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlYXJjaCBpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1pbnB1dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtaW5wdXQnKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzZWFyY2hJbnB1dCwgJ0pvaG4nKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdzZWFyY2g9Sm9obicpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVzZXQgdG8gZmlyc3QgcGFnZSB3aGVuIHNlYXJjaGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlYXJjaC1pbnB1dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEdvIHRvIHBhZ2UgMlxuICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncGFnZS1uZXh0Jyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG5leHRCdXR0b24pO1xuXG4gICAgICAvLyBTZWFyY2hcbiAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWFyY2gtaW5wdXQnKTtcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzZWFyY2hJbnB1dCwgJ0phbmUnKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhbGxzID0gKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHM7XG4gICAgICAgIGNvbnN0IGxhc3RDYWxsID0gY2FsbHNbY2FsbHMubGVuZ3RoIC0gMV1bMF07XG4gICAgICAgIGV4cGVjdChsYXN0Q2FsbCkudG9Db250YWluKCdwYWdlPTEnKTtcbiAgICAgICAgZXhwZWN0KGxhc3RDYWxsKS50b0NvbnRhaW4oJ3NlYXJjaD1KYW5lJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0J1bGsgU2VsZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYWxsb3cgc2VsZWN0aW5nIFJTVlBzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8UlNWUE1hbmFnZXIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY2hlY2tib3gtcnN2cC0xJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NoZWNrYm94LXJzdnAtMScpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhjaGVja2JveCk7XG5cbiAgICAgIC8vIEJ1bGsgYWN0aW9ucyB0b29sYmFyIHNob3VsZCBhcHBlYXJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvMSBSU1ZQIHNlbGVjdGVkLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBidWxrIGFjdGlvbiBidXR0b25zIHdoZW4gUlNWUHMgc2VsZWN0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxSU1ZQTWFuYWdlciAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjaGVja2JveC1yc3ZwLTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnY2hlY2tib3gtcnN2cC0xJyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNoZWNrYm94KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNYXJrIEF0dGVuZGluZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFyayBNYXliZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFyayBEZWNsaW5lZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFyayBQZW5kaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0J1bGsgU3RhdHVzIFVwZGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBzZWxlY3RlZCBSU1ZQcyB0byBhdHRlbmRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybDogc3RyaW5nLCBvcHRpb25zPzogYW55KSA9PiB7XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vcnN2cHMvYnVsaycpICYmIG9wdGlvbnM/Lm1ldGhvZCA9PT0gJ1BBVENIJykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PlxuICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YTogeyB1cGRhdGVkQ291bnQ6IDEgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCByZXNwb25zZXMgZm9yIG90aGVyIGNhbGxzXG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vcnN2cHM/JykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT5cbiAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIGRhdGE6IG1vY2tSU1ZQcyxcbiAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDUwLCB0b3RhbDogMywgdG90YWxQYWdlczogMSB9LFxuICAgICAgICAgICAgICAgICAgc3RhdGlzdGljczogbW9ja1N0YXRpc3RpY3MsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ldmVudHMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGV2ZW50czogbW9ja0V2ZW50cyB9IH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgYWN0aXZpdGllczogbW9ja0FjdGl2aXRpZXMgfSB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdVbmtub3duIFVSTCcpKTtcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxSU1ZQTWFuYWdlciAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjaGVja2JveC1yc3ZwLTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWxlY3QgUlNWUFxuICAgICAgY29uc3QgY2hlY2tib3ggPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NoZWNrYm94LXJzdnAtMScpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhjaGVja2JveCk7XG5cbiAgICAgIC8vIENsaWNrIE1hcmsgQXR0ZW5kaW5nXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01hcmsgQXR0ZW5kaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYXR0ZW5kaW5nQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTWFyayBBdHRlbmRpbmcnKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYXR0ZW5kaW5nQnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IEFQSSBjYWxsXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vcnN2cHMvYnVsaycsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHJzdnBJZHM6IFsncnN2cC0xJ10sXG4gICAgICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN1Y2Nlc3MgdG9hc3Qgc2hvdWxkIGFwcGVhclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9TdWNjZXNzZnVsbHkgdXBkYXRlZCAxIFJTVlAvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYnVsayB1cGRhdGUgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZywgb3B0aW9ucz86IGFueSkgPT4ge1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL3JzdnBzL2J1bGsnKSAmJiBvcHRpb25zPy5tZXRob2QgPT09ICdQQVRDSCcpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+XG4gICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0J1bGsgdXBkYXRlIGZhaWxlZCcgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCByZXNwb25zZXNcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9yc3Zwcz8nKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PlxuICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogNTAsIHRvdGFsOiAzLCB0b3RhbFBhZ2VzOiAxIH0sXG4gICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzOiBtb2NrU3RhdGlzdGljcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2V2ZW50cycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgZXZlbnRzOiBtb2NrRXZlbnRzIH0gfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBhY3Rpdml0aWVzOiBtb2NrQWN0aXZpdGllcyB9IH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2NoZWNrYm94LXJzdnAtMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNlbGVjdCBSU1ZQXG4gICAgICBjb25zdCBjaGVja2JveCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnY2hlY2tib3gtcnN2cC0xJyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGNoZWNrYm94KTtcblxuICAgICAgLy8gQ2xpY2sgTWFyayBBdHRlbmRpbmdcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFyayBBdHRlbmRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhdHRlbmRpbmdCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdNYXJrIEF0dGVuZGluZycpO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhhdHRlbmRpbmdCdXR0b24pO1xuXG4gICAgICAvLyBFcnJvciB0b2FzdCBzaG91bGQgYXBwZWFyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0J1bGsgdXBkYXRlIGZhaWxlZC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDU1YgRXhwb3J0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhwb3J0IFJTVlBzIHRvIENTVicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBDU1YgZXhwb3J0IHJlc3BvbnNlXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL3JzdnBzL2V4cG9ydCcpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgnUlNWUCBJRCxHdWVzdCBOYW1lLFN0YXR1c1xcbnJzdnAtMSxKb2huIERvZSxhdHRlbmRpbmcnKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWZhdWx0IHJlc3BvbnNlc1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL3JzdnBzPycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+XG4gICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICBkYXRhOiBtb2NrUlNWUHMsXG4gICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiA1MCwgdG90YWw6IDMsIHRvdGFsUGFnZXM6IDEgfSxcbiAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3M6IG1vY2tTdGF0aXN0aWNzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vZXZlbnRzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBldmVudHM6IG1vY2tFdmVudHMgfSB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGFjdGl2aXRpZXM6IG1vY2tBY3Rpdml0aWVzIH0gfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignVW5rbm93biBVUkwnKSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBVUkwuY3JlYXRlT2JqZWN0VVJMIGFuZCByZWxhdGVkIG1ldGhvZHNcbiAgICAgIGdsb2JhbC5VUkwuY3JlYXRlT2JqZWN0VVJMID0gamVzdC5mbigoKSA9PiAnYmxvYjptb2NrLXVybCcpO1xuICAgICAgZ2xvYmFsLlVSTC5yZXZva2VPYmplY3RVUkwgPSBqZXN0LmZuKCk7XG5cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cG9ydC1idXR0b24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBleHBvcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cG9ydC1idXR0b24nKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZXhwb3J0QnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IGV4cG9ydCBBUEkgY2FsbFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL2FkbWluL3JzdnBzL2V4cG9ydCcpXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU3VjY2VzcyB0b2FzdCBzaG91bGQgYXBwZWFyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1JTVlBzIGV4cG9ydGVkIHN1Y2Nlc3NmdWxseS8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBleHBvcnQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL3JzdnBzL2V4cG9ydCcpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAgICB0ZXh0OiAoKSA9PiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0V4cG9ydCBmYWlsZWQnKSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGVmYXVsdCByZXNwb25zZXNcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9yc3Zwcz8nKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PlxuICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogNTAsIHRvdGFsOiAzLCB0b3RhbFBhZ2VzOiAxIH0sXG4gICAgICAgICAgICAgICAgICBzdGF0aXN0aWNzOiBtb2NrU3RhdGlzdGljcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2V2ZW50cycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgZXZlbnRzOiBtb2NrRXZlbnRzIH0gfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBhY3Rpdml0aWVzOiBtb2NrQWN0aXZpdGllcyB9IH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcldpdGhQcm92aWRlcnMoPFJTVlBNYW5hZ2VyIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cG9ydC1idXR0b24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBleHBvcnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2V4cG9ydC1idXR0b24nKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZXhwb3J0QnV0dG9uKTtcblxuICAgICAgLy8gRXJyb3IgdG9hc3Qgc2hvdWxkIGFwcGVhclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9GYWlsZWQgdG8gZXhwb3J0IFJTVlBzLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BhZ2luYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnZSBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgcmVuZGVyV2l0aFByb3ZpZGVycyg8UlNWUE1hbmFnZXIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgncGFnZS1uZXh0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncGFnZS1uZXh0Jyk7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG5leHRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ3BhZ2U9MicpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAganNvbjogKCkgPT5cbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIFJTVlBzJyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxSU1ZQTWFuYWdlciAvPik7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGVycm9yIHRvYXN0IHRvIGFwcGVhclxuICAgICAgYXdhaXQgd2FpdEZvcihcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9GYWlsZWQgdG8gZmV0Y2ggUlNWUHMvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgeyB0aW1lb3V0OiAzMDAwIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpXG4gICAgICApO1xuXG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxSU1ZQTWFuYWdlciAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvTmV0d29yayBlcnJvci8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJEYXRhVGFibGUiLCJkYXRhIiwiY29sdW1ucyIsIm9uU2VhcmNoIiwib25QYWdlQ2hhbmdlIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJvbkJ1bGtFeHBvcnQiLCJzZWxlY3RhYmxlIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwicGxhY2Vob2xkZXIiLCJidXR0b24iLCJvbkNsaWNrIiwibWFwIiwicm93IiwiaWQiLCJ0eXBlIiwiY3VycmVudFNlbGVjdGVkIiwiQXJyYXkiLCJmcm9tIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJyZXBsYWNlIiwic3BhbiIsImd1ZXN0Rmlyc3ROYW1lIiwiZ3Vlc3RMYXN0TmFtZSIsInN0YXR1cyIsImdsb2JhbCIsImZldGNoIiwiZm4iLCJyZW5kZXJXaXRoUHJvdmlkZXJzIiwidWkiLCJyZW5kZXIiLCJUb2FzdFByb3ZpZGVyIiwibW9ja1JTVlBzIiwiZ3Vlc3RJZCIsImd1ZXN0RW1haWwiLCJldmVudElkIiwiZXZlbnROYW1lIiwiYWN0aXZpdHlJZCIsImFjdGl2aXR5TmFtZSIsImd1ZXN0Q291bnQiLCJkaWV0YXJ5Tm90ZXMiLCJzcGVjaWFsUmVxdWlyZW1lbnRzIiwibm90ZXMiLCJyZXNwb25kZWRBdCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1vY2tTdGF0aXN0aWNzIiwidG90YWxSU1ZQcyIsImJ5U3RhdHVzIiwiYXR0ZW5kaW5nIiwiZGVjbGluZWQiLCJtYXliZSIsInBlbmRpbmciLCJ0b3RhbEd1ZXN0Q291bnQiLCJtb2NrRXZlbnRzIiwibmFtZSIsIm1vY2tBY3Rpdml0aWVzIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInVybCIsImluY2x1ZGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsImpzb24iLCJzdWNjZXNzIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwidG90YWxQYWdlcyIsInN0YXRpc3RpY3MiLCJldmVudHMiLCJhY3Rpdml0aWVzIiwicmVqZWN0IiwiRXJyb3IiLCJpdCIsIlJTVlBNYW5hZ2VyIiwid2FpdEZvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwidG90YWxSU1ZQc0VsZW1lbnQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ0ZXh0Q29udGVudCIsIm5vdCIsInRvQmUiLCJ0b3RhbENhcmQiLCJjbG9zZXN0IiwidG9IYXZlVGV4dENvbnRlbnQiLCJhdHRlbmRpbmdDYXJkIiwiZGVjbGluZWRDYXJkIiwicGVuZGluZ0NhcmQiLCJnZXRCeVRlc3RJZCIsImluaXRpYWxGaWx0ZXJzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzdHJpbmdDb250YWluaW5nIiwiY2FsbHMiLCJyc3ZwQ2FsbCIsImZpbmQiLCJjYWxsIiwidG9Db250YWluIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwic2VhcmNoSW5wdXQiLCJuZXh0QnV0dG9uIiwiY2xpY2siLCJsYXN0Q2FsbCIsImxlbmd0aCIsImNoZWNrYm94Iiwib3B0aW9ucyIsIm1ldGhvZCIsInVwZGF0ZWRDb3VudCIsImF0dGVuZGluZ0J1dHRvbiIsIm9iamVjdENvbnRhaW5pbmciLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyc3ZwSWRzIiwiZXJyb3IiLCJtZXNzYWdlIiwidGV4dCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsImV4cG9ydEJ1dHRvbiIsInRpbWVvdXQiXSwibWFwcGluZ3MiOiI7QUFTQSwyQkFBMkI7QUFDM0JB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