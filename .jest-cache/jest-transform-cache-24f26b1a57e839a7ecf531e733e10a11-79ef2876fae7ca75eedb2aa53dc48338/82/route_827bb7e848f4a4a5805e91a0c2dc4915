e6768350c229b3c9d6f00e0f02d7a73d
"use strict";

/* istanbul ignore next */
function cov_1rjd6oj2rn() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/content-pages/[id]/route.ts";
  var hash = "adf3465cb4b31c770386a72a96bcc980479a667f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/content-pages/[id]/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 20
        },
        end: {
          line: 22,
          column: 60
        }
      },
      "8": {
        start: {
          line: 23,
          column: 29
        },
        end: {
          line: 23,
          column: 83
        }
      },
      "9": {
        start: {
          line: 24,
          column: 20
        },
        end: {
          line: 24,
          column: 64
        }
      },
      "10": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 44,
          column: 7
        }
      },
      "11": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "12": {
        start: {
          line: 28,
          column: 35
        },
        end: {
          line: 28,
          column: 47
        }
      },
      "13": {
        start: {
          line: 29,
          column: 27
        },
        end: {
          line: 29,
          column: 41
        }
      },
      "14": {
        start: {
          line: 30,
          column: 12
        },
        end: {
          line: 32,
          column: 13
        }
      },
      "15": {
        start: {
          line: 31,
          column: 16
        },
        end: {
          line: 31,
          column: 109
        }
      },
      "16": {
        start: {
          line: 34,
          column: 27
        },
        end: {
          line: 34,
          column: 77
        }
      },
      "17": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 38,
          column: 13
        }
      },
      "18": {
        start: {
          line: 36,
          column: 35
        },
        end: {
          line: 36,
          column: 80
        }
      },
      "19": {
        start: {
          line: 37,
          column: 16
        },
        end: {
          line: 37,
          column: 129
        }
      },
      "20": {
        start: {
          line: 39,
          column: 12
        },
        end: {
          line: 39,
          column: 65
        }
      },
      "21": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 77
        }
      },
      "22": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 105
        }
      },
      "23": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 77,
          column: 7
        }
      },
      "24": {
        start: {
          line: 48,
          column: 8
        },
        end: {
          line: 76,
          column: 9
        }
      },
      "25": {
        start: {
          line: 49,
          column: 35
        },
        end: {
          line: 49,
          column: 47
        }
      },
      "26": {
        start: {
          line: 50,
          column: 27
        },
        end: {
          line: 50,
          column: 41
        }
      },
      "27": {
        start: {
          line: 51,
          column: 12
        },
        end: {
          line: 53,
          column: 13
        }
      },
      "28": {
        start: {
          line: 52,
          column: 16
        },
        end: {
          line: 52,
          column: 109
        }
      },
      "29": {
        start: {
          line: 54,
          column: 25
        },
        end: {
          line: 54,
          column: 45
        }
      },
      "30": {
        start: {
          line: 56,
          column: 31
        },
        end: {
          line: 56,
          column: 103
        }
      },
      "31": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 59,
          column: 13
        }
      },
      "32": {
        start: {
          line: 58,
          column: 16
        },
        end: {
          line: 58,
          column: 134
        }
      },
      "33": {
        start: {
          line: 61,
          column: 27
        },
        end: {
          line: 61,
          column: 97
        }
      },
      "34": {
        start: {
          line: 62,
          column: 12
        },
        end: {
          line: 71,
          column: 13
        }
      },
      "35": {
        start: {
          line: 64,
          column: 33
        },
        end: {
          line: 64,
          column: 36
        }
      },
      "36": {
        start: {
          line: 65,
          column: 16
        },
        end: {
          line: 69,
          column: 17
        }
      },
      "37": {
        start: {
          line: 66,
          column: 20
        },
        end: {
          line: 66,
          column: 37
        }
      },
      "38": {
        start: {
          line: 67,
          column: 23
        },
        end: {
          line: 69,
          column: 17
        }
      },
      "39": {
        start: {
          line: 68,
          column: 20
        },
        end: {
          line: 68,
          column: 37
        }
      },
      "40": {
        start: {
          line: 70,
          column: 16
        },
        end: {
          line: 70,
          column: 129
        }
      },
      "41": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 72,
          column: 65
        }
      },
      "42": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 74,
          column: 77
        }
      },
      "43": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 75,
          column: 106
        }
      },
      "44": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 100,
          column: 7
        }
      },
      "45": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 99,
          column: 9
        }
      },
      "46": {
        start: {
          line: 82,
          column: 35
        },
        end: {
          line: 82,
          column: 47
        }
      },
      "47": {
        start: {
          line: 83,
          column: 27
        },
        end: {
          line: 83,
          column: 41
        }
      },
      "48": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 86,
          column: 13
        }
      },
      "49": {
        start: {
          line: 85,
          column: 16
        },
        end: {
          line: 85,
          column: 109
        }
      },
      "50": {
        start: {
          line: 88,
          column: 27
        },
        end: {
          line: 88,
          column: 80
        }
      },
      "51": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 92,
          column: 13
        }
      },
      "52": {
        start: {
          line: 90,
          column: 35
        },
        end: {
          line: 90,
          column: 80
        }
      },
      "53": {
        start: {
          line: 91,
          column: 16
        },
        end: {
          line: 91,
          column: 129
        }
      },
      "54": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 95,
          column: 15
        }
      },
      "55": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 80
        }
      },
      "56": {
        start: {
          line: 98,
          column: 12
        },
        end: {
          line: 98,
          column: 106
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 15
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 15
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "GET",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 18
          }
        },
        loc: {
          start: {
            line: 25,
            column: 40
          },
          end: {
            line: 45,
            column: 1
          }
        },
        line: 25
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 26,
            column: 37
          },
          end: {
            line: 26,
            column: 38
          }
        },
        loc: {
          start: {
            line: 26,
            column: 47
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 26
      },
      "6": {
        name: "PUT",
        decl: {
          start: {
            line: 46,
            column: 15
          },
          end: {
            line: 46,
            column: 18
          }
        },
        loc: {
          start: {
            line: 46,
            column: 40
          },
          end: {
            line: 78,
            column: 1
          }
        },
        line: 46
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 47,
            column: 37
          },
          end: {
            line: 47,
            column: 38
          }
        },
        loc: {
          start: {
            line: 47,
            column: 47
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 47
      },
      "8": {
        name: "DELETE",
        decl: {
          start: {
            line: 79,
            column: 15
          },
          end: {
            line: 79,
            column: 21
          }
        },
        loc: {
          start: {
            line: 79,
            column: 43
          },
          end: {
            line: 101,
            column: 1
          }
        },
        line: 79
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 80,
            column: 37
          },
          end: {
            line: 80,
            column: 38
          }
        },
        loc: {
          start: {
            line: 80,
            column: 47
          },
          end: {
            line: 100,
            column: 5
          }
        },
        line: 80
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 30,
            column: 12
          },
          end: {
            line: 32,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 30,
            column: 12
          },
          end: {
            line: 32,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 30
      },
      "1": {
        loc: {
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 38,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 38,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 35
          },
          end: {
            line: 36,
            column: 80
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 36,
            column: 71
          },
          end: {
            line: 36,
            column: 74
          }
        }, {
          start: {
            line: 36,
            column: 77
          },
          end: {
            line: 36,
            column: 80
          }
        }],
        line: 36
      },
      "3": {
        loc: {
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 53,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 12
          },
          end: {
            line: 53,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 51
      },
      "4": {
        loc: {
          start: {
            line: 57,
            column: 12
          },
          end: {
            line: 59,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 12
          },
          end: {
            line: 59,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "5": {
        loc: {
          start: {
            line: 62,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 62
      },
      "6": {
        loc: {
          start: {
            line: 65,
            column: 16
          },
          end: {
            line: 69,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 16
          },
          end: {
            line: 69,
            column: 17
          }
        }, {
          start: {
            line: 67,
            column: 23
          },
          end: {
            line: 69,
            column: 17
          }
        }],
        line: 65
      },
      "7": {
        loc: {
          start: {
            line: 67,
            column: 23
          },
          end: {
            line: 69,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 23
          },
          end: {
            line: 69,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "8": {
        loc: {
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 86,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 12
          },
          end: {
            line: 86,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "9": {
        loc: {
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 92,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 92,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "10": {
        loc: {
          start: {
            line: 90,
            column: 35
          },
          end: {
            line: 90,
            column: 80
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 90,
            column: 71
          },
          end: {
            line: 90,
            column: 74
          }
        }, {
          start: {
            line: 90,
            column: 77
          },
          end: {
            line: 90,
            column: 80
          }
        }],
        line: 90
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/content-pages/[id]/route.ts"],
      sourcesContent: ["import { NextRequest } from 'next/server';\nimport {\n  withAuth,\n  successResponse,\n  errorResponse,\n  validateBody,\n} from '@/lib/apiHelpers';\nimport {\n  getContentPage,\n  updateContentPage,\n  deleteContentPage,\n} from '@/services/contentPagesService';\nimport { updateContentPageSchema } from '@/schemas/cmsSchemas';\n\n/**\n * GET /api/admin/content-pages/[id]\n * \n * Get a single content page by ID\n */\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  return withAuth(async () => {\n    try {\n      const resolvedParams = await params;\n      const { id } = resolvedParams;\n\n      if (!id) {\n        return errorResponse('INVALID_REQUEST', 'Content page ID is required', 400);\n      }\n\n      // Call service\n      const result = await getContentPage(id);\n\n      if (!result.success) {\n        const statusCode = result.error.code === 'NOT_FOUND' ? 404 : 500;\n        return errorResponse(\n          result.error.code,\n          result.error.message,\n          statusCode,\n          result.error.details\n        );\n      }\n\n      return successResponse(result.data);\n    } catch (error) {\n      console.error('GET /api/admin/content-pages/[id] error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to fetch content page', 500);\n    }\n  });\n}\n\n/**\n * PUT /api/admin/content-pages/[id]\n * \n * Update an existing content page\n */\nexport async function PUT(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  return withAuth(async () => {\n    try {\n      const resolvedParams = await params;\n      const { id } = resolvedParams;\n\n      if (!id) {\n        return errorResponse('INVALID_REQUEST', 'Content page ID is required', 400);\n      }\n\n      const body = await request.json();\n\n      // Validate request body\n      const validation = validateBody(body, updateContentPageSchema);\n      if (!validation.success) {\n        return errorResponse(\n          validation.error.code,\n          validation.error.message,\n          400,\n          validation.error.details\n        );\n      }\n\n      // Call service\n      const result = await updateContentPage(id, validation.data);\n\n      if (!result.success) {\n        // Map error codes to appropriate HTTP status codes\n        let statusCode = 500;\n        if (result.error.code === 'NOT_FOUND') {\n          statusCode = 404;\n        } else if (result.error.code === 'VALIDATION_ERROR') {\n          statusCode = 400;\n        }\n\n        return errorResponse(\n          result.error.code,\n          result.error.message,\n          statusCode,\n          result.error.details\n        );\n      }\n\n      return successResponse(result.data);\n    } catch (error) {\n      console.error('PUT /api/admin/content-pages/[id] error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to update content page', 500);\n    }\n  });\n}\n\n/**\n * DELETE /api/admin/content-pages/[id]\n * \n * Delete a content page and all associated sections\n */\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  return withAuth(async () => {\n    try {\n      const resolvedParams = await params;\n      const { id } = resolvedParams;\n\n      if (!id) {\n        return errorResponse('INVALID_REQUEST', 'Content page ID is required', 400);\n      }\n\n      // Call service\n      const result = await deleteContentPage(id);\n\n      if (!result.success) {\n        const statusCode = result.error.code === 'NOT_FOUND' ? 404 : 500;\n        return errorResponse(\n          result.error.code,\n          result.error.message,\n          statusCode,\n          result.error.details\n        );\n      }\n\n      return successResponse({ message: 'Content page deleted successfully' });\n    } catch (error) {\n      console.error('DELETE /api/admin/content-pages/[id] error:', error);\n      return errorResponse('INTERNAL_ERROR', 'Failed to delete content page', 500);\n    }\n  });\n}\n"],
      names: ["DELETE", "GET", "PUT", "request", "params", "withAuth", "resolvedParams", "id", "errorResponse", "result", "getContentPage", "success", "statusCode", "error", "code", "message", "details", "successResponse", "data", "console", "body", "json", "validation", "validateBody", "updateContentPageSchema", "updateContentPage", "deleteContentPage"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "adf3465cb4b31c770386a72a96bcc980479a667f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1rjd6oj2rn = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1rjd6oj2rn();
cov_1rjd6oj2rn().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1rjd6oj2rn().f[0]++;
  cov_1rjd6oj2rn().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1rjd6oj2rn().s[3]++;
_export(exports, {
  get DELETE() {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[1]++;
    cov_1rjd6oj2rn().s[4]++;
    return DELETE;
  },
  get GET() {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[2]++;
    cov_1rjd6oj2rn().s[5]++;
    return GET;
  },
  get PUT() {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[3]++;
    cov_1rjd6oj2rn().s[6]++;
    return PUT;
  }
});
const _apiHelpers =
/* istanbul ignore next */
(cov_1rjd6oj2rn().s[7]++, require("../../../../../lib/apiHelpers"));
const _contentPagesService =
/* istanbul ignore next */
(cov_1rjd6oj2rn().s[8]++, require("../../../../../services/contentPagesService"));
const _cmsSchemas =
/* istanbul ignore next */
(cov_1rjd6oj2rn().s[9]++, require("../../../../../schemas/cmsSchemas"));
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_1rjd6oj2rn().f[4]++;
  cov_1rjd6oj2rn().s[10]++;
  return (0, _apiHelpers.withAuth)(async () => {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[5]++;
    cov_1rjd6oj2rn().s[11]++;
    try {
      const resolvedParams =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[12]++, await params);
      const {
        id
      } =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[13]++, resolvedParams);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[14]++;
      if (!id) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[0][0]++;
        cov_1rjd6oj2rn().s[15]++;
        return (0, _apiHelpers.errorResponse)('INVALID_REQUEST', 'Content page ID is required', 400);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[0][1]++;
      }
      // Call service
      const result =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[16]++, await (0, _contentPagesService.getContentPage)(id));
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[17]++;
      if (!result.success) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[1][0]++;
        const statusCode =
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().s[18]++, result.error.code === 'NOT_FOUND' ?
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().b[2][0]++, 404) :
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().b[2][1]++, 500));
        /* istanbul ignore next */
        cov_1rjd6oj2rn().s[19]++;
        return (0, _apiHelpers.errorResponse)(result.error.code, result.error.message, statusCode, result.error.details);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[1][1]++;
      }
      cov_1rjd6oj2rn().s[20]++;
      return (0, _apiHelpers.successResponse)(result.data);
    } catch (error) {
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[21]++;
      console.error('GET /api/admin/content-pages/[id] error:', error);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[22]++;
      return (0, _apiHelpers.errorResponse)('INTERNAL_ERROR', 'Failed to fetch content page', 500);
    }
  });
}
async function PUT(request, {
  params
}) {
  /* istanbul ignore next */
  cov_1rjd6oj2rn().f[6]++;
  cov_1rjd6oj2rn().s[23]++;
  return (0, _apiHelpers.withAuth)(async () => {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[7]++;
    cov_1rjd6oj2rn().s[24]++;
    try {
      const resolvedParams =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[25]++, await params);
      const {
        id
      } =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[26]++, resolvedParams);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[27]++;
      if (!id) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[3][0]++;
        cov_1rjd6oj2rn().s[28]++;
        return (0, _apiHelpers.errorResponse)('INVALID_REQUEST', 'Content page ID is required', 400);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[3][1]++;
      }
      const body =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[29]++, await request.json());
      // Validate request body
      const validation =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[30]++, (0, _apiHelpers.validateBody)(body, _cmsSchemas.updateContentPageSchema));
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[31]++;
      if (!validation.success) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[4][0]++;
        cov_1rjd6oj2rn().s[32]++;
        return (0, _apiHelpers.errorResponse)(validation.error.code, validation.error.message, 400, validation.error.details);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[4][1]++;
      }
      // Call service
      const result =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[33]++, await (0, _contentPagesService.updateContentPage)(id, validation.data));
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[34]++;
      if (!result.success) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[5][0]++;
        // Map error codes to appropriate HTTP status codes
        let statusCode =
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().s[35]++, 500);
        /* istanbul ignore next */
        cov_1rjd6oj2rn().s[36]++;
        if (result.error.code === 'NOT_FOUND') {
          /* istanbul ignore next */
          cov_1rjd6oj2rn().b[6][0]++;
          cov_1rjd6oj2rn().s[37]++;
          statusCode = 404;
        } else {
          /* istanbul ignore next */
          cov_1rjd6oj2rn().b[6][1]++;
          cov_1rjd6oj2rn().s[38]++;
          if (result.error.code === 'VALIDATION_ERROR') {
            /* istanbul ignore next */
            cov_1rjd6oj2rn().b[7][0]++;
            cov_1rjd6oj2rn().s[39]++;
            statusCode = 400;
          } else
          /* istanbul ignore next */
          {
            cov_1rjd6oj2rn().b[7][1]++;
          }
        }
        /* istanbul ignore next */
        cov_1rjd6oj2rn().s[40]++;
        return (0, _apiHelpers.errorResponse)(result.error.code, result.error.message, statusCode, result.error.details);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[5][1]++;
      }
      cov_1rjd6oj2rn().s[41]++;
      return (0, _apiHelpers.successResponse)(result.data);
    } catch (error) {
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[42]++;
      console.error('PUT /api/admin/content-pages/[id] error:', error);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[43]++;
      return (0, _apiHelpers.errorResponse)('INTERNAL_ERROR', 'Failed to update content page', 500);
    }
  });
}
async function DELETE(request, {
  params
}) {
  /* istanbul ignore next */
  cov_1rjd6oj2rn().f[8]++;
  cov_1rjd6oj2rn().s[44]++;
  return (0, _apiHelpers.withAuth)(async () => {
    /* istanbul ignore next */
    cov_1rjd6oj2rn().f[9]++;
    cov_1rjd6oj2rn().s[45]++;
    try {
      const resolvedParams =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[46]++, await params);
      const {
        id
      } =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[47]++, resolvedParams);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[48]++;
      if (!id) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[8][0]++;
        cov_1rjd6oj2rn().s[49]++;
        return (0, _apiHelpers.errorResponse)('INVALID_REQUEST', 'Content page ID is required', 400);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[8][1]++;
      }
      // Call service
      const result =
      /* istanbul ignore next */
      (cov_1rjd6oj2rn().s[50]++, await (0, _contentPagesService.deleteContentPage)(id));
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[51]++;
      if (!result.success) {
        /* istanbul ignore next */
        cov_1rjd6oj2rn().b[9][0]++;
        const statusCode =
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().s[52]++, result.error.code === 'NOT_FOUND' ?
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().b[10][0]++, 404) :
        /* istanbul ignore next */
        (cov_1rjd6oj2rn().b[10][1]++, 500));
        /* istanbul ignore next */
        cov_1rjd6oj2rn().s[53]++;
        return (0, _apiHelpers.errorResponse)(result.error.code, result.error.message, statusCode, result.error.details);
      } else
      /* istanbul ignore next */
      {
        cov_1rjd6oj2rn().b[9][1]++;
      }
      cov_1rjd6oj2rn().s[54]++;
      return (0, _apiHelpers.successResponse)({
        message: 'Content page deleted successfully'
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[55]++;
      console.error('DELETE /api/admin/content-pages/[id] error:', error);
      /* istanbul ignore next */
      cov_1rjd6oj2rn().s[56]++;
      return (0, _apiHelpers.errorResponse)('INTERNAL_ERROR', 'Failed to delete content page', 500);
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfMXJqZDZvajJybiIsImYiLCJzIiwiR0VUIiwiUFVUIiwicmVxdWVzdCIsInBhcmFtcyIsIl9hcGlIZWxwZXJzIiwid2l0aEF1dGgiLCJyZXNvbHZlZFBhcmFtcyIsImlkIiwiYiIsImVycm9yUmVzcG9uc2UiLCJyZXN1bHQiLCJfY29udGVudFBhZ2VzU2VydmljZSIsImdldENvbnRlbnRQYWdlIiwic3VjY2VzcyIsInN0YXR1c0NvZGUiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsInN1Y2Nlc3NSZXNwb25zZSIsImRhdGEiLCJjb25zb2xlIiwiYm9keSIsImpzb24iLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVCb2R5IiwiX2Ntc1NjaGVtYXMiLCJ1cGRhdGVDb250ZW50UGFnZVNjaGVtYSIsInVwZGF0ZUNvbnRlbnRQYWdlIiwiZGVsZXRlQ29udGVudFBhZ2UiXSwic291cmNlcyI6WyIvVXNlcnMvamFyb24vRGVza3RvcC93ZWRkaW5nLXBsYXRmb3JtLXYyL2FwcC9hcGkvYWRtaW4vY29udGVudC1wYWdlcy9baWRdL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHtcbiAgd2l0aEF1dGgsXG4gIHN1Y2Nlc3NSZXNwb25zZSxcbiAgZXJyb3JSZXNwb25zZSxcbiAgdmFsaWRhdGVCb2R5LFxufSBmcm9tICdAL2xpYi9hcGlIZWxwZXJzJztcbmltcG9ydCB7XG4gIGdldENvbnRlbnRQYWdlLFxuICB1cGRhdGVDb250ZW50UGFnZSxcbiAgZGVsZXRlQ29udGVudFBhZ2UsXG59IGZyb20gJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZSc7XG5pbXBvcnQgeyB1cGRhdGVDb250ZW50UGFnZVNjaGVtYSB9IGZyb20gJ0Avc2NoZW1hcy9jbXNTY2hlbWFzJztcblxuLyoqXG4gKiBHRVQgL2FwaS9hZG1pbi9jb250ZW50LXBhZ2VzL1tpZF1cbiAqIFxuICogR2V0IGEgc2luZ2xlIGNvbnRlbnQgcGFnZSBieSBJRFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IH1cbikge1xuICByZXR1cm4gd2l0aEF1dGgoYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNvbHZlZFBhcmFtcyA9IGF3YWl0IHBhcmFtcztcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHJlc29sdmVkUGFyYW1zO1xuXG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybiBlcnJvclJlc3BvbnNlKCdJTlZBTElEX1JFUVVFU1QnLCAnQ29udGVudCBwYWdlIElEIGlzIHJlcXVpcmVkJywgNDAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBzZXJ2aWNlXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRDb250ZW50UGFnZShpZCk7XG5cbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlc3VsdC5lcnJvci5jb2RlID09PSAnTk9UX0ZPVU5EJyA/IDQwNCA6IDUwMDtcbiAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2UoXG4gICAgICAgICAgcmVzdWx0LmVycm9yLmNvZGUsXG4gICAgICAgICAgcmVzdWx0LmVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICByZXN1bHQuZXJyb3IuZGV0YWlsc1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignR0VUIC9hcGkvYWRtaW4vY29udGVudC1wYWdlcy9baWRdIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBlcnJvclJlc3BvbnNlKCdJTlRFUk5BTF9FUlJPUicsICdGYWlsZWQgdG8gZmV0Y2ggY29udGVudCBwYWdlJywgNTAwKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFBVVCAvYXBpL2FkbWluL2NvbnRlbnQtcGFnZXMvW2lkXVxuICogXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgY29udGVudCBwYWdlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUHJvbWlzZTx7IGlkOiBzdHJpbmcgfT4gfVxuKSB7XG4gIHJldHVybiB3aXRoQXV0aChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc29sdmVkUGFyYW1zID0gYXdhaXQgcGFyYW1zO1xuICAgICAgY29uc3QgeyBpZCB9ID0gcmVzb2x2ZWRQYXJhbXM7XG5cbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2UoJ0lOVkFMSURfUkVRVUVTVCcsICdDb250ZW50IHBhZ2UgSUQgaXMgcmVxdWlyZWQnLCA0MDApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIHJlcXVlc3QgYm9keVxuICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHZhbGlkYXRlQm9keShib2R5LCB1cGRhdGVDb250ZW50UGFnZVNjaGVtYSk7XG4gICAgICBpZiAoIXZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gZXJyb3JSZXNwb25zZShcbiAgICAgICAgICB2YWxpZGF0aW9uLmVycm9yLmNvZGUsXG4gICAgICAgICAgdmFsaWRhdGlvbi5lcnJvci5tZXNzYWdlLFxuICAgICAgICAgIDQwMCxcbiAgICAgICAgICB2YWxpZGF0aW9uLmVycm9yLmRldGFpbHNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBzZXJ2aWNlXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGVDb250ZW50UGFnZShpZCwgdmFsaWRhdGlvbi5kYXRhKTtcblxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAvLyBNYXAgZXJyb3IgY29kZXMgdG8gYXBwcm9wcmlhdGUgSFRUUCBzdGF0dXMgY29kZXNcbiAgICAgICAgbGV0IHN0YXR1c0NvZGUgPSA1MDA7XG4gICAgICAgIGlmIChyZXN1bHQuZXJyb3IuY29kZSA9PT0gJ05PVF9GT1VORCcpIHtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJvci5jb2RlID09PSAnVkFMSURBVElPTl9FUlJPUicpIHtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2UoXG4gICAgICAgICAgcmVzdWx0LmVycm9yLmNvZGUsXG4gICAgICAgICAgcmVzdWx0LmVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICByZXN1bHQuZXJyb3IuZGV0YWlsc1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUFVUIC9hcGkvYWRtaW4vY29udGVudC1wYWdlcy9baWRdIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBlcnJvclJlc3BvbnNlKCdJTlRFUk5BTF9FUlJPUicsICdGYWlsZWQgdG8gdXBkYXRlIGNvbnRlbnQgcGFnZScsIDUwMCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBERUxFVEUgL2FwaS9hZG1pbi9jb250ZW50LXBhZ2VzL1tpZF1cbiAqIFxuICogRGVsZXRlIGEgY29udGVudCBwYWdlIGFuZCBhbGwgYXNzb2NpYXRlZCBzZWN0aW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKFxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyBpZDogc3RyaW5nIH0+IH1cbikge1xuICByZXR1cm4gd2l0aEF1dGgoYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNvbHZlZFBhcmFtcyA9IGF3YWl0IHBhcmFtcztcbiAgICAgIGNvbnN0IHsgaWQgfSA9IHJlc29sdmVkUGFyYW1zO1xuXG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybiBlcnJvclJlc3BvbnNlKCdJTlZBTElEX1JFUVVFU1QnLCAnQ29udGVudCBwYWdlIElEIGlzIHJlcXVpcmVkJywgNDAwKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2FsbCBzZXJ2aWNlXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVDb250ZW50UGFnZShpZCk7XG5cbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlc3VsdC5lcnJvci5jb2RlID09PSAnTk9UX0ZPVU5EJyA/IDQwNCA6IDUwMDtcbiAgICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2UoXG4gICAgICAgICAgcmVzdWx0LmVycm9yLmNvZGUsXG4gICAgICAgICAgcmVzdWx0LmVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICByZXN1bHQuZXJyb3IuZGV0YWlsc1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKHsgbWVzc2FnZTogJ0NvbnRlbnQgcGFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RFTEVURSAvYXBpL2FkbWluL2NvbnRlbnQtcGFnZXMvW2lkXSBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZXJyb3JSZXNwb25zZSgnSU5URVJOQUxfRVJST1InLCAnRmFpbGVkIHRvIGRlbGV0ZSBjb250ZW50IHBhZ2UnLCA1MDApO1xuICAgIH1cbiAgfSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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