84f0e37006fd6a49503aab11daf323de
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "RichTextEditor", {
    enumerable: true,
    get: function() {
        return RichTextEditor;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _sanitization = require("../../utils/sanitization");
function RichTextEditor({ value, onChange, placeholder = 'Start typing or use / for commands...', className = '', disabled = false }) {
    const editorRef = (0, _react.useRef)(null);
    const [showSlashMenu, setShowSlashMenu] = (0, _react.useState)(false);
    const [slashMenuPosition, setSlashMenuPosition] = (0, _react.useState)({
        top: 0,
        left: 0
    });
    const [slashFilter, setSlashFilter] = (0, _react.useState)('');
    const [selectedCommandIndex, setSelectedCommandIndex] = (0, _react.useState)(0);
    const [showLinkDialog, setShowLinkDialog] = (0, _react.useState)(false);
    const [linkUrl, setLinkUrl] = (0, _react.useState)('');
    const [linkText, setLinkText] = (0, _react.useState)('');
    // Initialize editor content
    (0, _react.useEffect)(()=>{
        if (editorRef.current && editorRef.current.innerHTML !== value) {
            editorRef.current.innerHTML = value || '';
        }
    }, [
        value
    ]);
    // Execute formatting command
    const execCommand = (0, _react.useCallback)((command, value)=>{
        document.execCommand(command, false, value);
        editorRef.current?.focus();
    }, []);
    // Handle content change
    const handleInput = (0, _react.useCallback)(()=>{
        if (!editorRef.current) return;
        const html = editorRef.current.innerHTML;
        const sanitized = (0, _sanitization.sanitizeRichText)(html);
        onChange(sanitized);
        // Check for slash command
        const selection = window.getSelection();
        if (selection && selection.rangeCount > 0) {
            const range = selection.getRangeAt(0);
            const textBeforeCursor = range.startContainer.textContent?.slice(0, range.startOffset) || '';
            // Check if last character is /
            if (textBeforeCursor.endsWith('/')) {
                const rect = range.getBoundingClientRect();
                setSlashMenuPosition({
                    top: rect.bottom + window.scrollY,
                    left: rect.left + window.scrollX
                });
                setSlashFilter('');
                setShowSlashMenu(true);
                setSelectedCommandIndex(0);
            } else if (showSlashMenu) {
                // Update filter if slash menu is open
                const lastSlashIndex = textBeforeCursor.lastIndexOf('/');
                if (lastSlashIndex !== -1) {
                    const filter = textBeforeCursor.slice(lastSlashIndex + 1);
                    setSlashFilter(filter.toLowerCase());
                } else {
                    setShowSlashMenu(false);
                }
            }
        }
    }, [
        onChange,
        showSlashMenu
    ]);
    // Insert heading
    const insertHeading = (0, _react.useCallback)((level)=>{
        execCommand('formatBlock', `h${level}`);
        setShowSlashMenu(false);
    }, [
        execCommand
    ]);
    // Insert list
    const insertList = (0, _react.useCallback)((ordered)=>{
        execCommand(ordered ? 'insertOrderedList' : 'insertUnorderedList');
        setShowSlashMenu(false);
    }, [
        execCommand
    ]);
    // Insert table
    const insertTable = (0, _react.useCallback)(()=>{
        const table = `
      <table style="border-collapse: collapse; width: 100%; margin: 1em 0;">
        <tbody>
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">Cell 1</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Cell 2</td>
          </tr>
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">Cell 3</td>
            <td style="border: 1px solid #ddd; padding: 8px;">Cell 4</td>
          </tr>
        </tbody>
      </table>
    `;
        execCommand('insertHTML', table);
        setShowSlashMenu(false);
    }, [
        execCommand
    ]);
    // Insert divider
    const insertDivider = (0, _react.useCallback)(()=>{
        execCommand('insertHTML', '<hr style="margin: 1em 0; border: none; border-top: 2px solid #ddd;" />');
        setShowSlashMenu(false);
    }, [
        execCommand
    ]);
    // Show link dialog
    const showLinkInput = (0, _react.useCallback)(()=>{
        const selection = window.getSelection();
        if (selection && selection.toString()) {
            setLinkText(selection.toString());
        }
        setShowLinkDialog(true);
        setShowSlashMenu(false);
    }, []);
    // Insert link
    const insertLink = (0, _react.useCallback)(()=>{
        if (!linkUrl) return;
        const url = linkUrl.startsWith('http') ? linkUrl : `https://${linkUrl}`;
        if (linkText) {
            execCommand('insertHTML', `<a href="${url}" target="_blank" rel="noopener noreferrer">${linkText}</a>`);
        } else {
            execCommand('createLink', url);
        }
        setShowLinkDialog(false);
        setLinkUrl('');
        setLinkText('');
    }, [
        linkUrl,
        linkText,
        execCommand
    ]);
    // Insert image
    const insertImage = (0, _react.useCallback)(()=>{
        const url = prompt('Enter image URL:');
        if (url) {
            execCommand('insertHTML', `<img src="${url}" alt="Image" style="max-width: 100%; height: auto;" />`);
        }
        setShowSlashMenu(false);
    }, [
        execCommand
    ]);
    // Slash commands
    const slashCommands = [
        {
            label: 'Heading 1',
            command: '/heading1',
            action: ()=>insertHeading(1),
            description: 'Large heading'
        },
        {
            label: 'Heading 2',
            command: '/heading2',
            action: ()=>insertHeading(2),
            description: 'Medium heading'
        },
        {
            label: 'Heading 3',
            command: '/heading3',
            action: ()=>insertHeading(3),
            description: 'Small heading'
        },
        {
            label: 'Bullet List',
            command: '/list',
            action: ()=>insertList(false),
            description: 'Create a bullet list'
        },
        {
            label: 'Numbered List',
            command: '/numbered',
            action: ()=>insertList(true),
            description: 'Create a numbered list'
        },
        {
            label: 'Table',
            command: '/table',
            action: insertTable,
            description: 'Insert a 2x2 table'
        },
        {
            label: 'Link',
            command: '/link',
            action: showLinkInput,
            description: 'Insert a link'
        },
        {
            label: 'Image',
            command: '/image',
            action: insertImage,
            description: 'Insert an image'
        },
        {
            label: 'Divider',
            command: '/divider',
            action: insertDivider,
            description: 'Insert a horizontal divider'
        }
    ];
    // Filter slash commands
    const filteredCommands = slashCommands.filter((cmd)=>cmd.label.toLowerCase().includes(slashFilter) || cmd.command.toLowerCase().includes(slashFilter));
    // Handle keyboard shortcuts
    const handleKeyDown = (0, _react.useCallback)((e)=>{
        // Slash menu navigation
        if (showSlashMenu) {
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                setSelectedCommandIndex((prev)=>prev < filteredCommands.length - 1 ? prev + 1 : 0);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                setSelectedCommandIndex((prev)=>prev > 0 ? prev - 1 : filteredCommands.length - 1);
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (filteredCommands[selectedCommandIndex]) {
                    // Remove the slash command text
                    const selection = window.getSelection();
                    if (selection && selection.rangeCount > 0) {
                        const range = selection.getRangeAt(0);
                        const textNode = range.startContainer;
                        if (textNode.nodeType === Node.TEXT_NODE && textNode.textContent) {
                            const lastSlashIndex = textNode.textContent.lastIndexOf('/');
                            if (lastSlashIndex !== -1) {
                                const newRange = document.createRange();
                                newRange.setStart(textNode, lastSlashIndex);
                                newRange.setEnd(textNode, range.startOffset);
                                newRange.deleteContents();
                            }
                        }
                    }
                    filteredCommands[selectedCommandIndex].action();
                }
            } else if (e.key === 'Escape') {
                e.preventDefault();
                setShowSlashMenu(false);
            }
            return;
        }
        // Keyboard shortcuts
        if (e.ctrlKey || e.metaKey) {
            switch(e.key.toLowerCase()){
                case 'b':
                    e.preventDefault();
                    execCommand('bold');
                    break;
                case 'i':
                    e.preventDefault();
                    execCommand('italic');
                    break;
                case 'u':
                    e.preventDefault();
                    execCommand('underline');
                    break;
                case 'k':
                    e.preventDefault();
                    showLinkInput();
                    break;
            }
        }
    }, [
        showSlashMenu,
        filteredCommands,
        selectedCommandIndex,
        execCommand,
        showLinkInput
    ]);
    // Close slash menu on click outside
    (0, _react.useEffect)(()=>{
        const handleClickOutside = (e)=>{
            if (showSlashMenu && editorRef.current && !editorRef.current.contains(e.target)) {
                setShowSlashMenu(false);
            }
        };
        document.addEventListener('mousedown', handleClickOutside);
        return ()=>document.removeEventListener('mousedown', handleClickOutside);
    }, [
        showSlashMenu
    ]);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `relative ${className}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center gap-1 p-2 border border-gray-300 rounded-t-md bg-gray-50",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: ()=>execCommand('bold'),
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Bold (Ctrl+B)",
                        "aria-label": "Bold",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                            children: "B"
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: ()=>execCommand('italic'),
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Italic (Ctrl+I)",
                        "aria-label": "Italic",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("em", {
                            children: "I"
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: ()=>execCommand('underline'),
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Underline (Ctrl+U)",
                        "aria-label": "Underline",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("u", {
                            children: "U"
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "w-px h-6 bg-gray-300 mx-1"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: ()=>insertList(false),
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Bullet List",
                        "aria-label": "Bullet list",
                        children: "•"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: ()=>insertList(true),
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Numbered List",
                        "aria-label": "Numbered list",
                        children: "1."
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "w-px h-6 bg-gray-300 mx-1"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: showLinkInput,
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Insert Link (Ctrl+K)",
                        "aria-label": "Insert link",
                        children: "\uD83D\uDD17"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: insertTable,
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Insert Table",
                        "aria-label": "Insert table",
                        children: "⊞"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        type: "button",
                        onClick: insertDivider,
                        disabled: disabled,
                        className: "p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",
                        title: "Insert Divider",
                        "aria-label": "Insert divider",
                        children: "―"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                ref: editorRef,
                contentEditable: !disabled,
                onInput: handleInput,
                onKeyDown: handleKeyDown,
                className: `min-h-[200px] p-4 border border-t-0 border-gray-300 rounded-b-md focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-sm max-w-none ${disabled ? 'bg-gray-100 cursor-not-allowed' : 'bg-white'} ${!value && 'empty-editor'}`,
                "data-placeholder": placeholder,
                "aria-label": "Rich text editor",
                role: "textbox",
                "aria-multiline": "true"
            }),
            showSlashMenu && filteredCommands.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "absolute z-50 w-64 bg-white border border-gray-300 rounded-md shadow-lg max-h-64 overflow-y-auto",
                style: {
                    top: slashMenuPosition.top,
                    left: slashMenuPosition.left
                },
                role: "menu",
                "aria-label": "Slash commands",
                children: filteredCommands.map((cmd, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        type: "button",
                        onClick: ()=>{
                            // Remove the slash command text
                            const selection = window.getSelection();
                            if (selection && selection.rangeCount > 0) {
                                const range = selection.getRangeAt(0);
                                const textNode = range.startContainer;
                                if (textNode.nodeType === Node.TEXT_NODE && textNode.textContent) {
                                    const lastSlashIndex = textNode.textContent.lastIndexOf('/');
                                    if (lastSlashIndex !== -1) {
                                        const newRange = document.createRange();
                                        newRange.setStart(textNode, lastSlashIndex);
                                        newRange.setEnd(textNode, range.startOffset);
                                        newRange.deleteContents();
                                    }
                                }
                            }
                            cmd.action();
                        },
                        className: `w-full text-left px-4 py-2 hover:bg-gray-100 ${index === selectedCommandIndex ? 'bg-blue-50' : ''}`,
                        role: "menuitem",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "font-medium text-sm text-gray-900",
                                children: cmd.label
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "text-xs text-gray-500",
                                children: cmd.description
                            })
                        ]
                    }, cmd.command))
            }),
            showLinkDialog && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",
                onClick: ()=>setShowLinkDialog(false),
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-white rounded-lg shadow-xl p-6 w-full max-w-md",
                    onClick: (e)=>e.stopPropagation(),
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold mb-4",
                            children: "Insert Link"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                            htmlFor: "link-text",
                                            className: "block text-sm font-medium text-gray-700 mb-1",
                                            children: "Link Text"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            id: "link-text",
                                            type: "text",
                                            value: linkText,
                                            onChange: (e)=>setLinkText(e.target.value),
                                            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                            placeholder: "Enter link text"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                            htmlFor: "link-url",
                                            className: "block text-sm font-medium text-gray-700 mb-1",
                                            children: "URL"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            id: "link-url",
                                            type: "url",
                                            value: linkUrl,
                                            onChange: (e)=>setLinkUrl(e.target.value),
                                            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                            placeholder: "https://example.com",
                                            autoFocus: true
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex justify-end gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            type: "button",
                                            onClick: ()=>{
                                                setShowLinkDialog(false);
                                                setLinkUrl('');
                                                setLinkText('');
                                            },
                                            className: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",
                                            children: "Cancel"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            type: "button",
                                            onClick: insertLink,
                                            disabled: !linkUrl,
                                            className: "px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",
                                            children: "Insert"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9SaWNoVGV4dEVkaXRvci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc2FuaXRpemVSaWNoVGV4dCB9IGZyb20gJ0AvdXRpbHMvc2FuaXRpemF0aW9uJztcblxuaW50ZXJmYWNlIFJpY2hUZXh0RWRpdG9yUHJvcHMge1xuICB2YWx1ZTogc3RyaW5nO1xuICBvbkNoYW5nZTogKGh0bWw6IHN0cmluZykgPT4gdm9pZDtcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgU2xhc2hDb21tYW5kIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgY29tbWFuZDogc3RyaW5nO1xuICBhY3Rpb246ICgpID0+IHZvaWQ7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbi8qKlxuICogUmljaFRleHRFZGl0b3IgY29tcG9uZW50IHdpdGggZm9ybWF0dGluZyB0b29sYmFyIGFuZCBzbGFzaCBjb21tYW5kc1xuICogXG4gKiBGZWF0dXJlczpcbiAqIC0gRm9ybWF0dGluZyB0b29sYmFyIChib2xkLCBpdGFsaWMsIHVuZGVybGluZSwgbGlua3MsIGxpc3RzKVxuICogLSBTbGFzaCBjb21tYW5kcyAoL2hlYWRpbmcsIC9saXN0LCAvdGFibGUsIC9pbWFnZSwgL2xpbmssIC9kaXZpZGVyKVxuICogLSBUYWJsZSBzdXBwb3J0IHdpdGggaW5saW5lIGVkaXRpbmdcbiAqIC0gQ29udGVudCBzYW5pdGl6YXRpb24gZm9yIHNlY3VyaXR5XG4gKiAtIEtleWJvYXJkIHNob3J0Y3V0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gUmljaFRleHRFZGl0b3Ioe1xuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIHBsYWNlaG9sZGVyID0gJ1N0YXJ0IHR5cGluZyBvciB1c2UgLyBmb3IgY29tbWFuZHMuLi4nLFxuICBjbGFzc05hbWUgPSAnJyxcbiAgZGlzYWJsZWQgPSBmYWxzZSxcbn06IFJpY2hUZXh0RWRpdG9yUHJvcHMpIHtcbiAgY29uc3QgZWRpdG9yUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgW3Nob3dTbGFzaE1lbnUsIHNldFNob3dTbGFzaE1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2xhc2hNZW51UG9zaXRpb24sIHNldFNsYXNoTWVudVBvc2l0aW9uXSA9IHVzZVN0YXRlKHsgdG9wOiAwLCBsZWZ0OiAwIH0pO1xuICBjb25zdCBbc2xhc2hGaWx0ZXIsIHNldFNsYXNoRmlsdGVyXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlbGVjdGVkQ29tbWFuZEluZGV4LCBzZXRTZWxlY3RlZENvbW1hbmRJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3Nob3dMaW5rRGlhbG9nLCBzZXRTaG93TGlua0RpYWxvZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsaW5rVXJsLCBzZXRMaW5rVXJsXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2xpbmtUZXh0LCBzZXRMaW5rVGV4dF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBlZGl0b3IgY29udGVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlZGl0b3JSZWYuY3VycmVudCAmJiBlZGl0b3JSZWYuY3VycmVudC5pbm5lckhUTUwgIT09IHZhbHVlKSB7XG4gICAgICBlZGl0b3JSZWYuY3VycmVudC5pbm5lckhUTUwgPSB2YWx1ZSB8fCAnJztcbiAgICB9XG4gIH0sIFt2YWx1ZV0pO1xuXG4gIC8vIEV4ZWN1dGUgZm9ybWF0dGluZyBjb21tYW5kXG4gIGNvbnN0IGV4ZWNDb21tYW5kID0gdXNlQ2FsbGJhY2soKGNvbW1hbmQ6IHN0cmluZywgdmFsdWU/OiBzdHJpbmcpID0+IHtcbiAgICBkb2N1bWVudC5leGVjQ29tbWFuZChjb21tYW5kLCBmYWxzZSwgdmFsdWUpO1xuICAgIGVkaXRvclJlZi5jdXJyZW50Py5mb2N1cygpO1xuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGNvbnRlbnQgY2hhbmdlXG4gIGNvbnN0IGhhbmRsZUlucHV0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghZWRpdG9yUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBodG1sID0gZWRpdG9yUmVmLmN1cnJlbnQuaW5uZXJIVE1MO1xuICAgIGNvbnN0IHNhbml0aXplZCA9IHNhbml0aXplUmljaFRleHQoaHRtbCk7XG4gICAgb25DaGFuZ2Uoc2FuaXRpemVkKTtcblxuICAgIC8vIENoZWNrIGZvciBzbGFzaCBjb21tYW5kXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgY29uc3QgdGV4dEJlZm9yZUN1cnNvciA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLnRleHRDb250ZW50Py5zbGljZSgwLCByYW5nZS5zdGFydE9mZnNldCkgfHwgJyc7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGxhc3QgY2hhcmFjdGVyIGlzIC9cbiAgICAgIGlmICh0ZXh0QmVmb3JlQ3Vyc29yLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXRTbGFzaE1lbnVQb3NpdGlvbih7XG4gICAgICAgICAgdG9wOiByZWN0LmJvdHRvbSArIHdpbmRvdy5zY3JvbGxZLFxuICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2xhc2hGaWx0ZXIoJycpO1xuICAgICAgICBzZXRTaG93U2xhc2hNZW51KHRydWUpO1xuICAgICAgICBzZXRTZWxlY3RlZENvbW1hbmRJbmRleCgwKTtcbiAgICAgIH0gZWxzZSBpZiAoc2hvd1NsYXNoTWVudSkge1xuICAgICAgICAvLyBVcGRhdGUgZmlsdGVyIGlmIHNsYXNoIG1lbnUgaXMgb3BlblxuICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHRleHRCZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGNvbnN0IGZpbHRlciA9IHRleHRCZWZvcmVDdXJzb3Iuc2xpY2UobGFzdFNsYXNoSW5kZXggKyAxKTtcbiAgICAgICAgICBzZXRTbGFzaEZpbHRlcihmaWx0ZXIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0U2hvd1NsYXNoTWVudShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtvbkNoYW5nZSwgc2hvd1NsYXNoTWVudV0pO1xuXG4gIC8vIEluc2VydCBoZWFkaW5nXG4gIGNvbnN0IGluc2VydEhlYWRpbmcgPSB1c2VDYWxsYmFjaygobGV2ZWw6IDEgfCAyIHwgMykgPT4ge1xuICAgIGV4ZWNDb21tYW5kKCdmb3JtYXRCbG9jaycsIGBoJHtsZXZlbH1gKTtcbiAgICBzZXRTaG93U2xhc2hNZW51KGZhbHNlKTtcbiAgfSwgW2V4ZWNDb21tYW5kXSk7XG5cbiAgLy8gSW5zZXJ0IGxpc3RcbiAgY29uc3QgaW5zZXJ0TGlzdCA9IHVzZUNhbGxiYWNrKChvcmRlcmVkOiBib29sZWFuKSA9PiB7XG4gICAgZXhlY0NvbW1hbmQob3JkZXJlZCA/ICdpbnNlcnRPcmRlcmVkTGlzdCcgOiAnaW5zZXJ0VW5vcmRlcmVkTGlzdCcpO1xuICAgIHNldFNob3dTbGFzaE1lbnUoZmFsc2UpO1xuICB9LCBbZXhlY0NvbW1hbmRdKTtcblxuICAvLyBJbnNlcnQgdGFibGVcbiAgY29uc3QgaW5zZXJ0VGFibGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgdGFibGUgPSBgXG4gICAgICA8dGFibGUgc3R5bGU9XCJib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyB3aWR0aDogMTAwJTsgbWFyZ2luOiAxZW0gMDtcIj5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDhweDtcIj5DZWxsIDE8L3RkPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogOHB4O1wiPkNlbGwgMjwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBwYWRkaW5nOiA4cHg7XCI+Q2VsbCAzPC90ZD5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDhweDtcIj5DZWxsIDQ8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIGA7XG4gICAgZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCB0YWJsZSk7XG4gICAgc2V0U2hvd1NsYXNoTWVudShmYWxzZSk7XG4gIH0sIFtleGVjQ29tbWFuZF0pO1xuXG4gIC8vIEluc2VydCBkaXZpZGVyXG4gIGNvbnN0IGluc2VydERpdmlkZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCAnPGhyIHN0eWxlPVwibWFyZ2luOiAxZW0gMDsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAycHggc29saWQgI2RkZDtcIiAvPicpO1xuICAgIHNldFNob3dTbGFzaE1lbnUoZmFsc2UpO1xuICB9LCBbZXhlY0NvbW1hbmRdKTtcblxuICAvLyBTaG93IGxpbmsgZGlhbG9nXG4gIGNvbnN0IHNob3dMaW5rSW5wdXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGlmIChzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLnRvU3RyaW5nKCkpIHtcbiAgICAgIHNldExpbmtUZXh0KHNlbGVjdGlvbi50b1N0cmluZygpKTtcbiAgICB9XG4gICAgc2V0U2hvd0xpbmtEaWFsb2codHJ1ZSk7XG4gICAgc2V0U2hvd1NsYXNoTWVudShmYWxzZSk7XG4gIH0sIFtdKTtcblxuICAvLyBJbnNlcnQgbGlua1xuICBjb25zdCBpbnNlcnRMaW5rID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbGlua1VybCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHVybCA9IGxpbmtVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID8gbGlua1VybCA6IGBodHRwczovLyR7bGlua1VybH1gO1xuICAgIFxuICAgIGlmIChsaW5rVGV4dCkge1xuICAgICAgZXhlY0NvbW1hbmQoJ2luc2VydEhUTUwnLCBgPGEgaHJlZj1cIiR7dXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj4ke2xpbmtUZXh0fTwvYT5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhlY0NvbW1hbmQoJ2NyZWF0ZUxpbmsnLCB1cmwpO1xuICAgIH1cbiAgICBcbiAgICBzZXRTaG93TGlua0RpYWxvZyhmYWxzZSk7XG4gICAgc2V0TGlua1VybCgnJyk7XG4gICAgc2V0TGlua1RleHQoJycpO1xuICB9LCBbbGlua1VybCwgbGlua1RleHQsIGV4ZWNDb21tYW5kXSk7XG5cbiAgLy8gSW5zZXJ0IGltYWdlXG4gIGNvbnN0IGluc2VydEltYWdlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IHByb21wdCgnRW50ZXIgaW1hZ2UgVVJMOicpO1xuICAgIGlmICh1cmwpIHtcbiAgICAgIGV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgYDxpbWcgc3JjPVwiJHt1cmx9XCIgYWx0PVwiSW1hZ2VcIiBzdHlsZT1cIm1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvO1wiIC8+YCk7XG4gICAgfVxuICAgIHNldFNob3dTbGFzaE1lbnUoZmFsc2UpO1xuICB9LCBbZXhlY0NvbW1hbmRdKTtcblxuICAvLyBTbGFzaCBjb21tYW5kc1xuICBjb25zdCBzbGFzaENvbW1hbmRzOiBTbGFzaENvbW1hbmRbXSA9IFtcbiAgICB7XG4gICAgICBsYWJlbDogJ0hlYWRpbmcgMScsXG4gICAgICBjb21tYW5kOiAnL2hlYWRpbmcxJyxcbiAgICAgIGFjdGlvbjogKCkgPT4gaW5zZXJ0SGVhZGluZygxKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTGFyZ2UgaGVhZGluZycsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0hlYWRpbmcgMicsXG4gICAgICBjb21tYW5kOiAnL2hlYWRpbmcyJyxcbiAgICAgIGFjdGlvbjogKCkgPT4gaW5zZXJ0SGVhZGluZygyKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWVkaXVtIGhlYWRpbmcnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdIZWFkaW5nIDMnLFxuICAgICAgY29tbWFuZDogJy9oZWFkaW5nMycsXG4gICAgICBhY3Rpb246ICgpID0+IGluc2VydEhlYWRpbmcoMyksXG4gICAgICBkZXNjcmlwdGlvbjogJ1NtYWxsIGhlYWRpbmcnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdCdWxsZXQgTGlzdCcsXG4gICAgICBjb21tYW5kOiAnL2xpc3QnLFxuICAgICAgYWN0aW9uOiAoKSA9PiBpbnNlcnRMaXN0KGZhbHNlKSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIGEgYnVsbGV0IGxpc3QnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdOdW1iZXJlZCBMaXN0JyxcbiAgICAgIGNvbW1hbmQ6ICcvbnVtYmVyZWQnLFxuICAgICAgYWN0aW9uOiAoKSA9PiBpbnNlcnRMaXN0KHRydWUpLFxuICAgICAgZGVzY3JpcHRpb246ICdDcmVhdGUgYSBudW1iZXJlZCBsaXN0JyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnVGFibGUnLFxuICAgICAgY29tbWFuZDogJy90YWJsZScsXG4gICAgICBhY3Rpb246IGluc2VydFRhYmxlLFxuICAgICAgZGVzY3JpcHRpb246ICdJbnNlcnQgYSAyeDIgdGFibGUnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdMaW5rJyxcbiAgICAgIGNvbW1hbmQ6ICcvbGluaycsXG4gICAgICBhY3Rpb246IHNob3dMaW5rSW5wdXQsXG4gICAgICBkZXNjcmlwdGlvbjogJ0luc2VydCBhIGxpbmsnLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICdJbWFnZScsXG4gICAgICBjb21tYW5kOiAnL2ltYWdlJyxcbiAgICAgIGFjdGlvbjogaW5zZXJ0SW1hZ2UsXG4gICAgICBkZXNjcmlwdGlvbjogJ0luc2VydCBhbiBpbWFnZScsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ0RpdmlkZXInLFxuICAgICAgY29tbWFuZDogJy9kaXZpZGVyJyxcbiAgICAgIGFjdGlvbjogaW5zZXJ0RGl2aWRlcixcbiAgICAgIGRlc2NyaXB0aW9uOiAnSW5zZXJ0IGEgaG9yaXpvbnRhbCBkaXZpZGVyJyxcbiAgICB9LFxuICBdO1xuXG4gIC8vIEZpbHRlciBzbGFzaCBjb21tYW5kc1xuICBjb25zdCBmaWx0ZXJlZENvbW1hbmRzID0gc2xhc2hDb21tYW5kcy5maWx0ZXIoY21kID0+XG4gICAgY21kLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2xhc2hGaWx0ZXIpIHx8XG4gICAgY21kLmNvbW1hbmQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzbGFzaEZpbHRlcilcbiAgKTtcblxuICAvLyBIYW5kbGUga2V5Ym9hcmQgc2hvcnRjdXRzXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSB1c2VDYWxsYmFjayhcbiAgICAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgLy8gU2xhc2ggbWVudSBuYXZpZ2F0aW9uXG4gICAgICBpZiAoc2hvd1NsYXNoTWVudSkge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQ29tbWFuZEluZGV4KHByZXYgPT5cbiAgICAgICAgICAgIHByZXYgPCBmaWx0ZXJlZENvbW1hbmRzLmxlbmd0aCAtIDEgPyBwcmV2ICsgMSA6IDBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDb21tYW5kSW5kZXgocHJldiA9PlxuICAgICAgICAgICAgcHJldiA+IDAgPyBwcmV2IC0gMSA6IGZpbHRlcmVkQ29tbWFuZHMubGVuZ3RoIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgaWYgKGZpbHRlcmVkQ29tbWFuZHNbc2VsZWN0ZWRDb21tYW5kSW5kZXhdKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNsYXNoIGNvbW1hbmQgdGV4dFxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgaWYgKHRleHROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiB0ZXh0Tm9kZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RTbGFzaEluZGV4ID0gdGV4dE5vZGUudGV4dENvbnRlbnQubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZXRTdGFydCh0ZXh0Tm9kZSwgbGFzdFNsYXNoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgbmV3UmFuZ2Uuc2V0RW5kKHRleHROb2RlLCByYW5nZS5zdGFydE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICBuZXdSYW5nZS5kZWxldGVDb250ZW50cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyZWRDb21tYW5kc1tzZWxlY3RlZENvbW1hbmRJbmRleF0uYWN0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBzZXRTaG93U2xhc2hNZW51KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEtleWJvYXJkIHNob3J0Y3V0c1xuICAgICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgY2FzZSAnYic6XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBleGVjQ29tbWFuZCgnYm9sZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaSc6XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBleGVjQ29tbWFuZCgnaXRhbGljJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV4ZWNDb21tYW5kKCd1bmRlcmxpbmUnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2snOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgc2hvd0xpbmtJbnB1dCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtzaG93U2xhc2hNZW51LCBmaWx0ZXJlZENvbW1hbmRzLCBzZWxlY3RlZENvbW1hbmRJbmRleCwgZXhlY0NvbW1hbmQsIHNob3dMaW5rSW5wdXRdXG4gICk7XG5cbiAgLy8gQ2xvc2Ugc2xhc2ggbWVudSBvbiBjbGljayBvdXRzaWRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChzaG93U2xhc2hNZW51ICYmIGVkaXRvclJlZi5jdXJyZW50ICYmICFlZGl0b3JSZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93U2xhc2hNZW51KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgfSwgW3Nob3dTbGFzaE1lbnVdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHtjbGFzc05hbWV9YH0+XG4gICAgICB7LyogVG9vbGJhciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC10LW1kIGJnLWdyYXktNTBcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGV4ZWNDb21tYW5kKCdib2xkJyl9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwIHJvdW5kZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgIHRpdGxlPVwiQm9sZCAoQ3RybCtCKVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkJvbGRcIlxuICAgICAgICA+XG4gICAgICAgICAgPHN0cm9uZz5CPC9zdHJvbmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZXhlY0NvbW1hbmQoJ2l0YWxpYycpfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTIwMCByb3VuZGVkIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICB0aXRsZT1cIkl0YWxpYyAoQ3RybCtJKVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkl0YWxpY1wiXG4gICAgICAgID5cbiAgICAgICAgICA8ZW0+STwvZW0+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZXhlY0NvbW1hbmQoJ3VuZGVybGluZScpfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTIwMCByb3VuZGVkIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICB0aXRsZT1cIlVuZGVybGluZSAoQ3RybCtVKVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlVuZGVybGluZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8dT5VPC91PlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy1ncmF5LTMwMCBteC0xXCIgLz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGluc2VydExpc3QoZmFsc2UpfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTIwMCByb3VuZGVkIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICB0aXRsZT1cIkJ1bGxldCBMaXN0XCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQnVsbGV0IGxpc3RcIlxuICAgICAgICA+XG4gICAgICAgICAg4oCiXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaW5zZXJ0TGlzdCh0cnVlKX1cbiAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0yMDAgcm91bmRlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgdGl0bGU9XCJOdW1iZXJlZCBMaXN0XCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiTnVtYmVyZWQgbGlzdFwiXG4gICAgICAgID5cbiAgICAgICAgICAxLlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LXB4IGgtNiBiZy1ncmF5LTMwMCBteC0xXCIgLz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e3Nob3dMaW5rSW5wdXR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwIHJvdW5kZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgIHRpdGxlPVwiSW5zZXJ0IExpbmsgKEN0cmwrSylcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbnNlcnQgbGlua1wiXG4gICAgICAgID5cbiAgICAgICAgICDwn5SXXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17aW5zZXJ0VGFibGV9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwIHJvdW5kZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgIHRpdGxlPVwiSW5zZXJ0IFRhYmxlXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiSW5zZXJ0IHRhYmxlXCJcbiAgICAgICAgPlxuICAgICAgICAgIOKKnlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9e2luc2VydERpdmlkZXJ9XG4gICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMjAwIHJvdW5kZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgIHRpdGxlPVwiSW5zZXJ0IERpdmlkZXJcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbnNlcnQgZGl2aWRlclwiXG4gICAgICAgID5cbiAgICAgICAgICDigJVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVkaXRvciAqL31cbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtlZGl0b3JSZWZ9XG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZT17IWRpc2FibGVkfVxuICAgICAgICBvbklucHV0PXtoYW5kbGVJbnB1dH1cbiAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICBjbGFzc05hbWU9e2BtaW4taC1bMjAwcHhdIHAtNCBib3JkZXIgYm9yZGVyLXQtMCBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1iLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lICR7XG4gICAgICAgICAgZGlzYWJsZWQgPyAnYmctZ3JheS0xMDAgY3Vyc29yLW5vdC1hbGxvd2VkJyA6ICdiZy13aGl0ZSdcbiAgICAgICAgfSAkeyF2YWx1ZSAmJiAnZW1wdHktZWRpdG9yJ31gfVxuICAgICAgICBkYXRhLXBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgYXJpYS1sYWJlbD1cIlJpY2ggdGV4dCBlZGl0b3JcIlxuICAgICAgICByb2xlPVwidGV4dGJveFwiXG4gICAgICAgIGFyaWEtbXVsdGlsaW5lPVwidHJ1ZVwiXG4gICAgICAvPlxuXG4gICAgICB7LyogU2xhc2ggY29tbWFuZCBtZW51ICovfVxuICAgICAge3Nob3dTbGFzaE1lbnUgJiYgZmlsdGVyZWRDb21tYW5kcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHotNTAgdy02NCBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgc2hhZG93LWxnIG1heC1oLTY0IG92ZXJmbG93LXktYXV0b1wiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHRvcDogc2xhc2hNZW51UG9zaXRpb24udG9wLFxuICAgICAgICAgICAgbGVmdDogc2xhc2hNZW51UG9zaXRpb24ubGVmdCxcbiAgICAgICAgICB9fVxuICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiU2xhc2ggY29tbWFuZHNcIlxuICAgICAgICA+XG4gICAgICAgICAge2ZpbHRlcmVkQ29tbWFuZHMubWFwKChjbWQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17Y21kLmNvbW1hbmR9XG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzbGFzaCBjb21tYW5kIHRleHRcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgaWYgKHRleHROb2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiB0ZXh0Tm9kZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHRleHROb2RlLnRleHRDb250ZW50Lmxhc3RJbmRleE9mKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2Uuc2V0U3RhcnQodGV4dE5vZGUsIGxhc3RTbGFzaEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZXRFbmQodGV4dE5vZGUsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdSYW5nZS5kZWxldGVDb250ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNtZC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgaG92ZXI6YmctZ3JheS0xMDAgJHtcbiAgICAgICAgICAgICAgICBpbmRleCA9PT0gc2VsZWN0ZWRDb21tYW5kSW5kZXggPyAnYmctYmx1ZS01MCcgOiAnJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtIHRleHQtZ3JheS05MDBcIj57Y21kLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPntjbWQuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTGluayBkaWFsb2cgKi99XG4gICAgICB7c2hvd0xpbmtEaWFsb2cgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktNTBcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dMaW5rRGlhbG9nKGZhbHNlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIHAtNiB3LWZ1bGwgbWF4LXctbWRcIlxuICAgICAgICAgICAgb25DbGljaz17ZSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItNFwiPkluc2VydCBMaW5rPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJsaW5rLXRleHRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgTGluayBUZXh0XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwibGluay10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtsaW5rVGV4dH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldExpbmtUZXh0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGxpbmsgdGV4dFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJsaW5rLXVybFwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICBVUkxcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgaWQ9XCJsaW5rLXVybFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtsaW5rVXJsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0TGlua1VybChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwczovL2V4YW1wbGUuY29tXCJcbiAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0xpbmtEaWFsb2coZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRMaW5rVXJsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0TGlua1RleHQoJycpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktNTBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aW5zZXJ0TGlua31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshbGlua1VybH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgYmctYmx1ZS02MDAgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgSW5zZXJ0XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSaWNoVGV4dEVkaXRvciIsInZhbHVlIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImNsYXNzTmFtZSIsImRpc2FibGVkIiwiZWRpdG9yUmVmIiwidXNlUmVmIiwic2hvd1NsYXNoTWVudSIsInNldFNob3dTbGFzaE1lbnUiLCJ1c2VTdGF0ZSIsInNsYXNoTWVudVBvc2l0aW9uIiwic2V0U2xhc2hNZW51UG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwic2xhc2hGaWx0ZXIiLCJzZXRTbGFzaEZpbHRlciIsInNlbGVjdGVkQ29tbWFuZEluZGV4Iiwic2V0U2VsZWN0ZWRDb21tYW5kSW5kZXgiLCJzaG93TGlua0RpYWxvZyIsInNldFNob3dMaW5rRGlhbG9nIiwibGlua1VybCIsInNldExpbmtVcmwiLCJsaW5rVGV4dCIsInNldExpbmtUZXh0IiwidXNlRWZmZWN0IiwiY3VycmVudCIsImlubmVySFRNTCIsImV4ZWNDb21tYW5kIiwidXNlQ2FsbGJhY2siLCJjb21tYW5kIiwiZG9jdW1lbnQiLCJmb2N1cyIsImhhbmRsZUlucHV0IiwiaHRtbCIsInNhbml0aXplZCIsInNhbml0aXplUmljaFRleHQiLCJzZWxlY3Rpb24iLCJ3aW5kb3ciLCJnZXRTZWxlY3Rpb24iLCJyYW5nZUNvdW50IiwicmFuZ2UiLCJnZXRSYW5nZUF0IiwidGV4dEJlZm9yZUN1cnNvciIsInN0YXJ0Q29udGFpbmVyIiwidGV4dENvbnRlbnQiLCJzbGljZSIsInN0YXJ0T2Zmc2V0IiwiZW5kc1dpdGgiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwic2Nyb2xsWSIsInNjcm9sbFgiLCJsYXN0U2xhc2hJbmRleCIsImxhc3RJbmRleE9mIiwiZmlsdGVyIiwidG9Mb3dlckNhc2UiLCJpbnNlcnRIZWFkaW5nIiwibGV2ZWwiLCJpbnNlcnRMaXN0Iiwib3JkZXJlZCIsImluc2VydFRhYmxlIiwidGFibGUiLCJpbnNlcnREaXZpZGVyIiwic2hvd0xpbmtJbnB1dCIsInRvU3RyaW5nIiwiaW5zZXJ0TGluayIsInVybCIsInN0YXJ0c1dpdGgiLCJpbnNlcnRJbWFnZSIsInByb21wdCIsInNsYXNoQ29tbWFuZHMiLCJsYWJlbCIsImFjdGlvbiIsImRlc2NyaXB0aW9uIiwiZmlsdGVyZWRDb21tYW5kcyIsImNtZCIsImluY2x1ZGVzIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsInByZXYiLCJsZW5ndGgiLCJ0ZXh0Tm9kZSIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsIm5ld1JhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInNldEVuZCIsImRlbGV0ZUNvbnRlbnRzIiwiY3RybEtleSIsIm1ldGFLZXkiLCJoYW5kbGVDbGlja091dHNpZGUiLCJjb250YWlucyIsInRhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiYnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJ0aXRsZSIsImFyaWEtbGFiZWwiLCJzdHJvbmciLCJlbSIsInUiLCJyZWYiLCJjb250ZW50RWRpdGFibGUiLCJvbklucHV0Iiwib25LZXlEb3duIiwiZGF0YS1wbGFjZWhvbGRlciIsInJvbGUiLCJhcmlhLW11bHRpbGluZSIsInN0eWxlIiwibWFwIiwiaW5kZXgiLCJzdG9wUHJvcGFnYXRpb24iLCJoMyIsImh0bWxGb3IiLCJpbnB1dCIsImlkIiwiYXV0b0ZvY3VzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBOEJnQkE7OztlQUFBQTs7Ozt1QkE1QnlDOzhCQUN4QjtBQTJCMUIsU0FBU0EsZUFBZSxFQUM3QkMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLGNBQWMsdUNBQXVDLEVBQ3JEQyxZQUFZLEVBQUUsRUFDZEMsV0FBVyxLQUFLLEVBQ0k7SUFDcEIsTUFBTUMsWUFBWUMsSUFBQUEsYUFBTSxFQUFpQjtJQUN6QyxNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHQyxJQUFBQSxlQUFRLEVBQUM7SUFDbkQsTUFBTSxDQUFDQyxtQkFBbUJDLHFCQUFxQixHQUFHRixJQUFBQSxlQUFRLEVBQUM7UUFBRUcsS0FBSztRQUFHQyxNQUFNO0lBQUU7SUFDN0UsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdOLElBQUFBLGVBQVEsRUFBQztJQUMvQyxNQUFNLENBQUNPLHNCQUFzQkMsd0JBQXdCLEdBQUdSLElBQUFBLGVBQVEsRUFBQztJQUNqRSxNQUFNLENBQUNTLGdCQUFnQkMsa0JBQWtCLEdBQUdWLElBQUFBLGVBQVEsRUFBQztJQUNyRCxNQUFNLENBQUNXLFNBQVNDLFdBQVcsR0FBR1osSUFBQUEsZUFBUSxFQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2EsVUFBVUMsWUFBWSxHQUFHZCxJQUFBQSxlQUFRLEVBQUM7SUFFekMsNEJBQTRCO0lBQzVCZSxJQUFBQSxnQkFBUyxFQUFDO1FBQ1IsSUFBSW5CLFVBQVVvQixPQUFPLElBQUlwQixVQUFVb0IsT0FBTyxDQUFDQyxTQUFTLEtBQUsxQixPQUFPO1lBQzlESyxVQUFVb0IsT0FBTyxDQUFDQyxTQUFTLEdBQUcxQixTQUFTO1FBQ3pDO0lBQ0YsR0FBRztRQUFDQTtLQUFNO0lBRVYsNkJBQTZCO0lBQzdCLE1BQU0yQixjQUFjQyxJQUFBQSxrQkFBVyxFQUFDLENBQUNDLFNBQWlCN0I7UUFDaEQ4QixTQUFTSCxXQUFXLENBQUNFLFNBQVMsT0FBTzdCO1FBQ3JDSyxVQUFVb0IsT0FBTyxFQUFFTTtJQUNyQixHQUFHLEVBQUU7SUFFTCx3QkFBd0I7SUFDeEIsTUFBTUMsY0FBY0osSUFBQUEsa0JBQVcsRUFBQztRQUM5QixJQUFJLENBQUN2QixVQUFVb0IsT0FBTyxFQUFFO1FBRXhCLE1BQU1RLE9BQU81QixVQUFVb0IsT0FBTyxDQUFDQyxTQUFTO1FBQ3hDLE1BQU1RLFlBQVlDLElBQUFBLDhCQUFnQixFQUFDRjtRQUNuQ2hDLFNBQVNpQztRQUVULDBCQUEwQjtRQUMxQixNQUFNRSxZQUFZQyxPQUFPQyxZQUFZO1FBQ3JDLElBQUlGLGFBQWFBLFVBQVVHLFVBQVUsR0FBRyxHQUFHO1lBQ3pDLE1BQU1DLFFBQVFKLFVBQVVLLFVBQVUsQ0FBQztZQUNuQyxNQUFNQyxtQkFBbUJGLE1BQU1HLGNBQWMsQ0FBQ0MsV0FBVyxFQUFFQyxNQUFNLEdBQUdMLE1BQU1NLFdBQVcsS0FBSztZQUUxRiwrQkFBK0I7WUFDL0IsSUFBSUosaUJBQWlCSyxRQUFRLENBQUMsTUFBTTtnQkFDbEMsTUFBTUMsT0FBT1IsTUFBTVMscUJBQXFCO2dCQUN4Q3RDLHFCQUFxQjtvQkFDbkJDLEtBQUtvQyxLQUFLRSxNQUFNLEdBQUdiLE9BQU9jLE9BQU87b0JBQ2pDdEMsTUFBTW1DLEtBQUtuQyxJQUFJLEdBQUd3QixPQUFPZSxPQUFPO2dCQUNsQztnQkFDQXJDLGVBQWU7Z0JBQ2ZQLGlCQUFpQjtnQkFDakJTLHdCQUF3QjtZQUMxQixPQUFPLElBQUlWLGVBQWU7Z0JBQ3hCLHNDQUFzQztnQkFDdEMsTUFBTThDLGlCQUFpQlgsaUJBQWlCWSxXQUFXLENBQUM7Z0JBQ3BELElBQUlELG1CQUFtQixDQUFDLEdBQUc7b0JBQ3pCLE1BQU1FLFNBQVNiLGlCQUFpQkcsS0FBSyxDQUFDUSxpQkFBaUI7b0JBQ3ZEdEMsZUFBZXdDLE9BQU9DLFdBQVc7Z0JBQ25DLE9BQU87b0JBQ0xoRCxpQkFBaUI7Z0JBQ25CO1lBQ0Y7UUFDRjtJQUNGLEdBQUc7UUFBQ1A7UUFBVU07S0FBYztJQUU1QixpQkFBaUI7SUFDakIsTUFBTWtELGdCQUFnQjdCLElBQUFBLGtCQUFXLEVBQUMsQ0FBQzhCO1FBQ2pDL0IsWUFBWSxlQUFlLENBQUMsQ0FBQyxFQUFFK0IsT0FBTztRQUN0Q2xELGlCQUFpQjtJQUNuQixHQUFHO1FBQUNtQjtLQUFZO0lBRWhCLGNBQWM7SUFDZCxNQUFNZ0MsYUFBYS9CLElBQUFBLGtCQUFXLEVBQUMsQ0FBQ2dDO1FBQzlCakMsWUFBWWlDLFVBQVUsc0JBQXNCO1FBQzVDcEQsaUJBQWlCO0lBQ25CLEdBQUc7UUFBQ21CO0tBQVk7SUFFaEIsZUFBZTtJQUNmLE1BQU1rQyxjQUFjakMsSUFBQUEsa0JBQVcsRUFBQztRQUM5QixNQUFNa0MsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7O0lBYWYsQ0FBQztRQUNEbkMsWUFBWSxjQUFjbUM7UUFDMUJ0RCxpQkFBaUI7SUFDbkIsR0FBRztRQUFDbUI7S0FBWTtJQUVoQixpQkFBaUI7SUFDakIsTUFBTW9DLGdCQUFnQm5DLElBQUFBLGtCQUFXLEVBQUM7UUFDaENELFlBQVksY0FBYztRQUMxQm5CLGlCQUFpQjtJQUNuQixHQUFHO1FBQUNtQjtLQUFZO0lBRWhCLG1CQUFtQjtJQUNuQixNQUFNcUMsZ0JBQWdCcEMsSUFBQUEsa0JBQVcsRUFBQztRQUNoQyxNQUFNUSxZQUFZQyxPQUFPQyxZQUFZO1FBQ3JDLElBQUlGLGFBQWFBLFVBQVU2QixRQUFRLElBQUk7WUFDckMxQyxZQUFZYSxVQUFVNkIsUUFBUTtRQUNoQztRQUNBOUMsa0JBQWtCO1FBQ2xCWCxpQkFBaUI7SUFDbkIsR0FBRyxFQUFFO0lBRUwsY0FBYztJQUNkLE1BQU0wRCxhQUFhdEMsSUFBQUEsa0JBQVcsRUFBQztRQUM3QixJQUFJLENBQUNSLFNBQVM7UUFFZCxNQUFNK0MsTUFBTS9DLFFBQVFnRCxVQUFVLENBQUMsVUFBVWhELFVBQVUsQ0FBQyxRQUFRLEVBQUVBLFNBQVM7UUFFdkUsSUFBSUUsVUFBVTtZQUNaSyxZQUFZLGNBQWMsQ0FBQyxTQUFTLEVBQUV3QyxJQUFJLDRDQUE0QyxFQUFFN0MsU0FBUyxJQUFJLENBQUM7UUFDeEcsT0FBTztZQUNMSyxZQUFZLGNBQWN3QztRQUM1QjtRQUVBaEQsa0JBQWtCO1FBQ2xCRSxXQUFXO1FBQ1hFLFlBQVk7SUFDZCxHQUFHO1FBQUNIO1FBQVNFO1FBQVVLO0tBQVk7SUFFbkMsZUFBZTtJQUNmLE1BQU0wQyxjQUFjekMsSUFBQUEsa0JBQVcsRUFBQztRQUM5QixNQUFNdUMsTUFBTUcsT0FBTztRQUNuQixJQUFJSCxLQUFLO1lBQ1B4QyxZQUFZLGNBQWMsQ0FBQyxVQUFVLEVBQUV3QyxJQUFJLHVEQUF1RCxDQUFDO1FBQ3JHO1FBQ0EzRCxpQkFBaUI7SUFDbkIsR0FBRztRQUFDbUI7S0FBWTtJQUVoQixpQkFBaUI7SUFDakIsTUFBTTRDLGdCQUFnQztRQUNwQztZQUNFQyxPQUFPO1lBQ1AzQyxTQUFTO1lBQ1Q0QyxRQUFRLElBQU1oQixjQUFjO1lBQzVCaUIsYUFBYTtRQUNmO1FBQ0E7WUFDRUYsT0FBTztZQUNQM0MsU0FBUztZQUNUNEMsUUFBUSxJQUFNaEIsY0FBYztZQUM1QmlCLGFBQWE7UUFDZjtRQUNBO1lBQ0VGLE9BQU87WUFDUDNDLFNBQVM7WUFDVDRDLFFBQVEsSUFBTWhCLGNBQWM7WUFDNUJpQixhQUFhO1FBQ2Y7UUFDQTtZQUNFRixPQUFPO1lBQ1AzQyxTQUFTO1lBQ1Q0QyxRQUFRLElBQU1kLFdBQVc7WUFDekJlLGFBQWE7UUFDZjtRQUNBO1lBQ0VGLE9BQU87WUFDUDNDLFNBQVM7WUFDVDRDLFFBQVEsSUFBTWQsV0FBVztZQUN6QmUsYUFBYTtRQUNmO1FBQ0E7WUFDRUYsT0FBTztZQUNQM0MsU0FBUztZQUNUNEMsUUFBUVo7WUFDUmEsYUFBYTtRQUNmO1FBQ0E7WUFDRUYsT0FBTztZQUNQM0MsU0FBUztZQUNUNEMsUUFBUVQ7WUFDUlUsYUFBYTtRQUNmO1FBQ0E7WUFDRUYsT0FBTztZQUNQM0MsU0FBUztZQUNUNEMsUUFBUUo7WUFDUkssYUFBYTtRQUNmO1FBQ0E7WUFDRUYsT0FBTztZQUNQM0MsU0FBUztZQUNUNEMsUUFBUVY7WUFDUlcsYUFBYTtRQUNmO0tBQ0Q7SUFFRCx3QkFBd0I7SUFDeEIsTUFBTUMsbUJBQW1CSixjQUFjaEIsTUFBTSxDQUFDcUIsQ0FBQUEsTUFDNUNBLElBQUlKLEtBQUssQ0FBQ2hCLFdBQVcsR0FBR3FCLFFBQVEsQ0FBQy9ELGdCQUNqQzhELElBQUkvQyxPQUFPLENBQUMyQixXQUFXLEdBQUdxQixRQUFRLENBQUMvRDtJQUdyQyw0QkFBNEI7SUFDNUIsTUFBTWdFLGdCQUFnQmxELElBQUFBLGtCQUFXLEVBQy9CLENBQUNtRDtRQUNDLHdCQUF3QjtRQUN4QixJQUFJeEUsZUFBZTtZQUNqQixJQUFJd0UsRUFBRUMsR0FBRyxLQUFLLGFBQWE7Z0JBQ3pCRCxFQUFFRSxjQUFjO2dCQUNoQmhFLHdCQUF3QmlFLENBQUFBLE9BQ3RCQSxPQUFPUCxpQkFBaUJRLE1BQU0sR0FBRyxJQUFJRCxPQUFPLElBQUk7WUFFcEQsT0FBTyxJQUFJSCxFQUFFQyxHQUFHLEtBQUssV0FBVztnQkFDOUJELEVBQUVFLGNBQWM7Z0JBQ2hCaEUsd0JBQXdCaUUsQ0FBQUEsT0FDdEJBLE9BQU8sSUFBSUEsT0FBTyxJQUFJUCxpQkFBaUJRLE1BQU0sR0FBRztZQUVwRCxPQUFPLElBQUlKLEVBQUVDLEdBQUcsS0FBSyxTQUFTO2dCQUM1QkQsRUFBRUUsY0FBYztnQkFDaEIsSUFBSU4sZ0JBQWdCLENBQUMzRCxxQkFBcUIsRUFBRTtvQkFDMUMsZ0NBQWdDO29CQUNoQyxNQUFNb0IsWUFBWUMsT0FBT0MsWUFBWTtvQkFDckMsSUFBSUYsYUFBYUEsVUFBVUcsVUFBVSxHQUFHLEdBQUc7d0JBQ3pDLE1BQU1DLFFBQVFKLFVBQVVLLFVBQVUsQ0FBQzt3QkFDbkMsTUFBTTJDLFdBQVc1QyxNQUFNRyxjQUFjO3dCQUNyQyxJQUFJeUMsU0FBU0MsUUFBUSxLQUFLQyxLQUFLQyxTQUFTLElBQUlILFNBQVN4QyxXQUFXLEVBQUU7NEJBQ2hFLE1BQU1TLGlCQUFpQitCLFNBQVN4QyxXQUFXLENBQUNVLFdBQVcsQ0FBQzs0QkFDeEQsSUFBSUQsbUJBQW1CLENBQUMsR0FBRztnQ0FDekIsTUFBTW1DLFdBQVcxRCxTQUFTMkQsV0FBVztnQ0FDckNELFNBQVNFLFFBQVEsQ0FBQ04sVUFBVS9CO2dDQUM1Qm1DLFNBQVNHLE1BQU0sQ0FBQ1AsVUFBVTVDLE1BQU1NLFdBQVc7Z0NBQzNDMEMsU0FBU0ksY0FBYzs0QkFDekI7d0JBQ0Y7b0JBQ0Y7b0JBQ0FqQixnQkFBZ0IsQ0FBQzNELHFCQUFxQixDQUFDeUQsTUFBTTtnQkFDL0M7WUFDRixPQUFPLElBQUlNLEVBQUVDLEdBQUcsS0FBSyxVQUFVO2dCQUM3QkQsRUFBRUUsY0FBYztnQkFDaEJ6RSxpQkFBaUI7WUFDbkI7WUFDQTtRQUNGO1FBRUEscUJBQXFCO1FBQ3JCLElBQUl1RSxFQUFFYyxPQUFPLElBQUlkLEVBQUVlLE9BQU8sRUFBRTtZQUMxQixPQUFRZixFQUFFQyxHQUFHLENBQUN4QixXQUFXO2dCQUN2QixLQUFLO29CQUNIdUIsRUFBRUUsY0FBYztvQkFDaEJ0RCxZQUFZO29CQUNaO2dCQUNGLEtBQUs7b0JBQ0hvRCxFQUFFRSxjQUFjO29CQUNoQnRELFlBQVk7b0JBQ1o7Z0JBQ0YsS0FBSztvQkFDSG9ELEVBQUVFLGNBQWM7b0JBQ2hCdEQsWUFBWTtvQkFDWjtnQkFDRixLQUFLO29CQUNIb0QsRUFBRUUsY0FBYztvQkFDaEJqQjtvQkFDQTtZQUNKO1FBQ0Y7SUFDRixHQUNBO1FBQUN6RDtRQUFlb0U7UUFBa0IzRDtRQUFzQlc7UUFBYXFDO0tBQWM7SUFHckYsb0NBQW9DO0lBQ3BDeEMsSUFBQUEsZ0JBQVMsRUFBQztRQUNSLE1BQU11RSxxQkFBcUIsQ0FBQ2hCO1lBQzFCLElBQUl4RSxpQkFBaUJGLFVBQVVvQixPQUFPLElBQUksQ0FBQ3BCLFVBQVVvQixPQUFPLENBQUN1RSxRQUFRLENBQUNqQixFQUFFa0IsTUFBTSxHQUFXO2dCQUN2RnpGLGlCQUFpQjtZQUNuQjtRQUNGO1FBRUFzQixTQUFTb0UsZ0JBQWdCLENBQUMsYUFBYUg7UUFDdkMsT0FBTyxJQUFNakUsU0FBU3FFLG1CQUFtQixDQUFDLGFBQWFKO0lBQ3pELEdBQUc7UUFBQ3hGO0tBQWM7SUFFbEIscUJBQ0Usc0JBQUM2RjtRQUFJakcsV0FBVyxDQUFDLFNBQVMsRUFBRUEsV0FBVzs7MEJBRXJDLHNCQUFDaUc7Z0JBQUlqRyxXQUFVOztrQ0FDYixxQkFBQ2tHO3dCQUNDQyxNQUFLO3dCQUNMQyxTQUFTLElBQU01RSxZQUFZO3dCQUMzQnZCLFVBQVVBO3dCQUNWRCxXQUFVO3dCQUNWcUcsT0FBTTt3QkFDTkMsY0FBVztrQ0FFWCxjQUFBLHFCQUFDQztzQ0FBTzs7O2tDQUVWLHFCQUFDTDt3QkFDQ0MsTUFBSzt3QkFDTEMsU0FBUyxJQUFNNUUsWUFBWTt3QkFDM0J2QixVQUFVQTt3QkFDVkQsV0FBVTt3QkFDVnFHLE9BQU07d0JBQ05DLGNBQVc7a0NBRVgsY0FBQSxxQkFBQ0U7c0NBQUc7OztrQ0FFTixxQkFBQ047d0JBQ0NDLE1BQUs7d0JBQ0xDLFNBQVMsSUFBTTVFLFlBQVk7d0JBQzNCdkIsVUFBVUE7d0JBQ1ZELFdBQVU7d0JBQ1ZxRyxPQUFNO3dCQUNOQyxjQUFXO2tDQUVYLGNBQUEscUJBQUNHO3NDQUFFOzs7a0NBRUwscUJBQUNSO3dCQUFJakcsV0FBVTs7a0NBQ2YscUJBQUNrRzt3QkFDQ0MsTUFBSzt3QkFDTEMsU0FBUyxJQUFNNUMsV0FBVzt3QkFDMUJ2RCxVQUFVQTt3QkFDVkQsV0FBVTt3QkFDVnFHLE9BQU07d0JBQ05DLGNBQVc7a0NBQ1o7O2tDQUdELHFCQUFDSjt3QkFDQ0MsTUFBSzt3QkFDTEMsU0FBUyxJQUFNNUMsV0FBVzt3QkFDMUJ2RCxVQUFVQTt3QkFDVkQsV0FBVTt3QkFDVnFHLE9BQU07d0JBQ05DLGNBQVc7a0NBQ1o7O2tDQUdELHFCQUFDTDt3QkFBSWpHLFdBQVU7O2tDQUNmLHFCQUFDa0c7d0JBQ0NDLE1BQUs7d0JBQ0xDLFNBQVN2Qzt3QkFDVDVELFVBQVVBO3dCQUNWRCxXQUFVO3dCQUNWcUcsT0FBTTt3QkFDTkMsY0FBVztrQ0FDWjs7a0NBR0QscUJBQUNKO3dCQUNDQyxNQUFLO3dCQUNMQyxTQUFTMUM7d0JBQ1R6RCxVQUFVQTt3QkFDVkQsV0FBVTt3QkFDVnFHLE9BQU07d0JBQ05DLGNBQVc7a0NBQ1o7O2tDQUdELHFCQUFDSjt3QkFDQ0MsTUFBSzt3QkFDTEMsU0FBU3hDO3dCQUNUM0QsVUFBVUE7d0JBQ1ZELFdBQVU7d0JBQ1ZxRyxPQUFNO3dCQUNOQyxjQUFXO2tDQUNaOzs7OzBCQU1ILHFCQUFDTDtnQkFDQ1MsS0FBS3hHO2dCQUNMeUcsaUJBQWlCLENBQUMxRztnQkFDbEIyRyxTQUFTL0U7Z0JBQ1RnRixXQUFXbEM7Z0JBQ1gzRSxXQUFXLENBQUMsK0lBQStJLEVBQ3pKQyxXQUFXLG1DQUFtQyxXQUMvQyxDQUFDLEVBQUUsQ0FBQ0osU0FBUyxnQkFBZ0I7Z0JBQzlCaUgsb0JBQWtCL0c7Z0JBQ2xCdUcsY0FBVztnQkFDWFMsTUFBSztnQkFDTEMsa0JBQWU7O1lBSWhCNUcsaUJBQWlCb0UsaUJBQWlCUSxNQUFNLEdBQUcsbUJBQzFDLHFCQUFDaUI7Z0JBQ0NqRyxXQUFVO2dCQUNWaUgsT0FBTztvQkFDTHhHLEtBQUtGLGtCQUFrQkUsR0FBRztvQkFDMUJDLE1BQU1ILGtCQUFrQkcsSUFBSTtnQkFDOUI7Z0JBQ0FxRyxNQUFLO2dCQUNMVCxjQUFXOzBCQUVWOUIsaUJBQWlCMEMsR0FBRyxDQUFDLENBQUN6QyxLQUFLMEMsc0JBQzFCLHNCQUFDakI7d0JBRUNDLE1BQUs7d0JBQ0xDLFNBQVM7NEJBQ1AsZ0NBQWdDOzRCQUNoQyxNQUFNbkUsWUFBWUMsT0FBT0MsWUFBWTs0QkFDckMsSUFBSUYsYUFBYUEsVUFBVUcsVUFBVSxHQUFHLEdBQUc7Z0NBQ3pDLE1BQU1DLFFBQVFKLFVBQVVLLFVBQVUsQ0FBQztnQ0FDbkMsTUFBTTJDLFdBQVc1QyxNQUFNRyxjQUFjO2dDQUNyQyxJQUFJeUMsU0FBU0MsUUFBUSxLQUFLQyxLQUFLQyxTQUFTLElBQUlILFNBQVN4QyxXQUFXLEVBQUU7b0NBQ2hFLE1BQU1TLGlCQUFpQitCLFNBQVN4QyxXQUFXLENBQUNVLFdBQVcsQ0FBQztvQ0FDeEQsSUFBSUQsbUJBQW1CLENBQUMsR0FBRzt3Q0FDekIsTUFBTW1DLFdBQVcxRCxTQUFTMkQsV0FBVzt3Q0FDckNELFNBQVNFLFFBQVEsQ0FBQ04sVUFBVS9CO3dDQUM1Qm1DLFNBQVNHLE1BQU0sQ0FBQ1AsVUFBVTVDLE1BQU1NLFdBQVc7d0NBQzNDMEMsU0FBU0ksY0FBYztvQ0FDekI7Z0NBQ0Y7NEJBQ0Y7NEJBQ0FoQixJQUFJSCxNQUFNO3dCQUNaO3dCQUNBdEUsV0FBVyxDQUFDLDZDQUE2QyxFQUN2RG1ILFVBQVV0Ryx1QkFBdUIsZUFBZSxJQUNoRDt3QkFDRmtHLE1BQUs7OzBDQUVMLHFCQUFDZDtnQ0FBSWpHLFdBQVU7MENBQXFDeUUsSUFBSUosS0FBSzs7MENBQzdELHFCQUFDNEI7Z0NBQUlqRyxXQUFVOzBDQUF5QnlFLElBQUlGLFdBQVc7Ozt1QkExQmxERSxJQUFJL0MsT0FBTzs7WUFpQ3ZCWCxnQ0FDQyxxQkFBQ2tGO2dCQUNDakcsV0FBVTtnQkFDVm9HLFNBQVMsSUFBTXBGLGtCQUFrQjswQkFFakMsY0FBQSxzQkFBQ2lGO29CQUNDakcsV0FBVTtvQkFDVm9HLFNBQVN4QixDQUFBQSxJQUFLQSxFQUFFd0MsZUFBZTs7c0NBRS9CLHFCQUFDQzs0QkFBR3JILFdBQVU7c0NBQTZCOztzQ0FDM0Msc0JBQUNpRzs0QkFBSWpHLFdBQVU7OzhDQUNiLHNCQUFDaUc7O3NEQUNDLHFCQUFDNUI7NENBQU1pRCxTQUFROzRDQUFZdEgsV0FBVTtzREFBK0M7O3NEQUdwRixxQkFBQ3VIOzRDQUNDQyxJQUFHOzRDQUNIckIsTUFBSzs0Q0FDTHRHLE9BQU9zQjs0Q0FDUHJCLFVBQVU4RSxDQUFBQSxJQUFLeEQsWUFBWXdELEVBQUVrQixNQUFNLENBQUNqRyxLQUFLOzRDQUN6Q0csV0FBVTs0Q0FDVkQsYUFBWTs7Ozs4Q0FHaEIsc0JBQUNrRzs7c0RBQ0MscUJBQUM1Qjs0Q0FBTWlELFNBQVE7NENBQVd0SCxXQUFVO3NEQUErQzs7c0RBR25GLHFCQUFDdUg7NENBQ0NDLElBQUc7NENBQ0hyQixNQUFLOzRDQUNMdEcsT0FBT29COzRDQUNQbkIsVUFBVThFLENBQUFBLElBQUsxRCxXQUFXMEQsRUFBRWtCLE1BQU0sQ0FBQ2pHLEtBQUs7NENBQ3hDRyxXQUFVOzRDQUNWRCxhQUFZOzRDQUNaMEgsU0FBUzs7Ozs4Q0FHYixzQkFBQ3hCO29DQUFJakcsV0FBVTs7c0RBQ2IscUJBQUNrRzs0Q0FDQ0MsTUFBSzs0Q0FDTEMsU0FBUztnREFDUHBGLGtCQUFrQjtnREFDbEJFLFdBQVc7Z0RBQ1hFLFlBQVk7NENBQ2Q7NENBQ0FwQixXQUFVO3NEQUNYOztzREFHRCxxQkFBQ2tHOzRDQUNDQyxNQUFLOzRDQUNMQyxTQUFTckM7NENBQ1Q5RCxVQUFVLENBQUNnQjs0Q0FDWGpCLFdBQVU7c0RBQ1g7Ozs7Ozs7Ozs7O0FBVWpCIn0=