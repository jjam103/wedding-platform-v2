f585db22661c6074345eda226f2a70ec
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _GuestDashboard = require("./GuestDashboard");
// Mock fetch
global.fetch = jest.fn();
const mockGuest = {
    id: 'guest-1',
    first_name: 'John',
    last_name: 'Doe',
    email: 'john@example.com',
    age_type: 'adult',
    guest_type: 'wedding_guest',
    group_id: 'group-1',
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z'
};
const mockWeddingInfo = {
    date: '2024-12-25T00:00:00Z',
    location: 'Manuel Antonio, Costa Rica',
    venue: 'Arenas del Mar Resort'
};
const mockAnnouncements = [
    {
        id: 'ann-1',
        title: 'Important Update',
        message: 'Please RSVP by December 1st',
        urgent: true,
        created_at: '2024-01-15T00:00:00Z'
    },
    {
        id: 'ann-2',
        title: 'Welcome',
        message: 'We are excited to celebrate with you!',
        urgent: false,
        created_at: '2024-01-10T00:00:00Z'
    }
];
const mockUpcomingEvents = [
    {
        id: 'event-1',
        name: 'Welcome Reception',
        type: 'event',
        date: '2024-12-24T18:00:00Z',
        time: '6:00 PM',
        location: 'Beach Pavilion',
        rsvpStatus: 'pending'
    },
    {
        id: 'event-2',
        name: 'Wedding Ceremony',
        type: 'event',
        date: '2024-12-25T16:00:00Z',
        time: '4:00 PM',
        location: 'Oceanfront Terrace',
        rsvpStatus: 'attending'
    }
];
const mockRsvps = [
    {
        id: 'rsvp-1',
        status: 'attending'
    },
    {
        id: 'rsvp-2',
        status: 'attending'
    },
    {
        id: 'rsvp-3',
        status: 'pending'
    },
    {
        id: 'rsvp-4',
        status: 'maybe'
    },
    {
        id: 'rsvp-5',
        status: 'declined'
    }
];
describe('GuestDashboard', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/guest/events')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockUpcomingEvents
                        })
                });
            }
            if (url.includes('/api/guest/rsvps')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockRsvps
                        })
                });
            }
            if (url.includes('/api/guest/wedding-info')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockWeddingInfo
                        })
                });
            }
            if (url.includes('/api/guest/announcements')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockAnnouncements
                        })
                });
            }
            return Promise.resolve({
                ok: false,
                json: ()=>Promise.resolve({
                        success: false
                    })
            });
        });
    });
    it('should render welcome message with guest name', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/¡Pura Vida, John!/i)).toBeInTheDocument();
        });
    });
    it('should display wedding date, location, and venue', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Costa Rica Wedding/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/Manuel Antonio, Costa Rica/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/Arenas del Mar Resort/i)).toBeInTheDocument();
        });
    });
    it('should display RSVP summary with correct counts', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Total Events:')).toBeInTheDocument();
            expect(_react.screen.getByText('5')).toBeInTheDocument(); // total
            expect(_react.screen.getByText('2')).toBeInTheDocument(); // attending
            expect(_react.screen.getByText('1')).toBeInTheDocument(); // pending, maybe, declined
        });
    });
    it('should display upcoming events', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Welcome Reception')).toBeInTheDocument();
            expect(_react.screen.getByText('Wedding Ceremony')).toBeInTheDocument();
            expect(_react.screen.getByText('Beach Pavilion')).toBeInTheDocument();
            expect(_react.screen.getByText('Oceanfront Terrace')).toBeInTheDocument();
        });
    });
    it('should display RSVP status for each event', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Pending Response')).toBeInTheDocument();
            expect(_react.screen.getByText('Attending')).toBeInTheDocument();
        });
    });
    it('should display quick action links', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Family Information/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/Transportation Details/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/Accommodation Info/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/Upload Photos/i)).toBeInTheDocument();
            expect(_react.screen.getByText(/View Itinerary/i)).toBeInTheDocument();
        });
    });
    it('should display urgent announcements first', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            const announcements = _react.screen.getAllByRole('heading', {
                level: 3
            });
            const urgentIndex = announcements.findIndex((h)=>h.textContent === 'Important Update');
            const normalIndex = announcements.findIndex((h)=>h.textContent === 'Welcome');
            expect(urgentIndex).toBeLessThan(normalIndex);
        });
    });
    it('should display urgent indicator for urgent announcements', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('⚠️')).toBeInTheDocument();
        });
    });
    it('should show loading state initially', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        expect(_react.screen.getByText(/Loading/i)).toBeInTheDocument();
    });
    it('should handle API errors gracefully', async ()=>{
        global.fetch.mockImplementation(()=>Promise.resolve({
                ok: false,
                json: ()=>Promise.resolve({
                        success: false
                    })
            }));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/Failed to load dashboard data/i)).toBeInTheDocument();
        });
    });
    it('should show "Respond to RSVP" button for pending events', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Respond to RSVP')).toBeInTheDocument();
        });
    });
    it('should not show "Respond to RSVP" button for non-pending events', async ()=>{
        const eventsWithoutPending = mockUpcomingEvents.filter((e)=>e.rsvpStatus !== 'pending');
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/guest/events')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: eventsWithoutPending
                        })
                });
            }
            if (url.includes('/api/guest/rsvps')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockRsvps
                        })
                });
            }
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve({
                        success: true,
                        data: []
                    })
            });
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.queryByText('Respond to RSVP')).not.toBeInTheDocument();
        });
    });
    it('should display "Manage RSVPs" button', async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText('Manage RSVPs')).toBeInTheDocument();
        });
    });
    it('should show message when no upcoming events', async ()=>{
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/guest/events')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: []
                        })
                });
            }
            if (url.includes('/api/guest/rsvps')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: []
                        })
                });
            }
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve({
                        success: true,
                        data: []
                    })
            });
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestDashboard.GuestDashboard, {
            guest: mockGuest
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText(/No upcoming events at this time/i)).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdERhc2hib2FyZC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgR3Vlc3REYXNoYm9hcmQgfSBmcm9tICcuL0d1ZXN0RGFzaGJvYXJkJztcbmltcG9ydCB0eXBlIHsgR3Vlc3QgfSBmcm9tICdAL3R5cGVzJztcblxuLy8gTW9jayBmZXRjaFxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG5jb25zdCBtb2NrR3Vlc3Q6IEd1ZXN0ID0ge1xuICBpZDogJ2d1ZXN0LTEnLFxuICBmaXJzdF9uYW1lOiAnSm9obicsXG4gIGxhc3RfbmFtZTogJ0RvZScsXG4gIGVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gIGFnZV90eXBlOiAnYWR1bHQnLFxuICBndWVzdF90eXBlOiAnd2VkZGluZ19ndWVzdCcsXG4gIGdyb3VwX2lkOiAnZ3JvdXAtMScsXG4gIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG59O1xuXG5jb25zdCBtb2NrV2VkZGluZ0luZm8gPSB7XG4gIGRhdGU6ICcyMDI0LTEyLTI1VDAwOjAwOjAwWicsXG4gIGxvY2F0aW9uOiAnTWFudWVsIEFudG9uaW8sIENvc3RhIFJpY2EnLFxuICB2ZW51ZTogJ0FyZW5hcyBkZWwgTWFyIFJlc29ydCcsXG59O1xuXG5jb25zdCBtb2NrQW5ub3VuY2VtZW50cyA9IFtcbiAge1xuICAgIGlkOiAnYW5uLTEnLFxuICAgIHRpdGxlOiAnSW1wb3J0YW50IFVwZGF0ZScsXG4gICAgbWVzc2FnZTogJ1BsZWFzZSBSU1ZQIGJ5IERlY2VtYmVyIDFzdCcsXG4gICAgdXJnZW50OiB0cnVlLFxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTE1VDAwOjAwOjAwWicsXG4gIH0sXG4gIHtcbiAgICBpZDogJ2Fubi0yJyxcbiAgICB0aXRsZTogJ1dlbGNvbWUnLFxuICAgIG1lc3NhZ2U6ICdXZSBhcmUgZXhjaXRlZCB0byBjZWxlYnJhdGUgd2l0aCB5b3UhJyxcbiAgICB1cmdlbnQ6IGZhbHNlLFxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTEwVDAwOjAwOjAwWicsXG4gIH0sXG5dO1xuXG5jb25zdCBtb2NrVXBjb21pbmdFdmVudHMgPSBbXG4gIHtcbiAgICBpZDogJ2V2ZW50LTEnLFxuICAgIG5hbWU6ICdXZWxjb21lIFJlY2VwdGlvbicsXG4gICAgdHlwZTogJ2V2ZW50JyBhcyBjb25zdCxcbiAgICBkYXRlOiAnMjAyNC0xMi0yNFQxODowMDowMFonLFxuICAgIHRpbWU6ICc2OjAwIFBNJyxcbiAgICBsb2NhdGlvbjogJ0JlYWNoIFBhdmlsaW9uJyxcbiAgICByc3ZwU3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QsXG4gIH0sXG4gIHtcbiAgICBpZDogJ2V2ZW50LTInLFxuICAgIG5hbWU6ICdXZWRkaW5nIENlcmVtb255JyxcbiAgICB0eXBlOiAnZXZlbnQnIGFzIGNvbnN0LFxuICAgIGRhdGU6ICcyMDI0LTEyLTI1VDE2OjAwOjAwWicsXG4gICAgdGltZTogJzQ6MDAgUE0nLFxuICAgIGxvY2F0aW9uOiAnT2NlYW5mcm9udCBUZXJyYWNlJyxcbiAgICByc3ZwU3RhdHVzOiAnYXR0ZW5kaW5nJyBhcyBjb25zdCxcbiAgfSxcbl07XG5cbmNvbnN0IG1vY2tSc3ZwcyA9IFtcbiAgeyBpZDogJ3JzdnAtMScsIHN0YXR1czogJ2F0dGVuZGluZycgfSxcbiAgeyBpZDogJ3JzdnAtMicsIHN0YXR1czogJ2F0dGVuZGluZycgfSxcbiAgeyBpZDogJ3JzdnAtMycsIHN0YXR1czogJ3BlbmRpbmcnIH0sXG4gIHsgaWQ6ICdyc3ZwLTQnLCBzdGF0dXM6ICdtYXliZScgfSxcbiAgeyBpZDogJ3JzdnAtNScsIHN0YXR1czogJ2RlY2xpbmVkJyB9LFxuXTtcblxuZGVzY3JpYmUoJ0d1ZXN0RGFzaGJvYXJkJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9ndWVzdC9ldmVudHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrVXBjb21pbmdFdmVudHMgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9ndWVzdC9yc3ZwcycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tSc3ZwcyB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2d1ZXN0L3dlZGRpbmctaW5mbycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tXZWRkaW5nSW5mbyB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2d1ZXN0L2Fubm91bmNlbWVudHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrQW5ub3VuY2VtZW50cyB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiBmYWxzZSB9KSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciB3ZWxjb21lIG1lc3NhZ2Ugd2l0aCBndWVzdCBuYW1lJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvwqFQdXJhIFZpZGEsIEpvaG4hL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgd2VkZGluZyBkYXRlLCBsb2NhdGlvbiwgYW5kIHZlbnVlJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvQ29zdGEgUmljYSBXZWRkaW5nL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL01hbnVlbCBBbnRvbmlvLCBDb3N0YSBSaWNhL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0FyZW5hcyBkZWwgTWFyIFJlc29ydC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IFJTVlAgc3VtbWFyeSB3aXRoIGNvcnJlY3QgY291bnRzJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVG90YWwgRXZlbnRzOicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTsgLy8gdG90YWxcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcyJykpLnRvQmVJblRoZURvY3VtZW50KCk7IC8vIGF0dGVuZGluZ1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTsgLy8gcGVuZGluZywgbWF5YmUsIGRlY2xpbmVkXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSB1cGNvbWluZyBldmVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXZWxjb21lIFJlY2VwdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlZGRpbmcgQ2VyZW1vbnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCZWFjaCBQYXZpbGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ09jZWFuZnJvbnQgVGVycmFjZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgUlNWUCBzdGF0dXMgZm9yIGVhY2ggZXZlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQZW5kaW5nIFJlc3BvbnNlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQXR0ZW5kaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBxdWljayBhY3Rpb24gbGlua3MnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9GYW1pbHkgSW5mb3JtYXRpb24vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvVHJhbnNwb3J0YXRpb24gRGV0YWlscy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9BY2NvbW1vZGF0aW9uIEluZm8vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvVXBsb2FkIFBob3Rvcy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9WaWV3IEl0aW5lcmFyeS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IHVyZ2VudCBhbm5vdW5jZW1lbnRzIGZpcnN0JywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBjb25zdCBhbm5vdW5jZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnaGVhZGluZycsIHsgbGV2ZWw6IDMgfSk7XG4gICAgICBjb25zdCB1cmdlbnRJbmRleCA9IGFubm91bmNlbWVudHMuZmluZEluZGV4KChoKSA9PiBoLnRleHRDb250ZW50ID09PSAnSW1wb3J0YW50IFVwZGF0ZScpO1xuICAgICAgY29uc3Qgbm9ybWFsSW5kZXggPSBhbm5vdW5jZW1lbnRzLmZpbmRJbmRleCgoaCkgPT4gaC50ZXh0Q29udGVudCA9PT0gJ1dlbGNvbWUnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHVyZ2VudEluZGV4KS50b0JlTGVzc1RoYW4obm9ybWFsSW5kZXgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgdXJnZW50IGluZGljYXRvciBmb3IgdXJnZW50IGFubm91bmNlbWVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfimqDvuI8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IGxvYWRpbmcgc3RhdGUgaW5pdGlhbGx5JywgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0xvYWRpbmcvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+XG4gICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IGZhbHNlIH0pLFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9GYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgZGF0YS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IFwiUmVzcG9uZCB0byBSU1ZQXCIgYnV0dG9uIGZvciBwZW5kaW5nIGV2ZW50cycsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPEd1ZXN0RGFzaGJvYXJkIGd1ZXN0PXttb2NrR3Vlc3R9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Jlc3BvbmQgdG8gUlNWUCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCBzaG93IFwiUmVzcG9uZCB0byBSU1ZQXCIgYnV0dG9uIGZvciBub24tcGVuZGluZyBldmVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZXZlbnRzV2l0aG91dFBlbmRpbmcgPSBtb2NrVXBjb21pbmdFdmVudHMuZmlsdGVyKFxuICAgICAgKGUpID0+IGUucnN2cFN0YXR1cyAhPT0gJ3BlbmRpbmcnXG4gICAgKTtcblxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2d1ZXN0L2V2ZW50cycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGV2ZW50c1dpdGhvdXRQZW5kaW5nIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvZ3Vlc3QvcnN2cHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrUnN2cHMgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmVuZGVyKDxHdWVzdERhc2hib2FyZCBndWVzdD17bW9ja0d1ZXN0fSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1Jlc3BvbmQgdG8gUlNWUCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IFwiTWFuYWdlIFJTVlBzXCIgYnV0dG9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8R3Vlc3REYXNoYm9hcmQgZ3Vlc3Q9e21vY2tHdWVzdH0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTWFuYWdlIFJTVlBzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgc2hvdyBtZXNzYWdlIHdoZW4gbm8gdXBjb21pbmcgZXZlbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2d1ZXN0L2V2ZW50cycpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvZ3Vlc3QvcnN2cHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZW5kZXIoPEd1ZXN0RGFzaGJvYXJkIGd1ZXN0PXttb2NrR3Vlc3R9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL05vIHVwY29taW5nIGV2ZW50cyBhdCB0aGlzIHRpbWUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmV0Y2giLCJqZXN0IiwiZm4iLCJtb2NrR3Vlc3QiLCJpZCIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJlbWFpbCIsImFnZV90eXBlIiwiZ3Vlc3RfdHlwZSIsImdyb3VwX2lkIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJtb2NrV2VkZGluZ0luZm8iLCJkYXRlIiwibG9jYXRpb24iLCJ2ZW51ZSIsIm1vY2tBbm5vdW5jZW1lbnRzIiwidGl0bGUiLCJtZXNzYWdlIiwidXJnZW50IiwibW9ja1VwY29taW5nRXZlbnRzIiwibmFtZSIsInR5cGUiLCJ0aW1lIiwicnN2cFN0YXR1cyIsIm1vY2tSc3ZwcyIsInN0YXR1cyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ1cmwiLCJpbmNsdWRlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJpdCIsInJlbmRlciIsIkd1ZXN0RGFzaGJvYXJkIiwiZ3Vlc3QiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJhbm5vdW5jZW1lbnRzIiwiZ2V0QWxsQnlSb2xlIiwibGV2ZWwiLCJ1cmdlbnRJbmRleCIsImZpbmRJbmRleCIsImgiLCJ0ZXh0Q29udGVudCIsIm5vcm1hbEluZGV4IiwidG9CZUxlc3NUaGFuIiwiZXZlbnRzV2l0aG91dFBlbmRpbmciLCJmaWx0ZXIiLCJlIiwicXVlcnlCeVRleHQiLCJub3QiXSwibWFwcGluZ3MiOiI7Ozs7O3VCQUF3QztnQ0FDVDtBQUcvQixhQUFhO0FBQ2JBLE9BQU9DLEtBQUssR0FBR0MsS0FBS0MsRUFBRTtBQUV0QixNQUFNQyxZQUFtQjtJQUN2QkMsSUFBSTtJQUNKQyxZQUFZO0lBQ1pDLFdBQVc7SUFDWEMsT0FBTztJQUNQQyxVQUFVO0lBQ1ZDLFlBQVk7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