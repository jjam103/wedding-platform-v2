{"version":3,"names":["cov_s572g31v3","actualCoverage","s","ConfirmDialog","isOpen","onClose","onConfirm","title","message","confirmLabel","b","cancelLabel","variant","f","isConfirming","setIsConfirming","_react","useState","handleEscape","useCallback","event","key","handleBackdropClick","target","currentTarget","handleConfirm","error","console","useEffect","scrollY","window","document","body","style","position","top","width","addEventListener","scrollTo","removeEventListener","_jsxruntime","jsx","className","onClick","role","jsxs","e","stopPropagation","id","_Button","Button","disabled","loading"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/ConfirmDialog.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useCallback, useState } from 'react';\nimport { Button } from './Button';\n\ninterface ConfirmDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => Promise<void>;\n  title: string;\n  message: string;\n  confirmLabel?: string;\n  cancelLabel?: string;\n  variant?: 'danger' | 'warning';\n}\n\n/**\n * ConfirmDialog Component\n * \n * Modal dialog for confirming destructive actions.\n * Supports keyboard navigation (Escape to close) and click-outside-to-close.\n * Prevents body scroll when open.\n * Disables buttons during confirmation to prevent double-submission.\n * \n * @param isOpen - Whether the dialog is open\n * @param onClose - Callback when dialog is closed\n * @param onConfirm - Async callback when user confirms the action\n * @param title - Dialog title\n * @param message - Confirmation message describing what will happen\n * @param confirmLabel - Label for confirm button (default: \"Confirm\")\n * @param cancelLabel - Label for cancel button (default: \"Cancel\")\n * @param variant - Button variant for confirm button (default: \"danger\")\n */\nexport function ConfirmDialog({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmLabel = 'Confirm',\n  cancelLabel = 'Cancel',\n  variant = 'danger',\n}: ConfirmDialogProps) {\n  const [isConfirming, setIsConfirming] = useState(false);\n\n  // Handle Escape key press\n  const handleEscape = useCallback((event: KeyboardEvent) => {\n    if (event.key === 'Escape' && !isConfirming) {\n      onClose();\n    }\n  }, [onClose, isConfirming]);\n\n  // Handle backdrop click\n  const handleBackdropClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n    if (event.target === event.currentTarget && !isConfirming) {\n      onClose();\n    }\n  }, [onClose, isConfirming]);\n\n  // Handle confirm action\n  const handleConfirm = useCallback(async () => {\n    setIsConfirming(true);\n    try {\n      await onConfirm();\n      onClose();\n    } catch (error) {\n      // Error handling is done by the parent component via toast\n      console.error('Confirmation action failed:', error);\n    } finally {\n      setIsConfirming(false);\n    }\n  }, [onConfirm, onClose]);\n\n  // Prevent body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      // Save current scroll position\n      const scrollY = window.scrollY;\n      \n      // Prevent body scroll\n      document.body.style.position = 'fixed';\n      document.body.style.top = `-${scrollY}px`;\n      document.body.style.width = '100%';\n      \n      // Add escape key listener\n      document.addEventListener('keydown', handleEscape);\n      \n      return () => {\n        // Restore body scroll\n        document.body.style.position = '';\n        document.body.style.top = '';\n        document.body.style.width = '';\n        window.scrollTo(0, scrollY);\n        \n        // Remove escape key listener\n        document.removeEventListener('keydown', handleEscape);\n      };\n    }\n  }, [isOpen, handleEscape]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in\"\n      onClick={handleBackdropClick}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"confirm-dialog-title\"\n      aria-describedby=\"confirm-dialog-message\"\n    >\n      <div\n        className=\"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Dialog Header */}\n        <div className=\"px-6 py-4 border-b border-sage-200\">\n          <h2 \n            id=\"confirm-dialog-title\" \n            className=\"text-xl font-semibold text-sage-900\"\n          >\n            {title}\n          </h2>\n        </div>\n\n        {/* Dialog Body */}\n        <div className=\"px-6 py-4\">\n          <p \n            id=\"confirm-dialog-message\" \n            className=\"text-sage-700 text-base leading-relaxed\"\n          >\n            {message}\n          </p>\n        </div>\n\n        {/* Dialog Footer */}\n        <div className=\"px-6 py-4 border-t border-sage-200 flex items-center justify-end gap-3\">\n          <Button\n            variant=\"secondary\"\n            onClick={onClose}\n            disabled={isConfirming}\n            aria-label={cancelLabel}\n          >\n            {cancelLabel}\n          </Button>\n          <Button\n            variant={variant === 'warning' ? 'secondary' : variant}\n            onClick={handleConfirm}\n            loading={isConfirming}\n            disabled={isConfirming}\n            aria-label={confirmLabel}\n          >\n            {confirmLabel}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}