327f6b746673d6ec8499ff15ca94a015
/**
 * PhotoGalleryPreview Component Tests
 * 
 * Tests the photo gallery preview functionality in the section editor,
 * including photo fetching, display modes, loading states, and error handling.
 */ "use strict";
// Mock Next.js Image component
jest.mock('next/image', ()=>({
        __esModule: true,
        default: ({ src, alt, fill, ...props })=>// eslint-disable-next-line @next/next/no-img-element
            /*#__PURE__*/ (0, _jsxruntime.jsx)("img", {
                src: src,
                alt: alt,
                ...props
            })
    }));
// Mock dynamic imports
jest.mock('next/dynamic', ()=>({
        __esModule: true,
        default: (fn)=>{
            const Component = fn().then((mod)=>mod.default || mod);
            return Component;
        }
    }));
// Mock PhotoPicker
jest.mock('./PhotoPicker', ()=>({
        PhotoPicker: ({ onSelect, onClose })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "photo-picker-modal",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: ()=>onSelect([
                                'photo-1',
                                'photo-2'
                            ]),
                        children: "Select Photos"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onClose,
                        children: "Close"
                    })
                ]
            })
    }));
// Mock RichTextEditor
jest.mock('./RichTextEditor', ()=>({
        RichTextEditor: ({ value, onChange })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                "data-testid": "rich-text-editor",
                value: value,
                onChange: (e)=>onChange(e.target.value)
            })
    }));
// Mock PhotoGallerySkeleton
jest.mock('./PhotoGallerySkeleton', ()=>({
        PhotoGallerySkeleton: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "photo-gallery-skeleton",
                children: "Loading..."
            })
    }));
// Mock Button component
jest.mock('@/components/ui/Button', ()=>({
        Button: ({ children, onClick, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                onClick: onClick,
                ...props,
                children: children
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _SectionEditor = require("./SectionEditor");
describe('PhotoGalleryPreview', ()=>{
    beforeEach(()=>{
        // Reset fetch mock
        global.fetch = jest.fn();
        // Mock sections fetch by default (can be overridden in individual tests)
        // First call is always for fetching sections
        global.fetch.mockResolvedValue({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Photo Fetching and Display', ()=>{
        it('should fetch and display photos with thumbnails and captions', async ()=>{
            // Mock sections fetch first
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            {
                                id: 'section-1',
                                page_type: 'activity',
                                page_id: 'activity-1',
                                title: 'Test Section',
                                column_1_content: 'Content',
                                column_2_content: '',
                                photo_gallery_ids: [
                                    'photo-1',
                                    'photo-2'
                                ],
                                display_order: 0,
                                columns: []
                            }
                        ]
                    })
            });
            // Mock photo API responses
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-1',
                            photo_url: 'https://example.com/photo1.jpg',
                            caption: 'Beautiful sunset'
                        }
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-2',
                            photo_url: 'https://example.com/photo2.jpg',
                            caption: 'Mountain view'
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            // Wait for sections to load
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/by-page/activity/activity-1');
            });
            // Verify component renders
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should use photo_url field (not deprecated url field)', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/by-page/activity/activity-1');
            });
            // Verify component renders
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Display Modes', ()=>{
        it('should display "Gallery Grid" mode indicator', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            // Wait for component to render
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should display "Carousel" mode indicator', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should display "Auto-play Loop" mode indicator', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Loading States', ()=>{
        it('should display skeleton placeholders while loading', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            // Should show loading state initially
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
        });
        it('should hide loading state after photos load', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
            // Loading state should be gone
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Error States', ()=>{
        it('should handle API errors gracefully', async ()=>{
            // Mock API error
            global.fetch.mockRejectedValue(new Error('Network error'));
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
            consoleSpy.mockRestore();
        });
        it('should handle failed photo fetch (404)', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
            // Should not crash
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should filter out null photos from failed requests', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
            // Should only show the successful photo
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Empty State', ()=>{
        it('should display "No photos selected" when no photos', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            // Wait for component to render
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should display empty state when photoIds array is empty', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Photo Captions', ()=>{
        it('should display photo captions when available', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
        });
        it('should handle photos without captions', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalled();
            });
            // Should not crash without caption
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
    describe('Integration with SectionEditor', ()=>{
        it('should render within section editor', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
        it('should update when photo selection changes', async ()=>{
            // Mock sections fetch
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react.waitFor)(()=>{
                const component = _react.screen.getByTestId('section-editor');
                expect(component).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9TZWN0aW9uRWRpdG9yLnByZXZpZXcudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQaG90b0dhbGxlcnlQcmV2aWV3IENvbXBvbmVudCBUZXN0c1xuICogXG4gKiBUZXN0cyB0aGUgcGhvdG8gZ2FsbGVyeSBwcmV2aWV3IGZ1bmN0aW9uYWxpdHkgaW4gdGhlIHNlY3Rpb24gZWRpdG9yLFxuICogaW5jbHVkaW5nIHBob3RvIGZldGNoaW5nLCBkaXNwbGF5IG1vZGVzLCBsb2FkaW5nIHN0YXRlcywgYW5kIGVycm9yIGhhbmRsaW5nLlxuICovXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBTZWN0aW9uRWRpdG9yIH0gZnJvbSAnLi9TZWN0aW9uRWRpdG9yJztcblxuLy8gTW9jayBOZXh0LmpzIEltYWdlIGNvbXBvbmVudFxuamVzdC5tb2NrKCduZXh0L2ltYWdlJywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogKHsgc3JjLCBhbHQsIGZpbGwsIC4uLnByb3BzIH06IGFueSkgPT4gKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAbmV4dC9uZXh0L25vLWltZy1lbGVtZW50XG4gICAgPGltZyBzcmM9e3NyY30gYWx0PXthbHR9IHsuLi5wcm9wc30gLz5cbiAgKSxcbn0pKTtcblxuLy8gTW9jayBkeW5hbWljIGltcG9ydHNcbmplc3QubW9jaygnbmV4dC9keW5hbWljJywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogKGZuOiBhbnkpID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBmbigpLnRoZW4oKG1vZDogYW55KSA9PiBtb2QuZGVmYXVsdCB8fCBtb2QpO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgUGhvdG9QaWNrZXJcbmplc3QubW9jaygnLi9QaG90b1BpY2tlcicsICgpID0+ICh7XG4gIFBob3RvUGlja2VyOiAoeyBvblNlbGVjdCwgb25DbG9zZSB9OiBhbnkpID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicGhvdG8tcGlja2VyLW1vZGFsXCI+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0KFsncGhvdG8tMScsICdwaG90by0yJ10pfT5TZWxlY3QgUGhvdG9zPC9idXR0b24+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9PkNsb3NlPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICksXG59KSk7XG5cbi8vIE1vY2sgUmljaFRleHRFZGl0b3Jcbmplc3QubW9jaygnLi9SaWNoVGV4dEVkaXRvcicsICgpID0+ICh7XG4gIFJpY2hUZXh0RWRpdG9yOiAoeyB2YWx1ZSwgb25DaGFuZ2UgfTogYW55KSA9PiAoXG4gICAgPHRleHRhcmVhXG4gICAgICBkYXRhLXRlc3RpZD1cInJpY2gtdGV4dC1lZGl0b3JcIlxuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgLz5cbiAgKSxcbn0pKTtcblxuLy8gTW9jayBQaG90b0dhbGxlcnlTa2VsZXRvblxuamVzdC5tb2NrKCcuL1Bob3RvR2FsbGVyeVNrZWxldG9uJywgKCkgPT4gKHtcbiAgUGhvdG9HYWxsZXJ5U2tlbGV0b246ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJwaG90by1nYWxsZXJ5LXNrZWxldG9uXCI+TG9hZGluZy4uLjwvZGl2Pixcbn0pKTtcblxuLy8gTW9jayBCdXR0b24gY29tcG9uZW50XG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9CdXR0b24nLCAoKSA9PiAoe1xuICBCdXR0b246ICh7IGNoaWxkcmVuLCBvbkNsaWNrLCAuLi5wcm9wcyB9OiBhbnkpID0+IChcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xpY2t9IHsuLi5wcm9wc30+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICksXG59KSk7XG5cbmRlc2NyaWJlKCdQaG90b0dhbGxlcnlQcmV2aWV3JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCBmZXRjaCBtb2NrXG4gICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuICAgIFxuICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2ggYnkgZGVmYXVsdCAoY2FuIGJlIG92ZXJyaWRkZW4gaW4gaW5kaXZpZHVhbCB0ZXN0cylcbiAgICAvLyBGaXJzdCBjYWxsIGlzIGFsd2F5cyBmb3IgZmV0Y2hpbmcgc2VjdGlvbnNcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGhvdG8gRmV0Y2hpbmcgYW5kIERpc3BsYXknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBhbmQgZGlzcGxheSBwaG90b3Mgd2l0aCB0aHVtYm5haWxzIGFuZCBjYXB0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2ggZmlyc3RcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgICAgICBjb2x1bW5fMV9jb250ZW50OiAnQ29udGVudCcsXG4gICAgICAgICAgICAgIGNvbHVtbl8yX2NvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgICBwaG90b19nYWxsZXJ5X2lkczogWydwaG90by0xJywgJ3Bob3RvLTInXSxcbiAgICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgcGhvdG8gQVBJIHJlc3BvbnNlc1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogJ3Bob3RvLTEnLFxuICAgICAgICAgICAgICBwaG90b191cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3Bob3RvMS5qcGcnLFxuICAgICAgICAgICAgICBjYXB0aW9uOiAnQmVhdXRpZnVsIHN1bnNldCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaWQ6ICdwaG90by0yJyxcbiAgICAgICAgICAgICAgcGhvdG9fdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9waG90bzIuanBnJyxcbiAgICAgICAgICAgICAgY2FwdGlvbjogJ01vdW50YWluIHZpZXcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImFjdGl2aXR5XCJcbiAgICAgICAgICBwYWdlSWQ9XCJhY3Rpdml0eS0xXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIHNlY3Rpb25zIHRvIGxvYWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hZG1pbi9zZWN0aW9ucy9ieS1wYWdlL2FjdGl2aXR5L2FjdGl2aXR5LTEnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgY29tcG9uZW50IHJlbmRlcnNcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlY3Rpb24tZWRpdG9yJyk7XG4gICAgICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIHBob3RvX3VybCBmaWVsZCAobm90IGRlcHJlY2F0ZWQgdXJsIGZpZWxkKScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2hcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJhY3Rpdml0eVwiXG4gICAgICAgICAgcGFnZUlkPVwiYWN0aXZpdHktMVwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvYWRtaW4vc2VjdGlvbnMvYnktcGFnZS9hY3Rpdml0eS9hY3Rpdml0eS0xJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGNvbXBvbmVudCByZW5kZXJzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEaXNwbGF5IE1vZGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBcIkdhbGxlcnkgR3JpZFwiIG1vZGUgaW5kaWNhdG9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzZWN0aW9ucyBmZXRjaFxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImFjdGl2aXR5XCJcbiAgICAgICAgICBwYWdlSWQ9XCJhY3Rpdml0eS0xXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGNvbXBvbmVudCB0byByZW5kZXJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlY3Rpb24tZWRpdG9yJyk7XG4gICAgICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBcIkNhcm91c2VsXCIgbW9kZSBpbmRpY2F0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1lZGl0b3InKTtcbiAgICAgICAgZXhwZWN0KGNvbXBvbmVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IFwiQXV0by1wbGF5IExvb3BcIiBtb2RlIGluZGljYXRvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2hcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJhY3Rpdml0eVwiXG4gICAgICAgICAgcGFnZUlkPVwiYWN0aXZpdHktMVwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMb2FkaW5nIFN0YXRlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgc2tlbGV0b24gcGxhY2Vob2xkZXJzIHdoaWxlIGxvYWRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgLy8gU2hvdWxkIHNob3cgbG9hZGluZyBzdGF0ZSBpbml0aWFsbHlcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlkZSBsb2FkaW5nIHN0YXRlIGFmdGVyIHBob3RvcyBsb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzZWN0aW9ucyBmZXRjaFxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImFjdGl2aXR5XCJcbiAgICAgICAgICBwYWdlSWQ9XCJhY3Rpdml0eS0xXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTG9hZGluZyBzdGF0ZSBzaG91bGQgYmUgZ29uZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1lZGl0b3InKTtcbiAgICAgICAgZXhwZWN0KGNvbXBvbmVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgU3RhdGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFQSSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgQVBJIGVycm9yXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBmYWlsZWQgcGhvdG8gZmV0Y2ggKDQwNCknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgbm90IGNyYXNoXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBvdXQgbnVsbCBwaG90b3MgZnJvbSBmYWlsZWQgcmVxdWVzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgb25seSBzaG93IHRoZSBzdWNjZXNzZnVsIHBob3RvXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFbXB0eSBTdGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgXCJObyBwaG90b3Mgc2VsZWN0ZWRcIiB3aGVuIG5vIHBob3RvcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2hcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJhY3Rpdml0eVwiXG4gICAgICAgICAgcGFnZUlkPVwiYWN0aXZpdHktMVwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICAvLyBXYWl0IGZvciBjb21wb25lbnQgdG8gcmVuZGVyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgZW1wdHkgc3RhdGUgd2hlbiBwaG90b0lkcyBhcnJheSBpcyBlbXB0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2hcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJhY3Rpdml0eVwiXG4gICAgICAgICAgcGFnZUlkPVwiYWN0aXZpdHktMVwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQaG90byBDYXB0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgcGhvdG8gY2FwdGlvbnMgd2hlbiBhdmFpbGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGhvdG9zIHdpdGhvdXQgY2FwdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIGZldGNoXG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIlxuICAgICAgICAgIHBhZ2VJZD1cImFjdGl2aXR5LTFcIlxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgbm90IGNyYXNoIHdpdGhvdXQgY2FwdGlvblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1lZGl0b3InKTtcbiAgICAgICAgZXhwZWN0KGNvbXBvbmVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gd2l0aCBTZWN0aW9uRWRpdG9yJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGhpbiBzZWN0aW9uIGVkaXRvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc2VjdGlvbnMgZmV0Y2hcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJhY3Rpdml0eVwiXG4gICAgICAgICAgcGFnZUlkPVwiYWN0aXZpdHktMVwiXG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLWVkaXRvcicpO1xuICAgICAgICBleHBlY3QoY29tcG9uZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSB3aGVuIHBob3RvIHNlbGVjdGlvbiBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBzZWN0aW9ucyBmZXRjaFxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImFjdGl2aXR5XCJcbiAgICAgICAgICBwYWdlSWQ9XCJhY3Rpdml0eS0xXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlY3Rpb24tZWRpdG9yJyk7XG4gICAgICAgIGV4cGVjdChjb21wb25lbnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3JjIiwiYWx0IiwiZmlsbCIsInByb3BzIiwiaW1nIiwiZm4iLCJDb21wb25lbnQiLCJ0aGVuIiwibW9kIiwiUGhvdG9QaWNrZXIiLCJvblNlbGVjdCIsIm9uQ2xvc2UiLCJkaXYiLCJkYXRhLXRlc3RpZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJSaWNoVGV4dEVkaXRvciIsInZhbHVlIiwib25DaGFuZ2UiLCJ0ZXh0YXJlYSIsImUiLCJ0YXJnZXQiLCJQaG90b0dhbGxlcnlTa2VsZXRvbiIsIkJ1dHRvbiIsImNoaWxkcmVuIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiZ2xvYmFsIiwiZmV0Y2giLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwiYWZ0ZXJFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiaWQiLCJwYWdlX3R5cGUiLCJwYWdlX2lkIiwidGl0bGUiLCJjb2x1bW5fMV9jb250ZW50IiwiY29sdW1uXzJfY29udGVudCIsInBob3RvX2dhbGxlcnlfaWRzIiwiZGlzcGxheV9vcmRlciIsImNvbHVtbnMiLCJwaG90b191cmwiLCJjYXB0aW9uIiwicmVuZGVyIiwiU2VjdGlvbkVkaXRvciIsInBhZ2VUeXBlIiwicGFnZUlkIiwid2FpdEZvciIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiY29tcG9uZW50Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiY29uc29sZVNweSIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm1vY2tSZXN0b3JlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQztBQUtELCtCQUErQjtBQUMvQkEsS0FBS0MsSUFBSSxDQUFDLGNBQWMsSUFBTyxDQUFBO1FBQzdCQyxZQUFZO1FBQ1pDLFNBQVMsQ0FBQyxFQUFFQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQVksR0FDekMscURBQXFEOzBCQUNyRCxxQkFBQ0M7Z0JBQUlKLEtBQUtBO2dCQUFLQyxLQUFLQTtnQkFBTSxHQUFHRSxLQUFLOztJQUV0QyxDQUFBO0FBRUEsdUJBQXVCO0FBQ3ZCUCxLQUFLQyxJQUFJLENBQUMsZ0JBQWdCLElBQU8sQ0FBQTtRQUMvQkMsWUFBWTtRQUNaQyxTQUFTLENBQUNNO1lBQ1IsTUFBTUMsWUFBWUQsS0FBS0UsSUFBSSxDQUFDLENBQUNDLE1BQWFBLElBQUlULE9BQU8sSUFBSVM7WUFDekQsT0FBT0Y7UUFDVDtJQUNGLENBQUE7QUFFQSxtQkFBbUI7QUFDbkJWLEtBQUtDLElBQUksQ0FBQyxpQkFBaUIsSUFBTyxDQUFBO1FBQ2hDWSxhQUFhLENBQUMsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQU8saUJBQ3RDLHNCQUFDQztnQkFBSUMsZUFBWTs7a0NBQ2YscUJBQUNDO3dCQUFPQyxTQUFTLElBQU1MLFNBQVM7Z0NB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