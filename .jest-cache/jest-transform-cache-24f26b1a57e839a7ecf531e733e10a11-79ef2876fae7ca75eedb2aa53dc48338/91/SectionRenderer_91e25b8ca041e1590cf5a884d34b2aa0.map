{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/SectionRenderer.tsx"],"sourcesContent":["'use client';\n\nimport { PhotoGallery } from './PhotoGallery';\nimport Link from 'next/link';\n\ninterface Column {\n  id: string;\n  section_id: string;\n  column_number: 1 | 2;\n  content_type: 'rich_text' | 'photo_gallery' | 'references';\n  content_data: any;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface Section {\n  id: string;\n  title?: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom' | 'home';\n  page_id: string;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n  columns: Column[];\n}\n\ninterface SectionRendererProps {\n  section: Section;\n  className?: string;\n}\n\n/**\n * SectionRenderer Component\n * \n * Renders a section with its columns on guest-facing pages.\n * Supports:\n * - Rich text content\n * - Photo galleries with display modes (gallery/carousel/loop)\n * - References to other entities\n * - Single or two-column layouts\n */\nexport function SectionRenderer({ section, className = '' }: SectionRendererProps) {\n  const isTwoColumn = section.columns.length === 2;\n\n  return (\n    <div className={`section ${className}`} data-testid={`section-${section.id}`}>\n      {/* Optional Section Title */}\n      {section.title && (\n        <h2 className=\"text-2xl font-bold text-jungle-800 mb-4\">{section.title}</h2>\n      )}\n\n      {/* Column Grid */}\n      <div\n        className={`grid gap-6 ${\n          isTwoColumn ? 'grid-cols-1 md:grid-cols-2' : 'grid-cols-1'\n        }`}\n      >\n        {section.columns.map((column) => (\n          <div key={column.id} data-testid={`column-${column.id}`} className=\"column\">\n            {/* Rich Text Content */}\n            {column.content_type === 'rich_text' && (\n              <div\n                className=\"prose prose-lg max-w-none text-gray-700\"\n                dangerouslySetInnerHTML={{ __html: column.content_data?.html || '' }}\n              />\n            )}\n\n            {/* Photo Gallery */}\n            {column.content_type === 'photo_gallery' && (\n              <PhotoGallery\n                photoIds={column.content_data?.photo_ids || []}\n                displayMode={column.content_data?.display_mode || 'gallery'}\n              />\n            )}\n\n            {/* References */}\n            {column.content_type === 'references' && (\n              <div className=\"space-y-3\" data-testid=\"references\">\n                {(column.content_data?.references || []).map((ref: any, index: number) => (\n                  <div\n                    key={index}\n                    data-testid={`reference-${index}`}\n                    className=\"border border-sage-200 rounded-lg p-4 hover:border-jungle-400 transition-colors\"\n                  >\n                    <div className=\"flex items-start justify-between\">\n                      <div>\n                        <span className=\"inline-block px-2 py-1 text-xs font-medium bg-sage-100 text-sage-700 rounded mb-2 reference-type\">\n                          {ref.type}\n                        </span>\n                        <h3 className=\"text-lg font-semibold text-jungle-800 reference-name\">\n                          {ref.name}\n                        </h3>\n                        {ref.description && (\n                          <p className=\"text-sm text-gray-600 mt-1\">{ref.description}</p>\n                        )}\n                      </div>\n                      {ref.id && (\n                        <Link\n                          href={`/${ref.type}/${ref.id}`}\n                          className=\"text-jungle-600 hover:text-jungle-700 text-sm font-medium\"\n                        >\n                          View â†’\n                        </Link>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["SectionRenderer","section","className","isTwoColumn","columns","length","div","data-testid","id","title","h2","map","column","content_type","dangerouslySetInnerHTML","__html","content_data","html","PhotoGallery","photoIds","photo_ids","displayMode","display_mode","references","ref","index","span","type","h3","name","description","p","Link","href"],"mappings":"AAAA;;;;;+BAyCgBA;;;eAAAA;;;;8BAvCa;6DACZ;;;;;;AAsCV,SAASA,gBAAgB,EAAEC,OAAO,EAAEC,YAAY,EAAE,EAAwB;IAC/E,MAAMC,cAAcF,QAAQG,OAAO,CAACC,MAAM,KAAK;IAE/C,qBACE,sBAACC;QAAIJ,WAAW,CAAC,QAAQ,EAAEA,WAAW;QAAEK,eAAa,CAAC,QAAQ,EAAEN,QAAQO,EAAE,EAAE;;YAEzEP,QAAQQ,KAAK,kBACZ,qBAACC;gBAAGR,WAAU;0BAA2CD,QAAQQ,KAAK;;0BAIxE,qBAACH;gBACCJ,WAAW,CAAC,WAAW,EACrBC,cAAc,+BAA+B,eAC7C;0BAEDF,QAAQG,OAAO,CAACO,GAAG,CAAC,CAACC,uBACpB,sBAACN;wBAAoBC,eAAa,CAAC,OAAO,EAAEK,OAAOJ,EAAE,EAAE;wBAAEN,WAAU;;4BAEhEU,OAAOC,YAAY,KAAK,6BACvB,qBAACP;gCACCJ,WAAU;gCACVY,yBAAyB;oCAAEC,QAAQH,OAAOI,YAAY,EAAEC,QAAQ;gCAAG;;4BAKtEL,OAAOC,YAAY,KAAK,iCACvB,qBAACK,0BAAY;gCACXC,UAAUP,OAAOI,YAAY,EAAEI,aAAa,EAAE;gCAC9CC,aAAaT,OAAOI,YAAY,EAAEM,gBAAgB;;4BAKrDV,OAAOC,YAAY,KAAK,8BACvB,qBAACP;gCAAIJ,WAAU;gCAAYK,eAAY;0CACpC,AAACK,CAAAA,OAAOI,YAAY,EAAEO,cAAc,EAAE,AAAD,EAAGZ,GAAG,CAAC,CAACa,KAAUC,sBACtD,qBAACnB;wCAECC,eAAa,CAAC,UAAU,EAAEkB,OAAO;wCACjCvB,WAAU;kDAEV,cAAA,sBAACI;4CAAIJ,WAAU;;8DACb,sBAACI;;sEACC,qBAACoB;4DAAKxB,WAAU;sEACbsB,IAAIG,IAAI;;sEAEX,qBAACC;4DAAG1B,WAAU;sEACXsB,IAAIK,IAAI;;wDAEVL,IAAIM,WAAW,kBACd,qBAACC;4DAAE7B,WAAU;sEAA8BsB,IAAIM,WAAW;;;;gDAG7DN,IAAIhB,EAAE,kBACL,qBAACwB,aAAI;oDACHC,MAAM,CAAC,CAAC,EAAET,IAAIG,IAAI,CAAC,CAAC,EAAEH,IAAIhB,EAAE,EAAE;oDAC9BN,WAAU;8DACX;;;;uCApBAuB;;;uBAtBLb,OAAOJ,EAAE;;;;AAwD7B"}