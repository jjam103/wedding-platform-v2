{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/TransportationForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport type { Guest } from '@/types';\n\ninterface TransportationFormProps {\n  guest: Guest;\n}\n\n/**\n * Transportation Form Component\n * \n * Allows guests to enter and update their flight information:\n * - Airport selection (SJO, LIR, Other)\n * - Flight number and airline\n * - Arrival and departure dates/times\n * \n * Requirements: 13.7, 10.1\n */\nexport function TransportationForm({ guest }: TransportationFormProps) {\n  const [formData, setFormData] = useState({\n    airport_code: guest.airport_code || 'SJO',\n    flight_number: guest.flight_number || '',\n    arrival_date: guest.arrival_date || '',\n    departure_date: guest.departure_date || '',\n  });\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      setSaving(true);\n      setError(null);\n      setSuccess(null);\n\n      const response = await fetch('/api/guest/transportation', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        setError(result.error?.message || 'Failed to update transportation information');\n        return;\n      }\n\n      setSuccess('Transportation information updated successfully!');\n      \n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 via-ocean-50 to-sunset-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-sage-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-jungle-700\">Transportation Information</h1>\n              <p className=\"text-sage-600 mt-1\">Manage your flight details</p>\n            </div>\n            <a\n              href=\"/guest/dashboard\"\n              className=\"text-ocean-600 hover:text-ocean-700 font-medium\"\n            >\n              ← Back to Dashboard\n            </a>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Success Message */}\n        {success && (\n          <div className=\"bg-jungle-50 border border-jungle-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-jungle-800\">✓ {success}</p>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"bg-volcano-50 border border-volcano-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-volcano-800\">✗ {error}</p>\n          </div>\n        )}\n\n        {/* Information Card */}\n        <div className=\"bg-ocean-50 border border-ocean-200 rounded-lg p-4 mb-6\">\n          <h2 className=\"font-semibold text-ocean-800 mb-2\">✈️ Costa Rica Airports</h2>\n          <ul className=\"text-sm text-ocean-700 space-y-1\">\n            <li>\n              <strong>SJO</strong> - Juan Santamaría International Airport (San José) - Main\n              international airport\n            </li>\n            <li>\n              <strong>LIR</strong> - Daniel Oduber Quirós International Airport (Liberia) -\n              Serves Guanacaste region\n            </li>\n            <li>\n              <strong>Other</strong> - For domestic flights or alternative arrangements\n            </li>\n          </ul>\n        </div>\n\n        {/* Transportation Form */}\n        <div className=\"bg-white rounded-lg shadow-md border border-sage-200 p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* Airport Selection */}\n            <div>\n              <label className=\"block text-sm font-medium text-sage-700 mb-2\">\n                Arrival Airport <span className=\"text-volcano-600\">*</span>\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setFormData({ ...formData, airport_code: 'SJO' })}\n                  className={`px-4 py-3 rounded-lg font-medium transition-colors border-2 ${\n                    formData.airport_code === 'SJO'\n                      ? 'bg-jungle-600 text-white border-jungle-600'\n                      : 'bg-white text-sage-700 border-sage-300 hover:border-jungle-400'\n                  }`}\n                >\n                  <div className=\"text-lg font-bold\">SJO</div>\n                  <div className=\"text-xs mt-1\">San José</div>\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setFormData({ ...formData, airport_code: 'LIR' })}\n                  className={`px-4 py-3 rounded-lg font-medium transition-colors border-2 ${\n                    formData.airport_code === 'LIR'\n                      ? 'bg-jungle-600 text-white border-jungle-600'\n                      : 'bg-white text-sage-700 border-sage-300 hover:border-jungle-400'\n                  }`}\n                >\n                  <div className=\"text-lg font-bold\">LIR</div>\n                  <div className=\"text-xs mt-1\">Liberia</div>\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setFormData({ ...formData, airport_code: 'Other' })}\n                  className={`px-4 py-3 rounded-lg font-medium transition-colors border-2 ${\n                    formData.airport_code === 'Other'\n                      ? 'bg-jungle-600 text-white border-jungle-600'\n                      : 'bg-white text-sage-700 border-sage-300 hover:border-jungle-400'\n                  }`}\n                >\n                  <div className=\"text-lg font-bold\">Other</div>\n                  <div className=\"text-xs mt-1\">Domestic</div>\n                </button>\n              </div>\n            </div>\n\n            {/* Flight Number */}\n            <div>\n              <label htmlFor=\"flight_number\" className=\"block text-sm font-medium text-sage-700 mb-1\">\n                Flight Number\n              </label>\n              <input\n                type=\"text\"\n                id=\"flight_number\"\n                value={formData.flight_number}\n                onChange={(e) => setFormData({ ...formData, flight_number: e.target.value })}\n                className=\"w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500\"\n                placeholder=\"e.g., AA1234, UA567\"\n              />\n              <p className=\"text-xs text-sage-500 mt-1\">\n                Optional - helps us coordinate airport pickups\n              </p>\n            </div>\n\n            {/* Arrival Date */}\n            <div>\n              <label htmlFor=\"arrival_date\" className=\"block text-sm font-medium text-sage-700 mb-1\">\n                Arrival Date & Time\n              </label>\n              <input\n                type=\"datetime-local\"\n                id=\"arrival_date\"\n                value={formData.arrival_date}\n                onChange={(e) => setFormData({ ...formData, arrival_date: e.target.value })}\n                className=\"w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500\"\n              />\n              <p className=\"text-xs text-sage-500 mt-1\">\n                When do you arrive in Costa Rica?\n              </p>\n            </div>\n\n            {/* Departure Date */}\n            <div>\n              <label htmlFor=\"departure_date\" className=\"block text-sm font-medium text-sage-700 mb-1\">\n                Departure Date & Time\n              </label>\n              <input\n                type=\"datetime-local\"\n                id=\"departure_date\"\n                value={formData.departure_date}\n                onChange={(e) => setFormData({ ...formData, departure_date: e.target.value })}\n                className=\"w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500\"\n              />\n              <p className=\"text-xs text-sage-500 mt-1\">\n                When do you depart from Costa Rica?\n              </p>\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"flex items-center space-x-3 pt-4\">\n              <button\n                type=\"submit\"\n                disabled={saving}\n                className=\"bg-jungle-600 hover:bg-jungle-700 disabled:bg-sage-400 text-white font-medium py-3 px-8 rounded-lg transition-colors\"\n              >\n                {saving ? 'Saving...' : 'Save Transportation Info'}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Help Text */}\n        <div className=\"mt-6 bg-sage-50 border border-sage-200 rounded-lg p-4\">\n          <h3 className=\"font-semibold text-sage-800 mb-2\">Need Help?</h3>\n          <p className=\"text-sm text-sage-700\">\n            This information helps us coordinate airport shuttles and transportation logistics.\n            If you're not sure about your flight details yet, you can update this information\n            later. Contact the wedding hosts if you have any questions.\n          </p>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":["TransportationForm","guest","formData","setFormData","useState","airport_code","flight_number","arrival_date","departure_date","saving","setSaving","error","setError","success","setSuccess","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","result","json","message","setTimeout","err","Error","div","className","header","h1","p","a","href","main","h2","ul","li","strong","form","onSubmit","label","span","button","type","onClick","htmlFor","input","id","value","onChange","target","placeholder","disabled","h3"],"mappings":"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"}