f5823f6fc6d3e46a4e600d6d4944a557
/**
 * Unit Tests: POST /api/admin/guests/bulk-auth-method
 * 
 * Tests the API route for bulk updating guest auth methods
 * 
 * Requirements: 22.7
 */ "use strict";
// Mock Supabase
jest.mock('@/lib/supabaseServer');
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _route = require("./route");
const _supabaseServer = require("../../../../../lib/supabaseServer");
describe('POST /api/admin/guests/bulk-auth-method', ()=>{
    const mockSupabase = {
        auth: {
            getSession: jest.fn()
        },
        from: jest.fn()
    };
    beforeEach(()=>{
        jest.clearAllMocks();
        _supabaseServer.createAuthenticatedClient.mockResolvedValue(mockSupabase);
    });
    it('should update multiple guests successfully', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const mockUpdate = jest.fn().mockReturnValue({
            in: jest.fn().mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'guest-1',
                            auth_method: 'magic_link',
                            email: 'test1@example.com',
                            first_name: 'Test',
                            last_name: 'User1'
                        },
                        {
                            id: 'guest-2',
                            auth_method: 'magic_link',
                            email: 'test2@example.com',
                            first_name: 'Test',
                            last_name: 'User2'
                        }
                    ],
                    error: null
                })
            })
        });
        mockSupabase.from.mockReturnValue({
            update: mockUpdate
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    'guest-1',
                    'guest-2'
                ],
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(200);
        expect(result.success).toBe(true);
        expect(result.data.updated_count).toBe(2);
        expect(result.data.guests).toHaveLength(2);
    });
    it('should return 400 for empty guest_ids array', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [],
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(400);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('VALIDATION_ERROR');
    });
    it('should return 400 for too many guest IDs', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const tooManyIds = Array.from({
            length: 101
        }, ()=>'00000000-0000-0000-0000-000000000000');
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: tooManyIds,
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(400);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('VALIDATION_ERROR');
    });
    it('should return 400 for invalid guest ID format', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    'invalid-id',
                    'another-invalid'
                ],
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(400);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('VALIDATION_ERROR');
    });
    it('should return 400 for invalid auth method', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    '00000000-0000-0000-0000-000000000000'
                ],
                auth_method: 'invalid_method'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(400);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('VALIDATION_ERROR');
    });
    it('should return 401 when not authenticated', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: null
            },
            error: null
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    'guest-1'
                ],
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(401);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('UNAUTHORIZED');
    });
    it('should return 500 for database errors', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const mockUpdate = jest.fn().mockReturnValue({
            in: jest.fn().mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: null,
                    error: {
                        code: 'DATABASE_ERROR',
                        message: 'Database connection failed'
                    }
                })
            })
        });
        mockSupabase.from.mockReturnValue({
            update: mockUpdate
        });
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    'guest-1',
                    'guest-2'
                ],
                auth_method: 'magic_link'
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(500);
        expect(result.success).toBe(false);
        expect(result.error.code).toBe('DATABASE_ERROR');
    });
    it('should handle send_notification flag', async ()=>{
        mockSupabase.auth.getSession.mockResolvedValue({
            data: {
                session: {
                    user: {
                        id: 'admin-123'
                    }
                }
            },
            error: null
        });
        const mockUpdate = jest.fn().mockReturnValue({
            in: jest.fn().mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: [
                        {
                            id: 'guest-1',
                            auth_method: 'magic_link',
                            email: 'test1@example.com',
                            first_name: 'Test',
                            last_name: 'User1'
                        }
                    ],
                    error: null
                })
            })
        });
        mockSupabase.from.mockReturnValue({
            update: mockUpdate
        });
        const consoleSpy = jest.spyOn(console, 'log').mockImplementation();
        const request = new Request('http://localhost:3000/api/admin/guests/bulk-auth-method', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                guest_ids: [
                    'guest-1'
                ],
                auth_method: 'magic_link',
                send_notification: true
            })
        });
        const response = await (0, _route.POST)(request);
        const result = await response.json();
        expect(response.status).toBe(200);
        expect(result.success).toBe(true);
        expect(consoleSpy).toHaveBeenCalledWith(expect.stringContaining('Would send notifications to 1 guests'));
        consoleSpy.mockRestore();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9ndWVzdHMvYnVsay1hdXRoLW1ldGhvZC9yb3V0ZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0czogUE9TVCAvYXBpL2FkbWluL2d1ZXN0cy9idWxrLWF1dGgtbWV0aG9kXG4gKiBcbiAqIFRlc3RzIHRoZSBBUEkgcm91dGUgZm9yIGJ1bGsgdXBkYXRpbmcgZ3Vlc3QgYXV0aCBtZXRob2RzXG4gKiBcbiAqIFJlcXVpcmVtZW50czogMjIuN1xuICovXG5cbmltcG9ydCB7IFBPU1QgfSBmcm9tICcuL3JvdXRlJztcbmltcG9ydCB7IGNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZVNlcnZlcic7XG5cbi8vIE1vY2sgU3VwYWJhc2Vcbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2VTZXJ2ZXInKTtcblxuZGVzY3JpYmUoJ1BPU1QgL2FwaS9hZG1pbi9ndWVzdHMvYnVsay1hdXRoLW1ldGhvZCcsICgpID0+IHtcbiAgY29uc3QgbW9ja1N1cGFiYXNlID0ge1xuICAgIGF1dGg6IHtcbiAgICAgIGdldFNlc3Npb246IGplc3QuZm4oKSxcbiAgICB9LFxuICAgIGZyb206IGplc3QuZm4oKSxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAoY3JlYXRlQXV0aGVudGljYXRlZENsaWVudCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdXBkYXRlIG11bHRpcGxlIGd1ZXN0cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ2FkbWluLTEyMycgfSB9IH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGluOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgIHsgaWQ6ICdndWVzdC0xJywgYXV0aF9tZXRob2Q6ICdtYWdpY19saW5rJywgZW1haWw6ICd0ZXN0MUBleGFtcGxlLmNvbScsIGZpcnN0X25hbWU6ICdUZXN0JywgbGFzdF9uYW1lOiAnVXNlcjEnIH0sXG4gICAgICAgICAgICB7IGlkOiAnZ3Vlc3QtMicsIGF1dGhfbWV0aG9kOiAnbWFnaWNfbGluaycsIGVtYWlsOiAndGVzdDJAZXhhbXBsZS5jb20nLCBmaXJzdF9uYW1lOiAnVGVzdCcsIGxhc3RfbmFtZTogJ1VzZXIyJyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgdXBkYXRlOiBtb2NrVXBkYXRlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2d1ZXN0cy9idWxrLWF1dGgtbWV0aG9kJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZ3Vlc3RfaWRzOiBbJ2d1ZXN0LTEnLCAnZ3Vlc3QtMiddLFxuICAgICAgICBhdXRoX21ldGhvZDogJ21hZ2ljX2xpbmsnLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0LmRhdGEudXBkYXRlZF9jb3VudCkudG9CZSgyKTtcbiAgICBleHBlY3QocmVzdWx0LmRhdGEuZ3Vlc3RzKS50b0hhdmVMZW5ndGgoMik7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgZW1wdHkgZ3Vlc3RfaWRzIGFycmF5JywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyBzZXNzaW9uOiB7IHVzZXI6IHsgaWQ6ICdhZG1pbi0xMjMnIH0gfSB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZ3Vlc3RzL2J1bGstYXV0aC1tZXRob2QnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBndWVzdF9pZHM6IFtdLFxuICAgICAgICBhdXRoX21ldGhvZDogJ21hZ2ljX2xpbmsnLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgdG9vIG1hbnkgZ3Vlc3QgSURzJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyBzZXNzaW9uOiB7IHVzZXI6IHsgaWQ6ICdhZG1pbi0xMjMnIH0gfSB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSk7XG5cbiAgICBjb25zdCB0b29NYW55SWRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAxIH0sICgpID0+ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnKTtcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9ndWVzdHMvYnVsay1hdXRoLW1ldGhvZCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGd1ZXN0X2lkczogdG9vTWFueUlkcyxcbiAgICAgICAgYXV0aF9tZXRob2Q6ICdtYWdpY19saW5rJyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIGludmFsaWQgZ3Vlc3QgSUQgZm9ybWF0JywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyBzZXNzaW9uOiB7IHVzZXI6IHsgaWQ6ICdhZG1pbi0xMjMnIH0gfSB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZ3Vlc3RzL2J1bGstYXV0aC1tZXRob2QnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBndWVzdF9pZHM6IFsnaW52YWxpZC1pZCcsICdhbm90aGVyLWludmFsaWQnXSxcbiAgICAgICAgYXV0aF9tZXRob2Q6ICdtYWdpY19saW5rJyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJldHVybiA0MDAgZm9yIGludmFsaWQgYXV0aCBtZXRob2QnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ2FkbWluLTEyMycgfSB9IH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9ndWVzdHMvYnVsay1hdXRoLW1ldGhvZCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGd1ZXN0X2lkczogWycwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnXSxcbiAgICAgICAgYXV0aF9tZXRob2Q6ICdpbnZhbGlkX21ldGhvZCcsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHNlc3Npb246IG51bGwgfSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL2d1ZXN0cy9idWxrLWF1dGgtbWV0aG9kJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZ3Vlc3RfaWRzOiBbJ2d1ZXN0LTEnXSxcbiAgICAgICAgYXV0aF9tZXRob2Q6ICdtYWdpY19saW5rJyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmV0dXJuIDUwMCBmb3IgZGF0YWJhc2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZGF0YTogeyBzZXNzaW9uOiB7IHVzZXI6IHsgaWQ6ICdhZG1pbi0xMjMnIH0gfSB9LFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSk7XG5cbiAgICBjb25zdCBtb2NrVXBkYXRlID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBpbjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGVycm9yOiB7IGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfSxcbiAgICAgICAgfSksXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICB1cGRhdGU6IG1vY2tVcGRhdGUsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZ3Vlc3RzL2J1bGstYXV0aC1tZXRob2QnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBndWVzdF9pZHM6IFsnZ3Vlc3QtMScsICdndWVzdC0yJ10sXG4gICAgICAgIGF1dGhfbWV0aG9kOiAnbWFnaWNfbGluaycsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIHNlbmRfbm90aWZpY2F0aW9uIGZsYWcnLCBhc3luYyAoKSA9PiB7XG4gICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBkYXRhOiB7IHNlc3Npb246IHsgdXNlcjogeyBpZDogJ2FkbWluLTEyMycgfSB9IH0sXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9KTtcblxuICAgIGNvbnN0IG1vY2tVcGRhdGUgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGluOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgIHsgaWQ6ICdndWVzdC0xJywgYXV0aF9tZXRob2Q6ICdtYWdpY19saW5rJywgZW1haWw6ICd0ZXN0MUBleGFtcGxlLmNvbScsIGZpcnN0X25hbWU6ICdUZXN0JywgbGFzdF9uYW1lOiAnVXNlcjEnIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSksXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICB1cGRhdGU6IG1vY2tVcGRhdGUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnbG9nJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vZ3Vlc3RzL2J1bGstYXV0aC1tZXRob2QnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBndWVzdF9pZHM6IFsnZ3Vlc3QtMSddLFxuICAgICAgICBhdXRoX21ldGhvZDogJ21hZ2ljX2xpbmsnLFxuICAgICAgICBzZW5kX25vdGlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KGNvbnNvbGVTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1dvdWxkIHNlbmQgbm90aWZpY2F0aW9ucyB0byAxIGd1ZXN0cycpXG4gICAgKTtcblxuICAgIGNvbnNvbGVTcHkubW9ja1Jlc3RvcmUoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImRlc2NyaWJlIiwibW9ja1N1cGFiYXNlIiwiYXV0aCIsImdldFNlc3Npb24iLCJmbiIsImZyb20iLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImNyZWF0ZUF1dGhlbnRpY2F0ZWRDbGllbnQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIml0IiwiZGF0YSIsInNlc3Npb24iLCJ1c2VyIiwiaWQiLCJlcnJvciIsIm1vY2tVcGRhdGUiLCJtb2NrUmV0dXJuVmFsdWUiLCJpbiIsInNlbGVjdCIsImF1dGhfbWV0aG9kIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwidXBkYXRlIiwicmVxdWVzdCIsIlJlcXVlc3QiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJndWVzdF9pZHMiLCJyZXNwb25zZSIsIlBPU1QiLCJyZXN1bHQiLCJqc29uIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsInN1Y2Nlc3MiLCJ1cGRhdGVkX2NvdW50IiwiZ3Vlc3RzIiwidG9IYXZlTGVuZ3RoIiwiY29kZSIsInRvb01hbnlJZHMiLCJBcnJheSIsImxlbmd0aCIsIm1lc3NhZ2UiLCJjb25zb2xlU3B5Iiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwic2VuZF9ub3RpZmljYXRpb24iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJtb2NrUmVzdG9yZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztDQU1DO0FBS0QsZ0JBQWdCO0FBQ2hCQSxLQUFLQyxJQUFJLENBQUM7Ozs7dUJBSlc7Z0NBQ3FCO0FBSzFDQyxTQUFTLDJDQUEyQztJQUNsRCxNQUFNQyxlQUFlO1FBQ25CQyxNQUFNO1lBQ0pDLFlBQVlMLEtBQUtNLEVBQUU7UUFDckI7UUFDQUMsTUFBTVAsS0FBS00sRUFBRTtJQUNmO0lBRUFFLFdBQVc7UUFDVFIsS0FBS1MsYUFBYTtRQUNqQkMseUNBQXlCLENBQWVDLGlCQUFpQixDQUFDUjtJQUM3RDtJQUVBUyxHQUFHLDhDQUE4QztRQUMvQ1QsYUFBYUMsSUFBSSxDQUFDQyxVQUFVLENBQUNNLGlCQUFpQixDQUFDO1lBQzdDRSxNQUFNO2dCQUFFQyxTQUFTO29CQUFFQyxNQUFNO3dCQUFFQyxJQUFJO29CQUFZO2dCQUFFO1lBQUU7WUFDL0NDLE9BQU87UUFDVDtRQUVBLE1BQU1DLGFBQWFsQixLQUFLTSxFQUFFLEdBQUdhLGVBQWUsQ0FBQztZQUMzQ0MsSUFBSXBCLEtBQUtNLEVBQUUsR0FBR2EsZUFBZSxDQUFDO2dCQUM1QkUsUUFBUXJCLEtBQUtNLEVBQUUsR0FBR0ssaUJBQWlCLENBQUM7b0JBQ2xDRSxNQUFNO3dCQUNKOzRCQUFFRyxJQUFJOzRCQUFXTSxhQUFhOzRCQUFjQyxPQUFPOzRCQUFxQkMsWUFBWTs0QkFBUUMsV0FBVzt3QkFBUTt3QkFDL0c7NEJBQUVULElBQUk7NEJBQVdNLGFBQWE7NEJBQWNDLE9BQU87NEJBQXFCQyxZQUFZOzRCQUFRQyxXQUFXO3dCQUFRO3FCQUNoSDtvQkFDRFIsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7UUFFQWQsYUFBYUksSUFBSSxDQUFDWSxlQUFlLENBQUM7WUFDaENPLFFBQVFSO1FBQ1Y7UUFFQSxNQUFNUyxVQUFVLElBQUlDLFFBQVEsMkRBQTJEO1lBQ3JGQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQUUsZ0JB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