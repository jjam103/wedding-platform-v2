{"version":3,"names":["PERFORMANCE_THRESHOLDS","cov_1qvwdffky5","f","s","initPerformanceMonitoring","measureApiRequest","measureDbQuery","measurePerformance","performanceMonitor","reportWebVitals","FCP","LCP","FID","CLS","TTFB","API_RESPONSE","DB_QUERY","INITIAL_BUNDLE","TOTAL_PAGE_WEIGHT","PerformanceMonitor","constructor","metrics","isEnabled","b","window","process","env","NODE_ENV","recordMetric","name","value","metadata","metric","timestamp","Date","now","push","va","console","log","checkThreshold","thresholdKey","toUpperCase","replace","threshold","warn","sendAlert","Sentry","captureMessage","level","extra","getMetrics","clearMetrics","getSummary","summary","forEach","count","avg","min","Infinity","max","Math","fn","start","performance","result","Promise","then","duration","url","fetchFn","error","String","queryName","queryFn","query","id","toLowerCase","navObserver","PerformanceObserver","list","entry","getEntries","entryType","navEntry","responseStart","requestStart","domContentLoadedEventEnd","domContentLoadedEventStart","loadEventEnd","loadEventStart","observe","entryTypes","resourceObserver","resourceEntry","type","initiatorType"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/lib/performanceMonitoring.ts"],"sourcesContent":["/**\n * Performance Monitoring Configuration\n * \n * Configures performance monitoring with Vercel Analytics and custom logging.\n * Requirements: 19.1, 19.2\n */\n\n// Performance metrics interface\nexport interface PerformanceMetric {\n  name: string;\n  value: number;\n  timestamp: number;\n  metadata?: Record<string, any>;\n}\n\n// Performance thresholds\nexport const PERFORMANCE_THRESHOLDS = {\n  // Page load metrics (Core Web Vitals)\n  FCP: 1500, // First Contentful Paint (ms)\n  LCP: 2500, // Largest Contentful Paint (ms)\n  FID: 100, // First Input Delay (ms)\n  CLS: 0.1, // Cumulative Layout Shift (score)\n  TTFB: 600, // Time to First Byte (ms)\n  \n  // API response times (p95)\n  API_RESPONSE: 500, // ms\n  \n  // Database query times (p95)\n  DB_QUERY: 100, // ms\n  \n  // Bundle sizes\n  INITIAL_BUNDLE: 200 * 1024, // 200KB\n  TOTAL_PAGE_WEIGHT: 1024 * 1024, // 1MB\n} as const;\n\n// Performance monitoring class\nclass PerformanceMonitor {\n  private metrics: PerformanceMetric[] = [];\n  private isEnabled: boolean;\n\n  constructor() {\n    this.isEnabled = typeof window !== 'undefined' && process.env.NODE_ENV === 'production';\n  }\n\n  /**\n   * Record a performance metric\n   */\n  recordMetric(name: string, value: number, metadata?: Record<string, any>): void {\n    if (!this.isEnabled) return;\n\n    const metric: PerformanceMetric = {\n      name,\n      value,\n      timestamp: Date.now(),\n      metadata,\n    };\n\n    this.metrics.push(metric);\n\n    // Send to analytics if available\n    if (typeof window !== 'undefined' && (window as any).va) {\n      (window as any).va('track', name, { value, ...metadata });\n    }\n\n    // Log to console in development\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`[Performance] ${name}: ${value}ms`, metadata);\n    }\n\n    // Check against thresholds\n    this.checkThreshold(name, value);\n  }\n\n  /**\n   * Check if metric exceeds threshold\n   */\n  private checkThreshold(name: string, value: number): void {\n    const thresholdKey = name.toUpperCase().replace(/[^A-Z_]/g, '_') as keyof typeof PERFORMANCE_THRESHOLDS;\n    const threshold = PERFORMANCE_THRESHOLDS[thresholdKey];\n\n    if (threshold && value > threshold) {\n      console.warn(`[Performance] ${name} exceeded threshold: ${value} > ${threshold}`);\n      \n      // Send alert if configured\n      this.sendAlert(name, value, threshold);\n    }\n  }\n\n  /**\n   * Send performance alert\n   */\n  private sendAlert(name: string, value: number, threshold: number): void {\n    // In production, this would send to monitoring service\n    if (process.env.NODE_ENV === 'production') {\n      // Send to Sentry or other monitoring service\n      if (typeof window !== 'undefined' && (window as any).Sentry) {\n        (window as any).Sentry.captureMessage(`Performance threshold exceeded: ${name}`, {\n          level: 'warning',\n          extra: { value, threshold },\n        });\n      }\n    }\n  }\n\n  /**\n   * Get all recorded metrics\n   */\n  getMetrics(): PerformanceMetric[] {\n    return [...this.metrics];\n  }\n\n  /**\n   * Clear all metrics\n   */\n  clearMetrics(): void {\n    this.metrics = [];\n  }\n\n  /**\n   * Get metrics summary\n   */\n  getSummary(): Record<string, { count: number; avg: number; min: number; max: number }> {\n    const summary: Record<string, { count: number; avg: number; min: number; max: number }> = {};\n\n    this.metrics.forEach(metric => {\n      if (!summary[metric.name]) {\n        summary[metric.name] = {\n          count: 0,\n          avg: 0,\n          min: Infinity,\n          max: -Infinity,\n        };\n      }\n\n      const s = summary[metric.name];\n      s.count++;\n      s.avg = (s.avg * (s.count - 1) + metric.value) / s.count;\n      s.min = Math.min(s.min, metric.value);\n      s.max = Math.max(s.max, metric.value);\n    });\n\n    return summary;\n  }\n}\n\n// Singleton instance\nexport const performanceMonitor = new PerformanceMonitor();\n\n/**\n * Measure function execution time\n */\nexport function measurePerformance<T>(\n  name: string,\n  fn: () => T | Promise<T>,\n  metadata?: Record<string, any>\n): T | Promise<T> {\n  const start = performance.now();\n\n  const result = fn();\n\n  if (result instanceof Promise) {\n    return result.then(value => {\n      const duration = performance.now() - start;\n      performanceMonitor.recordMetric(name, duration, metadata);\n      return value;\n    });\n  }\n\n  const duration = performance.now() - start;\n  performanceMonitor.recordMetric(name, duration, metadata);\n  return result;\n}\n\n/**\n * Measure API request performance\n */\nexport async function measureApiRequest<T>(\n  url: string,\n  fetchFn: () => Promise<T>\n): Promise<T> {\n  const start = performance.now();\n\n  try {\n    const result = await fetchFn();\n    const duration = performance.now() - start;\n    \n    performanceMonitor.recordMetric('api_response', duration, { url });\n    \n    return result;\n  } catch (error) {\n    const duration = performance.now() - start;\n    performanceMonitor.recordMetric('api_error', duration, { url, error: String(error) });\n    throw error;\n  }\n}\n\n/**\n * Measure database query performance\n */\nexport async function measureDbQuery<T>(\n  queryName: string,\n  queryFn: () => Promise<T>\n): Promise<T> {\n  const start = performance.now();\n\n  try {\n    const result = await queryFn();\n    const duration = performance.now() - start;\n    \n    performanceMonitor.recordMetric('db_query', duration, { query: queryName });\n    \n    return result;\n  } catch (error) {\n    const duration = performance.now() - start;\n    performanceMonitor.recordMetric('db_error', duration, { query: queryName, error: String(error) });\n    throw error;\n  }\n}\n\n/**\n * Report Web Vitals to analytics\n */\nexport function reportWebVitals(metric: any): void {\n  if (typeof window === 'undefined') return;\n\n  const { name, value, id } = metric;\n\n  // Record in our monitoring system\n  performanceMonitor.recordMetric(name.toLowerCase(), value, { id });\n\n  // Send to Vercel Analytics if available\n  if ((window as any).va) {\n    (window as any).va('track', name, { value, id });\n  }\n\n  // Log in development\n  if (process.env.NODE_ENV === 'development') {\n    console.log(`[Web Vitals] ${name}: ${value}`, { id });\n  }\n}\n\n/**\n * Initialize performance monitoring\n */\nexport function initPerformanceMonitoring(): void {\n  if (typeof window === 'undefined') return;\n\n  // Monitor page load performance\n  if ('PerformanceObserver' in window) {\n    // Monitor navigation timing\n    const navObserver = new PerformanceObserver((list) => {\n      for (const entry of list.getEntries()) {\n        if (entry.entryType === 'navigation') {\n          const navEntry = entry as PerformanceNavigationTiming;\n          \n          performanceMonitor.recordMetric('ttfb', navEntry.responseStart - navEntry.requestStart);\n          performanceMonitor.recordMetric('dom_content_loaded', navEntry.domContentLoadedEventEnd - navEntry.domContentLoadedEventStart);\n          performanceMonitor.recordMetric('load_complete', navEntry.loadEventEnd - navEntry.loadEventStart);\n        }\n      }\n    });\n\n    navObserver.observe({ entryTypes: ['navigation'] });\n\n    // Monitor resource timing\n    const resourceObserver = new PerformanceObserver((list) => {\n      for (const entry of list.getEntries()) {\n        if (entry.entryType === 'resource') {\n          const resourceEntry = entry as PerformanceResourceTiming;\n          \n          performanceMonitor.recordMetric('resource_load', resourceEntry.duration, {\n            name: resourceEntry.name,\n            type: resourceEntry.initiatorType,\n          });\n        }\n      }\n    });\n\n    resourceObserver.observe({ entryTypes: ['resource'] });\n  }\n\n  // Log initialization\n  console.log('[Performance Monitoring] Initialized');\n}\n\n// Auto-initialize in browser\nif (typeof window !== 'undefined') {\n  initPerformanceMonitoring();\n}\n"],"mappings":"AAAA;;;;;GAAA,CAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}