86b36ba5378d8f372ad8dd2135fcd660
/**
 * Tests for Test Tagging System
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _testTags = require("./testTags");
describe('Test Tagging System', ()=>{
    describe('getTagsFromTestName', ()=>{
        it('should extract single tag from test name', ()=>{
            const testName = 'should create guest @tag:unit';
            const tags = (0, _testTags.getTagsFromTestName)(testName);
            expect(tags).toEqual([
                'unit'
            ]);
        });
        it('should extract multiple tags from test name', ()=>{
            const testName = 'should create guest @tag:unit @tag:fast @tag:critical';
            const tags = (0, _testTags.getTagsFromTestName)(testName);
            expect(tags).toEqual([
                'unit',
                'fast',
                'critical'
            ]);
        });
        it('should return empty array for test with no tags', ()=>{
            const testName = 'should create guest';
            const tags = (0, _testTags.getTagsFromTestName)(testName);
            expect(tags).toEqual([]);
        });
        it('should handle tags in middle of test name', ()=>{
            const testName = 'should @tag:unit create @tag:fast guest';
            const tags = (0, _testTags.getTagsFromTestName)(testName);
            expect(tags).toEqual([
                'unit',
                'fast'
            ]);
        });
    });
    describe('hasTag', ()=>{
        it('should return true when test has tag', ()=>{
            const testName = 'should create guest @tag:unit @tag:fast';
            expect((0, _testTags.hasTag)(testName, 'unit')).toBe(true);
            expect((0, _testTags.hasTag)(testName, 'fast')).toBe(true);
        });
        it('should return false when test does not have tag', ()=>{
            const testName = 'should create guest @tag:unit';
            expect((0, _testTags.hasTag)(testName, 'slow')).toBe(false);
            expect((0, _testTags.hasTag)(testName, 'integration')).toBe(false);
        });
    });
    describe('hasAnyTag', ()=>{
        it('should return true when test has any of the tags', ()=>{
            const testName = 'should create guest @tag:unit @tag:fast';
            expect((0, _testTags.hasAnyTag)(testName, [
                'unit',
                'slow'
            ])).toBe(true);
            expect((0, _testTags.hasAnyTag)(testName, [
                'fast',
                'integration'
            ])).toBe(true);
        });
        it('should return false when test has none of the tags', ()=>{
            const testName = 'should create guest @tag:unit';
            expect((0, _testTags.hasAnyTag)(testName, [
                'slow',
                'integration'
            ])).toBe(false);
        });
    });
    describe('hasAllTags', ()=>{
        it('should return true when test has all tags', ()=>{
            const testName = 'should create guest @tag:unit @tag:fast @tag:critical';
            expect((0, _testTags.hasAllTags)(testName, [
                'unit',
                'fast'
            ])).toBe(true);
            expect((0, _testTags.hasAllTags)(testName, [
                'unit',
                'fast',
                'critical'
            ])).toBe(true);
        });
        it('should return false when test is missing some tags', ()=>{
            const testName = 'should create guest @tag:unit @tag:fast';
            expect((0, _testTags.hasAllTags)(testName, [
                'unit',
                'fast',
                'critical'
            ])).toBe(false);
            expect((0, _testTags.hasAllTags)(testName, [
                'unit',
                'slow'
            ])).toBe(false);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2hlbHBlcnMvdGVzdFRhZ3MudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3RzIGZvciBUZXN0IFRhZ2dpbmcgU3lzdGVtXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0VGFnc0Zyb21UZXN0TmFtZSxcbiAgaGFzVGFnLFxuICBoYXNBbnlUYWcsXG4gIGhhc0FsbFRhZ3MsXG4gIHR5cGUgVGVzdFRhZyxcbn0gZnJvbSAnLi90ZXN0VGFncyc7XG5cbmRlc2NyaWJlKCdUZXN0IFRhZ2dpbmcgU3lzdGVtJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZ2V0VGFnc0Zyb21UZXN0TmFtZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4dHJhY3Qgc2luZ2xlIHRhZyBmcm9tIHRlc3QgbmFtZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBjcmVhdGUgZ3Vlc3QgQHRhZzp1bml0JztcbiAgICAgIGNvbnN0IHRhZ3MgPSBnZXRUYWdzRnJvbVRlc3ROYW1lKHRlc3ROYW1lKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHRhZ3MpLnRvRXF1YWwoWyd1bml0J10pO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgZXh0cmFjdCBtdWx0aXBsZSB0YWdzIGZyb20gdGVzdCBuYW1lJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdE5hbWUgPSAnc2hvdWxkIGNyZWF0ZSBndWVzdCBAdGFnOnVuaXQgQHRhZzpmYXN0IEB0YWc6Y3JpdGljYWwnO1xuICAgICAgY29uc3QgdGFncyA9IGdldFRhZ3NGcm9tVGVzdE5hbWUodGVzdE5hbWUpO1xuICAgICAgXG4gICAgICBleHBlY3QodGFncykudG9FcXVhbChbJ3VuaXQnLCAnZmFzdCcsICdjcml0aWNhbCddKTtcbiAgICB9KTtcbiAgICBcbiAgICBpdCgnc2hvdWxkIHJldHVybiBlbXB0eSBhcnJheSBmb3IgdGVzdCB3aXRoIG5vIHRhZ3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0TmFtZSA9ICdzaG91bGQgY3JlYXRlIGd1ZXN0JztcbiAgICAgIGNvbnN0IHRhZ3MgPSBnZXRUYWdzRnJvbVRlc3ROYW1lKHRlc3ROYW1lKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHRhZ3MpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRhZ3MgaW4gbWlkZGxlIG9mIHRlc3QgbmFtZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBAdGFnOnVuaXQgY3JlYXRlIEB0YWc6ZmFzdCBndWVzdCc7XG4gICAgICBjb25zdCB0YWdzID0gZ2V0VGFnc0Zyb21UZXN0TmFtZSh0ZXN0TmFtZSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0YWdzKS50b0VxdWFsKFsndW5pdCcsICdmYXN0J10pO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdoYXNUYWcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSB3aGVuIHRlc3QgaGFzIHRhZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBjcmVhdGUgZ3Vlc3QgQHRhZzp1bml0IEB0YWc6ZmFzdCc7XG4gICAgICBcbiAgICAgIGV4cGVjdChoYXNUYWcodGVzdE5hbWUsICd1bml0JykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoaGFzVGFnKHRlc3ROYW1lLCAnZmFzdCcpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gdGVzdCBkb2VzIG5vdCBoYXZlIHRhZycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBjcmVhdGUgZ3Vlc3QgQHRhZzp1bml0JztcbiAgICAgIFxuICAgICAgZXhwZWN0KGhhc1RhZyh0ZXN0TmFtZSwgJ3Nsb3cnKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoaGFzVGFnKHRlc3ROYW1lLCAnaW50ZWdyYXRpb24nKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ2hhc0FueVRhZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIHdoZW4gdGVzdCBoYXMgYW55IG9mIHRoZSB0YWdzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdE5hbWUgPSAnc2hvdWxkIGNyZWF0ZSBndWVzdCBAdGFnOnVuaXQgQHRhZzpmYXN0JztcbiAgICAgIFxuICAgICAgZXhwZWN0KGhhc0FueVRhZyh0ZXN0TmFtZSwgWyd1bml0JywgJ3Nsb3cnXSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoaGFzQW55VGFnKHRlc3ROYW1lLCBbJ2Zhc3QnLCAnaW50ZWdyYXRpb24nXSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gICAgXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2Ugd2hlbiB0ZXN0IGhhcyBub25lIG9mIHRoZSB0YWdzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdE5hbWUgPSAnc2hvdWxkIGNyZWF0ZSBndWVzdCBAdGFnOnVuaXQnO1xuICAgICAgXG4gICAgICBleHBlY3QoaGFzQW55VGFnKHRlc3ROYW1lLCBbJ3Nsb3cnLCAnaW50ZWdyYXRpb24nXSkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdoYXNBbGxUYWdzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgd2hlbiB0ZXN0IGhhcyBhbGwgdGFncycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBjcmVhdGUgZ3Vlc3QgQHRhZzp1bml0IEB0YWc6ZmFzdCBAdGFnOmNyaXRpY2FsJztcbiAgICAgIFxuICAgICAgZXhwZWN0KGhhc0FsbFRhZ3ModGVzdE5hbWUsIFsndW5pdCcsICdmYXN0J10pKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGhhc0FsbFRhZ3ModGVzdE5hbWUsIFsndW5pdCcsICdmYXN0JywgJ2NyaXRpY2FsJ10pKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gdGVzdCBpcyBtaXNzaW5nIHNvbWUgdGFncycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3ROYW1lID0gJ3Nob3VsZCBjcmVhdGUgZ3Vlc3QgQHRhZzp1bml0IEB0YWc6ZmFzdCc7XG4gICAgICBcbiAgICAgIGV4cGVjdChoYXNBbGxUYWdzKHRlc3ROYW1lLCBbJ3VuaXQnLCAnZmFzdCcsICdjcml0aWNhbCddKSkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoaGFzQWxsVGFncyh0ZXN0TmFtZSwgWyd1bml0JywgJ3Nsb3cnXSkpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiaXQiLCJ0ZXN0TmFtZSIsInRhZ3MiLCJnZXRUYWdzRnJvbVRlc3ROYW1lIiwiZXhwZWN0IiwidG9FcXVhbCIsImhhc1RhZyIsInRvQmUiLCJoYXNBbnlUYWciLCJoYXNBbGxUYWdzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQzs7OzswQkFRTTtBQUVQQSxTQUFTLHVCQUF1QjtJQUM5QkEsU0FBUyx1QkFBdUI7UUFDOUJDLEdBQUcsNENBQTRDO1lBQzdDLE1BQU1DLFdBQVc7WUFDakIsTUFBTUMsT0FBT0MsSUFBQUEsNkJBQW1CLEVBQUNGO1lBRWpDRyxPQUFPRixNQUFNRyxPQUFPLENBQUM7Z0JBQUM7YUFBTztRQUMvQjtRQUVBTCxHQUFHLCtDQUErQztZQUNoRCxNQUFNQyxXQUFXO1lBQ2pCLE1BQU1DLE9BQU9DLElBQUFBLDZCQUFtQixFQUFDRjtZQUVqQ0csT0FBT0YsTUFBTUcsT0FBTyxDQUFDO2dCQUFDO2dCQUFRO2dCQUFRO2FBQVc7UUFDbkQ7UUFFQUwsR0FBRyxtREFBbUQ7WUFDcEQsTUFBTUMsV0FBVztZQUNqQixNQUFNQyxPQUFPQyxJQUFBQSw2QkFBbUIsRUFBQ0Y7WUFFakNHLE9BQU9GLE1BQU1HLE9BQU8sQ0FBQyxFQUFFO1FBQ3pCO1FBRUFMLEdBQUcsNkNBQTZDO1lBQzlDLE1BQU1DLFdBQVc7WUFDakIsTUFBTUMsT0FBT0MsSUFBQUEsNkJBQW1CLEVBQUNGO1lBRWpDRyxPQUFPRixNQUFNRyxPQUFPLENBQUM7Z0JBQUM7Z0JBQVE7YUFBTztRQUN2QztJQUNGO0lBRUFOLFNBQVMsVUFBVTtRQUNqQkMsR0FBRyx3Q0FBd0M7WUFDekMsTUFBTUMsV0FBVztZQUVqQkcsT0FBT0UsSUFBQUEsZ0JBQU0sRUFBQ0wsVUFBVSxTQUFTTSxJQUFJLENBQUM7WUFDdENILE9BQU9FLElBQUFBLGdCQUFNLEVBQUNMLFVBQVUsU0FBU00sSUFBSSxDQUFDO1FBQ3hDO1FBRUFQLEdBQUcsbURBQW1EO1lBQ3BELE1BQU1DLFdBQVc7WUFFakJHLE9BQU9FLElBQUFBLGdCQUFNLEVBQUNMLFVBQVUsU0FBU00sSUFBSSxDQUFDO1lBQ3RDSCxPQUFPRSxJQUFBQSxnQkFBTSxFQUFDTCxVQUFVLGdCQUFnQk0sSUFBSSxDQUFDO1FBQy9DO0lBQ0Y7SUFFQVIsU0FBUyxhQUFhO1FBQ3BCQyxHQUFHLG9EQUFvRDtZQUNyRCxNQUFNQyxXQUFXO1lBRWpCRyxPQUFPSSxJQUFBQSxtQkFBUyxFQUFDUCxVQUFVO2dCQUFDO2dCQUFRO2FBQU8sR0FBR00sSUFBSSxDQUFDO1lBQ25ESCxPQUFPSSxJQUFBQSxtQkFBUyxFQUFDUCxVQUFVO2dCQUFDO2dCQUFRO2FBQWMsR0FBR00sSUFBSSxDQUFDO1FBQzVEO1FBRUFQLEdBQUcsc0RBQXNEO1lBQ3ZELE1BQU1DLFdBQVc7WUFFakJHLE9BQU9JLElBQUFBLG1CQUFTLEVBQUNQLFVBQVU7Z0JBQUM7Z0JBQVE7YUFBYyxHQUFHTSxJQUFJLENBQUM7UUFDNUQ7SUFDRjtJQUVBUixTQUFTLGNBQWM7UUFDckJDLEdBQUcsNkNBQTZDO1lBQzlDLE1BQU1DLFdBQVc7WUFFakJHLE9BQU9LLElBQUFBLG9CQUFVLEVBQUNSLFVBQVU7Z0JBQUM7Z0JBQVE7YUFBTyxHQUFHTSxJQUFJLENBQUM7WUFDcERILE9BQU9LLElBQUFBLG9CQUFVLEVBQUNSLFVBQVU7Z0JBQUM7Z0JBQVE7Z0JBQVE7YUFBVyxHQUFHTSxJQUFJLENBQUM7UUFDbEU7UUFFQVAsR0FBRyxzREFBc0Q7WUFDdkQsTUFBTUMsV0FBVztZQUVqQkcsT0FBT0ssSUFBQUEsb0JBQVUsRUFBQ1IsVUFBVTtnQkFBQztnQkFBUTtnQkFBUTthQUFXLEdBQUdNLElBQUksQ0FBQztZQUNoRUgsT0FBT0ssSUFBQUEsb0JBQVUsRUFBQ1IsVUFBVTtnQkFBQztnQkFBUTthQUFPLEdBQUdNLElBQUksQ0FBQztRQUN0RDtJQUNGO0FBQ0YifQ==