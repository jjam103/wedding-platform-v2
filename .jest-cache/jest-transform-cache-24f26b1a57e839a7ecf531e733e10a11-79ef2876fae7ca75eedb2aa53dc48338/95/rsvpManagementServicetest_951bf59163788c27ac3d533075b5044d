d991c491c2e3b27e2a92500e8d9518e2
"use strict";
// Mock Supabase
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _mockSupabase = require("../__tests__/helpers/mockSupabase");
const _rsvpManagementService = /*#__PURE__*/ _interop_require_wildcard(require("./rsvpManagementService"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('rsvpManagementService', ()=>{
    let mockSupabase;
    beforeEach(()=>{
        jest.clearAllMocks();
        mockSupabase = (0, _mockSupabase.createMockSupabaseClient)();
        const { createClient } = require('@supabase/supabase-js');
        createClient.mockReturnValue(mockSupabase);
    });
    describe('listRSVPs', ()=>{
        const mockRSVPData = [
            {
                id: 'rsvp-1',
                guest_id: 'guest-1',
                event_id: 'event-1',
                activity_id: null,
                status: 'attending',
                guest_count: 2,
                dietary_notes: 'Vegetarian',
                special_requirements: null,
                notes: null,
                responded_at: '2024-01-15T10:00:00Z',
                created_at: '2024-01-10T10:00:00Z',
                updated_at: '2024-01-15T10:00:00Z',
                guests: {
                    first_name: 'John',
                    last_name: 'Doe',
                    email: 'john@example.com'
                },
                events: {
                    name: 'Wedding Ceremony'
                },
                activities: null
            },
            {
                id: 'rsvp-2',
                guest_id: 'guest-2',
                event_id: null,
                activity_id: 'activity-1',
                status: 'pending',
                guest_count: 1,
                dietary_notes: null,
                special_requirements: null,
                notes: null,
                responded_at: null,
                created_at: '2024-01-12T10:00:00Z',
                updated_at: '2024-01-12T10:00:00Z',
                guests: {
                    first_name: 'Jane',
                    last_name: 'Smith',
                    email: 'jane@example.com'
                },
                events: null,
                activities: {
                    name: 'Beach Activity'
                }
            }
        ];
        it('should return success with RSVPs when valid filters and pagination', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: mockRSVPData,
                        error: null,
                        count: 2
                    })
                })
            });
            const filters = {
                eventId: 'event-1'
            };
            const pagination = {
                page: 1,
                limit: 50
            };
            const result = await _rsvpManagementService.listRSVPs(filters, pagination);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(2);
                expect(result.data.data[0].guestFirstName).toBe('John');
                expect(result.data.data[0].eventName).toBe('Wedding Ceremony');
                expect(result.data.pagination.page).toBe(1);
                expect(result.data.pagination.limit).toBe(50);
                expect(result.data.pagination.total).toBe(2);
                expect(result.data.pagination.totalPages).toBe(1);
            }
        });
        it('should filter by event ID', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: [
                            mockRSVPData[0]
                        ],
                        error: null,
                        count: 1
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({
                eventId: 'event-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].eventId).toBe('event-1');
            }
        });
        it('should filter by activity ID', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: [
                            mockRSVPData[1]
                        ],
                        error: null,
                        count: 1
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({
                activityId: 'activity-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].activityId).toBe('activity-1');
            }
        });
        it('should filter by status', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: [
                            mockRSVPData[0]
                        ],
                        error: null,
                        count: 1
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({
                status: 'attending'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].status).toBe('attending');
            }
        });
        it('should filter by guest ID', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnThis(),
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: [
                            mockRSVPData[0]
                        ],
                        error: null,
                        count: 1
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({
                guestId: 'guest-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].guestId).toBe('guest-1');
            }
        });
        it('should apply pagination correctly', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: mockRSVPData,
                        error: null,
                        count: 100
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: 2,
                limit: 25
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.pagination.page).toBe(2);
                expect(result.data.pagination.limit).toBe(25);
                expect(result.data.pagination.total).toBe(100);
                expect(result.data.pagination.totalPages).toBe(4);
            }
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.listRSVPs({
                eventId: 'invalid-uuid'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when invalid pagination parameters', async ()=>{
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: -1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database query fails', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    range: jest.fn().mockReturnThis(),
                    order: jest.fn().mockResolvedValue({
                        data: null,
                        error: {
                            message: 'Database connection failed'
                        },
                        count: null
                    })
                })
            });
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
    });
    describe('getRSVPStatistics', ()=>{
        const mockStatisticsData = [
            {
                status: 'attending',
                guest_count: 2
            },
            {
                status: 'attending',
                guest_count: 1
            },
            {
                status: 'declined',
                guest_count: 1
            },
            {
                status: 'maybe',
                guest_count: null
            },
            {
                status: 'pending',
                guest_count: 1
            }
        ];
        it('should return success with accurate statistics', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: mockStatisticsData,
                    error: null
                })
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(5);
                expect(result.data.byStatus.attending).toBe(2);
                expect(result.data.byStatus.declined).toBe(1);
                expect(result.data.byStatus.maybe).toBe(1);
                expect(result.data.byStatus.pending).toBe(1);
                expect(result.data.totalGuestCount).toBe(3); // 2 + 1 from attending
            }
        });
        it('should filter statistics by event ID', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockResolvedValue({
                        data: [
                            mockStatisticsData[0],
                            mockStatisticsData[1]
                        ],
                        error: null
                    })
                })
            });
            const result = await _rsvpManagementService.getRSVPStatistics({
                eventId: 'event-1'
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(2);
                expect(result.data.byStatus.attending).toBe(2);
            }
        });
        it('should handle empty results', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: [],
                    error: null
                })
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(0);
                expect(result.data.byStatus.attending).toBe(0);
                expect(result.data.totalGuestCount).toBe(0);
            }
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.getRSVPStatistics({
                eventId: 'invalid-uuid'
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database query fails', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockResolvedValue({
                    data: null,
                    error: {
                        message: 'Database connection failed'
                    }
                })
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
    });
    describe('bulkUpdateRSVPs', ()=>{
        it('should return success with updated count when valid input', async ()=>{
            const rsvpIds = [
                'rsvp-1',
                'rsvp-2',
                'rsvp-3'
            ];
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    in: jest.fn().mockReturnValue({
                        select: jest.fn().mockResolvedValue({
                            data: [
                                {
                                    id: 'rsvp-1'
                                },
                                {
                                    id: 'rsvp-2'
                                },
                                {
                                    id: 'rsvp-3'
                                }
                            ],
                            error: null
                        })
                    })
                })
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs(rsvpIds, 'attending', 'Bulk approved');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.updatedCount).toBe(3);
            }
        });
        it('should update status and set responded_at for non-pending status', async ()=>{
            const updateMock = jest.fn().mockReturnValue({
                in: jest.fn().mockReturnValue({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: 'rsvp-1'
                            }
                        ],
                        error: null
                    })
                })
            });
            mockSupabase.from.mockReturnValue({
                update: updateMock
            });
            await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending');
            expect(updateMock).toHaveBeenCalledWith(expect.objectContaining({
                status: 'attending',
                responded_at: expect.any(String)
            }));
        });
        it('should include notes when provided', async ()=>{
            const updateMock = jest.fn().mockReturnValue({
                in: jest.fn().mockReturnValue({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: 'rsvp-1'
                            }
                        ],
                        error: null
                    })
                })
            });
            mockSupabase.from.mockReturnValue({
                update: updateMock
            });
            await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending', 'Admin approved');
            expect(updateMock).toHaveBeenCalledWith(expect.objectContaining({
                notes: 'Admin approved'
            }));
        });
        it('should handle partial updates when some RSVPs not found', async ()=>{
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    in: jest.fn().mockReturnValue({
                        select: jest.fn().mockResolvedValue({
                            data: [
                                {
                                    id: 'rsvp-1'
                                },
                                {
                                    id: 'rsvp-2'
                                }
                            ],
                            error: null
                        })
                    })
                })
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1',
                'rsvp-2',
                'rsvp-3'
            ], 'attending');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.updatedCount).toBe(2);
            }
        });
        it('should return VALIDATION_ERROR when empty rsvpIds array', async ()=>{
            const result = await _rsvpManagementService.bulkUpdateRSVPs([], 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when too many rsvpIds (>100)', async ()=>{
            const tooManyIds = Array.from({
                length: 101
            }, (_, i)=>`rsvp-${i}`);
            const result = await _rsvpManagementService.bulkUpdateRSVPs(tooManyIds, 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when invalid status', async ()=>{
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'invalid-status');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database update fails', async ()=>{
            mockSupabase.from.mockReturnValue({
                update: jest.fn().mockReturnValue({
                    in: jest.fn().mockReturnValue({
                        select: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                message: 'Database connection failed'
                            }
                        })
                    })
                })
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
    });
    describe('exportRSVPsToCSV', ()=>{
        it('should return success with CSV string when valid filters', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 2,
                    dietaryNotes: 'Vegetarian',
                    specialRequirements: null,
                    notes: null,
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            // Mock listRSVPs to return test data
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 2
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('RSVP ID,Guest First Name,Guest Last Name');
                expect(result.data).toContain('rsvp-1,John,Doe');
                expect(result.data).toContain('Wedding Ceremony');
                expect(result.data).toContain('attending');
            }
        });
        it('should escape CSV values with commas', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe, Jr.',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 1,
                    dietaryNotes: 'No nuts, no dairy',
                    specialRequirements: null,
                    notes: null,
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 1
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('"Doe, Jr."');
                expect(result.data).toContain('"No nuts, no dairy"');
            }
        });
        it('should escape CSV values with quotes', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 1,
                    dietaryNotes: null,
                    specialRequirements: null,
                    notes: 'Guest said "excited to attend"',
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 1
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('""excited to attend""');
            }
        });
        it('should handle empty results', async ()=>{
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: [],
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 0,
                        totalPages: 0
                    },
                    statistics: {
                        totalRSVPs: 0,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 0
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                // Should only have header row
                const lines = result.data.split('\n');
                expect(lines.length).toBe(1);
                expect(lines[0]).toContain('RSVP ID,Guest First Name');
            }
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.exportRSVPsToCSV({
                eventId: 'invalid-uuid'
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should propagate errors from listRSVPs', async ()=>{
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database connection failed'
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQC9fX3Rlc3RzX18vaGVscGVycy9tb2NrU3VwYWJhc2UnO1xuaW1wb3J0ICogYXMgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlIGZyb20gJy4vcnN2cE1hbmFnZW1lbnRTZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgUlNWUFZpZXdNb2RlbCwgUlNWUEZpbHRlcnMsIFBhZ2luYXRpb25QYXJhbXMgfSBmcm9tICcuL3JzdnBNYW5hZ2VtZW50U2VydmljZSc7XG5cbi8vIE1vY2sgU3VwYWJhc2Vcbmplc3QubW9jaygnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJywgKCkgPT4gKHtcbiAgY3JlYXRlQ2xpZW50OiBqZXN0LmZuKCksXG59KSk7XG5cbmRlc2NyaWJlKCdyc3ZwTWFuYWdlbWVudFNlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBtb2NrU3VwYWJhc2U6IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudD47XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KCk7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IHJlcXVpcmUoJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycpO1xuICAgIGNyZWF0ZUNsaWVudC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xpc3RSU1ZQcycsICgpID0+IHtcbiAgICBjb25zdCBtb2NrUlNWUERhdGEgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAncnN2cC0xJyxcbiAgICAgICAgZ3Vlc3RfaWQ6ICdndWVzdC0xJyxcbiAgICAgICAgZXZlbnRfaWQ6ICdldmVudC0xJyxcbiAgICAgICAgYWN0aXZpdHlfaWQ6IG51bGwsXG4gICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgIGd1ZXN0X2NvdW50OiAyLFxuICAgICAgICBkaWV0YXJ5X25vdGVzOiAnVmVnZXRhcmlhbicsXG4gICAgICAgIHNwZWNpYWxfcmVxdWlyZW1lbnRzOiBudWxsLFxuICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgcmVzcG9uZGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICBndWVzdHM6IHtcbiAgICAgICAgICBmaXJzdF9uYW1lOiAnSm9obicsXG4gICAgICAgICAgbGFzdF9uYW1lOiAnRG9lJyxcbiAgICAgICAgICBlbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBuYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGl2aXRpZXM6IG51bGwsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3JzdnAtMicsXG4gICAgICAgIGd1ZXN0X2lkOiAnZ3Vlc3QtMicsXG4gICAgICAgIGV2ZW50X2lkOiBudWxsLFxuICAgICAgICBhY3Rpdml0eV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgZ3Vlc3RfY291bnQ6IDEsXG4gICAgICAgIGRpZXRhcnlfbm90ZXM6IG51bGwsXG4gICAgICAgIHNwZWNpYWxfcmVxdWlyZW1lbnRzOiBudWxsLFxuICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgcmVzcG9uZGVkX2F0OiBudWxsLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0xMlQxMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0xMlQxMDowMDowMFonLFxuICAgICAgICBndWVzdHM6IHtcbiAgICAgICAgICBmaXJzdF9uYW1lOiAnSmFuZScsXG4gICAgICAgICAgbGFzdF9uYW1lOiAnU21pdGgnLFxuICAgICAgICAgIGVtYWlsOiAnamFuZUBleGFtcGxlLmNvbScsXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czogbnVsbCxcbiAgICAgICAgYWN0aXZpdGllczoge1xuICAgICAgICAgIG5hbWU6ICdCZWFjaCBBY3Rpdml0eScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzdWNjZXNzIHdpdGggUlNWUHMgd2hlbiB2YWxpZCBmaWx0ZXJzIGFuZCBwYWdpbmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgcmFuZ2U6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogbW9ja1JTVlBEYXRhLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBjb3VudDogMixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmlsdGVyczogUlNWUEZpbHRlcnMgPSB7IGV2ZW50SWQ6ICdldmVudC0xJyB9O1xuICAgICAgY29uc3QgcGFnaW5hdGlvbjogUGFnaW5hdGlvblBhcmFtcyA9IHsgcGFnZTogMSwgbGltaXQ6IDUwIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoZmlsdGVycywgcGFnaW5hdGlvbik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YVswXS5ndWVzdEZpcnN0TmFtZSkudG9CZSgnSm9obicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YVswXS5ldmVudE5hbWUpLnRvQmUoJ1dlZGRpbmcgQ2VyZW1vbnknKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24ucGFnZSkudG9CZSgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24ubGltaXQpLnRvQmUoNTApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi50b3RhbCkudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24udG90YWxQYWdlcykudG9CZSgxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IGV2ZW50IElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgcmFuZ2U6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogW21vY2tSU1ZQRGF0YVswXV0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7IGV2ZW50SWQ6ICdldmVudC0xJyB9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGFbMF0uZXZlbnRJZCkudG9CZSgnZXZlbnQtMScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgYWN0aXZpdHkgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICByYW5nZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBbbW9ja1JTVlBEYXRhWzFdXSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHsgYWN0aXZpdHlJZDogJ2FjdGl2aXR5LTEnIH0sXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDUwIH1cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YVswXS5hY3Rpdml0eUlkKS50b0JlKCdhY3Rpdml0eS0xJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICByYW5nZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgb3JkZXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBbbW9ja1JTVlBEYXRhWzBdXSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHsgc3RhdHVzOiAnYXR0ZW5kaW5nJyB9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGFbMF0uc3RhdHVzKS50b0JlKCdhdHRlbmRpbmcnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IGd1ZXN0IElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICAgICAgcmFuZ2U6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogW21vY2tSU1ZQRGF0YVswXV0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7IGd1ZXN0SWQ6ICdndWVzdC0xJyB9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGFbMF0uZ3Vlc3RJZCkudG9CZSgnZ3Vlc3QtMScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhcHBseSBwYWdpbmF0aW9uIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgcmFuZ2U6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgZGF0YTogbW9ja1JTVlBEYXRhLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBjb3VudDogMTAwLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7fSxcbiAgICAgICAgeyBwYWdlOiAyLCBsaW1pdDogMjUgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5wYWdpbmF0aW9uLnBhZ2UpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5wYWdpbmF0aW9uLmxpbWl0KS50b0JlKDI1KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24udG90YWwpLnRvQmUoMTAwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24udG90YWxQYWdlcykudG9CZSg0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFZBTElEQVRJT05fRVJST1Igd2hlbiBpbnZhbGlkIGZpbHRlciBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyhcbiAgICAgICAgeyBldmVudElkOiAnaW52YWxpZC11dWlkJyB9IGFzIGFueSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7fSxcbiAgICAgICAgeyBwYWdlOiAtMSwgbGltaXQ6IDUwIH0gYXMgYW55XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIERBVEFCQVNFX0VSUk9SIHdoZW4gZGF0YWJhc2UgcXVlcnkgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHJhbmdlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnIH0sXG4gICAgICAgICAgICBjb3VudDogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyh7fSwgeyBwYWdlOiAxLCBsaW1pdDogNTAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFJTVlBTdGF0aXN0aWNzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tTdGF0aXN0aWNzRGF0YSA9IFtcbiAgICAgIHsgc3RhdHVzOiAnYXR0ZW5kaW5nJywgZ3Vlc3RfY291bnQ6IDIgfSxcbiAgICAgIHsgc3RhdHVzOiAnYXR0ZW5kaW5nJywgZ3Vlc3RfY291bnQ6IDEgfSxcbiAgICAgIHsgc3RhdHVzOiAnZGVjbGluZWQnLCBndWVzdF9jb3VudDogMSB9LFxuICAgICAgeyBzdGF0dXM6ICdtYXliZScsIGd1ZXN0X2NvdW50OiBudWxsIH0sXG4gICAgICB7IHN0YXR1czogJ3BlbmRpbmcnLCBndWVzdF9jb3VudDogMSB9LFxuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzdWNjZXNzIHdpdGggYWNjdXJhdGUgc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICBkYXRhOiBtb2NrU3RhdGlzdGljc0RhdGEsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWxSU1ZQcykudG9CZSg1KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmJ5U3RhdHVzLmF0dGVuZGluZykudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmJ5U3RhdHVzLmRlY2xpbmVkKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuYnlTdGF0dXMubWF5YmUpLnRvQmUoMSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5ieVN0YXR1cy5wZW5kaW5nKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWxHdWVzdENvdW50KS50b0JlKDMpOyAvLyAyICsgMSBmcm9tIGF0dGVuZGluZ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgc3RhdGlzdGljcyBieSBldmVudCBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBbbW9ja1N0YXRpc3RpY3NEYXRhWzBdLCBtb2NrU3RhdGlzdGljc0RhdGFbMV1dLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7XG4gICAgICAgIGV2ZW50SWQ6ICdldmVudC0xJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnRvdGFsUlNWUHMpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5ieVN0YXR1cy5hdHRlbmRpbmcpLnRvQmUoMik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZ2V0UlNWUFN0YXRpc3RpY3Moe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnRvdGFsUlNWUHMpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5ieVN0YXR1cy5hdHRlbmRpbmcpLnRvQmUoMCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS50b3RhbEd1ZXN0Q291bnQpLnRvQmUoMCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBmaWx0ZXIgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7XG4gICAgICAgIGV2ZW50SWQ6ICdpbnZhbGlkLXV1aWQnLFxuICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIERBVEFCQVNFX0VSUk9SIHdoZW4gZGF0YWJhc2UgcXVlcnkgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2J1bGtVcGRhdGVSU1ZQcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBzdWNjZXNzIHdpdGggdXBkYXRlZCBjb3VudCB3aGVuIHZhbGlkIGlucHV0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcnN2cElkcyA9IFsncnN2cC0xJywgJ3JzdnAtMicsICdyc3ZwLTMnXTtcbiAgICAgIFxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBpbjogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgIGRhdGE6IFt7IGlkOiAncnN2cC0xJyB9LCB7IGlkOiAncnN2cC0yJyB9LCB7IGlkOiAncnN2cC0zJyB9XSxcbiAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhcbiAgICAgICAgcnN2cElkcyxcbiAgICAgICAgJ2F0dGVuZGluZycsXG4gICAgICAgICdCdWxrIGFwcHJvdmVkJ1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS51cGRhdGVkQ291bnQpLnRvQmUoMyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBzdGF0dXMgYW5kIHNldCByZXNwb25kZWRfYXQgZm9yIG5vbi1wZW5kaW5nIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZU1vY2sgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IFt7IGlkOiAncnN2cC0xJyB9XSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICB1cGRhdGU6IHVwZGF0ZU1vY2ssXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhbJ3JzdnAtMSddLCAnYXR0ZW5kaW5nJyk7XG5cbiAgICAgIGV4cGVjdCh1cGRhdGVNb2NrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgICAgcmVzcG9uZGVkX2F0OiBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIG5vdGVzIHdoZW4gcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVNb2NrID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGluOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiBbeyBpZDogJ3JzdnAtMScgfV0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVNb2NrLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoXG4gICAgICAgIFsncnN2cC0xJ10sXG4gICAgICAgICdhdHRlbmRpbmcnLFxuICAgICAgICAnQWRtaW4gYXBwcm92ZWQnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QodXBkYXRlTW9jaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBub3RlczogJ0FkbWluIGFwcHJvdmVkJyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYXJ0aWFsIHVwZGF0ZXMgd2hlbiBzb21lIFJTVlBzIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiBbeyBpZDogJ3JzdnAtMScgfSwgeyBpZDogJ3JzdnAtMicgfV0sXG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoXG4gICAgICAgIFsncnN2cC0xJywgJ3JzdnAtMicsICdyc3ZwLTMnXSxcbiAgICAgICAgJ2F0dGVuZGluZydcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudXBkYXRlZENvdW50KS50b0JlKDIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiB3aGVuIGVtcHR5IHJzdnBJZHMgYXJyYXknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFxuICAgICAgICBbXSxcbiAgICAgICAgJ2F0dGVuZGluZydcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiB3aGVuIHRvbyBtYW55IHJzdnBJZHMgKD4xMDApJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdG9vTWFueUlkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMSB9LCAoXywgaSkgPT4gYHJzdnAtJHtpfWApO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFxuICAgICAgICB0b29NYW55SWRzLFxuICAgICAgICAnYXR0ZW5kaW5nJ1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFxuICAgICAgICBbJ3JzdnAtMSddLFxuICAgICAgICAnaW52YWxpZC1zdGF0dXMnIGFzIGFueVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIGRhdGFiYXNlIHVwZGF0ZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgaW46IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhcbiAgICAgICAgWydyc3ZwLTEnXSxcbiAgICAgICAgJ2F0dGVuZGluZydcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnREFUQUJBU0VfRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2V4cG9ydFJTVlBzVG9DU1YnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIENTViBzdHJpbmcgd2hlbiB2YWxpZCBmaWx0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgZ3Vlc3RFbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICAgIGFjdGl2aXR5TmFtZTogbnVsbCxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGd1ZXN0Q291bnQ6IDIsXG4gICAgICAgICAgZGlldGFyeU5vdGVzOiAnVmVnZXRhcmlhbicsXG4gICAgICAgICAgc3BlY2lhbFJlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICByZXNwb25kZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTEwVDEwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgIGd1ZXN0SWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICAgICAgYWN0aXZpdHlJZDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIC8vIE1vY2sgbGlzdFJTVlBzIHRvIHJldHVybiB0ZXN0IGRhdGFcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDEwMDAwLCB0b3RhbDogMSwgdG90YWxQYWdlczogMSB9LFxuICAgICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgICAgdG90YWxHdWVzdENvdW50OiAyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1Yoe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ1JTVlAgSUQsR3Vlc3QgRmlyc3QgTmFtZSxHdWVzdCBMYXN0IE5hbWUnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ3JzdnAtMSxKb2huLERvZScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignV2VkZGluZyBDZXJlbW9ueScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignYXR0ZW5kaW5nJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVzY2FwZSBDU1YgdmFsdWVzIHdpdGggY29tbWFzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZSwgSnIuJyxcbiAgICAgICAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZXZlbnROYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgZ3Vlc3RDb3VudDogMSxcbiAgICAgICAgICBkaWV0YXJ5Tm90ZXM6ICdObyBudXRzLCBubyBkYWlyeScsXG4gICAgICAgICAgc3BlY2lhbFJlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICByZXNwb25kZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTEwVDEwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgIGd1ZXN0SWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICAgICAgYWN0aXZpdHlJZDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDEwMDAwLCB0b3RhbDogMSwgdG90YWxQYWdlczogMSB9LFxuICAgICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgICAgdG90YWxHdWVzdENvdW50OiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1Yoe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ1wiRG9lLCBKci5cIicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignXCJObyBudXRzLCBubyBkYWlyeVwiJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVzY2FwZSBDU1YgdmFsdWVzIHdpdGggcXVvdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgZ3Vlc3RFbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICAgIGFjdGl2aXR5TmFtZTogbnVsbCxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGd1ZXN0Q291bnQ6IDEsXG4gICAgICAgICAgZGlldGFyeU5vdGVzOiBudWxsLFxuICAgICAgICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgICAgICAgbm90ZXM6ICdHdWVzdCBzYWlkIFwiZXhjaXRlZCB0byBhdHRlbmRcIicsXG4gICAgICAgICAgcmVzcG9uZGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2xpc3RSU1ZQcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRhdGE6IG1vY2tSU1ZQcyxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDEsIHRvdGFsUGFnZXM6IDEgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9Db250YWluKCdcIlwiZXhjaXRlZCB0byBhdHRlbmRcIlwiJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdsaXN0UlNWUHMnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDAsIHRvdGFsUGFnZXM6IDAgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAwLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFNob3VsZCBvbmx5IGhhdmUgaGVhZGVyIHJvd1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJlc3VsdC5kYXRhLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzWzBdKS50b0NvbnRhaW4oJ1JTVlAgSUQsR3Vlc3QgRmlyc3QgTmFtZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiB3aGVuIGludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVih7XG4gICAgICAgIGV2ZW50SWQ6ICdpbnZhbGlkLXV1aWQnLFxuICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvcGFnYXRlIGVycm9ycyBmcm9tIGxpc3RSU1ZQcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1Yoe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJjcmVhdGVDbGllbnQiLCJmbiIsImRlc2NyaWJlIiwibW9ja1N1cGFiYXNlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQiLCJyZXF1aXJlIiwibW9ja1JldHVyblZhbHVlIiwibW9ja1JTVlBEYXRhIiwiaWQiLCJndWVzdF9pZCIsImV2ZW50X2lkIiwiYWN0aXZpdHlfaWQiLCJzdGF0dXMiLCJndWVzdF9jb3VudCIsImRpZXRhcnlfbm90ZXMiLCJzcGVjaWFsX3JlcXVpcmVtZW50cyIsIm5vdGVzIiwicmVzcG9uZGVkX2F0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJndWVzdHMiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZW1haWwiLCJldmVudHMiLCJuYW1lIiwiYWN0aXZpdGllcyIsIml0IiwiZnJvbSIsInNlbGVjdCIsImVxIiwibW9ja1JldHVyblRoaXMiLCJyYW5nZSIsIm9yZGVyIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwiZXJyb3IiLCJjb3VudCIsImZpbHRlcnMiLCJldmVudElkIiwicGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInJlc3VsdCIsInJzdnBNYW5hZ2VtZW50U2VydmljZSIsImxpc3RSU1ZQcyIsImV4cGVjdCIsInN1Y2Nlc3MiLCJ0b0JlIiwidG9IYXZlTGVuZ3RoIiwiZ3Vlc3RGaXJzdE5hbWUiLCJldmVudE5hbWUiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJhY3Rpdml0eUlkIiwiZ3Vlc3RJZCIsImNvZGUiLCJtZXNzYWdlIiwibW9ja1N0YXRpc3RpY3NEYXRhIiwiZ2V0UlNWUFN0YXRpc3RpY3MiLCJ0b3RhbFJTVlBzIiwiYnlTdGF0dXMiLCJhdHRlbmRpbmciLCJkZWNsaW5lZCIsIm1heWJlIiwicGVuZGluZyIsInRvdGFsR3Vlc3RDb3VudCIsInJzdnBJZHMiLCJ1cGRhdGUiLCJpbiIsImJ1bGtVcGRhdGVSU1ZQcyIsInVwZGF0ZWRDb3VudCIsInVwZGF0ZU1vY2siLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm9iamVjdENvbnRhaW5pbmciLCJhbnkiLCJTdHJpbmciLCJ0b29NYW55SWRzIiwiQXJyYXkiLCJsZW5ndGgiLCJfIiwiaSIsIm1vY2tSU1ZQcyIsImd1ZXN0TGFzdE5hbWUiLCJndWVzdEVtYWlsIiwiYWN0aXZpdHlOYW1lIiwiZ3Vlc3RDb3VudCIsImRpZXRhcnlOb3RlcyIsInNwZWNpYWxSZXF1aXJlbWVudHMiLCJyZXNwb25kZWRBdCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsInNweU9uIiwic3RhdGlzdGljcyIsImV4cG9ydFJTVlBzVG9DU1YiLCJ0b0NvbnRhaW4iLCJsaW5lcyIsInNwbGl0Il0sIm1hcHBpbmdzIjoiO0FBSUEsZ0JBQWdCO0FBQ2hCQSxLQUFLQyxJQUFJLENBQUMseUJBQXlCLElBQU8sQ0FBQTtRQUN4Q0MsY0FBY0YsS0FBS0csRUFBRTtJQUN2QixDQUFBOzs7OzhCQVB5QzsrRUFDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXZDQyxTQUFTLHlCQUF5QjtJQUNoQyxJQUFJQztJQUVKQyxXQUFXO1FBQ1ROLEtBQUtPLGFBQWE7UUFDbEJGLGVBQWVHLElBQUFBLHNDQUF3QjtRQUN2QyxNQUFNLEVBQUVOLFlBQVksRUFBRSxHQUFHTyxRQUFRO1FBQ2pDUCxhQUFhUSxlQUFlLENBQUNMO0lBQy9CO0lBRUFELFNBQVMsYUFBYTtRQUNwQixNQUFNTyxlQUFlO1lBQ25CO2dCQUNFQyxJQUFJO2dCQUNKQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxhQUFhO2dCQUNiQyxRQUFRO2dCQUNSQyxhQUFhO2dCQUNiQyxlQUFlO2dCQUNm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