{"version":3,"names":["cov_1k1k3gckij","actualCoverage","s","usePWA","f","state","setState","_react","useState","isOnline","navigator","b","onLine","isInstalled","isUpdateAvailable","registration","deferredPrompt","setDeferredPrompt","registerServiceWorker","useCallback","serviceWorker","register","scope","console","log","prev","addEventListener","newWorker","installing","controller","setInterval","update","error","useEffect","handleOnline","handleOffline","window","removeEventListener","handleBeforeInstallPrompt","e","preventDefault","handleAppInstalled","matchMedia","matches","installPrompt","prompt","outcome","userChoice","updateServiceWorker","waiting","postMessage","type","location","reload","cacheItinerary","data","payload","clearCache"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/hooks/usePWA.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\n\ninterface PWAState {\n  isOnline: boolean;\n  isInstalled: boolean;\n  isUpdateAvailable: boolean;\n  registration: ServiceWorkerRegistration | null;\n}\n\ninterface UsePWAReturn extends PWAState {\n  installPrompt: () => Promise<void>;\n  updateServiceWorker: () => Promise<void>;\n  cacheItinerary: (data: unknown) => Promise<void>;\n  clearCache: () => Promise<void>;\n}\n\n/**\n * PWA Hook\n * \n * Manages Progressive Web App functionality including:\n * - Service worker registration\n * - Online/offline status\n * - Install prompt\n * - Update notifications\n * - Itinerary caching\n */\nexport function usePWA(): UsePWAReturn {\n  const [state, setState] = useState<PWAState>({\n    isOnline: typeof navigator !== 'undefined' ? navigator.onLine : true,\n    isInstalled: false,\n    isUpdateAvailable: false,\n    registration: null,\n  });\n\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\n\n  /**\n   * Register service worker\n   */\n  const registerServiceWorker = useCallback(async () => {\n    if ('serviceWorker' in navigator) {\n      try {\n        const registration = await navigator.serviceWorker.register('/sw.js', {\n          scope: '/',\n        });\n\n        console.log('[PWA] Service worker registered:', registration);\n\n        setState(prev => ({ ...prev, registration }));\n\n        // Check for updates\n        registration.addEventListener('updatefound', () => {\n          const newWorker = registration.installing;\n          if (newWorker) {\n            newWorker.addEventListener('statechange', () => {\n              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                console.log('[PWA] Update available');\n                setState(prev => ({ ...prev, isUpdateAvailable: true }));\n              }\n            });\n          }\n        });\n\n        // Check for updates periodically\n        setInterval(() => {\n          registration.update();\n        }, 60000); // Check every minute\n\n        return registration;\n      } catch (error) {\n        console.error('[PWA] Service worker registration failed:', error);\n        return null;\n      }\n    }\n    return null;\n  }, []);\n\n  /**\n   * Handle online/offline events\n   */\n  useEffect(() => {\n    const handleOnline = () => {\n      console.log('[PWA] Online');\n      setState(prev => ({ ...prev, isOnline: true }));\n    };\n\n    const handleOffline = () => {\n      console.log('[PWA] Offline');\n      setState(prev => ({ ...prev, isOnline: false }));\n    };\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  /**\n   * Handle install prompt\n   */\n  useEffect(() => {\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      console.log('[PWA] Install prompt available');\n      setDeferredPrompt(e);\n    };\n\n    const handleAppInstalled = () => {\n      console.log('[PWA] App installed');\n      setState(prev => ({ ...prev, isInstalled: true }));\n      setDeferredPrompt(null);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    window.addEventListener('appinstalled', handleAppInstalled);\n\n    // Check if already installed\n    if (window.matchMedia('(display-mode: standalone)').matches) {\n      setState(prev => ({ ...prev, isInstalled: true }));\n    }\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('appinstalled', handleAppInstalled);\n    };\n  }, []);\n\n  /**\n   * Register service worker on mount\n   */\n  useEffect(() => {\n    registerServiceWorker();\n  }, [registerServiceWorker]);\n\n  /**\n   * Show install prompt\n   */\n  const installPrompt = useCallback(async () => {\n    if (!deferredPrompt) {\n      console.log('[PWA] No install prompt available');\n      return;\n    }\n\n    try {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      console.log('[PWA] Install prompt outcome:', outcome);\n\n      if (outcome === 'accepted') {\n        setState(prev => ({ ...prev, isInstalled: true }));\n      }\n\n      setDeferredPrompt(null);\n    } catch (error) {\n      console.error('[PWA] Install prompt failed:', error);\n    }\n  }, [deferredPrompt]);\n\n  /**\n   * Update service worker\n   */\n  const updateServiceWorker = useCallback(async () => {\n    if (!state.registration) {\n      console.log('[PWA] No registration available');\n      return;\n    }\n\n    try {\n      const newWorker = state.registration.waiting;\n      if (newWorker) {\n        newWorker.postMessage({ type: 'SKIP_WAITING' });\n        window.location.reload();\n      }\n    } catch (error) {\n      console.error('[PWA] Update failed:', error);\n    }\n  }, [state.registration]);\n\n  /**\n   * Cache itinerary data\n   */\n  const cacheItinerary = useCallback(async (data: unknown) => {\n    if (!state.registration) {\n      console.log('[PWA] No registration available');\n      return;\n    }\n\n    try {\n      const controller = navigator.serviceWorker.controller;\n      if (controller) {\n        controller.postMessage({\n          type: 'CACHE_ITINERARY',\n          payload: data,\n        });\n        console.log('[PWA] Itinerary cache requested');\n      }\n    } catch (error) {\n      console.error('[PWA] Cache itinerary failed:', error);\n    }\n  }, [state.registration]);\n\n  /**\n   * Clear all caches\n   */\n  const clearCache = useCallback(async () => {\n    if (!state.registration) {\n      console.log('[PWA] No registration available');\n      return;\n    }\n\n    try {\n      const controller = navigator.serviceWorker.controller;\n      if (controller) {\n        controller.postMessage({ type: 'CLEAR_CACHE' });\n        console.log('[PWA] Cache clear requested');\n      }\n    } catch (error) {\n      console.error('[PWA] Clear cache failed:', error);\n    }\n  }, [state.registration]);\n\n  return {\n    ...state,\n    installPrompt,\n    updateServiceWorker,\n    cacheItinerary,\n    clearCache,\n  };\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}