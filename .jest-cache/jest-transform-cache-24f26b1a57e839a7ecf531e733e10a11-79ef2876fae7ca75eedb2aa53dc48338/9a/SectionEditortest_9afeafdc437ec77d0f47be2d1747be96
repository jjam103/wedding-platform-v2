e2ee16f6fc09eaf42ca5cf52aa122bb1
/**
 * Unit Tests for SectionEditor Component
 * 
 * Tests:
 * - Section creation
 * - Section reordering
 * - Layout toggle
 * - Column editing
 * 
 * Requirements: 2.1-2.6
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _SectionEditor = require("./SectionEditor");
// Mock fetch globally
global.fetch = jest.fn();
// Mock window.confirm
const originalConfirm = window.confirm;
// Mock scrollIntoView
Element.prototype.scrollIntoView = jest.fn();
// Mock section data
const mockSection = {
    id: 'section-1',
    page_type: 'custom',
    page_id: 'page-1',
    display_order: 0,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z',
    columns: [
        {
            id: 'column-1',
            section_id: 'section-1',
            column_number: 1,
            content_type: 'rich_text',
            content_data: {
                html: '<p>Test content</p>'
            },
            created_at: '2024-01-01T00:00:00Z',
            updated_at: '2024-01-01T00:00:00Z'
        }
    ]
};
const mockTwoColumnSection = {
    ...mockSection,
    id: 'section-2',
    display_order: 1,
    columns: [
        {
            id: 'column-2',
            section_id: 'section-2',
            column_number: 1,
            content_type: 'rich_text',
            content_data: {
                html: '<p>Column 1</p>'
            },
            created_at: '2024-01-01T00:00:00Z',
            updated_at: '2024-01-01T00:00:00Z'
        },
        {
            id: 'column-3',
            section_id: 'section-2',
            column_number: 2,
            content_type: 'rich_text',
            content_data: {
                html: '<p>Column 2</p>'
            },
            created_at: '2024-01-01T00:00:00Z',
            updated_at: '2024-01-01T00:00:00Z'
        }
    ]
};
describe('SectionEditor', ()=>{
    let mockOnSave;
    let mockOnClose;
    beforeEach(()=>{
        mockOnSave = jest.fn();
        mockOnClose = jest.fn();
        window.confirm = jest.fn().mockReturnValue(true);
        global.fetch.mockReset();
        jest.clearAllMocks();
    });
    afterEach(()=>{
        (0, _react.cleanup)();
        window.confirm = originalConfirm;
    });
    const mockFetchSuccess = (data)=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data
                })
        });
    };
    const mockFetchError = (message)=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: false,
                    error: {
                        message
                    }
                })
        });
    };
    describe('Section Creation', ()=>{
        it('should display "Add Section" button', async ()=>{
            mockFetchSuccess([]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
        });
        it('should create new section when "Add Section" is clicked', async ()=>{
            mockFetchSuccess([]); // Initial fetch
            mockFetchSuccess(mockSection); // Create section
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections', expect.objectContaining({
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: expect.stringContaining('"page_id":"page-1"')
                }));
            });
        });
        it('should add new section to the list after creation', async ()=>{
            mockFetchSuccess([]); // Initial fetch
            mockFetchSuccess(mockSection); // Create section
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/no sections yet/i)).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
        });
        it('should create section with one column by default', async ()=>{
            mockFetchSuccess([]); // Initial fetch
            mockFetchSuccess(mockSection); // Create section
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                const createCall = global.fetch.mock.calls.find((call)=>call[0] === '/api/admin/sections' && call[1]?.method === 'POST');
                expect(createCall).toBeDefined();
                const body = JSON.parse(createCall[1].body);
                expect(body.columns).toHaveLength(1);
                expect(body.columns[0].column_number).toBe(1);
            });
        });
        it('should display error message when section creation fails', async ()=>{
            mockFetchSuccess([]); // Initial fetch
            mockFetchError('Failed to create section'); // Create section error
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Failed to create section')).toBeInTheDocument();
            });
        });
        it('should disable "Add Section" button while saving', async ()=>{
            mockFetchSuccess([]); // Initial fetch
            // Mock a delayed response
            global.fetch.mockImplementationOnce(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockSection
                                })
                        }), 100)));
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            // Button should be disabled during save
            expect(addButton).toBeDisabled();
        });
    });
    describe('Section Reordering', ()=>{
        it('should display move up and move down buttons for sections', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const moveUpButtons = _react.screen.getAllByRole('button', {
                name: /move section up/i
            });
            const moveDownButtons = _react.screen.getAllByRole('button', {
                name: /move section down/i
            });
            expect(moveUpButtons).toHaveLength(2);
            expect(moveDownButtons).toHaveLength(2);
        });
        it('should disable move up button for first section', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const moveUpButtons = _react.screen.getAllByRole('button', {
                name: /move section up/i
            });
            expect(moveUpButtons[0]).toBeDisabled();
            expect(moveUpButtons[1]).not.toBeDisabled();
        });
        it('should disable move down button for last section', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const moveDownButtons = _react.screen.getAllByRole('button', {
                name: /move section down/i
            });
            expect(moveDownButtons[0]).not.toBeDisabled();
            expect(moveDownButtons[1]).toBeDisabled();
        });
        it('should move section up when move up button is clicked', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            mockFetchSuccess({
                success: true
            }); // Reorder API call
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 2')).toBeInTheDocument();
            });
            // Click move up on second section
            const moveUpButtons = _react.screen.getAllByRole('button', {
                name: /move section up/i
            });
            _react.fireEvent.click(moveUpButtons[1]);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST',
                    body: expect.stringContaining('"pageId":"page-1"')
                }));
            });
        });
        it('should move section down when move down button is clicked', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            mockFetchSuccess({
                success: true
            }); // Reorder API call
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            // Click move down on first section
            const moveDownButtons = _react.screen.getAllByRole('button', {
                name: /move section down/i
            });
            _react.fireEvent.click(moveDownButtons[0]);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST'
                }));
            });
        });
        it('should support drag and drop reordering', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            mockFetchSuccess({
                success: true
            }); // Reorder API call
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const sections = _react.screen.getAllByText(/Section \d/);
            const firstSection = sections[0].closest('div[draggable="true"]');
            const secondSection = sections[1].closest('div[draggable="true"]');
            // Simulate drag and drop
            if (firstSection && secondSection) {
                _react.fireEvent.dragStart(firstSection);
                _react.fireEvent.dragOver(secondSection);
                _react.fireEvent.drop(secondSection);
            }
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST'
                }));
            });
        });
        it('should apply opacity style to dragged section', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const sections = _react.screen.getAllByText(/Section \d/);
            const firstSection = sections[0].closest('div[draggable="true"]');
            if (firstSection) {
                _react.fireEvent.dragStart(firstSection);
                expect(firstSection.className).toContain('opacity-50');
            }
        });
        it('should call reorder API when moving section', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]); // Initial fetch
            mockFetchSuccess({
                success: true
            }); // Reorder API success
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const moveDownButtons = _react.screen.getAllByRole('button', {
                name: /move section down/i
            });
            _react.fireEvent.click(moveDownButtons[0]);
            // Should call reorder API
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST'
                }));
            });
        });
        it('should not reorder when dragging section onto itself', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const sections = _react.screen.getAllByText(/Section \d/);
            const firstSection = sections[0].closest('div[draggable="true"]');
            if (firstSection) {
                _react.fireEvent.dragStart(firstSection);
                _react.fireEvent.drop(firstSection);
            }
            // Should not call reorder API
            expect(global.fetch).not.toHaveBeenCalledWith('/api/admin/sections/reorder', expect.anything());
        });
    });
    describe('Layout Toggle', ()=>{
        it('should display layout toggle button for each section', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            });
            expect(layoutButton).toBeInTheDocument();
            expect(layoutButton).toHaveTextContent('1 Col');
        });
        it('should show "1 Col" for one-column layout', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            });
            expect(layoutButton).toHaveTextContent('1 Col');
        });
        it('should show "2 Col" for two-column layout', async ()=>{
            mockFetchSuccess([
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to one column layout/i
            });
            expect(layoutButton).toHaveTextContent('2 Col');
        });
        it('should toggle from one column to two columns', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            mockFetchSuccess(mockTwoColumnSection); // Updated section with 2 columns
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            });
            _react.fireEvent.click(layoutButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(`/api/admin/sections/${mockSection.id}`, expect.objectContaining({
                    method: 'PUT',
                    body: expect.stringContaining('"columns"')
                }));
            });
        });
        it('should toggle from two columns to one column', async ()=>{
            mockFetchSuccess([
                mockTwoColumnSection
            ]);
            mockFetchSuccess(mockSection); // Updated section with 1 column
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to one column layout/i
            });
            _react.fireEvent.click(layoutButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(`/api/admin/sections/${mockTwoColumnSection.id}`, expect.objectContaining({
                    method: 'PUT'
                }));
            });
        });
        it('should add second column when toggling to two columns', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            mockFetchSuccess(mockTwoColumnSection);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            });
            _react.fireEvent.click(layoutButton);
            await (0, _react.waitFor)(()=>{
                const updateCall = global.fetch.mock.calls.find((call)=>call[0].includes('/api/admin/sections/section-') && call[1]?.method === 'PUT');
                expect(updateCall).toBeDefined();
                const body = JSON.parse(updateCall[1].body);
                expect(body.columns).toHaveLength(2);
                expect(body.columns[1].column_number).toBe(2);
            });
        });
        it('should keep only first column when toggling to one column', async ()=>{
            mockFetchSuccess([
                mockTwoColumnSection
            ]);
            mockFetchSuccess(mockSection);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to one column layout/i
            });
            _react.fireEvent.click(layoutButton);
            await (0, _react.waitFor)(()=>{
                const updateCall = global.fetch.mock.calls.find((call)=>call[0].includes('/api/admin/sections/section-') && call[1]?.method === 'PUT');
                expect(updateCall).toBeDefined();
                const body = JSON.parse(updateCall[1].body);
                expect(body.columns).toHaveLength(1);
            });
        });
        it('should display error when layout toggle fails', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            mockFetchError('Failed to update layout');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const layoutButton = _react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            });
            _react.fireEvent.click(layoutButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('alert')).toHaveTextContent('Failed to update layout');
            });
        });
        it('should render columns in grid layout based on column count', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const sections = _react.screen.getAllByText(/Section \d/).map((el)=>el.closest('div[draggable="true"]'));
            // First section should have grid-cols-1
            const firstSectionContent = sections[0]?.querySelector('.grid');
            expect(firstSectionContent?.className).toContain('grid-cols-1');
            // Second section should have grid-cols-2
            const secondSectionContent = sections[1]?.querySelector('.grid');
            expect(secondSectionContent?.className).toContain('grid-cols-2');
        });
    });
    describe('Column Editing', ()=>{
        it('should display column content for rich text', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Column 1')).toBeInTheDocument();
            });
            // Rich text content should be displayed (as escaped HTML)
            expect(_react.screen.getByText(/<p>Test content<\/p>/)).toBeInTheDocument();
        });
        it('should display column number label', async ()=>{
            mockFetchSuccess([
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            // Check for column labels specifically (not content)
            const columnLabels = _react.screen.getAllByText(/^Column \d$/);
            expect(columnLabels).toHaveLength(2);
            expect(columnLabels[0]).toHaveTextContent('Column 1');
            expect(columnLabels[1]).toHaveTextContent('Column 2');
        });
        it('should display empty content placeholder for empty rich text', async ()=>{
            const emptySection = {
                ...mockSection,
                columns: [
                    {
                        ...mockSection.columns[0],
                        content_data: {
                            html: ''
                        }
                    }
                ]
            };
            mockFetchSuccess([
                emptySection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Empty content')).toBeInTheDocument();
        });
        it('should display photo gallery content type', async ()=>{
            const photoSection = {
                ...mockSection,
                columns: [
                    {
                        ...mockSection.columns[0],
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1',
                                'photo-2',
                                'photo-3'
                            ]
                        }
                    }
                ]
            };
            mockFetchSuccess([
                photoSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Photo Gallery (3 photos)')).toBeInTheDocument();
        });
        it('should display references content type', async ()=>{
            const referenceSection = {
                ...mockSection,
                columns: [
                    {
                        ...mockSection.columns[0],
                        content_type: 'references',
                        content_data: {
                            references: [
                                {
                                    id: 'ref-1',
                                    type: 'event',
                                    name: 'Ceremony'
                                }
                            ]
                        }
                    }
                ]
            };
            mockFetchSuccess([
                referenceSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('References (1 items)')).toBeInTheDocument();
        });
        it('should display zero count for empty photo gallery', async ()=>{
            const emptyPhotoSection = {
                ...mockSection,
                columns: [
                    {
                        ...mockSection.columns[0],
                        content_type: 'photo_gallery',
                        content_data: {}
                    }
                ]
            };
            mockFetchSuccess([
                emptyPhotoSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Photo Gallery (0 photos)')).toBeInTheDocument();
        });
    });
    describe('Section Deletion', ()=>{
        it('should display delete button for each section', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByRole('button', {
                name: /delete section/i
            })).toBeInTheDocument();
        });
        it('should show confirmation dialog when delete is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete section/i
            });
            _react.fireEvent.click(deleteButton);
            expect(window.confirm).toHaveBeenCalledWith('Are you sure you want to delete this section?');
        });
        it('should delete section when confirmed', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            mockFetchSuccess({
                success: true
            }); // Delete API call
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete section/i
            });
            _react.fireEvent.click(deleteButton);
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith(`/api/admin/sections/${mockSection.id}`, expect.objectContaining({
                    method: 'DELETE'
                }));
            });
        });
        it('should not delete section when confirmation is cancelled', async ()=>{
            window.confirm = jest.fn().mockReturnValue(false);
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete section/i
            });
            _react.fireEvent.click(deleteButton);
            // Should not call delete API
            expect(global.fetch).not.toHaveBeenCalledWith(expect.stringContaining('/api/admin/sections/'), expect.objectContaining({
                method: 'DELETE'
            }));
        });
        it('should remove section from list after successful deletion', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            mockFetchSuccess({
                success: true
            }); // Delete API call
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
                expect(_react.screen.getByText('Section 2')).toBeInTheDocument();
            });
            const deleteButtons = _react.screen.getAllByRole('button', {
                name: /delete section/i
            });
            _react.fireEvent.click(deleteButtons[0]);
            await (0, _react.waitFor)(()=>{
                // After deletion, only one section should remain
                const sections = _react.screen.getAllByText(/Section \d/);
                expect(sections).toHaveLength(1);
            });
        });
        it('should display error when deletion fails', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            mockFetchError('Failed to delete section');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByRole('button', {
                name: /delete section/i
            });
            _react.fireEvent.click(deleteButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('alert')).toHaveTextContent('Failed to delete section');
            });
        });
    });
    describe('Loading and Error States', ()=>{
        it('should display loading state while fetching sections', ()=>{
            global.fetch.mockImplementationOnce(()=>new Promise(()=>{}) // Never resolves
            );
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            expect(_react.screen.getByText('Loading sections...')).toBeInTheDocument();
        });
        it('should display error message when fetch fails', async ()=>{
            mockFetchError('Failed to load sections');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('alert')).toHaveTextContent('Failed to load sections');
            });
        });
        it('should display empty state when no sections exist', async ()=>{
            mockFetchSuccess([]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/no sections yet/i)).toBeInTheDocument();
            });
        });
        it('should have error alert with proper role', async ()=>{
            mockFetchError('Test error message');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                const alert = _react.screen.getByRole('alert');
                expect(alert).toBeInTheDocument();
                expect(alert).toHaveTextContent('Test error message');
            });
        });
    });
    describe('Header Actions', ()=>{
        it('should display "Save All" button', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /save all sections/i
                })).toBeInTheDocument();
            });
        });
        it('should call onSave when "Save All" is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const saveButton = _react.screen.getByRole('button', {
                name: /save all sections/i
            });
            _react.fireEvent.click(saveButton);
            expect(mockOnSave).toHaveBeenCalledTimes(1);
        });
        it('should display "Preview as Guest" button', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /preview as guest/i
                })).toBeInTheDocument();
            });
        });
        it('should open preview modal when "Preview as Guest" is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /preview as guest/i
                })).toBeInTheDocument();
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /preview as guest/i
            });
            _react.fireEvent.click(previewButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
        });
        it('should display "Close" button when onClose is provided', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /close section editor/i
                })).toBeInTheDocument();
            });
        });
        it('should not display "Close" button when onClose is not provided', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.queryByRole('button', {
                name: /close section editor/i
            })).not.toBeInTheDocument();
        });
        it('should call onClose when "Close" button is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /close section editor/i
                })).toBeInTheDocument();
            });
            const closeButton = _react.screen.getByRole('button', {
                name: /close section editor/i
            });
            _react.fireEvent.click(closeButton);
            expect(mockOnClose).toHaveBeenCalledTimes(1);
        });
        it('should disable "Save All" button while saving', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            // Mock a delayed response
            global.fetch.mockImplementationOnce(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockSection
                                })
                        }), 100)));
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /add new section/i
                })).toBeInTheDocument();
            });
            const addButton = _react.screen.getByRole('button', {
                name: /add new section/i
            });
            _react.fireEvent.click(addButton);
            // Save button should be disabled during save
            const saveButton = _react.screen.getByRole('button', {
                name: /save all sections/i
            });
            expect(saveButton).toBeDisabled();
        });
    });
    describe('Preview Modal', ()=>{
        it('should close preview modal when close button is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /preview as guest/i
                })).toBeInTheDocument();
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /preview as guest/i
            });
            _react.fireEvent.click(previewButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            const closePreviewButton = _react.screen.getByRole('button', {
                name: /close preview/i
            });
            _react.fireEvent.click(closePreviewButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Guest Preview')).not.toBeInTheDocument();
            });
        });
        it('should close preview modal when backdrop is clicked', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /preview as guest/i
                })).toBeInTheDocument();
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /preview as guest/i
            });
            _react.fireEvent.click(previewButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            // Click backdrop (the fixed inset-0 div)
            const backdrop = _react.screen.getByText('Guest Preview').closest('.fixed');
            if (backdrop) {
                _react.fireEvent.click(backdrop);
            }
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('Guest Preview')).not.toBeInTheDocument();
            });
        });
        it('should render sections in preview modal', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('button', {
                    name: /preview as guest/i
                })).toBeInTheDocument();
            });
            const previewButton = _react.screen.getByRole('button', {
                name: /preview as guest/i
            });
            _react.fireEvent.click(previewButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            // Content should be rendered in preview
            const previewContent = _react.screen.getAllByText('Test content');
            expect(previewContent.length).toBeGreaterThan(0);
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper aria labels on all buttons', async ()=>{
            mockFetchSuccess([
                mockSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            expect(_react.screen.getByRole('button', {
                name: /add new section/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /save all sections/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /preview as guest/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /close section editor/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /move section up/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /move section down/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /delete section/i
            })).toBeInTheDocument();
            expect(_react.screen.getByRole('button', {
                name: /toggle to two column layout/i
            })).toBeInTheDocument();
        });
        it('should have proper role for error messages', async ()=>{
            mockFetchError('Test error');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                const alert = _react.screen.getByRole('alert');
                expect(alert).toHaveTextContent('Test error');
            });
        });
        it('should support keyboard navigation for draggable sections', async ()=>{
            mockFetchSuccess([
                mockSection,
                mockTwoColumnSection
            ]);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "custom",
                pageId: "page-1",
                onSave: mockOnSave,
                onClose: mockOnClose
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
            });
            const sections = _react.screen.getAllByText(/Section \d/).map((el)=>el.closest('div[draggable="true"]'));
            sections.forEach((section)=>{
                expect(section).toHaveAttribute('draggable', 'true');
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9TZWN0aW9uRWRpdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgU2VjdGlvbkVkaXRvciBDb21wb25lbnRcbiAqIFxuICogVGVzdHM6XG4gKiAtIFNlY3Rpb24gY3JlYXRpb25cbiAqIC0gU2VjdGlvbiByZW9yZGVyaW5nXG4gKiAtIExheW91dCB0b2dnbGVcbiAqIC0gQ29sdW1uIGVkaXRpbmdcbiAqIFxuICogUmVxdWlyZW1lbnRzOiAyLjEtMi42XG4gKi9cblxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgY2xlYW51cCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgU2VjdGlvbkVkaXRvciB9IGZyb20gJy4vU2VjdGlvbkVkaXRvcic7XG5cbi8vIE1vY2sgZmV0Y2ggZ2xvYmFsbHlcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKTtcblxuLy8gTW9jayB3aW5kb3cuY29uZmlybVxuY29uc3Qgb3JpZ2luYWxDb25maXJtID0gd2luZG93LmNvbmZpcm07XG5cbi8vIE1vY2sgc2Nyb2xsSW50b1ZpZXdcbkVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3ID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIHNlY3Rpb24gZGF0YVxuY29uc3QgbW9ja1NlY3Rpb24gPSB7XG4gIGlkOiAnc2VjdGlvbi0xJyxcbiAgcGFnZV90eXBlOiAnY3VzdG9tJyBhcyBjb25zdCxcbiAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gIGRpc3BsYXlfb3JkZXI6IDAsXG4gIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gIGNvbHVtbnM6IFtcbiAgICB7XG4gICAgICBpZDogJ2NvbHVtbi0xJyxcbiAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgY29sdW1uX251bWJlcjogMSBhcyBjb25zdCxcbiAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcgYXMgY29uc3QsXG4gICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9LFxuICBdLFxufTtcblxuY29uc3QgbW9ja1R3b0NvbHVtblNlY3Rpb24gPSB7XG4gIC4uLm1vY2tTZWN0aW9uLFxuICBpZDogJ3NlY3Rpb24tMicsXG4gIGRpc3BsYXlfb3JkZXI6IDEsXG4gIGNvbHVtbnM6IFtcbiAgICB7XG4gICAgICBpZDogJ2NvbHVtbi0yJyxcbiAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTInLFxuICAgICAgY29sdW1uX251bWJlcjogMSBhcyBjb25zdCxcbiAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcgYXMgY29uc3QsXG4gICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkNvbHVtbiAxPC9wPicgfSxcbiAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdjb2x1bW4tMycsXG4gICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0yJyxcbiAgICAgIGNvbHVtbl9udW1iZXI6IDIgYXMgY29uc3QsXG4gICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnIGFzIGNvbnN0LFxuICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5Db2x1bW4gMjwvcD4nIH0sXG4gICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9LFxuICBdLFxufTtcblxuZGVzY3JpYmUoJ1NlY3Rpb25FZGl0b3InLCAoKSA9PiB7XG4gIGxldCBtb2NrT25TYXZlOiBqZXN0Lk1vY2s7XG4gIGxldCBtb2NrT25DbG9zZTogamVzdC5Nb2NrO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tPblNhdmUgPSBqZXN0LmZuKCk7XG4gICAgbW9ja09uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgd2luZG93LmNvbmZpcm0gPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHRydWUpO1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzZXQoKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gICAgd2luZG93LmNvbmZpcm0gPSBvcmlnaW5hbENvbmZpcm07XG4gIH0pO1xuXG4gIGNvbnN0IG1vY2tGZXRjaFN1Y2Nlc3MgPSAoZGF0YTogYW55KSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogdHJ1ZSxcbiAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfSksXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgbW9ja0ZldGNoRXJyb3IgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogdHJ1ZSxcbiAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogeyBtZXNzYWdlIH0gfSksXG4gICAgfSk7XG4gIH07XG5cbiAgZGVzY3JpYmUoJ1NlY3Rpb24gQ3JlYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IFwiQWRkIFNlY3Rpb25cIiBidXR0b24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtdKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvYWRkIG5ldyBzZWN0aW9uL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIG5ldyBzZWN0aW9uIHdoZW4gXCJBZGQgU2VjdGlvblwiIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtdKTsgLy8gSW5pdGlhbCBmZXRjaFxuICAgICAgbW9ja0ZldGNoU3VjY2Vzcyhtb2NrU2VjdGlvbik7IC8vIENyZWF0ZSBzZWN0aW9uXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBuZXcgc2VjdGlvbi9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBuZXcgc2VjdGlvbi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFkZEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucycsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdcInBhZ2VfaWRcIjpcInBhZ2UtMVwiJyksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhZGQgbmV3IHNlY3Rpb24gdG8gdGhlIGxpc3QgYWZ0ZXIgY3JlYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtdKTsgLy8gSW5pdGlhbCBmZXRjaFxuICAgICAgbW9ja0ZldGNoU3VjY2Vzcyhtb2NrU2VjdGlvbik7IC8vIENyZWF0ZSBzZWN0aW9uXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL25vIHNlY3Rpb25zIHlldC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBzZWN0aW9uIHdpdGggb25lIGNvbHVtbiBieSBkZWZhdWx0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbXSk7IC8vIEluaXRpYWwgZmV0Y2hcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MobW9ja1NlY3Rpb24pOyAvLyBDcmVhdGUgc2VjdGlvblxuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgY3JlYXRlQ2FsbCA9IChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrLmNhbGxzLmZpbmQoXG4gICAgICAgICAgY2FsbCA9PiBjYWxsWzBdID09PSAnL2FwaS9hZG1pbi9zZWN0aW9ucycgJiYgY2FsbFsxXT8ubWV0aG9kID09PSAnUE9TVCdcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGNyZWF0ZUNhbGwpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKGNyZWF0ZUNhbGxbMV0uYm9keSk7XG4gICAgICAgIGV4cGVjdChib2R5LmNvbHVtbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KGJvZHkuY29sdW1uc1swXS5jb2x1bW5fbnVtYmVyKS50b0JlKDEpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgZXJyb3IgbWVzc2FnZSB3aGVuIHNlY3Rpb24gY3JlYXRpb24gZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtdKTsgLy8gSW5pdGlhbCBmZXRjaFxuICAgICAgbW9ja0ZldGNoRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2VjdGlvbicpOyAvLyBDcmVhdGUgc2VjdGlvbiBlcnJvclxuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhaWxlZCB0byBjcmVhdGUgc2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc2FibGUgXCJBZGQgU2VjdGlvblwiIGJ1dHRvbiB3aGlsZSBzYXZpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtdKTsgLy8gSW5pdGlhbCBmZXRjaFxuICAgICAgXG4gICAgICAvLyBNb2NrIGEgZGVsYXllZCByZXNwb25zZVxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9uIH0pLFxuICAgICAgICB9KSwgMTAwKSlcbiAgICAgICk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBuZXcgc2VjdGlvbi9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBuZXcgc2VjdGlvbi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFkZEJ1dHRvbik7XG5cbiAgICAgIC8vIEJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQgZHVyaW5nIHNhdmVcbiAgICAgIGV4cGVjdChhZGRCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VjdGlvbiBSZW9yZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBtb3ZlIHVwIGFuZCBtb3ZlIGRvd24gYnV0dG9ucyBmb3Igc2VjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbiwgbW9ja1R3b0NvbHVtblNlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbW92ZVVwQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL21vdmUgc2VjdGlvbiB1cC9pIH0pO1xuICAgICAgY29uc3QgbW92ZURvd25CdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvbW92ZSBzZWN0aW9uIGRvd24vaSB9KTtcblxuICAgICAgZXhwZWN0KG1vdmVVcEJ1dHRvbnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChtb3ZlRG93bkJ1dHRvbnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzYWJsZSBtb3ZlIHVwIGJ1dHRvbiBmb3IgZmlyc3Qgc2VjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uLCBtb2NrVHdvQ29sdW1uU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb3ZlVXBCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvbW92ZSBzZWN0aW9uIHVwL2kgfSk7XG4gICAgICBleHBlY3QobW92ZVVwQnV0dG9uc1swXSkudG9CZURpc2FibGVkKCk7XG4gICAgICBleHBlY3QobW92ZVVwQnV0dG9uc1sxXSkubm90LnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIG1vdmUgZG93biBidXR0b24gZm9yIGxhc3Qgc2VjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uLCBtb2NrVHdvQ29sdW1uU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb3ZlRG93bkJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gZG93bi9pIH0pO1xuICAgICAgZXhwZWN0KG1vdmVEb3duQnV0dG9uc1swXSkubm90LnRvQmVEaXNhYmxlZCgpO1xuICAgICAgZXhwZWN0KG1vdmVEb3duQnV0dG9uc1sxXSkudG9CZURpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1vdmUgc2VjdGlvbiB1cCB3aGVuIG1vdmUgdXAgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbiwgbW9ja1R3b0NvbHVtblNlY3Rpb25dKTtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoeyBzdWNjZXNzOiB0cnVlIH0pOyAvLyBSZW9yZGVyIEFQSSBjYWxsXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENsaWNrIG1vdmUgdXAgb24gc2Vjb25kIHNlY3Rpb25cbiAgICAgIGNvbnN0IG1vdmVVcEJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gdXAvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb3ZlVXBCdXR0b25zWzFdKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL2FkbWluL3NlY3Rpb25zL3Jlb3JkZXInLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ1wicGFnZUlkXCI6XCJwYWdlLTFcIicpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbW92ZSBzZWN0aW9uIGRvd24gd2hlbiBtb3ZlIGRvd24gYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbiwgbW9ja1R3b0NvbHVtblNlY3Rpb25dKTtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoeyBzdWNjZXNzOiB0cnVlIH0pOyAvLyBSZW9yZGVyIEFQSSBjYWxsXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENsaWNrIG1vdmUgZG93biBvbiBmaXJzdCBzZWN0aW9uXG4gICAgICBjb25zdCBtb3ZlRG93bkJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gZG93bi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vdmVEb3duQnV0dG9uc1swXSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9yZW9yZGVyJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgZHJhZyBhbmQgZHJvcCByZW9yZGVyaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb24sIG1vY2tUd29Db2x1bW5TZWN0aW9uXSk7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKHsgc3VjY2VzczogdHJ1ZSB9KTsgLy8gUmVvcmRlciBBUEkgY2FsbFxuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzZWN0aW9ucyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL1NlY3Rpb24gXFxkLyk7XG4gICAgICBjb25zdCBmaXJzdFNlY3Rpb24gPSBzZWN0aW9uc1swXS5jbG9zZXN0KCdkaXZbZHJhZ2dhYmxlPVwidHJ1ZVwiXScpO1xuICAgICAgY29uc3Qgc2Vjb25kU2VjdGlvbiA9IHNlY3Rpb25zWzFdLmNsb3Nlc3QoJ2RpdltkcmFnZ2FibGU9XCJ0cnVlXCJdJyk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGRyYWcgYW5kIGRyb3BcbiAgICAgIGlmIChmaXJzdFNlY3Rpb24gJiYgc2Vjb25kU2VjdGlvbikge1xuICAgICAgICBmaXJlRXZlbnQuZHJhZ1N0YXJ0KGZpcnN0U2VjdGlvbik7XG4gICAgICAgIGZpcmVFdmVudC5kcmFnT3ZlcihzZWNvbmRTZWN0aW9uKTtcbiAgICAgICAgZmlyZUV2ZW50LmRyb3Aoc2Vjb25kU2VjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9yZW9yZGVyJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IG9wYWNpdHkgc3R5bGUgdG8gZHJhZ2dlZCBzZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb24sIG1vY2tUd29Db2x1bW5TZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNlY3Rpb25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvU2VjdGlvbiBcXGQvKTtcbiAgICAgIGNvbnN0IGZpcnN0U2VjdGlvbiA9IHNlY3Rpb25zWzBdLmNsb3Nlc3QoJ2RpdltkcmFnZ2FibGU9XCJ0cnVlXCJdJyk7XG5cbiAgICAgIGlmIChmaXJzdFNlY3Rpb24pIHtcbiAgICAgICAgZmlyZUV2ZW50LmRyYWdTdGFydChmaXJzdFNlY3Rpb24pO1xuICAgICAgICBleHBlY3QoZmlyc3RTZWN0aW9uLmNsYXNzTmFtZSkudG9Db250YWluKCdvcGFjaXR5LTUwJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGwgcmVvcmRlciBBUEkgd2hlbiBtb3Zpbmcgc2VjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uLCBtb2NrVHdvQ29sdW1uU2VjdGlvbl0pOyAvLyBJbml0aWFsIGZldGNoXG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKHsgc3VjY2VzczogdHJ1ZSB9KTsgLy8gUmVvcmRlciBBUEkgc3VjY2Vzc1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb3ZlRG93bkJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gZG93bi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vdmVEb3duQnV0dG9uc1swXSk7XG5cbiAgICAgIC8vIFNob3VsZCBjYWxsIHJlb3JkZXIgQVBJXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vc2VjdGlvbnMvcmVvcmRlcicsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmVvcmRlciB3aGVuIGRyYWdnaW5nIHNlY3Rpb24gb250byBpdHNlbGYnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbiwgbW9ja1R3b0NvbHVtblNlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9TZWN0aW9uIFxcZC8pO1xuICAgICAgY29uc3QgZmlyc3RTZWN0aW9uID0gc2VjdGlvbnNbMF0uY2xvc2VzdCgnZGl2W2RyYWdnYWJsZT1cInRydWVcIl0nKTtcblxuICAgICAgaWYgKGZpcnN0U2VjdGlvbikge1xuICAgICAgICBmaXJlRXZlbnQuZHJhZ1N0YXJ0KGZpcnN0U2VjdGlvbik7XG4gICAgICAgIGZpcmVFdmVudC5kcm9wKGZpcnN0U2VjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3VsZCBub3QgY2FsbCByZW9yZGVyIEFQSVxuICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkubm90LnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9yZW9yZGVyJyxcbiAgICAgICAgZXhwZWN0LmFueXRoaW5nKClcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdMYXlvdXQgVG9nZ2xlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBsYXlvdXQgdG9nZ2xlIGJ1dHRvbiBmb3IgZWFjaCBzZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGF5b3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdG9nZ2xlIHRvIHR3byBjb2x1bW4gbGF5b3V0L2kgfSk7XG4gICAgICBleHBlY3QobGF5b3V0QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KGxheW91dEJ1dHRvbikudG9IYXZlVGV4dENvbnRlbnQoJzEgQ29sJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgXCIxIENvbFwiIGZvciBvbmUtY29sdW1uIGxheW91dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxheW91dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3RvZ2dsZSB0byB0d28gY29sdW1uIGxheW91dC9pIH0pO1xuICAgICAgZXhwZWN0KGxheW91dEJ1dHRvbikudG9IYXZlVGV4dENvbnRlbnQoJzEgQ29sJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgXCIyIENvbFwiIGZvciB0d28tY29sdW1uIGxheW91dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tUd29Db2x1bW5TZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxheW91dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3RvZ2dsZSB0byBvbmUgY29sdW1uIGxheW91dC9pIH0pO1xuICAgICAgZXhwZWN0KGxheW91dEJ1dHRvbikudG9IYXZlVGV4dENvbnRlbnQoJzIgQ29sJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBmcm9tIG9uZSBjb2x1bW4gdG8gdHdvIGNvbHVtbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuICAgICAgbW9ja0ZldGNoU3VjY2Vzcyhtb2NrVHdvQ29sdW1uU2VjdGlvbik7IC8vIFVwZGF0ZWQgc2VjdGlvbiB3aXRoIDIgY29sdW1uc1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsYXlvdXRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC90b2dnbGUgdG8gdHdvIGNvbHVtbiBsYXlvdXQvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsYXlvdXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgYC9hcGkvYWRtaW4vc2VjdGlvbnMvJHttb2NrU2VjdGlvbi5pZH1gLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBib2R5OiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnXCJjb2x1bW5zXCInKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBmcm9tIHR3byBjb2x1bW5zIHRvIG9uZSBjb2x1bW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrVHdvQ29sdW1uU2VjdGlvbl0pO1xuICAgICAgbW9ja0ZldGNoU3VjY2Vzcyhtb2NrU2VjdGlvbik7IC8vIFVwZGF0ZWQgc2VjdGlvbiB3aXRoIDEgY29sdW1uXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxheW91dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3RvZ2dsZSB0byBvbmUgY29sdW1uIGxheW91dC9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxheW91dEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBgL2FwaS9hZG1pbi9zZWN0aW9ucy8ke21vY2tUd29Db2x1bW5TZWN0aW9uLmlkfWAsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFkZCBzZWNvbmQgY29sdW1uIHdoZW4gdG9nZ2xpbmcgdG8gdHdvIGNvbHVtbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuICAgICAgbW9ja0ZldGNoU3VjY2Vzcyhtb2NrVHdvQ29sdW1uU2VjdGlvbik7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxheW91dEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3RvZ2dsZSB0byB0d28gY29sdW1uIGxheW91dC9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxheW91dEJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVDYWxsID0gKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHMuZmluZChcbiAgICAgICAgICBjYWxsID0+IGNhbGxbMF0uaW5jbHVkZXMoJy9hcGkvYWRtaW4vc2VjdGlvbnMvc2VjdGlvbi0nKSAmJiBjYWxsWzFdPy5tZXRob2QgPT09ICdQVVQnXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdCh1cGRhdGVDYWxsKS50b0JlRGVmaW5lZCgpO1xuICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZSh1cGRhdGVDYWxsWzFdLmJvZHkpO1xuICAgICAgICBleHBlY3QoYm9keS5jb2x1bW5zKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIGV4cGVjdChib2R5LmNvbHVtbnNbMV0uY29sdW1uX251bWJlcikudG9CZSgyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBrZWVwIG9ubHkgZmlyc3QgY29sdW1uIHdoZW4gdG9nZ2xpbmcgdG8gb25lIGNvbHVtbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tUd29Db2x1bW5TZWN0aW9uXSk7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKG1vY2tTZWN0aW9uKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGF5b3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdG9nZ2xlIHRvIG9uZSBjb2x1bW4gbGF5b3V0L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobGF5b3V0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUNhbGwgPSAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9jay5jYWxscy5maW5kKFxuICAgICAgICAgIGNhbGwgPT4gY2FsbFswXS5pbmNsdWRlcygnL2FwaS9hZG1pbi9zZWN0aW9ucy9zZWN0aW9uLScpICYmIGNhbGxbMV0/Lm1ldGhvZCA9PT0gJ1BVVCdcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KHVwZGF0ZUNhbGwpLnRvQmVEZWZpbmVkKCk7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHVwZGF0ZUNhbGxbMV0uYm9keSk7XG4gICAgICAgIGV4cGVjdChib2R5LmNvbHVtbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGVycm9yIHdoZW4gbGF5b3V0IHRvZ2dsZSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG4gICAgICBtb2NrRmV0Y2hFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBsYXlvdXQnKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGF5b3V0QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdG9nZ2xlIHRvIHR3byBjb2x1bW4gbGF5b3V0L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobGF5b3V0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdhbGVydCcpKS50b0hhdmVUZXh0Q29udGVudCgnRmFpbGVkIHRvIHVwZGF0ZSBsYXlvdXQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgY29sdW1ucyBpbiBncmlkIGxheW91dCBiYXNlZCBvbiBjb2x1bW4gY291bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbiwgbW9ja1R3b0NvbHVtblNlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2VjdGlvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9TZWN0aW9uIFxcZC8pLm1hcChlbCA9PiBlbC5jbG9zZXN0KCdkaXZbZHJhZ2dhYmxlPVwidHJ1ZVwiXScpKTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3Qgc2VjdGlvbiBzaG91bGQgaGF2ZSBncmlkLWNvbHMtMVxuICAgICAgY29uc3QgZmlyc3RTZWN0aW9uQ29udGVudCA9IHNlY3Rpb25zWzBdPy5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpO1xuICAgICAgZXhwZWN0KGZpcnN0U2VjdGlvbkNvbnRlbnQ/LmNsYXNzTmFtZSkudG9Db250YWluKCdncmlkLWNvbHMtMScpO1xuXG4gICAgICAvLyBTZWNvbmQgc2VjdGlvbiBzaG91bGQgaGF2ZSBncmlkLWNvbHMtMlxuICAgICAgY29uc3Qgc2Vjb25kU2VjdGlvbkNvbnRlbnQgPSBzZWN0aW9uc1sxXT8ucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcbiAgICAgIGV4cGVjdChzZWNvbmRTZWN0aW9uQ29udGVudD8uY2xhc3NOYW1lKS50b0NvbnRhaW4oJ2dyaWQtY29scy0yJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb2x1bW4gRWRpdGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgY29sdW1uIGNvbnRlbnQgZm9yIHJpY2ggdGV4dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbHVtbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUmljaCB0ZXh0IGNvbnRlbnQgc2hvdWxkIGJlIGRpc3BsYXllZCAoYXMgZXNjYXBlZCBIVE1MKVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoLzxwPlRlc3QgY29udGVudDxcXC9wPi8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGNvbHVtbiBudW1iZXIgbGFiZWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrVHdvQ29sdW1uU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayBmb3IgY29sdW1uIGxhYmVscyBzcGVjaWZpY2FsbHkgKG5vdCBjb250ZW50KVxuICAgICAgY29uc3QgY29sdW1uTGFiZWxzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvXkNvbHVtbiBcXGQkLyk7XG4gICAgICBleHBlY3QoY29sdW1uTGFiZWxzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY29sdW1uTGFiZWxzWzBdKS50b0hhdmVUZXh0Q29udGVudCgnQ29sdW1uIDEnKTtcbiAgICAgIGV4cGVjdChjb2x1bW5MYWJlbHNbMV0pLnRvSGF2ZVRleHRDb250ZW50KCdDb2x1bW4gMicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGVtcHR5IGNvbnRlbnQgcGxhY2Vob2xkZXIgZm9yIGVtcHR5IHJpY2ggdGV4dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVtcHR5U2VjdGlvbiA9IHtcbiAgICAgICAgLi4ubW9ja1NlY3Rpb24sXG4gICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgLi4ubW9ja1NlY3Rpb24uY29sdW1uc1swXSxcbiAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJycgfSxcbiAgICAgICAgfV0sXG4gICAgICB9O1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbZW1wdHlTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFbXB0eSBjb250ZW50JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgcGhvdG8gZ2FsbGVyeSBjb250ZW50IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwaG90b1NlY3Rpb24gPSB7XG4gICAgICAgIC4uLm1vY2tTZWN0aW9uLFxuICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgIC4uLm1vY2tTZWN0aW9uLmNvbHVtbnNbMF0sXG4gICAgICAgICAgY29udGVudF90eXBlOiAncGhvdG9fZ2FsbGVyeScgYXMgY29uc3QsXG4gICAgICAgICAgY29udGVudF9kYXRhOiB7IHBob3RvX2lkczogWydwaG90by0xJywgJ3Bob3RvLTInLCAncGhvdG8tMyddIH0sXG4gICAgICAgIH1dLFxuICAgICAgfTtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW3Bob3RvU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGhvdG8gR2FsbGVyeSAoMyBwaG90b3MpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgcmVmZXJlbmNlcyBjb250ZW50IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWZlcmVuY2VTZWN0aW9uID0ge1xuICAgICAgICAuLi5tb2NrU2VjdGlvbixcbiAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAuLi5tb2NrU2VjdGlvbi5jb2x1bW5zWzBdLFxuICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JlZmVyZW5jZXMnIGFzIGNvbnN0LFxuICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyByZWZlcmVuY2VzOiBbeyBpZDogJ3JlZi0xJywgdHlwZTogJ2V2ZW50JywgbmFtZTogJ0NlcmVtb255JyB9XSB9LFxuICAgICAgICB9XSxcbiAgICAgIH07XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtyZWZlcmVuY2VTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSZWZlcmVuY2VzICgxIGl0ZW1zKScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHplcm8gY291bnQgZm9yIGVtcHR5IHBob3RvIGdhbGxlcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbXB0eVBob3RvU2VjdGlvbiA9IHtcbiAgICAgICAgLi4ubW9ja1NlY3Rpb24sXG4gICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgLi4ubW9ja1NlY3Rpb24uY29sdW1uc1swXSxcbiAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyBhcyBjb25zdCxcbiAgICAgICAgICBjb250ZW50X2RhdGE6IHt9LFxuICAgICAgICB9XSxcbiAgICAgIH07XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFtlbXB0eVBob3RvU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGhvdG8gR2FsbGVyeSAoMCBwaG90b3MpJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWN0aW9uIERlbGV0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBkZWxldGUgYnV0dG9uIGZvciBlYWNoIHNlY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZGVsZXRlIHNlY3Rpb24vaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBjb25maXJtYXRpb24gZGlhbG9nIHdoZW4gZGVsZXRlIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9kZWxldGUgc2VjdGlvbi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdCh3aW5kb3cuY29uZmlybSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBzZWN0aW9uPycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWxldGUgc2VjdGlvbiB3aGVuIGNvbmZpcm1lZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKHsgc3VjY2VzczogdHJ1ZSB9KTsgLy8gRGVsZXRlIEFQSSBjYWxsXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZSBzZWN0aW9uL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGAvYXBpL2FkbWluL3NlY3Rpb25zLyR7bW9ja1NlY3Rpb24uaWR9YCxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGRlbGV0ZSBzZWN0aW9uIHdoZW4gY29uZmlybWF0aW9uIGlzIGNhbmNlbGxlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHdpbmRvdy5jb25maXJtID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShmYWxzZSk7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9kZWxldGUgc2VjdGlvbi9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgIC8vIFNob3VsZCBub3QgY2FsbCBkZWxldGUgQVBJXG4gICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS5ub3QudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL2FkbWluL3NlY3Rpb25zLycpLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IG1ldGhvZDogJ0RFTEVURScgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBzZWN0aW9uIGZyb20gbGlzdCBhZnRlciBzdWNjZXNzZnVsIGRlbGV0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb24sIG1vY2tUd29Db2x1bW5TZWN0aW9uXSk7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKHsgc3VjY2VzczogdHJ1ZSB9KTsgLy8gRGVsZXRlIEFQSSBjYWxsXG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZSBzZWN0aW9uL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uc1swXSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBBZnRlciBkZWxldGlvbiwgb25seSBvbmUgc2VjdGlvbiBzaG91bGQgcmVtYWluXG4gICAgICAgIGNvbnN0IHNlY3Rpb25zID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvU2VjdGlvbiBcXGQvKTtcbiAgICAgICAgZXhwZWN0KHNlY3Rpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciB3aGVuIGRlbGV0aW9uIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb25dKTtcbiAgICAgIG1vY2tGZXRjaEVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHNlY3Rpb24nKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvZGVsZXRlIHNlY3Rpb24vaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhkZWxldGVCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2FsZXJ0JykpLnRvSGF2ZVRleHRDb250ZW50KCdGYWlsZWQgdG8gZGVsZXRlIHNlY3Rpb24nKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9hZGluZyBhbmQgRXJyb3IgU3RhdGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBsb2FkaW5nIHN0YXRlIHdoaWxlIGZldGNoaW5nIHNlY3Rpb25zJywgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cbiAgICAgICAgbmV3IFByb21pc2UoKCkgPT4ge30pIC8vIE5ldmVyIHJlc29sdmVzXG4gICAgICApO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcgc2VjdGlvbnMuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciBtZXNzYWdlIHdoZW4gZmV0Y2ggZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hFcnJvcignRmFpbGVkIHRvIGxvYWQgc2VjdGlvbnMnKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYWxlcnQnKSkudG9IYXZlVGV4dENvbnRlbnQoJ0ZhaWxlZCB0byBsb2FkIHNlY3Rpb25zJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBlbXB0eSBzdGF0ZSB3aGVuIG5vIHNlY3Rpb25zIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL25vIHNlY3Rpb25zIHlldC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGVycm9yIGFsZXJ0IHdpdGggcHJvcGVyIHJvbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hFcnJvcignVGVzdCBlcnJvciBtZXNzYWdlJyk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgYWxlcnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdhbGVydCcpO1xuICAgICAgICBleHBlY3QoYWxlcnQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlVGV4dENvbnRlbnQoJ1Rlc3QgZXJyb3IgbWVzc2FnZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdIZWFkZXIgQWN0aW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgXCJTYXZlIEFsbFwiIGJ1dHRvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3NhdmUgYWxsIHNlY3Rpb25zL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsbCBvblNhdmUgd2hlbiBcIlNhdmUgQWxsXCIgaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlIGFsbCBzZWN0aW9ucy9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNhdmVCdXR0b24pO1xuXG4gICAgICBleHBlY3QobW9ja09uU2F2ZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IFwiUHJldmlldyBhcyBHdWVzdFwiIGJ1dHRvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ByZXZpZXcgYXMgZ3Vlc3QvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBvcGVuIHByZXZpZXcgbW9kYWwgd2hlbiBcIlByZXZpZXcgYXMgR3Vlc3RcIiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvcHJldmlldyBhcyBndWVzdC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcmV2aWV3IGFzIGd1ZXN0L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgXCJDbG9zZVwiIGJ1dHRvbiB3aGVuIG9uQ2xvc2UgaXMgcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbG9zZSBzZWN0aW9uIGVkaXRvci9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBkaXNwbGF5IFwiQ2xvc2VcIiBidXR0b24gd2hlbiBvbkNsb3NlIGlzIG5vdCBwcm92aWRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2Nsb3NlIHNlY3Rpb24gZWRpdG9yL2kgfSkpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uQ2xvc2Ugd2hlbiBcIkNsb3NlXCIgYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbG9zZSBzZWN0aW9uIGVkaXRvci9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xvc2Ugc2VjdGlvbiBlZGl0b3IvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhjbG9zZUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChtb2NrT25DbG9zZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIFwiU2F2ZSBBbGxcIiBidXR0b24gd2hpbGUgc2F2aW5nJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb25dKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBhIGRlbGF5ZWQgcmVzcG9uc2VcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbiB9KSxcbiAgICAgICAgfSksIDEwMCkpXG4gICAgICApO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgbmV3IHNlY3Rpb24vaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICAvLyBTYXZlIGJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQgZHVyaW5nIHNhdmVcbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9zYXZlIGFsbCBzZWN0aW9ucy9pIH0pO1xuICAgICAgZXhwZWN0KHNhdmVCdXR0b24pLnRvQmVEaXNhYmxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJldmlldyBNb2RhbCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNsb3NlIHByZXZpZXcgbW9kYWwgd2hlbiBjbG9zZSBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uXSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgcGFnZUlkPVwicGFnZS0xXCJcbiAgICAgICAgICBvblNhdmU9e21vY2tPblNhdmV9XG4gICAgICAgICAgb25DbG9zZT17bW9ja09uQ2xvc2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ByZXZpZXcgYXMgZ3Vlc3QvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvcHJldmlldyBhcyBndWVzdC9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHByZXZpZXdCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjbG9zZVByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9jbG9zZSBwcmV2aWV3L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VQcmV2aWV3QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2UgcHJldmlldyBtb2RhbCB3aGVuIGJhY2tkcm9wIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcmV2aWV3IGFzIGd1ZXN0L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcHJldmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ByZXZpZXcgYXMgZ3Vlc3QvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhwcmV2aWV3QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xpY2sgYmFja2Ryb3AgKHRoZSBmaXhlZCBpbnNldC0wIGRpdilcbiAgICAgIGNvbnN0IGJhY2tkcm9wID0gc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpLmNsb3Nlc3QoJy5maXhlZCcpO1xuICAgICAgaWYgKGJhY2tkcm9wKSB7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhiYWNrZHJvcCk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBzZWN0aW9ucyBpbiBwcmV2aWV3IG1vZGFsJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoU3VjY2VzcyhbbW9ja1NlY3Rpb25dKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvcHJldmlldyBhcyBndWVzdC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcmV2aWV3IGFzIGd1ZXN0L2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbnRlbnQgc2hvdWxkIGJlIHJlbmRlcmVkIGluIHByZXZpZXdcbiAgICAgIGNvbnN0IHByZXZpZXdDb250ZW50ID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnVGVzdCBjb250ZW50Jyk7XG4gICAgICBleHBlY3QocHJldmlld0NvbnRlbnQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgYXJpYSBsYWJlbHMgb24gYWxsIGJ1dHRvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hTdWNjZXNzKFttb2NrU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvYWRkIG5ldyBzZWN0aW9uL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2F2ZSBhbGwgc2VjdGlvbnMvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9wcmV2aWV3IGFzIGd1ZXN0L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY2xvc2Ugc2VjdGlvbiBlZGl0b3IvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gdXAvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9tb3ZlIHNlY3Rpb24gZG93bi9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2RlbGV0ZSBzZWN0aW9uL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdG9nZ2xlIHRvIHR3byBjb2x1bW4gbGF5b3V0L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHJvbGUgZm9yIGVycm9yIG1lc3NhZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoRXJyb3IoJ1Rlc3QgZXJyb3InKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8U2VjdGlvbkVkaXRvclxuICAgICAgICAgIHBhZ2VUeXBlPVwiY3VzdG9tXCJcbiAgICAgICAgICBwYWdlSWQ9XCJwYWdlLTFcIlxuICAgICAgICAgIG9uU2F2ZT17bW9ja09uU2F2ZX1cbiAgICAgICAgICBvbkNsb3NlPXttb2NrT25DbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBhbGVydCA9IHNjcmVlbi5nZXRCeVJvbGUoJ2FsZXJ0Jyk7XG4gICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlVGV4dENvbnRlbnQoJ1Rlc3QgZXJyb3InKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGtleWJvYXJkIG5hdmlnYXRpb24gZm9yIGRyYWdnYWJsZSBzZWN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFN1Y2Nlc3MoW21vY2tTZWN0aW9uLCBtb2NrVHdvQ29sdW1uU2VjdGlvbl0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxTZWN0aW9uRWRpdG9yXG4gICAgICAgICAgcGFnZVR5cGU9XCJjdXN0b21cIlxuICAgICAgICAgIHBhZ2VJZD1cInBhZ2UtMVwiXG4gICAgICAgICAgb25TYXZlPXttb2NrT25TYXZlfVxuICAgICAgICAgIG9uQ2xvc2U9e21vY2tPbkNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzZWN0aW9ucyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL1NlY3Rpb24gXFxkLykubWFwKGVsID0+IGVsLmNsb3Nlc3QoJ2RpdltkcmFnZ2FibGU9XCJ0cnVlXCJdJykpO1xuICAgICAgXG4gICAgICBzZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICBleHBlY3Qoc2VjdGlvbikudG9IYXZlQXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmV0Y2giLCJqZXN0IiwiZm4iLCJvcmlnaW5hbENvbmZpcm0iLCJ3aW5kb3ciLCJjb25maXJtIiwiRWxlbWVudCIsInByb3RvdHlwZSIsInNjcm9sbEludG9WaWV3IiwibW9ja1NlY3Rpb24iLCJpZCIsInBhZ2VfdHlwZSIsInBhZ2VfaWQiLCJkaXNwbGF5X29yZGVyIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJjb2x1bW5zIiwic2VjdGlvbl9pZCIsImNvbHVtbl9udW1iZXIiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2RhdGEiLCJodG1sIiwibW9ja1R3b0NvbHVtblNlY3Rpb24iLCJkZXNjcmliZSIsIm1vY2tPblNhdmUiLCJtb2NrT25DbG9zZSIsImJlZm9yZUVhY2giLCJtb2NrUmV0dXJuVmFsdWUiLCJtb2NrUmVzZXQiLCJjbGVhckFsbE1vY2tzIiwiYWZ0ZXJFYWNoIiwiY2xlYW51cCIsIm1vY2tGZXRjaFN1Y2Nlc3MiLCJkYXRhIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwib2siLCJqc29uIiwic3VjY2VzcyIsIm1vY2tGZXRjaEVycm9yIiwibWVzc2FnZSIsImVycm9yIiwiaXQiLCJyZW5kZXIiLCJTZWN0aW9uRWRpdG9yIiwicGFnZVR5cGUiLCJwYWdlSWQiLCJvblNhdmUiLCJvbkNsb3NlIiwid2FpdEZvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImFkZEJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJzdHJpbmdDb250YWluaW5nIiwiZ2V0QnlUZXh0IiwiY3JlYXRlQ2FsbCIsIm1vY2siLCJjYWxscyIsImZpbmQiLCJjYWxsIiwidG9CZURlZmluZWQiLCJKU09OIiwicGFyc2UiLCJ0b0hhdmVMZW5ndGgiLCJ0b0JlIiwibW9ja0ltcGxlbWVudGF0aW9uT25jZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInRvQmVEaXNhYmxlZCIsIm1vdmVVcEJ1dHRvbnMiLCJnZXRBbGxCeVJvbGUiLCJtb3ZlRG93bkJ1dHRvbnMiLCJub3QiLCJzZWN0aW9ucyIsImdldEFsbEJ5VGV4dCIsImZpcnN0U2VjdGlvbiIsImNsb3Nlc3QiLCJzZWNvbmRTZWN0aW9uIiwiZHJhZ1N0YXJ0IiwiZHJhZ092ZXIiLCJkcm9wIiwiY2xhc3NOYW1lIiwidG9Db250YWluIiwiYW55dGhpbmciLCJsYXlvdXRCdXR0b24iLCJ0b0hhdmVUZXh0Q29udGVudCIsInVwZGF0ZUNhbGwiLCJpbmNsdWRlcyIsIm1hcCIsImVsIiwiZmlyc3RTZWN0aW9uQ29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWNvbmRTZWN0aW9uQ29udGVudCIsImNvbHVtbkxhYmVscyIsImVtcHR5U2VjdGlvbiIsInBob3RvU2VjdGlvbiIsInBob3RvX2lkcyIsInJlZmVyZW5jZVNlY3Rpb24iLCJyZWZlcmVuY2VzIiwidHlwZSIsImVtcHR5UGhvdG9TZWN0aW9uIiwiZGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9ucyIsImFsZXJ0Iiwic2F2ZUJ1dHRvbiIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInByZXZpZXdCdXR0b24iLCJxdWVyeUJ5Um9sZSIsImNsb3NlQnV0dG9uIiwiY2xvc2VQcmV2aWV3QnV0dG9uIiwicXVlcnlCeVRleHQiLCJiYWNrZHJvcCIsInByZXZpZXdDb250ZW50IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJ0b0hhdmVBdHRyaWJ1dGUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7O0NBVUM7Ozs7O3VCQUUyRDsrQkFDOUI7QUFFOUIsc0JBQXNCO0FBQ3RCQSxPQUFPQyxLQUFLLEdBQUdDLEtBQUtDLEVBQUU7QUFFdEIsc0JBQXNCO0FBQ3RCLE1BQU1DLGtCQUFrQkMsT0FBT0MsT0FBTztBQUV0QyxzQkFBc0I7QUFDdEJDLFFBQVFDLFNBQVMsQ0FBQ0MsY0FBYyxHQUFHUCxLQUFLQyxFQUFFO0FBRTFDLG9CQUFvQjtBQUNwQixNQUFNTyxjQUFjO0lBQ2xCQyxJQUFJO0lBQ0pDLFdBQVc7SUFDWEMsU0FBUztJQUNUQyxlQUFlO0lBQ2ZDLFlBQVk7SUFDWkMsWUFBWTtJQUNaQyxTQUFTO1FBQ1A7WUFDRU4sSUFBSTtZQUNKTyxZQUFZO1lBQ1pDLGVBQWU7WUFDZkMsY0FBYztZQUNkQyxjQUFjO2dCQUFFQyxNQUFNO1lBQXNCO1lBQzVDUCxZQUFZO1lBQ1pDLFlBQVk7UUFDZDtLQUNEO0FBQ0g7QUFFQSxNQUFNTyx1QkFBdUI7SUFDM0IsR0FBR2IsV0FBVztJQUNkQyxJQUFJO0lBQ0pHLGVBQWU7SUFDZkcsU0FBUztRQUNQO1lBQ0VOLElBQUk7WUFDSk8sWUFBWTtZQUNaQyxlQUFlO1lBQ2ZDLGNBQWM7WUFDZEMsY0FBYztnQkFBRUMsTUFBTTtZQUFrQjtZQUN4Q1AsWUFBWTtZQUNaQyxZQUFZO1FBQ2Q7UUFDQTtZQUNFTCxJQUFJO1lBQ0pPLFlBQVk7WUFDWkMsZUFBZTtZQUNmQyxjQUFjO1lBQ2RDLGNBQWM7Z0JBQUVDLE1BQU07WUFBa0I7WUFDeENQLFlBQVk7WUFDWkMsWUFBWTtRQUNkO0tBQ0Q7QUFDSDtBQUVBUSxTQUFTLGlCQUFpQjtJQUN4QixJQUFJQztJQUNKLElBQUlDO0lBRUpDLFdBQVc7UUFDVEYsYUFB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