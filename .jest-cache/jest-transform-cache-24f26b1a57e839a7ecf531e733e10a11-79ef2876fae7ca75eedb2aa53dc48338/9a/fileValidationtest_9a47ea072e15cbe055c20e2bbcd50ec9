e01791977bfbf8f3bd29486a0f6173c2
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fileValidation = require("./fileValidation");
// Mock File constructor for testing
class MockFile {
    constructor(content, name, options){
        this.webkitRelativePath = '';
        this.name = name;
        this.type = options?.type || '';
        this.size = this.calculateSize(content);
        this.lastModified = options?.lastModified || Date.now();
    }
    calculateSize(content) {
        return content.reduce((total, part)=>{
            if (typeof part === 'string') return total + part.length;
            if (part instanceof ArrayBuffer) return total + part.byteLength;
            if (ArrayBuffer.isView(part)) return total + part.byteLength;
            return total;
        }, 0);
    }
    slice(start, end, contentType) {
        return new Blob([], {
            type: contentType
        });
    }
    async arrayBuffer() {
        return new ArrayBuffer(0);
    }
    async text() {
        return '';
    }
    async bytes() {
        const buffer = await this.arrayBuffer();
        return new Uint8Array(buffer);
    }
    stream() {
        return new ReadableStream();
    }
}
describe('fileValidation', ()=>{
    describe('validateFile', ()=>{
        it('should validate a valid image file', async ()=>{
            const file = new MockFile([
                'test content'
            ], 'test.jpg', {
                type: 'image/jpeg'
            });
            const result = await (0, _fileValidation.validateFile)(file, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images,
                maxSize: _fileValidation.MAX_FILE_SIZES.image
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.name).toBe('test.jpg');
                expect(result.data.type).toBe('image/jpeg');
                expect(result.data.extension).toBe('jpg');
            }
        });
        it('should reject file with invalid type', async ()=>{
            const file = new MockFile([
                'test content'
            ], 'test.exe', {
                type: 'application/x-msdownload'
            });
            const result = await (0, _fileValidation.validateFile)(file, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('INVALID_FILE_TYPE');
            }
        });
        it('should reject file that is too large', async ()=>{
            const largeContent = 'x'.repeat(11 * 1024 * 1024); // 11 MB
            const file = new MockFile([
                largeContent
            ], 'large.jpg', {
                type: 'image/jpeg'
            });
            const result = await (0, _fileValidation.validateFile)(file, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images,
                maxSize: _fileValidation.MAX_FILE_SIZES.image
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('FILE_TOO_LARGE');
            }
        });
        it('should reject empty file', async ()=>{
            const file = new MockFile([], 'empty.jpg', {
                type: 'image/jpeg'
            });
            const result = await (0, _fileValidation.validateFile)(file);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('EMPTY_FILE');
            }
        });
        it('should reject file without extension', async ()=>{
            const file = new MockFile([
                'content'
            ], 'noextension', {
                type: 'image/jpeg'
            });
            const result = await (0, _fileValidation.validateFile)(file);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('MISSING_FILE_EXTENSION');
            }
        });
        it('should reject file with mismatched extension', async ()=>{
            const file = new MockFile([
                'content'
            ], 'test.png', {
                type: 'image/jpeg'
            });
            const result = await (0, _fileValidation.validateFile)(file, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('EXTENSION_MISMATCH');
            }
        });
        it('should validate PDF document', async ()=>{
            const file = new MockFile([
                'PDF content'
            ], 'document.pdf', {
                type: 'application/pdf'
            });
            const result = await (0, _fileValidation.validateFile)(file, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.documents,
                maxSize: _fileValidation.MAX_FILE_SIZES.document
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.extension).toBe('pdf');
            }
        });
    });
    describe('validateFiles', ()=>{
        it('should validate multiple valid files', async ()=>{
            const files = [
                new MockFile([
                    'content1'
                ], 'file1.jpg', {
                    type: 'image/jpeg'
                }),
                new MockFile([
                    'content2'
                ], 'file2.png', {
                    type: 'image/png'
                })
            ];
            const result = await (0, _fileValidation.validateFiles)(files, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toHaveLength(2);
            }
        });
        it('should return errors for invalid files', async ()=>{
            const files = [
                new MockFile([
                    'content1'
                ], 'file1.jpg', {
                    type: 'image/jpeg'
                }),
                new MockFile([
                    'content2'
                ], 'file2.exe', {
                    type: 'application/x-msdownload'
                })
            ];
            const result = await (0, _fileValidation.validateFiles)(files, {
                allowedTypes: _fileValidation.ALLOWED_FILE_TYPES.images
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERRORS');
                expect(result.error.details).toBeDefined();
            }
        });
        it('should reject empty file array', async ()=>{
            const result = await (0, _fileValidation.validateFiles)([]);
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('NO_FILES');
            }
        });
    });
    describe('sanitizeFilename', ()=>{
        it('should remove path separators', ()=>{
            expect((0, _fileValidation.sanitizeFilename)('../../../etc/passwd')).toBe('_.._.._etc_passwd');
        });
        it('should remove null bytes', ()=>{
            expect((0, _fileValidation.sanitizeFilename)('file\0name.jpg')).toBe('file_name.jpg');
        });
        it('should remove leading dots', ()=>{
            expect((0, _fileValidation.sanitizeFilename)('...hidden.txt')).toBe('hidden.txt');
        });
        it('should limit filename length', ()=>{
            const longName = 'a'.repeat(300) + '.jpg';
            const sanitized = (0, _fileValidation.sanitizeFilename)(longName);
            expect(sanitized.length).toBeLessThanOrEqual(255);
            expect(sanitized.endsWith('.jpg')).toBe(true);
        });
        it('should handle empty filename', ()=>{
            expect((0, _fileValidation.sanitizeFilename)('')).toBe('file');
            expect((0, _fileValidation.sanitizeFilename)('   ')).toBe('file');
        });
        it('should preserve valid filenames', ()=>{
            expect((0, _fileValidation.sanitizeFilename)('valid-file_name.jpg')).toBe('valid-file_name.jpg');
        });
    });
    describe('generateUniqueFilename', ()=>{
        it('should generate unique filename with timestamp', ()=>{
            const original = 'test.jpg';
            const unique = (0, _fileValidation.generateUniqueFilename)(original);
            expect(unique).toContain('test_');
            expect(unique).toMatch(/test_\d+_[a-z0-9]+\.jpg/);
        });
        it('should sanitize filename before generating unique name', ()=>{
            const original = '../../../test.jpg';
            const unique = (0, _fileValidation.generateUniqueFilename)(original);
            expect(unique).not.toContain('../');
            expect(unique).toMatch(/_\d+_[a-z0-9]+\.jpg$/);
        });
        it('should preserve file extension', ()=>{
            const original = 'document.pdf';
            const unique = (0, _fileValidation.generateUniqueFilename)(original);
            expect(unique).toMatch(/\.pdf$/);
        });
        it('should generate different names for same input', ()=>{
            const original = 'test.jpg';
            const unique1 = (0, _fileValidation.generateUniqueFilename)(original);
            const unique2 = (0, _fileValidation.generateUniqueFilename)(original);
            expect(unique1).not.toBe(unique2);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvdXRpbHMvZmlsZVZhbGlkYXRpb24udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB2YWxpZGF0ZUZpbGUsXG4gIHZhbGlkYXRlRmlsZXMsXG4gIHNhbml0aXplRmlsZW5hbWUsXG4gIGdlbmVyYXRlVW5pcXVlRmlsZW5hbWUsXG4gIEFMTE9XRURfRklMRV9UWVBFUyxcbiAgTUFYX0ZJTEVfU0laRVMsXG59IGZyb20gJy4vZmlsZVZhbGlkYXRpb24nO1xuXG4vLyBNb2NrIEZpbGUgY29uc3RydWN0b3IgZm9yIHRlc3RpbmdcbmNsYXNzIE1vY2tGaWxlIGltcGxlbWVudHMgRmlsZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBzaXplOiBudW1iZXI7XG4gIGxhc3RNb2RpZmllZDogbnVtYmVyO1xuICB3ZWJraXRSZWxhdGl2ZVBhdGg6IHN0cmluZyA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRlbnQ6IEJsb2JQYXJ0W10sIG5hbWU6IHN0cmluZywgb3B0aW9ucz86IEZpbGVQcm9wZXJ0eUJhZykge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy50eXBlID0gb3B0aW9ucz8udHlwZSB8fCAnJztcbiAgICB0aGlzLnNpemUgPSB0aGlzLmNhbGN1bGF0ZVNpemUoY29udGVudCk7XG4gICAgdGhpcy5sYXN0TW9kaWZpZWQgPSBvcHRpb25zPy5sYXN0TW9kaWZpZWQgfHwgRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlU2l6ZShjb250ZW50OiBCbG9iUGFydFtdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29udGVudC5yZWR1Y2UoKHRvdGFsLCBwYXJ0KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHBhcnQgPT09ICdzdHJpbmcnKSByZXR1cm4gdG90YWwgKyBwYXJ0Lmxlbmd0aDtcbiAgICAgIGlmIChwYXJ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHJldHVybiB0b3RhbCArIHBhcnQuYnl0ZUxlbmd0aDtcbiAgICAgIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocGFydCkpIHJldHVybiB0b3RhbCArIHBhcnQuYnl0ZUxlbmd0aDtcbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIHNsaWNlKHN0YXJ0PzogbnVtYmVyLCBlbmQ/OiBudW1iZXIsIGNvbnRlbnRUeXBlPzogc3RyaW5nKTogQmxvYiB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKFtdLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0pO1xuICB9XG5cbiAgYXN5bmMgYXJyYXlCdWZmZXIoKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gIH1cblxuICBhc3luYyB0ZXh0KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgYXN5bmMgYnl0ZXMoKTogUHJvbWlzZTxVaW50OEFycmF5PEFycmF5QnVmZmVyPj4ge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHRoaXMuYXJyYXlCdWZmZXIoKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgfVxuXG4gIHN0cmVhbSgpOiBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PEFycmF5QnVmZmVyPj4ge1xuICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oKTtcbiAgfVxufVxuXG5kZXNjcmliZSgnZmlsZVZhbGlkYXRpb24nLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCd2YWxpZGF0ZUZpbGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBhIHZhbGlkIGltYWdlIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gbmV3IE1vY2tGaWxlKFsndGVzdCBjb250ZW50J10sICd0ZXN0LmpwZycsIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZShmaWxlLCB7XG4gICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9GSUxFX1RZUEVTLmltYWdlcyxcbiAgICAgICAgbWF4U2l6ZTogTUFYX0ZJTEVfU0laRVMuaW1hZ2UsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5uYW1lKS50b0JlKCd0ZXN0LmpwZycpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudHlwZSkudG9CZSgnaW1hZ2UvanBlZycpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZXh0ZW5zaW9uKS50b0JlKCdqcGcnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGZpbGUgd2l0aCBpbnZhbGlkIHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gbmV3IE1vY2tGaWxlKFsndGVzdCBjb250ZW50J10sICd0ZXN0LmV4ZScsIHtcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVGaWxlKGZpbGUsIHtcbiAgICAgICAgYWxsb3dlZFR5cGVzOiBBTExPV0VEX0ZJTEVfVFlQRVMuaW1hZ2VzLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnSU5WQUxJRF9GSUxFX1RZUEUnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGZpbGUgdGhhdCBpcyB0b28gbGFyZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZUNvbnRlbnQgPSAneCcucmVwZWF0KDExICogMTAyNCAqIDEwMjQpOyAvLyAxMSBNQlxuICAgICAgY29uc3QgZmlsZSA9IG5ldyBNb2NrRmlsZShbbGFyZ2VDb250ZW50XSwgJ2xhcmdlLmpwZycsIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZShmaWxlLCB7XG4gICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9GSUxFX1RZUEVTLmltYWdlcyxcbiAgICAgICAgbWF4U2l6ZTogTUFYX0ZJTEVfU0laRVMuaW1hZ2UsIC8vIDEwIE1CXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdGSUxFX1RPT19MQVJHRScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZW1wdHkgZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSBuZXcgTW9ja0ZpbGUoW10sICdlbXB0eS5qcGcnLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9qcGVnJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUZpbGUoZmlsZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnRU1QVFlfRklMRScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZmlsZSB3aXRob3V0IGV4dGVuc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbGUgPSBuZXcgTW9ja0ZpbGUoWydjb250ZW50J10sICdub2V4dGVuc2lvbicsIHtcbiAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZShmaWxlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdNSVNTSU5HX0ZJTEVfRVhURU5TSU9OJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBmaWxlIHdpdGggbWlzbWF0Y2hlZCBleHRlbnNpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlID0gbmV3IE1vY2tGaWxlKFsnY29udGVudCddLCAndGVzdC5wbmcnLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9qcGVnJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUZpbGUoZmlsZSwge1xuICAgICAgICBhbGxvd2VkVHlwZXM6IEFMTE9XRURfRklMRV9UWVBFUy5pbWFnZXMsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdFWFRFTlNJT05fTUlTTUFUQ0gnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgUERGIGRvY3VtZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZSA9IG5ldyBNb2NrRmlsZShbJ1BERiBjb250ZW50J10sICdkb2N1bWVudC5wZGYnLCB7XG4gICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZShmaWxlLCB7XG4gICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9GSUxFX1RZUEVTLmRvY3VtZW50cyxcbiAgICAgICAgbWF4U2l6ZTogTUFYX0ZJTEVfU0laRVMuZG9jdW1lbnQsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5leHRlbnNpb24pLnRvQmUoJ3BkZicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndmFsaWRhdGVGaWxlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIG11bHRpcGxlIHZhbGlkIGZpbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZXMgPSBbXG4gICAgICAgIG5ldyBNb2NrRmlsZShbJ2NvbnRlbnQxJ10sICdmaWxlMS5qcGcnLCB7IHR5cGU6ICdpbWFnZS9qcGVnJyB9KSxcbiAgICAgICAgbmV3IE1vY2tGaWxlKFsnY29udGVudDInXSwgJ2ZpbGUyLnBuZycsIHsgdHlwZTogJ2ltYWdlL3BuZycgfSksXG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZUZpbGVzKGZpbGVzLCB7XG4gICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9GSUxFX1RZUEVTLmltYWdlcyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvcnMgZm9yIGludmFsaWQgZmlsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlcyA9IFtcbiAgICAgICAgbmV3IE1vY2tGaWxlKFsnY29udGVudDEnXSwgJ2ZpbGUxLmpwZycsIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pLFxuICAgICAgICBuZXcgTW9ja0ZpbGUoWydjb250ZW50MiddLCAnZmlsZTIuZXhlJywgeyB0eXBlOiAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyB9KSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZXMoZmlsZXMsIHtcbiAgICAgICAgYWxsb3dlZFR5cGVzOiBBTExPV0VEX0ZJTEVfVFlQRVMuaW1hZ2VzLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUlMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5kZXRhaWxzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZW1wdHkgZmlsZSBhcnJheScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlRmlsZXMoW10pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ05PX0ZJTEVTJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzYW5pdGl6ZUZpbGVuYW1lJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVtb3ZlIHBhdGggc2VwYXJhdG9ycycsICgpID0+IHtcbiAgICAgIGV4cGVjdChzYW5pdGl6ZUZpbGVuYW1lKCcuLi8uLi8uLi9ldGMvcGFzc3dkJykpLnRvQmUoJ18uLl8uLl9ldGNfcGFzc3dkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBudWxsIGJ5dGVzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNhbml0aXplRmlsZW5hbWUoJ2ZpbGVcXDBuYW1lLmpwZycpKS50b0JlKCdmaWxlX25hbWUuanBnJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbW92ZSBsZWFkaW5nIGRvdHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVGaWxlbmFtZSgnLi4uaGlkZGVuLnR4dCcpKS50b0JlKCdoaWRkZW4udHh0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxpbWl0IGZpbGVuYW1lIGxlbmd0aCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdOYW1lID0gJ2EnLnJlcGVhdCgzMDApICsgJy5qcGcnO1xuICAgICAgY29uc3Qgc2FuaXRpemVkID0gc2FuaXRpemVGaWxlbmFtZShsb25nTmFtZSk7XG4gICAgICBleHBlY3Qoc2FuaXRpemVkLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgyNTUpO1xuICAgICAgZXhwZWN0KHNhbml0aXplZC5lbmRzV2l0aCgnLmpwZycpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgZmlsZW5hbWUnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVGaWxlbmFtZSgnJykpLnRvQmUoJ2ZpbGUnKTtcbiAgICAgIGV4cGVjdChzYW5pdGl6ZUZpbGVuYW1lKCcgICAnKSkudG9CZSgnZmlsZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSB2YWxpZCBmaWxlbmFtZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2FuaXRpemVGaWxlbmFtZSgndmFsaWQtZmlsZV9uYW1lLmpwZycpKS50b0JlKCd2YWxpZC1maWxlX25hbWUuanBnJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZVVuaXF1ZUZpbGVuYW1lJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgdW5pcXVlIGZpbGVuYW1lIHdpdGggdGltZXN0YW1wJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSAndGVzdC5qcGcnO1xuICAgICAgY29uc3QgdW5pcXVlID0gZ2VuZXJhdGVVbmlxdWVGaWxlbmFtZShvcmlnaW5hbCk7XG5cbiAgICAgIGV4cGVjdCh1bmlxdWUpLnRvQ29udGFpbigndGVzdF8nKTtcbiAgICAgIGV4cGVjdCh1bmlxdWUpLnRvTWF0Y2goL3Rlc3RfXFxkK19bYS16MC05XStcXC5qcGcvKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2FuaXRpemUgZmlsZW5hbWUgYmVmb3JlIGdlbmVyYXRpbmcgdW5pcXVlIG5hbWUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbCA9ICcuLi8uLi8uLi90ZXN0LmpwZyc7XG4gICAgICBjb25zdCB1bmlxdWUgPSBnZW5lcmF0ZVVuaXF1ZUZpbGVuYW1lKG9yaWdpbmFsKTtcblxuICAgICAgZXhwZWN0KHVuaXF1ZSkubm90LnRvQ29udGFpbignLi4vJyk7XG4gICAgICBleHBlY3QodW5pcXVlKS50b01hdGNoKC9fXFxkK19bYS16MC05XStcXC5qcGckLyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByZXNlcnZlIGZpbGUgZXh0ZW5zaW9uJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSAnZG9jdW1lbnQucGRmJztcbiAgICAgIGNvbnN0IHVuaXF1ZSA9IGdlbmVyYXRlVW5pcXVlRmlsZW5hbWUob3JpZ2luYWwpO1xuXG4gICAgICBleHBlY3QodW5pcXVlKS50b01hdGNoKC9cXC5wZGYkLyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGRpZmZlcmVudCBuYW1lcyBmb3Igc2FtZSBpbnB1dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsID0gJ3Rlc3QuanBnJztcbiAgICAgIGNvbnN0IHVuaXF1ZTEgPSBnZW5lcmF0ZVVuaXF1ZUZpbGVuYW1lKG9yaWdpbmFsKTtcbiAgICAgIGNvbnN0IHVuaXF1ZTIgPSBnZW5lcmF0ZVVuaXF1ZUZpbGVuYW1lKG9yaWdpbmFsKTtcblxuICAgICAgZXhwZWN0KHVuaXF1ZTEpLm5vdC50b0JlKHVuaXF1ZTIpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIk1vY2tGaWxlIiwiY29udGVudCIsIm5hbWUiLCJvcHRpb25zIiwid2Via2l0UmVsYXRpdmVQYXRoIiwidHlwZSIsInNpemUiLCJjYWxjdWxhdGVTaXplIiwibGFzdE1vZGlmaWVkIiwiRGF0ZSIsIm5vdyIsInJlZHVjZSIsInRvdGFsIiwicGFydCIsImxlbmd0aCIsIkFycmF5QnVmZmVyIiwiYnl0ZUxlbmd0aCIsImlzVmlldyIsInNsaWNlIiwic3RhcnQiLCJlbmQiLCJjb250ZW50VHlwZSIsIkJsb2IiLCJhcnJheUJ1ZmZlciIsInRleHQiLCJieXRlcyIsImJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJzdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsImRlc2NyaWJlIiwiaXQiLCJmaWxlIiwicmVzdWx0IiwidmFsaWRhdGVGaWxlIiwiYWxsb3dlZFR5cGVzIiwiQUxMT1dFRF9GSUxFX1RZUEVTIiwiaW1hZ2VzIiwibWF4U2l6ZSIsIk1BWF9GSUxFX1NJWkVTIiwiaW1hZ2UiLCJleHBlY3QiLCJzdWNjZXNzIiwidG9CZSIsImRhdGEiLCJleHRlbnNpb24iLCJlcnJvciIsImNvZGUiLCJsYXJnZUNvbnRlbnQiLCJyZXBlYXQiLCJkb2N1bWVudHMiLCJkb2N1bWVudCIsImZpbGVzIiwidmFsaWRhdGVGaWxlcyIsInRvSGF2ZUxlbmd0aCIsImRldGFpbHMiLCJ0b0JlRGVmaW5lZCIsInNhbml0aXplRmlsZW5hbWUiLCJsb25nTmFtZSIsInNhbml0aXplZCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJlbmRzV2l0aCIsIm9yaWdpbmFsIiwidW5pcXVlIiwiZ2VuZXJhdGVVbmlxdWVGaWxlbmFtZSIsInRvQ29udGFpbiIsInRvTWF0Y2giLCJub3QiLCJ1bmlxdWUxIiwidW5pcXVlMiJdLCJtYXBwaW5ncyI6Ijs7OztnQ0FPTztBQUVQLG9DQUFvQztBQUNwQyxNQUFNQTtJQU9KLFlBQVlDLE9BQW1CLEVBQUVDLElBQVksRUFBRUMsT0FBeUIsQ0FBRTthQUYxRUMscUJBQTZCO1FBRzNCLElBQUksQ0FBQ0YsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0csSUFBSSxHQUFHRixTQUFTRSxRQUFRO1FBQzdCLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQ0MsYUFBYSxDQUFDTjtRQUMvQixJQUFJLENBQUNPLFlBQVksR0FBR0wsU0FBU0ssZ0JBQWdCQyxLQUFLQyxHQUFHO0lBQ3ZEO0lBRVFILGNBQWNOLE9BQW1CLEVBQVU7UUFDakQsT0FBT0EsUUFBUVUsTUFBTSxDQUFDLENBQUNDLE9BQU9DO1lBQzVCLElBQUksT0FBT0EsU0FBUyxVQUFVLE9BQU9ELFFBQVFDLEtBQUtDLE1BQU07WUFDeEQsSUFBSUQsZ0JBQWdCRSxhQUFhLE9BQU9ILFFBQVFDLEtBQUtHLFVBQVU7WUFDL0QsSUFBSUQsWUFBWUUsTUFBTSxDQUFDSixPQUFPLE9BQU9ELFFBQVFDLEtBQUtHLFVBQVU7WUFDNUQsT0FBT0o7UUFDVCxHQUFHO0lBQ0w7SUFFQU0sTUFBTUMsS0FBYyxFQUFFQyxHQUFZLEVBQUVDLFdBQW9CLEVBQVE7UUFDOUQsT0FBTyxJQUFJQyxLQUFLLEVBQUUsRUFBRTtZQUFFakIsTUFBTWdCO1FBQVk7SUFDMUM7SUFFQSxNQUFNRSxjQUFvQztRQUN4QyxPQUFPLElBQUlSLFlBQVk7SUFDekI7SUFFQSxNQUFNUyxPQUF3QjtRQUM1QixPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxRQUEwQztRQUM5QyxNQUFNQyxTQUFTLE1BQU0sSUFBSSxDQUFDSCxXQUFXO1FBQ3JDLE9BQU8sSUFB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