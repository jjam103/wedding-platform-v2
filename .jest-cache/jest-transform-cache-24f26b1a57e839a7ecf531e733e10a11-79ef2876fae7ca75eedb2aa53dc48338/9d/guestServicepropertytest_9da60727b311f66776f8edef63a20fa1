14803aec5cd7400d6f971838e46286a9
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
const _guestService = /*#__PURE__*/ _interop_require_wildcard(require("./guestService"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Mock Supabase before importing guestService
const mockFrom = _globals.jest.fn();
_globals.jest.mock('@/lib/supabase', ()=>({
        supabase: {
            from: mockFrom
        }
    }));
/**
 * Feature: destination-wedding-platform, Property 5: Guest Input Validation
 * 
 * For any guest data where first name, last name, or group ID is missing,
 * or where email is syntactically invalid, the system should reject the
 * creation/update and return a validation error.
 * 
 * Validates: Requirements 4.16
 */ (0, _globals.describe)('Feature: destination-wedding-platform, Property 5: Guest Input Validation', ()=>{
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
    });
    // Generator for valid guest data with unique identifiers
    const validGuestArbitrary = _fastcheck.record({
        firstName: _fastcheck.string({
            minLength: 1,
            maxLength: 50
        }).filter((s)=>s.trim().length > 0).map((s)=>`${s} ${Date.now()} ${Math.random().toString(36).substr(2, 5)}`),
        lastName: _fastcheck.string({
            minLength: 1,
            maxLength: 50
        }).filter((s)=>s.trim().length > 0).map((s)=>`${s} ${Date.now()} ${Math.random().toString(36).substr(2, 5)}`),
        email: _fastcheck.option(_fastcheck.emailAddress().map((email)=>{
            const [local, domain] = email.split('@');
            return `${local}-${Date.now()}-${Math.random().toString(36).substr(2, 5)}@${domain}`;
        }), {
            nil: null
        }),
        groupId: _fastcheck.uuid(),
        ageType: _fastcheck.constantFrom('adult', 'child', 'senior'),
        guestType: _fastcheck.string({
            minLength: 1,
            maxLength: 50
        }).filter((s)=>s.trim().length > 0).map((s)=>`${s}-${Date.now()}-${Math.random().toString(36).substr(2, 5)}`)
    });
    (0, _globals.it)('should reject guest creation when firstName is missing or empty', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(validGuestArbitrary, async (validGuest)=>{
            // Test with empty string
            const invalidGuest1 = {
                ...validGuest,
                firstName: ''
            };
            const result1 = await _guestService.create(invalidGuest1);
            (0, _globals.expect)(result1.success).toBe(false);
            if (!result1.success) {
                (0, _globals.expect)(result1.error.code).toBe('VALIDATION_ERROR');
            }
            // Test with whitespace only
            const invalidGuest2 = {
                ...validGuest,
                firstName: '   '
            };
            const result2 = await _guestService.create(invalidGuest2);
            (0, _globals.expect)(result2.success).toBe(false);
            if (!result2.success) {
                (0, _globals.expect)(result2.error.code).toBe('VALIDATION_ERROR');
            }
            // Test with missing field
            const { firstName, ...invalidGuest3 } = validGuest;
            const result3 = await _guestService.create(invalidGuest3);
            (0, _globals.expect)(result3.success).toBe(false);
            if (!result3.success) {
                (0, _globals.expect)(result3.error.code).toBe('VALIDATION_ERROR');
            }
        }), {
            numRuns: 100
        });
    });
    (0, _globals.it)('should reject guest creation when lastName is missing or empty', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(validGuestArbitrary, async (validGuest)=>{
            // Test with empty string
            const invalidGuest1 = {
                ...validGuest,
                lastName: ''
            };
            const result1 = await _guestService.create(invalidGuest1);
            (0, _globals.expect)(result1.success).toBe(false);
            if (!result1.success) {
                (0, _globals.expect)(result1.error.code).toBe('VALIDATION_ERROR');
            }
            // Test with whitespace only
            const invalidGuest2 = {
                ...validGuest,
                lastName: '   '
            };
            const result2 = await _guestService.create(invalidGuest2);
            (0, _globals.expect)(result2.success).toBe(false);
            if (!result2.success) {
                (0, _globals.expect)(result2.error.code).toBe('VALIDATION_ERROR');
            }
            // Test with missing field
            const { lastName, ...invalidGuest3 } = validGuest;
            const result3 = await _guestService.create(invalidGuest3);
            (0, _globals.expect)(result3.success).toBe(false);
            if (!result3.success) {
                (0, _globals.expect)(result3.error.code).toBe('VALIDATION_ERROR');
            }
        }), {
            numRuns: 100
        });
    });
    (0, _globals.it)('should reject guest creation when groupId is missing or invalid', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(validGuestArbitrary, _fastcheck.string().filter((s)=>!isValidUUID(s)), async (validGuest, invalidUUID)=>{
            // Test with invalid UUID
            const invalidGuest1 = {
                ...validGuest,
                groupId: invalidUUID
            };
            const result1 = await _guestService.create(invalidGuest1);
            (0, _globals.expect)(result1.success).toBe(false);
            if (!result1.success) {
                (0, _globals.expect)(result1.error.code).toBe('VALIDATION_ERROR');
            }
            // Test with missing field
            const { groupId, ...invalidGuest2 } = validGuest;
            const result2 = await _guestService.create(invalidGuest2);
            (0, _globals.expect)(result2.success).toBe(false);
            if (!result2.success) {
                (0, _globals.expect)(result2.error.code).toBe('VALIDATION_ERROR');
            }
        }), {
            numRuns: 100
        });
    });
    (0, _globals.it)('should reject guest creation when email is syntactically invalid', async ()=>{
        // Generator for invalid email formats
        const invalidEmailArbitrary = _fastcheck.oneof(_fastcheck.constant('not-an-email'), _fastcheck.constant('missing@domain'), _fastcheck.constant('@nodomain.com'), _fastcheck.constant('no-at-sign.com'), _fastcheck.constant('spaces in@email.com'), _fastcheck.constant('double@@email.com'), _fastcheck.string().filter((s)=>!isValidEmail(s) && s.length > 0));
        await _fastcheck.assert(_fastcheck.asyncProperty(validGuestArbitrary, invalidEmailArbitrary, async (validGuest, invalidEmail)=>{
            const invalidGuest = {
                ...validGuest,
                email: invalidEmail
            };
            const result = await _guestService.create(invalidGuest);
            (0, _globals.expect)(result.success).toBe(false);
            if (!result.success) {
                (0, _globals.expect)(result.error.code).toBe('VALIDATION_ERROR');
                (0, _globals.expect)(result.error.message).toContain('Validation failed');
            }
        }), {
            numRuns: 100
        });
    });
    // Note: Positive test case (valid data should succeed) is covered in unit tests
    // Property-based tests focus on validation failures across many random inputs
    (0, _globals.it)('should reject guest update when validation fails', async ()=>{
        const validId = '123e4567-e89b-12d3-a456-426614174000';
        await _fastcheck.assert(_fastcheck.asyncProperty(_fastcheck.oneof(_fastcheck.record({
            firstName: _fastcheck.constant('')
        }), _fastcheck.record({
            firstName: _fastcheck.constant('   ')
        }), _fastcheck.record({
            lastName: _fastcheck.constant('')
        }), _fastcheck.record({
            lastName: _fastcheck.constant('   ')
        }), _fastcheck.record({
            email: _fastcheck.constant('invalid-email')
        }), _fastcheck.record({
            groupId: _fastcheck.constant('not-a-uuid')
        }) // Invalid UUID
        ), async (invalidUpdate)=>{
            const result = await _guestService.update(validId, invalidUpdate);
            (0, _globals.expect)(result.success).toBe(false);
            if (!result.success) {
                (0, _globals.expect)(result.error.code).toBe('VALIDATION_ERROR');
            }
        }), {
            numRuns: 100
        });
    });
});
/**
 * Helper function to validate UUID format.
 */ function isValidUUID(uuid) {
    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;
    return uuidRegex.test(uuid);
}
/**
 * Helper function to validate email format.
 */ function isValidEmail(email) {
    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
    return emailRegex.test(email);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvZ3Vlc3RTZXJ2aWNlLnByb3BlcnR5LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGplc3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCAqIGFzIGZjIGZyb20gJ2Zhc3QtY2hlY2snO1xuaW1wb3J0IHR5cGUgeyBDcmVhdGVHdWVzdERUTyB9IGZyb20gJ0Avc2NoZW1hcy9ndWVzdFNjaGVtYXMnO1xuXG4vLyBNb2NrIFN1cGFiYXNlIGJlZm9yZSBpbXBvcnRpbmcgZ3Vlc3RTZXJ2aWNlXG5jb25zdCBtb2NrRnJvbSA9IGplc3QuZm4oKTtcbmplc3QubW9jaygnQC9saWIvc3VwYWJhc2UnLCAoKSA9PiAoe1xuICBzdXBhYmFzZToge1xuICAgIGZyb206IG1vY2tGcm9tLFxuICB9LFxufSkpO1xuXG4vLyBJbXBvcnQgYWZ0ZXIgbW9ja2luZ1xuaW1wb3J0ICogYXMgZ3Vlc3RTZXJ2aWNlIGZyb20gJy4vZ3Vlc3RTZXJ2aWNlJztcblxuLyoqXG4gKiBGZWF0dXJlOiBkZXN0aW5hdGlvbi13ZWRkaW5nLXBsYXRmb3JtLCBQcm9wZXJ0eSA1OiBHdWVzdCBJbnB1dCBWYWxpZGF0aW9uXG4gKiBcbiAqIEZvciBhbnkgZ3Vlc3QgZGF0YSB3aGVyZSBmaXJzdCBuYW1lLCBsYXN0IG5hbWUsIG9yIGdyb3VwIElEIGlzIG1pc3NpbmcsXG4gKiBvciB3aGVyZSBlbWFpbCBpcyBzeW50YWN0aWNhbGx5IGludmFsaWQsIHRoZSBzeXN0ZW0gc2hvdWxkIHJlamVjdCB0aGVcbiAqIGNyZWF0aW9uL3VwZGF0ZSBhbmQgcmV0dXJuIGEgdmFsaWRhdGlvbiBlcnJvci5cbiAqIFxuICogVmFsaWRhdGVzOiBSZXF1aXJlbWVudHMgNC4xNlxuICovXG5kZXNjcmliZSgnRmVhdHVyZTogZGVzdGluYXRpb24td2VkZGluZy1wbGF0Zm9ybSwgUHJvcGVydHkgNTogR3Vlc3QgSW5wdXQgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIC8vIEdlbmVyYXRvciBmb3IgdmFsaWQgZ3Vlc3QgZGF0YSB3aXRoIHVuaXF1ZSBpZGVudGlmaWVyc1xuICBjb25zdCB2YWxpZEd1ZXN0QXJiaXRyYXJ5ID0gZmMucmVjb3JkKHtcbiAgICBmaXJzdE5hbWU6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KVxuICAgICAgLmZpbHRlcihzID0+IHMudHJpbSgpLmxlbmd0aCA+IDApXG4gICAgICAubWFwKHMgPT4gYCR7c30gJHtEYXRlLm5vdygpfSAke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KX1gKSwgLy8gQWRkIHVuaXF1ZSBzdWZmaXhcbiAgICBsYXN0TmFtZTogZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDUwIH0pXG4gICAgICAuZmlsdGVyKHMgPT4gcy50cmltKCkubGVuZ3RoID4gMClcbiAgICAgIC5tYXAocyA9PiBgJHtzfSAke0RhdGUubm93KCl9ICR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDUpfWApLCAvLyBBZGQgdW5pcXVlIHN1ZmZpeFxuICAgIGVtYWlsOiBmYy5vcHRpb24oZmMuZW1haWxBZGRyZXNzKCkubWFwKGVtYWlsID0+IHtcbiAgICAgIGNvbnN0IFtsb2NhbCwgZG9tYWluXSA9IGVtYWlsLnNwbGl0KCdAJyk7XG4gICAgICByZXR1cm4gYCR7bG9jYWx9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9QCR7ZG9tYWlufWA7XG4gICAgfSksIHsgbmlsOiBudWxsIH0pLFxuICAgIGdyb3VwSWQ6IGZjLnV1aWQoKSxcbiAgICBhZ2VUeXBlOiBmYy5jb25zdGFudEZyb20oJ2FkdWx0JywgJ2NoaWxkJywgJ3NlbmlvcicpIGFzIGZjLkFyYml0cmFyeTwnYWR1bHQnIHwgJ2NoaWxkJyB8ICdzZW5pb3InPixcbiAgICBndWVzdFR5cGU6IGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiA1MCB9KVxuICAgICAgLmZpbHRlcihzID0+IHMudHJpbSgpLmxlbmd0aCA+IDApXG4gICAgICAubWFwKHMgPT4gYCR7c30tJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KX1gKSwgLy8gQWRkIHVuaXF1ZSBzdWZmaXhcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgZ3Vlc3QgY3JlYXRpb24gd2hlbiBmaXJzdE5hbWUgaXMgbWlzc2luZyBvciBlbXB0eScsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICB2YWxpZEd1ZXN0QXJiaXRyYXJ5LFxuICAgICAgICBhc3luYyAodmFsaWRHdWVzdCkgPT4ge1xuICAgICAgICAgIC8vIFRlc3Qgd2l0aCBlbXB0eSBzdHJpbmdcbiAgICAgICAgICBjb25zdCBpbnZhbGlkR3Vlc3QxID0geyAuLi52YWxpZEd1ZXN0LCBmaXJzdE5hbWU6ICcnIH07XG4gICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0MSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQxLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQxLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUZXN0IHdpdGggd2hpdGVzcGFjZSBvbmx5XG4gICAgICAgICAgY29uc3QgaW52YWxpZEd1ZXN0MiA9IHsgLi4udmFsaWRHdWVzdCwgZmlyc3ROYW1lOiAnICAgJyB9O1xuICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBndWVzdFNlcnZpY2UuY3JlYXRlKGludmFsaWRHdWVzdDIpO1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQyLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgIGlmICghcmVzdWx0Mi5zdWNjZXNzKSB7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0Mi5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVGVzdCB3aXRoIG1pc3NpbmcgZmllbGRcbiAgICAgICAgICBjb25zdCB7IGZpcnN0TmFtZSwgLi4uaW52YWxpZEd1ZXN0MyB9ID0gdmFsaWRHdWVzdDtcbiAgICAgICAgICBjb25zdCByZXN1bHQzID0gYXdhaXQgZ3Vlc3RTZXJ2aWNlLmNyZWF0ZShpbnZhbGlkR3Vlc3QzIGFzIENyZWF0ZUd1ZXN0RFRPKTtcbiAgICAgICAgICBleHBlY3QocmVzdWx0My5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgICAgICBpZiAoIXJlc3VsdDMuc3VjY2Vzcykge1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdDMuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogMTAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlamVjdCBndWVzdCBjcmVhdGlvbiB3aGVuIGxhc3ROYW1lIGlzIG1pc3Npbmcgb3IgZW1wdHknLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgdmFsaWRHdWVzdEFyYml0cmFyeSxcbiAgICAgICAgYXN5bmMgKHZhbGlkR3Vlc3QpID0+IHtcbiAgICAgICAgICAvLyBUZXN0IHdpdGggZW1wdHkgc3RyaW5nXG4gICAgICAgICAgY29uc3QgaW52YWxpZEd1ZXN0MSA9IHsgLi4udmFsaWRHdWVzdCwgbGFzdE5hbWU6ICcnIH07XG4gICAgICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0MSk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQxLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQxLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUZXN0IHdpdGggd2hpdGVzcGFjZSBvbmx5XG4gICAgICAgICAgY29uc3QgaW52YWxpZEd1ZXN0MiA9IHsgLi4udmFsaWRHdWVzdCwgbGFzdE5hbWU6ICcgICAnIH07XG4gICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0Mik7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDIuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBUZXN0IHdpdGggbWlzc2luZyBmaWVsZFxuICAgICAgICAgIGNvbnN0IHsgbGFzdE5hbWUsIC4uLmludmFsaWRHdWVzdDMgfSA9IHZhbGlkR3Vlc3Q7XG4gICAgICAgICAgY29uc3QgcmVzdWx0MyA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0MyBhcyBDcmVhdGVHdWVzdERUTyk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDMuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQzLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDEwMCB9XG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgZ3Vlc3QgY3JlYXRpb24gd2hlbiBncm91cElkIGlzIG1pc3Npbmcgb3IgaW52YWxpZCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBmYy5hc3NlcnQoXG4gICAgICBmYy5hc3luY1Byb3BlcnR5KFxuICAgICAgICB2YWxpZEd1ZXN0QXJiaXRyYXJ5LFxuICAgICAgICBmYy5zdHJpbmcoKS5maWx0ZXIocyA9PiAhaXNWYWxpZFVVSUQocykpLCAvLyBHZW5lcmF0ZSBpbnZhbGlkIFVVSURzXG4gICAgICAgIGFzeW5jICh2YWxpZEd1ZXN0LCBpbnZhbGlkVVVJRCkgPT4ge1xuICAgICAgICAgIC8vIFRlc3Qgd2l0aCBpbnZhbGlkIFVVSURcbiAgICAgICAgICBjb25zdCBpbnZhbGlkR3Vlc3QxID0geyAuLi52YWxpZEd1ZXN0LCBncm91cElkOiBpbnZhbGlkVVVJRCB9O1xuICAgICAgICAgIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBndWVzdFNlcnZpY2UuY3JlYXRlKGludmFsaWRHdWVzdDEpO1xuICAgICAgICAgIGV4cGVjdChyZXN1bHQxLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgIGlmICghcmVzdWx0MS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBleHBlY3QocmVzdWx0MS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVGVzdCB3aXRoIG1pc3NpbmcgZmllbGRcbiAgICAgICAgICBjb25zdCB7IGdyb3VwSWQsIC4uLmludmFsaWRHdWVzdDIgfSA9IHZhbGlkR3Vlc3Q7XG4gICAgICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0MiBhcyBDcmVhdGVHdWVzdERUTyk7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdDIuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQyLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQyLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDEwMCB9XG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWplY3QgZ3Vlc3QgY3JlYXRpb24gd2hlbiBlbWFpbCBpcyBzeW50YWN0aWNhbGx5IGludmFsaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gR2VuZXJhdG9yIGZvciBpbnZhbGlkIGVtYWlsIGZvcm1hdHNcbiAgICBjb25zdCBpbnZhbGlkRW1haWxBcmJpdHJhcnkgPSBmYy5vbmVvZihcbiAgICAgIGZjLmNvbnN0YW50KCdub3QtYW4tZW1haWwnKSxcbiAgICAgIGZjLmNvbnN0YW50KCdtaXNzaW5nQGRvbWFpbicpLFxuICAgICAgZmMuY29uc3RhbnQoJ0Bub2RvbWFpbi5jb20nKSxcbiAgICAgIGZjLmNvbnN0YW50KCduby1hdC1zaWduLmNvbScpLFxuICAgICAgZmMuY29uc3RhbnQoJ3NwYWNlcyBpbkBlbWFpbC5jb20nKSxcbiAgICAgIGZjLmNvbnN0YW50KCdkb3VibGVAQGVtYWlsLmNvbScpLFxuICAgICAgZmMuc3RyaW5nKCkuZmlsdGVyKHMgPT4gIWlzVmFsaWRFbWFpbChzKSAmJiBzLmxlbmd0aCA+IDApXG4gICAgKTtcblxuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkoXG4gICAgICAgIHZhbGlkR3Vlc3RBcmJpdHJhcnksXG4gICAgICAgIGludmFsaWRFbWFpbEFyYml0cmFyeSxcbiAgICAgICAgYXN5bmMgKHZhbGlkR3Vlc3QsIGludmFsaWRFbWFpbCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGludmFsaWRHdWVzdCA9IHsgLi4udmFsaWRHdWVzdCwgZW1haWw6IGludmFsaWRFbWFpbCB9O1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGd1ZXN0U2VydmljZS5jcmVhdGUoaW52YWxpZEd1ZXN0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ1ZhbGlkYXRpb24gZmFpbGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xuXG4gIC8vIE5vdGU6IFBvc2l0aXZlIHRlc3QgY2FzZSAodmFsaWQgZGF0YSBzaG91bGQgc3VjY2VlZCkgaXMgY292ZXJlZCBpbiB1bml0IHRlc3RzXG4gIC8vIFByb3BlcnR5LWJhc2VkIHRlc3RzIGZvY3VzIG9uIHZhbGlkYXRpb24gZmFpbHVyZXMgYWNyb3NzIG1hbnkgcmFuZG9tIGlucHV0c1xuXG4gIGl0KCdzaG91bGQgcmVqZWN0IGd1ZXN0IHVwZGF0ZSB3aGVuIHZhbGlkYXRpb24gZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRJZCA9ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnO1xuXG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eShcbiAgICAgICAgZmMub25lb2YoXG4gICAgICAgICAgZmMucmVjb3JkKHsgZmlyc3ROYW1lOiBmYy5jb25zdGFudCgnJykgfSksIC8vIEVtcHR5IGZpcnN0TmFtZVxuICAgICAgICAgIGZjLnJlY29yZCh7IGZpcnN0TmFtZTogZmMuY29uc3RhbnQoJyAgICcpIH0pLCAvLyBXaGl0ZXNwYWNlIGZpcnN0TmFtZVxuICAgICAgICAgIGZjLnJlY29yZCh7IGxhc3ROYW1lOiBmYy5jb25zdGFudCgnJykgfSksIC8vIEVtcHR5IGxhc3ROYW1lXG4gICAgICAgICAgZmMucmVjb3JkKHsgbGFzdE5hbWU6IGZjLmNvbnN0YW50KCcgICAnKSB9KSwgLy8gV2hpdGVzcGFjZSBsYXN0TmFtZVxuICAgICAgICAgIGZjLnJlY29yZCh7IGVtYWlsOiBmYy5jb25zdGFudCgnaW52YWxpZC1lbWFpbCcpIH0pLCAvLyBJbnZhbGlkIGVtYWlsXG4gICAgICAgICAgZmMucmVjb3JkKHsgZ3JvdXBJZDogZmMuY29uc3RhbnQoJ25vdC1hLXV1aWQnKSB9KSAvLyBJbnZhbGlkIFVVSURcbiAgICAgICAgKSxcbiAgICAgICAgYXN5bmMgKGludmFsaWRVcGRhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBndWVzdFNlcnZpY2UudXBkYXRlKHZhbGlkSWQsIGludmFsaWRVcGRhdGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xufSk7XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHZhbGlkYXRlIFVVSUQgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkVVVJRCh1dWlkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG4gIHJldHVybiB1dWlkUmVnZXgudGVzdCh1dWlkKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gdmFsaWRhdGUgZW1haWwgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkRW1haWwoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bQS1aYS16MC05Ll8lKy1dK0BbQS1aYS16MC05Li1dK1xcLltBLVphLXpdezIsfSQvO1xuICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsKTtcbn1cbiJdLCJuYW1lcyI6WyJtb2NrRnJvbSIsImplc3QiLCJmbiIsIm1vY2siLCJzdXBhYmFzZSIsImZyb20iLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwidmFsaWRHdWVzdEFyYml0cmFyeSIsImZjIiwicmVjb3JkIiwiZmlyc3ROYW1lIiwic3RyaW5nIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwiZmlsdGVyIiwicyIsInRyaW0iLCJsZW5ndGgiLCJtYXAiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwibGFzdE5hbWUiLCJlbWFpbCIsIm9wdGlvbiIsImVtYWlsQWRkcmVzcyIsImxvY2FsIiwiZG9tYWluIiwic3BsaXQiLCJuaWwiLCJncm91cElkIiwidXVpZCIsImFnZVR5cGUiLCJjb25zdGFudEZyb20iLCJndWVzdFR5cGUiLCJpdCIsImFzc2VydCIsImFzeW5jUHJvcGVydHkiLCJ2YWxpZEd1ZXN0IiwiaW52YWxpZEd1ZXN0MSIsInJlc3VsdDEiLCJndWVzdFNlcnZpY2UiLCJjcmVhdGUiLCJleHBlY3QiLCJzdWNjZXNzIiwidG9CZSIsImVycm9yIiwiY29kZSIsImludmFsaWRHdWVzdDIiLCJyZXN1bHQyIiwiaW52YWxpZEd1ZXN0MyIsInJlc3VsdDMiLCJudW1SdW5zIiwiaXNWYWxpZFVVSUQiLCJpbnZhbGlkVVVJRCIsImludmFsaWRFbWFpbEFyYml0cmFyeSIsIm9uZW9mIiwiY29uc3RhbnQiLCJpc1ZhbGlkRW1haWwiLCJpbnZhbGlkRW1haWwiLCJpbnZhbGlkR3Vlc3QiLCJyZXN1bHQiLCJtZXNzYWdlIiwidG9Db250YWluIiwidmFsaWRJZCIsImludmFsaWRVcGRhdGUiLCJ1cGRhdGUiLCJ1dWlkUmVnZXgiLCJ0ZXN0IiwiZW1haWxSZWdleCJdLCJtYXBwaW5ncyI6Ijs7Ozt5QkFBdUQ7bUVBQ25DO3NFQVlVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFUOUIsOENBQThDO0FBQzlDLE1BQU1BLFdBQVdDLGFBQUksQ0FBQ0MsRUFBRTtBQUN4QkQsYUFBSSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLElBQU8sQ0FBQTtRQUNqQ0MsVUFBVTtZQUNSQyxNQUFNTDtRQUNSO0lBQ0YsQ0FBQTtBQUtBOzs7Ozs7OztDQVFDLEdBQ0RNLElBQUFBLGlCQUFRLEVBQUMsNkVBQTZFO0lBQ3BGQyxJQUFBQSxtQkFBVSxFQUFDO1FBQ1ROLGFBQUksQ0FBQ08sYUFBYTtJQUNwQjtJQUVBLHlEQUF5RDtJQUN6RCxNQUFNQyxzQkFBc0JDLFdBQUdDLE1BQU0sQ0FBQztRQUNwQ0MsV0FBV0YsV0FBR0csTUFBTSxDQUFDO1lBQUVDLFdBQVc7WUFBR0MsV0FBVztRQUFHLEdBQ2hEQyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksR0FBR0MsTUFBTSxHQUFHLEdBQzlCQyxHQUFHLENBQUNILENBQUFBLElBQUssR0FBR0EsRUFBRSxDQUFDLEVBQUVJLEtBQUtDLEdBQUcsR0FBRyxDQUFDLEVBQUVDLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLE1BQU0sQ0FBQyxHQUFHLElBQUk7UUFDM0VDLFVBQVVqQixXQUFHRyxNQUFNLENBQUM7WUFBRUMsV0FBVztZQUFHQyxXQUFXO1FBQUcs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