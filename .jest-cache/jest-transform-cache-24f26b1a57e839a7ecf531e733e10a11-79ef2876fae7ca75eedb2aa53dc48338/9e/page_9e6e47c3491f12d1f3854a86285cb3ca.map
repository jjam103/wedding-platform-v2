{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/transportation/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { DataTable } from '@/components/ui/DataTable';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\n\ninterface Guest {\n  id: string;\n  first_name: string;\n  last_name: string;\n  flight_number?: string;\n  arrival_time?: string;\n  departure_time?: string;\n  airport_code?: 'SJO' | 'LIR' | 'Other';\n  shuttle_assignment?: string;\n}\n\ninterface TimeWindow {\n  start: string;\n  end: string;\n  guests: Guest[];\n}\n\ninterface VehicleRequirement {\n  vehicle_type: string;\n  capacity: number;\n  quantity_needed: number;\n  estimated_cost: number;\n}\n\ninterface TransportationPageProps {}\n\nexport default function TransportationPage({}: TransportationPageProps) {\n  const [activeTab, setActiveTab] = useState<'arrivals' | 'departures'>('arrivals');\n  const [selectedDate, setSelectedDate] = useState<string>(\n    new Date().toISOString().split('T')[0]\n  );\n  const [selectedAirport, setSelectedAirport] = useState<string>('all');\n  const [timeWindows, setTimeWindows] = useState<TimeWindow[]>([]);\n  const [vehicleRequirements, setVehicleRequirements] = useState<VehicleRequirement[]>([]);\n  const [totalCost, setTotalCost] = useState<number>(0);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch manifests when date, airport, or tab changes\n  const fetchManifests = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const endpoint = activeTab === 'arrivals' \n        ? '/api/admin/transportation/arrivals'\n        : '/api/admin/transportation/departures';\n      \n      const params = new URLSearchParams({\n        date: selectedDate,\n        ...(selectedAirport !== 'all' && { airport: selectedAirport }),\n      });\n\n      const response = await fetch(`${endpoint}?${params}`);\n      const result = await response.json();\n\n      if (!result.success) {\n        setError(result.error?.message || 'Failed to fetch manifests');\n        return;\n      }\n\n      // Group guests by time windows\n      const windows = groupGuestsByTimeWindow(result.data.guests || []);\n      setTimeWindows(windows);\n\n      // Calculate vehicle requirements\n      const totalGuests = result.data.guests?.length || 0;\n      if (totalGuests > 0) {\n        const vehicleResponse = await fetch(\n          `/api/admin/transportation/vehicle-requirements?guestCount=${totalGuests}`\n        );\n        const vehicleResult = await vehicleResponse.json();\n        \n        if (vehicleResult.success) {\n          setVehicleRequirements(vehicleResult.data);\n          const cost = vehicleResult.data.reduce(\n            (sum: number, req: VehicleRequirement) => sum + req.estimated_cost,\n            0\n          );\n          setTotalCost(cost);\n        }\n      } else {\n        setVehicleRequirements([]);\n        setTotalCost(0);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  }, [activeTab, selectedDate, selectedAirport]);\n\n  useEffect(() => {\n    fetchManifests();\n  }, [fetchManifests]);\n\n  // Group guests by 2-hour time windows\n  const groupGuestsByTimeWindow = (guests: Guest[]): TimeWindow[] => {\n    const windows = new Map<string, Guest[]>();\n    const timeField = activeTab === 'arrivals' ? 'arrival_time' : 'departure_time';\n\n    guests.forEach((guest) => {\n      const time = guest[timeField];\n      if (!time) return;\n\n      // Parse hour from time string (HH:MM:SS)\n      const hour = parseInt(time.split(':')[0], 10);\n      const windowStart = Math.floor(hour / 2) * 2;\n      const windowEnd = windowStart + 2;\n\n      const windowKey = `${String(windowStart).padStart(2, '0')}:00 - ${String(windowEnd).padStart(2, '0')}:00`;\n\n      if (!windows.has(windowKey)) {\n        windows.set(windowKey, []);\n      }\n      windows.get(windowKey)!.push(guest);\n    });\n\n    // Convert to array and sort by time\n    return Array.from(windows.entries())\n      .map(([timeRange, guests]) => {\n        const [start, end] = timeRange.split(' - ');\n        return { start, end, guests };\n      })\n      .sort((a, b) => a.start.localeCompare(b.start));\n  };\n\n  const handleAssignShuttle = async (guestId: string, shuttleName: string) => {\n    try {\n      const response = await fetch('/api/admin/transportation/assign-shuttle', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ guestId, shuttleName }),\n      });\n\n      const result = await response.json();\n      if (result.success) {\n        fetchManifests(); // Refresh data\n      } else {\n        setError(result.error?.message || 'Failed to assign shuttle');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    }\n  };\n\n  const handleGenerateDriverSheets = async () => {\n    try {\n      const response = await fetch('/api/admin/transportation/driver-sheets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ date: selectedDate, type: activeTab }),\n      });\n\n      const result = await response.json();\n      if (result.success) {\n        // Open driver sheets in new window for printing\n        const printWindow = window.open('', '_blank');\n        if (printWindow) {\n          printWindow.document.write(result.data.html);\n          printWindow.document.close();\n          printWindow.print();\n        }\n      } else {\n        setError(result.error?.message || 'Failed to generate driver sheets');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    }\n  };\n\n  const handlePrintManifest = () => {\n    window.print();\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold\">Transportation Management</h1>\n        <div className=\"flex gap-2\">\n          <Button onClick={handleGenerateDriverSheets} variant=\"secondary\">\n            Generate Driver Sheets\n          </Button>\n          <Button onClick={handlePrintManifest} variant=\"secondary\">\n            Print Manifest\n          </Button>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex gap-4 border-b\">\n        <button\n          onClick={() => setActiveTab('arrivals')}\n          className={`px-4 py-2 font-medium ${\n            activeTab === 'arrivals'\n              ? 'border-b-2 border-blue-500 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Arrivals\n        </button>\n        <button\n          onClick={() => setActiveTab('departures')}\n          className={`px-4 py-2 font-medium ${\n            activeTab === 'departures'\n              ? 'border-b-2 border-blue-500 text-blue-600'\n              : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          Departures\n        </button>\n      </div>\n\n      {/* Filters */}\n      <Card className=\"p-4\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1\">\n            <label htmlFor=\"date-filter\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Date\n            </label>\n            <input\n              id=\"date-filter\"\n              type=\"date\"\n              value={selectedDate}\n              onChange={(e) => setSelectedDate(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n            />\n          </div>\n          <div className=\"flex-1\">\n            <label htmlFor=\"airport-filter\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Airport\n            </label>\n            <select\n              id=\"airport-filter\"\n              value={selectedAirport}\n              onChange={(e) => setSelectedAirport(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n            >\n              <option value=\"all\">All Airports</option>\n              <option value=\"SJO\">SJO - San José</option>\n              <option value=\"LIR\">LIR - Liberia</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n        </div>\n      </Card>\n\n      {/* Error Display */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      )}\n\n      {/* Loading State */}\n      {loading && (\n        <div className=\"text-center py-8\">\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading manifests...</p>\n        </div>\n      )}\n\n      {/* Time Windows */}\n      {!loading && timeWindows.length === 0 && (\n        <Card className=\"p-8 text-center text-gray-500\">\n          No guests scheduled for {activeTab} on {selectedDate}\n        </Card>\n      )}\n\n      {!loading && timeWindows.map((window, index) => (\n        <Card key={index} className=\"p-4\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            {window.start} - {window.end} ({window.guests.length} guests)\n          </h3>\n          \n          <DataTable\n            data={window.guests}\n            columns={[\n              {\n                key: 'name',\n                label: 'Guest Name',\n                render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,\n              },\n              {\n                key: 'flight_number',\n                label: 'Flight',\n                render: (guest: Guest) => guest.flight_number || '-',\n              },\n              {\n                key: 'time',\n                label: 'Time',\n                render: (guest: Guest) => {\n                  const time = activeTab === 'arrivals' \n                    ? guest.arrival_time \n                    : guest.departure_time;\n                  return time ? time.substring(0, 5) : '-';\n                },\n              },\n              {\n                key: 'airport_code',\n                label: 'Airport',\n                render: (guest: Guest) => guest.airport_code || '-',\n              },\n              {\n                key: 'shuttle',\n                label: 'Shuttle',\n                render: (guest: Guest) => (\n                  <input\n                    type=\"text\"\n                    value={guest.shuttle_assignment || ''}\n                    onChange={(e) => handleAssignShuttle(guest.id, e.target.value)}\n                    placeholder=\"Assign shuttle\"\n                    className=\"px-2 py-1 border border-gray-300 rounded text-sm\"\n                  />\n                ),\n              },\n            ]}\n          />\n        </Card>\n      ))}\n\n      {/* Vehicle Requirements */}\n      {!loading && vehicleRequirements.length > 0 && (\n        <Card className=\"p-4\">\n          <h3 className=\"text-lg font-semibold mb-4\">Vehicle Requirements</h3>\n          <div className=\"space-y-2\">\n            {vehicleRequirements.map((req, index) => (\n              <div key={index} className=\"flex justify-between items-center\">\n                <span className=\"text-gray-700\">\n                  {req.quantity_needed} × {req.vehicle_type} ({req.capacity} passengers each)\n                </span>\n                <span className=\"font-medium\">${req.estimated_cost}</span>\n              </div>\n            ))}\n            <div className=\"border-t pt-2 mt-2 flex justify-between items-center font-bold\">\n              <span>Total Cost:</span>\n              <span>${totalCost}</span>\n            </div>\n          </div>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":["TransportationPage","activeTab","setActiveTab","useState","selectedDate","setSelectedDate","Date","toISOString","split","selectedAirport","setSelectedAirport","timeWindows","setTimeWindows","vehicleRequirements","setVehicleRequirements","totalCost","setTotalCost","loading","setLoading","error","setError","fetchManifests","useCallback","endpoint","params","URLSearchParams","date","airport","response","fetch","result","json","success","message","windows","groupGuestsByTimeWindow","data","guests","totalGuests","length","vehicleResponse","vehicleResult","cost","reduce","sum","req","estimated_cost","err","Error","useEffect","Map","timeField","forEach","guest","time","hour","parseInt","windowStart","Math","floor","windowEnd","windowKey","String","padStart","has","set","get","push","Array","from","entries","map","timeRange","start","end","sort","a","b","localeCompare","handleAssignShuttle","guestId","shuttleName","method","headers","body","JSON","stringify","handleGenerateDriverSheets","type","printWindow","window","open","document","write","html","close","print","handlePrintManifest","div","className","h1","Button","onClick","variant","button","Card","label","htmlFor","input","id","value","onChange","e","target","select","option","p","index","h3","DataTable","columns","key","render","first_name","last_name","flight_number","arrival_time","departure_time","substring","airport_code","shuttle_assignment","placeholder","span","quantity_needed","vehicle_type","capacity"],"mappings":"AAAA;;;;;+BAiCA;;;eAAwBA;;;;uBA/ByB;2BACvB;wBACH;sBACF;AA4BN,SAASA,mBAAmB,EAA2B;IACpE,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,eAAQ,EAA4B;IACtE,MAAM,CAACC,cAAcC,gBAAgB,GAAGF,IAAAA,eAAQ,EAC9C,IAAIG,OAAOC,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;IAExC,MAAM,CAACC,iBAAiBC,mBAAmB,GAAGP,IAAAA,eAAQ,EAAS;IAC/D,MAAM,CAACQ,aAAaC,eAAe,GAAGT,IAAAA,eAAQ,EAAe,EAAE;IAC/D,MAAM,CAACU,qBAAqBC,uBAAuB,GAAGX,IAAAA,eAAQ,EAAuB,EAAE;IACvF,MAAM,CAACY,WAAWC,aAAa,GAAGb,IAAAA,eAAQ,EAAS;IACnD,MAAM,CAACc,SAASC,WAAW,GAAGf,IAAAA,eAAQ,EAAU;IAChD,MAAM,CAACgB,OAAOC,SAAS,GAAGjB,IAAAA,eAAQ,EAAgB;IAElD,qDAAqD;IACrD,MAAMkB,iBAAiBC,IAAAA,kBAAW,EAAC;QACjCJ,WAAW;QACXE,SAAS;QAET,IAAI;YACF,MAAMG,WAAWtB,cAAc,aAC3B,uCACA;YAEJ,MAAMuB,SAAS,IAAIC,gBAAgB;gBACjCC,MAAMtB;gBACN,GAAIK,oBAAoB,SAAS;oBAAEkB,SAASlB;gBAAgB,CAAC;YAC/D;YAEA,MAAMmB,WAAW,MAAMC,MAAM,GAAGN,SAAS,CAAC,EAAEC,QAAQ;YACpD,MAAMM,SAAS,MAAMF,SAASG,IAAI;YAElC,IAAI,CAACD,OAAOE,OAAO,EAAE;gBACnBZ,SAASU,OAAOX,KAAK,EAAEc,WAAW;gBAClC;YACF;YAEA,+BAA+B;YAC/B,MAAMC,UAAUC,wBAAwBL,OAAOM,IAAI,CAACC,MAAM,IAAI,EAAE;YAChEzB,eAAesB;YAEf,iCAAiC;YACjC,MAAMI,cAAcR,OAAOM,IAAI,CAACC,MAAM,EAAEE,UAAU;YAClD,IAAID,cAAc,GAAG;gBACnB,MAAME,kBAAkB,MAAMX,MAC5B,CAAC,0DAA0D,EAAES,aAAa;gBAE5E,MAAMG,gBAAgB,MAAMD,gBAAgBT,IAAI;gBAEhD,IAAIU,cAAcT,OAAO,EAAE;oBACzBlB,uBAAuB2B,cAAcL,IAAI;oBACzC,MAAMM,OAAOD,cAAcL,IAAI,CAACO,MAAM,CACpC,CAACC,KAAaC,MAA4BD,MAAMC,IAAIC,cAAc,EAClE;oBAEF9B,aAAa0B;gBACf;YACF,OAAO;gBACL5B,uBAAuB,EAAE;gBACzBE,aAAa;YACf;QACF,EAAE,OAAO+B,KAAK;YACZ3B,SAAS2B,eAAeC,QAAQD,IAAId,OAAO,GAAG;QAChD,SAAU;YACRf,WAAW;QACb;IACF,GAAG;QAACjB;QAAWG;QAAcK;KAAgB;IAE7CwC,IAAAA,gBAAS,EAAC;QACR5B;IACF,GAAG;QAACA;KAAe;IAEnB,sCAAsC;IACtC,MAAMc,0BAA0B,CAACE;QAC/B,MAAMH,UAAU,IAAIgB;QACpB,MAAMC,YAAYlD,cAAc,aAAa,iBAAiB;QAE9DoC,OAAOe,OAAO,CAAC,CAACC;YACd,MAAMC,OAAOD,KAAK,CAACF,UAAU;YAC7B,IAAI,CAACG,MAAM;YAEX,yCAAyC;YACzC,MAAMC,OAAOC,SAASF,KAAK9C,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE;YAC1C,MAAMiD,cAAcC,KAAKC,KAAK,CAACJ,OAAO,KAAK;YAC3C,MAAMK,YAAYH,cAAc;YAEhC,MAAMI,YAAY,GAAGC,OAAOL,aAAaM,QAAQ,CAAC,GAAG,KAAK,MAAM,EAAED,OAAOF,WAAWG,QAAQ,CAAC,GAAG,KAAK,GAAG,CAAC;YAEzG,IAAI,CAAC7B,QAAQ8B,GAAG,CAACH,YAAY;gBAC3B3B,QAAQ+B,GAAG,CAACJ,WAAW,EAAE;YAC3B;YACA3B,QAAQgC,GAAG,CAACL,WAAYM,IAAI,CAACd;QAC/B;QAEA,oCAAoC;QACpC,OAAOe,MAAMC,IAAI,CAACnC,QAAQoC,OAAO,IAC9BC,GAAG,CAAC,CAAC,CAACC,WAAWnC,OAAO;YACvB,MAAM,CAACoC,OAAOC,IAAI,GAAGF,UAAUhE,KAAK,CAAC;YACrC,OAAO;gBAAEiE;gBAAOC;gBAAKrC;YAAO;QAC9B,GACCsC,IAAI,CAAC,CAACC,GAAGC,IAAMD,EAAEH,KAAK,CAACK,aAAa,CAACD,EAAEJ,KAAK;IACjD;IAEA,MAAMM,sBAAsB,OAAOC,SAAiBC;QAClD,IAAI;YACF,MAAMrD,WAAW,MAAMC,MAAM,4CAA4C;gBACvEqD,QAAQ;gBACRC,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9CC,MAAMC,KAAKC,SAAS,CAAC;oBAAEN;oBAASC;gBAAY;YAC9C;YAEA,MAAMnD,SAAS,MAAMF,SAASG,IAAI;YAClC,IAAID,OAAOE,OAAO,EAAE;gBAClBX,kBAAkB,eAAe;YACnC,OAAO;gBACLD,SAASU,OAAOX,KAAK,EAAEc,WAAW;YACpC;QACF,EAAE,OAAOc,KAAK;YACZ3B,SAAS2B,eAAeC,QAAQD,IAAId,OAAO,GAAG;QAChD;IACF;IAEA,MAAMsD,6BAA6B;QACjC,IAAI;YACF,MAAM3D,WAAW,MAAMC,MAAM,2CAA2C;gBACtEqD,QAAQ;gBACRC,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9CC,MAAMC,KAAKC,SAAS,CAAC;oBAAE5D,MAAMtB;oBAAcoF,MAAMvF;gBAAU;YAC7D;YAEA,MAAM6B,SAAS,MAAMF,SAASG,IAAI;YAClC,IAAID,OAAOE,OAAO,EAAE;gBAClB,gDAAgD;gBAChD,MAAMyD,cAAcC,OAAOC,IAAI,CAAC,IAAI;gBACpC,IAAIF,aAAa;oBACfA,YAAYG,QAAQ,CAACC,KAAK,CAAC/D,OAAOM,IAAI,CAAC0D,IAAI;oBAC3CL,YAAYG,QAAQ,CAACG,KAAK;oBAC1BN,YAAYO,KAAK;gBACnB;YACF,OAAO;gBACL5E,SAASU,OAAOX,KAAK,EAAEc,WAAW;YACpC;QACF,EAAE,OAAOc,KAAK;YACZ3B,SAAS2B,eAAeC,QAAQD,IAAId,OAAO,GAAG;QAChD;IACF;IAEA,MAAMgE,sBAAsB;QAC1BP,OAAOM,KAAK;IACd;IAEA,qBACE,sBAACE;QAAIC,WAAU;;0BACb,sBAACD;gBAAIC,WAAU;;kCACb,qBAACC;wBAAGD,WAAU;kCAAqB;;kCACnC,sBAACD;wBAAIC,WAAU;;0CACb,qBAACE,cAAM;gCAACC,SAASf;gCAA4BgB,SAAQ;0CAAY;;0CAGjE,qBAACF,cAAM;gCAACC,SAASL;gCAAqBM,SAAQ;0CAAY;;;;;;0BAO9D,sBAACL;gBAAIC,WAAU;;kCACb,qBAACK;wBACCF,SAAS,IAAMpG,aAAa;wBAC5BiG,WAAW,CAAC,sBAAsB,EAChClG,cAAc,aACV,6CACA,qCACJ;kCACH;;kCAGD,qBAACuG;wBACCF,SAAS,IAAMpG,aAAa;wBAC5BiG,WAAW,CAAC,sBAAsB,EAChClG,cAAc,eACV,6CACA,qCACJ;kCACH;;;;0BAMH,qBAACwG,UAAI;gBAACN,WAAU;0BACd,cAAA,sBAACD;oBAAIC,WAAU;;sCACb,sBAACD;4BAAIC,WAAU;;8CACb,qBAACO;oCAAMC,SAAQ;oCAAcR,WAAU;8CAA+C;;8CAGtF,qBAACS;oCACCC,IAAG;oCACHrB,MAAK;oCACLsB,OAAO1G;oCACP2G,UAAU,CAACC,IAAM3G,gBAAgB2G,EAAEC,MAAM,CAACH,KAAK;oCAC/CX,WAAU;;;;sCAGd,sBAACD;4BAAIC,WAAU;;8CACb,qBAACO;oCAAMC,SAAQ;oCAAiBR,WAAU;8CAA+C;;8CAGzF,sBAACe;oCACCL,IAAG;oCACHC,OAAOrG;oCACPsG,UAAU,CAACC,IAAMtG,mBAAmBsG,EAAEC,MAAM,CAACH,KAAK;oCAClDX,WAAU;;sDAEV,qBAACgB;4CAAOL,OAAM;sDAAM;;sDACpB,qBAACK;4CAAOL,OAAM;sDAAM;;sDACpB,qBAACK;4CAAOL,OAAM;sDAAM;;sDACpB,qBAACK;4CAAOL,OAAM;sDAAQ;;;;;;;;;YAO7B3F,uBACC,qBAAC+E;gBAAIC,WAAU;0BACZhF;;YAKJF,yBACC,sBAACiF;gBAAIC,WAAU;;kCACb,qBAACD;wBAAIC,WAAU;;kCACf,qBAACiB;wBAAEjB,WAAU;kCAAqB;;;;YAKrC,CAAClF,WAAWN,YAAY4B,MAAM,KAAK,mBAClC,sBAACkE,UAAI;gBAACN,WAAU;;oBAAgC;oBACrBlG;oBAAU;oBAAKG;;;YAI3C,CAACa,WAAWN,YAAY4D,GAAG,CAAC,CAACmB,SAAQ2B,sBACpC,sBAACZ,UAAI;oBAAaN,WAAU;;sCAC1B,sBAACmB;4BAAGnB,WAAU;;gCACXT,QAAOjB,KAAK;gCAAC;gCAAIiB,QAAOhB,GAAG;gCAAC;gCAAGgB,QAAOrD,MAAM,CAACE,MAAM;gCAAC;;;sCAGvD,qBAACgF,oBAAS;4BACRnF,MAAMsD,QAAOrD,MAAM;4BACnBmF,SAAS;gCACP;oCACEC,KAAK;oCACLf,OAAO;oCACPgB,QAAQ,CAACrE,QAAiB,GAAGA,MAAMsE,UAAU,CAAC,CAAC,EAAEtE,MAAMuE,SAAS,EAAE;gCACpE;gCACA;oCACEH,KAAK;oCACLf,OAAO;oCACPgB,QAAQ,CAACrE,QAAiBA,MAAMwE,aAAa,IAAI;gCACnD;gCACA;oCACEJ,KAAK;oCACLf,OAAO;oCACPgB,QAAQ,CAACrE;wCACP,MAAMC,OAAOrD,cAAc,aACvBoD,MAAMyE,YAAY,GAClBzE,MAAM0E,cAAc;wCACxB,OAAOzE,OAAOA,KAAK0E,SAAS,CAAC,GAAG,KAAK;oCACvC;gCACF;gCACA;oCACEP,KAAK;oCACLf,OAAO;oCACPgB,QAAQ,CAACrE,QAAiBA,MAAM4E,YAAY,IAAI;gCAClD;gCACA;oCACER,KAAK;oCACLf,OAAO;oCACPgB,QAAQ,CAACrE,sBACP,qBAACuD;4CACCpB,MAAK;4CACLsB,OAAOzD,MAAM6E,kBAAkB,IAAI;4CACnCnB,UAAU,CAACC,IAAMjC,oBAAoB1B,MAAMwD,EAAE,EAAEG,EAAEC,MAAM,CAACH,KAAK;4CAC7DqB,aAAY;4CACZhC,WAAU;;gCAGhB;6BACD;;;mBA9CMkB;YAoDZ,CAACpG,WAAWJ,oBAAoB0B,MAAM,GAAG,mBACxC,sBAACkE,UAAI;gBAACN,WAAU;;kCACd,qBAACmB;wBAAGnB,WAAU;kCAA6B;;kCAC3C,sBAACD;wBAAIC,WAAU;;4BACZtF,oBAAoB0D,GAAG,CAAC,CAAC1B,KAAKwE,sBAC7B,sBAACnB;oCAAgBC,WAAU;;sDACzB,sBAACiC;4CAAKjC,WAAU;;gDACbtD,IAAIwF,eAAe;gDAAC;gDAAIxF,IAAIyF,YAAY;gDAAC;gDAAGzF,IAAI0F,QAAQ;gDAAC;;;sDAE5D,sBAACH;4CAAKjC,WAAU;;gDAAc;gDAAEtD,IAAIC,cAAc;;;;mCAJ1CuE;0CAOZ,sBAACnB;gCAAIC,WAAU;;kDACb,qBAACiC;kDAAK;;kDACN,sBAACA;;4CAAK;4CAAErH;;;;;;;;;;;AAOtB"}