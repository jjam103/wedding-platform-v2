{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/SectionEditor.test.tsx"],"sourcesContent":["/**\n * Unit Tests for SectionEditor Component\n * \n * Tests:\n * - Section creation\n * - Section reordering\n * - Layout toggle\n * - Column editing\n * \n * Requirements: 2.1-2.6\n */\n\nimport { render, screen, fireEvent, waitFor, cleanup } from '@testing-library/react';\nimport { SectionEditor } from './SectionEditor';\n\n// Mock fetch globally\nglobal.fetch = jest.fn();\n\n// Mock window.confirm\nconst originalConfirm = window.confirm;\n\n// Mock scrollIntoView\nElement.prototype.scrollIntoView = jest.fn();\n\n// Mock section data\nconst mockSection = {\n  id: 'section-1',\n  page_type: 'custom' as const,\n  page_id: 'page-1',\n  display_order: 0,\n  created_at: '2024-01-01T00:00:00Z',\n  updated_at: '2024-01-01T00:00:00Z',\n  columns: [\n    {\n      id: 'column-1',\n      section_id: 'section-1',\n      column_number: 1 as const,\n      content_type: 'rich_text' as const,\n      content_data: { html: '<p>Test content</p>' },\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    },\n  ],\n};\n\nconst mockTwoColumnSection = {\n  ...mockSection,\n  id: 'section-2',\n  display_order: 1,\n  columns: [\n    {\n      id: 'column-2',\n      section_id: 'section-2',\n      column_number: 1 as const,\n      content_type: 'rich_text' as const,\n      content_data: { html: '<p>Column 1</p>' },\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    },\n    {\n      id: 'column-3',\n      section_id: 'section-2',\n      column_number: 2 as const,\n      content_type: 'rich_text' as const,\n      content_data: { html: '<p>Column 2</p>' },\n      created_at: '2024-01-01T00:00:00Z',\n      updated_at: '2024-01-01T00:00:00Z',\n    },\n  ],\n};\n\ndescribe('SectionEditor', () => {\n  let mockOnSave: jest.Mock;\n  let mockOnClose: jest.Mock;\n\n  beforeEach(() => {\n    mockOnSave = jest.fn();\n    mockOnClose = jest.fn();\n    window.confirm = jest.fn().mockReturnValue(true);\n    (global.fetch as jest.Mock).mockReset();\n    jest.clearAllMocks();\n  });\n\n  afterEach(() => {\n    cleanup();\n    window.confirm = originalConfirm;\n  });\n\n  const mockFetchSuccess = (data: any) => {\n    (global.fetch as jest.Mock).mockResolvedValueOnce({\n      ok: true,\n      json: async () => ({ success: true, data }),\n    });\n  };\n\n  const mockFetchError = (message: string) => {\n    (global.fetch as jest.Mock).mockResolvedValueOnce({\n      ok: true,\n      json: async () => ({ success: false, error: { message } }),\n    });\n  };\n\n  describe('Section Creation', () => {\n    it('should display \"Add Section\" button', async () => {\n      mockFetchSuccess([]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n    });\n\n    it('should create new section when \"Add Section\" is clicked', async () => {\n      mockFetchSuccess([]); // Initial fetch\n      mockFetchSuccess(mockSection); // Create section\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/sections',\n          expect.objectContaining({\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: expect.stringContaining('\"page_id\":\"page-1\"'),\n          })\n        );\n      });\n    });\n\n    it('should add new section to the list after creation', async () => {\n      mockFetchSuccess([]); // Initial fetch\n      mockFetchSuccess(mockSection); // Create section\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText(/no sections yet/i)).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n    });\n\n    it('should create section with one column by default', async () => {\n      mockFetchSuccess([]); // Initial fetch\n      mockFetchSuccess(mockSection); // Create section\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      await waitFor(() => {\n        const createCall = (global.fetch as jest.Mock).mock.calls.find(\n          call => call[0] === '/api/admin/sections' && call[1]?.method === 'POST'\n        );\n        expect(createCall).toBeDefined();\n        const body = JSON.parse(createCall[1].body);\n        expect(body.columns).toHaveLength(1);\n        expect(body.columns[0].column_number).toBe(1);\n      });\n    });\n\n    it('should display error message when section creation fails', async () => {\n      mockFetchSuccess([]); // Initial fetch\n      mockFetchError('Failed to create section'); // Create section error\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Failed to create section')).toBeInTheDocument();\n      });\n    });\n\n    it('should disable \"Add Section\" button while saving', async () => {\n      mockFetchSuccess([]); // Initial fetch\n      \n      // Mock a delayed response\n      (global.fetch as jest.Mock).mockImplementationOnce(() =>\n        new Promise(resolve => setTimeout(() => resolve({\n          ok: true,\n          json: async () => ({ success: true, data: mockSection }),\n        }), 100))\n      );\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      // Button should be disabled during save\n      expect(addButton).toBeDisabled();\n    });\n  });\n\n  describe('Section Reordering', () => {\n    it('should display move up and move down buttons for sections', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const moveUpButtons = screen.getAllByRole('button', { name: /move section up/i });\n      const moveDownButtons = screen.getAllByRole('button', { name: /move section down/i });\n\n      expect(moveUpButtons).toHaveLength(2);\n      expect(moveDownButtons).toHaveLength(2);\n    });\n\n    it('should disable move up button for first section', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const moveUpButtons = screen.getAllByRole('button', { name: /move section up/i });\n      expect(moveUpButtons[0]).toBeDisabled();\n      expect(moveUpButtons[1]).not.toBeDisabled();\n    });\n\n    it('should disable move down button for last section', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const moveDownButtons = screen.getAllByRole('button', { name: /move section down/i });\n      expect(moveDownButtons[0]).not.toBeDisabled();\n      expect(moveDownButtons[1]).toBeDisabled();\n    });\n\n    it('should move section up when move up button is clicked', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n      mockFetchSuccess({ success: true }); // Reorder API call\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#2', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      // Click move up on second section\n      const moveUpButtons = screen.getAllByRole('button', { name: /move section up/i });\n      fireEvent.click(moveUpButtons[1]);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/sections/reorder',\n          expect.objectContaining({\n            method: 'POST',\n            body: expect.stringContaining('\"pageId\":\"page-1\"'),\n          })\n        );\n      });\n    });\n\n    it('should move section down when move down button is clicked', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n      mockFetchSuccess({ success: true }); // Reorder API call\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      // Click move down on first section\n      const moveDownButtons = screen.getAllByRole('button', { name: /move section down/i });\n      fireEvent.click(moveDownButtons[0]);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/sections/reorder',\n          expect.objectContaining({\n            method: 'POST',\n          })\n        );\n      });\n    });\n\n    it('should support drag and drop reordering', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n      mockFetchSuccess({ success: true }); // Reorder API call\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const sections = screen.getAllByText(/#\\d+/, { selector: 'span' });\n      const firstSection = sections[0].closest('div[draggable=\"true\"]');\n      const secondSection = sections[1].closest('div[draggable=\"true\"]');\n\n      // Simulate drag and drop\n      if (firstSection && secondSection) {\n        fireEvent.dragStart(firstSection);\n        fireEvent.dragOver(secondSection);\n        fireEvent.drop(secondSection);\n      }\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/sections/reorder',\n          expect.objectContaining({\n            method: 'POST',\n          })\n        );\n      });\n    });\n\n    it('should apply opacity style to dragged section', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const sections = screen.getAllByText(/#\\d+/, { selector: 'span' });\n      const firstSection = sections[0].closest('div[draggable=\"true\"]');\n\n      if (firstSection) {\n        fireEvent.dragStart(firstSection);\n        expect(firstSection.className).toContain('opacity-50');\n      }\n    });\n\n    it('should call reorder API when moving section', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]); // Initial fetch\n      mockFetchSuccess({ success: true }); // Reorder API success\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const moveDownButtons = screen.getAllByRole('button', { name: /move section down/i });\n      fireEvent.click(moveDownButtons[0]);\n\n      // Should call reorder API\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          '/api/admin/sections/reorder',\n          expect.objectContaining({\n            method: 'POST',\n          })\n        );\n      });\n    });\n\n    it('should not reorder when dragging section onto itself', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const sections = screen.getAllByText(/#\\d+/, { selector: 'span' });\n      const firstSection = sections[0].closest('div[draggable=\"true\"]');\n\n      if (firstSection) {\n        fireEvent.dragStart(firstSection);\n        fireEvent.drop(firstSection);\n      }\n\n      // Should not call reorder API\n      expect(global.fetch).not.toHaveBeenCalledWith(\n        '/api/admin/sections/reorder',\n        expect.anything()\n      );\n    });\n  });\n\n  describe('Layout Toggle', () => {\n    it('should display layout toggle button for each section', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to two column layout/i });\n      expect(layoutButton).toBeInTheDocument();\n      expect(layoutButton).toHaveTextContent('1 Col');\n    });\n\n    it('should show \"1 Col\" for one-column layout', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to two column layout/i });\n      expect(layoutButton).toHaveTextContent('1 Col');\n    });\n\n    it('should show \"2 Col\" for two-column layout', async () => {\n      mockFetchSuccess([mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to one column layout/i });\n      expect(layoutButton).toHaveTextContent('2 Col');\n    });\n\n    it('should toggle from one column to two columns', async () => {\n      mockFetchSuccess([mockSection]);\n      mockFetchSuccess(mockTwoColumnSection); // Updated section with 2 columns\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to two column layout/i });\n      fireEvent.click(layoutButton);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          `/api/admin/sections/${mockSection.id}`,\n          expect.objectContaining({\n            method: 'PUT',\n            body: expect.stringContaining('\"columns\"'),\n          })\n        );\n      });\n    });\n\n    it('should toggle from two columns to one column', async () => {\n      mockFetchSuccess([mockTwoColumnSection]);\n      mockFetchSuccess(mockSection); // Updated section with 1 column\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to one column layout/i });\n      fireEvent.click(layoutButton);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          `/api/admin/sections/${mockTwoColumnSection.id}`,\n          expect.objectContaining({\n            method: 'PUT',\n          })\n        );\n      });\n    });\n\n    it('should add second column when toggling to two columns', async () => {\n      mockFetchSuccess([mockSection]);\n      mockFetchSuccess(mockTwoColumnSection);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to two column layout/i });\n      fireEvent.click(layoutButton);\n\n      await waitFor(() => {\n        const updateCall = (global.fetch as jest.Mock).mock.calls.find(\n          call => call[0].includes('/api/admin/sections/section-') && call[1]?.method === 'PUT'\n        );\n        expect(updateCall).toBeDefined();\n        const body = JSON.parse(updateCall[1].body);\n        expect(body.columns).toHaveLength(2);\n        expect(body.columns[1].column_number).toBe(2);\n      });\n    });\n\n    it('should keep only first column when toggling to one column', async () => {\n      mockFetchSuccess([mockTwoColumnSection]);\n      mockFetchSuccess(mockSection);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to one column layout/i });\n      fireEvent.click(layoutButton);\n\n      await waitFor(() => {\n        const updateCall = (global.fetch as jest.Mock).mock.calls.find(\n          call => call[0].includes('/api/admin/sections/section-') && call[1]?.method === 'PUT'\n        );\n        expect(updateCall).toBeDefined();\n        const body = JSON.parse(updateCall[1].body);\n        expect(body.columns).toHaveLength(1);\n      });\n    });\n\n    it('should display error when layout toggle fails', async () => {\n      mockFetchSuccess([mockSection]);\n      mockFetchError('Failed to update layout');\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const layoutButton = screen.getByRole('button', { name: /toggle to two column layout/i });\n      fireEvent.click(layoutButton);\n\n      await waitFor(() => {\n        expect(screen.getByRole('alert')).toHaveTextContent('Failed to update layout');\n      });\n    });\n\n    it('should render columns in grid layout based on column count', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const sections = screen.getAllByText(/#\\d+/, { selector: 'span' }).map(el => el.closest('div[draggable=\"true\"]'));\n      \n      // First section should have grid-cols-1\n      const firstSectionContent = sections[0]?.querySelector('.grid');\n      expect(firstSectionContent?.className).toContain('grid-cols-1');\n\n      // Second section should have grid-cols-2\n      const secondSectionContent = sections[1]?.querySelector('.grid');\n      expect(secondSectionContent?.className).toContain('grid-cols-2');\n    });\n  });\n\n  describe('Column Editing', () => {\n    it('should display column content for rich text', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('Column 1')).toBeInTheDocument();\n      });\n\n      // Rich text content should be displayed (as escaped HTML)\n      expect(screen.getByText(/<p>Test content<\\/p>/)).toBeInTheDocument();\n    });\n\n    it('should display column number label', async () => {\n      mockFetchSuccess([mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      // Check for column labels specifically (not content)\n      const columnLabels = screen.getAllByText(/^Column \\d$/);\n      expect(columnLabels).toHaveLength(2);\n      expect(columnLabels[0]).toHaveTextContent('Column 1');\n      expect(columnLabels[1]).toHaveTextContent('Column 2');\n    });\n\n    it('should display empty content placeholder for empty rich text', async () => {\n      const emptySection = {\n        ...mockSection,\n        columns: [{\n          ...mockSection.columns[0],\n          content_data: { html: '' },\n        }],\n      };\n      mockFetchSuccess([emptySection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByText('Empty content')).toBeInTheDocument();\n    });\n\n    it('should display photo gallery content type', async () => {\n      const photoSection = {\n        ...mockSection,\n        columns: [{\n          ...mockSection.columns[0],\n          content_type: 'photo_gallery' as const,\n          content_data: { photo_ids: ['photo-1', 'photo-2', 'photo-3'] },\n        }],\n      };\n      mockFetchSuccess([photoSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByText('Photo Gallery (3 photos)')).toBeInTheDocument();\n    });\n\n    it('should display references content type', async () => {\n      const referenceSection = {\n        ...mockSection,\n        columns: [{\n          ...mockSection.columns[0],\n          content_type: 'references' as const,\n          content_data: { references: [{ id: 'ref-1', type: 'event', name: 'Ceremony' }] },\n        }],\n      };\n      mockFetchSuccess([referenceSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByText('References (1 items)')).toBeInTheDocument();\n    });\n\n    it('should display zero count for empty photo gallery', async () => {\n      const emptyPhotoSection = {\n        ...mockSection,\n        columns: [{\n          ...mockSection.columns[0],\n          content_type: 'photo_gallery' as const,\n          content_data: {},\n        }],\n      };\n      mockFetchSuccess([emptyPhotoSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByText('Photo Gallery (0 photos)')).toBeInTheDocument();\n    });\n  });\n\n  describe('Section Deletion', () => {\n    it('should display delete button for each section', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByRole('button', { name: /delete section/i })).toBeInTheDocument();\n    });\n\n    it('should show confirmation dialog when delete is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const deleteButton = screen.getByRole('button', { name: /delete section/i });\n      fireEvent.click(deleteButton);\n\n      expect(window.confirm).toHaveBeenCalledWith('Are you sure you want to delete this section?');\n    });\n\n    it('should delete section when confirmed', async () => {\n      mockFetchSuccess([mockSection]);\n      mockFetchSuccess({ success: true }); // Delete API call\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const deleteButton = screen.getByRole('button', { name: /delete section/i });\n      fireEvent.click(deleteButton);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith(\n          `/api/admin/sections/${mockSection.id}`,\n          expect.objectContaining({\n            method: 'DELETE',\n          })\n        );\n      });\n    });\n\n    it('should not delete section when confirmation is cancelled', async () => {\n      window.confirm = jest.fn().mockReturnValue(false);\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const deleteButton = screen.getByRole('button', { name: /delete section/i });\n      fireEvent.click(deleteButton);\n\n      // Should not call delete API\n      expect(global.fetch).not.toHaveBeenCalledWith(\n        expect.stringContaining('/api/admin/sections/'),\n        expect.objectContaining({ method: 'DELETE' })\n      );\n    });\n\n    it('should remove section from list after successful deletion', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n      mockFetchSuccess({ success: true }); // Delete API call\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n        expect(screen.getByText('#2', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const deleteButtons = screen.getAllByRole('button', { name: /delete section/i });\n      fireEvent.click(deleteButtons[0]);\n\n      await waitFor(() => {\n        // After deletion, only one section should remain\n        const sections = screen.getAllByText(/#\\d+/, { selector: 'span' });\n        expect(sections).toHaveLength(1);\n      });\n    });\n\n    it('should display error when deletion fails', async () => {\n      mockFetchSuccess([mockSection]);\n      mockFetchError('Failed to delete section');\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const deleteButton = screen.getByRole('button', { name: /delete section/i });\n      fireEvent.click(deleteButton);\n\n      await waitFor(() => {\n        expect(screen.getByRole('alert')).toHaveTextContent('Failed to delete section');\n      });\n    });\n  });\n\n  describe('Loading and Error States', () => {\n    it('should display loading state while fetching sections', () => {\n      (global.fetch as jest.Mock).mockImplementationOnce(() =>\n        new Promise(() => {}) // Never resolves\n      );\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      expect(screen.getByText('Loading sections...')).toBeInTheDocument();\n    });\n\n    it('should display error message when fetch fails', async () => {\n      mockFetchError('Failed to load sections');\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('alert')).toHaveTextContent('Failed to load sections');\n      });\n    });\n\n    it('should display empty state when no sections exist', async () => {\n      mockFetchSuccess([]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText(/no sections yet/i)).toBeInTheDocument();\n      });\n    });\n\n    it('should have error alert with proper role', async () => {\n      mockFetchError('Test error message');\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        const alert = screen.getByRole('alert');\n        expect(alert).toBeInTheDocument();\n        expect(alert).toHaveTextContent('Test error message');\n      });\n    });\n  });\n\n  describe('Header Actions', () => {\n    it('should display \"Save All\" button', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /save all sections/i })).toBeInTheDocument();\n      });\n    });\n\n    it('should call onSave when \"Save All\" is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const saveButton = screen.getByRole('button', { name: /save all sections/i });\n      fireEvent.click(saveButton);\n\n      expect(mockOnSave).toHaveBeenCalledTimes(1);\n    });\n\n    it('should display \"Guest Preview\" button', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      });\n    });\n\n    it('should open preview modal when \"Guest Preview\" is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      });\n\n      const previewButton = screen.getByRole('button', { name: /guest preview/i });\n      fireEvent.click(previewButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Guest Preview')).toBeInTheDocument();\n      });\n    });\n\n    it('should display \"Close\" button when onClose is provided', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /close section editor/i })).toBeInTheDocument();\n      });\n    });\n\n    it('should not display \"Close\" button when onClose is not provided', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.queryByRole('button', { name: /close section editor/i })).not.toBeInTheDocument();\n    });\n\n    it('should call onClose when \"Close\" button is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /close section editor/i })).toBeInTheDocument();\n      });\n\n      const closeButton = screen.getByRole('button', { name: /close section editor/i });\n      fireEvent.click(closeButton);\n\n      expect(mockOnClose).toHaveBeenCalledTimes(1);\n    });\n\n    it('should disable \"Save All\" button while saving', async () => {\n      mockFetchSuccess([mockSection]);\n      \n      // Mock a delayed response\n      (global.fetch as jest.Mock).mockImplementationOnce(() =>\n        new Promise(resolve => setTimeout(() => resolve({\n          ok: true,\n          json: async () => ({ success: true, data: mockSection }),\n        }), 100))\n      );\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      });\n\n      const addButton = screen.getByRole('button', { name: /add new section/i });\n      fireEvent.click(addButton);\n\n      // Save button should be disabled during save\n      const saveButton = screen.getByRole('button', { name: /save all sections/i });\n      expect(saveButton).toBeDisabled();\n    });\n  });\n\n  describe('Preview Modal', () => {\n    it('should close preview modal when close button is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      });\n\n      const previewButton = screen.getByRole('button', { name: /guest preview/i });\n      fireEvent.click(previewButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Guest Preview')).toBeInTheDocument();\n      });\n\n      const closePreviewButton = screen.getByRole('button', { name: /close preview/i });\n      fireEvent.click(closePreviewButton);\n\n      await waitFor(() => {\n        expect(screen.queryByText('Guest Preview')).not.toBeInTheDocument();\n      });\n    });\n\n    it('should close preview modal when backdrop is clicked', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      });\n\n      const previewButton = screen.getByRole('button', { name: /guest preview/i });\n      fireEvent.click(previewButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Guest Preview')).toBeInTheDocument();\n      });\n\n      // Click backdrop (the fixed inset-0 div)\n      const backdrop = screen.getByText('Guest Preview').closest('.fixed');\n      if (backdrop) {\n        fireEvent.click(backdrop);\n      }\n\n      await waitFor(() => {\n        expect(screen.queryByText('Guest Preview')).not.toBeInTheDocument();\n      });\n    });\n\n    it('should render sections in preview modal', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      });\n\n      const previewButton = screen.getByRole('button', { name: /guest preview/i });\n      fireEvent.click(previewButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Guest Preview')).toBeInTheDocument();\n      });\n\n      // Content should be rendered in preview\n      const previewContent = screen.getAllByText('Test content');\n      expect(previewContent.length).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('should have proper aria labels on all buttons', async () => {\n      mockFetchSuccess([mockSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      expect(screen.getByRole('button', { name: /add new section/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /save all sections/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /guest preview/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /close section editor/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /move section up/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /move section down/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /delete section/i })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: /toggle to two column layout/i })).toBeInTheDocument();\n    });\n\n    it('should have proper role for error messages', async () => {\n      mockFetchError('Test error');\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        const alert = screen.getByRole('alert');\n        expect(alert).toHaveTextContent('Test error');\n      });\n    });\n\n    it('should support keyboard navigation for draggable sections', async () => {\n      mockFetchSuccess([mockSection, mockTwoColumnSection]);\n\n      render(\n        <SectionEditor\n          pageType=\"custom\"\n          pageId=\"page-1\"\n          onSave={mockOnSave}\n          onClose={mockOnClose}\n        />\n      );\n\n      await waitFor(() => {\n        expect(screen.getByText('#1', { selector: 'span' })).toBeInTheDocument();\n      });\n\n      const sections = screen.getAllByText(/#\\d+/, { selector: 'span' }).map(el => el.closest('div[draggable=\"true\"]'));\n      \n      sections.forEach(section => {\n        expect(section).toHaveAttribute('draggable', 'true');\n      });\n    });\n  });\n});\n"],"names":["global","fetch","jest","fn","originalConfirm","window","confirm","Element","prototype","scrollIntoView","mockSection","id","page_type","page_id","display_order","created_at","updated_at","columns","section_id","column_number","content_type","content_data","html","mockTwoColumnSection","describe","mockOnSave","mockOnClose","beforeEach","mockReturnValue","mockReset","clearAllMocks","afterEach","cleanup","mockFetchSuccess","data","mockResolvedValueOnce","ok","json","success","mockFetchError","message","error","it","render","SectionEditor","pageType","pageId","onSave","onClose","waitFor","expect","screen","getByRole","name","toBeInTheDocument","addButton","fireEvent","click","toHaveBeenCalledWith","objectContaining","method","headers","body","stringContaining","getByText","selector","createCall","mock","calls","find","call","toBeDefined","JSON","parse","toHaveLength","toBe","mockImplementationOnce","Promise","resolve","setTimeout","toBeDisabled","moveUpButtons","getAllByRole","moveDownButtons","not","sections","getAllByText","firstSection","closest","secondSection","dragStart","dragOver","drop","className","toContain","anything","layoutButton","toHaveTextContent","updateCall","includes","map","el","firstSectionContent","querySelector","secondSectionContent","columnLabels","emptySection","photoSection","photo_ids","referenceSection","references","type","emptyPhotoSection","deleteButton","deleteButtons","alert","saveButton","toHaveBeenCalledTimes","previewButton","queryByRole","closeButton","closePreviewButton","queryByText","backdrop","previewContent","length","toBeGreaterThan","forEach","section","toHaveAttribute"],"mappings":"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"}