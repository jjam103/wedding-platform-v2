b584209f47784dab1759e6e10dbe42c3
"use strict";

/* istanbul ignore next */
function cov_2j8d464gty() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/services/aiContentService.ts";
  var hash = "7153e360e2d54371eb18666aec36647c8041c5d7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/services/aiContentService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 37
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 41
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 37
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 40
        }
      },
      "8": {
        start: {
          line: 25,
          column: 22
        },
        end: {
          line: 25,
          column: 54
        }
      },
      "9": {
        start: {
          line: 26,
          column: 22
        },
        end: {
          line: 26,
          column: 54
        }
      },
      "10": {
        start: {
          line: 27,
          column: 13
        },
        end: {
          line: 27,
          column: 27
        }
      },
      "11": {
        start: {
          line: 28,
          column: 25
        },
        end: {
          line: 28,
          column: 62
        }
      },
      "12": {
        start: {
          line: 29,
          column: 30
        },
        end: {
          line: 29,
          column: 72
        }
      },
      "13": {
        start: {
          line: 30,
          column: 23
        },
        end: {
          line: 30,
          column: 58
        }
      },
      "14": {
        start: {
          line: 33,
          column: 22
        },
        end: {
          line: 42,
          column: 2
        }
      },
      "15": {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "16": {
        start: {
          line: 35,
          column: 23
        },
        end: {
          line: 35,
          column: 35
        }
      },
      "17": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 36,
          column: 75
        }
      },
      "18": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 21
        }
      },
      "19": {
        start: {
          line: 45,
          column: 36
        },
        end: {
          line: 53,
          column: 2
        }
      },
      "20": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "21": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 18
        }
      },
      "22": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 51
        }
      },
      "23": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 63,
          column: 5
        }
      },
      "24": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 18
        }
      },
      "25": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 64,
          column: 53
        }
      },
      "26": {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 133,
          column: 5
        }
      },
      "27": {
        start: {
          line: 73,
          column: 27
        },
        end: {
          line: 73,
          column: 48
        }
      },
      "28": {
        start: {
          line: 74,
          column: 26
        },
        end: {
          line: 74,
          column: 67
        }
      },
      "29": {
        start: {
          line: 74,
          column: 41
        },
        end: {
          line: 74,
          column: 59
        }
      },
      "30": {
        start: {
          line: 75,
          column: 25
        },
        end: {
          line: 80,
          column: 10
        }
      },
      "31": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 32
        }
      },
      "32": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 90,
          column: 9
        }
      },
      "33": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 89,
          column: 14
        }
      },
      "34": {
        start: {
          line: 91,
          column: 28
        },
        end: {
          line: 91,
          column: 64
        }
      },
      "35": {
        start: {
          line: 92,
          column: 8
        },
        end: {
          line: 100,
          column: 9
        }
      },
      "36": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 99,
          column: 14
        }
      },
      "37": {
        start: {
          line: 102,
          column: 21
        },
        end: {
          line: 102,
          column: 42
        }
      },
      "38": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 111,
          column: 9
        }
      },
      "39": {
        start: {
          line: 104,
          column: 12
        },
        end: {
          line: 110,
          column: 14
        }
      },
      "40": {
        start: {
          line: 112,
          column: 8
        },
        end: {
          line: 115,
          column: 10
        }
      },
      "41": {
        start: {
          line: 117,
          column: 8
        },
        end: {
          line: 125,
          column: 9
        }
      },
      "42": {
        start: {
          line: 118,
          column: 12
        },
        end: {
          line: 124,
          column: 14
        }
      },
      "43": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "44": {
        start: {
          line: 143,
          column: 23
        },
        end: {
          line: 147,
          column: 75
        }
      },
      "45": {
        start: {
          line: 148,
          column: 20
        },
        end: {
          line: 181,
          column: 5
        }
      },
      "46": {
        start: {
          line: 182,
          column: 4
        },
        end: {
          line: 187,
          column: 88
        }
      },
      "47": {
        start: {
          line: 196,
          column: 4
        },
        end: {
          line: 254,
          column: 5
        }
      },
      "48": {
        start: {
          line: 198,
          column: 23
        },
        end: {
          line: 198,
          column: 40
        }
      },
      "49": {
        start: {
          line: 199,
          column: 8
        },
        end: {
          line: 203,
          column: 9
        }
      },
      "50": {
        start: {
          line: 200,
          column: 12
        },
        end: {
          line: 200,
          column: 81
        }
      },
      "51": {
        start: {
          line: 201,
          column: 15
        },
        end: {
          line: 203,
          column: 9
        }
      },
      "52": {
        start: {
          line: 202,
          column: 12
        },
        end: {
          line: 202,
          column: 77
        }
      },
      "53": {
        start: {
          line: 204,
          column: 23
        },
        end: {
          line: 204,
          column: 43
        }
      },
      "54": {
        start: {
          line: 205,
          column: 25
        },
        end: {
          line: 205,
          column: 27
        }
      },
      "55": {
        start: {
          line: 207,
          column: 26
        },
        end: {
          line: 207,
          column: 65
        }
      },
      "56": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 228,
          column: 9
        }
      },
      "57": {
        start: {
          line: 212,
          column: 16
        },
        end: {
          line: 212,
          column: 88
        }
      },
      "58": {
        start: {
          line: 213,
          column: 16
        },
        end: {
          line: 213,
          column: 22
        }
      },
      "59": {
        start: {
          line: 215,
          column: 16
        },
        end: {
          line: 215,
          column: 98
        }
      },
      "60": {
        start: {
          line: 216,
          column: 16
        },
        end: {
          line: 216,
          column: 22
        }
      },
      "61": {
        start: {
          line: 218,
          column: 16
        },
        end: {
          line: 218,
          column: 84
        }
      },
      "62": {
        start: {
          line: 219,
          column: 16
        },
        end: {
          line: 219,
          column: 22
        }
      },
      "63": {
        start: {
          line: 221,
          column: 16
        },
        end: {
          line: 227,
          column: 18
        }
      },
      "64": {
        start: {
          line: 229,
          column: 8
        },
        end: {
          line: 238,
          column: 9
        }
      },
      "65": {
        start: {
          line: 230,
          column: 12
        },
        end: {
          line: 237,
          column: 14
        }
      },
      "66": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 245,
          column: 10
        }
      },
      "67": {
        start: {
          line: 247,
          column: 8
        },
        end: {
          line: 253,
          column: 10
        }
      },
      "68": {
        start: {
          line: 263,
          column: 4
        },
        end: {
          line: 269,
          column: 5
        }
      },
      "69": {
        start: {
          line: 264,
          column: 26
        },
        end: {
          line: 264,
          column: 53
        }
      },
      "70": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 267,
          column: 9
        }
      },
      "71": {
        start: {
          line: 266,
          column: 12
        },
        end: {
          line: 266,
          column: 97
        }
      },
      "72": {
        start: {
          line: 268,
          column: 8
        },
        end: {
          line: 268,
          column: 25
        }
      },
      "73": {
        start: {
          line: 270,
          column: 4
        },
        end: {
          line: 272,
          column: 5
        }
      },
      "74": {
        start: {
          line: 271,
          column: 8
        },
        end: {
          line: 271,
          column: 71
        }
      },
      "75": {
        start: {
          line: 271,
          column: 32
        },
        end: {
          line: 271,
          column: 69
        }
      },
      "76": {
        start: {
          line: 273,
          column: 4
        },
        end: {
          line: 279,
          column: 5
        }
      },
      "77": {
        start: {
          line: 274,
          column: 26
        },
        end: {
          line: 274,
          column: 28
        }
      },
      "78": {
        start: {
          line: 275,
          column: 8
        },
        end: {
          line: 277,
          column: 9
        }
      },
      "79": {
        start: {
          line: 276,
          column: 12
        },
        end: {
          line: 276,
          column: 68
        }
      },
      "80": {
        start: {
          line: 278,
          column: 8
        },
        end: {
          line: 278,
          column: 25
        }
      },
      "81": {
        start: {
          line: 280,
          column: 4
        },
        end: {
          line: 280,
          column: 16
        }
      },
      "82": {
        start: {
          line: 289,
          column: 4
        },
        end: {
          line: 291,
          column: 5
        }
      },
      "83": {
        start: {
          line: 290,
          column: 8
        },
        end: {
          line: 290,
          column: 21
        }
      },
      "84": {
        start: {
          line: 293,
          column: 30
        },
        end: {
          line: 293,
          column: 63
        }
      },
      "85": {
        start: {
          line: 294,
          column: 30
        },
        end: {
          line: 294,
          column: 58
        }
      },
      "86": {
        start: {
          line: 295,
          column: 4
        },
        end: {
          line: 297,
          column: 5
        }
      },
      "87": {
        start: {
          line: 296,
          column: 8
        },
        end: {
          line: 296,
          column: 22
        }
      },
      "88": {
        start: {
          line: 298,
          column: 4
        },
        end: {
          line: 300,
          column: 5
        }
      },
      "89": {
        start: {
          line: 299,
          column: 8
        },
        end: {
          line: 299,
          column: 24
        }
      },
      "90": {
        start: {
          line: 301,
          column: 4
        },
        end: {
          line: 301,
          column: 17
        }
      },
      "91": {
        start: {
          line: 304,
          column: 4
        },
        end: {
          line: 371,
          column: 5
        }
      },
      "92": {
        start: {
          line: 306,
          column: 27
        },
        end: {
          line: 306,
          column: 69
        }
      },
      "93": {
        start: {
          line: 307,
          column: 8
        },
        end: {
          line: 316,
          column: 9
        }
      },
      "94": {
        start: {
          line: 308,
          column: 12
        },
        end: {
          line: 315,
          column: 14
        }
      },
      "95": {
        start: {
          line: 317,
          column: 56
        },
        end: {
          line: 317,
          column: 71
        }
      },
      "96": {
        start: {
          line: 319,
          column: 28
        },
        end: {
          line: 319,
          column: 54
        }
      },
      "97": {
        start: {
          line: 320,
          column: 8
        },
        end: {
          line: 322,
          column: 9
        }
      },
      "98": {
        start: {
          line: 321,
          column: 12
        },
        end: {
          line: 321,
          column: 31
        }
      },
      "99": {
        start: {
          line: 324,
          column: 23
        },
        end: {
          line: 324,
          column: 49
        }
      },
      "100": {
        start: {
          line: 325,
          column: 8
        },
        end: {
          line: 333,
          column: 9
        }
      },
      "101": {
        start: {
          line: 326,
          column: 12
        },
        end: {
          line: 332,
          column: 14
        }
      },
      "102": {
        start: {
          line: 334,
          column: 22
        },
        end: {
          line: 334,
          column: 66
        }
      },
      "103": {
        start: {
          line: 335,
          column: 22
        },
        end: {
          line: 337,
          column: 10
        }
      },
      "104": {
        start: {
          line: 339,
          column: 23
        },
        end: {
          line: 339,
          column: 97
        }
      },
      "105": {
        start: {
          line: 340,
          column: 23
        },
        end: {
          line: 340,
          column: 58
        }
      },
      "106": {
        start: {
          line: 341,
          column: 25
        },
        end: {
          line: 341,
          column: 46
        }
      },
      "107": {
        start: {
          line: 342,
          column: 27
        },
        end: {
          line: 342,
          column: 42
        }
      },
      "108": {
        start: {
          line: 344,
          column: 28
        },
        end: {
          line: 344,
          column: 77
        }
      },
      "109": {
        start: {
          line: 345,
          column: 8
        },
        end: {
          line: 347,
          column: 9
        }
      },
      "110": {
        start: {
          line: 346,
          column: 12
        },
        end: {
          line: 346,
          column: 31
        }
      },
      "111": {
        start: {
          line: 348,
          column: 50
        },
        end: {
          line: 348,
          column: 66
        }
      },
      "112": {
        start: {
          line: 350,
          column: 27
        },
        end: {
          line: 350,
          column: 71
        }
      },
      "113": {
        start: {
          line: 351,
          column: 8
        },
        end: {
          line: 361,
          column: 10
        }
      },
      "114": {
        start: {
          line: 363,
          column: 8
        },
        end: {
          line: 370,
          column: 10
        }
      },
      "115": {
        start: {
          line: 374,
          column: 4
        },
        end: {
          line: 417,
          column: 5
        }
      },
      "116": {
        start: {
          line: 376,
          column: 8
        },
        end: {
          line: 394,
          column: 9
        }
      },
      "117": {
        start: {
          line: 378,
          column: 16
        },
        end: {
          line: 378,
          column: 83
        }
      },
      "118": {
        start: {
          line: 379,
          column: 16
        },
        end: {
          line: 379,
          column: 22
        }
      },
      "119": {
        start: {
          line: 381,
          column: 16
        },
        end: {
          line: 381,
          column: 93
        }
      },
      "120": {
        start: {
          line: 382,
          column: 16
        },
        end: {
          line: 382,
          column: 22
        }
      },
      "121": {
        start: {
          line: 384,
          column: 16
        },
        end: {
          line: 384,
          column: 79
        }
      },
      "122": {
        start: {
          line: 385,
          column: 16
        },
        end: {
          line: 385,
          column: 22
        }
      },
      "123": {
        start: {
          line: 387,
          column: 16
        },
        end: {
          line: 393,
          column: 18
        }
      },
      "124": {
        start: {
          line: 395,
          column: 8
        },
        end: {
          line: 404,
          column: 9
        }
      },
      "125": {
        start: {
          line: 396,
          column: 12
        },
        end: {
          line: 403,
          column: 14
        }
      },
      "126": {
        start: {
          line: 405,
          column: 8
        },
        end: {
          line: 408,
          column: 10
        }
      },
      "127": {
        start: {
          line: 410,
          column: 8
        },
        end: {
          line: 416,
          column: 10
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 33
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 37
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 33
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 36
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 33,
            column: 71
          },
          end: {
            line: 33,
            column: 72
          }
        },
        loc: {
          start: {
            line: 33,
            column: 78
          },
          end: {
            line: 40,
            column: 1
          }
        },
        line: 33
      },
      "6": {
        name: "sanitizeExtractedText",
        decl: {
          start: {
            line: 54,
            column: 9
          },
          end: {
            line: 54,
            column: 30
          }
        },
        loc: {
          start: {
            line: 54,
            column: 38
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 54
      },
      "7": {
        name: "sanitizeExtractedRichText",
        decl: {
          start: {
            line: 60,
            column: 9
          },
          end: {
            line: 60,
            column: 34
          }
        },
        loc: {
          start: {
            line: 60,
            column: 41
          },
          end: {
            line: 65,
            column: 1
          }
        },
        line: 60
      },
      "8": {
        name: "fetchUrlContent",
        decl: {
          start: {
            line: 71,
            column: 19
          },
          end: {
            line: 71,
            column: 34
          }
        },
        loc: {
          start: {
            line: 71,
            column: 40
          },
          end: {
            line: 134,
            column: 1
          }
        },
        line: 71
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 74,
            column: 37
          },
          end: {
            line: 74,
            column: 38
          }
        },
        loc: {
          start: {
            line: 74,
            column: 41
          },
          end: {
            line: 74,
            column: 59
          }
        },
        line: 74
      },
      "10": {
        name: "generateExtractionPrompt",
        decl: {
          start: {
            line: 142,
            column: 13
          },
          end: {
            line: 142,
            column: 37
          }
        },
        loc: {
          start: {
            line: 142,
            column: 83
          },
          end: {
            line: 188,
            column: 1
          }
        },
        line: 142
      },
      "11": {
        name: "parseAndValidateResponse",
        decl: {
          start: {
            line: 195,
            column: 13
          },
          end: {
            line: 195,
            column: 37
          }
        },
        loc: {
          start: {
            line: 195,
            column: 63
          },
          end: {
            line: 255,
            column: 1
          }
        },
        line: 195
      },
      "12": {
        name: "sanitizeExtractedData",
        decl: {
          start: {
            line: 262,
            column: 13
          },
          end: {
            line: 262,
            column: 34
          }
        },
        loc: {
          start: {
            line: 262,
            column: 51
          },
          end: {
            line: 281,
            column: 1
          }
        },
        line: 262
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 271,
            column: 24
          },
          end: {
            line: 271,
            column: 25
          }
        },
        loc: {
          start: {
            line: 271,
            column: 32
          },
          end: {
            line: 271,
            column: 69
          }
        },
        line: 271
      },
      "14": {
        name: "determineConfidence",
        decl: {
          start: {
            line: 288,
            column: 13
          },
          end: {
            line: 288,
            column: 32
          }
        },
        loc: {
          start: {
            line: 288,
            column: 49
          },
          end: {
            line: 302,
            column: 1
          }
        },
        line: 288
      },
      "15": {
        name: "extractContentFromUrl",
        decl: {
          start: {
            line: 303,
            column: 15
          },
          end: {
            line: 303,
            column: 36
          }
        },
        loc: {
          start: {
            line: 303,
            column: 46
          },
          end: {
            line: 372,
            column: 1
          }
        },
        line: 303
      },
      "16": {
        name: "validateExtractedContent",
        decl: {
          start: {
            line: 373,
            column: 9
          },
          end: {
            line: 373,
            column: 33
          }
        },
        loc: {
          start: {
            line: 373,
            column: 53
          },
          end: {
            line: 418,
            column: 1
          }
        },
        line: 373
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 36,
            column: 15
          },
          end: {
            line: 36,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 36,
            column: 15
          },
          end: {
            line: 36,
            column: 42
          }
        }, {
          start: {
            line: 36,
            column: 46
          },
          end: {
            line: 36,
            column: 74
          }
        }],
        line: 36
      },
      "1": {
        loc: {
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 55
      },
      "2": {
        loc: {
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 55,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 55,
            column: 14
          }
        }, {
          start: {
            line: 55,
            column: 18
          },
          end: {
            line: 55,
            column: 43
          }
        }],
        line: 55
      },
      "3": {
        loc: {
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 61
      },
      "4": {
        loc: {
          start: {
            line: 61,
            column: 8
          },
          end: {
            line: 61,
            column: 41
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 61,
            column: 8
          },
          end: {
            line: 61,
            column: 13
          }
        }, {
          start: {
            line: 61,
            column: 17
          },
          end: {
            line: 61,
            column: 41
          }
        }],
        line: 61
      },
      "5": {
        loc: {
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 90,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 82,
            column: 8
          },
          end: {
            line: 90,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 82
      },
      "6": {
        loc: {
          start: {
            line: 92,
            column: 8
          },
          end: {
            line: 100,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 92,
            column: 8
          },
          end: {
            line: 100,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 92
      },
      "7": {
        loc: {
          start: {
            line: 92,
            column: 12
          },
          end: {
            line: 92,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 92,
            column: 12
          },
          end: {
            line: 92,
            column: 24
          }
        }, {
          start: {
            line: 92,
            column: 28
          },
          end: {
            line: 92,
            column: 62
          }
        }],
        line: 92
      },
      "8": {
        loc: {
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 111,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 111,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 103
      },
      "9": {
        loc: {
          start: {
            line: 117,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 117,
            column: 8
          },
          end: {
            line: 125,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 117
      },
      "10": {
        loc: {
          start: {
            line: 117,
            column: 12
          },
          end: {
            line: 117,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 117,
            column: 12
          },
          end: {
            line: 117,
            column: 34
          }
        }, {
          start: {
            line: 117,
            column: 38
          },
          end: {
            line: 117,
            column: 65
          }
        }],
        line: 117
      },
      "11": {
        loc: {
          start: {
            line: 130,
            column: 25
          },
          end: {
            line: 130,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 130,
            column: 50
          },
          end: {
            line: 130,
            column: 63
          }
        }, {
          start: {
            line: 130,
            column: 66
          },
          end: {
            line: 130,
            column: 87
          }
        }],
        line: 130
      },
      "12": {
        loc: {
          start: {
            line: 147,
            column: 2
          },
          end: {
            line: 147,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 147,
            column: 22
          },
          end: {
            line: 147,
            column: 68
          }
        }, {
          start: {
            line: 147,
            column: 71
          },
          end: {
            line: 147,
            column: 73
          }
        }],
        line: 147
      },
      "13": {
        loc: {
          start: {
            line: 185,
            column: 37
          },
          end: {
            line: 185,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 185,
            column: 66
          },
          end: {
            line: 185,
            column: 82
          }
        }, {
          start: {
            line: 185,
            column: 85
          },
          end: {
            line: 185,
            column: 87
          }
        }],
        line: 185
      },
      "14": {
        loc: {
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 203,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 199,
            column: 8
          },
          end: {
            line: 203,
            column: 9
          }
        }, {
          start: {
            line: 201,
            column: 15
          },
          end: {
            line: 203,
            column: 9
          }
        }],
        line: 199
      },
      "15": {
        loc: {
          start: {
            line: 201,
            column: 15
          },
          end: {
            line: 203,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 201,
            column: 15
          },
          end: {
            line: 203,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 201
      },
      "16": {
        loc: {
          start: {
            line: 210,
            column: 8
          },
          end: {
            line: 228,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 211,
            column: 12
          },
          end: {
            line: 213,
            column: 22
          }
        }, {
          start: {
            line: 214,
            column: 12
          },
          end: {
            line: 216,
            column: 22
          }
        }, {
          start: {
            line: 217,
            column: 12
          },
          end: {
            line: 219,
            column: 22
          }
        }, {
          start: {
            line: 220,
            column: 12
          },
          end: {
            line: 227,
            column: 18
          }
        }],
        line: 210
      },
      "17": {
        loc: {
          start: {
            line: 229,
            column: 8
          },
          end: {
            line: 238,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 229,
            column: 8
          },
          end: {
            line: 238,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 229
      },
      "18": {
        loc: {
          start: {
            line: 251,
            column: 25
          },
          end: {
            line: 251,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 251,
            column: 50
          },
          end: {
            line: 251,
            column: 63
          }
        }, {
          start: {
            line: 251,
            column: 66
          },
          end: {
            line: 251,
            column: 95
          }
        }],
        line: 251
      },
      "19": {
        loc: {
          start: {
            line: 263,
            column: 4
          },
          end: {
            line: 269,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 263,
            column: 4
          },
          end: {
            line: 269,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 263
      },
      "20": {
        loc: {
          start: {
            line: 265,
            column: 8
          },
          end: {
            line: 267,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 265,
            column: 8
          },
          end: {
            line: 267,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 265
      },
      "21": {
        loc: {
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 272,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 270,
            column: 4
          },
          end: {
            line: 272,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 270
      },
      "22": {
        loc: {
          start: {
            line: 273,
            column: 4
          },
          end: {
            line: 279,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 273,
            column: 4
          },
          end: {
            line: 279,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 273
      },
      "23": {
        loc: {
          start: {
            line: 273,
            column: 8
          },
          end: {
            line: 273,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 273,
            column: 8
          },
          end: {
            line: 273,
            column: 12
          }
        }, {
          start: {
            line: 273,
            column: 16
          },
          end: {
            line: 273,
            column: 40
          }
        }],
        line: 273
      },
      "24": {
        loc: {
          start: {
            line: 289,
            column: 4
          },
          end: {
            line: 291,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 289,
            column: 4
          },
          end: {
            line: 291,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 289
      },
      "25": {
        loc: {
          start: {
            line: 293,
            column: 30
          },
          end: {
            line: 293,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 293,
            column: 30
          },
          end: {
            line: 293,
            column: 39
          }
        }, {
          start: {
            line: 293,
            column: 43
          },
          end: {
            line: 293,
            column: 63
          }
        }],
        line: 293
      },
      "26": {
        loc: {
          start: {
            line: 295,
            column: 4
          },
          end: {
            line: 297,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 295,
            column: 4
          },
          end: {
            line: 297,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 295
      },
      "27": {
        loc: {
          start: {
            line: 295,
            column: 8
          },
          end: {
            line: 295,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 295,
            column: 8
          },
          end: {
            line: 295,
            column: 25
          }
        }, {
          start: {
            line: 295,
            column: 29
          },
          end: {
            line: 295,
            column: 46
          }
        }, {
          start: {
            line: 295,
            column: 50
          },
          end: {
            line: 295,
            column: 71
          }
        }],
        line: 295
      },
      "28": {
        loc: {
          start: {
            line: 298,
            column: 4
          },
          end: {
            line: 300,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 298,
            column: 4
          },
          end: {
            line: 300,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 298
      },
      "29": {
        loc: {
          start: {
            line: 307,
            column: 8
          },
          end: {
            line: 316,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 307,
            column: 8
          },
          end: {
            line: 316,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 307
      },
      "30": {
        loc: {
          start: {
            line: 320,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 320,
            column: 8
          },
          end: {
            line: 322,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 320
      },
      "31": {
        loc: {
          start: {
            line: 325,
            column: 8
          },
          end: {
            line: 333,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 325,
            column: 8
          },
          end: {
            line: 333,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 325
      },
      "32": {
        loc: {
          start: {
            line: 345,
            column: 8
          },
          end: {
            line: 347,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 345,
            column: 8
          },
          end: {
            line: 347,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 345
      },
      "33": {
        loc: {
          start: {
            line: 367,
            column: 25
          },
          end: {
            line: 367,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 367,
            column: 50
          },
          end: {
            line: 367,
            column: 63
          }
        }, {
          start: {
            line: 367,
            column: 66
          },
          end: {
            line: 367,
            column: 88
          }
        }],
        line: 367
      },
      "34": {
        loc: {
          start: {
            line: 376,
            column: 8
          },
          end: {
            line: 394,
            column: 9
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 377,
            column: 12
          },
          end: {
            line: 379,
            column: 22
          }
        }, {
          start: {
            line: 380,
            column: 12
          },
          end: {
            line: 382,
            column: 22
          }
        }, {
          start: {
            line: 383,
            column: 12
          },
          end: {
            line: 385,
            column: 22
          }
        }, {
          start: {
            line: 386,
            column: 12
          },
          end: {
            line: 393,
            column: 18
          }
        }],
        line: 376
      },
      "35": {
        loc: {
          start: {
            line: 395,
            column: 8
          },
          end: {
            line: 404,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 395,
            column: 8
          },
          end: {
            line: 404,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 395
      },
      "36": {
        loc: {
          start: {
            line: 414,
            column: 25
          },
          end: {
            line: 414,
            column: 85
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 414,
            column: 50
          },
          end: {
            line: 414,
            column: 63
          }
        }, {
          start: {
            line: 414,
            column: 66
          },
          end: {
            line: 414,
            column: 85
          }
        }],
        line: 414
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0, 0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0, 0, 0],
      "35": [0, 0],
      "36": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/services/aiContentService.ts"],
      sourcesContent: ["import { GoogleGenerativeAI } from '@google/generative-ai';\nimport { sanitizeInput, sanitizeRichText } from \"../utils/sanitization\";\nimport { z } from 'zod';\nimport type { Result } from '../types';\nimport { createActivitySchema, type CreateActivityDTO } from '../schemas/activitySchemas';\nimport { createAccommodationSchema, type CreateAccommodationDTO } from '../schemas/accommodationSchemas';\nimport { createVendorSchema, type CreateVendorDTO } from '../schemas/vendorSchemas';\n\n/**\n * Supported content types for AI extraction.\n */\nexport type ContentType = 'activity' | 'accommodation' | 'vendor';\n\n/**\n * URL validation schema.\n */\nconst urlSchema = z.string().url('Invalid URL format').refine(\n  (url) => {\n    try {\n      const parsed = new URL(url);\n      return parsed.protocol === 'http:' || parsed.protocol === 'https:';\n    } catch {\n      return false;\n    }\n  },\n  { message: 'URL must use HTTP or HTTPS protocol' }\n);\n\n/**\n * AI extraction request schema.\n */\nconst extractionRequestSchema = z.object({\n  url: urlSchema,\n  contentType: z.enum(['activity', 'accommodation', 'vendor']),\n  additionalContext: z.string().max(500).optional(),\n});\n\nexport type ExtractionRequestDTO = z.infer<typeof extractionRequestSchema>;\n\n/**\n * Extracted content with preview data.\n */\nexport interface ExtractedContent<T> {\n  contentType: ContentType;\n  sourceUrl: string;\n  extractedData: T;\n  rawResponse: string;\n  confidence: 'high' | 'medium' | 'low';\n  warnings: string[];\n}\n\n/**\n * Sanitizes extracted text content to prevent XSS and injection attacks.\n * \n * @param input - Raw text input from AI extraction\n * @returns Sanitized text safe for storage\n */\nexport function sanitizeExtractedText(input: string): string {\n  if (!input || typeof input !== 'string') {\n    return '';\n  }\n\n  return sanitizeInput(input);\n}\n\n/**\n * Sanitizes extracted rich text content allowing safe HTML.\n * \n * @param html - Raw HTML input from AI extraction\n * @returns Sanitized HTML safe for storage\n */\nexport function sanitizeExtractedRichText(html: string): string {\n  if (!html || typeof html !== 'string') {\n    return '';\n  }\n\n  return sanitizeRichText(html);\n}\n\n/**\n * Fetches content from a URL with timeout and size limits.\n * \n * @param url - URL to fetch content from\n * @returns Result containing the fetched HTML content\n */\nasync function fetchUrlContent(url: string): Promise<Result<string>> {\n  try {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 30000); // 30 second timeout\n\n    const response = await fetch(url, {\n      signal: controller.signal,\n      headers: {\n        'User-Agent': 'Mozilla/5.0 (compatible; WeddingPlatform/1.0)',\n      },\n    });\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      return {\n        success: false,\n        error: {\n          code: 'FETCH_ERROR',\n          message: `Failed to fetch URL: ${response.status} ${response.statusText}`,\n        },\n      };\n    }\n\n    const contentType = response.headers.get('content-type');\n    if (!contentType || !contentType.includes('text/html')) {\n      return {\n        success: false,\n        error: {\n          code: 'INVALID_CONTENT_TYPE',\n          message: 'URL must return HTML content',\n        },\n      };\n    }\n\n    // Limit content size to 1MB\n    const text = await response.text();\n    if (text.length > 1024 * 1024) {\n      return {\n        success: false,\n        error: {\n          code: 'CONTENT_TOO_LARGE',\n          message: 'Content exceeds 1MB limit',\n        },\n      };\n    }\n\n    return { success: true, data: text };\n  } catch (error) {\n    if (error instanceof Error && error.name === 'AbortError') {\n      return {\n        success: false,\n        error: {\n          code: 'TIMEOUT',\n          message: 'Request timed out after 30 seconds',\n        },\n      };\n    }\n\n    return {\n      success: false,\n      error: {\n        code: 'FETCH_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to fetch URL',\n      },\n    };\n  }\n}\n\n/**\n * Generates a prompt for the AI model based on content type.\n * \n * @param contentType - Type of content to extract\n * @param htmlContent - HTML content from the URL\n * @param additionalContext - Optional additional context\n * @returns Formatted prompt for the AI model\n */\nfunction generateExtractionPrompt(\n  contentType: ContentType,\n  htmlContent: string,\n  additionalContext?: string\n): string {\n  const basePrompt = `Extract structured data from the following HTML content for a destination wedding management system.\n\nContent Type: ${contentType}\n\n${additionalContext ? `Additional Context: ${additionalContext}\\n\\n` : ''}`;\n\n  const schemas = {\n    activity: `\nExtract the following fields in JSON format:\n{\n  \"name\": \"Activity name (required, max 100 chars)\",\n  \"description\": \"Detailed description (optional, max 2000 chars)\",\n  \"activityType\": \"Type of activity (required)\",\n  \"startTime\": \"ISO 8601 datetime (required)\",\n  \"endTime\": \"ISO 8601 datetime (optional)\",\n  \"capacity\": \"Maximum participants (optional, positive integer)\",\n  \"costPerPerson\": \"Cost per person in USD (optional, non-negative number)\",\n  \"adultsOnly\": \"Boolean indicating if adults only (optional)\",\n  \"plusOneAllowed\": \"Boolean indicating if plus ones allowed (optional)\"\n}`,\n    accommodation: `\nExtract the following fields in JSON format:\n{\n  \"name\": \"Accommodation name (required, max 200 chars)\",\n  \"description\": \"Detailed description (optional, max 5000 chars)\",\n  \"address\": \"Physical address (optional, max 500 chars)\"\n}`,\n    vendor: `\nExtract the following fields in JSON format:\n{\n  \"name\": \"Vendor name (required, max 100 chars)\",\n  \"category\": \"One of: photography, flowers, catering, music, transportation, decoration, other (required)\",\n  \"contactName\": \"Contact person name (optional, max 100 chars)\",\n  \"email\": \"Contact email (optional, valid email format)\",\n  \"phone\": \"Contact phone (optional, max 20 chars)\",\n  \"pricingModel\": \"One of: flat_rate, per_guest, tiered (required)\",\n  \"baseCost\": \"Base cost in USD (required, non-negative number)\",\n  \"notes\": \"Additional notes (optional, max 2000 chars)\"\n}`,\n  };\n\n  return `${basePrompt}${schemas[contentType]}\n\nHTML Content:\n${htmlContent.substring(0, 10000)} ${htmlContent.length > 10000 ? '...(truncated)' : ''}\n\nReturn ONLY valid JSON matching the schema above. Do not include any explanatory text.`;\n}\n\n/**\n * Parses and validates AI response against the appropriate schema.\n * \n * @param contentType - Type of content extracted\n * @param aiResponse - Raw AI response text\n * @returns Result containing validated and sanitized data\n */\nfunction parseAndValidateResponse<T>(\n  contentType: ContentType,\n  aiResponse: string\n): Result<{ data: T; warnings: string[] }> {\n  try {\n    // Extract JSON from response (handle markdown code blocks)\n    let jsonText = aiResponse.trim();\n    if (jsonText.startsWith('```json')) {\n      jsonText = jsonText.replace(/```json\\n?/, '').replace(/\\n?```$/, '');\n    } else if (jsonText.startsWith('```')) {\n      jsonText = jsonText.replace(/```\\n?/, '').replace(/\\n?```$/, '');\n    }\n\n    const parsed = JSON.parse(jsonText);\n    const warnings: string[] = [];\n\n    // Sanitize all string fields\n    const sanitized = sanitizeExtractedData(parsed, warnings);\n\n    // Validate against appropriate schema\n    let validation;\n    switch (contentType) {\n      case 'activity':\n        validation = createActivitySchema.safeParse(sanitized);\n        break;\n      case 'accommodation':\n        validation = createAccommodationSchema.safeParse(sanitized);\n        break;\n      case 'vendor':\n        validation = createVendorSchema.safeParse(sanitized);\n        break;\n      default:\n        return {\n          success: false,\n          error: {\n            code: 'INVALID_CONTENT_TYPE',\n            message: `Unsupported content type: ${contentType}`,\n          },\n        };\n    }\n\n    if (!validation.success) {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: 'Extracted data failed schema validation',\n          details: validation.error.issues,\n        },\n      };\n    }\n\n    return {\n      success: true,\n      data: {\n        data: validation.data as T,\n        warnings,\n      },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'PARSE_ERROR',\n        message: error instanceof Error ? error.message : 'Failed to parse AI response',\n      },\n    };\n  }\n}\n\n/**\n * Recursively sanitizes all string fields in extracted data.\n * \n * @param data - Raw extracted data object\n * @param warnings - Array to collect sanitization warnings\n * @returns Sanitized data object\n */\nfunction sanitizeExtractedData(data: any, warnings: string[]): any {\n  if (typeof data === 'string') {\n    const sanitized = sanitizeExtractedText(data);\n    if (sanitized !== data) {\n      warnings.push('Some content was sanitized to remove potentially dangerous patterns');\n    }\n    return sanitized;\n  }\n\n  if (Array.isArray(data)) {\n    return data.map((item) => sanitizeExtractedData(item, warnings));\n  }\n\n  if (data && typeof data === 'object') {\n    const sanitized: any = {};\n    for (const [key, value] of Object.entries(data)) {\n      sanitized[key] = sanitizeExtractedData(value, warnings);\n    }\n    return sanitized;\n  }\n\n  return data;\n}\n\n/**\n * Determines confidence level based on validation and content quality.\n * \n * @param data - Validated data\n * @param warnings - Validation warnings\n * @returns Confidence level\n */\nfunction determineConfidence(data: any, warnings: string[]): 'high' | 'medium' | 'low' {\n  if (warnings.length > 2) {\n    return 'low';\n  }\n\n  // Check for required fields completeness\n  const hasRequiredFields = data.name && data.name.length > 0;\n  const hasOptionalFields = Object.keys(data).length > 3;\n\n  if (hasRequiredFields && hasOptionalFields && warnings.length === 0) {\n    return 'high';\n  }\n\n  if (hasRequiredFields) {\n    return 'medium';\n  }\n\n  return 'low';\n}\n\n/**\n * Extracts structured content from a URL using Google Gemini AI.\n * \n * @param request - Extraction request with URL and content type\n * @returns Result containing extracted and validated content with preview\n * \n * @example\n * const result = await extractContentFromUrl({\n *   url: 'https://example.com/venue',\n *   contentType: 'accommodation',\n * });\n * \n * if (result.success) {\n *   console.log('Extracted:', result.data.extractedData);\n *   console.log('Confidence:', result.data.confidence);\n * }\n */\nexport async function extractContentFromUrl<T = CreateActivityDTO | CreateAccommodationDTO | CreateVendorDTO>(\n  request: ExtractionRequestDTO\n): Promise<Result<ExtractedContent<T>>> {\n  try {\n    // 1. Validate request\n    const validation = extractionRequestSchema.safeParse(request);\n    if (!validation.success) {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: 'Invalid extraction request',\n          details: validation.error.issues,\n        },\n      };\n    }\n\n    const { url, contentType, additionalContext } = validation.data;\n\n    // 2. Fetch URL content\n    const fetchResult = await fetchUrlContent(url);\n    if (!fetchResult.success) {\n      return fetchResult as Result<ExtractedContent<T>>;\n    }\n\n    // 3. Initialize Gemini AI\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n      return {\n        success: false,\n        error: {\n          code: 'CONFIGURATION_ERROR',\n          message: 'GEMINI_API_KEY environment variable is not set',\n        },\n      };\n    }\n\n    const genAI = new GoogleGenerativeAI(apiKey);\n    const model = genAI.getGenerativeModel({ model: 'gemini-pro' });\n\n    // 4. Generate prompt and extract content\n    const prompt = generateExtractionPrompt(contentType, fetchResult.data, additionalContext);\n\n    const result = await model.generateContent(prompt);\n    const response = await result.response;\n    const aiResponse = response.text();\n\n    // 5. Parse and validate response\n    const parseResult = parseAndValidateResponse<T>(contentType, aiResponse);\n    if (!parseResult.success) {\n      return parseResult as Result<ExtractedContent<T>>;\n    }\n\n    const { data: extractedData, warnings } = parseResult.data;\n\n    // 6. Determine confidence level\n    const confidence = determineConfidence(extractedData, warnings);\n\n    return {\n      success: true,\n      data: {\n        contentType,\n        sourceUrl: url,\n        extractedData,\n        rawResponse: aiResponse,\n        confidence,\n        warnings,\n      },\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'EXTERNAL_SERVICE_ERROR',\n        message: error instanceof Error ? error.message : 'AI extraction failed',\n        details: error,\n      },\n    };\n  }\n}\n\n/**\n * Validates extracted content against the appropriate schema without importing.\n * Useful for preview before import.\n * \n * @param contentType - Type of content\n * @param data - Data to validate\n * @returns Result indicating if data is valid\n */\nexport function validateExtractedContent(\n  contentType: ContentType,\n  data: unknown\n): Result<void> {\n  try {\n    let validation;\n    switch (contentType) {\n      case 'activity':\n        validation = createActivitySchema.safeParse(data);\n        break;\n      case 'accommodation':\n        validation = createAccommodationSchema.safeParse(data);\n        break;\n      case 'vendor':\n        validation = createVendorSchema.safeParse(data);\n        break;\n      default:\n        return {\n          success: false,\n          error: {\n            code: 'INVALID_CONTENT_TYPE',\n            message: `Unsupported content type: ${contentType}`,\n          },\n        };\n    }\n\n    if (!validation.success) {\n      return {\n        success: false,\n        error: {\n          code: 'VALIDATION_ERROR',\n          message: 'Content validation failed',\n          details: validation.error.issues,\n        },\n      };\n    }\n\n    return { success: true, data: undefined };\n  } catch (error) {\n    return {\n      success: false,\n      error: {\n        code: 'VALIDATION_ERROR',\n        message: error instanceof Error ? error.message : 'Validation failed',\n      },\n    };\n  }\n}\n"],
      names: ["extractContentFromUrl", "sanitizeExtractedRichText", "sanitizeExtractedText", "validateExtractedContent", "urlSchema", "z", "string", "url", "refine", "parsed", "URL", "protocol", "message", "extractionRequestSchema", "object", "contentType", "enum", "additionalContext", "max", "optional", "input", "sanitizeInput", "html", "sanitizeRichText", "fetchUrlContent", "controller", "AbortController", "timeoutId", "setTimeout", "abort", "response", "fetch", "signal", "headers", "clearTimeout", "ok", "success", "error", "code", "status", "statusText", "get", "includes", "text", "length", "data", "Error", "name", "generateExtractionPrompt", "htmlContent", "basePrompt", "schemas", "activity", "accommodation", "vendor", "substring", "parseAndValidateResponse", "aiResponse", "jsonText", "trim", "startsWith", "replace", "JSON", "parse", "warnings", "sanitized", "sanitizeExtractedData", "validation", "createActivitySchema", "safeParse", "createAccommodationSchema", "createVendorSchema", "details", "issues", "push", "Array", "isArray", "map", "item", "key", "value", "Object", "entries", "determineConfidence", "hasRequiredFields", "hasOptionalFields", "keys", "request", "fetchResult", "apiKey", "process", "env", "GEMINI_API_KEY", "genAI", "GoogleGenerativeAI", "model", "getGenerativeModel", "prompt", "result", "generateContent", "parseResult", "extractedData", "confidence", "sourceUrl", "rawResponse", "undefined"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7153e360e2d54371eb18666aec36647c8041c5d7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2j8d464gty = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2j8d464gty();
cov_2j8d464gty().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[0]++;
  cov_2j8d464gty().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2j8d464gty().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2j8d464gty().s[3]++;
_export(exports, {
  get extractContentFromUrl() {
    /* istanbul ignore next */
    cov_2j8d464gty().f[1]++;
    cov_2j8d464gty().s[4]++;
    return extractContentFromUrl;
  },
  get sanitizeExtractedRichText() {
    /* istanbul ignore next */
    cov_2j8d464gty().f[2]++;
    cov_2j8d464gty().s[5]++;
    return sanitizeExtractedRichText;
  },
  get sanitizeExtractedText() {
    /* istanbul ignore next */
    cov_2j8d464gty().f[3]++;
    cov_2j8d464gty().s[6]++;
    return sanitizeExtractedText;
  },
  get validateExtractedContent() {
    /* istanbul ignore next */
    cov_2j8d464gty().f[4]++;
    cov_2j8d464gty().s[7]++;
    return validateExtractedContent;
  }
});
const _generativeai =
/* istanbul ignore next */
(cov_2j8d464gty().s[8]++, require("@google/generative-ai"));
const _sanitization =
/* istanbul ignore next */
(cov_2j8d464gty().s[9]++, require("../utils/sanitization"));
const _zod =
/* istanbul ignore next */
(cov_2j8d464gty().s[10]++, require("zod"));
const _activitySchemas =
/* istanbul ignore next */
(cov_2j8d464gty().s[11]++, require("../schemas/activitySchemas"));
const _accommodationSchemas =
/* istanbul ignore next */
(cov_2j8d464gty().s[12]++, require("../schemas/accommodationSchemas"));
const _vendorSchemas =
/* istanbul ignore next */
(cov_2j8d464gty().s[13]++, require("../schemas/vendorSchemas"));
/**
 * URL validation schema.
 */
const urlSchema =
/* istanbul ignore next */
(cov_2j8d464gty().s[14]++, _zod.z.string().url('Invalid URL format').refine(url => {
  /* istanbul ignore next */
  cov_2j8d464gty().f[5]++;
  cov_2j8d464gty().s[15]++;
  try {
    const parsed =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[16]++, new URL(url));
    /* istanbul ignore next */
    cov_2j8d464gty().s[17]++;
    return /* istanbul ignore next */(cov_2j8d464gty().b[0][0]++, parsed.protocol === 'http:') ||
    /* istanbul ignore next */
    (cov_2j8d464gty().b[0][1]++, parsed.protocol === 'https:');
  } catch {
    /* istanbul ignore next */
    cov_2j8d464gty().s[18]++;
    return false;
  }
}, {
  message: 'URL must use HTTP or HTTPS protocol'
}));
/**
 * AI extraction request schema.
 */
const extractionRequestSchema =
/* istanbul ignore next */
(cov_2j8d464gty().s[19]++, _zod.z.object({
  url: urlSchema,
  contentType: _zod.z.enum(['activity', 'accommodation', 'vendor']),
  additionalContext: _zod.z.string().max(500).optional()
}));
function sanitizeExtractedText(input) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[6]++;
  cov_2j8d464gty().s[20]++;
  if (
  /* istanbul ignore next */
  (cov_2j8d464gty().b[2][0]++, !input) ||
  /* istanbul ignore next */
  (cov_2j8d464gty().b[2][1]++, typeof input !== 'string')) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[1][0]++;
    cov_2j8d464gty().s[21]++;
    return '';
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[1][1]++;
  }
  cov_2j8d464gty().s[22]++;
  return (0, _sanitization.sanitizeInput)(input);
}
function sanitizeExtractedRichText(html) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[7]++;
  cov_2j8d464gty().s[23]++;
  if (
  /* istanbul ignore next */
  (cov_2j8d464gty().b[4][0]++, !html) ||
  /* istanbul ignore next */
  (cov_2j8d464gty().b[4][1]++, typeof html !== 'string')) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[3][0]++;
    cov_2j8d464gty().s[24]++;
    return '';
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[3][1]++;
  }
  cov_2j8d464gty().s[25]++;
  return (0, _sanitization.sanitizeRichText)(html);
}
/**
 * Fetches content from a URL with timeout and size limits.
 * 
 * @param url - URL to fetch content from
 * @returns Result containing the fetched HTML content
 */
async function fetchUrlContent(url) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[8]++;
  cov_2j8d464gty().s[26]++;
  try {
    const controller =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[27]++, new AbortController());
    const timeoutId =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[28]++, setTimeout(() => {
      /* istanbul ignore next */
      cov_2j8d464gty().f[9]++;
      cov_2j8d464gty().s[29]++;
      return controller.abort();
    }, 30000)); // 30 second timeout
    const response =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[30]++, await fetch(url, {
      signal: controller.signal,
      headers: {
        'User-Agent': 'Mozilla/5.0 (compatible; WeddingPlatform/1.0)'
      }
    }));
    /* istanbul ignore next */
    cov_2j8d464gty().s[31]++;
    clearTimeout(timeoutId);
    /* istanbul ignore next */
    cov_2j8d464gty().s[32]++;
    if (!response.ok) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[5][0]++;
      cov_2j8d464gty().s[33]++;
      return {
        success: false,
        error: {
          code: 'FETCH_ERROR',
          message: `Failed to fetch URL: ${response.status} ${response.statusText}`
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[5][1]++;
    }
    const contentType =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[34]++, response.headers.get('content-type'));
    /* istanbul ignore next */
    cov_2j8d464gty().s[35]++;
    if (
    /* istanbul ignore next */
    (cov_2j8d464gty().b[7][0]++, !contentType) ||
    /* istanbul ignore next */
    (cov_2j8d464gty().b[7][1]++, !contentType.includes('text/html'))) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[6][0]++;
      cov_2j8d464gty().s[36]++;
      return {
        success: false,
        error: {
          code: 'INVALID_CONTENT_TYPE',
          message: 'URL must return HTML content'
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[6][1]++;
    }
    // Limit content size to 1MB
    const text =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[37]++, await response.text());
    /* istanbul ignore next */
    cov_2j8d464gty().s[38]++;
    if (text.length > 1024 * 1024) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[8][0]++;
      cov_2j8d464gty().s[39]++;
      return {
        success: false,
        error: {
          code: 'CONTENT_TOO_LARGE',
          message: 'Content exceeds 1MB limit'
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[8][1]++;
    }
    cov_2j8d464gty().s[40]++;
    return {
      success: true,
      data: text
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2j8d464gty().s[41]++;
    if (
    /* istanbul ignore next */
    (cov_2j8d464gty().b[10][0]++, error instanceof Error) &&
    /* istanbul ignore next */
    (cov_2j8d464gty().b[10][1]++, error.name === 'AbortError')) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[9][0]++;
      cov_2j8d464gty().s[42]++;
      return {
        success: false,
        error: {
          code: 'TIMEOUT',
          message: 'Request timed out after 30 seconds'
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[9][1]++;
    }
    cov_2j8d464gty().s[43]++;
    return {
      success: false,
      error: {
        code: 'FETCH_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2j8d464gty().b[11][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2j8d464gty().b[11][1]++, 'Failed to fetch URL')
      }
    };
  }
}
/**
 * Generates a prompt for the AI model based on content type.
 * 
 * @param contentType - Type of content to extract
 * @param htmlContent - HTML content from the URL
 * @param additionalContext - Optional additional context
 * @returns Formatted prompt for the AI model
 */
function generateExtractionPrompt(contentType, htmlContent, additionalContext) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[10]++;
  const basePrompt =
  /* istanbul ignore next */
  (cov_2j8d464gty().s[44]++, `Extract structured data from the following HTML content for a destination wedding management system.

Content Type: ${contentType}

${additionalContext ?
  /* istanbul ignore next */
  (cov_2j8d464gty().b[12][0]++, `Additional Context: ${additionalContext}\n\n`) :
  /* istanbul ignore next */
  (cov_2j8d464gty().b[12][1]++, '')}`);
  const schemas =
  /* istanbul ignore next */
  (cov_2j8d464gty().s[45]++, {
    activity: `
Extract the following fields in JSON format:
{
  "name": "Activity name (required, max 100 chars)",
  "description": "Detailed description (optional, max 2000 chars)",
  "activityType": "Type of activity (required)",
  "startTime": "ISO 8601 datetime (required)",
  "endTime": "ISO 8601 datetime (optional)",
  "capacity": "Maximum participants (optional, positive integer)",
  "costPerPerson": "Cost per person in USD (optional, non-negative number)",
  "adultsOnly": "Boolean indicating if adults only (optional)",
  "plusOneAllowed": "Boolean indicating if plus ones allowed (optional)"
}`,
    accommodation: `
Extract the following fields in JSON format:
{
  "name": "Accommodation name (required, max 200 chars)",
  "description": "Detailed description (optional, max 5000 chars)",
  "address": "Physical address (optional, max 500 chars)"
}`,
    vendor: `
Extract the following fields in JSON format:
{
  "name": "Vendor name (required, max 100 chars)",
  "category": "One of: photography, flowers, catering, music, transportation, decoration, other (required)",
  "contactName": "Contact person name (optional, max 100 chars)",
  "email": "Contact email (optional, valid email format)",
  "phone": "Contact phone (optional, max 20 chars)",
  "pricingModel": "One of: flat_rate, per_guest, tiered (required)",
  "baseCost": "Base cost in USD (required, non-negative number)",
  "notes": "Additional notes (optional, max 2000 chars)"
}`
  });
  /* istanbul ignore next */
  cov_2j8d464gty().s[46]++;
  return `${basePrompt}${schemas[contentType]}

HTML Content:
${htmlContent.substring(0, 10000)} ${htmlContent.length > 10000 ?
  /* istanbul ignore next */
  (cov_2j8d464gty().b[13][0]++, '...(truncated)') :
  /* istanbul ignore next */
  (cov_2j8d464gty().b[13][1]++, '')}

Return ONLY valid JSON matching the schema above. Do not include any explanatory text.`;
}
/**
 * Parses and validates AI response against the appropriate schema.
 * 
 * @param contentType - Type of content extracted
 * @param aiResponse - Raw AI response text
 * @returns Result containing validated and sanitized data
 */
function parseAndValidateResponse(contentType, aiResponse) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[11]++;
  cov_2j8d464gty().s[47]++;
  try {
    // Extract JSON from response (handle markdown code blocks)
    let jsonText =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[48]++, aiResponse.trim());
    /* istanbul ignore next */
    cov_2j8d464gty().s[49]++;
    if (jsonText.startsWith('```json')) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[14][0]++;
      cov_2j8d464gty().s[50]++;
      jsonText = jsonText.replace(/```json\n?/, '').replace(/\n?```$/, '');
    } else {
      /* istanbul ignore next */
      cov_2j8d464gty().b[14][1]++;
      cov_2j8d464gty().s[51]++;
      if (jsonText.startsWith('```')) {
        /* istanbul ignore next */
        cov_2j8d464gty().b[15][0]++;
        cov_2j8d464gty().s[52]++;
        jsonText = jsonText.replace(/```\n?/, '').replace(/\n?```$/, '');
      } else
      /* istanbul ignore next */
      {
        cov_2j8d464gty().b[15][1]++;
      }
    }
    const parsed =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[53]++, JSON.parse(jsonText));
    const warnings =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[54]++, []);
    // Sanitize all string fields
    const sanitized =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[55]++, sanitizeExtractedData(parsed, warnings));
    // Validate against appropriate schema
    let validation;
    /* istanbul ignore next */
    cov_2j8d464gty().s[56]++;
    switch (contentType) {
      case 'activity':
        /* istanbul ignore next */
        cov_2j8d464gty().b[16][0]++;
        cov_2j8d464gty().s[57]++;
        validation = _activitySchemas.createActivitySchema.safeParse(sanitized);
        /* istanbul ignore next */
        cov_2j8d464gty().s[58]++;
        break;
      case 'accommodation':
        /* istanbul ignore next */
        cov_2j8d464gty().b[16][1]++;
        cov_2j8d464gty().s[59]++;
        validation = _accommodationSchemas.createAccommodationSchema.safeParse(sanitized);
        /* istanbul ignore next */
        cov_2j8d464gty().s[60]++;
        break;
      case 'vendor':
        /* istanbul ignore next */
        cov_2j8d464gty().b[16][2]++;
        cov_2j8d464gty().s[61]++;
        validation = _vendorSchemas.createVendorSchema.safeParse(sanitized);
        /* istanbul ignore next */
        cov_2j8d464gty().s[62]++;
        break;
      default:
        /* istanbul ignore next */
        cov_2j8d464gty().b[16][3]++;
        cov_2j8d464gty().s[63]++;
        return {
          success: false,
          error: {
            code: 'INVALID_CONTENT_TYPE',
            message: `Unsupported content type: ${contentType}`
          }
        };
    }
    /* istanbul ignore next */
    cov_2j8d464gty().s[64]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[17][0]++;
      cov_2j8d464gty().s[65]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Extracted data failed schema validation',
          details: validation.error.issues
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[17][1]++;
    }
    cov_2j8d464gty().s[66]++;
    return {
      success: true,
      data: {
        data: validation.data,
        warnings
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2j8d464gty().s[67]++;
    return {
      success: false,
      error: {
        code: 'PARSE_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2j8d464gty().b[18][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2j8d464gty().b[18][1]++, 'Failed to parse AI response')
      }
    };
  }
}
/**
 * Recursively sanitizes all string fields in extracted data.
 * 
 * @param data - Raw extracted data object
 * @param warnings - Array to collect sanitization warnings
 * @returns Sanitized data object
 */
function sanitizeExtractedData(data, warnings) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[12]++;
  cov_2j8d464gty().s[68]++;
  if (typeof data === 'string') {
    /* istanbul ignore next */
    cov_2j8d464gty().b[19][0]++;
    const sanitized =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[69]++, sanitizeExtractedText(data));
    /* istanbul ignore next */
    cov_2j8d464gty().s[70]++;
    if (sanitized !== data) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[20][0]++;
      cov_2j8d464gty().s[71]++;
      warnings.push('Some content was sanitized to remove potentially dangerous patterns');
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[20][1]++;
    }
    cov_2j8d464gty().s[72]++;
    return sanitized;
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[19][1]++;
  }
  cov_2j8d464gty().s[73]++;
  if (Array.isArray(data)) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[21][0]++;
    cov_2j8d464gty().s[74]++;
    return data.map(item => {
      /* istanbul ignore next */
      cov_2j8d464gty().f[13]++;
      cov_2j8d464gty().s[75]++;
      return sanitizeExtractedData(item, warnings);
    });
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[21][1]++;
  }
  cov_2j8d464gty().s[76]++;
  if (
  /* istanbul ignore next */
  (cov_2j8d464gty().b[23][0]++, data) &&
  /* istanbul ignore next */
  (cov_2j8d464gty().b[23][1]++, typeof data === 'object')) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[22][0]++;
    const sanitized =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[77]++, {});
    /* istanbul ignore next */
    cov_2j8d464gty().s[78]++;
    for (const [key, value] of Object.entries(data)) {
      /* istanbul ignore next */
      cov_2j8d464gty().s[79]++;
      sanitized[key] = sanitizeExtractedData(value, warnings);
    }
    /* istanbul ignore next */
    cov_2j8d464gty().s[80]++;
    return sanitized;
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[22][1]++;
  }
  cov_2j8d464gty().s[81]++;
  return data;
}
/**
 * Determines confidence level based on validation and content quality.
 * 
 * @param data - Validated data
 * @param warnings - Validation warnings
 * @returns Confidence level
 */
function determineConfidence(data, warnings) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[14]++;
  cov_2j8d464gty().s[82]++;
  if (warnings.length > 2) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[24][0]++;
    cov_2j8d464gty().s[83]++;
    return 'low';
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[24][1]++;
  }
  // Check for required fields completeness
  const hasRequiredFields =
  /* istanbul ignore next */
  (cov_2j8d464gty().s[84]++,
  /* istanbul ignore next */
  (cov_2j8d464gty().b[25][0]++, data.name) &&
  /* istanbul ignore next */
  (cov_2j8d464gty().b[25][1]++, data.name.length > 0));
  const hasOptionalFields =
  /* istanbul ignore next */
  (cov_2j8d464gty().s[85]++, Object.keys(data).length > 3);
  /* istanbul ignore next */
  cov_2j8d464gty().s[86]++;
  if (
  /* istanbul ignore next */
  (cov_2j8d464gty().b[27][0]++, hasRequiredFields) &&
  /* istanbul ignore next */
  (cov_2j8d464gty().b[27][1]++, hasOptionalFields) &&
  /* istanbul ignore next */
  (cov_2j8d464gty().b[27][2]++, warnings.length === 0)) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[26][0]++;
    cov_2j8d464gty().s[87]++;
    return 'high';
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[26][1]++;
  }
  cov_2j8d464gty().s[88]++;
  if (hasRequiredFields) {
    /* istanbul ignore next */
    cov_2j8d464gty().b[28][0]++;
    cov_2j8d464gty().s[89]++;
    return 'medium';
  } else
  /* istanbul ignore next */
  {
    cov_2j8d464gty().b[28][1]++;
  }
  cov_2j8d464gty().s[90]++;
  return 'low';
}
async function extractContentFromUrl(request) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[15]++;
  cov_2j8d464gty().s[91]++;
  try {
    // 1. Validate request
    const validation =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[92]++, extractionRequestSchema.safeParse(request));
    /* istanbul ignore next */
    cov_2j8d464gty().s[93]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[29][0]++;
      cov_2j8d464gty().s[94]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Invalid extraction request',
          details: validation.error.issues
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[29][1]++;
    }
    const {
      url,
      contentType,
      additionalContext
    } =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[95]++, validation.data);
    // 2. Fetch URL content
    const fetchResult =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[96]++, await fetchUrlContent(url));
    /* istanbul ignore next */
    cov_2j8d464gty().s[97]++;
    if (!fetchResult.success) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[30][0]++;
      cov_2j8d464gty().s[98]++;
      return fetchResult;
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[30][1]++;
    }
    // 3. Initialize Gemini AI
    const apiKey =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[99]++, process.env.GEMINI_API_KEY);
    /* istanbul ignore next */
    cov_2j8d464gty().s[100]++;
    if (!apiKey) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[31][0]++;
      cov_2j8d464gty().s[101]++;
      return {
        success: false,
        error: {
          code: 'CONFIGURATION_ERROR',
          message: 'GEMINI_API_KEY environment variable is not set'
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[31][1]++;
    }
    const genAI =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[102]++, new _generativeai.GoogleGenerativeAI(apiKey));
    const model =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[103]++, genAI.getGenerativeModel({
      model: 'gemini-pro'
    }));
    // 4. Generate prompt and extract content
    const prompt =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[104]++, generateExtractionPrompt(contentType, fetchResult.data, additionalContext));
    const result =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[105]++, await model.generateContent(prompt));
    const response =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[106]++, await result.response);
    const aiResponse =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[107]++, response.text());
    // 5. Parse and validate response
    const parseResult =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[108]++, parseAndValidateResponse(contentType, aiResponse));
    /* istanbul ignore next */
    cov_2j8d464gty().s[109]++;
    if (!parseResult.success) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[32][0]++;
      cov_2j8d464gty().s[110]++;
      return parseResult;
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[32][1]++;
    }
    const {
      data: extractedData,
      warnings
    } =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[111]++, parseResult.data);
    // 6. Determine confidence level
    const confidence =
    /* istanbul ignore next */
    (cov_2j8d464gty().s[112]++, determineConfidence(extractedData, warnings));
    /* istanbul ignore next */
    cov_2j8d464gty().s[113]++;
    return {
      success: true,
      data: {
        contentType,
        sourceUrl: url,
        extractedData,
        rawResponse: aiResponse,
        confidence,
        warnings
      }
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2j8d464gty().s[114]++;
    return {
      success: false,
      error: {
        code: 'EXTERNAL_SERVICE_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2j8d464gty().b[33][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2j8d464gty().b[33][1]++, 'AI extraction failed'),
        details: error
      }
    };
  }
}
function validateExtractedContent(contentType, data) {
  /* istanbul ignore next */
  cov_2j8d464gty().f[16]++;
  cov_2j8d464gty().s[115]++;
  try {
    let validation;
    /* istanbul ignore next */
    cov_2j8d464gty().s[116]++;
    switch (contentType) {
      case 'activity':
        /* istanbul ignore next */
        cov_2j8d464gty().b[34][0]++;
        cov_2j8d464gty().s[117]++;
        validation = _activitySchemas.createActivitySchema.safeParse(data);
        /* istanbul ignore next */
        cov_2j8d464gty().s[118]++;
        break;
      case 'accommodation':
        /* istanbul ignore next */
        cov_2j8d464gty().b[34][1]++;
        cov_2j8d464gty().s[119]++;
        validation = _accommodationSchemas.createAccommodationSchema.safeParse(data);
        /* istanbul ignore next */
        cov_2j8d464gty().s[120]++;
        break;
      case 'vendor':
        /* istanbul ignore next */
        cov_2j8d464gty().b[34][2]++;
        cov_2j8d464gty().s[121]++;
        validation = _vendorSchemas.createVendorSchema.safeParse(data);
        /* istanbul ignore next */
        cov_2j8d464gty().s[122]++;
        break;
      default:
        /* istanbul ignore next */
        cov_2j8d464gty().b[34][3]++;
        cov_2j8d464gty().s[123]++;
        return {
          success: false,
          error: {
            code: 'INVALID_CONTENT_TYPE',
            message: `Unsupported content type: ${contentType}`
          }
        };
    }
    /* istanbul ignore next */
    cov_2j8d464gty().s[124]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_2j8d464gty().b[35][0]++;
      cov_2j8d464gty().s[125]++;
      return {
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Content validation failed',
          details: validation.error.issues
        }
      };
    } else
    /* istanbul ignore next */
    {
      cov_2j8d464gty().b[35][1]++;
    }
    cov_2j8d464gty().s[126]++;
    return {
      success: true,
      data: undefined
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_2j8d464gty().s[127]++;
    return {
      success: false,
      error: {
        code: 'VALIDATION_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2j8d464gty().b[36][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2j8d464gty().b[36][1]++, 'Validation failed')
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHRyYWN0Q29udGVudEZyb21VcmwiLCJjb3ZfMmo4ZDQ2NGd0eSIsImYiLCJzIiwic2FuaXRpemVFeHRyYWN0ZWRSaWNoVGV4dCIsInNhbml0aXplRXh0cmFjdGVkVGV4dCIsInZhbGlkYXRlRXh0cmFjdGVkQ29udGVudCIsInVybFNjaGVtYSIsIl96b2QiLCJ6Iiwic3RyaW5nIiwidXJsIiwicmVmaW5lIiwicGFyc2VkIiwiVVJMIiwiYiIsInByb3RvY29sIiwibWVzc2FnZSIsImV4dHJhY3Rpb25SZXF1ZXN0U2NoZW1hIiwib2JqZWN0IiwiY29udGVudFR5cGUiLCJlbnVtIiwiYWRkaXRpb25hbENvbnRleHQiLCJtYXgiLCJvcHRpb25hbCIsImlucHV0IiwiX3Nhbml0aXphdGlvbiIsInNhbml0aXplSW5wdXQiLCJodG1sIiwic2FuaXRpemVSaWNoVGV4dCIsImZldGNoVXJsQ29udGVudCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJyZXNwb25zZSIsImZldGNoIiwic2lnbmFsIiwiaGVhZGVycyIsImNsZWFyVGltZW91dCIsIm9rIiwic3VjY2VzcyIsImVycm9yIiwiY29kZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJnZXQiLCJpbmNsdWRlcyIsInRleHQiLCJsZW5ndGgiLCJkYXRhIiwiRXJyb3IiLCJuYW1lIiwiZ2VuZXJhdGVFeHRyYWN0aW9uUHJvbXB0IiwiaHRtbENvbnRlbnQiLCJiYXNlUHJvbXB0Iiwic2NoZW1hcyIsImFjdGl2aXR5IiwiYWNjb21tb2RhdGlvbiIsInZlbmRvciIsInN1YnN0cmluZyIsInBhcnNlQW5kVmFsaWRhdGVSZXNwb25zZSIsImFpUmVzcG9uc2UiLCJqc29uVGV4dCIsInRyaW0iLCJzdGFydHNXaXRoIiwicmVwbGFjZSIsIkpTT04iLCJwYXJzZSIsIndhcm5pbmdzIiwic2FuaXRpemVkIiwic2FuaXRpemVFeHRyYWN0ZWREYXRhIiwidmFsaWRhdGlvbiIsIl9hY3Rpdml0eVNjaGVtYXMiLCJjcmVhdGVBY3Rpdml0eVNjaGVtYSIsInNhZmVQYXJzZSIsIl9hY2NvbW1vZGF0aW9uU2NoZW1hcyIsImNyZWF0ZUFjY29tbW9kYXRpb25TY2hlbWEiLCJfdmVuZG9yU2NoZW1hcyIsImNyZWF0ZVZlbmRvclNjaGVtYSIsImRldGFpbHMiLCJpc3N1ZXMiLCJwdXNoIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwiaXRlbSIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsImRldGVybWluZUNvbmZpZGVuY2UiLCJoYXNSZXF1aXJlZEZpZWxkcyIsImhhc09wdGlvbmFsRmllbGRzIiwia2V5cyIsInJlcXVlc3QiLCJmZXRjaFJlc3VsdCIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsImdlbkFJIiwiX2dlbmVyYXRpdmVhaSIsIkdvb2dsZUdlbmVyYXRpdmVBSSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwicHJvbXB0IiwicmVzdWx0IiwiZ2VuZXJhdGVDb250ZW50IiwicGFyc2VSZXN1bHQiLCJleHRyYWN0ZWREYXRhIiwiY29uZmlkZW5jZSIsInNvdXJjZVVybCIsInJhd1Jlc3BvbnNlIiwidW5kZWZpbmVkIl0sInNvdXJjZXMiOlsiL1VzZXJzL2phcm9uL0Rlc2t0b3Avd2VkZGluZy1wbGF0Zm9ybS12Mi9zZXJ2aWNlcy9haUNvbnRlbnRTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XG5pbXBvcnQgeyBzYW5pdGl6ZUlucHV0LCBzYW5pdGl6ZVJpY2hUZXh0IH0gZnJvbSBcIi4uL3V0aWxzL3Nhbml0aXphdGlvblwiO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgdHlwZSB7IFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNyZWF0ZUFjdGl2aXR5U2NoZW1hLCB0eXBlIENyZWF0ZUFjdGl2aXR5RFRPIH0gZnJvbSAnLi4vc2NoZW1hcy9hY3Rpdml0eVNjaGVtYXMnO1xuaW1wb3J0IHsgY3JlYXRlQWNjb21tb2RhdGlvblNjaGVtYSwgdHlwZSBDcmVhdGVBY2NvbW1vZGF0aW9uRFRPIH0gZnJvbSAnLi4vc2NoZW1hcy9hY2NvbW1vZGF0aW9uU2NoZW1hcyc7XG5pbXBvcnQgeyBjcmVhdGVWZW5kb3JTY2hlbWEsIHR5cGUgQ3JlYXRlVmVuZG9yRFRPIH0gZnJvbSAnLi4vc2NoZW1hcy92ZW5kb3JTY2hlbWFzJztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgY29udGVudCB0eXBlcyBmb3IgQUkgZXh0cmFjdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgQ29udGVudFR5cGUgPSAnYWN0aXZpdHknIHwgJ2FjY29tbW9kYXRpb24nIHwgJ3ZlbmRvcic7XG5cbi8qKlxuICogVVJMIHZhbGlkYXRpb24gc2NoZW1hLlxuICovXG5jb25zdCB1cmxTY2hlbWEgPSB6LnN0cmluZygpLnVybCgnSW52YWxpZCBVUkwgZm9ybWF0JykucmVmaW5lKFxuICAodXJsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsKTtcbiAgICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09ICdodHRwOicgfHwgcGFyc2VkLnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHsgbWVzc2FnZTogJ1VSTCBtdXN0IHVzZSBIVFRQIG9yIEhUVFBTIHByb3RvY29sJyB9XG4pO1xuXG4vKipcbiAqIEFJIGV4dHJhY3Rpb24gcmVxdWVzdCBzY2hlbWEuXG4gKi9cbmNvbnN0IGV4dHJhY3Rpb25SZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICB1cmw6IHVybFNjaGVtYSxcbiAgY29udGVudFR5cGU6IHouZW51bShbJ2FjdGl2aXR5JywgJ2FjY29tbW9kYXRpb24nLCAndmVuZG9yJ10pLFxuICBhZGRpdGlvbmFsQ29udGV4dDogei5zdHJpbmcoKS5tYXgoNTAwKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEV4dHJhY3Rpb25SZXF1ZXN0RFRPID0gei5pbmZlcjx0eXBlb2YgZXh0cmFjdGlvblJlcXVlc3RTY2hlbWE+O1xuXG4vKipcbiAqIEV4dHJhY3RlZCBjb250ZW50IHdpdGggcHJldmlldyBkYXRhLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEV4dHJhY3RlZENvbnRlbnQ8VD4ge1xuICBjb250ZW50VHlwZTogQ29udGVudFR5cGU7XG4gIHNvdXJjZVVybDogc3RyaW5nO1xuICBleHRyYWN0ZWREYXRhOiBUO1xuICByYXdSZXNwb25zZTogc3RyaW5nO1xuICBjb25maWRlbmNlOiAnaGlnaCcgfCAnbWVkaXVtJyB8ICdsb3cnO1xuICB3YXJuaW5nczogc3RyaW5nW107XG59XG5cbi8qKlxuICogU2FuaXRpemVzIGV4dHJhY3RlZCB0ZXh0IGNvbnRlbnQgdG8gcHJldmVudCBYU1MgYW5kIGluamVjdGlvbiBhdHRhY2tzLlxuICogXG4gKiBAcGFyYW0gaW5wdXQgLSBSYXcgdGV4dCBpbnB1dCBmcm9tIEFJIGV4dHJhY3Rpb25cbiAqIEByZXR1cm5zIFNhbml0aXplZCB0ZXh0IHNhZmUgZm9yIHN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRXh0cmFjdGVkVGV4dChpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFpbnB1dCB8fCB0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHNhbml0aXplSW5wdXQoaW5wdXQpO1xufVxuXG4vKipcbiAqIFNhbml0aXplcyBleHRyYWN0ZWQgcmljaCB0ZXh0IGNvbnRlbnQgYWxsb3dpbmcgc2FmZSBIVE1MLlxuICogXG4gKiBAcGFyYW0gaHRtbCAtIFJhdyBIVE1MIGlucHV0IGZyb20gQUkgZXh0cmFjdGlvblxuICogQHJldHVybnMgU2FuaXRpemVkIEhUTUwgc2FmZSBmb3Igc3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVFeHRyYWN0ZWRSaWNoVGV4dChodG1sOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIWh0bWwgfHwgdHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHNhbml0aXplUmljaFRleHQoaHRtbCk7XG59XG5cbi8qKlxuICogRmV0Y2hlcyBjb250ZW50IGZyb20gYSBVUkwgd2l0aCB0aW1lb3V0IGFuZCBzaXplIGxpbWl0cy5cbiAqIFxuICogQHBhcmFtIHVybCAtIFVSTCB0byBmZXRjaCBjb250ZW50IGZyb21cbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHRoZSBmZXRjaGVkIEhUTUwgY29udGVudFxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFVybENvbnRlbnQodXJsOiBzdHJpbmcpOiBQcm9taXNlPFJlc3VsdDxzdHJpbmc+PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMzAwMDApOyAvLyAzMCBzZWNvbmQgdGltZW91dFxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBXZWRkaW5nUGxhdGZvcm0vMS4wKScsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnRkVUQ0hfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgdG8gZmV0Y2ggVVJMOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgIGlmICghY29udGVudFR5cGUgfHwgIWNvbnRlbnRUeXBlLmluY2x1ZGVzKCd0ZXh0L2h0bWwnKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0lOVkFMSURfQ09OVEVOVF9UWVBFJyxcbiAgICAgICAgICBtZXNzYWdlOiAnVVJMIG11c3QgcmV0dXJuIEhUTUwgY29udGVudCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIExpbWl0IGNvbnRlbnQgc2l6ZSB0byAxTUJcbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDEwMjQgKiAxMDI0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnQ09OVEVOVF9UT09fTEFSR0UnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdDb250ZW50IGV4Y2VlZHMgMU1CIGxpbWl0JyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdGV4dCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ1RJTUVPVVQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdSZXF1ZXN0IHRpbWVkIG91dCBhZnRlciAzMCBzZWNvbmRzJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ0ZFVENIX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIFVSTCcsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwcm9tcHQgZm9yIHRoZSBBSSBtb2RlbCBiYXNlZCBvbiBjb250ZW50IHR5cGUuXG4gKiBcbiAqIEBwYXJhbSBjb250ZW50VHlwZSAtIFR5cGUgb2YgY29udGVudCB0byBleHRyYWN0XG4gKiBAcGFyYW0gaHRtbENvbnRlbnQgLSBIVE1MIGNvbnRlbnQgZnJvbSB0aGUgVVJMXG4gKiBAcGFyYW0gYWRkaXRpb25hbENvbnRleHQgLSBPcHRpb25hbCBhZGRpdGlvbmFsIGNvbnRleHRcbiAqIEByZXR1cm5zIEZvcm1hdHRlZCBwcm9tcHQgZm9yIHRoZSBBSSBtb2RlbFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUV4dHJhY3Rpb25Qcm9tcHQoXG4gIGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSxcbiAgaHRtbENvbnRlbnQ6IHN0cmluZyxcbiAgYWRkaXRpb25hbENvbnRleHQ/OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGNvbnN0IGJhc2VQcm9tcHQgPSBgRXh0cmFjdCBzdHJ1Y3R1cmVkIGRhdGEgZnJvbSB0aGUgZm9sbG93aW5nIEhUTUwgY29udGVudCBmb3IgYSBkZXN0aW5hdGlvbiB3ZWRkaW5nIG1hbmFnZW1lbnQgc3lzdGVtLlxuXG5Db250ZW50IFR5cGU6ICR7Y29udGVudFR5cGV9XG5cbiR7YWRkaXRpb25hbENvbnRleHQgPyBgQWRkaXRpb25hbCBDb250ZXh0OiAke2FkZGl0aW9uYWxDb250ZXh0fVxcblxcbmAgOiAnJ31gO1xuXG4gIGNvbnN0IHNjaGVtYXMgPSB7XG4gICAgYWN0aXZpdHk6IGBcbkV4dHJhY3QgdGhlIGZvbGxvd2luZyBmaWVsZHMgaW4gSlNPTiBmb3JtYXQ6XG57XG4gIFwibmFtZVwiOiBcIkFjdGl2aXR5IG5hbWUgKHJlcXVpcmVkLCBtYXggMTAwIGNoYXJzKVwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiRGV0YWlsZWQgZGVzY3JpcHRpb24gKG9wdGlvbmFsLCBtYXggMjAwMCBjaGFycylcIixcbiAgXCJhY3Rpdml0eVR5cGVcIjogXCJUeXBlIG9mIGFjdGl2aXR5IChyZXF1aXJlZClcIixcbiAgXCJzdGFydFRpbWVcIjogXCJJU08gODYwMSBkYXRldGltZSAocmVxdWlyZWQpXCIsXG4gIFwiZW5kVGltZVwiOiBcIklTTyA4NjAxIGRhdGV0aW1lIChvcHRpb25hbClcIixcbiAgXCJjYXBhY2l0eVwiOiBcIk1heGltdW0gcGFydGljaXBhbnRzIChvcHRpb25hbCwgcG9zaXRpdmUgaW50ZWdlcilcIixcbiAgXCJjb3N0UGVyUGVyc29uXCI6IFwiQ29zdCBwZXIgcGVyc29uIGluIFVTRCAob3B0aW9uYWwsIG5vbi1uZWdhdGl2ZSBudW1iZXIpXCIsXG4gIFwiYWR1bHRzT25seVwiOiBcIkJvb2xlYW4gaW5kaWNhdGluZyBpZiBhZHVsdHMgb25seSAob3B0aW9uYWwpXCIsXG4gIFwicGx1c09uZUFsbG93ZWRcIjogXCJCb29sZWFuIGluZGljYXRpbmcgaWYgcGx1cyBvbmVzIGFsbG93ZWQgKG9wdGlvbmFsKVwiXG59YCxcbiAgICBhY2NvbW1vZGF0aW9uOiBgXG5FeHRyYWN0IHRoZSBmb2xsb3dpbmcgZmllbGRzIGluIEpTT04gZm9ybWF0Olxue1xuICBcIm5hbWVcIjogXCJBY2NvbW1vZGF0aW9uIG5hbWUgKHJlcXVpcmVkLCBtYXggMjAwIGNoYXJzKVwiLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiRGV0YWlsZWQgZGVzY3JpcHRpb24gKG9wdGlvbmFsLCBtYXggNTAwMCBjaGFycylcIixcbiAgXCJhZGRyZXNzXCI6IFwiUGh5c2ljYWwgYWRkcmVzcyAob3B0aW9uYWwsIG1heCA1MDAgY2hhcnMpXCJcbn1gLFxuICAgIHZlbmRvcjogYFxuRXh0cmFjdCB0aGUgZm9sbG93aW5nIGZpZWxkcyBpbiBKU09OIGZvcm1hdDpcbntcbiAgXCJuYW1lXCI6IFwiVmVuZG9yIG5hbWUgKHJlcXVpcmVkLCBtYXggMTAwIGNoYXJzKVwiLFxuICBcImNhdGVnb3J5XCI6IFwiT25lIG9mOiBwaG90b2dyYXBoeSwgZmxvd2VycywgY2F0ZXJpbmcsIG11c2ljLCB0cmFuc3BvcnRhdGlvbiwgZGVjb3JhdGlvbiwgb3RoZXIgKHJlcXVpcmVkKVwiLFxuICBcImNvbnRhY3ROYW1lXCI6IFwiQ29udGFjdCBwZXJzb24gbmFtZSAob3B0aW9uYWwsIG1heCAxMDAgY2hhcnMpXCIsXG4gIFwiZW1haWxcIjogXCJDb250YWN0IGVtYWlsIChvcHRpb25hbCwgdmFsaWQgZW1haWwgZm9ybWF0KVwiLFxuICBcInBob25lXCI6IFwiQ29udGFjdCBwaG9uZSAob3B0aW9uYWwsIG1heCAyMCBjaGFycylcIixcbiAgXCJwcmljaW5nTW9kZWxcIjogXCJPbmUgb2Y6IGZsYXRfcmF0ZSwgcGVyX2d1ZXN0LCB0aWVyZWQgKHJlcXVpcmVkKVwiLFxuICBcImJhc2VDb3N0XCI6IFwiQmFzZSBjb3N0IGluIFVTRCAocmVxdWlyZWQsIG5vbi1uZWdhdGl2ZSBudW1iZXIpXCIsXG4gIFwibm90ZXNcIjogXCJBZGRpdGlvbmFsIG5vdGVzIChvcHRpb25hbCwgbWF4IDIwMDAgY2hhcnMpXCJcbn1gLFxuICB9O1xuXG4gIHJldHVybiBgJHtiYXNlUHJvbXB0fSR7c2NoZW1hc1tjb250ZW50VHlwZV19XG5cbkhUTUwgQ29udGVudDpcbiR7aHRtbENvbnRlbnQuc3Vic3RyaW5nKDAsIDEwMDAwKX0gJHtodG1sQ29udGVudC5sZW5ndGggPiAxMDAwMCA/ICcuLi4odHJ1bmNhdGVkKScgOiAnJ31cblxuUmV0dXJuIE9OTFkgdmFsaWQgSlNPTiBtYXRjaGluZyB0aGUgc2NoZW1hIGFib3ZlLiBEbyBub3QgaW5jbHVkZSBhbnkgZXhwbGFuYXRvcnkgdGV4dC5gO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbmQgdmFsaWRhdGVzIEFJIHJlc3BvbnNlIGFnYWluc3QgdGhlIGFwcHJvcHJpYXRlIHNjaGVtYS5cbiAqIFxuICogQHBhcmFtIGNvbnRlbnRUeXBlIC0gVHlwZSBvZiBjb250ZW50IGV4dHJhY3RlZFxuICogQHBhcmFtIGFpUmVzcG9uc2UgLSBSYXcgQUkgcmVzcG9uc2UgdGV4dFxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgdmFsaWRhdGVkIGFuZCBzYW5pdGl6ZWQgZGF0YVxuICovXG5mdW5jdGlvbiBwYXJzZUFuZFZhbGlkYXRlUmVzcG9uc2U8VD4oXG4gIGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSxcbiAgYWlSZXNwb25zZTogc3RyaW5nXG4pOiBSZXN1bHQ8eyBkYXRhOiBUOyB3YXJuaW5nczogc3RyaW5nW10gfT4ge1xuICB0cnkge1xuICAgIC8vIEV4dHJhY3QgSlNPTiBmcm9tIHJlc3BvbnNlIChoYW5kbGUgbWFya2Rvd24gY29kZSBibG9ja3MpXG4gICAgbGV0IGpzb25UZXh0ID0gYWlSZXNwb25zZS50cmltKCk7XG4gICAgaWYgKGpzb25UZXh0LnN0YXJ0c1dpdGgoJ2BgYGpzb24nKSkge1xuICAgICAganNvblRleHQgPSBqc29uVGV4dC5yZXBsYWNlKC9gYGBqc29uXFxuPy8sICcnKS5yZXBsYWNlKC9cXG4/YGBgJC8sICcnKTtcbiAgICB9IGVsc2UgaWYgKGpzb25UZXh0LnN0YXJ0c1dpdGgoJ2BgYCcpKSB7XG4gICAgICBqc29uVGV4dCA9IGpzb25UZXh0LnJlcGxhY2UoL2BgYFxcbj8vLCAnJykucmVwbGFjZSgvXFxuP2BgYCQvLCAnJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uVGV4dCk7XG4gICAgY29uc3Qgd2FybmluZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBTYW5pdGl6ZSBhbGwgc3RyaW5nIGZpZWxkc1xuICAgIGNvbnN0IHNhbml0aXplZCA9IHNhbml0aXplRXh0cmFjdGVkRGF0YShwYXJzZWQsIHdhcm5pbmdzKTtcblxuICAgIC8vIFZhbGlkYXRlIGFnYWluc3QgYXBwcm9wcmlhdGUgc2NoZW1hXG4gICAgbGV0IHZhbGlkYXRpb247XG4gICAgc3dpdGNoIChjb250ZW50VHlwZSkge1xuICAgICAgY2FzZSAnYWN0aXZpdHknOlxuICAgICAgICB2YWxpZGF0aW9uID0gY3JlYXRlQWN0aXZpdHlTY2hlbWEuc2FmZVBhcnNlKHNhbml0aXplZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYWNjb21tb2RhdGlvbic6XG4gICAgICAgIHZhbGlkYXRpb24gPSBjcmVhdGVBY2NvbW1vZGF0aW9uU2NoZW1hLnNhZmVQYXJzZShzYW5pdGl6ZWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3ZlbmRvcic6XG4gICAgICAgIHZhbGlkYXRpb24gPSBjcmVhdGVWZW5kb3JTY2hlbWEuc2FmZVBhcnNlKHNhbml0aXplZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ0lOVkFMSURfQ09OVEVOVF9UWVBFJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCBjb250ZW50IHR5cGU6ICR7Y29udGVudFR5cGV9YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0V4dHJhY3RlZCBkYXRhIGZhaWxlZCBzY2hlbWEgdmFsaWRhdGlvbicsXG4gICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvbi5lcnJvci5pc3N1ZXMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YToge1xuICAgICAgICBkYXRhOiB2YWxpZGF0aW9uLmRhdGEgYXMgVCxcbiAgICAgICAgd2FybmluZ3MsXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1BBUlNFX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHBhcnNlIEFJIHJlc3BvbnNlJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHNhbml0aXplcyBhbGwgc3RyaW5nIGZpZWxkcyBpbiBleHRyYWN0ZWQgZGF0YS5cbiAqIFxuICogQHBhcmFtIGRhdGEgLSBSYXcgZXh0cmFjdGVkIGRhdGEgb2JqZWN0XG4gKiBAcGFyYW0gd2FybmluZ3MgLSBBcnJheSB0byBjb2xsZWN0IHNhbml0aXphdGlvbiB3YXJuaW5nc1xuICogQHJldHVybnMgU2FuaXRpemVkIGRhdGEgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplRXh0cmFjdGVkRGF0YShkYXRhOiBhbnksIHdhcm5pbmdzOiBzdHJpbmdbXSk6IGFueSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUV4dHJhY3RlZFRleHQoZGF0YSk7XG4gICAgaWYgKHNhbml0aXplZCAhPT0gZGF0YSkge1xuICAgICAgd2FybmluZ3MucHVzaCgnU29tZSBjb250ZW50IHdhcyBzYW5pdGl6ZWQgdG8gcmVtb3ZlIHBvdGVudGlhbGx5IGRhbmdlcm91cyBwYXR0ZXJucycpO1xuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVkO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICByZXR1cm4gZGF0YS5tYXAoKGl0ZW0pID0+IHNhbml0aXplRXh0cmFjdGVkRGF0YShpdGVtLCB3YXJuaW5ncykpO1xuICB9XG5cbiAgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3Qgc2FuaXRpemVkOiBhbnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgc2FuaXRpemVkW2tleV0gPSBzYW5pdGl6ZUV4dHJhY3RlZERhdGEodmFsdWUsIHdhcm5pbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgY29uZmlkZW5jZSBsZXZlbCBiYXNlZCBvbiB2YWxpZGF0aW9uIGFuZCBjb250ZW50IHF1YWxpdHkuXG4gKiBcbiAqIEBwYXJhbSBkYXRhIC0gVmFsaWRhdGVkIGRhdGFcbiAqIEBwYXJhbSB3YXJuaW5ncyAtIFZhbGlkYXRpb24gd2FybmluZ3NcbiAqIEByZXR1cm5zIENvbmZpZGVuY2UgbGV2ZWxcbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ29uZmlkZW5jZShkYXRhOiBhbnksIHdhcm5pbmdzOiBzdHJpbmdbXSk6ICdoaWdoJyB8ICdtZWRpdW0nIHwgJ2xvdycge1xuICBpZiAod2FybmluZ3MubGVuZ3RoID4gMikge1xuICAgIHJldHVybiAnbG93JztcbiAgfVxuXG4gIC8vIENoZWNrIGZvciByZXF1aXJlZCBmaWVsZHMgY29tcGxldGVuZXNzXG4gIGNvbnN0IGhhc1JlcXVpcmVkRmllbGRzID0gZGF0YS5uYW1lICYmIGRhdGEubmFtZS5sZW5ndGggPiAwO1xuICBjb25zdCBoYXNPcHRpb25hbEZpZWxkcyA9IE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA+IDM7XG5cbiAgaWYgKGhhc1JlcXVpcmVkRmllbGRzICYmIGhhc09wdGlvbmFsRmllbGRzICYmIHdhcm5pbmdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnaGlnaCc7XG4gIH1cblxuICBpZiAoaGFzUmVxdWlyZWRGaWVsZHMpIHtcbiAgICByZXR1cm4gJ21lZGl1bSc7XG4gIH1cblxuICByZXR1cm4gJ2xvdyc7XG59XG5cbi8qKlxuICogRXh0cmFjdHMgc3RydWN0dXJlZCBjb250ZW50IGZyb20gYSBVUkwgdXNpbmcgR29vZ2xlIEdlbWluaSBBSS5cbiAqIFxuICogQHBhcmFtIHJlcXVlc3QgLSBFeHRyYWN0aW9uIHJlcXVlc3Qgd2l0aCBVUkwgYW5kIGNvbnRlbnQgdHlwZVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgZXh0cmFjdGVkIGFuZCB2YWxpZGF0ZWQgY29udGVudCB3aXRoIHByZXZpZXdcbiAqIFxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4dHJhY3RDb250ZW50RnJvbVVybCh7XG4gKiAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vdmVudWUnLFxuICogICBjb250ZW50VHlwZTogJ2FjY29tbW9kYXRpb24nLFxuICogfSk7XG4gKiBcbiAqIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICogICBjb25zb2xlLmxvZygnRXh0cmFjdGVkOicsIHJlc3VsdC5kYXRhLmV4dHJhY3RlZERhdGEpO1xuICogICBjb25zb2xlLmxvZygnQ29uZmlkZW5jZTonLCByZXN1bHQuZGF0YS5jb25maWRlbmNlKTtcbiAqIH1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RDb250ZW50RnJvbVVybDxUID0gQ3JlYXRlQWN0aXZpdHlEVE8gfCBDcmVhdGVBY2NvbW1vZGF0aW9uRFRPIHwgQ3JlYXRlVmVuZG9yRFRPPihcbiAgcmVxdWVzdDogRXh0cmFjdGlvblJlcXVlc3REVE9cbik6IFByb21pc2U8UmVzdWx0PEV4dHJhY3RlZENvbnRlbnQ8VD4+PiB7XG4gIHRyeSB7XG4gICAgLy8gMS4gVmFsaWRhdGUgcmVxdWVzdFxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSBleHRyYWN0aW9uUmVxdWVzdFNjaGVtYS5zYWZlUGFyc2UocmVxdWVzdCk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBleHRyYWN0aW9uIHJlcXVlc3QnLFxuICAgICAgICAgIGRldGFpbHM6IHZhbGlkYXRpb24uZXJyb3IuaXNzdWVzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHVybCwgY29udGVudFR5cGUsIGFkZGl0aW9uYWxDb250ZXh0IH0gPSB2YWxpZGF0aW9uLmRhdGE7XG5cbiAgICAvLyAyLiBGZXRjaCBVUkwgY29udGVudFxuICAgIGNvbnN0IGZldGNoUmVzdWx0ID0gYXdhaXQgZmV0Y2hVcmxDb250ZW50KHVybCk7XG4gICAgaWYgKCFmZXRjaFJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gZmV0Y2hSZXN1bHQgYXMgUmVzdWx0PEV4dHJhY3RlZENvbnRlbnQ8VD4+O1xuICAgIH1cblxuICAgIC8vIDMuIEluaXRpYWxpemUgR2VtaW5pIEFJXG4gICAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7XG4gICAgaWYgKCFhcGlLZXkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdDT05GSUdVUkFUSU9OX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnR0VNSU5JX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShhcGlLZXkpO1xuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6ICdnZW1pbmktcHJvJyB9KTtcblxuICAgIC8vIDQuIEdlbmVyYXRlIHByb21wdCBhbmQgZXh0cmFjdCBjb250ZW50XG4gICAgY29uc3QgcHJvbXB0ID0gZ2VuZXJhdGVFeHRyYWN0aW9uUHJvbXB0KGNvbnRlbnRUeXBlLCBmZXRjaFJlc3VsdC5kYXRhLCBhZGRpdGlvbmFsQ29udGV4dCk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICBjb25zdCBhaVJlc3BvbnNlID0gcmVzcG9uc2UudGV4dCgpO1xuXG4gICAgLy8gNS4gUGFyc2UgYW5kIHZhbGlkYXRlIHJlc3BvbnNlXG4gICAgY29uc3QgcGFyc2VSZXN1bHQgPSBwYXJzZUFuZFZhbGlkYXRlUmVzcG9uc2U8VD4oY29udGVudFR5cGUsIGFpUmVzcG9uc2UpO1xuICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHBhcnNlUmVzdWx0IGFzIFJlc3VsdDxFeHRyYWN0ZWRDb250ZW50PFQ+PjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGE6IGV4dHJhY3RlZERhdGEsIHdhcm5pbmdzIH0gPSBwYXJzZVJlc3VsdC5kYXRhO1xuXG4gICAgLy8gNi4gRGV0ZXJtaW5lIGNvbmZpZGVuY2UgbGV2ZWxcbiAgICBjb25zdCBjb25maWRlbmNlID0gZGV0ZXJtaW5lQ29uZmlkZW5jZShleHRyYWN0ZWREYXRhLCB3YXJuaW5ncyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgY29udGVudFR5cGUsXG4gICAgICAgIHNvdXJjZVVybDogdXJsLFxuICAgICAgICBleHRyYWN0ZWREYXRhLFxuICAgICAgICByYXdSZXNwb25zZTogYWlSZXNwb25zZSxcbiAgICAgICAgY29uZmlkZW5jZSxcbiAgICAgICAgd2FybmluZ3MsXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ0VYVEVSTkFMX1NFUlZJQ0VfRVJST1InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdBSSBleHRyYWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGV4dHJhY3RlZCBjb250ZW50IGFnYWluc3QgdGhlIGFwcHJvcHJpYXRlIHNjaGVtYSB3aXRob3V0IGltcG9ydGluZy5cbiAqIFVzZWZ1bCBmb3IgcHJldmlldyBiZWZvcmUgaW1wb3J0LlxuICogXG4gKiBAcGFyYW0gY29udGVudFR5cGUgLSBUeXBlIG9mIGNvbnRlbnRcbiAqIEBwYXJhbSBkYXRhIC0gRGF0YSB0byB2YWxpZGF0ZVxuICogQHJldHVybnMgUmVzdWx0IGluZGljYXRpbmcgaWYgZGF0YSBpcyB2YWxpZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFeHRyYWN0ZWRDb250ZW50KFxuICBjb250ZW50VHlwZTogQ29udGVudFR5cGUsXG4gIGRhdGE6IHVua25vd25cbik6IFJlc3VsdDx2b2lkPiB7XG4gIHRyeSB7XG4gICAgbGV0IHZhbGlkYXRpb247XG4gICAgc3dpdGNoIChjb250ZW50VHlwZSkge1xuICAgICAgY2FzZSAnYWN0aXZpdHknOlxuICAgICAgICB2YWxpZGF0aW9uID0gY3JlYXRlQWN0aXZpdHlTY2hlbWEuc2FmZVBhcnNlKGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FjY29tbW9kYXRpb24nOlxuICAgICAgICB2YWxpZGF0aW9uID0gY3JlYXRlQWNjb21tb2RhdGlvblNjaGVtYS5zYWZlUGFyc2UoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmVuZG9yJzpcbiAgICAgICAgdmFsaWRhdGlvbiA9IGNyZWF0ZVZlbmRvclNjaGVtYS5zYWZlUGFyc2UoZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ0lOVkFMSURfQ09OVEVOVF9UWVBFJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCBjb250ZW50IHR5cGU6ICR7Y29udGVudFR5cGV9YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0NvbnRlbnQgdmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgIGRldGFpbHM6IHZhbGlkYXRpb24uZXJyb3IuaXNzdWVzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB1bmRlZmluZWQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BZ1hzQkEsc0JBQUE7SUFBQTtJQUFBQyxjQUFBLEdBQUFDLENBQUE7SUFBQUQsY0FBQSxHQUFBRSxDQUFBO1dBQUFILHFCQUFBOztNQXpTTkksMEJBQUE7SUFBQTtJQUFBSCxjQUFBLEdBQUFDLENBQUE7SUFBQUQsY0FBQSxHQUFBRSxDQUFBO1dBQUFDLHlCQUFBOztNQWRBQyxzQkFBQTtJQUFBO0lBQUFKLGNBQUEsR0FB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