7e9a0ad05beb30bbacd8fbbcb165b36f
/**
 * Integration Tests for RSVP Management APIs
 * 
 * Tests the complete API flow for RSVP management endpoints:
 * - GET /api/admin/rsvps (list with filters)
 * - PATCH /api/admin/rsvps/bulk (bulk update)
 * - GET /api/admin/rsvps/export (CSV export)
 * 
 * Following testing standards:
 * - Mock services to avoid worker crashes
 * - Test authentication, validation, and error handling
 * - Test complete request/response flow
 */ "use strict";
// Mock services to avoid worker crashes
jest.mock('@/services/rsvpManagementService');
jest.mock('@/lib/apiHelpers', ()=>({
        ...jest.requireActual('@/lib/apiHelpers'),
        withAuth: jest.fn()
    }));
jest.mock('@/lib/rateLimit', ()=>({
        ...jest.requireActual('@/lib/rateLimit'),
        rateLimitMiddleware: jest.fn(),
        getRateLimitHeaders: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _route = require("../../app/api/admin/rsvps/route");
const _route1 = require("../../app/api/admin/rsvps/bulk/route");
const _route2 = require("../../app/api/admin/rsvps/export/route");
const _rsvpManagementService = /*#__PURE__*/ _interop_require_wildcard(require("../../services/rsvpManagementService"));
const _apiHelpers = /*#__PURE__*/ _interop_require_wildcard(require("../../lib/apiHelpers"));
const _rateLimit = /*#__PURE__*/ _interop_require_wildcard(require("../../lib/rateLimit"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('RSVP Management APIs - Integration Tests', ()=>{
    const mockUserId = 'test-user-123';
    beforeEach(()=>{
        jest.clearAllMocks();
        // Default: withAuth calls handler with userId
        _apiHelpers.withAuth.mockImplementation(async (handler)=>{
            return handler(mockUserId);
        });
        // Default: rate limit allows request
        _rateLimit.rateLimitMiddleware.mockReturnValue({
            success: true,
            data: {
                allowed: true,
                limit: 1,
                remaining: 0,
                reset: Math.floor(Date.now() / 1000) + 60
            }
        });
        _rateLimit.getRateLimitHeaders.mockReturnValue({
            'X-RateLimit-Limit': '1',
            'X-RateLimit-Remaining': '0',
            'X-RateLimit-Reset': String(Math.floor(Date.now() / 1000) + 60)
        });
    });
    describe('GET /api/admin/rsvps - List RSVPs with Filters', ()=>{
        const mockRsvpData = {
            data: [
                {
                    id: 'rsvp-1',
                    guestId: 'guest-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventId: 'event-1',
                    eventName: 'Wedding Ceremony',
                    activityId: null,
                    activityName: null,
                    status: 'attending',
                    guestCount: 2,
                    dietaryNotes: 'Vegetarian',
                    specialRequirements: null,
                    notes: null,
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z'
                },
                {
                    id: 'rsvp-2',
                    guestId: 'guest-2',
                    guestFirstName: 'Jane',
                    guestLastName: 'Smith',
                    guestEmail: 'jane@example.com',
                    eventId: 'event-1',
                    eventName: 'Wedding Ceremony',
                    activityId: 'activity-1',
                    activityName: 'Reception Dinner',
                    status: 'pending',
                    guestCount: 1,
                    dietaryNotes: null,
                    specialRequirements: 'Wheelchair access',
                    notes: null,
                    respondedAt: null,
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-10T10:00:00Z'
                }
            ],
            pagination: {
                page: 1,
                limit: 50,
                total: 2,
                totalPages: 1
            },
            statistics: {
                totalRSVPs: 2,
                byStatus: {
                    attending: 1,
                    declined: 0,
                    maybe: 0,
                    pending: 1
                },
                totalGuestCount: 3
            }
        };
        it('should successfully retrieve RSVPs with default pagination', async ()=>{
            // Arrange
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: true,
                data: mockRsvpData
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.data).toHaveLength(2);
            expect(data.data.pagination.page).toBe(1);
            expect(data.data.pagination.limit).toBe(50);
            expect(data.data.statistics.totalRSVPs).toBe(2);
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith({}, {
                page: 1,
                limit: 50
            });
        });
        it('should filter RSVPs by event ID', async ()=>{
            // Arrange
            const filteredData = {
                ...mockRsvpData,
                data: [
                    mockRsvpData.data[0]
                ],
                pagination: {
                    ...mockRsvpData.pagination,
                    total: 1
                },
                statistics: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            };
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: true,
                data: filteredData
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps?eventId=00000000-0000-0000-0000-000000000001');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.data).toHaveLength(1);
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith({
                eventId: '00000000-0000-0000-0000-000000000001'
            }, {
                page: 1,
                limit: 50
            });
        });
        it('should filter RSVPs by status', async ()=>{
            // Arrange
            const filteredData = {
                ...mockRsvpData,
                data: [
                    mockRsvpData.data[1]
                ],
                pagination: {
                    ...mockRsvpData.pagination,
                    total: 1
                },
                statistics: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 1
                    },
                    totalGuestCount: 1
                }
            };
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: true,
                data: filteredData
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps?status=pending');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.data).toHaveLength(1);
            expect(data.data.data[0].status).toBe('pending');
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith({
                status: 'pending'
            }, {
                page: 1,
                limit: 50
            });
        });
        it('should apply multiple filters simultaneously', async ()=>{
            // Arrange
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: true,
                data: {
                    data: [],
                    pagination: {
                        page: 1,
                        limit: 25,
                        total: 0,
                        totalPages: 0
                    },
                    statistics: {
                        totalRSVPs: 0,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 0
                    }
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps?eventId=00000000-0000-0000-0000-000000000001&activityId=00000000-0000-0000-0000-000000000002&status=attending&searchQuery=John&page=1&limit=25');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith({
                eventId: '00000000-0000-0000-0000-000000000001',
                activityId: '00000000-0000-0000-0000-000000000002',
                status: 'attending',
                searchQuery: 'John'
            }, {
                page: 1,
                limit: 25
            });
        });
        it('should return 400 for invalid UUID in eventId filter', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps?eventId=invalid-uuid');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toBe('Invalid query parameters');
            expect(_rsvpManagementService.listRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 for invalid status value', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps?status=invalid-status');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.listRSVPs).not.toHaveBeenCalled();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            _apiHelpers.withAuth.mockImplementation(async ()=>{
                return new Response(JSON.stringify({
                    success: false,
                    error: {
                        code: 'UNAUTHORIZED',
                        message: 'Authentication required'
                    }
                }), {
                    status: 401
                });
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(_rsvpManagementService.listRSVPs).not.toHaveBeenCalled();
        });
        it('should handle database errors from service', async ()=>{
            // Arrange
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to query RSVPs'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
    });
    describe('PATCH /api/admin/rsvps/bulk - Bulk Update RSVPs', ()=>{
        const mockRsvpIds = [
            '11111111-1111-1111-1111-111111111111',
            '22222222-2222-2222-2222-222222222222',
            '33333333-3333-3333-3333-333333333333'
        ];
        it('should successfully update multiple RSVPs', async ()=>{
            // Arrange
            _rsvpManagementService.bulkUpdateRSVPs.mockResolvedValue({
                success: true,
                data: {
                    updatedCount: 3
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds,
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.updatedCount).toBe(3);
            expect(_rsvpManagementService.bulkUpdateRSVPs).toHaveBeenCalledWith(mockRsvpIds, 'attending', undefined);
        });
        it('should update RSVPs with notes', async ()=>{
            // Arrange
            _rsvpManagementService.bulkUpdateRSVPs.mockResolvedValue({
                success: true,
                data: {
                    updatedCount: 2
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds.slice(0, 2),
                    status: 'declined',
                    notes: 'Unable to attend due to scheduling conflict'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.updatedCount).toBe(2);
            expect(_rsvpManagementService.bulkUpdateRSVPs).toHaveBeenCalledWith(mockRsvpIds.slice(0, 2), 'declined', 'Unable to attend due to scheduling conflict');
        });
        it('should handle partial success when some RSVPs not found', async ()=>{
            // Arrange
            _rsvpManagementService.bulkUpdateRSVPs.mockResolvedValue({
                success: true,
                data: {
                    updatedCount: 2
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds,
                    status: 'maybe'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.updatedCount).toBe(2);
        });
        it('should return 400 when rsvpIds is empty', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: [],
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.bulkUpdateRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when rsvpIds exceeds 100 items', async ()=>{
            // Arrange
            const tooManyIds = Array.from({
                length: 101
            }, (_, i)=>`${String(i).padStart(8, '0')}-1111-1111-1111-111111111111`);
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: tooManyIds,
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.bulkUpdateRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when rsvpIds contains invalid UUID', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: [
                        'invalid-uuid',
                        mockRsvpIds[0]
                    ],
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.bulkUpdateRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when status is invalid', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds,
                    status: 'invalid-status'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.bulkUpdateRSVPs).not.toHaveBeenCalled();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            _apiHelpers.withAuth.mockImplementation(async ()=>{
                return new Response(JSON.stringify({
                    success: false,
                    error: {
                        code: 'UNAUTHORIZED',
                        message: 'Authentication required'
                    }
                }), {
                    status: 401
                });
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds,
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(_rsvpManagementService.bulkUpdateRSVPs).not.toHaveBeenCalled();
        });
        it('should handle database errors from service', async ()=>{
            // Arrange
            _rsvpManagementService.bulkUpdateRSVPs.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to update RSVPs'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: mockRsvpIds,
                    status: 'attending'
                })
            });
            // Act
            const response = await (0, _route1.PATCH)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
    });
    describe('GET /api/admin/rsvps/export - CSV Export', ()=>{
        it('should successfully export RSVPs to CSV', async ()=>{
            // Arrange
            const mockCSV = 'RSVP ID,Guest First Name,Guest Last Name,Guest Email,Event Name,Activity Name,Status,Guest Count,Dietary Notes,Special Requirements,Notes,Responded At,Created At,Updated At\nrsvp-1,John,Doe,john@example.com,Wedding Ceremony,,attending,2,Vegetarian,,,2024-01-15T10:00:00Z,2024-01-10T10:00:00Z,2024-01-15T10:00:00Z';
            _rsvpManagementService.exportRSVPsToCSV.mockResolvedValue({
                success: true,
                data: mockCSV
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export');
            // Act
            const response = await (0, _route2.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(response.headers.get('Content-Type')).toBe('text/csv; charset=utf-8');
            expect(response.headers.get('Content-Disposition')).toMatch(/^attachment; filename="rsvps-export-\d{4}-\d{2}-\d{2}\.csv"$/);
            expect(response.headers.get('Cache-Control')).toBe('no-cache, no-store, must-revalidate');
            const csvContent = await response.text();
            expect(csvContent).toBe(mockCSV);
            expect(_rsvpManagementService.exportRSVPsToCSV).toHaveBeenCalledWith({});
        });
        it('should export RSVPs with filters applied', async ()=>{
            // Arrange
            const mockCSV = 'RSVP ID,Guest First Name,Guest Last Name\nrsvp-1,John,Doe';
            _rsvpManagementService.exportRSVPsToCSV.mockResolvedValue({
                success: true,
                data: mockCSV
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export?eventId=00000000-0000-0000-0000-000000000001&status=attending&searchQuery=John');
            // Act
            const response = await (0, _route2.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(_rsvpManagementService.exportRSVPsToCSV).toHaveBeenCalledWith({
                eventId: '00000000-0000-0000-0000-000000000001',
                status: 'attending',
                searchQuery: 'John'
            });
        });
        it('should include rate limit headers in response', async ()=>{
            // Arrange
            _rsvpManagementService.exportRSVPsToCSV.mockResolvedValue({
                success: true,
                data: 'CSV content'
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export');
            // Act
            const response = await (0, _route2.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(response.headers.get('X-RateLimit-Limit')).toBe('1');
            expect(response.headers.get('X-RateLimit-Remaining')).toBe('0');
            expect(response.headers.has('X-RateLimit-Reset')).toBe(true);
        });
        it('should return 429 when rate limit exceeded', async ()=>{
            // Arrange
            _rateLimit.rateLimitMiddleware.mockReturnValue({
                success: false,
                error: {
                    code: 'RATE_LIMIT_EXCEEDED',
                    message: 'Too many requests. Please try again later.',
                    details: {
                        limit: 1,
                        remaining: 0,
                        reset: Math.floor(Date.now() / 1000) + 60,
                        retryAfter: 60
                    }
                }
            });
            _rateLimit.getRateLimitHeaders.mockReturnValue({
                'X-RateLimit-Limit': '1',
                'X-RateLimit-Remaining': '0',
                'X-RateLimit-Reset': String(Math.floor(Date.now() / 1000) + 60),
                'Retry-After': '60'
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export');
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(429);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('RATE_LIMIT_EXCEEDED');
            expect(response.headers.get('Retry-After')).toBe('60');
            expect(_rsvpManagementService.exportRSVPsToCSV).not.toHaveBeenCalled();
        });
        it('should return 400 for invalid filter parameters', async ()=>{
            // Arrange
            const request = new Request('http://localhost:3000/api/admin/rsvps/export?eventId=invalid-uuid');
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(_rsvpManagementService.exportRSVPsToCSV).not.toHaveBeenCalled();
        });
        it('should return 401 when not authenticated', async ()=>{
            // Arrange
            _apiHelpers.withAuth.mockImplementation(async ()=>{
                return new Response(JSON.stringify({
                    success: false,
                    error: {
                        code: 'UNAUTHORIZED',
                        message: 'Authentication required'
                    }
                }), {
                    status: 401
                });
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export');
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
            expect(_rsvpManagementService.exportRSVPsToCSV).not.toHaveBeenCalled();
        });
        it('should handle database errors from service', async ()=>{
            // Arrange
            _rsvpManagementService.exportRSVPsToCSV.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to export RSVPs'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/rsvps/export');
            // Act
            const response = await (0, _route2.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
        });
    });
    describe('Complete RSVP Management Workflow', ()=>{
        it('should support complete workflow: list, filter, bulk update, export', async ()=>{
            // Step 1: List all RSVPs
            _rsvpManagementService.listRSVPs.mockResolvedValue({
                success: true,
                data: {
                    data: [
                        {
                            id: 'rsvp-1',
                            guestId: 'guest-1',
                            guestFirstName: 'John',
                            guestLastName: 'Doe',
                            guestEmail: 'john@example.com',
                            eventId: 'event-1',
                            eventName: 'Wedding Ceremony',
                            activityId: null,
                            activityName: null,
                            status: 'pending',
                            guestCount: 2,
                            dietaryNotes: null,
                            specialRequirements: null,
                            notes: null,
                            respondedAt: null,
                            createdAt: '2024-01-10T10:00:00Z',
                            updatedAt: '2024-01-10T10:00:00Z'
                        }
                    ],
                    pagination: {
                        page: 1,
                        limit: 50,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 1
                        },
                        totalGuestCount: 2
                    }
                }
            });
            const listRequest = new Request('http://localhost:3000/api/admin/rsvps?status=pending');
            const listResponse = await (0, _route.GET)(listRequest);
            const listData = await listResponse.json();
            expect(listResponse.status).toBe(200);
            expect(listData.data.data).toHaveLength(1);
            expect(listData.data.data[0].status).toBe('pending');
            // Step 2: Bulk update RSVPs to attending
            _rsvpManagementService.bulkUpdateRSVPs.mockResolvedValue({
                success: true,
                data: {
                    updatedCount: 1
                }
            });
            const updateRequest = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: [
                        'rsvp-1'
                    ],
                    status: 'attending',
                    notes: 'Confirmed attendance'
                })
            });
            const updateResponse = await (0, _route1.PATCH)(updateRequest);
            const updateData = await updateResponse.json();
            expect(updateResponse.status).toBe(200);
            expect(updateData.data.updatedCount).toBe(1);
            // Step 3: Export updated RSVPs
            _rsvpManagementService.exportRSVPsToCSV.mockResolvedValue({
                success: true,
                data: 'RSVP ID,Guest First Name,Status\nrsvp-1,John,attending'
            });
            const exportRequest = new Request('http://localhost:3000/api/admin/rsvps/export?status=attending');
            const exportResponse = await (0, _route2.GET)(exportRequest);
            expect(exportResponse.status).toBe(200);
            expect(exportResponse.headers.get('Content-Type')).toBe('text/csv; charset=utf-8');
            const csvContent = await exportResponse.text();
            expect(csvContent).toContain('attending');
        });
    });
    describe('Error Scenarios Across All Endpoints', ()=>{
        it('should handle service throwing unexpected errors', async ()=>{
            // Test GET endpoint
            _rsvpManagementService.listRSVPs.mockRejectedValue(new Error('Unexpected error'));
            const getRequest = new Request('http://localhost:3000/api/admin/rsvps');
            const getResponse = await (0, _route.GET)(getRequest);
            const getData = await getResponse.json();
            expect(getResponse.status).toBe(500);
            expect(getData.error.code).toBe('INTERNAL_ERROR');
            // Test PATCH endpoint
            _rsvpManagementService.bulkUpdateRSVPs.mockRejectedValue(new Error('Unexpected error'));
            const patchRequest = new Request('http://localhost:3000/api/admin/rsvps/bulk', {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    rsvpIds: [
                        '11111111-1111-1111-1111-111111111111'
                    ],
                    status: 'attending'
                })
            });
            const patchResponse = await (0, _route1.PATCH)(patchRequest);
            const patchData = await patchResponse.json();
            expect(patchResponse.status).toBe(500);
            expect(patchData.error.code).toBe('INTERNAL_ERROR');
            // Test export endpoint
            _rsvpManagementService.exportRSVPsToCSV.mockRejectedValue(new Error('Unexpected error'));
            const exportRequest = new Request('http://localhost:3000/api/admin/rsvps/export');
            const exportResponse = await (0, _route2.GET)(exportRequest);
            const exportData = await exportResponse.json();
            expect(exportResponse.status).toBe(500);
            expect(exportData.error.code).toBe('INTERNAL_ERROR');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL3JzdnBBcGlzLmludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnRlZ3JhdGlvbiBUZXN0cyBmb3IgUlNWUCBNYW5hZ2VtZW50IEFQSXNcbiAqIFxuICogVGVzdHMgdGhlIGNvbXBsZXRlIEFQSSBmbG93IGZvciBSU1ZQIG1hbmFnZW1lbnQgZW5kcG9pbnRzOlxuICogLSBHRVQgL2FwaS9hZG1pbi9yc3ZwcyAobGlzdCB3aXRoIGZpbHRlcnMpXG4gKiAtIFBBVENIIC9hcGkvYWRtaW4vcnN2cHMvYnVsayAoYnVsayB1cGRhdGUpXG4gKiAtIEdFVCAvYXBpL2FkbWluL3JzdnBzL2V4cG9ydCAoQ1NWIGV4cG9ydClcbiAqIFxuICogRm9sbG93aW5nIHRlc3Rpbmcgc3RhbmRhcmRzOlxuICogLSBNb2NrIHNlcnZpY2VzIHRvIGF2b2lkIHdvcmtlciBjcmFzaGVzXG4gKiAtIFRlc3QgYXV0aGVudGljYXRpb24sIHZhbGlkYXRpb24sIGFuZCBlcnJvciBoYW5kbGluZ1xuICogLSBUZXN0IGNvbXBsZXRlIHJlcXVlc3QvcmVzcG9uc2UgZmxvd1xuICovXG5cbmltcG9ydCB7IEdFVCBhcyBnZXRSc3ZwcyB9IGZyb20gJ0AvYXBwL2FwaS9hZG1pbi9yc3Zwcy9yb3V0ZSc7XG5pbXBvcnQgeyBQQVRDSCBhcyBidWxrVXBkYXRlUnN2cHMgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vcnN2cHMvYnVsay9yb3V0ZSc7XG5pbXBvcnQgeyBHRVQgYXMgZXhwb3J0UnN2cHMgfSBmcm9tICdAL2FwcC9hcGkvYWRtaW4vcnN2cHMvZXhwb3J0L3JvdXRlJztcbmltcG9ydCAqIGFzIHJzdnBNYW5hZ2VtZW50U2VydmljZSBmcm9tICdAL3NlcnZpY2VzL3JzdnBNYW5hZ2VtZW50U2VydmljZSc7XG5pbXBvcnQgKiBhcyBhcGlIZWxwZXJzIGZyb20gJ0AvbGliL2FwaUhlbHBlcnMnO1xuaW1wb3J0ICogYXMgcmF0ZUxpbWl0IGZyb20gJ0AvbGliL3JhdGVMaW1pdCc7XG5cbi8vIE1vY2sgc2VydmljZXMgdG8gYXZvaWQgd29ya2VyIGNyYXNoZXNcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9yc3ZwTWFuYWdlbWVudFNlcnZpY2UnKTtcbmplc3QubW9jaygnQC9saWIvYXBpSGVscGVycycsICgpID0+ICh7XG4gIC4uLmplc3QucmVxdWlyZUFjdHVhbCgnQC9saWIvYXBpSGVscGVycycpLFxuICB3aXRoQXV0aDogamVzdC5mbigpLFxufSkpO1xuamVzdC5tb2NrKCdAL2xpYi9yYXRlTGltaXQnLCAoKSA9PiAoe1xuICAuLi5qZXN0LnJlcXVpcmVBY3R1YWwoJ0AvbGliL3JhdGVMaW1pdCcpLFxuICByYXRlTGltaXRNaWRkbGV3YXJlOiBqZXN0LmZuKCksXG4gIGdldFJhdGVMaW1pdEhlYWRlcnM6IGplc3QuZm4oKSxcbn0pKTtcblxuZGVzY3JpYmUoJ1JTVlAgTWFuYWdlbWVudCBBUElzIC0gSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tVc2VySWQgPSAndGVzdC11c2VyLTEyMyc7XG4gIFxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBEZWZhdWx0OiB3aXRoQXV0aCBjYWxscyBoYW5kbGVyIHdpdGggdXNlcklkXG4gICAgKGFwaUhlbHBlcnMud2l0aEF1dGggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oXG4gICAgICBhc3luYyAoaGFuZGxlcjogKHVzZXJJZDogc3RyaW5nKSA9PiBQcm9taXNlPFJlc3BvbnNlPikgPT4ge1xuICAgICAgICByZXR1cm4gaGFuZGxlcihtb2NrVXNlcklkKTtcbiAgICAgIH1cbiAgICApO1xuICAgIFxuICAgIC8vIERlZmF1bHQ6IHJhdGUgbGltaXQgYWxsb3dzIHJlcXVlc3RcbiAgICAocmF0ZUxpbWl0LnJhdGVMaW1pdE1pZGRsZXdhcmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWxsb3dlZDogdHJ1ZSxcbiAgICAgICAgbGltaXQ6IDEsXG4gICAgICAgIHJlbWFpbmluZzogMCxcbiAgICAgICAgcmVzZXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgXG4gICAgKHJhdGVMaW1pdC5nZXRSYXRlTGltaXRIZWFkZXJzIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6ICcxJyxcbiAgICAgICdYLVJhdGVMaW1pdC1SZW1haW5pbmcnOiAnMCcsXG4gICAgICAnWC1SYXRlTGltaXQtUmVzZXQnOiBTdHJpbmcoTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCksXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9hZG1pbi9yc3ZwcyAtIExpc3QgUlNWUHMgd2l0aCBGaWx0ZXJzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tSc3ZwRGF0YSA9IHtcbiAgICAgIGRhdGE6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAncnN2cC0xJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZ3Vlc3RGaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICBndWVzdExhc3ROYW1lOiAnRG9lJyxcbiAgICAgICAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgZ3Vlc3RDb3VudDogMixcbiAgICAgICAgICBkaWV0YXJ5Tm90ZXM6ICdWZWdldGFyaWFuJyxcbiAgICAgICAgICBzcGVjaWFsUmVxdWlyZW1lbnRzOiBudWxsLFxuICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgIHJlc3BvbmRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3JzdnAtMicsXG4gICAgICAgICAgZ3Vlc3RJZDogJ2d1ZXN0LTInLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSmFuZScsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ1NtaXRoJyxcbiAgICAgICAgICBndWVzdEVtYWlsOiAnamFuZUBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBhY3Rpdml0eU5hbWU6ICdSZWNlcHRpb24gRGlubmVyJyxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBndWVzdENvdW50OiAxLFxuICAgICAgICAgIGRpZXRhcnlOb3RlczogbnVsbCxcbiAgICAgICAgICBzcGVjaWFsUmVxdWlyZW1lbnRzOiAnV2hlZWxjaGFpciBhY2Nlc3MnLFxuICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgIHJlc3BvbmRlZEF0OiBudWxsLFxuICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTEwVDEwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBsaW1pdDogNTAsXG4gICAgICAgIHRvdGFsOiAyLFxuICAgICAgICB0b3RhbFBhZ2VzOiAxLFxuICAgICAgfSxcbiAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgdG90YWxSU1ZQczogMixcbiAgICAgICAgYnlTdGF0dXM6IHtcbiAgICAgICAgICBhdHRlbmRpbmc6IDEsXG4gICAgICAgICAgZGVjbGluZWQ6IDAsXG4gICAgICAgICAgbWF5YmU6IDAsXG4gICAgICAgICAgcGVuZGluZzogMSxcbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxHdWVzdENvdW50OiAzLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaXQoJ3Nob3VsZCBzdWNjZXNzZnVsbHkgcmV0cmlldmUgUlNWUHMgd2l0aCBkZWZhdWx0IHBhZ2luYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1JzdnBEYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEucGFnaW5hdGlvbi5wYWdlKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5wYWdpbmF0aW9uLmxpbWl0KS50b0JlKDUwKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuc3RhdGlzdGljcy50b3RhbFJTVlBzKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICB7fSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgUlNWUHMgYnkgZXZlbnQgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSB7XG4gICAgICAgIC4uLm1vY2tSc3ZwRGF0YSxcbiAgICAgICAgZGF0YTogW21vY2tSc3ZwRGF0YS5kYXRhWzBdXSxcbiAgICAgICAgcGFnaW5hdGlvbjogeyAuLi5tb2NrUnN2cERhdGEucGFnaW5hdGlvbiwgdG90YWw6IDEgfSxcbiAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogZmlsdGVyZWREYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/ZXZlbnRJZD0wMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDEnXG4gICAgICApO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgeyBldmVudElkOiAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxJyB9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgUlNWUHMgYnkgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0ge1xuICAgICAgICAuLi5tb2NrUnN2cERhdGEsXG4gICAgICAgIGRhdGE6IFttb2NrUnN2cERhdGEuZGF0YVsxXV0sXG4gICAgICAgIHBhZ2luYXRpb246IHsgLi4ubW9ja1JzdnBEYXRhLnBhZ2luYXRpb24sIHRvdGFsOiAxIH0sXG4gICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMCwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAxIH0sXG4gICAgICAgICAgdG90YWxHdWVzdENvdW50OiAxLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IGZpbHRlcmVkRGF0YSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzP3N0YXR1cz1wZW5kaW5nJ1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5kYXRhKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRhdGFbMF0uc3RhdHVzKS50b0JlKCdwZW5kaW5nJyk7XG4gICAgICBleHBlY3QocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHsgc3RhdHVzOiAncGVuZGluZycgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYXBwbHkgbXVsdGlwbGUgZmlsdGVycyBzaW11bHRhbmVvdXNseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogMjUsIHRvdGFsOiAwLCB0b3RhbFBhZ2VzOiAwIH0sXG4gICAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMCwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAwIH0sXG4gICAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzP2V2ZW50SWQ9MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxJmFjdGl2aXR5SWQ9MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAyJnN0YXR1cz1hdHRlbmRpbmcmc2VhcmNoUXVlcnk9Sm9obiZwYWdlPTEmbGltaXQ9MjUnXG4gICAgICApO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudElkOiAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAxJyxcbiAgICAgICAgICBhY3Rpdml0eUlkOiAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAyJyxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgIHNlYXJjaFF1ZXJ5OiAnSm9obicsXG4gICAgICAgIH0sXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDI1IH1cbiAgICAgICk7XG4gICAgfSk7XG5cblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgaW52YWxpZCBVVUlEIGluIGV2ZW50SWQgZmlsdGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9ldmVudElkPWludmFsaWQtdXVpZCdcbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRSc3ZwcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0JlKCdJbnZhbGlkIHF1ZXJ5IHBhcmFtZXRlcnMnKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIGZvciBpbnZhbGlkIHN0YXR1cyB2YWx1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/c3RhdHVzPWludmFsaWQtc3RhdHVzJ1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAoYXBpSGVscGVycy53aXRoQXV0aCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gICAgICBleHBlY3QocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGVycm9ycyBmcm9tIHNlcnZpY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHF1ZXJ5IFJTVlBzJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgZGVzY3JpYmUoJ1BBVENIIC9hcGkvYWRtaW4vcnN2cHMvYnVsayAtIEJ1bGsgVXBkYXRlIFJTVlBzJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tSc3ZwSWRzID0gW1xuICAgICAgJzExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMScsXG4gICAgICAnMjIyMjIyMjItMjIyMi0yMjIyLTIyMjItMjIyMjIyMjIyMjIyJyxcbiAgICAgICczMzMzMzMzMy0zMzMzLTMzMzMtMzMzMy0zMzMzMzMzMzMzMzMnLFxuICAgIF07XG5cbiAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSB1cGRhdGUgbXVsdGlwbGUgUlNWUHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyB1cGRhdGVkQ291bnQ6IDMgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvYnVsaycsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJzdnBJZHM6IG1vY2tSc3ZwSWRzLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBidWxrVXBkYXRlUnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLnVwZGF0ZWRDb3VudCkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JzdnBJZHMsXG4gICAgICAgICdhdHRlbmRpbmcnLFxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBSU1ZQcyB3aXRoIG5vdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHsgdXBkYXRlZENvdW50OiAyIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL2J1bGsnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByc3ZwSWRzOiBtb2NrUnN2cElkcy5zbGljZSgwLCAyKSxcbiAgICAgICAgICBzdGF0dXM6ICdkZWNsaW5lZCcsXG4gICAgICAgICAgbm90ZXM6ICdVbmFibGUgdG8gYXR0ZW5kIGR1ZSB0byBzY2hlZHVsaW5nIGNvbmZsaWN0JyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGJ1bGtVcGRhdGVSc3ZwcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEudXBkYXRlZENvdW50KS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUnN2cElkcy5zbGljZSgwLCAyKSxcbiAgICAgICAgJ2RlY2xpbmVkJyxcbiAgICAgICAgJ1VuYWJsZSB0byBhdHRlbmQgZHVlIHRvIHNjaGVkdWxpbmcgY29uZmxpY3QnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFydGlhbCBzdWNjZXNzIHdoZW4gc29tZSBSU1ZQcyBub3QgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogeyB1cGRhdGVkQ291bnQ6IDIgfSwgLy8gT25seSAyIG9mIDMgdXBkYXRlZFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogbW9ja1JzdnBJZHMsXG4gICAgICAgICAgc3RhdHVzOiAnbWF5YmUnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnVsa1VwZGF0ZVJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS51cGRhdGVkQ291bnQpLnRvQmUoMik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiByc3ZwSWRzIGlzIGVtcHR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL2J1bGsnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByc3ZwSWRzOiBbXSxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnVsa1VwZGF0ZVJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiByc3ZwSWRzIGV4Y2VlZHMgMTAwIGl0ZW1zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdG9vTWFueUlkcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMSB9LCAoXywgaSkgPT5cbiAgICAgICAgYCR7U3RyaW5nKGkpLnBhZFN0YXJ0KDgsICcwJyl9LTExMTEtMTExMS0xMTExLTExMTExMTExMTExMWBcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogdG9vTWFueUlkcyxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnVsa1VwZGF0ZVJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIHdoZW4gcnN2cElkcyBjb250YWlucyBpbnZhbGlkIFVVSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvYnVsaycsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJzdnBJZHM6IFsnaW52YWxpZC11dWlkJywgbW9ja1JzdnBJZHNbMF1dLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBidWxrVXBkYXRlUnN2cHMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiBzdGF0dXMgaXMgaW52YWxpZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogbW9ja1JzdnBJZHMsXG4gICAgICAgICAgc3RhdHVzOiAnaW52YWxpZC1zdGF0dXMnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYnVsa1VwZGF0ZVJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAxIHdoZW4gbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAoYXBpSGVscGVycy53aXRoQXV0aCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogbW9ja1JzdnBJZHMsXG4gICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGJ1bGtVcGRhdGVSc3ZwcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZnJvbSBzZXJ2aWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgUlNWUHMnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogbW9ja1JzdnBJZHMsXG4gICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGJ1bGtVcGRhdGVSc3ZwcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vcnN2cHMvZXhwb3J0IC0gQ1NWIEV4cG9ydCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1Y2Nlc3NmdWxseSBleHBvcnQgUlNWUHMgdG8gQ1NWJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja0NTViA9ICdSU1ZQIElELEd1ZXN0IEZpcnN0IE5hbWUsR3Vlc3QgTGFzdCBOYW1lLEd1ZXN0IEVtYWlsLEV2ZW50IE5hbWUsQWN0aXZpdHkgTmFtZSxTdGF0dXMsR3Vlc3QgQ291bnQsRGlldGFyeSBOb3RlcyxTcGVjaWFsIFJlcXVpcmVtZW50cyxOb3RlcyxSZXNwb25kZWQgQXQsQ3JlYXRlZCBBdCxVcGRhdGVkIEF0XFxucnN2cC0xLEpvaG4sRG9lLGpvaG5AZXhhbXBsZS5jb20sV2VkZGluZyBDZXJlbW9ueSwsYXR0ZW5kaW5nLDIsVmVnZXRhcmlhbiwsLDIwMjQtMDEtMTVUMTA6MDA6MDBaLDIwMjQtMDEtMTBUMTA6MDA6MDBaLDIwMjQtMDEtMTVUMTA6MDA6MDBaJztcblxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrQ1NWLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9leHBvcnQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKHJlcXVlc3QpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpLnRvQmUoJ3RleHQvY3N2OyBjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtRGlzcG9zaXRpb24nKSkudG9NYXRjaChcbiAgICAgICAgL15hdHRhY2htZW50OyBmaWxlbmFtZT1cInJzdnBzLWV4cG9ydC1cXGR7NH0tXFxkezJ9LVxcZHsyfVxcLmNzdlwiJC9cbiAgICAgICk7XG4gICAgICBleHBlY3QocmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkudG9CZSgnbm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUnKTtcblxuICAgICAgY29uc3QgY3N2Q29udGVudCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGV4cGVjdChjc3ZDb250ZW50KS50b0JlKG1vY2tDU1YpO1xuICAgICAgZXhwZWN0KHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7fSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGV4cG9ydCBSU1ZQcyB3aXRoIGZpbHRlcnMgYXBwbGllZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tDU1YgPSAnUlNWUCBJRCxHdWVzdCBGaXJzdCBOYW1lLEd1ZXN0IExhc3QgTmFtZVxcbnJzdnAtMSxKb2huLERvZSc7XG5cbiAgICAgIChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTViBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0NTVixcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL2V4cG9ydD9ldmVudElkPTAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMSZzdGF0dXM9YXR0ZW5kaW5nJnNlYXJjaFF1ZXJ5PUpvaG4nXG4gICAgICApO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZXhwb3J0UnN2cHMocmVxdWVzdCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGV2ZW50SWQ6ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDEnLFxuICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICBzZWFyY2hRdWVyeTogJ0pvaG4nLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgcmF0ZSBsaW1pdCBoZWFkZXJzIGluIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiAnQ1NWIGNvbnRlbnQnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9leHBvcnQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKHJlcXVlc3QpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1SYXRlTGltaXQtTGltaXQnKSkudG9CZSgnMScpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVJhdGVMaW1pdC1SZW1haW5pbmcnKSkudG9CZSgnMCcpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlLmhlYWRlcnMuaGFzKCdYLVJhdGVMaW1pdC1SZXNldCcpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0Mjkgd2hlbiByYXRlIGxpbWl0IGV4Y2VlZGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgKHJhdGVMaW1pdC5yYXRlTGltaXRNaWRkbGV3YXJlIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ1JBVEVfTElNSVRfRVhDRUVERUQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdUb28gbWFueSByZXF1ZXN0cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgICAgICAgIGRldGFpbHM6IHtcbiAgICAgICAgICAgIGxpbWl0OiAxLFxuICAgICAgICAgICAgcmVtYWluaW5nOiAwLFxuICAgICAgICAgICAgcmVzZXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAsXG4gICAgICAgICAgICByZXRyeUFmdGVyOiA2MCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIChyYXRlTGltaXQuZ2V0UmF0ZUxpbWl0SGVhZGVycyBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6ICcxJyxcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlbWFpbmluZyc6ICcwJyxcbiAgICAgICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogU3RyaW5nKE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgNjApLFxuICAgICAgICAnUmV0cnktQWZ0ZXInOiAnNjAnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9leHBvcnQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQyOSk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1JBVEVfTElNSVRfRVhDRUVERUQnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZS5oZWFkZXJzLmdldCgnUmV0cnktQWZ0ZXInKSkudG9CZSgnNjAnKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgaW52YWxpZCBmaWx0ZXIgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvZXhwb3J0P2V2ZW50SWQ9aW52YWxpZC11dWlkJ1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgKGFwaUhlbHBlcnMud2l0aEF1dGggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IHsgY29kZTogJ1VOQVVUSE9SSVpFRCcsIG1lc3NhZ2U6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvZXhwb3J0Jyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBleHBvcnRSc3ZwcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGVycm9ycyBmcm9tIHNlcnZpY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1YgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBleHBvcnQgUlNWUHMnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9leHBvcnQnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFJTVlAgTWFuYWdlbWVudCBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgY29tcGxldGUgd29ya2Zsb3c6IGxpc3QsIGZpbHRlciwgYnVsayB1cGRhdGUsIGV4cG9ydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFN0ZXAgMTogTGlzdCBhbGwgUlNWUHNcbiAgICAgIChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgICAgICAgIGd1ZXN0SWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICAgICAgZ3Vlc3RGaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgICAgIGd1ZXN0RW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgICAgICBldmVudE5hbWU6ICdXZWRkaW5nIENlcmVtb255JyxcbiAgICAgICAgICAgICAgYWN0aXZpdHlJZDogbnVsbCxcbiAgICAgICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgZ3Vlc3RDb3VudDogMixcbiAgICAgICAgICAgICAgZGlldGFyeU5vdGVzOiBudWxsLFxuICAgICAgICAgICAgICBzcGVjaWFsUmVxdWlyZW1lbnRzOiBudWxsLFxuICAgICAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICAgICAgcmVzcG9uZGVkQXQ6IG51bGwsXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDUwLCB0b3RhbDogMSwgdG90YWxQYWdlczogMSB9LFxuICAgICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDAsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMSB9LFxuICAgICAgICAgICAgdG90YWxHdWVzdENvdW50OiAyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbGlzdFJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9zdGF0dXM9cGVuZGluZycpO1xuICAgICAgY29uc3QgbGlzdFJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMobGlzdFJlcXVlc3QpO1xuICAgICAgY29uc3QgbGlzdERhdGEgPSBhd2FpdCBsaXN0UmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QobGlzdFJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGxpc3REYXRhLmRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGxpc3REYXRhLmRhdGEuZGF0YVswXS5zdGF0dXMpLnRvQmUoJ3BlbmRpbmcnKTtcblxuICAgICAgLy8gU3RlcCAyOiBCdWxrIHVwZGF0ZSBSU1ZQcyB0byBhdHRlbmRpbmdcbiAgICAgIChyc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7IHVwZGF0ZWRDb3VudDogMSB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZVJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcy9idWxrJywge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcnN2cElkczogWydyc3ZwLTEnXSxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgIG5vdGVzOiAnQ29uZmlybWVkIGF0dGVuZGFuY2UnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB1cGRhdGVSZXNwb25zZSA9IGF3YWl0IGJ1bGtVcGRhdGVSc3Zwcyh1cGRhdGVSZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSBhd2FpdCB1cGRhdGVSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdCh1cGRhdGVSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVEYXRhLmRhdGEudXBkYXRlZENvdW50KS50b0JlKDEpO1xuXG4gICAgICAvLyBTdGVwIDM6IEV4cG9ydCB1cGRhdGVkIFJTVlBzXG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1YgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6ICdSU1ZQIElELEd1ZXN0IEZpcnN0IE5hbWUsU3RhdHVzXFxucnN2cC0xLEpvaG4sYXR0ZW5kaW5nJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBleHBvcnRSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzL2V4cG9ydD9zdGF0dXM9YXR0ZW5kaW5nJ1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGV4cG9ydFJlc3BvbnNlID0gYXdhaXQgZXhwb3J0UnN2cHMoZXhwb3J0UmVxdWVzdCk7XG5cbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChleHBvcnRSZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpLnRvQmUoJ3RleHQvY3N2OyBjaGFyc2V0PXV0Zi04Jyk7XG5cbiAgICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBhd2FpdCBleHBvcnRSZXNwb25zZS50ZXh0KCk7XG4gICAgICBleHBlY3QoY3N2Q29udGVudCkudG9Db250YWluKCdhdHRlbmRpbmcnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIFNjZW5hcmlvcyBBY3Jvc3MgQWxsIEVuZHBvaW50cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIHRocm93aW5nIHVuZXhwZWN0ZWQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGVzdCBHRVQgZW5kcG9pbnRcbiAgICAgIChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoXG4gICAgICAgIG5ldyBFcnJvcignVW5leHBlY3RlZCBlcnJvcicpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBnZXRSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcbiAgICAgIGNvbnN0IGdldFJlc3BvbnNlID0gYXdhaXQgZ2V0UnN2cHMoZ2V0UmVxdWVzdCk7XG4gICAgICBjb25zdCBnZXREYXRhID0gYXdhaXQgZ2V0UmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QoZ2V0UmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZ2V0RGF0YS5lcnJvci5jb2RlKS50b0JlKCdJTlRFUk5BTF9FUlJPUicpO1xuXG4gICAgICAvLyBUZXN0IFBBVENIIGVuZHBvaW50XG4gICAgICAocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3InKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgcGF0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvYnVsaycsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJzdnBJZHM6IFsnMTExMTExMTEtMTExMS0xMTExLTExMTEtMTExMTExMTExMTExJ10sXG4gICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcGF0Y2hSZXNwb25zZSA9IGF3YWl0IGJ1bGtVcGRhdGVSc3ZwcyhwYXRjaFJlcXVlc3QpO1xuICAgICAgY29uc3QgcGF0Y2hEYXRhID0gYXdhaXQgcGF0Y2hSZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChwYXRjaFJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHBhdGNoRGF0YS5lcnJvci5jb2RlKS50b0JlKCdJTlRFUk5BTF9FUlJPUicpO1xuXG4gICAgICAvLyBUZXN0IGV4cG9ydCBlbmRwb2ludFxuICAgICAgKHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWUoXG4gICAgICAgIG5ldyBFcnJvcignVW5leHBlY3RlZCBlcnJvcicpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBleHBvcnRSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMvZXhwb3J0Jyk7XG4gICAgICBjb25zdCBleHBvcnRSZXNwb25zZSA9IGF3YWl0IGV4cG9ydFJzdnBzKGV4cG9ydFJlcXVlc3QpO1xuICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IGF3YWl0IGV4cG9ydFJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KGV4cG9ydFJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGV4cG9ydERhdGEuZXJyb3IuY29kZSkudG9CZSgnSU5URVJOQUxfRVJST1InKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInJlcXVpcmVBY3R1YWwiLCJ3aXRoQXV0aCIsImZuIiwicmF0ZUxpbWl0TWlkZGxld2FyZSIsImdldFJhdGVMaW1pdEhlYWRlcnMiLCJkZXNjcmliZSIsIm1vY2tVc2VySWQiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImFwaUhlbHBlcnMiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJoYW5kbGVyIiwicmF0ZUxpbWl0IiwibW9ja1JldHVyblZhbHVlIiwic3VjY2VzcyIsImRhdGEiLCJhbGxvd2VkIiwibGltaXQiLCJyZW1haW5pbmciLCJyZXNldCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJTdHJpbmciLCJtb2NrUnN2cERhdGEiLCJpZCIsImd1ZXN0SWQiLCJndWVzdEZpcnN0TmFtZSIsImd1ZXN0TGFzdE5hbWUiLCJndWVzdEVtYWlsIiwiZXZlbnRJZCIsImV2ZW50TmFtZSIsImFjdGl2aXR5SWQiLCJhY3Rpdml0eU5hbWUiLCJzdGF0dXMiLCJndWVzdENvdW50IiwiZGlldGFyeU5vdGVzIiwic3BlY2lhbFJlcXVpcmVtZW50cyIsIm5vdGVzIiwicmVzcG9uZGVkQXQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJwYWdpbmF0aW9uIiwicGFnZSIsInRvdGFsIiwidG90YWxQYWdlcyIsInN0YXRpc3RpY3MiLCJ0b3RhbFJTVlBzIiwiYnlTdGF0dXMiLCJhdHRlbmRpbmciLCJkZWNsaW5lZCIsIm1heWJlIiwicGVuZGluZyIsInRvdGFsR3Vlc3RDb3VudCIsIml0IiwicnN2cE1hbmFnZW1lbnRTZXJ2aWNlIiwibGlzdFJTVlBzIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsInJlc3BvbnNlIiwiZ2V0UnN2cHMiLCJqc29uIiwiZXhwZWN0IiwidG9CZSIsInRvSGF2ZUxlbmd0aCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZmlsdGVyZWREYXRhIiwic2VhcmNoUXVlcnkiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIlJlc3BvbnNlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vY2tSc3ZwSWRzIiwiYnVsa1VwZGF0ZVJTVlBzIiwidXBkYXRlZENvdW50IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJyc3ZwSWRzIiwiYnVsa1VwZGF0ZVJzdnBzIiwidW5kZWZpbmVkIiwic2xpY2UiLCJ0b29NYW55SWRzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJwYWRTdGFydCIsIm1vY2tDU1YiLCJleHBvcnRSU1ZQc1RvQ1NWIiwiZXhwb3J0UnN2cHMiLCJnZXQiLCJ0b01hdGNoIiwiY3N2Q29udGVudCIsInRleHQiLCJoYXMiLCJkZXRhaWxzIiwicmV0cnlBZnRlciIsImxpc3RSZXF1ZXN0IiwibGlzdFJlc3BvbnNlIiwibGlzdERhdGEiLCJ1cGRhdGVSZXF1ZXN0IiwidXBkYXRlUmVzcG9uc2UiLCJ1cGRhdGVEYXRhIiwiZXhwb3J0UmVxdWVzdCIsImV4cG9ydFJlc3BvbnNlIiwidG9Db250YWluIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsImdldFJlcXVlc3QiLCJnZXRSZXNwb25zZSIsImdldERhdGEiLCJwYXRjaFJlcXVlc3QiLCJwYXRjaFJlc3BvbnNlIiwicGF0Y2hEYXRhIiwiZXhwb3J0RGF0YSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztDQVlDO0FBU0Qsd0NBQXdDO0FBQ3hDQSxLQUFLQyxJQUFJLENBQUM7QUFDVkQsS0FBS0MsSUFBSSxDQUFDLG9CQUFvQixJQUFPLENBQUE7UUFDbkMsR0FBR0QsS0FBS0UsYUFBYSxDQUFDLG1CQUFtQjtRQUN6Q0MsVUFBVUgsS0FBS0ksRUFBRTtJQUNuQixDQUFBO0FBQ0FKLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDLEdBQUdELEtBQUtFLGFBQWEsQ0FBQyxrQkFBa0I7UUFDeENHLHFCQUFxQkwsS0FBS0ksRUFBRTtRQUM1QkUscUJBQXFCTixLQUFLSSxFQUFFO0lBQzlCLENBQUE7Ozs7dUJBakJnQzt3QkFDUzt3QkFDTjsrRUFDSTtvRUFDWDttRUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYzNCRyxTQUFTLDRDQUE0QztJQUNuRCxNQUFNQyxhQUFhO0lBRW5CQyxXQUFXO1FBQ1RULEtBQUtVLGFBQWE7UUFFbEIsOENBQThDO1FBQzdDQyxZQUFXUixRQUFRLENBQWVTLGtCQUFrQixDQUNuRCxPQUFPQztZQUNMLE9BQU9BLFFBQVFMO1FBQ2pCO1FBR0YscUNBQXFDO1FBQ3BDTSxXQUFVVCxtQkFBbUIsQ0FBZVUsZUFBZSxDQUFDO1lBQzNEQyxTQUFTO1lBQ1RDLE1BQU07Z0JBQ0pDLFNBQVM7Z0JBQ1RDLE9BQU87Z0JBQ1BDLFdBQVc7Z0JBQ1hDLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0MsS0FBS0MsR0FBRyxLQUFLLFFBQVE7WUFDekM7UUFDRjtRQUdDWCxXQUFVUixtQkFBbUIsQ0FBZVMsZUFBZSxDQUFDO1lBQzNELHFCQUFxQjtZQUNyQix5QkFBeUI7WUFDekIscUJBQXFCVyxPQUFPSixLQUFLQyxLQUFLLENBQUNDLEtBQUtDLEdBQUcsS0FBSyxRQUFRO1FBQzlEO0lBQ0Y7SUFFQWxCLFNBQVMsa0RBQWtEO1FBQ3pELE1BQU1vQixlQUFlO1lBQ25CVixNQUFNO2dCQUNKO29CQUNFVyxJQUFJO29CQUNKQyxTQUFTO29CQUNUQyxnQkFBZ0I7b0JBQ2hCQyxlQUFlO29CQUNmQyxZQUFZO29CQUNaQyxTQUFTO29CQUNUQyxXQUFXO29CQUNYQyxZQUFZO29CQUNaQyxjQUFjO29CQUNkQyxRQUFRO29CQUNSQyxZQUFZO29CQUNaQyxjQUFjO29CQUNkQyxxQkFBcUI7b0JBQ3JCQyxPQUFPO29CQUNQQyxhQUFhO29CQUNiQyxXQUFXO29CQUNYQyxXQUFXO2dCQUNiO2dCQUNBO29CQUNFaEIsSUFBSTtvQkFDSkMsU0FBUztvQkFDVEMsZ0JBQWdCO29CQUNoQkMsZUFBZTtvQkFDZkMsWUFBWTtvQkFDWkMsU0FBUztvQkFDVEMsV0FBVztvQkFDWEMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMsUUFBUTtvQkFDUkMsWUFBWTtvQkFDWkMsY0FBYztvQkFDZEMscUJBQXFCO29CQUNyQkMsT0FBTztvQkFDUEMsYUFBYTtvQkFDYkMsV0FBVztvQkFDWEMsV0FBVztnQkFDYjthQUNEO1lBQ0RDLFlBQVk7Z0JBQ1ZDLE1BQU07Z0JBQ04zQixPQUFPO2dCQUNQNEIsT0FBTztnQkFDUEMsWUFBWTtZQUNkO1lBQ0FDLFlBQVk7Z0JBQ1ZDLFlBQVk7Z0JBQ1pDLFVBQVU7b0JBQ1JDLFdBQVc7b0JBQ1hDLFVBQVU7b0JBQ1ZDLE9BQU87b0JBQ1BDLFNBQVM7Z0JBQ1g7Z0JBQ0FDLGlCQUFpQjtZQUNuQjtRQUNGO1FBRUFDLEdBQUcsOERBQThEO1lBQy9ELFVBQVU7WUFDVEMsdUJBQXNCQyxTQUFTLENBQWVDLGlCQUFpQixDQUFDO2dCQUMvRDVDLFNBQVM7Z0JBQ1RDLE1BQU1VO1lBQ1I7WUFFQSxNQUFNa0MsVUFBVSxJQUFJQyxRQUFRO1lBRTVCLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFVBQVEsRUFBQ0g7WUFDaEMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS0EsSUFBSSxDQUFDQSxJQUFJLEVBQUVtRCxZQUFZLENBQUM7WUFDcENGLE9BQU9qRCxLQUFLQSxJQUFJLENBQUM0QixVQUFVLENBQUNDLElBQUksRUFBRXFCLElBQUksQ0FBQztZQUN2Q0QsT0FBT2pELEtBQUtBLElBQUksQ0FBQzRCLFVBQVUsQ0FBQzFCLEtBQUssRUFBRWdELElBQUksQ0FBQztZQUN4Q0QsT0FBT2pELEtBQUtBLElBQUksQ0FBQ2dDLFVBQVUsQ0FBQ0MsVUFBVSxFQUFFaUIsSUFBSSxDQUFDO1lBQzdDRCxPQUFPUix1QkFBc0JDLFNBQVMsRUFBRVUsb0JBQW9CLENBQzFELENBQUMsR0FDRDtnQkFBRXZCLE1BQU07Z0JBQUczQixPQUFPO1lBQUc7UUFFekI7UUFHQXNDLEdBQUcsbUNBQW1DO1lBQ3BDLFVBQVU7WUFDVixNQUFNYSxlQUFlO2dCQUNuQixHQUFHM0MsWUFBWTtnQkFDZlYsTUFBTTtvQkFBQ1UsYUFBYVYsSUFBSSxDQUFDLEVBQUU7aUJBQUM7Z0JBQzVCNEIsWUFBWTtvQkFBRSxHQUFHbEIsYUFBYWtCLFVBQVU7b0JBQUVFLE9BQU87Z0JBQUU7Z0JBQ25ERSxZQUFZO29CQUNWQyxZQUFZO29CQUNaQyxVQUFVO3dCQUFFQyxXQUFXO3dCQUFHQyxVQUFVO3dCQUFHQyxPQUFPO3dCQUFHQyxTQUFTO29CQUFFO29CQUM1REMsaUJBQWlCO2dCQUNuQjtZQUNGO1lBRUNFLHVCQUFzQkMsU0FBUyxDQUFlQyxpQkFBaUIsQ0FBQztnQkFDL0Q1QyxTQUFTO2dCQUNUQyxNQUFNcUQ7WUFDUjtZQUVBLE1BQU1ULFVBQVUsSUFBSUMsUUFDbEI7WUFHRixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxVQUFRLEVBQUNIO1lBQ2hDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUtBLElBQUksQ0FBQ0EsSUFBSSxFQUFFbUQsWUFBWSxDQUFDO1lBQ3BDRixPQUFPUix1QkFBc0JDLFNBQVMsRUFBRVUsb0JBQW9CLENBQzFEO2dCQUFFcEMsU0FBUztZQUF1QyxHQUNsRDtnQkFBRWEsTUFBTTtnQkFBRzNCLE9BQU87WUFBRztRQUV6QjtRQUVBc0MsR0FBRyxpQ0FBaUM7WUFDbEMsVUFBVTtZQUNWLE1BQU1hLGVBQWU7Z0JBQ25CLEdBQUczQyxZQUFZO2dCQUNmVixNQUFNO29CQUFDVSxhQUFhVixJQUFJLENBQUMsRUFBRTtpQkFBQztnQkFDNUI0QixZQUFZO29CQUFFLEdBQUdsQixhQUFha0IsVUFBVTtvQkFBRUUsT0FBTztnQkFBRTtnQkFDbkRFLFlBQVk7b0JBQ1ZDLFlBQVk7b0JBQ1pDLFVBQVU7d0JBQUVDLFdBQVc7d0JBQUdDLFVBQVU7d0JBQUdDLE9BQU87d0JBQUdDLFNBQVM7b0JBQUU7b0JBQzVEQyxpQkFBaUI7Z0JBQ25CO1lBQ0Y7WUFFQ0UsdUJBQXNCQyxTQUFTLENBQWVDLGlCQUFpQixDQUFDO2dCQUMvRDVDLFNBQVM7Z0JBQ1RDLE1BQU1xRDtZQUNSO1lBRUEsTUFBTVQsVUFBVSxJQUFJQyxRQUNsQjtZQUdGLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFVBQVEsRUFBQ0g7WUFDaEMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS0EsSUFBSSxDQUFDQSxJQUFJLEVBQUVtRCxZQUFZLENBQUM7WUFDcENGLE9BQU9qRCxLQUFLQSxJQUFJLENBQUNBLElBQUksQ0FBQyxFQUFFLENBQUNvQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDdENELE9BQU9SLHVCQUFzQkMsU0FBUyxFQUFFVSxvQkFBb0IsQ0FDMUQ7Z0JBQUVoQyxRQUFRO1lBQVUsR0FDcEI7Z0JBQUVTLE1BQU07Z0JBQUczQixPQUFPO1lBQUc7UUFFekI7UUFFQXNDLEdBQUcsZ0RBQWdEO1lBQ2pELFVBQVU7WUFDVEMsdUJBQXNCQyxTQUFTLENBQWVDLGlCQUFpQixDQUFDO2dCQUMvRDVDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0pBLE1BQU0sRUFBRTtvQkFDUjRCLFlBQVk7d0JBQUVDLE1BQU07d0JBQUczQixPQUFPO3dCQUFJNEIsT0FBTzt3QkFBR0MsWUFBWTtvQkFBRTtvQkFDMURDLFlBQVk7d0JBQ1ZDLFlBQVk7d0JBQ1pDLFVBQVU7NEJBQUVDLFdBQVc7NEJBQUdDLFVBQVU7NEJBQUdDLE9BQU87NEJBQUdDLFNBQVM7d0JBQUU7d0JBQzVEQyxpQkFBaUI7b0JBQ25CO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNSyxVQUFVLElBQUlDLFFBQ2xCO1lBR0YsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTUMsSUFBQUEsVUFBUSxFQUFDSDtZQUNoQyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9SLHVCQUFzQkMsU0FBUyxFQUFFVSxvQkFBb0IsQ0FDMUQ7Z0JBQ0VwQyxTQUFTO2dCQUNURSxZQUFZO2dCQUNaRSxRQUFRO2dCQUNSa0MsYUFBYTtZQUNmLEdBQ0E7Z0JBQUV6QixNQUFNO2dCQUFHM0IsT0FBTztZQUFHO1FBRXpCO1FBR0FzQyxHQUFHLHdEQUF3RDtZQUN6RCxVQUFVO1lBQ1YsTUFBTUksVUFBVSxJQUFJQyxRQUNsQjtZQUdGLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1DLElBQUFBLFVBQVEsRUFBQ0g7WUFDaEMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS3VELEtBQUssQ0FBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLdUQsS0FBSyxDQUFDRSxPQUFPLEVBQUVQLElBQUksQ0FBQztZQUNoQ0QsT0FBT1IsdUJBQXNCQyxTQUFTLEVBQUVnQixHQUFHLENBQUNDLGdCQUFnQjtRQUM5RDtRQUVBbkIsR0FBRyw4Q0FBOEM7WUFDL0MsVUFBVTtZQUNWLE1BQU1JLFVBQVUsSUFBSUMsUUFDbEI7WUFHRixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxVQUFRLEVBQUNIO1lBQ2hDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUt1RCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1lBQzdCRCxPQUFPUix1QkFBc0JDLFNBQVMsRUFBRWdCLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQzlEO1FBRUFuQixHQUFHLDRDQUE0QztZQUM3QyxVQUFVO1lBQ1Q5QyxZQUFXUixRQUFRLENBQWVTLGtCQUFrQixDQUFDO2dCQUNwRCxPQUFPLElBQUlpRSxTQUNUQyxLQUFLQyxTQUFTLENBQUM7b0JBQ2IvRCxTQUFTO29CQUNUd0QsT0FBTzt3QkFBRUMsTUFBTTt3QkFBZ0JDLFNBQVM7b0JBQTBCO2dCQUNwRSxJQUNBO29CQUFFckMsUUFBUTtnQkFBSTtZQUVsQjtZQUVBLE1BQU13QixVQUFVLElBQUlDLFFBQVE7WUFFNUIsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTUMsSUFBQUEsVUFBUSxFQUFDSDtZQUNoQyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLdUQsS0FBSyxDQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQztZQUM3QkQsT0FBT1IsdUJBQXNCQyxTQUFTLEVBQUVnQixHQUFHLENBQUNDLGdCQUFnQjtRQUM5RDtRQUVBbkIsR0FBRyw4Q0FBOEM7WUFDL0MsVUFBVTtZQUNUQyx1QkFBc0JDLFNBQVMsQ0FBZUMsaUJBQWlCLENBQUM7Z0JBQy9ENUMsU0FBUztnQkFDVHdELE9BQU87b0JBQ0xDLE1BQU07b0JBQ05DLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLE1BQU1iLFVBQVUsSUFBSUMsUUFBUTtZQUU1QixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNQyxJQUFBQSxVQUFRLEVBQUNIO1lBQ2hDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUt1RCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1FBQy9CO0lBQ0Y7SUFHQTVELFNBQVMsbURBQW1EO1FBQzFELE1BQU15RSxjQUFjO1lBQ2xCO1lBQ0E7WUFDQTtTQUNEO1FBRUR2QixHQUFHLDZDQUE2QztZQUM5QyxVQUFVO1lBQ1RDLHVCQUFzQnVCLGVBQWUsQ0FBZXJCLGlCQUFpQixDQUFDO2dCQUNyRTVDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQUVpRSxjQUFjO2dCQUFFO1lBQzFCO1lBRUEsTUFBTXJCLFVBQVUsSUFBSUMsUUFBUSw4Q0FBOEM7Z0JBQ3hFcUIsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTVAsS0FBS0MsU0FBUyxDQUFDO29CQUNuQk8sU0FBU047b0JBQ1QzQyxRQUFRO2dCQUNWO1lBQ0Y7WUFFQSxNQUFNO1lBQ04sTUFBTTBCLFdBQVcsTUFBTXdCLElBQUFBLGFBQWUsRUFBQzFCO1lBQ3ZDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUtBLElBQUksQ0FBQ2lFLFlBQVksRUFBRWYsSUFBSSxDQUFDO1lBQ3BDRCxPQUFPUix1QkFBc0J1QixlQUFlLEVBQUVaLG9CQUFvQixDQUNoRVcsYUFDQSxhQUNBUTtRQUVKO1FBRUEvQixHQUFHLGtDQUFrQztZQUNuQyxVQUFVO1lBQ1RDLHVCQUFzQnVCLGVBQWUsQ0FBZXJCLGlCQUFpQixDQUFDO2dCQUNyRTVDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQUVpRSxjQUFjO2dCQUFFO1lBQzFCO1lBRUEsTUFBTXJCLFVBQVUsSUFBSUMsUUFBUSw4Q0FBOEM7Z0JBQ3hFcUIsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTVAsS0FBS0MsU0FBUyxDQUFDO29CQUNuQk8sU0FBU04sWUFBWVMsS0FBSyxDQUFDLEdBQUc7b0JBQzlCcEQsUUFBUTtvQkFDUkksT0FBTztnQkFDVDtZQUNGO1lBRUEsTUFBTTtZQUNOLE1BQU1zQixXQUFXLE1BQU13QixJQUFBQSxhQUFlLEVBQUMxQjtZQUN2QyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLQSxJQUFJLENBQUNpRSxZQUFZLEVBQUVmLElBQUksQ0FBQztZQUNwQ0QsT0FBT1IsdUJBQXNCdUIsZUFBZSxFQUFFWixvQkFBb0IsQ0FDaEVXLFlBQVlTLEtBQUssQ0FBQyxHQUFHLElBQ3JCLFlBQ0E7UUFFSjtRQUVBaEMsR0FBRywyREFBMkQ7WUFDNUQsVUFBVTtZQUNUQyx1QkFBc0J1QixlQUFlLENBQWVyQixpQkFBaUIsQ0FBQztnQkFDckU1QyxTQUFTO2dCQUNUQyxNQUFNO29CQUFFaUUsY0FBYztnQkFBRTtZQUMxQjtZQUVBLE1BQU1yQixVQUFVLElBQUlDLFFBQVEsOENBQThDO2dCQUN4RXFCLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1QLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJPLFNBQVNOO29CQUNUM0MsUUFBUTtnQkFDVjtZQUNGO1lBRUEsTUFBTTtZQUNOLE1BQU0wQixXQUFXLE1BQU13QixJQUFBQSxhQUFlLEVBQUMxQjtZQUN2QyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLQSxJQUFJLENBQUNpRSxZQUFZLEVBQUVmLElBQUksQ0FBQztRQUN0QztRQUVBVixHQUFHLDJDQUEyQztZQUM1QyxVQUFVO1lBQ1YsTUFBTUksVUFBVSxJQUFJQyxRQUFRLDhDQUE4QztnQkFDeEVxQixRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNUCxLQUFLQyxTQUFTLENBQUM7b0JBQ25CTyxTQUFTLEVBQUU7b0JBQ1hqRCxRQUFRO2dCQUNWO1lBQ0Y7WUFFQSxNQUFNO1lBQ04sTUFBTTBCLFdBQVcsTUFBTXdCLElBQUFBLGFBQWUsRUFBQzFCO1lBQ3ZDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUt1RCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1lBQzdCRCxPQUFPUix1QkFBc0J1QixlQUFlLEVBQUVOLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQ3BFO1FBR0FuQixHQUFHLG9EQUFvRDtZQUNyRCxVQUFVO1lBQ1YsTUFBTWlDLGFBQWFDLE1BQU1DLElBQUksQ0FBQztnQkFBRUMsUUFBUTtZQUFJLEdBQUcsQ0FBQ0MsR0FBR0MsSUFDakQsR0FBR3JFLE9BQU9xRSxHQUFHQyxRQUFRLENBQUMsR0FBRyxLQUFLLDRCQUE0QixDQUFDO1lBRzdELE1BQU1uQyxVQUFVLElBQUlDLFFBQVEsOENBQThDO2dCQUN4RXFCLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1QLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJPLFNBQVNJO29CQUNUckQsUUFBUTtnQkFDVjtZQUNGO1lBRUEsTUFBTTtZQUNOLE1BQU0wQixXQUFXLE1BQU13QixJQUFBQSxhQUFlLEVBQUMxQjtZQUN2QyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLdUQsS0FBSyxDQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQztZQUM3QkQsT0FBT1IsdUJBQXNCdUIsZUFBZSxFQUFFTixHQUFHLENBQUNDLGdCQUFnQjtRQUNwRTtRQUVBbkIsR0FBRyx3REFBd0Q7WUFDekQsVUFBVTtZQUNWLE1BQU1JLFVBQVUsSUFBSUMsUUFBUSw4Q0FBOEM7Z0JBQ3hFcUIsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTVAsS0FBS0MsU0FBUyxDQUFDO29CQUNuQk8sU0FBUzt3QkFBQzt3QkFBZ0JOLFdBQVcsQ0FBQyxFQUFFO3FCQUFDO29CQUN6QzNDLFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBLE1BQU07WUFDTixNQUFNMEIsV0FBVyxNQUFNd0IsSUFBQUEsYUFBZSxFQUFDMUI7WUFDdkMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS3VELEtBQUssQ0FBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUM7WUFDN0JELE9BQU9SLHVCQUFzQnVCLGVBQWUsRUFBRU4sR0FBRyxDQUFDQyxnQkFBZ0I7UUFDcEU7UUFFQW5CLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVixNQUFNSSxVQUFVLElBQUlDLFFBQVEsOENBQThDO2dCQUN4RXFCLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1QLEtBQUtDLFNBQVMsQ0FBQztvQkFDbkJPLFNBQVNOO29CQUNUM0MsUUFBUTtnQkFDVjtZQUNGO1lBRUEsTUFBTTtZQUNOLE1BQU0wQixXQUFXLE1BQU13QixJQUFBQSxhQUFlLEVBQUMxQjtZQUN2QyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLdUQsS0FBSyxDQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQztZQUM3QkQsT0FBT1IsdUJBQXNCdUIsZUFBZSxFQUFFTixHQUFHLENBQUNDLGdCQUFnQjtRQUNwRTtRQUVBbkIsR0FBRyw0Q0FBNEM7WUFDN0MsVUFBVTtZQUNUOUMsWUFBV1IsUUFBUSxDQUFlUyxrQkFBa0IsQ0FBQztnQkFDcEQsT0FBTyxJQUFJaUUsU0FDVEMsS0FBS0MsU0FBUyxDQUFDO29CQUNiL0QsU0FBUztvQkFDVHdELE9BQU87d0JBQUVDLE1BQU07d0JBQWdCQyxTQUFTO29CQUEwQjtnQkFDcEUsSUFDQTtvQkFBRXJDLFFBQVE7Z0JBQUk7WUFFbEI7WUFFQSxNQUFNd0IsVUFBVSxJQUFJQyxRQUFRLDhDQUE4QztnQkFDeEVxQixRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNUCxLQUFLQyxTQUFTLENBQUM7b0JBQ25CTyxTQUFTTjtvQkFDVDNDLFFBQVE7Z0JBQ1Y7WUFDRjtZQUVBLE1BQU07WUFDTixNQUFNMEIsV0FBVyxNQUFNd0IsSUFBQUEsYUFBZSxFQUFDMUI7WUFDdkMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS3VELEtBQUssQ0FBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUM7WUFDN0JELE9BQU9SLHVCQUFzQnVCLGVBQWUsRUFBRU4sR0FBRyxDQUFDQyxnQkFBZ0I7UUFDcEU7UUFHQW5CLEdBQUcsOENBQThDO1lBQy9DLFVBQVU7WUFDVEMsdUJBQXNCdUIsZUFBZSxDQUFlckIsaUJBQWlCLENBQUM7Z0JBQ3JFNUMsU0FBUztnQkFDVHdELE9BQU87b0JBQ0xDLE1BQU07b0JBQ05DLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLE1BQU1iLFVBQVUsSUFBSUMsUUFBUSw4Q0FBOEM7Z0JBQ3hFcUIsUUFBUTtnQkFDUkMsU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5Q0MsTUFBTVAsS0FBS0MsU0FBUyxDQUFDO29CQUNuQk8sU0FBU047b0JBQ1QzQyxRQUFRO2dCQUNWO1lBQ0Y7WUFFQSxNQUFNO1lBQ04sTUFBTTBCLFdBQVcsTUFBTXdCLElBQUFBLGFBQWUsRUFBQzFCO1lBQ3ZDLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUt1RCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1FBQy9CO0lBQ0Y7SUFFQTVELFNBQVMsNENBQTRDO1FBQ25Ea0QsR0FBRywyQ0FBMkM7WUFDNUMsVUFBVTtZQUNWLE1BQU13QyxVQUFVO1lBRWZ2Qyx1QkFBc0J3QyxnQkFBZ0IsQ0FBZXRDLGlCQUFpQixDQUFDO2dCQUN0RTVDLFNBQVM7Z0JBQ1RDLE1BQU1nRjtZQUNSO1lBRUEsTUFBTXBDLFVBQVUsSUFBSUMsUUFBUTtZQUU1QixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNb0MsSUFBQUEsV0FBVyxFQUFDdEM7WUFFbkMsU0FBUztZQUNUSyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPSCxTQUFTcUIsT0FBTyxDQUFDZ0IsR0FBRyxDQUFDLGlCQUFpQmpDLElBQUksQ0FBQztZQUNsREQsT0FBT0gsU0FBU3FCLE9BQU8sQ0FBQ2dCLEdBQUcsQ0FBQyx3QkFBd0JDLE9BQU8sQ0FDekQ7WUFFRm5DLE9BQU9ILFNBQVNxQixPQUFPLENBQUNnQixHQUFHLENBQUMsa0JBQWtCakMsSUFBSSxDQUFDO1lBRW5ELE1BQU1tQyxhQUFhLE1BQU12QyxTQUFTd0MsSUFBSTtZQUN0Q3JDLE9BQU9vQyxZQUFZbkMsSUFBSSxDQUFDOEI7WUFDeEIvQixPQUFPUix1QkFBc0J3QyxnQkFBZ0IsRUFBRTdCLG9CQUFvQixDQUFDLENBQUM7UUFDdkU7UUFFQVosR0FBRyw0Q0FBNEM7WUFDN0MsVUFBVTtZQUNWLE1BQU13QyxVQUFVO1lBRWZ2Qyx1QkFBc0J3QyxnQkFBZ0IsQ0FBZXRDLGlCQUFpQixDQUFDO2dCQUN0RTVDLFNBQVM7Z0JBQ1RDLE1BQU1nRjtZQUNSO1lBRUEsTUFBTXBDLFVBQVUsSUFBSUMsUUFDbEI7WUFHRixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNb0MsSUFBQUEsV0FBVyxFQUFDdEM7WUFFbkMsU0FBUztZQUNUSyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPUix1QkFBc0J3QyxnQkFBZ0IsRUFBRTdCLG9CQUFvQixDQUFDO2dCQUNsRXBDLFNBQVM7Z0JBQ1RJLFFBQVE7Z0JBQ1JrQyxhQUFhO1lBQ2Y7UUFDRjtRQUVBZCxHQUFHLGlEQUFpRDtZQUNsRCxVQUFVO1lBQ1RDLHVCQUFzQndDLGdCQUFnQixDQUFldEMsaUJBQWlCLENBQUM7Z0JBQ3RFNUMsU0FBUztnQkFDVEMsTUFBTTtZQUNSO1lBRUEsTUFBTTRDLFVBQVUsSUFBSUMsUUFBUTtZQUU1QixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNb0MsSUFBQUEsV0FBVyxFQUFDdEM7WUFFbkMsU0FBUztZQUNUSyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPSCxTQUFTcUIsT0FBTyxDQUFDZ0IsR0FBRyxDQUFDLHNCQUFzQmpDLElBQUksQ0FBQztZQUN2REQsT0FBT0gsU0FBU3FCLE9BQU8sQ0FBQ2dCLEdBQUcsQ0FBQywwQkFBMEJqQyxJQUFJLENBQUM7WUFDM0RELE9BQU9ILFNBQVNxQixPQUFPLENBQUNvQixHQUFHLENBQUMsc0JBQXNCckMsSUFBSSxDQUFDO1FBQ3pEO1FBR0FWLEdBQUcsOENBQThDO1lBQy9DLFVBQVU7WUFDVDNDLFdBQVVULG1CQUFtQixDQUFlVSxlQUFlLENBQUM7Z0JBQzNEQyxTQUFTO2dCQUNUd0QsT0FBTztvQkFDTEMsTUFBTTtvQkFDTkMsU0FBUztvQkFDVCtCLFNBQVM7d0JBQ1B0RixPQUFPO3dCQUNQQyxXQUFXO3dCQUNYQyxPQUFPQyxLQUFLQyxLQUFLLENBQUNDLEtBQUtDLEdBQUcsS0FBSyxRQUFRO3dCQUN2Q2lGLFlBQVk7b0JBQ2Q7Z0JBQ0Y7WUFDRjtZQUVDNUYsV0FBVVIsbUJBQW1CLENBQWVTLGVBQWUsQ0FBQztnQkFDM0QscUJBQXFCO2dCQUNyQix5QkFBeUI7Z0JBQ3pCLHFCQUFxQlcsT0FBT0osS0FBS0MsS0FBSyxDQUFDQyxLQUFLQyxHQUFHLEtBQUssUUFBUTtnQkFDNUQsZUFBZTtZQUNqQjtZQUVBLE1BQU1vQyxVQUFVLElBQUlDLFFBQVE7WUFFNUIsTUFBTTtZQUNOLE1BQU1DLFdBQVcsTUFBTW9DLElBQUFBLFdBQVcsRUFBQ3RDO1lBQ25DLE1BQU01QyxPQUFPLE1BQU04QyxTQUFTRSxJQUFJO1lBRWhDLFNBQVM7WUFDVEMsT0FBT0gsU0FBUzFCLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUM3QkQsT0FBT2pELEtBQUtELE9BQU8sRUFBRW1ELElBQUksQ0FBQztZQUMxQkQsT0FBT2pELEtBQUt1RCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1lBQzdCRCxPQUFPSCxTQUFTcUIsT0FBTyxDQUFDZ0IsR0FBRyxDQUFDLGdCQUFnQmpDLElBQUksQ0FBQztZQUNqREQsT0FBT1IsdUJBQXNCd0MsZ0JBQWdCLEVBQUV2QixHQUFHLENBQUNDLGdCQUFnQjtRQUNyRTtRQUVBbkIsR0FBRyxtREFBbUQ7WUFDcEQsVUFBVTtZQUNWLE1BQU1JLFVBQVUsSUFBSUMsUUFDbEI7WUFHRixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNb0MsSUFBQUEsV0FBVyxFQUFDdEM7WUFDbkMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS3VELEtBQUssQ0FBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUM7WUFDN0JELE9BQU9SLHVCQUFzQndDLGdCQUFnQixFQUFFdkIsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDckU7UUFFQW5CLEdBQUcsNENBQTRDO1lBQzdDLFVBQVU7WUFDVDlDLFlBQVdSLFFBQVEsQ0FBZVMsa0JBQWtCLENBQUM7Z0JBQ3BELE9BQU8sSUFBSWlFLFNBQ1RDLEtBQUtDLFNBQVMsQ0FBQztvQkFDYi9ELFNBQVM7b0JBQ1R3RCxPQUFPO3dCQUFFQyxNQUFNO3dCQUFnQkMsU0FBUztvQkFBMEI7Z0JBQ3BFLElBQ0E7b0JBQUVyQyxRQUFRO2dCQUFJO1lBRWxCO1lBRUEsTUFBTXdCLFVBQVUsSUFBSUMsUUFBUTtZQUU1QixNQUFNO1lBQ04sTUFBTUMsV0FBVyxNQUFNb0MsSUFBQUEsV0FBVyxFQUFDdEM7WUFDbkMsTUFBTTVDLE9BQU8sTUFBTThDLFNBQVNFLElBQUk7WUFFaEMsU0FBUztZQUNUQyxPQUFPSCxTQUFTMUIsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQzdCRCxPQUFPakQsS0FBS0QsT0FBTyxFQUFFbUQsSUFBSSxDQUFDO1lBQzFCRCxPQUFPakQsS0FBS3VELEtBQUssQ0FBQ0MsSUFBSSxFQUFFTixJQUFJLENBQUM7WUFDN0JELE9BQU9SLHVCQUFzQndDLGdCQUFnQixFQUFFdkIsR0FBRyxDQUFDQyxnQkFBZ0I7UUFDckU7UUFFQW5CLEdBQUcsOENBQThDO1lBQy9DLFVBQVU7WUFDVEMsdUJBQXNCd0MsZ0JBQWdCLENBQWV0QyxpQkFBaUIsQ0FBQztnQkFDdEU1QyxTQUFTO2dCQUNUd0QsT0FBTztvQkFDTEMsTUFBTTtvQkFDTkMsU0FBUztnQkFDWDtZQUNGO1lBRUEsTUFBTWIsVUFBVSxJQUFJQyxRQUFRO1lBRTVCLE1BQU07WUFDTixNQUFNQyxXQUFXLE1BQU1vQyxJQUFBQSxXQUFXLEVBQUN0QztZQUNuQyxNQUFNNUMsT0FBTyxNQUFNOEMsU0FBU0UsSUFBSTtZQUVoQyxTQUFTO1lBQ1RDLE9BQU9ILFNBQVMxQixNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDN0JELE9BQU9qRCxLQUFLRCxPQUFPLEVBQUVtRCxJQUFJLENBQUM7WUFDMUJELE9BQU9qRCxLQUFLdUQsS0FBSyxDQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQztRQUMvQjtJQUNGO0lBR0E1RCxTQUFTLHFDQUFxQztRQUM1Q2tELEdBQUcsdUVBQXVFO1lBQ3hFLHlCQUF5QjtZQUN4QkMsdUJBQXNCQyxTQUFTLENBQWVDLGlCQUFpQixDQUFDO2dCQUMvRDVDLFNBQVM7Z0JBQ1RDLE1BQU07b0JBQ0pBLE1BQU07d0JBQ0o7NEJBQ0VXLElBQUk7NEJBQ0pDLFNBQVM7NEJBQ1RDLGdCQUFnQjs0QkFDaEJDLGVBQWU7NEJBQ2ZDLFlBQVk7NEJBQ1pDLFNBQVM7NEJBQ1RDLFdBQVc7NEJBQ1hDLFlBQVk7NEJBQ1pDLGNBQWM7NEJBQ2RDLFFBQVE7NEJBQ1JDLFlBQVk7NEJBQ1pDLGNBQWM7NEJBQ2RDLHFCQUFxQjs0QkFDckJDLE9BQU87NEJBQ1BDLGFBQWE7NEJBQ2JDLFdBQVc7NEJBQ1hDLFdBQVc7d0JBQ2I7cUJBQ0Q7b0JBQ0RDLFlBQVk7d0JBQUVDLE1BQU07d0JBQUczQixPQUFPO3dCQUFJNEIsT0FBTzt3QkFBR0MsWUFBWTtvQkFBRTtvQkFDMURDLFlBQVk7d0JBQ1ZDLFlBQVk7d0JBQ1pDLFVBQVU7NEJBQUVDLFdBQVc7NEJBQUdDLFVBQVU7NEJBQUdDLE9BQU87NEJBQUdDLFNBQVM7d0JBQUU7d0JBQzVEQyxpQkFBaUI7b0JBQ25CO2dCQUNGO1lBQ0Y7WUFFQSxNQUFNbUQsY0FBYyxJQUFJN0MsUUFBUTtZQUNoQyxNQUFNOEMsZUFBZSxNQUFNNUMsSUFBQUEsVUFBUSxFQUFDMkM7WUFDcEMsTUFBTUUsV0FBVyxNQUFNRCxhQUFhM0MsSUFBSTtZQUV4Q0MsT0FBTzBDLGFBQWF2RSxNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDakNELE9BQU8yQyxTQUFTNUYsSUFBSSxDQUFDQSxJQUFJLEVBQUVtRCxZQUFZLENBQUM7WUFDeENGLE9BQU8yQyxTQUFTNUYsSUFBSSxDQUFDQSxJQUFJLENBQUMsRUFBRSxDQUFDb0IsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBRTFDLHlDQUF5QztZQUN4Q1QsdUJBQXNCdUIsZUFBZSxDQUFlckIsaUJBQWlCLENBQUM7Z0JBQ3JFNUMsU0FBUztnQkFDVEMsTUFBTTtvQkFBRWlFLGNBQWM7Z0JBQUU7WUFDMUI7WUFFQSxNQUFNNEIsZ0JBQWdCLElBQUloRCxRQUFRLDhDQUE4QztnQkFDOUVxQixRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNUCxLQUFLQyxTQUFTLENBQUM7b0JBQ25CTyxTQUFTO3dCQUFDO3FCQUFTO29CQUNuQmpELFFBQVE7b0JBQ1JJLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE1BQU1zRSxpQkFBaUIsTUFBTXhCLElBQUFBLGFBQWUsRUFBQ3VCO1lBQzdDLE1BQU1FLGFBQWEsTUFBTUQsZUFBZTlDLElBQUk7WUFFNUNDLE9BQU82QyxlQUFlMUUsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQ25DRCxPQUFPOEMsV0FBVy9GLElBQUksQ0FBQ2lFLFlBQVksRUFBRWYsSUFBSSxDQUFDO1lBRTFDLCtCQUErQjtZQUM5QlQsdUJBQXNCd0MsZ0JBQWdCLENBQWV0QyxpQkFBaUIsQ0FBQztnQkFDdEU1QyxTQUFTO2dCQUNUQyxNQUFNO1lBQ1I7WUFFQSxNQUFNZ0csZ0JBQWdCLElBQUluRCxRQUN4QjtZQUVGLE1BQU1vRCxpQkFBaUIsTUFBTWYsSUFBQUEsV0FBVyxFQUFDYztZQUV6Qy9DLE9BQU9nRCxlQUFlN0UsTUFBTSxFQUFFOEIsSUFBSSxDQUFDO1lBQ25DRCxPQUFPZ0QsZUFBZTlCLE9BQU8sQ0FBQ2dCLEdBQUcsQ0FBQyxpQkFBaUJqQyxJQUFJLENBQUM7WUFFeEQsTUFBTW1DLGFBQWEsTUFBTVksZUFBZVgsSUFBSTtZQUM1Q3JDLE9BQU9vQyxZQUFZYSxTQUFTLENBQUM7UUFDL0I7SUFDRjtJQUVBNUcsU0FBUyx3Q0FBd0M7UUFDL0NrRCxHQUFHLG9EQUFvRDtZQUNyRCxvQkFBb0I7WUFDbkJDLHVCQUFzQkMsU0FBUyxDQUFleUQsaUJBQWlCLENBQzlELElBQUlDLE1BQU07WUFHWixNQUFNQyxhQUFhLElBQUl4RCxRQUFRO1lBQy9CLE1BQU15RCxjQUFjLE1BQU12RCxJQUFBQSxVQUFRLEVBQUNzRDtZQUNuQyxNQUFNRSxVQUFVLE1BQU1ELFlBQVl0RCxJQUFJO1lBRXRDQyxPQUFPcUQsWUFBWWxGLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUNoQ0QsT0FBT3NELFFBQVFoRCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1lBRWhDLHNCQUFzQjtZQUNyQlQsdUJBQXNCdUIsZUFBZSxDQUFlbUMsaUJBQWlCLENBQ3BFLElBQUlDLE1BQU07WUFHWixNQUFNSSxlQUFlLElBQUkzRCxRQUFRLDhDQUE4QztnQkFDN0VxQixRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNUCxLQUFLQyxTQUFTLENBQUM7b0JBQ25CTyxTQUFTO3dCQUFDO3FCQUF1QztvQkFDakRqRCxRQUFRO2dCQUNWO1lBQ0Y7WUFFQSxNQUFNcUYsZ0JBQWdCLE1BQU1uQyxJQUFBQSxhQUFlLEVBQUNrQztZQUM1QyxNQUFNRSxZQUFZLE1BQU1ELGNBQWN6RCxJQUFJO1lBRTFDQyxPQUFPd0QsY0FBY3JGLE1BQU0sRUFBRThCLElBQUksQ0FBQztZQUNsQ0QsT0FBT3lELFVBQVVuRCxLQUFLLENBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDO1lBRWxDLHVCQUF1QjtZQUN0QlQsdUJBQXNCd0MsZ0JBQWdCLENBQWVrQixpQkFBaUIsQ0FDckUsSUFBSUMsTUFBTTtZQUdaLE1BQU1KLGdCQUFnQixJQUFJbkQsUUFBUTtZQUNsQyxNQUFNb0QsaUJBQWlCLE1BQU1mLElBQUFBLFdBQVcsRUFBQ2M7WUFDekMsTUFBTVcsYUFBYSxNQUFNVixlQUFlakQsSUFBSTtZQUU1Q0MsT0FBT2dELGVBQWU3RSxNQUFNLEVBQUU4QixJQUFJLENBQUM7WUFDbkNELE9BQU8wRCxXQUFXcEQsS0FBSyxDQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQztRQUNyQztJQUNGO0FBQ0YifQ==