{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/Button.test.tsx"],"sourcesContent":["import { render, screen, fireEvent } from '@testing-library/react';\nimport { memo } from 'react';\nimport { Button } from './Button';\n\ndescribe('Button', () => {\n  // Test rendering with various props\n  describe('rendering', () => {\n    it('should render with default props', () => {\n      render(<Button>Click me</Button>);\n      \n      const button = screen.getByRole('button', { name: 'Click me' });\n      expect(button).toBeInTheDocument();\n      expect(button).toHaveAttribute('type', 'button');\n      expect(button).not.toBeDisabled();\n    });\n\n    it('should render with custom type', () => {\n      render(<Button type=\"submit\">Submit</Button>);\n      \n      const button = screen.getByRole('button', { name: 'Submit' });\n      expect(button).toHaveAttribute('type', 'submit');\n    });\n\n    it('should render with different variants', () => {\n      const { rerender } = render(<Button variant=\"primary\">Primary</Button>);\n      expect(screen.getByRole('button')).toHaveStyle({ backgroundColor: '#22c55e' });\n\n      rerender(<Button variant=\"secondary\">Secondary</Button>);\n      expect(screen.getByRole('button')).toHaveStyle({ backgroundColor: '#e5e7eb' });\n\n      rerender(<Button variant=\"danger\">Danger</Button>);\n      expect(screen.getByRole('button')).toHaveStyle({ backgroundColor: '#ef4444' });\n\n      rerender(<Button variant=\"ghost\">Ghost</Button>);\n      expect(screen.getByRole('button')).toHaveStyle({ backgroundColor: 'transparent' });\n    });\n\n    it('should render with different sizes', () => {\n      const { rerender } = render(<Button size=\"sm\">Small</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-3', 'py-1.5', 'text-sm');\n\n      rerender(<Button size=\"md\">Medium</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-4', 'py-2', 'text-base');\n\n      rerender(<Button size=\"lg\">Large</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-6', 'py-3', 'text-lg');\n    });\n\n    it('should render full width when specified', () => {\n      render(<Button fullWidth>Full Width</Button>);\n      \n      expect(screen.getByRole('button')).toHaveClass('w-full');\n    });\n\n    it('should render with custom className', () => {\n      render(<Button className=\"custom-class\">Custom</Button>);\n      \n      expect(screen.getByRole('button')).toHaveClass('custom-class');\n    });\n\n    it('should render loading state', () => {\n      render(<Button loading>Loading</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toBeDisabled();\n      \n      // Check for loading spinner\n      const spinner = screen.getByRole('status', { name: 'Loading' });\n      expect(spinner).toBeInTheDocument();\n      expect(spinner).toHaveClass('animate-spin');\n    });\n\n    it('should render disabled state', () => {\n      render(<Button disabled>Disabled</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toBeDisabled();\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n      expect(button).toHaveClass('opacity-50', 'cursor-not-allowed');\n    });\n  });\n\n  // Test event handlers\n  describe('event handlers', () => {\n    it('should call onClick when clicked', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick}>Click me</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).toHaveBeenCalledTimes(1);\n    });\n\n    it('should not call onClick when disabled', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick} disabled>Disabled</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).not.toHaveBeenCalled();\n    });\n\n    it('should not call onClick when loading', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick} loading>Loading</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).not.toHaveBeenCalled();\n    });\n\n    it('should handle keyboard events', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick}>Click me</Button>);\n      \n      const button = screen.getByRole('button');\n      fireEvent.keyDown(button, { key: 'Enter' });\n      fireEvent.keyUp(button, { key: 'Enter' });\n      \n      // Button should still be clickable via keyboard\n      expect(button).toHaveAttribute('type', 'button');\n    });\n  });\n\n  // Test conditional rendering\n  describe('conditional rendering', () => {\n    it('should show loading spinner only when loading', () => {\n      const { rerender } = render(<Button>Not Loading</Button>);\n      expect(screen.queryByRole('status')).not.toBeInTheDocument();\n\n      rerender(<Button loading>Loading</Button>);\n      expect(screen.getByRole('status', { name: 'Loading' })).toBeInTheDocument();\n    });\n\n    it('should apply disabled styles when disabled or loading', () => {\n      const { rerender } = render(<Button disabled>Disabled</Button>);\n      expect(screen.getByRole('button')).toHaveClass('opacity-50');\n\n      rerender(<Button loading>Loading</Button>);\n      expect(screen.getByRole('button')).toHaveClass('opacity-50');\n\n      rerender(<Button>Normal</Button>);\n      expect(screen.getByRole('button')).not.toHaveClass('opacity-50');\n    });\n\n    it('should combine loading and disabled states correctly', () => {\n      render(<Button loading disabled>Both</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toBeDisabled();\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n  });\n\n  // Test accessibility\n  describe('accessibility', () => {\n    it('should have proper ARIA attributes', () => {\n      render(<Button>Accessible Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('type', 'button');\n      expect(button).toHaveAttribute('aria-busy', 'false');\n      expect(button).toHaveAttribute('aria-disabled', 'false');\n    });\n\n    it('should have proper ARIA attributes when loading', () => {\n      render(<Button loading>Loading Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n\n    it('should have proper ARIA attributes when disabled', () => {\n      render(<Button disabled>Disabled Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n\n    it('should have minimum touch target size', () => {\n      render(<Button size=\"sm\">Small Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveClass('min-h-[44px]');\n    });\n  });\n\n  // Test memoization\n  describe('memoization', () => {\n    it('should not re-render when props have not changed', () => {\n      const renderSpy = jest.fn();\n      \n      // Create a memoized wrapper to test Button's memo behavior\n      const TestButton = memo(function TestButton(props: any) {\n        renderSpy();\n        return <Button {...props}>Test</Button>;\n      });\n\n      const { rerender } = render(<TestButton variant=\"primary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(1);\n\n      // Re-render with same props\n      rerender(<TestButton variant=\"primary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(1); // Should not re-render due to memo\n\n      // Re-render with different props\n      rerender(<TestButton variant=\"secondary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(2); // Should re-render\n    });\n  });\n});"],"names":["describe","it","render","Button","button","screen","getByRole","name","expect","toBeInTheDocument","toHaveAttribute","not","toBeDisabled","type","rerender","variant","toHaveStyle","backgroundColor","size","toHaveClass","fullWidth","className","loading","spinner","disabled","handleClick","jest","fn","onClick","fireEvent","click","toHaveBeenCalledTimes","toHaveBeenCalled","keyDown","key","keyUp","queryByRole","renderSpy","TestButton","memo","props"],"mappings":"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"}