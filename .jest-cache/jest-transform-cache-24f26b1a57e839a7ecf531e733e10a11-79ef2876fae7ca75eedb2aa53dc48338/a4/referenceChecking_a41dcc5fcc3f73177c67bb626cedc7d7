6088db5fb345f20f356dc3cd541db1ab
/**
 * Reference Checking Utilities
 * 
 * Provides functions to check for references before deletion and
 * identify dependent records that would be affected by cascade deletion.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get checkActivityReferences () {
        return checkActivityReferences;
    },
    get checkContentPageReferences () {
        return checkContentPageReferences;
    },
    get checkEventReferences () {
        return checkEventReferences;
    }
});
const _supabasejs = require("@supabase/supabase-js");
const supabase = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);
async function checkContentPageReferences(pageId) {
    const dependentRecords = [];
    // Check for sections
    const { data: sections } = await supabase.from('sections').select('id, title').eq('page_type', 'custom').eq('page_id', pageId).is('deleted_at', null);
    if (sections && sections.length > 0) {
        dependentRecords.push({
            type: 'section',
            id: 'sections',
            name: 'Sections',
            count: sections.length
        });
        // Check for columns in those sections
        const sectionIds = sections.map((s)=>s.id);
        const { data: columns } = await supabase.from('columns').select('id').in('section_id', sectionIds).is('deleted_at', null);
        if (columns && columns.length > 0) {
            dependentRecords.push({
                type: 'column',
                id: 'columns',
                name: 'Columns',
                count: columns.length
            });
        }
    }
    // Check for references in other sections
    const { data: referencingSections } = await supabase.from('sections').select('id, title, page_type, page_id').contains('content', {
        references: [
            {
                type: 'content_page',
                id: pageId
            }
        ]
    }).is('deleted_at', null);
    if (referencingSections && referencingSections.length > 0) {
        dependentRecords.push({
            type: 'reference',
            id: 'references',
            name: 'References in other pages',
            count: referencingSections.length
        });
    }
    const totalCount = dependentRecords.reduce((sum, record)=>sum + (record.count || 0), 0);
    return {
        hasReferences: dependentRecords.length > 0,
        dependentRecords,
        totalCount
    };
}
async function checkEventReferences(eventId) {
    const dependentRecords = [];
    // Check for activities
    const { data: activities } = await supabase.from('activities').select('id, name').eq('event_id', eventId).is('deleted_at', null);
    if (activities && activities.length > 0) {
        dependentRecords.push({
            type: 'activity',
            id: 'activities',
            name: 'Activities',
            count: activities.length
        });
        // Check for RSVPs in those activities
        const activityIds = activities.map((a)=>a.id);
        const { data: rsvps } = await supabase.from('rsvps').select('id').in('activity_id', activityIds).is('deleted_at', null);
        if (rsvps && rsvps.length > 0) {
            dependentRecords.push({
                type: 'rsvp',
                id: 'rsvps',
                name: 'RSVPs',
                count: rsvps.length
            });
        }
    }
    // Check for references in sections
    const { data: referencingSections } = await supabase.from('sections').select('id, title, page_type, page_id').contains('content', {
        references: [
            {
                type: 'event',
                id: eventId
            }
        ]
    }).is('deleted_at', null);
    if (referencingSections && referencingSections.length > 0) {
        dependentRecords.push({
            type: 'reference',
            id: 'references',
            name: 'References in pages',
            count: referencingSections.length
        });
    }
    const totalCount = dependentRecords.reduce((sum, record)=>sum + (record.count || 0), 0);
    return {
        hasReferences: dependentRecords.length > 0,
        dependentRecords,
        totalCount
    };
}
async function checkActivityReferences(activityId) {
    const dependentRecords = [];
    // Check for RSVPs
    const { data: rsvps } = await supabase.from('rsvps').select('id').eq('activity_id', activityId).is('deleted_at', null);
    if (rsvps && rsvps.length > 0) {
        dependentRecords.push({
            type: 'rsvp',
            id: 'rsvps',
            name: 'RSVPs',
            count: rsvps.length
        });
    }
    // Check for references in sections
    const { data: referencingSections } = await supabase.from('sections').select('id, title, page_type, page_id').contains('content', {
        references: [
            {
                type: 'activity',
                id: activityId
            }
        ]
    }).is('deleted_at', null);
    if (referencingSections && referencingSections.length > 0) {
        dependentRecords.push({
            type: 'reference',
            id: 'references',
            name: 'References in pages',
            count: referencingSections.length
        });
    }
    const totalCount = dependentRecords.reduce((sum, record)=>sum + (record.count || 0), 0);
    return {
        hasReferences: dependentRecords.length > 0,
        dependentRecords,
        totalCount
    };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvdXRpbHMvcmVmZXJlbmNlQ2hlY2tpbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZWZlcmVuY2UgQ2hlY2tpbmcgVXRpbGl0aWVzXG4gKiBcbiAqIFByb3ZpZGVzIGZ1bmN0aW9ucyB0byBjaGVjayBmb3IgcmVmZXJlbmNlcyBiZWZvcmUgZGVsZXRpb24gYW5kXG4gKiBpZGVudGlmeSBkZXBlbmRlbnQgcmVjb3JkcyB0aGF0IHdvdWxkIGJlIGFmZmVjdGVkIGJ5IGNhc2NhZGUgZGVsZXRpb24uXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkhXG4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIERlcGVuZGVudFJlY29yZCB7XG4gIHR5cGU6ICdzZWN0aW9uJyB8ICdjb2x1bW4nIHwgJ2FjdGl2aXR5JyB8ICdyc3ZwJyB8ICdyZWZlcmVuY2UnO1xuICBpZDogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBjb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWZlcmVuY2VDaGVja1Jlc3VsdCB7XG4gIGhhc1JlZmVyZW5jZXM6IGJvb2xlYW47XG4gIGRlcGVuZGVudFJlY29yZHM6IERlcGVuZGVudFJlY29yZFtdO1xuICB0b3RhbENvdW50OiBudW1iZXI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGZvciByZWZlcmVuY2VzIHRvIGEgY29udGVudCBwYWdlIGJlZm9yZSBkZWxldGlvblxuICogXG4gKiBAcGFyYW0gcGFnZUlkIC0gQ29udGVudCBwYWdlIElEXG4gKiBAcmV0dXJucyBSZWZlcmVuY2UgY2hlY2sgcmVzdWx0IHdpdGggbGlzdCBvZiBkZXBlbmRlbnQgcmVjb3Jkc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tDb250ZW50UGFnZVJlZmVyZW5jZXMocGFnZUlkOiBzdHJpbmcpOiBQcm9taXNlPFJlZmVyZW5jZUNoZWNrUmVzdWx0PiB7XG4gIGNvbnN0IGRlcGVuZGVudFJlY29yZHM6IERlcGVuZGVudFJlY29yZFtdID0gW107XG5cbiAgLy8gQ2hlY2sgZm9yIHNlY3Rpb25zXG4gIGNvbnN0IHsgZGF0YTogc2VjdGlvbnMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3NlY3Rpb25zJylcbiAgICAuc2VsZWN0KCdpZCwgdGl0bGUnKVxuICAgIC5lcSgncGFnZV90eXBlJywgJ2N1c3RvbScpXG4gICAgLmVxKCdwYWdlX2lkJywgcGFnZUlkKVxuICAgIC5pcygnZGVsZXRlZF9hdCcsIG51bGwpO1xuXG4gIGlmIChzZWN0aW9ucyAmJiBzZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgZGVwZW5kZW50UmVjb3Jkcy5wdXNoKHtcbiAgICAgIHR5cGU6ICdzZWN0aW9uJyxcbiAgICAgIGlkOiAnc2VjdGlvbnMnLFxuICAgICAgbmFtZTogJ1NlY3Rpb25zJyxcbiAgICAgIGNvdW50OiBzZWN0aW9ucy5sZW5ndGgsXG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBmb3IgY29sdW1ucyBpbiB0aG9zZSBzZWN0aW9uc1xuICAgIGNvbnN0IHNlY3Rpb25JZHMgPSBzZWN0aW9ucy5tYXAoKHMpID0+IHMuaWQpO1xuICAgIGNvbnN0IHsgZGF0YTogY29sdW1ucyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjb2x1bW5zJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5pbignc2VjdGlvbl9pZCcsIHNlY3Rpb25JZHMpXG4gICAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKTtcblxuICAgIGlmIChjb2x1bW5zICYmIGNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgZGVwZW5kZW50UmVjb3Jkcy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvbHVtbicsXG4gICAgICAgIGlkOiAnY29sdW1ucycsXG4gICAgICAgIG5hbWU6ICdDb2x1bW5zJyxcbiAgICAgICAgY291bnQ6IGNvbHVtbnMubGVuZ3RoLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIHJlZmVyZW5jZXMgaW4gb3RoZXIgc2VjdGlvbnNcbiAgY29uc3QgeyBkYXRhOiByZWZlcmVuY2luZ1NlY3Rpb25zIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdzZWN0aW9ucycpXG4gICAgLnNlbGVjdCgnaWQsIHRpdGxlLCBwYWdlX3R5cGUsIHBhZ2VfaWQnKVxuICAgIC5jb250YWlucygnY29udGVudCcsIHsgcmVmZXJlbmNlczogW3sgdHlwZTogJ2NvbnRlbnRfcGFnZScsIGlkOiBwYWdlSWQgfV0gfSlcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKTtcblxuICBpZiAocmVmZXJlbmNpbmdTZWN0aW9ucyAmJiByZWZlcmVuY2luZ1NlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICBkZXBlbmRlbnRSZWNvcmRzLnB1c2goe1xuICAgICAgdHlwZTogJ3JlZmVyZW5jZScsXG4gICAgICBpZDogJ3JlZmVyZW5jZXMnLFxuICAgICAgbmFtZTogJ1JlZmVyZW5jZXMgaW4gb3RoZXIgcGFnZXMnLFxuICAgICAgY291bnQ6IHJlZmVyZW5jaW5nU2VjdGlvbnMubGVuZ3RoLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgdG90YWxDb3VudCA9IGRlcGVuZGVudFJlY29yZHMucmVkdWNlKChzdW0sIHJlY29yZCkgPT4gc3VtICsgKHJlY29yZC5jb3VudCB8fCAwKSwgMCk7XG5cbiAgcmV0dXJuIHtcbiAgICBoYXNSZWZlcmVuY2VzOiBkZXBlbmRlbnRSZWNvcmRzLmxlbmd0aCA+IDAsXG4gICAgZGVwZW5kZW50UmVjb3JkcyxcbiAgICB0b3RhbENvdW50LFxuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBmb3IgcmVmZXJlbmNlcyB0byBhbiBldmVudCBiZWZvcmUgZGVsZXRpb25cbiAqIFxuICogQHBhcmFtIGV2ZW50SWQgLSBFdmVudCBJRFxuICogQHJldHVybnMgUmVmZXJlbmNlIGNoZWNrIHJlc3VsdCB3aXRoIGxpc3Qgb2YgZGVwZW5kZW50IHJlY29yZHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrRXZlbnRSZWZlcmVuY2VzKGV2ZW50SWQ6IHN0cmluZyk6IFByb21pc2U8UmVmZXJlbmNlQ2hlY2tSZXN1bHQ+IHtcbiAgY29uc3QgZGVwZW5kZW50UmVjb3JkczogRGVwZW5kZW50UmVjb3JkW10gPSBbXTtcblxuICAvLyBDaGVjayBmb3IgYWN0aXZpdGllc1xuICBjb25zdCB7IGRhdGE6IGFjdGl2aXRpZXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2FjdGl2aXRpZXMnKVxuICAgIC5zZWxlY3QoJ2lkLCBuYW1lJylcbiAgICAuZXEoJ2V2ZW50X2lkJywgZXZlbnRJZClcbiAgICAuaXMoJ2RlbGV0ZWRfYXQnLCBudWxsKTtcblxuICBpZiAoYWN0aXZpdGllcyAmJiBhY3Rpdml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICBkZXBlbmRlbnRSZWNvcmRzLnB1c2goe1xuICAgICAgdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgIGlkOiAnYWN0aXZpdGllcycsXG4gICAgICBuYW1lOiAnQWN0aXZpdGllcycsXG4gICAgICBjb3VudDogYWN0aXZpdGllcy5sZW5ndGgsXG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBmb3IgUlNWUHMgaW4gdGhvc2UgYWN0aXZpdGllc1xuICAgIGNvbnN0IGFjdGl2aXR5SWRzID0gYWN0aXZpdGllcy5tYXAoKGEpID0+IGEuaWQpO1xuICAgIGNvbnN0IHsgZGF0YTogcnN2cHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncnN2cHMnKVxuICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgLmluKCdhY3Rpdml0eV9pZCcsIGFjdGl2aXR5SWRzKVxuICAgICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbCk7XG5cbiAgICBpZiAocnN2cHMgJiYgcnN2cHMubGVuZ3RoID4gMCkge1xuICAgICAgZGVwZW5kZW50UmVjb3Jkcy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3JzdnAnLFxuICAgICAgICBpZDogJ3JzdnBzJyxcbiAgICAgICAgbmFtZTogJ1JTVlBzJyxcbiAgICAgICAgY291bnQ6IHJzdnBzLmxlbmd0aCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIGZvciByZWZlcmVuY2VzIGluIHNlY3Rpb25zXG4gIGNvbnN0IHsgZGF0YTogcmVmZXJlbmNpbmdTZWN0aW9ucyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnc2VjdGlvbnMnKVxuICAgIC5zZWxlY3QoJ2lkLCB0aXRsZSwgcGFnZV90eXBlLCBwYWdlX2lkJylcbiAgICAuY29udGFpbnMoJ2NvbnRlbnQnLCB7IHJlZmVyZW5jZXM6IFt7IHR5cGU6ICdldmVudCcsIGlkOiBldmVudElkIH1dIH0pXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbCk7XG5cbiAgaWYgKHJlZmVyZW5jaW5nU2VjdGlvbnMgJiYgcmVmZXJlbmNpbmdTZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgZGVwZW5kZW50UmVjb3Jkcy5wdXNoKHtcbiAgICAgIHR5cGU6ICdyZWZlcmVuY2UnLFxuICAgICAgaWQ6ICdyZWZlcmVuY2VzJyxcbiAgICAgIG5hbWU6ICdSZWZlcmVuY2VzIGluIHBhZ2VzJyxcbiAgICAgIGNvdW50OiByZWZlcmVuY2luZ1NlY3Rpb25zLmxlbmd0aCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsQ291bnQgPSBkZXBlbmRlbnRSZWNvcmRzLnJlZHVjZSgoc3VtLCByZWNvcmQpID0+IHN1bSArIChyZWNvcmQuY291bnQgfHwgMCksIDApO1xuXG4gIHJldHVybiB7XG4gICAgaGFzUmVmZXJlbmNlczogZGVwZW5kZW50UmVjb3Jkcy5sZW5ndGggPiAwLFxuICAgIGRlcGVuZGVudFJlY29yZHMsXG4gICAgdG90YWxDb3VudCxcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgZm9yIHJlZmVyZW5jZXMgdG8gYW4gYWN0aXZpdHkgYmVmb3JlIGRlbGV0aW9uXG4gKiBcbiAqIEBwYXJhbSBhY3Rpdml0eUlkIC0gQWN0aXZpdHkgSURcbiAqIEByZXR1cm5zIFJlZmVyZW5jZSBjaGVjayByZXN1bHQgd2l0aCBsaXN0IG9mIGRlcGVuZGVudCByZWNvcmRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0FjdGl2aXR5UmVmZXJlbmNlcyhhY3Rpdml0eUlkOiBzdHJpbmcpOiBQcm9taXNlPFJlZmVyZW5jZUNoZWNrUmVzdWx0PiB7XG4gIGNvbnN0IGRlcGVuZGVudFJlY29yZHM6IERlcGVuZGVudFJlY29yZFtdID0gW107XG5cbiAgLy8gQ2hlY2sgZm9yIFJTVlBzXG4gIGNvbnN0IHsgZGF0YTogcnN2cHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3JzdnBzJylcbiAgICAuc2VsZWN0KCdpZCcpXG4gICAgLmVxKCdhY3Rpdml0eV9pZCcsIGFjdGl2aXR5SWQpXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbCk7XG5cbiAgaWYgKHJzdnBzICYmIHJzdnBzLmxlbmd0aCA+IDApIHtcbiAgICBkZXBlbmRlbnRSZWNvcmRzLnB1c2goe1xuICAgICAgdHlwZTogJ3JzdnAnLFxuICAgICAgaWQ6ICdyc3ZwcycsXG4gICAgICBuYW1lOiAnUlNWUHMnLFxuICAgICAgY291bnQ6IHJzdnBzLmxlbmd0aCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIGZvciByZWZlcmVuY2VzIGluIHNlY3Rpb25zXG4gIGNvbnN0IHsgZGF0YTogcmVmZXJlbmNpbmdTZWN0aW9ucyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnc2VjdGlvbnMnKVxuICAgIC5zZWxlY3QoJ2lkLCB0aXRsZSwgcGFnZV90eXBlLCBwYWdlX2lkJylcbiAgICAuY29udGFpbnMoJ2NvbnRlbnQnLCB7IHJlZmVyZW5jZXM6IFt7IHR5cGU6ICdhY3Rpdml0eScsIGlkOiBhY3Rpdml0eUlkIH1dIH0pXG4gICAgLmlzKCdkZWxldGVkX2F0JywgbnVsbCk7XG5cbiAgaWYgKHJlZmVyZW5jaW5nU2VjdGlvbnMgJiYgcmVmZXJlbmNpbmdTZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgZGVwZW5kZW50UmVjb3Jkcy5wdXNoKHtcbiAgICAgIHR5cGU6ICdyZWZlcmVuY2UnLFxuICAgICAgaWQ6ICdyZWZlcmVuY2VzJyxcbiAgICAgIG5hbWU6ICdSZWZlcmVuY2VzIGluIHBhZ2VzJyxcbiAgICAgIGNvdW50OiByZWZlcmVuY2luZ1NlY3Rpb25zLmxlbmd0aCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsQ291bnQgPSBkZXBlbmRlbnRSZWNvcmRzLnJlZHVjZSgoc3VtLCByZWNvcmQpID0+IHN1bSArIChyZWNvcmQuY291bnQgfHwgMCksIDApO1xuXG4gIHJldHVybiB7XG4gICAgaGFzUmVmZXJlbmNlczogZGVwZW5kZW50UmVjb3Jkcy5sZW5ndGggPiAwLFxuICAgIGRlcGVuZGVudFJlY29yZHMsXG4gICAgdG90YWxDb3VudCxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJjaGVja0FjdGl2aXR5UmVmZXJlbmNlcyIsImNoZWNrQ29udGVudFBhZ2VSZWZlcmVuY2VzIiwiY2hlY2tFdmVudFJlZmVyZW5jZXMiLCJzdXBhYmFzZSIsImNyZWF0ZUNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwicGFnZUlkIiwiZGVwZW5kZW50UmVjb3JkcyIsImRhdGEiLCJzZWN0aW9ucyIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlzIiwibGVuZ3RoIiwicHVzaCIsInR5cGUiLCJpZCIsIm5hbWUiLCJjb3VudCIsInNlY3Rpb25JZHMiLCJtYXAiLCJzIiwiY29sdW1ucyIsImluIiwicmVmZXJlbmNpbmdTZWN0aW9ucyIsImNvbnRhaW5zIiwicmVmZXJlbmNlcyIsInRvdGFsQ291bnQiLCJyZWR1Y2UiLCJzdW0iLCJyZWNvcmQiLCJoYXNSZWZlcmVuY2VzIiwiZXZlbnRJZCIsImFjdGl2aXRpZXMiLCJhY3Rpdml0eUlkcyIsImEiLCJyc3ZwcyIsImFjdGl2aXR5SWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7Ozs7Ozs7OztRQW1LcUJBO2VBQUFBOztRQXZJQUM7ZUFBQUE7O1FBb0VBQztlQUFBQTs7OzRCQTlGTztBQUU3QixNQUFNQyxXQUFXQyxJQUFBQSx3QkFBWSxFQUMzQkMsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsRUFDcENGLFFBQVFDLEdBQUcsQ0FBQ0UseUJBQXlCO0FBc0JoQyxlQUFlUCwyQkFBMkJRLE1BQWM7SUFDN0QsTUFBTUMsbUJBQXNDLEVBQUU7SUFFOUMscUJBQXFCO0lBQ3JCLE1BQU0sRUFBRUMsTUFBTUMsUUFBUSxFQUFFLEdBQUcsTUFBTVQsU0FDOUJVLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsYUFDUEMsRUFBRSxDQUFDLGFBQWEsVUFDaEJBLEVBQUUsQ0FBQyxXQUFXTixRQUNkTyxFQUFFLENBQUMsY0FBYztJQUVwQixJQUFJSixZQUFZQSxTQUFTSyxNQUFNLEdBQUcsR0FBRztRQUNuQ1AsaUJBQWlCUSxJQUFJLENBQUM7WUFDcEJDLE1BQU07WUFDTkMsSUFBSTtZQUNKQyxNQUFNO1lBQ05DLE9BQU9WLFNBQVNLLE1BQU07UUFDeEI7UUFFQSxzQ0FBc0M7UUFDdEMsTUFBTU0sYUFBYVgsU0FBU1ksR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVMLEVBQUU7UUFDM0MsTUFBTSxFQUFFVCxNQUFNZSxPQUFPLEVBQUUsR0FBRyxNQUFNdkIsU0FDN0JVLElBQUksQ0FBQyxXQUNMQyxNQUFNLENBQUMsTUFDUGEsRUFBRSxDQUFDLGNBQWNKLFlBQ2pCUCxFQUFFLENBQUMsY0FBYztRQUVwQixJQUFJVSxXQUFXQSxRQUFRVCxNQUFNLEdBQUcs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