6f7e04f889d1f9b531aaf18d117cf02a
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "AdminUserManager", {
    enumerable: true,
    get: function() {
        return AdminUserManager;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _DataTable = require("../ui/DataTable");
const _Button = require("../ui/Button");
const _ToastContext = require("../ui/ToastContext");
const _ConfirmDialog = require("../ui/ConfirmDialog");
function AdminUserManager({ currentUserId, currentUserRole }) {
    const [users, setUsers] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [showForm, setShowForm] = (0, _react.useState)(false);
    const [editingUser, setEditingUser] = (0, _react.useState)(null);
    const [formData, setFormData] = (0, _react.useState)({
        email: '',
        role: 'admin'
    });
    const [submitting, setSubmitting] = (0, _react.useState)(false);
    const [confirmDialog, setConfirmDialog] = (0, _react.useState)({
        isOpen: false,
        title: '',
        message: '',
        onConfirm: async ()=>{}
    });
    const { addToast } = (0, _ToastContext.useToast)();
    // Fetch admin users
    const fetchUsers = (0, _react.useCallback)(async ()=>{
        setLoading(true);
        try {
            const response = await fetch('/api/admin/admin-users');
            const result = await response.json();
            if (result.success) {
                setUsers(result.data || []);
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to load admin users'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: 'Failed to load admin users'
            });
        } finally{
            setLoading(false);
        }
    }, [
        addToast
    ]);
    (0, _react.useEffect)(()=>{
        fetchUsers();
    }, [
        fetchUsers
    ]);
    // Handle form submission
    const handleSubmit = async (e)=>{
        e.preventDefault();
        if (!formData.email.trim()) {
            addToast({
                type: 'error',
                message: 'Please enter an email address'
            });
            return;
        }
        setSubmitting(true);
        try {
            const url = editingUser ? `/api/admin/admin-users/${editingUser.id}` : '/api/admin/admin-users';
            const method = editingUser ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: editingUser ? 'Admin user updated successfully' : 'Admin user created and invitation sent'
                });
                setShowForm(false);
                setEditingUser(null);
                setFormData({
                    email: '',
                    role: 'admin'
                });
                fetchUsers();
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to save admin user'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: 'Failed to save admin user'
            });
        } finally{
            setSubmitting(false);
        }
    };
    // Handle edit
    const handleEdit = (user)=>{
        if (currentUserRole !== 'owner') {
            addToast({
                type: 'error',
                message: 'Only owners can edit admin users'
            });
            return;
        }
        setEditingUser(user);
        setFormData({
            email: user.email,
            role: user.role
        });
        setShowForm(true);
    };
    // Handle deactivate
    const handleDeactivate = (user)=>{
        if (currentUserRole !== 'owner') {
            addToast({
                type: 'error',
                message: 'Only owners can deactivate admin users'
            });
            return;
        }
        setConfirmDialog({
            isOpen: true,
            title: 'Deactivate Admin User',
            message: `Are you sure you want to deactivate ${user.email}? They will no longer be able to log in.`,
            onConfirm: async ()=>{
                try {
                    const response = await fetch(`/api/admin/admin-users/${user.id}/deactivate`, {
                        method: 'POST'
                    });
                    const result = await response.json();
                    if (result.success) {
                        addToast({
                            type: 'success',
                            message: 'Admin user deactivated successfully'
                        });
                        fetchUsers();
                    } else {
                        addToast({
                            type: 'error',
                            message: result.error?.message || 'Failed to deactivate admin user'
                        });
                    }
                } catch (error) {
                    addToast({
                        type: 'error',
                        message: 'Failed to deactivate admin user'
                    });
                }
                setConfirmDialog({
                    ...confirmDialog,
                    isOpen: false
                });
            }
        });
    };
    // Handle delete
    const handleDelete = (user)=>{
        if (currentUserRole !== 'owner') {
            addToast({
                type: 'error',
                message: 'Only owners can delete admin users'
            });
            return;
        }
        setConfirmDialog({
            isOpen: true,
            title: 'Delete Admin User',
            message: `Are you sure you want to permanently delete ${user.email}? This action cannot be undone.`,
            onConfirm: async ()=>{
                try {
                    const response = await fetch(`/api/admin/admin-users/${user.id}`, {
                        method: 'DELETE'
                    });
                    const result = await response.json();
                    if (result.success) {
                        addToast({
                            type: 'success',
                            message: 'Admin user deleted successfully'
                        });
                        fetchUsers();
                    } else {
                        addToast({
                            type: 'error',
                            message: result.error?.message || 'Failed to delete admin user'
                        });
                    }
                } catch (error) {
                    addToast({
                        type: 'error',
                        message: 'Failed to delete admin user'
                    });
                }
                setConfirmDialog({
                    ...confirmDialog,
                    isOpen: false
                });
            }
        });
    };
    // Handle resend invitation
    const handleResendInvitation = async (user)=>{
        try {
            const response = await fetch(`/api/admin/admin-users/${user.id}/invite`, {
                method: 'POST'
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: 'Invitation email sent successfully'
                });
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to send invitation'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: 'Failed to send invitation'
            });
        }
    };
    // Table columns
    const columns = [
        {
            key: 'email',
            label: 'Email',
            sortable: true
        },
        {
            key: 'role',
            label: 'Role',
            sortable: true,
            render: (user)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    className: `px-2 py-1 rounded-full text-xs font-medium ${user.role === 'owner' ? 'bg-jungle-100 text-jungle-800' : 'bg-sage-100 text-sage-800'}`,
                    children: user.role === 'owner' ? 'Owner' : 'Admin'
                })
        },
        {
            key: 'status',
            label: 'Status',
            sortable: true,
            render: (user)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    className: `px-2 py-1 rounded-full text-xs font-medium ${user.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,
                    children: user.status === 'active' ? 'Active' : 'Inactive'
                })
        },
        {
            key: 'lastLoginAt',
            label: 'Last Login',
            sortable: true,
            render: (user)=>user.lastLoginAt ? new Date(user.lastLoginAt).toLocaleDateString() : 'Never'
        },
        {
            key: 'actions',
            label: 'Actions',
            render: (user)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex gap-2",
                    children: [
                        currentUserRole === 'owner' && user.id !== currentUserId && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: ()=>handleEdit(user),
                                    "aria-label": "Edit user",
                                    children: "Edit"
                                }),
                                user.status === 'active' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: ()=>handleDeactivate(user),
                                    "aria-label": "Deactivate user",
                                    children: "Deactivate"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    variant: "ghost",
                                    size: "sm",
                                    onClick: ()=>handleDelete(user),
                                    className: "text-red-600 hover:text-red-700",
                                    "aria-label": "Delete user",
                                    children: "Delete"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "ghost",
                            size: "sm",
                            onClick: ()=>handleResendInvitation(user),
                            "aria-label": "Resend invitation",
                            children: "Resend Invite"
                        })
                    ]
                })
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                className: "text-2xl font-bold text-sage-900",
                                children: "Admin Users"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sage-600 mt-1",
                                children: "Manage admin users who can access the admin dashboard"
                            })
                        ]
                    }),
                    currentUserRole === 'owner' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        variant: "primary",
                        onClick: ()=>{
                            setEditingUser(null);
                            setFormData({
                                email: '',
                                role: 'admin'
                            });
                            setShowForm(true);
                        },
                        children: "Add Admin User"
                    })
                ]
            }),
            showForm && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-white rounded-xl shadow-2xl max-w-md w-full",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "px-6 py-4 border-b border-sage-200",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: "text-xl font-bold text-sage-900",
                                children: editingUser ? 'Edit Admin User' : 'Add Admin User'
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                            onSubmit: handleSubmit,
                            className: "px-6 py-4 space-y-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                            htmlFor: "email",
                                            className: "block text-sm font-medium text-sage-700 mb-1",
                                            children: "Email *"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "email",
                                            id: "email",
                                            value: formData.email,
                                            onChange: (e)=>setFormData({
                                                    ...formData,
                                                    email: e.target.value
                                                }),
                                            className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500",
                                            required: true,
                                            disabled: !!editingUser
                                        }),
                                        editingUser && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "mt-1 text-sm text-sage-500",
                                            children: "Email cannot be changed after creation"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                            htmlFor: "role",
                                            className: "block text-sm font-medium text-sage-700 mb-1",
                                            children: "Role *"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                            id: "role",
                                            value: formData.role,
                                            onChange: (e)=>setFormData({
                                                    ...formData,
                                                    role: e.target.value
                                                }),
                                            className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-jungle-500",
                                            required: true,
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                    value: "admin",
                                                    children: "Admin"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                    value: "owner",
                                                    children: "Owner"
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "mt-1 text-sm text-sage-500",
                                            children: "Owners have full access including user management"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "px-6 py-4 border-t border-sage-200 flex items-center justify-end gap-3",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    type: "button",
                                    variant: "secondary",
                                    onClick: ()=>{
                                        setShowForm(false);
                                        setEditingUser(null);
                                        setFormData({
                                            email: '',
                                            role: 'admin'
                                        });
                                    },
                                    disabled: submitting,
                                    children: "Cancel"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                    type: "submit",
                                    variant: "primary",
                                    onClick: handleSubmit,
                                    disabled: submitting,
                                    children: submitting ? /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"
                                            }),
                                            "Saving..."
                                        ]
                                    }) : editingUser ? 'Update' : 'Create & Send Invitation'
                                })
                            ]
                        })
                    ]
                })
            }),
            loading ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-12",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-jungle-500"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "mt-2 text-sage-600",
                        children: "Loading admin users..."
                    })
                ]
            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_DataTable.DataTable, {
                data: users,
                columns: columns
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_ConfirmDialog.ConfirmDialog, {
                isOpen: confirmDialog.isOpen,
                title: confirmDialog.title,
                message: confirmDialog.message,
                onConfirm: confirmDialog.onConfirm,
                onClose: ()=>setConfirmDialog({
                        ...confirmDialog,
                        isOpen: false
                    })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9BZG1pblVzZXJNYW5hZ2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGF0YVRhYmxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0RhdGFUYWJsZSc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQnV0dG9uJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL1RvYXN0Q29udGV4dCc7XG5pbXBvcnQgeyBDb25maXJtRGlhbG9nIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0NvbmZpcm1EaWFsb2cnO1xuaW1wb3J0IHR5cGUgeyBBZG1pblVzZXIgfSBmcm9tICdAL3NlcnZpY2VzL2FkbWluVXNlclNlcnZpY2UnO1xuXG5pbnRlcmZhY2UgQWRtaW5Vc2VyTWFuYWdlclByb3BzIHtcbiAgY3VycmVudFVzZXJJZDogc3RyaW5nO1xuICBjdXJyZW50VXNlclJvbGU6ICdhZG1pbicgfCAnb3duZXInO1xufVxuXG5pbnRlcmZhY2UgQWRtaW5Vc2VyRm9ybURhdGEge1xuICBlbWFpbDogc3RyaW5nO1xuICByb2xlOiAnYWRtaW4nIHwgJ293bmVyJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFkbWluVXNlck1hbmFnZXIoeyBjdXJyZW50VXNlcklkLCBjdXJyZW50VXNlclJvbGUgfTogQWRtaW5Vc2VyTWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGU8QWRtaW5Vc2VyW10+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93Rm9ybSwgc2V0U2hvd0Zvcm1dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZWRpdGluZ1VzZXIsIHNldEVkaXRpbmdVc2VyXSA9IHVzZVN0YXRlPEFkbWluVXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlPEFkbWluVXNlckZvcm1EYXRhPih7XG4gICAgZW1haWw6ICcnLFxuICAgIHJvbGU6ICdhZG1pbicsXG4gIH0pO1xuICBjb25zdCBbc3VibWl0dGluZywgc2V0U3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb25maXJtRGlhbG9nLCBzZXRDb25maXJtRGlhbG9nXSA9IHVzZVN0YXRlPHtcbiAgICBpc09wZW46IGJvb2xlYW47XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgb25Db25maXJtOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB9Pih7XG4gICAgaXNPcGVuOiBmYWxzZSxcbiAgICB0aXRsZTogJycsXG4gICAgbWVzc2FnZTogJycsXG4gICAgb25Db25maXJtOiBhc3luYyAoKSA9PiB7fSxcbiAgfSk7XG4gIGNvbnN0IHsgYWRkVG9hc3QgfSA9IHVzZVRvYXN0KCk7XG5cbiAgLy8gRmV0Y2ggYWRtaW4gdXNlcnNcbiAgY29uc3QgZmV0Y2hVc2VycyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL2FkbWluLXVzZXJzJyk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRVc2VycyhyZXN1bHQuZGF0YSB8fCBbXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGFkbWluIHVzZXJzJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkIGFkbWluIHVzZXJzJyxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFthZGRUb2FzdF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hVc2VycygpO1xuICB9LCBbZmV0Y2hVc2Vyc10pO1xuXG4gIC8vIEhhbmRsZSBmb3JtIHN1Ym1pc3Npb25cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICghZm9ybURhdGEuZW1haWwudHJpbSgpKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYW4gZW1haWwgYWRkcmVzcycsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBlZGl0aW5nVXNlclxuICAgICAgICA/IGAvYXBpL2FkbWluL2FkbWluLXVzZXJzLyR7ZWRpdGluZ1VzZXIuaWR9YFxuICAgICAgICA6ICcvYXBpL2FkbWluL2FkbWluLXVzZXJzJztcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGVkaXRpbmdVc2VyID8gJ1BVVCcgOiAnUE9TVCc7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIG1lc3NhZ2U6IGVkaXRpbmdVc2VyXG4gICAgICAgICAgICA/ICdBZG1pbiB1c2VyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgICAgICAgOiAnQWRtaW4gdXNlciBjcmVhdGVkIGFuZCBpbnZpdGF0aW9uIHNlbnQnLFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0U2hvd0Zvcm0oZmFsc2UpO1xuICAgICAgICBzZXRFZGl0aW5nVXNlcihudWxsKTtcbiAgICAgICAgc2V0Rm9ybURhdGEoeyBlbWFpbDogJycsIHJvbGU6ICdhZG1pbicgfSk7XG4gICAgICAgIGZldGNoVXNlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNhdmUgYWRtaW4gdXNlcicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2F2ZSBhZG1pbiB1c2VyJyxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIGVkaXRcbiAgY29uc3QgaGFuZGxlRWRpdCA9ICh1c2VyOiBBZG1pblVzZXIpID0+IHtcbiAgICBpZiAoY3VycmVudFVzZXJSb2xlICE9PSAnb3duZXInKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdPbmx5IG93bmVycyBjYW4gZWRpdCBhZG1pbiB1c2VycycsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRFZGl0aW5nVXNlcih1c2VyKTtcbiAgICBzZXRGb3JtRGF0YSh7XG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICB9KTtcbiAgICBzZXRTaG93Rm9ybSh0cnVlKTtcbiAgfTtcblxuICAvLyBIYW5kbGUgZGVhY3RpdmF0ZVxuICBjb25zdCBoYW5kbGVEZWFjdGl2YXRlID0gKHVzZXI6IEFkbWluVXNlcikgPT4ge1xuICAgIGlmIChjdXJyZW50VXNlclJvbGUgIT09ICdvd25lcicpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ09ubHkgb3duZXJzIGNhbiBkZWFjdGl2YXRlIGFkbWluIHVzZXJzJyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldENvbmZpcm1EaWFsb2coe1xuICAgICAgaXNPcGVuOiB0cnVlLFxuICAgICAgdGl0bGU6ICdEZWFjdGl2YXRlIEFkbWluIFVzZXInLFxuICAgICAgbWVzc2FnZTogYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWFjdGl2YXRlICR7dXNlci5lbWFpbH0/IFRoZXkgd2lsbCBubyBsb25nZXIgYmUgYWJsZSB0byBsb2cgaW4uYCxcbiAgICAgIG9uQ29uZmlybTogYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWRtaW4vYWRtaW4tdXNlcnMvJHt1c2VyLmlkfS9kZWFjdGl2YXRlYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnQWRtaW4gdXNlciBkZWFjdGl2YXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmZXRjaFVzZXJzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVhY3RpdmF0ZSBhZG1pbiB1c2VyJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBkZWFjdGl2YXRlIGFkbWluIHVzZXInLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldENvbmZpcm1EaWFsb2coeyAuLi5jb25maXJtRGlhbG9nLCBpc09wZW46IGZhbHNlIH0pO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvLyBIYW5kbGUgZGVsZXRlXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9ICh1c2VyOiBBZG1pblVzZXIpID0+IHtcbiAgICBpZiAoY3VycmVudFVzZXJSb2xlICE9PSAnb3duZXInKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdPbmx5IG93bmVycyBjYW4gZGVsZXRlIGFkbWluIHVzZXJzJyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldENvbmZpcm1EaWFsb2coe1xuICAgICAgaXNPcGVuOiB0cnVlLFxuICAgICAgdGl0bGU6ICdEZWxldGUgQWRtaW4gVXNlcicsXG4gICAgICBtZXNzYWdlOiBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHBlcm1hbmVudGx5IGRlbGV0ZSAke3VzZXIuZW1haWx9PyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLmAsXG4gICAgICBvbkNvbmZpcm06IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL2FkbWluLXVzZXJzLyR7dXNlci5pZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ0FkbWluIHVzZXIgZGVsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmZXRjaFVzZXJzKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIGFkbWluIHVzZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGRlbGV0ZSBhZG1pbiB1c2VyJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRDb25maXJtRGlhbG9nKHsgLi4uY29uZmlybURpYWxvZywgaXNPcGVuOiBmYWxzZSB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHJlc2VuZCBpbnZpdGF0aW9uXG4gIGNvbnN0IGhhbmRsZVJlc2VuZEludml0YXRpb24gPSBhc3luYyAodXNlcjogQWRtaW5Vc2VyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWRtaW4vYWRtaW4tdXNlcnMvJHt1c2VyLmlkfS9pbnZpdGVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgbWVzc2FnZTogJ0ludml0YXRpb24gZW1haWwgc2VudCBzdWNjZXNzZnVsbHknLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQgaW52aXRhdGlvbicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2VuZCBpbnZpdGF0aW9uJyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBUYWJsZSBjb2x1bW5zXG4gIGNvbnN0IGNvbHVtbnMgPSBbXG4gICAge1xuICAgICAga2V5OiAnZW1haWwnLFxuICAgICAgbGFiZWw6ICdFbWFpbCcsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ3JvbGUnLFxuICAgICAgbGFiZWw6ICdSb2xlJyxcbiAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgcmVuZGVyOiAodXNlcjogQWRtaW5Vc2VyKSA9PiAoXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICB1c2VyLnJvbGUgPT09ICdvd25lcidcbiAgICAgICAgICAgICAgPyAnYmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS04MDAnXG4gICAgICAgICAgICAgIDogJ2JnLXNhZ2UtMTAwIHRleHQtc2FnZS04MDAnXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7dXNlci5yb2xlID09PSAnb3duZXInID8gJ093bmVyJyA6ICdBZG1pbid9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICksXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdzdGF0dXMnLFxuICAgICAgbGFiZWw6ICdTdGF0dXMnLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICByZW5kZXI6ICh1c2VyOiBBZG1pblVzZXIpID0+IChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9e2BweC0yIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICAgIHVzZXIuc3RhdHVzID09PSAnYWN0aXZlJ1xuICAgICAgICAgICAgICA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAnXG4gICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAge3VzZXIuc3RhdHVzID09PSAnYWN0aXZlJyA/ICdBY3RpdmUnIDogJ0luYWN0aXZlJ31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2xhc3RMb2dpbkF0JyxcbiAgICAgIGxhYmVsOiAnTGFzdCBMb2dpbicsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIHJlbmRlcjogKHVzZXI6IEFkbWluVXNlcikgPT5cbiAgICAgICAgdXNlci5sYXN0TG9naW5BdFxuICAgICAgICAgID8gbmV3IERhdGUodXNlci5sYXN0TG9naW5BdCkudG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICAgICAgICA6ICdOZXZlcicsXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdhY3Rpb25zJyxcbiAgICAgIGxhYmVsOiAnQWN0aW9ucycsXG4gICAgICByZW5kZXI6ICh1c2VyOiBBZG1pblVzZXIpID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAge2N1cnJlbnRVc2VyUm9sZSA9PT0gJ293bmVyJyAmJiB1c2VyLmlkICE9PSBjdXJyZW50VXNlcklkICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRWRpdCh1c2VyKX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRWRpdCB1c2VyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEVkaXRcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIHt1c2VyLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVhY3RpdmF0ZSh1c2VyKX1cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEZWFjdGl2YXRlIHVzZXJcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIERlYWN0aXZhdGVcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUodXNlcil9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSB1c2VyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZXNlbmRJbnZpdGF0aW9uKHVzZXIpfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJlc2VuZCBpbnZpdGF0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBSZXNlbmQgSW52aXRlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSxcbiAgICB9LFxuICBdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zYWdlLTkwMFwiPkFkbWluIFVzZXJzPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNjAwIG10LTFcIj5cbiAgICAgICAgICAgIE1hbmFnZSBhZG1pbiB1c2VycyB3aG8gY2FuIGFjY2VzcyB0aGUgYWRtaW4gZGFzaGJvYXJkXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2N1cnJlbnRVc2VyUm9sZSA9PT0gJ293bmVyJyAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRFZGl0aW5nVXNlcihudWxsKTtcbiAgICAgICAgICAgICAgc2V0Rm9ybURhdGEoeyBlbWFpbDogJycsIHJvbGU6ICdhZG1pbicgfSk7XG4gICAgICAgICAgICAgIHNldFNob3dGb3JtKHRydWUpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBBZGQgQWRtaW4gVXNlclxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGb3JtIE1vZGFsICovfVxuICAgICAge3Nob3dGb3JtICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LTJ4bCBtYXgtdy1tZCB3LWZ1bGxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNiBweS00IGJvcmRlci1iIGJvcmRlci1zYWdlLTIwMFwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1zYWdlLTkwMFwiPlxuICAgICAgICAgICAgICAgIHtlZGl0aW5nVXNlciA/ICdFZGl0IEFkbWluIFVzZXInIDogJ0FkZCBBZG1pbiBVc2VyJ31cbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJweC02IHB5LTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICBodG1sRm9yPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEVtYWlsICpcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmVtYWlsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBlbWFpbDogZS50YXJnZXQudmFsdWUgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1zYWdlLTMwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1qdW5nbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ISFlZGl0aW5nVXNlcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtlZGl0aW5nVXNlciAmJiAoXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1zYWdlLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICBFbWFpbCBjYW5ub3QgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICBodG1sRm9yPVwicm9sZVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2FnZS03MDAgbWItMVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgUm9sZSAqXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBpZD1cInJvbGVcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnJvbGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHNldEZvcm1EYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICByb2xlOiBlLnRhcmdldC52YWx1ZSBhcyAnYWRtaW4nIHwgJ293bmVyJyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1zYWdlLTMwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1qdW5nbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFkbWluXCI+QWRtaW48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJvd25lclwiPk93bmVyPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtc2FnZS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIE93bmVycyBoYXZlIGZ1bGwgYWNjZXNzIGluY2x1ZGluZyB1c2VyIG1hbmFnZW1lbnRcbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9mb3JtPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcHktNCBib3JkZXItdCBib3JkZXItc2FnZS0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNob3dGb3JtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdVc2VyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgc2V0Rm9ybURhdGEoeyBlbWFpbDogJycsIHJvbGU6ICdhZG1pbicgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7c3VibWl0dGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNCB3LTQgYm9yZGVyLWItMiBib3JkZXItd2hpdGUgbXItMlwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgU2F2aW5nLi4uXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogZWRpdGluZ1VzZXIgPyAoXG4gICAgICAgICAgICAgICAgICAnVXBkYXRlJ1xuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAnQ3JlYXRlICYgU2VuZCBJbnZpdGF0aW9uJ1xuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIERhdGEgVGFibGUgKi99XG4gICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci1qdW5nbGUtNTAwXCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNhZ2UtNjAwXCI+TG9hZGluZyBhZG1pbiB1c2Vycy4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8RGF0YVRhYmxlXG4gICAgICAgICAgZGF0YT17dXNlcnN9XG4gICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgLz5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDb25maXJtIERpYWxvZyAqL31cbiAgICAgIDxDb25maXJtRGlhbG9nXG4gICAgICAgIGlzT3Blbj17Y29uZmlybURpYWxvZy5pc09wZW59XG4gICAgICAgIHRpdGxlPXtjb25maXJtRGlhbG9nLnRpdGxlfVxuICAgICAgICBtZXNzYWdlPXtjb25maXJtRGlhbG9nLm1lc3NhZ2V9XG4gICAgICAgIG9uQ29uZmlybT17Y29uZmlybURpYWxvZy5vbkNvbmZpcm19XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldENvbmZpcm1EaWFsb2coeyAuLi5jb25maXJtRGlhbG9nLCBpc09wZW46IGZhbHNlIH0pfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJBZG1pblVzZXJNYW5hZ2VyIiwiY3VycmVudFVzZXJJZCIsImN1cnJlbnRVc2VyUm9sZSIsInVzZXJzIiwic2V0VXNlcnMiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2hvd0Zvcm0iLCJzZXRTaG93Rm9ybSIsImVkaXRpbmdVc2VyIiwic2V0RWRpdGluZ1VzZXIiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwiZW1haWwiLCJyb2xlIiwic3VibWl0dGluZyIsInNldFN1Ym1pdHRpbmciLCJjb25maXJtRGlhbG9nIiwic2V0Q29uZmlybURpYWxvZyIsImlzT3BlbiIsInRpdGxlIiwibWVzc2FnZSIsIm9uQ29uZmlybSIsImFkZFRvYXN0IiwidXNlVG9hc3QiLCJmZXRjaFVzZXJzIiwidXNlQ2FsbGJhY2siLCJyZXNwb25zZSIsImZldGNoIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwidHlwZSIsImVycm9yIiwidXNlRWZmZWN0IiwiaGFuZGxlU3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsInVybCIsImlkIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGFuZGxlRWRpdCIsInVzZXIiLCJoYW5kbGVEZWFjdGl2YXRlIiwiaGFuZGxlRGVsZXRlIiwiaGFuZGxlUmVzZW5kSW52aXRhdGlvbiIsImNvbHVtbnMiLCJrZXkiLCJsYWJlbCIsInNvcnRhYmxlIiwicmVuZGVyIiwic3BhbiIsImNsYXNzTmFtZSIsInN0YXR1cyIsImxhc3RMb2dpbkF0IiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRpdiIsIkJ1dHRvbiIsInZhcmlhbnQiLCJzaXplIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJoMiIsInAiLCJoMyIsImZvcm0iLCJvblN1Ym1pdCIsImh0bWxGb3IiLCJpbnB1dCIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJyZXF1aXJlZCIsImRpc2FibGVkIiwic2VsZWN0Iiwib3B0aW9uIiwiRGF0YVRhYmxlIiwiQ29uZmlybURpYWxvZyIsIm9uQ2xvc2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkFtQmdCQTs7O2VBQUFBOzs7O3VCQWpCaUM7MkJBQ3ZCO3dCQUNIOzhCQUNFOytCQUNLO0FBYXZCLFNBQVNBLGlCQUFpQixFQUFFQyxhQUFhLEVBQUVDLGVBQWUsRUFBeUI7SUFDeEYsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdDLElBQUFBLGVBQVEsRUFBYyxFQUFFO0lBQ2xELE1BQU0sQ0FBQ0MsU0FBU0MsV0FBVyxHQUFHRixJQUFBQSxlQUFRLEVBQUM7SUFDdkMsTUFBTSxDQUFDRyxVQUFVQyxZQUFZLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUN6QyxNQUFNLENBQUNLLGFBQWFDLGVBQWUsR0FBR04sSUFBQUEsZUFBUSxFQUFtQjtJQUNqRSxNQUFNLENBQUNPLFVBQVVDLFlBQVksR0FBR1IsSUFBQUEsZUFBUSxFQUFvQjtRQUMxRFMsT0FBTztRQUNQQyxNQUFNO0lBQ1I7SUFDQSxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR1osSUFBQUEsZUFBUSxFQUFDO0lBQzdDLE1BQU0sQ0FBQ2EsZUFBZUMsaUJBQWlCLEdBQUdkLElBQUFBLGVBQVEsRUFLL0M7UUFDRGUsUUFBUTtRQUNSQyxPQUFPO1FBQ1BDLFNBQVM7UUFDVEMsV0FBVyxXQUFhO0lBQzFCO0lBQ0EsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0MsSUFBQUEsc0JBQVE7SUFFN0Isb0JBQW9CO0lBQ3BCLE1BQU1DLGFBQWFDLElBQUFBLGtCQUFXLEVBQUM7UUFDN0JwQixXQUFXO1FBQ1gsSUFBSTtZQUNGLE1BQU1xQixXQUFXLE1BQU1DLE1BQU07WUFDN0IsTUFBTUMsU0FBUyxNQUFNRixTQUFTRyxJQUFJO1lBRWxDLElBQUlELE9BQU9FLE9BQU8sRUFBRTtnQkFDbEI1QixTQUFTMEIsT0FBT0csSUFBSSxJQUFJLEVBQUU7WUFDNUIsT0FBTztnQkFDTFQsU0FBUztvQkFDUFUsTUFBTTtvQkFDTlosU0FBU1EsT0FBT0ssS0FBSyxFQUFFYixXQUFXO2dCQUNwQztZQUNGO1FBQ0YsRUFBRSxPQUFPYSxPQUFPO1lBQ2RYLFNBQVM7Z0JBQ1BVLE1BQU07Z0JBQ05aLFNBQVM7WUFDWDtRQUNGLFNBQVU7WUFDUmYsV0FBVztRQUNiO0lBQ0YsR0FBRztRQUFDaUI7S0FBUztJQUViWSxJQUFBQSxnQkFBUyxFQUFDO1FBQ1JWO0lBQ0YsR0FBRztRQUFDQTtLQUFXO0lBRWYseUJBQXlCO0lBQ3pCLE1BQU1XLGVBQWUsT0FBT0M7UUFDMUJBLEVBQUVDLGNBQWM7UUFFaEIsSUFBSSxDQUFDM0IsU0FBU0UsS0FBSyxDQUFDMEIsSUFBSSxJQUFJO1lBQzFCaEIsU0FBUztnQkFDUFUsTUFBTTtnQkFDTlosU0FBUztZQUNYO1lBQ0E7UUFDRjtRQUVBTCxjQUFjO1FBQ2QsSUFBSTtZQUNGLE1BQU13QixNQUFNL0IsY0FDUixDQUFDLHVCQUF1QixFQUFFQSxZQUFZZ0MsRUFBRSxFQUFFLEdBQzFDO1lBQ0osTUFBTUMsU0FBU2pDLGNBQWMsUUFBUTtZQUVyQyxNQUFNa0IsV0FBVyxNQUFNQyxNQUFNWSxLQUFLO2dCQUNoQ0U7Z0JBQ0FDLFNBQVM7b0JBQUUsZ0JBQWdCO2dCQUFtQjtnQkFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ25DO1lBQ3ZCO1lBRUEsTUFBTWtCLFNBQVMsTUFBTUYsU0FBU0csSUFBSTtZQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7Z0JBQ2xCUixTQUFTO29CQUNQVSxNQUFNO29CQUNOWixTQUFTWixjQUNMLG9DQUNBO2dCQUNOO2dCQUNBRCxZQUFZO2dCQUNaRSxlQUFlO2dCQUNmRSxZQUFZO29CQUFFQyxPQUFPO29CQUFJQyxNQUFNO2dCQUFRO2dCQUN2Q1c7WUFDRixPQUFPO2dCQUNMRixTQUFTO29CQUNQVSxNQUFNO29CQUNOWixTQUFTUSxPQUFPSyxLQUFLLEVBQUViLFdBQVc7Z0JBQ3BDO1lBQ0Y7UUFDRixFQUFFLE9BQU9hLE9BQU87WUFDZFgsU0FBUztnQkFDUFUsTUFBTTtnQkFDTlosU0FBUztZQUNYO1FBQ0YsU0FBVTtZQUNSTCxjQUFjO1FBQ2hCO0lBQ0Y7SUFFQSxjQUFjO0lBQ2QsTUFBTStCLGFBQWEsQ0FBQ0M7UUFDbEIsSUFBSS9DLG9CQUFvQixTQUFTO1lBQy9Cc0IsU0FBUztnQkFDUFUsTUFBTTtnQkFDTlosU0FBUztZQUNYO1lBQ0E7UUFDRjtRQUVBWCxlQUFlc0M7UUFDZnBDLFlBQVk7WUFDVkMsT0FBT21DLEtBQUtuQyxLQUFLO1lBQ2pCQyxNQUFNa0MsS0FBS2xDLElBQUk7UUFDakI7UUFDQU4sWUFBWTtJQUNkO0lBRUEsb0JBQW9CO0lBQ3BCLE1BQU15QyxtQkFBbUIsQ0FBQ0Q7UUFDeEIsSUFBSS9DLG9CQUFvQixTQUFTO1lBQy9Cc0IsU0FBUztnQkFDUFUsTUFBTTtnQkFDTlosU0FBUztZQUNYO1lBQ0E7UUFDRjtRQUVBSCxpQkFBaUI7WUFDZkMsUUFBUTtZQUNSQyxPQUFPO1lBQ1BDLFNBQVMsQ0FBQyxvQ0FBb0MsRUFBRTJCLEtBQUtuQyxLQUFLLENBQUMsd0NBQXdDLENBQUM7WUFDcEdTLFdBQVc7Z0JBQ1QsSUFBSTtvQkFDRixNQUFNSyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRW9CLEtBQUtQLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRTt3QkFDM0VDLFFBQVE7b0JBQ1Y7b0JBRUEsTUFBTWIsU0FBUyxNQUFNRixTQUFTRyxJQUFJO29CQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7d0JBQ2xCUixTQUFTOzRCQUNQVSxNQUFNOzRCQUNOWixTQUFTO3dCQUNYO3dCQUNBSTtvQkFDRixPQUFPO3dCQUNMRixTQUFTOzRCQUNQVSxNQUFNOzRCQUNOWixTQUFTUSxPQUFPSyxLQUFLLEVBQUViLFdBQVc7d0JBQ3BDO29CQUNGO2dCQUNGLEVBQUUsT0FBT2EsT0FBTztvQkFDZFgsU0FBUzt3QkFDUFUsTUFBTTt3QkFDTlosU0FBUztvQkFDWDtnQkFDRjtnQkFDQUgsaUJBQWlCO29CQUFFLEdBQUdELGFBQWE7b0JBQUVFLFFBQVE7Z0JBQU07WUFDckQ7UUFDRjtJQUNGO0lBRUEsZ0JBQWdCO0lBQ2hCLE1BQU0rQixlQUFlLENBQUNGO1FBQ3BCLElBQUkvQyxvQkFBb0IsU0FBUztZQUMvQnNCLFNBQVM7Z0JBQ1BVLE1BQU07Z0JBQ05aLFNBQVM7WUFDWDtZQUNBO1FBQ0Y7UUFFQUgsaUJBQWlCO1lBQ2ZDLFFBQVE7WUFDUkMsT0FBTztZQUNQQyxTQUFTLENBQUMsNENBQTRDLEVBQUUyQixLQUFLbkMsS0FBSyxDQUFDLCtCQUErQixDQUFDO1lBQ25HUyxXQUFXO2dCQUNULElBQUk7b0JBQ0YsTUFBTUssV0FBVyxNQUFNQyxNQUFNLENBQUMsdUJBQXVCLEVBQUVvQixLQUFLUCxFQUFFLEVBQUUsRUFBRTt3QkFDaEVDLFFBQVE7b0JBQ1Y7b0JBRUEsTUFBTWIsU0FBUyxNQUFNRixTQUFTRyxJQUFJO29CQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7d0JBQ2xCUixTQUFTOzRCQUNQVSxNQUFNOzRCQUNOWixTQUFTO3dCQUNYO3dCQUNBSTtvQkFDRixPQUFPO3dCQUNMRixTQUFTOzRCQUNQVSxNQUFNOzRCQUNOWixTQUFTUSxPQUFPSyxLQUFLLEVBQUViLFdBQVc7d0JBQ3BDO29CQUNGO2dCQUNGLEVBQUUsT0FBT2EsT0FBTztvQkFDZFgsU0FBUzt3QkFDUFUsTUFBTTt3QkFDTlosU0FBUztvQkFDWDtnQkFDRjtnQkFDQUgsaUJBQWlCO29CQUFFLEdBQUdELGFBQWE7b0JBQUVFLFFBQVE7Z0JBQU07WUFDckQ7UUFDRjtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCLE1BQU1nQyx5QkFBeUIsT0FBT0g7UUFDcEMsSUFBSTtZQUNGLE1BQU1yQixXQUFXLE1BQU1DLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRW9CLEtBQUtQLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDdkVDLFFBQVE7WUFDVjtZQUVBLE1BQU1iLFNBQVMsTUFBTUYsU0FBU0csSUFBSTtZQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7Z0JBQ2xCUixTQUFTO29CQUNQVSxNQUFNO29CQUNOWixTQUFTO2dCQUNYO1lBQ0YsT0FBTztnQkFDTEUsU0FBUztvQkFDUFUsTUFBTTtvQkFDTlosU0FBU1EsT0FBT0ssS0FBSyxFQUFFYixXQUFXO2dCQUNwQztZQUNGO1FBQ0YsRUFBRSxPQUFPYSxPQUFPO1lBQ2RYLFNBQVM7Z0JBQ1BVLE1BQU07Z0JBQ05aLFNBQVM7WUFDWDtRQUNGO0lBQ0Y7SUFFQSxnQkFBZ0I7SUFDaEIsTUFBTStCLFVBQVU7UUFDZDtZQUNFQyxLQUFLO1lBQ0xDLE9BQU87WUFDUEMsVUFBVTtRQUNaO1FBQ0E7WUFDRUYsS0FBSztZQUNMQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsUUFBUSxDQUFDUixxQkFDUCxxQkFBQ1M7b0JBQ0NDLFdBQVcsQ0FBQywyQ0FBMkMsRUFDckRWLEtBQUtsQyxJQUFJLEtBQUssVUFDVixrQ0FDQSw2QkFDSjs4QkFFRGtDLEtBQUtsQyxJQUFJLEtBQUssVUFBVSxVQUFVOztRQUd6QztRQUNBO1lBQ0V1QyxLQUFLO1lBQ0xDLE9BQU87WUFDUEMsVUFBVTtZQUNWQyxRQUFRLENBQUNSLHFCQUNQLHFCQUFDUztvQkFDQ0MsV0FBVyxDQUFDLDJDQUEyQyxFQUNyRFYsS0FBS1csTUFBTSxLQUFLLFdBQ1osZ0NBQ0EsMkJBQ0o7OEJBRURYLEtBQUtXLE1BQU0sS0FBSyxXQUFXLFdBQVc7O1FBRzdDO1FBQ0E7WUFDRU4sS0FBSztZQUNMQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsUUFBUSxDQUFDUixPQUNQQSxLQUFLWSxXQUFXLEdBQ1osSUFBSUMsS0FBS2IsS0FBS1ksV0FBVyxFQUFFRSxrQkFBa0IsS0FDN0M7UUFDUjtRQUNBO1lBQ0VULEtBQUs7WUFDTEMsT0FBTztZQUNQRSxRQUFRLENBQUNSLHFCQUNQLHNCQUFDZTtvQkFBSUwsV0FBVTs7d0JBQ1p6RCxvQkFBb0IsV0FBVytDLEtBQUtQLEVBQUUsS0FBS3pDLCtCQUMxQzs7OENBQ0UscUJBQUNnRSxjQUFNO29DQUNMQyxTQUFRO29DQUNSQyxNQUFLO29DQUNMQyxTQUFTLElBQU1wQixXQUFXQztvQ0FDMUJvQixjQUFXOzhDQUNaOztnQ0FHQXBCLEtBQUtXLE1BQU0sS0FBSywwQkFDZixxQkFBQ0ssY0FBTTtvQ0FDTEMsU0FBUTtvQ0FDUkMsTUFBSztvQ0FDTEMsU0FBUyxJQUFNbEIsaUJBQWlCRDtvQ0FDaENvQixjQUFXOzhDQUNaOzs4Q0FJSCxxQkFBQ0osY0FBTTtvQ0FDTEMsU0FBUTtvQ0FDUkMsTUFBSztvQ0FDTEMsU0FBUyxJQUFNakIsYUFBYUY7b0NBQzVCVSxXQUFVO29DQUNWVSxjQUFXOzhDQUNaOzs7O3NDQUtMLHFCQUFDSixjQUFNOzRCQUNMQyxTQUFROzRCQUNSQyxNQUFLOzRCQUNMQyxTQUFTLElBQU1oQix1QkFBdUJIOzRCQUN0Q29CLGNBQVc7c0NBQ1o7Ozs7UUFLUDtLQUNEO0lBRUQscUJBQ0Usc0JBQUNMO1FBQUlMLFdBQVU7OzBCQUViLHNCQUFDSztnQkFBSUwsV0FBVTs7a0NBQ2Isc0JBQUNLOzswQ0FDQyxxQkFBQ007Z0NBQUdYLFdBQVU7MENBQW1DOzswQ0FDakQscUJBQUNZO2dDQUFFWixXQUFVOzBDQUFxQjs7OztvQkFJbkN6RCxvQkFBb0IseUJBQ25CLHFCQUFDK0QsY0FBTTt3QkFDTEMsU0FBUTt3QkFDUkUsU0FBUzs0QkFDUHpELGVBQWU7NEJBQ2ZFLFlBQVk7Z0NBQUVDLE9BQU87Z0NBQUlDLE1BQU07NEJBQVE7NEJBQ3ZDTixZQUFZO3dCQUNkO2tDQUNEOzs7O1lBT0pELDBCQUNDLHFCQUFDd0Q7Z0JBQUlMLFdBQVU7MEJBQ2IsY0FBQSxzQkFBQ0s7b0JBQUlMLFdBQVU7O3NDQUNiLHFCQUFDSzs0QkFBSUwsV0FBVTtzQ0FDYixjQUFBLHFCQUFDYTtnQ0FBR2IsV0FBVTswQ0FDWGpELGNBQWMsb0JBQW9COzs7c0NBSXZDLHNCQUFDK0Q7NEJBQUtDLFVBQVVyQzs0QkFBY3NCLFdBQVU7OzhDQUN0QyxzQkFBQ0s7O3NEQUNDLHFCQUFDVDs0Q0FDQ29CLFNBQVE7NENBQ1JoQixXQUFVO3NEQUNYOztzREFHRCxxQkFBQ2lCOzRDQUNDMUMsTUFBSzs0Q0FDTFEsSUFBRzs0Q0FDSG1DLE9BQU9qRSxTQUFTRSxLQUFLOzRDQUNyQmdFLFVBQVUsQ0FBQ3hDLElBQ1R6QixZQUFZO29EQUFFLEdBQUdELFFBQVE7b0RBQUVFLE9BQU93QixFQUFFeUMsTUFBTSxDQUFDRixLQUFLO2dEQUFDOzRDQUVuRGxCLFdBQVU7NENBQ1ZxQixRQUFROzRDQUNSQyxVQUFVLENBQUMsQ0FBQ3ZFOzt3Q0FFYkEsNkJBQ0MscUJBQUM2RDs0Q0FBRVosV0FBVTtzREFBNkI7Ozs7OENBTTlDLHNCQUFDSzs7c0RBQ0MscUJBQUNUOzRDQUNDb0IsU0FBUTs0Q0FDUmhCLFdBQVU7c0RBQ1g7O3NEQUdELHNCQUFDdUI7NENBQ0N4QyxJQUFHOzRDQUNIbUMsT0FBT2pFLFNBQVNHLElBQUk7NENBQ3BCK0QsVUFBVSxDQUFDeEMsSUFDVHpCLFlBQVk7b0RBQ1YsR0FBR0QsUUFBUTtvREFDWEcsTUFBTXVCLEVBQUV5QyxNQUFNLENBQUNGLEtBQUs7Z0RBQ3RCOzRDQUVGbEIsV0FBVTs0Q0FDVnFCLFFBQVE7OzhEQUVSLHFCQUFDRztvREFBT04sT0FBTTs4REFBUTs7OERBQ3RCLHFCQUFDTTtvREFBT04sT0FBTTs4REFBUTs7OztzREFFeEIscUJBQUNOOzRDQUFFWixXQUFVO3NEQUE2Qjs7Ozs7O3NDQU05QyxzQkFBQ0s7NEJBQUlMLFdBQVU7OzhDQUNiLHFCQUFDTSxjQUFNO29DQUNML0IsTUFBSztvQ0FDTGdDLFNBQVE7b0NBQ1JFLFNBQVM7d0NBQ1AzRCxZQUFZO3dDQUNaRSxlQUFlO3dDQUNmRSxZQUFZOzRDQUFFQyxPQUFPOzRDQUFJQyxNQUFNO3dDQUFRO29DQUN6QztvQ0FDQWtFLFVBQVVqRTs4Q0FDWDs7OENBR0QscUJBQUNpRCxjQUFNO29DQUNML0IsTUFBSztvQ0FDTGdDLFNBQVE7b0NBQ1JFLFNBQVMvQjtvQ0FDVDRDLFVBQVVqRTs4Q0FFVEEsMkJBQ0M7OzBEQUNFLHFCQUFDMEM7Z0RBQUtDLFdBQVU7OzRDQUFxRjs7eUNBR3JHakQsY0FDRixXQUVBOzs7Ozs7O1lBU1hKLHdCQUNDLHNCQUFDMEQ7Z0JBQUlMLFdBQVU7O2tDQUNiLHFCQUFDSzt3QkFBSUwsV0FBVTs7a0NBQ2YscUJBQUNZO3dCQUFFWixXQUFVO2tDQUFxQjs7OytCQUdwQyxxQkFBQ3lCLG9CQUFTO2dCQUNSbkQsTUFBTTlCO2dCQUNOa0QsU0FBU0E7OzBCQUtiLHFCQUFDZ0MsNEJBQWE7Z0JBQ1pqRSxRQUFRRixjQUFjRSxNQUFNO2dCQUM1QkMsT0FBT0gsY0FBY0csS0FBSztnQkFDMUJDLFNBQVNKLGNBQWNJLE9BQU87Z0JBQzlCQyxXQUFXTCxjQUFjSyxTQUFTO2dCQUNsQytELFNBQVMsSUFBTW5FLGlCQUFpQjt3QkFBRSxHQUFHRCxhQUFhO3dCQUFFRSxRQUFRO29CQUFNOzs7O0FBSTFFIn0=