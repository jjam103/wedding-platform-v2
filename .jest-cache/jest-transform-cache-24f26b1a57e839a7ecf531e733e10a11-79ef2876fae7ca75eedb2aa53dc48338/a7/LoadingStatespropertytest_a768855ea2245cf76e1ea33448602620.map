{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/LoadingStates.property.test.tsx"],"sourcesContent":["/**\n * Property-Based Tests for Loading States\n * \n * Tests universal properties of loading state behavior across the admin UI.\n * \n * Properties tested:\n * - Property 31: Loading skeleton display\n * - Property 33: Action button loading state\n * - Property 34: No blank screens during loading\n */\n\nimport { render, screen, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as fc from 'fast-check';\nimport { DataTable, type ColumnDef } from './DataTable';\nimport { FormModal } from './FormModal';\nimport { Button } from './Button';\nimport { TableSkeleton, GridSkeleton, DashboardSkeleton } from './SkeletonLoaders';\nimport { z } from 'zod';\n\n// Mock toast context\njest.mock('./ToastContext', () => ({\n  useToast: () => ({\n    addToast: jest.fn(),\n  }),\n}));\n\n// Mock next/navigation\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(),\n    toString: jest.fn(() => ''),\n  }),\n}));\n\ndescribe('Feature: admin-ui-modernization, Property 31: Loading skeleton display', () => {\n  /**\n   * Property 31: Loading skeleton display\n   * For any component in a loading state, skeleton loaders should be displayed in place of the actual content.\n   * Validates: Requirements 11.1\n   */\n  it('should display skeleton loaders when loading is true', () => {\n    fc.assert(\n      fc.property(\n        fc.array(fc.record({\n          id: fc.uuid(),\n          name: fc.string({ minLength: 1, maxLength: 50 }),\n          email: fc.emailAddress(),\n        }), { minLength: 0, maxLength: 100 }),\n        fc.integer({ min: 1, max: 10 }),\n        (data, columnCount) => {\n          // Define columns\n          const columns: ColumnDef<any>[] = Array.from({ length: columnCount }, (_, i) => ({\n            key: `col${i}`,\n            label: `Column ${i}`,\n            sortable: true,\n          }));\n\n          // Render DataTable in loading state\n          const { container } = render(\n            <DataTable\n              data={data}\n              columns={columns}\n              loading={true}\n              totalCount={data.length}\n              currentPage={1}\n              pageSize={25}\n            />\n          );\n\n          // Should display skeleton loader\n          const skeleton = container.querySelector('[role=\"status\"][aria-label=\"Loading table\"]');\n          expect(skeleton).toBeInTheDocument();\n\n          // Should NOT display actual data\n          data.forEach(item => {\n            expect(screen.queryByText(item.name)).not.toBeInTheDocument();\n          });\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n\n  it('should display TableSkeleton with correct structure', () => {\n    fc.assert(\n      fc.property(\n        fc.integer({ min: 1, max: 20 }),\n        fc.integer({ min: 1, max: 10 }),\n        (rows, columns) => {\n          const { container } = render(<TableSkeleton rows={rows} columns={columns} />);\n\n          // Should have status role\n          const skeleton = container.querySelector('[role=\"status\"]');\n          expect(skeleton).toBeInTheDocument();\n\n          // Should have aria-label\n          expect(skeleton).toHaveAttribute('aria-label', 'Loading table');\n\n          // Should have header row\n          const header = container.querySelector('.bg-sage-50');\n          expect(header).toBeInTheDocument();\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n\n  it('should display GridSkeleton with correct number of items', () => {\n    fc.assert(\n      fc.property(\n        fc.integer({ min: 1, max: 24 }),\n        fc.constantFrom(2, 3, 4, 5, 6),\n        (items, columns) => {\n          const { container } = render(<GridSkeleton items={items} columns={columns} />);\n\n          // Should have status role\n          const skeleton = container.querySelector('[role=\"status\"]');\n          expect(skeleton).toBeInTheDocument();\n\n          // Should have aria-label\n          expect(skeleton).toHaveAttribute('aria-label', 'Loading grid');\n\n          // Should render correct number of grid items\n          const gridItems = container.querySelectorAll('.bg-white.rounded-lg.shadow-md');\n          expect(gridItems.length).toBe(items);\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n\n  it('should display DashboardSkeleton with metrics and cards', () => {\n    const { container } = render(<DashboardSkeleton />);\n\n    // Should have status role\n    const skeleton = container.querySelector('[role=\"status\"]');\n    expect(skeleton).toBeInTheDocument();\n\n    // Should have aria-label\n    expect(skeleton).toHaveAttribute('aria-label', 'Loading dashboard');\n\n    // Should have metrics grid (4 metric cards)\n    const metricCards = container.querySelectorAll('.grid.grid-cols-1.md\\\\:grid-cols-2.lg\\\\:grid-cols-4 > div');\n    expect(metricCards.length).toBe(4);\n\n    // Should have main content cards (2 cards)\n    const contentCards = container.querySelectorAll('.grid.grid-cols-1.lg\\\\:grid-cols-2 > div');\n    expect(contentCards.length).toBe(2);\n  });\n});\n\ndescribe('Feature: admin-ui-modernization, Property 33: Action button loading state', () => {\n  /**\n   * Property 33: Action button loading state\n   * For any action button processing an operation, the button should display a loading indicator.\n   * Validates: Requirements 11.4\n   */\n  it('should display loading state on buttons during processing', () => {\n    fc.assert(\n      fc.property(\n        fc.string({ minLength: 1, maxLength: 50 }).filter(s => s.trim().length > 0), // Filter out whitespace-only strings\n        fc.constantFrom('primary', 'secondary', 'danger', 'ghost'),\n        (label, variant) => {\n          const { container, rerender, unmount } = render(\n            <Button variant={variant as any} loading={false}>\n              {label}\n            </Button>\n          );\n\n          // Initially should show label\n          expect(container.textContent).toContain(label);\n\n          // Should not be disabled initially\n          const button = container.querySelector('button');\n          expect(button).not.toBeDisabled();\n\n          // Rerender with loading state\n          rerender(\n            <Button variant={variant as any} loading={true}>\n              {label}\n            </Button>\n          );\n\n          // Should be disabled when loading\n          expect(button).toBeDisabled();\n\n          // Should have loading indicator (spinner)\n          const spinner = container.querySelector('.animate-spin');\n          expect(spinner).toBeInTheDocument();\n          \n          // Should still show the original label\n          expect(container.textContent).toContain(label);\n          \n          // Clean up\n          unmount();\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n\n  it('should disable form submit button during submission', () => {\n    fc.assert(\n      fc.property(\n        fc.string({ minLength: 1, maxLength: 50 }).filter(s => s.trim().length > 0),\n        (label) => {\n          // Test that a button in loading state is disabled\n          const { container, unmount } = render(\n            <Button type=\"submit\" loading={true}>\n              {label}\n            </Button>\n          );\n\n          const button = container.querySelector('button');\n          \n          // Should be disabled when loading\n          expect(button).toBeDisabled();\n          \n          // Should have loading indicator\n          const spinner = container.querySelector('.animate-spin');\n          expect(spinner).toBeInTheDocument();\n          \n          // Clean up\n          unmount();\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n});\n\ndescribe('Feature: admin-ui-modernization, Property 34: No blank screens during loading', () => {\n  /**\n   * Property 34: No blank screens during loading\n   * For any page load operation, either actual content or skeleton loaders should be visible (never a blank screen).\n   * Validates: Requirements 11.5\n   */\n  it('should never show blank screen - always show content or skeleton', () => {\n    fc.assert(\n      fc.property(\n        fc.array(fc.record({\n          id: fc.uuid(),\n          name: fc.string({ minLength: 1, maxLength: 50 }),\n        }), { minLength: 0, maxLength: 100 }),\n        fc.boolean(),\n        (data, loading) => {\n          const columns: ColumnDef<any>[] = [\n            { key: 'id', label: 'ID', sortable: true },\n            { key: 'name', label: 'Name', sortable: true },\n          ];\n\n          const { container, unmount } = render(\n            <DataTable\n              data={data}\n              columns={columns}\n              loading={loading}\n              totalCount={data.length}\n              currentPage={1}\n              pageSize={25}\n              entityType=\"items\"\n            />\n          );\n\n          // Should always have some visual elements\n          const hasElements = container.querySelector('*') !== null;\n          expect(hasElements).toBe(true);\n\n          if (loading) {\n            // Should show skeleton\n            const skeleton = container.querySelector('[role=\"status\"]');\n            expect(skeleton).toBeInTheDocument();\n          } else if (data.length > 0) {\n            // Should show actual data\n            const table = container.querySelector('table');\n            expect(table).toBeInTheDocument();\n          } else {\n            // Should show empty state message\n            expect(container.textContent).toContain('No items found');\n          }\n\n          // Should never be completely blank (no elements at all)\n          const isBlank = container.children.length === 0;\n          expect(isBlank).toBe(false);\n          \n          // Clean up\n          unmount();\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n\n  it('should transition from loading to content without blank screen', async () => {\n    fc.assert(\n      fc.asyncProperty(\n        fc.array(fc.record({\n          id: fc.uuid(),\n          name: fc.string({ minLength: 1, maxLength: 50 }),\n        }), { minLength: 1, maxLength: 20 }),\n        async (data) => {\n          const columns: ColumnDef<any>[] = [\n            { key: 'id', label: 'ID', sortable: true },\n            { key: 'name', label: 'Name', sortable: true },\n          ];\n\n          // Start with loading state\n          const { container, rerender } = render(\n            <DataTable\n              data={[]}\n              columns={columns}\n              loading={true}\n              totalCount={0}\n              currentPage={1}\n              pageSize={25}\n            />\n          );\n\n          // Should show skeleton\n          expect(container.querySelector('[role=\"status\"]')).toBeInTheDocument();\n\n          // Transition to loaded state\n          rerender(\n            <DataTable\n              data={data}\n              columns={columns}\n              loading={false}\n              totalCount={data.length}\n              currentPage={1}\n              pageSize={25}\n            />\n          );\n\n          // Should show actual content\n          await waitFor(() => {\n            const table = container.querySelector('table');\n            expect(table).toBeInTheDocument();\n          });\n\n          // Should never be blank during transition\n          const hasContent = container.textContent && container.textContent.trim().length > 0;\n          expect(hasContent).toBe(true);\n        }\n      ),\n      { numRuns: 50 } // Fewer runs for async tests\n    );\n  });\n\n  it('should show empty state instead of blank screen when no data', () => {\n    fc.assert(\n      fc.property(\n        fc.constantFrom('guests', 'events', 'activities', 'vendors', 'photos'),\n        (entityType) => {\n          const columns: ColumnDef<any>[] = [\n            { key: 'id', label: 'ID', sortable: true },\n            { key: 'name', label: 'Name', sortable: true },\n          ];\n\n          const { container } = render(\n            <DataTable\n              data={[]}\n              columns={columns}\n              loading={false}\n              totalCount={0}\n              currentPage={1}\n              pageSize={25}\n              entityType={entityType}\n            />\n          );\n\n          // Should not be blank\n          const hasContent = container.textContent && container.textContent.trim().length > 0;\n          expect(hasContent).toBe(true);\n\n          // Should show empty state message with entity type\n          expect(container.textContent).toContain(`No ${entityType} found`);\n        }\n      ),\n      { numRuns: 100 }\n    );\n  });\n});\n"],"names":["jest","mock","useToast","addToast","fn","useRouter","push","replace","useSearchParams","get","toString","describe","it","fc","assert","property","array","record","id","uuid","name","string","minLength","maxLength","email","emailAddress","integer","min","max","data","columnCount","columns","Array","from","length","_","i","key","label","sortable","container","render","DataTable","loading","totalCount","currentPage","pageSize","skeleton","querySelector","expect","toBeInTheDocument","forEach","item","screen","queryByText","not","numRuns","rows","TableSkeleton","toHaveAttribute","header","constantFrom","items","GridSkeleton","gridItems","querySelectorAll","toBe","DashboardSkeleton","metricCards","contentCards","filter","s","trim","variant","rerender","unmount","Button","textContent","toContain","button","toBeDisabled","spinner","type","boolean","entityType","hasElements","table","isBlank","children","asyncProperty","waitFor","hasContent"],"mappings":"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"}