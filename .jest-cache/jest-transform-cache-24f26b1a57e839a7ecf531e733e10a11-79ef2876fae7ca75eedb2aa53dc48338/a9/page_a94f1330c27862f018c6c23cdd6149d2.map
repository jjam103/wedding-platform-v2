{"version":3,"names":["ContentPageSectionsPage","params","cov_b8cqm8mp4","f","router","s","_navigation","useRouter","addToast","_ToastContext","useToast","pageId","setPageId","_react","useState","pageName","setPageName","loading","setLoading","useEffect","then","id","fetchPageDetails","response","fetch","result","json","b","success","data","title","type","message","error","handleSave","handleClose","push","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","onClick","_SectionEditor","SectionEditor","pageType","onSave","onClose"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/content-pages/[id]/sections/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { SectionEditor } from '@/components/admin/SectionEditor';\nimport { Button } from '@/components/ui/Button';\nimport { useToast } from '@/components/ui/ToastContext';\n\ninterface PageProps {\n  params: Promise<{ id: string }>;\n}\n\n/**\n * Content Page Sections Management Page\n * \n * Provides section editing interface for custom content pages.\n * Uses SectionEditor component for managing rich content sections.\n */\nexport default function ContentPageSectionsPage({ params }: PageProps) {\n  const router = useRouter();\n  const { addToast } = useToast();\n  const [pageId, setPageId] = useState<string>('');\n  const [pageName, setPageName] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  // Unwrap params Promise\n  useEffect(() => {\n    params.then(({ id }) => {\n      setPageId(id);\n      fetchPageDetails(id);\n    });\n  }, [params]);\n\n  const fetchPageDetails = async (id: string) => {\n    try {\n      const response = await fetch(`/api/admin/content-pages/${id}`);\n      const result = await response.json();\n      \n      if (result.success && result.data) {\n        setPageName(result.data.title);\n      } else {\n        addToast({\n          type: 'error',\n          message: 'Failed to load page details',\n        });\n      }\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: 'Failed to load page details',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = () => {\n    addToast({\n      type: 'success',\n      message: 'Sections saved successfully',\n    });\n  };\n\n  const handleClose = () => {\n    router.push('/admin/content-pages');\n  };\n\n  if (loading || !pageId) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between border-b border-gray-200 pb-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-sage-900\">Manage Sections</h1>\n          <p className=\"text-sage-600 mt-1\">\n            {pageName ? `Page: ${pageName}` : 'Content Page Sections'}\n          </p>\n        </div>\n        <Button\n          variant=\"secondary\"\n          onClick={handleClose}\n          aria-label=\"Back to content pages\"\n        >\n          ‚Üê Back to Content Pages\n        </Button>\n      </div>\n\n      {/* Section Editor */}\n      <SectionEditor\n        pageType=\"custom\"\n        pageId={pageId}\n        onSave={handleSave}\n        onClose={handleClose}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}