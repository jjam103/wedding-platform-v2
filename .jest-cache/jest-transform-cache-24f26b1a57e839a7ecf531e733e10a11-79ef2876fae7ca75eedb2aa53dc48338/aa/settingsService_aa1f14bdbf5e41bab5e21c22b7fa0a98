9f4fd24a887c1127fa6058157f2908b5
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get getSettings () {
        return getSettings;
    },
    get updateSettings () {
        return updateSettings;
    }
});
const _settingsSchemas = require("../schemas/settingsSchemas");
// Lazy load supabase to avoid initialization issues in tests
let _supabase = null;
function getSupabase() {
    if (!_supabase) {
        const { supabase } = require('../lib/supabase');
        _supabase = supabase;
    }
    return _supabase;
}
async function getSettings() {
    try {
        const supabase = getSupabase();
        const { data, error } = await supabase.from('system_settings').select('*').single();
        if (error) {
            if (error.code === 'PGRST116') {
                // No settings found, return default settings
                return {
                    success: true,
                    data: {
                        id: '',
                        default_auth_method: 'email_matching',
                        wedding_date: null,
                        venue_name: null,
                        couple_name_1: null,
                        couple_name_2: null,
                        timezone: 'America/Costa_Rica',
                        send_rsvp_confirmations: true,
                        send_activity_reminders: true,
                        send_deadline_reminders: true,
                        reminder_days_before: 7,
                        require_photo_moderation: true,
                        max_photos_per_guest: 20,
                        allowed_photo_formats: [
                            'jpg',
                            'jpeg',
                            'png',
                            'heic'
                        ],
                        home_page_title: null,
                        home_page_subtitle: null,
                        home_page_welcome_message: null,
                        home_page_hero_image_url: null,
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                };
            }
            return {
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: error.message,
                    details: error
                }
            };
        }
        return {
            success: true,
            data
        };
    } catch (error) {
        return {
            success: false,
            error: {
                code: 'UNKNOWN_ERROR',
                message: error instanceof Error ? error.message : 'Unknown error'
            }
        };
    }
}
async function updateSettings(data) {
    try {
        // 1. Validate
        const validation = _settingsSchemas.updateSystemSettingsSchema.safeParse(data);
        if (!validation.success) {
            return {
                success: false,
                error: {
                    code: 'VALIDATION_ERROR',
                    message: 'Validation failed',
                    details: validation.error.issues
                }
            };
        }
        // 2. Check if settings exist
        const supabase = getSupabase();
        const { data: existing } = await supabase.from('system_settings').select('id').single();
        let result;
        if (existing) {
            // Update existing settings
            const { data: updated, error } = await supabase.from('system_settings').update(validation.data).eq('id', existing.id).select().single();
            if (error) {
                return {
                    success: false,
                    error: {
                        code: 'DATABASE_ERROR',
                        message: error.message,
                        details: error
                    }
                };
            }
            result = updated;
        } else {
            // Create new settings
            const { data: created, error } = await supabase.from('system_settings').insert(validation.data).select().single();
            if (error) {
                return {
                    success: false,
                    error: {
                        code: 'DATABASE_ERROR',
                        message: error.message,
                        details: error
                    }
                };
            }
            result = created;
        }
        return {
            success: true,
            data: result
        };
    } catch (error) {
        return {
            success: false,
            error: {
                code: 'UNKNOWN_ERROR',
                message: error instanceof Error ? error.message : 'Unknown error'
            }
        };
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvc2V0dGluZ3NTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHN5c3RlbVNldHRpbmdzU2NoZW1hLFxuICB1cGRhdGVTeXN0ZW1TZXR0aW5nc1NjaGVtYSxcbiAgdHlwZSBTeXN0ZW1TZXR0aW5ncyxcbiAgdHlwZSBVcGRhdGVTeXN0ZW1TZXR0aW5nc0RUTyxcbn0gZnJvbSAnLi4vc2NoZW1hcy9zZXR0aW5nc1NjaGVtYXMnO1xuXG50eXBlIFJlc3VsdDxUPiA9XG4gIHwgeyBzdWNjZXNzOiB0cnVlOyBkYXRhOiBUIH1cbiAgfCB7IHN1Y2Nlc3M6IGZhbHNlOyBlcnJvcjogeyBjb2RlOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZzsgZGV0YWlscz86IGFueSB9IH07XG5cbi8vIExhenkgbG9hZCBzdXBhYmFzZSB0byBhdm9pZCBpbml0aWFsaXphdGlvbiBpc3N1ZXMgaW4gdGVzdHNcbmxldCBfc3VwYWJhc2U6IGFueSA9IG51bGw7XG5mdW5jdGlvbiBnZXRTdXBhYmFzZSgpIHtcbiAgaWYgKCFfc3VwYWJhc2UpIHtcbiAgICBjb25zdCB7IHN1cGFiYXNlIH0gPSByZXF1aXJlKCcuLi9saWIvc3VwYWJhc2UnKTtcbiAgICBfc3VwYWJhc2UgPSBzdXBhYmFzZTtcbiAgfVxuICByZXR1cm4gX3N1cGFiYXNlO1xufVxuXG4vKipcbiAqIEdldHMgc3lzdGVtIHNldHRpbmdzXG4gKiBcbiAqIEByZXR1cm5zIFJlc3VsdCBjb250YWluaW5nIHN5c3RlbSBzZXR0aW5ncyBvciBlcnJvciBkZXRhaWxzXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXR0aW5nc1NlcnZpY2UuZ2V0U2V0dGluZ3MoKTtcbiAqIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICogICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YS53ZWRkaW5nX2RhdGUpO1xuICogfVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxSZXN1bHQ8U3lzdGVtU2V0dGluZ3M+PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZSgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xuICAgICAgICAvLyBObyBzZXR0aW5ncyBmb3VuZCwgcmV0dXJuIGRlZmF1bHQgc2V0dGluZ3NcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGlkOiAnJyxcbiAgICAgICAgICAgIGRlZmF1bHRfYXV0aF9tZXRob2Q6ICdlbWFpbF9tYXRjaGluZycgYXMgY29uc3QsXG4gICAgICAgICAgICB3ZWRkaW5nX2RhdGU6IG51bGwsXG4gICAgICAgICAgICB2ZW51ZV9uYW1lOiBudWxsLFxuICAgICAgICAgICAgY291cGxlX25hbWVfMTogbnVsbCxcbiAgICAgICAgICAgIGNvdXBsZV9uYW1lXzI6IG51bGwsXG4gICAgICAgICAgICB0aW1lem9uZTogJ0FtZXJpY2EvQ29zdGFfUmljYScsXG4gICAgICAgICAgICBzZW5kX3JzdnBfY29uZmlybWF0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgIHNlbmRfYWN0aXZpdHlfcmVtaW5kZXJzOiB0cnVlLFxuICAgICAgICAgICAgc2VuZF9kZWFkbGluZV9yZW1pbmRlcnM6IHRydWUsXG4gICAgICAgICAgICByZW1pbmRlcl9kYXlzX2JlZm9yZTogNyxcbiAgICAgICAgICAgIHJlcXVpcmVfcGhvdG9fbW9kZXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIG1heF9waG90b3NfcGVyX2d1ZXN0OiAyMCxcbiAgICAgICAgICAgIGFsbG93ZWRfcGhvdG9fZm9ybWF0czogWydqcGcnLCAnanBlZycsICdwbmcnLCAnaGVpYyddLFxuICAgICAgICAgICAgaG9tZV9wYWdlX3RpdGxlOiBudWxsLFxuICAgICAgICAgICAgaG9tZV9wYWdlX3N1YnRpdGxlOiBudWxsLFxuICAgICAgICAgICAgaG9tZV9wYWdlX3dlbGNvbWVfbWVzc2FnZTogbnVsbCxcbiAgICAgICAgICAgIGhvbWVfcGFnZV9oZXJvX2ltYWdlX3VybDogbnVsbCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBjb2RlOiAnVU5LTk9XTl9FUlJPUicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyBzeXN0ZW0gc2V0dGluZ3NcbiAqIFxuICogQHBhcmFtIGRhdGEgLSBTZXR0aW5ncyBkYXRhIHRvIHVwZGF0ZVxuICogQHJldHVybnMgUmVzdWx0IGNvbnRhaW5pbmcgdGhlIHVwZGF0ZWQgc2V0dGluZ3Mgb3IgZXJyb3IgZGV0YWlsc1xuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gYXdhaXQgc2V0dGluZ3NTZXJ2aWNlLnVwZGF0ZVNldHRpbmdzKHtcbiAqICAgd2VkZGluZ19kYXRlOiAnMjAyNC0wNi0xNVQwMDowMDowMFonLFxuICogICB2ZW51ZV9uYW1lOiAnRHJlYW1zIExhcyBNYXJlYXMnLFxuICogICBjb3VwbGVfbmFtZV8xOiAnSm9obicsXG4gKiAgIGNvdXBsZV9uYW1lXzI6ICdKYW5lJyxcbiAqIH0pO1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2V0dGluZ3MoZGF0YTogVXBkYXRlU3lzdGVtU2V0dGluZ3NEVE8pOiBQcm9taXNlPFJlc3VsdDxTeXN0ZW1TZXR0aW5ncz4+IHtcbiAgdHJ5IHtcbiAgICAvLyAxLiBWYWxpZGF0ZVxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB1cGRhdGVTeXN0ZW1TZXR0aW5nc1NjaGVtYS5zYWZlUGFyc2UoZGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnVmFsaWRhdGlvbiBmYWlsZWQnLFxuICAgICAgICAgIGRldGFpbHM6IHZhbGlkYXRpb24uZXJyb3IuaXNzdWVzLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAyLiBDaGVjayBpZiBzZXR0aW5ncyBleGlzdFxuICAgIGNvbnN0IHN1cGFiYXNlID0gZ2V0U3VwYWJhc2UoKTtcbiAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChleGlzdGluZykge1xuICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIHNldHRpbmdzXG4gICAgICBjb25zdCB7IGRhdGE6IHVwZGF0ZWQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc3lzdGVtX3NldHRpbmdzJylcbiAgICAgICAgLnVwZGF0ZSh2YWxpZGF0aW9uLmRhdGEpXG4gICAgICAgIC5lcSgnaWQnLCBleGlzdGluZy5pZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gdXBkYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIG5ldyBzZXR0aW5nc1xuICAgICAgY29uc3QgeyBkYXRhOiBjcmVhdGVkLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAgIC5pbnNlcnQodmFsaWRhdGlvbi5kYXRhKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSBjcmVhdGVkO1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRTZXR0aW5ncyIsInVwZGF0ZVNldHRpbmdzIiwiX3N1cGFiYXNlIiwiZ2V0U3VwYWJhc2UiLCJzdXBhYmFzZSIsInJlcXVpcmUiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwic2VsZWN0Iiwic2luZ2xlIiwiY29kZSIsInN1Y2Nlc3MiLCJpZCIsImRlZmF1bHRfYXV0aF9tZXRob2QiLCJ3ZWRkaW5nX2RhdGUiLCJ2ZW51ZV9uYW1lIiwiY291cGxlX25hbWVfMSIsImNvdXBsZV9uYW1lXzIiLCJ0aW1lem9uZSIsInNlbmRfcnN2cF9jb25maXJtYXRpb25zIiwic2VuZF9hY3Rpdml0eV9yZW1pbmRlcnMiLCJzZW5kX2RlYWRsaW5lX3JlbWluZGVycyIsInJlbWluZGVyX2RheXNfYmVmb3JlIiwicmVxdWlyZV9waG90b19tb2RlcmF0aW9uIiwibWF4X3Bob3Rvc19wZXJfZ3Vlc3QiLCJhbGxvd2VkX3Bob3RvX2Zvcm1hdHMiLCJob21lX3BhZ2VfdGl0bGUiLCJob21lX3BhZ2Vfc3VidGl0bGUiLCJob21lX3BhZ2Vfd2VsY29tZV9tZXNzYWdlIiwiaG9tZV9wYWdlX2hlcm9faW1hZ2VfdXJsIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRfYXQiLCJtZXNzYWdlIiwiZGV0YWlscyIsIkVycm9yIiwidmFsaWRhdGlvbiIsInVwZGF0ZVN5c3RlbVNldHRpbmdzU2NoZW1hIiwic2FmZVBhcnNlIiwiaXNzdWVzIiwiZXhpc3RpbmciLCJyZXN1bHQiLCJ1cGRhdGVkIiwidXBkYXRlIiwiZXEiLCJjcmVhdGVkIiwiaW5zZXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQWdDc0JBO2VBQUFBOztRQTBFQUM7ZUFBQUE7OztpQ0FyR2Y7QUFNUCw2REFBNkQ7QUFDN0QsSUFBSUMsWUFBaUI7QUFDckIsU0FBU0M7SUFDUCxJQUFJLENBQUNELFdBQVc7UUFDZCxNQUFNLEVBQUVFLFFBQVEsRUFBRSxHQUFHQyxRQUFRO1FBQzdCSCxZQUFZRTtJQUNkO0lBQ0EsT0FBT0Y7QUFDVDtBQWFPLGVBQWVGO0lBQ3BCLElBQUk7UUFDRixNQUFNSSxXQUFXRDtRQUNqQixNQUFNLEVBQUVHLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUgsU0FDM0JJLElBQUksQ0FBQyxtQkFDTEMsTUFBTSxDQUFDLEtBQ1BDLE1BQU07UUFFVCxJQUFJSCxPQUFPO1lBQ1QsSUFBSUEsTUFBTUksSUFBSSxLQUFLLFlBQVk7Z0JBQzdCLDZDQUE2QztnQkFDN0MsT0FBTztvQkFDTEMsU0FBUztvQkFDVE4sTUFBTTt3QkFDSk8sSUFBSTt3QkFDSkMscUJBQXFCO3dCQUNyQkMsY0FBYzt3QkFDZEMsWUFBWTt3QkFDWkMsZUFBZTt3QkFDZkMsZUFBZTt3QkFDZkMsVUFBVTt3QkFDVkMseUJBQXlCO3dCQUN6QkMseUJBQXlCO3dCQUN6QkMseUJBQXlCO3dCQUN6QkMsc0JBQXNCO3dCQUN0QkMsMEJBQTBCO3dCQUMxQkMsc0JBQXNCO3dCQUN0QkMsdUJBQXVCOzRCQUFDOzRCQUFPOzRCQUFROzRCQUFPO3lCQUFPO3dCQUNyREMsaUJBQWlCO3dCQUNqQkMsb0JBQW9CO3dCQUNw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