ed7b882c229886539c2865b064ef2a3c
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "PhotoGallery", {
    enumerable: true,
    get: function() {
        return PhotoGallery;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function PhotoGallery({ photoIds, displayMode = 'gallery', className = '' }) {
    const [photos, setPhotos] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [error, setError] = (0, _react.useState)(null);
    const [currentIndex, setCurrentIndex] = (0, _react.useState)(0);
    (0, _react.useEffect)(()=>{
        async function fetchPhotos() {
            if (!photoIds || photoIds.length === 0) {
                setLoading(false);
                return;
            }
            try {
                setLoading(true);
                setError(null);
                // Fetch all photos in parallel
                const photoPromises = photoIds.map(async (id)=>{
                    const response = await fetch(`/api/admin/photos/${id}`);
                    if (!response.ok) {
                        console.error(`Failed to fetch photo ${id}`);
                        return null;
                    }
                    const result = await response.json();
                    return result.success ? result.data : null;
                });
                const fetchedPhotos = await Promise.all(photoPromises);
                const validPhotos = fetchedPhotos.filter((p)=>p !== null);
                setPhotos(validPhotos);
            } catch (err) {
                console.error('Error fetching photos:', err);
                setError('Failed to load photos');
            } finally{
                setLoading(false);
            }
        }
        fetchPhotos();
    }, [
        photoIds
    ]);
    // Auto-advance for loop mode
    (0, _react.useEffect)(()=>{
        if (displayMode === 'loop' && photos.length > 1) {
            const interval = setInterval(()=>{
                setCurrentIndex((prev)=>(prev + 1) % photos.length);
            }, 3000); // Change photo every 3 seconds
            return ()=>clearInterval(interval);
        }
    }, [
        displayMode,
        photos.length
    ]);
    if (loading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: `animate-pulse ${className}`,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-sage-200 rounded-lg h-64 w-full"
            })
        });
    }
    if (error) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: `text-red-600 p-4 bg-red-50 rounded-lg ${className}`,
            children: error
        });
    }
    if (photos.length === 0) {
        return null;
    }
    // Gallery Grid Mode
    if (displayMode === 'gallery') {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: `grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 ${className}`,
            children: photos.map((photo)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "relative aspect-square overflow-hidden rounded-lg bg-sage-100",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                            src: photo.photo_url,
                            alt: photo.alt_text || photo.caption || 'Wedding photo',
                            fill: true,
                            className: "object-cover hover:scale-105 transition-transform duration-300",
                            sizes: "(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"
                        }),
                        photo.caption && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2 text-sm",
                            children: photo.caption
                        })
                    ]
                }, photo.id))
        });
    }
    // Carousel Mode (with navigation)
    if (displayMode === 'carousel') {
        const currentPhoto = photos[currentIndex];
        const goToPrevious = ()=>{
            setCurrentIndex((prev)=>(prev - 1 + photos.length) % photos.length);
        };
        const goToNext = ()=>{
            setCurrentIndex((prev)=>(prev + 1) % photos.length);
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: `relative ${className}`,
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "relative aspect-video overflow-hidden rounded-lg bg-sage-100",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                            src: currentPhoto.photo_url,
                            alt: currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo',
                            fill: true,
                            className: "object-contain",
                            sizes: "100vw",
                            priority: true
                        }),
                        currentPhoto.caption && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "absolute bottom-0 left-0 right-0 bg-black/60 text-white p-3 text-center",
                            children: currentPhoto.caption
                        })
                    ]
                }),
                photos.length > 1 && /*#__PURE__*/ (0, _jsxruntime.jsxs)(_jsxruntime.Fragment, {
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: goToPrevious,
                            className: "absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all",
                            "aria-label": "Previous photo",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                className: "w-6 h-6",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M15 19l-7-7 7-7"
                                })
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: goToNext,
                            className: "absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all",
                            "aria-label": "Next photo",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                className: "w-6 h-6",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M9 5l7 7-7 7"
                                })
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex justify-center gap-2 mt-4",
                            children: photos.map((_, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: ()=>setCurrentIndex(index),
                                    className: `w-2 h-2 rounded-full transition-all ${index === currentIndex ? 'bg-jungle-600 w-6' : 'bg-sage-300'}`,
                                    "aria-label": `Go to photo ${index + 1}`
                                }, index))
                        })
                    ]
                })
            ]
        });
    }
    // Loop Mode (auto-playing)
    if (displayMode === 'loop') {
        const currentPhoto = photos[currentIndex];
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: `relative ${className}`,
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "relative aspect-video overflow-hidden rounded-lg bg-sage-100",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                            src: currentPhoto.photo_url,
                            alt: currentPhoto.alt_text || currentPhoto.caption || 'Wedding photo',
                            fill: true,
                            className: "object-cover transition-opacity duration-1000",
                            sizes: "100vw",
                            priority: true
                        }),
                        currentPhoto.caption && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "absolute bottom-0 left-0 right-0 bg-black/60 text-white p-3 text-center",
                            children: currentPhoto.caption
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "flex justify-center gap-1 mt-3",
                    children: photos.map((_, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: `h-1 rounded-full transition-all ${index === currentIndex ? 'bg-jungle-600 w-8' : 'bg-sage-300 w-2'}`
                        }, index))
                })
            ]
        });
    }
    return null;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9QaG90b0dhbGxlcnkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcblxuaW50ZXJmYWNlIFBob3RvIHtcbiAgaWQ6IHN0cmluZztcbiAgcGhvdG9fdXJsOiBzdHJpbmc7XG4gIGNhcHRpb24/OiBzdHJpbmc7XG4gIGFsdF90ZXh0Pzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUGhvdG9HYWxsZXJ5UHJvcHMge1xuICBwaG90b0lkczogc3RyaW5nW107XG4gIGRpc3BsYXlNb2RlPzogJ2dhbGxlcnknIHwgJ2Nhcm91c2VsJyB8ICdsb29wJztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFBob3RvR2FsbGVyeSBDb21wb25lbnRcbiAqIFxuICogRGlzcGxheXMgcGhvdG9zIGluIGRpZmZlcmVudCBtb2RlczpcbiAqIC0gZ2FsbGVyeTogU3RhdGljIGdyaWQgbGF5b3V0XG4gKiAtIGNhcm91c2VsOiBEaXNjcmV0ZSBzbGlkZSB0cmFuc2l0aW9ucyB3aXRoIG5hdmlnYXRpb25cbiAqIC0gbG9vcDogQXV0by1wbGF5aW5nIGNvbnRpbnVvdXMgbG9vcFxuICogXG4gKiBGZXRjaGVzIHBob3RvIGRhdGEgZnJvbSBBUEkgYW5kIHJlbmRlcnMgd2l0aCBwcm9wZXIgZGlzcGxheSBtb2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gUGhvdG9HYWxsZXJ5KHsgcGhvdG9JZHMsIGRpc3BsYXlNb2RlID0gJ2dhbGxlcnknLCBjbGFzc05hbWUgPSAnJyB9OiBQaG90b0dhbGxlcnlQcm9wcykge1xuICBjb25zdCBbcGhvdG9zLCBzZXRQaG90b3NdID0gdXNlU3RhdGU8UGhvdG9bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRJbmRleCwgc2V0Q3VycmVudEluZGV4XSA9IHVzZVN0YXRlKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQaG90b3MoKSB7XG4gICAgICBpZiAoIXBob3RvSWRzIHx8IHBob3RvSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICAvLyBGZXRjaCBhbGwgcGhvdG9zIGluIHBhcmFsbGVsXG4gICAgICAgIGNvbnN0IHBob3RvUHJvbWlzZXMgPSBwaG90b0lkcy5tYXAoYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9waG90b3MvJHtpZH1gKTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggcGhvdG8gJHtpZH1gKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8gcmVzdWx0LmRhdGEgOiBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBmZXRjaGVkUGhvdG9zID0gYXdhaXQgUHJvbWlzZS5hbGwocGhvdG9Qcm9taXNlcyk7XG4gICAgICAgIGNvbnN0IHZhbGlkUGhvdG9zID0gZmV0Y2hlZFBob3Rvcy5maWx0ZXIoKHApOiBwIGlzIFBob3RvID0+IHAgIT09IG51bGwpO1xuICAgICAgICBcbiAgICAgICAgc2V0UGhvdG9zKHZhbGlkUGhvdG9zKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwaG90b3M6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHBob3RvcycpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hQaG90b3MoKTtcbiAgfSwgW3Bob3RvSWRzXSk7XG5cbiAgLy8gQXV0by1hZHZhbmNlIGZvciBsb29wIG1vZGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzcGxheU1vZGUgPT09ICdsb29wJyAmJiBwaG90b3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRJbmRleCgocHJldikgPT4gKHByZXYgKyAxKSAlIHBob3Rvcy5sZW5ndGgpO1xuICAgICAgfSwgMzAwMCk7IC8vIENoYW5nZSBwaG90byBldmVyeSAzIHNlY29uZHNcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwgW2Rpc3BsYXlNb2RlLCBwaG90b3MubGVuZ3RoXSk7XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BhbmltYXRlLXB1bHNlICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNhZ2UtMjAwIHJvdW5kZWQtbGcgaC02NCB3LWZ1bGxcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXJlZC02MDAgcC00IGJnLXJlZC01MCByb3VuZGVkLWxnICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgICB7ZXJyb3J9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKHBob3Rvcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIEdhbGxlcnkgR3JpZCBNb2RlXG4gIGlmIChkaXNwbGF5TW9kZSA9PT0gJ2dhbGxlcnknKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBtZDpncmlkLWNvbHMtMyBnYXAtNCAke2NsYXNzTmFtZX1gfT5cbiAgICAgICAge3Bob3Rvcy5tYXAoKHBob3RvKSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e3Bob3RvLmlkfSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBhc3BlY3Qtc3F1YXJlIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJnLXNhZ2UtMTAwXCI+XG4gICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgc3JjPXtwaG90by5waG90b191cmx9XG4gICAgICAgICAgICAgIGFsdD17cGhvdG8uYWx0X3RleHQgfHwgcGhvdG8uY2FwdGlvbiB8fCAnV2VkZGluZyBwaG90byd9XG4gICAgICAgICAgICAgIGZpbGxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib2JqZWN0LWNvdmVyIGhvdmVyOnNjYWxlLTEwNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDBcIlxuICAgICAgICAgICAgICBzaXplcz1cIihtYXgtd2lkdGg6IDY0MHB4KSAxMDB2dywgKG1heC13aWR0aDogNzY4cHgpIDUwdncsIDMzdndcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtwaG90by5jYXB0aW9uICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjay82MCB0ZXh0LXdoaXRlIHAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAge3Bob3RvLmNhcHRpb259XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gQ2Fyb3VzZWwgTW9kZSAod2l0aCBuYXZpZ2F0aW9uKVxuICBpZiAoZGlzcGxheU1vZGUgPT09ICdjYXJvdXNlbCcpIHtcbiAgICBjb25zdCBjdXJyZW50UGhvdG8gPSBwaG90b3NbY3VycmVudEluZGV4XTtcbiAgICBcbiAgICBjb25zdCBnb1RvUHJldmlvdXMgPSAoKSA9PiB7XG4gICAgICBzZXRDdXJyZW50SW5kZXgoKHByZXYpID0+IChwcmV2IC0gMSArIHBob3Rvcy5sZW5ndGgpICUgcGhvdG9zLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGdvVG9OZXh0ID0gKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluZGV4KChwcmV2KSA9PiAocHJldiArIDEpICUgcGhvdG9zLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YHJlbGF0aXZlICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC12aWRlbyBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBiZy1zYWdlLTEwMFwiPlxuICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgc3JjPXtjdXJyZW50UGhvdG8ucGhvdG9fdXJsfVxuICAgICAgICAgICAgYWx0PXtjdXJyZW50UGhvdG8uYWx0X3RleHQgfHwgY3VycmVudFBob3RvLmNhcHRpb24gfHwgJ1dlZGRpbmcgcGhvdG8nfVxuICAgICAgICAgICAgZmlsbFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwib2JqZWN0LWNvbnRhaW5cIlxuICAgICAgICAgICAgc2l6ZXM9XCIxMDB2d1wiXG4gICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgIC8+XG4gICAgICAgICAge2N1cnJlbnRQaG90by5jYXB0aW9uICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgYmctYmxhY2svNjAgdGV4dC13aGl0ZSBwLTMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAge2N1cnJlbnRQaG90by5jYXB0aW9ufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIE5hdmlnYXRpb24gQnV0dG9ucyAqL31cbiAgICAgICAge3Bob3Rvcy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtnb1RvUHJldmlvdXN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgYmctd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUgdGV4dC1ncmF5LTgwMCByb3VuZGVkLWZ1bGwgcC0yIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJQcmV2aW91cyBwaG90b1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xNSAxOWwtNy03IDctN1wiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2dvVG9OZXh0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBiZy13aGl0ZS85MCBob3ZlcjpiZy13aGl0ZSB0ZXh0LWdyYXktODAwIHJvdW5kZWQtZnVsbCBwLTIgc2hhZG93LWxnIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk5leHQgcGhvdG9cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOSA1bDcgNy03IDdcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICB7LyogRG90cyBJbmRpY2F0b3IgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgZ2FwLTIgbXQtNFwiPlxuICAgICAgICAgICAgICB7cGhvdG9zLm1hcCgoXywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudEluZGV4KGluZGV4KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMiBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID09PSBjdXJyZW50SW5kZXggPyAnYmctanVuZ2xlLTYwMCB3LTYnIDogJ2JnLXNhZ2UtMzAwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgR28gdG8gcGhvdG8gJHtpbmRleCArIDF9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIExvb3AgTW9kZSAoYXV0by1wbGF5aW5nKVxuICBpZiAoZGlzcGxheU1vZGUgPT09ICdsb29wJykge1xuICAgIGNvbnN0IGN1cnJlbnRQaG90byA9IHBob3Rvc1tjdXJyZW50SW5kZXhdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHtjbGFzc05hbWV9YH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYXNwZWN0LXZpZGVvIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJnLXNhZ2UtMTAwXCI+XG4gICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICBzcmM9e2N1cnJlbnRQaG90by5waG90b191cmx9XG4gICAgICAgICAgICBhbHQ9e2N1cnJlbnRQaG90by5hbHRfdGV4dCB8fCBjdXJyZW50UGhvdG8uY2FwdGlvbiB8fCAnV2VkZGluZyBwaG90byd9XG4gICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY292ZXIgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTEwMDBcIlxuICAgICAgICAgICAgc2l6ZXM9XCIxMDB2d1wiXG4gICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgIC8+XG4gICAgICAgICAge2N1cnJlbnRQaG90by5jYXB0aW9uICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgYmctYmxhY2svNjAgdGV4dC13aGl0ZSBwLTMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAge2N1cnJlbnRQaG90by5jYXB0aW9ufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFByb2dyZXNzIEluZGljYXRvciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0xIG10LTNcIj5cbiAgICAgICAgICB7cGhvdG9zLm1hcCgoXywgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC0xIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgIGluZGV4ID09PSBjdXJyZW50SW5kZXggPyAnYmctanVuZ2xlLTYwMCB3LTgnIDogJ2JnLXNhZ2UtMzAwIHctMidcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJQaG90b0dhbGxlcnkiLCJwaG90b0lkcyIsImRpc3BsYXlNb2RlIiwiY2xhc3NOYW1lIiwicGhvdG9zIiwic2V0UGhvdG9zIiwidXNlU3RhdGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJjdXJyZW50SW5kZXgiLCJzZXRDdXJyZW50SW5kZXgiLCJ1c2VFZmZlY3QiLCJmZXRjaFBob3RvcyIsImxlbmd0aCIsInBob3RvUHJvbWlzZXMiLCJtYXAiLCJpZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImNvbnNvbGUiLCJyZXN1bHQiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJmZXRjaGVkUGhvdG9zIiwiUHJvbWlzZSIsImFsbCIsInZhbGlkUGhvdG9zIiwiZmlsdGVyIiwicCIsImVyciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJwcmV2IiwiY2xlYXJJbnRlcnZhbCIsImRpdiIsInBob3RvIiwiSW1hZ2UiLCJzcmMiLCJwaG90b191cmwiLCJhbHQiLCJhbHRfdGV4dCIsImNhcHRpb24iLCJmaWxsIiwic2l6ZXMiLCJjdXJyZW50UGhvdG8iLCJnb1RvUHJldmlvdXMiLCJnb1RvTmV4dCIsInByaW9yaXR5IiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJzdmciLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsIl8iLCJpbmRleCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQTRCZ0JBOzs7ZUFBQUE7Ozs7dUJBMUJvQjs4REFDbEI7Ozs7OztBQXlCWCxTQUFTQSxhQUFhLEVBQUVDLFFBQVEsRUFBRUMsY0FBYyxTQUFTLEVBQUVDLFlBQVksRUFBRSxFQUFxQjtJQUNuRyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR0MsSUFBQUEsZUFBUSxFQUFVLEVBQUU7SUFDaEQsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNHLE9BQU9DLFNBQVMsR0FBR0osSUFBQUEsZUFBUSxFQUFnQjtJQUNsRCxNQUFNLENBQUNLLGNBQWNDLGdCQUFnQixHQUFHTixJQUFBQSxlQUFRLEVBQUM7SUFFakRPLElBQUFBLGdCQUFTLEVBQUM7UUFDUixlQUFlQztZQUNiLElBQUksQ0FBQ2IsWUFBWUEsU0FBU2MsTUFBTSxLQUFLLEdBQUc7Z0JBQ3RDUCxXQUFXO2dCQUNYO1lBQ0Y7WUFFQSxJQUFJO2dCQUNGQSxXQUFXO2dCQUNYRSxTQUFTO2dCQUVULCtCQUErQjtnQkFDL0IsTUFBTU0sZ0JBQWdCZixTQUFTZ0IsR0FBRyxDQUFDLE9BQU9D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