{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/PhotoGallery.test.tsx"],"sourcesContent":["import { render, screen, waitFor, fireEvent } from '@testing-library/react';\nimport { PhotoGallery } from './PhotoGallery';\n\n// Mock Next.js Image component\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: ({ src, alt, fill, className, ...props }: any) => (\n    // eslint-disable-next-line @next/next/no-img-element\n    <img src={src} alt={alt} className={className} {...props} />\n  ),\n}));\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\nconst mockPhotos = [\n  {\n    id: 'photo-1',\n    photo_url: 'https://example.com/photo1.jpg',\n    caption: 'Beautiful sunset',\n    alt_text: 'Sunset over the ocean',\n  },\n  {\n    id: 'photo-2',\n    photo_url: 'https://example.com/photo2.jpg',\n    caption: 'Mountain view',\n    alt_text: 'Mountains at dawn',\n  },\n  {\n    id: 'photo-3',\n    photo_url: 'https://example.com/photo3.jpg',\n    caption: 'Beach scene',\n    alt_text: 'Sandy beach',\n  },\n];\n\ndescribe('PhotoGallery', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  describe('Loading State', () => {\n    it('should show loading skeleton while fetching photos', () => {\n      (global.fetch as jest.Mock).mockImplementation(\n        () => new Promise(() => {}) // Never resolves\n      );\n\n      render(<PhotoGallery photoIds={['photo-1']} />);\n\n      expect(screen.getByRole('generic')).toHaveClass('animate-pulse');\n    });\n  });\n\n  describe('Error State', () => {\n    it('should display error message when fetch fails', async () => {\n      (global.fetch as jest.Mock).mockRejectedValue(new Error('Network error'));\n\n      render(<PhotoGallery photoIds={['photo-1']} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Failed to load photos')).toBeInTheDocument();\n      });\n    });\n\n    it('should handle individual photo fetch failures gracefully', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: false,\n          json: async () => ({ success: false }),\n        });\n\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      // Should only show the successfully fetched photo\n      expect(screen.queryByAltText('Mountains at dawn')).not.toBeInTheDocument();\n    });\n  });\n\n  describe('Empty State', () => {\n    it('should render nothing when photoIds is empty', async () => {\n      render(<PhotoGallery photoIds={[]} />);\n\n      await waitFor(() => {\n        expect(screen.queryByRole('img')).not.toBeInTheDocument();\n      });\n    });\n\n    it('should render nothing when no photoIds provided', async () => {\n      render(<PhotoGallery photoIds={[]} />);\n\n      await waitFor(() => {\n        expect(screen.queryByRole('img')).not.toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Gallery Mode', () => {\n    beforeEach(() => {\n      (global.fetch as jest.Mock).mockImplementation((url: string) => {\n        const photoId = url.split('/').pop();\n        const photo = mockPhotos.find((p) => p.id === photoId);\n        return Promise.resolve({\n          ok: true,\n          json: async () => ({ success: true, data: photo }),\n        });\n      });\n    });\n\n    it('should display photos in grid layout', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} displayMode=\"gallery\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n        expect(screen.getByAltText('Mountains at dawn')).toBeInTheDocument();\n        expect(screen.getByAltText('Sandy beach')).toBeInTheDocument();\n      });\n    });\n\n    it('should display captions for photos', async () => {\n      render(<PhotoGallery photoIds={['photo-1']} displayMode=\"gallery\" />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Beautiful sunset')).toBeInTheDocument();\n      });\n    });\n\n    it('should use alt text when provided', async () => {\n      render(<PhotoGallery photoIds={['photo-1']} displayMode=\"gallery\" />);\n\n      await waitFor(() => {\n        const img = screen.getByAltText('Sunset over the ocean');\n        expect(img).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Carousel Mode', () => {\n    beforeEach(() => {\n      (global.fetch as jest.Mock).mockImplementation((url: string) => {\n        const photoId = url.split('/').pop();\n        const photo = mockPhotos.find((p) => p.id === photoId);\n        return Promise.resolve({\n          ok: true,\n          json: async () => ({ success: true, data: photo }),\n        });\n      });\n    });\n\n    it('should display first photo initially', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      expect(screen.queryByAltText('Mountains at dawn')).not.toBeInTheDocument();\n    });\n\n    it('should show navigation buttons when multiple photos', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByLabelText('Previous photo')).toBeInTheDocument();\n        expect(screen.getByLabelText('Next photo')).toBeInTheDocument();\n      });\n    });\n\n    it('should navigate to next photo when next button clicked', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      const nextButton = screen.getByLabelText('Next photo');\n      fireEvent.click(nextButton);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Mountains at dawn')).toBeInTheDocument();\n      });\n    });\n\n    it('should navigate to previous photo when previous button clicked', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      const prevButton = screen.getByLabelText('Previous photo');\n      fireEvent.click(prevButton);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Mountains at dawn')).toBeInTheDocument();\n      });\n    });\n\n    it('should show dot indicators for navigation', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        const dots = screen.getAllByLabelText(/Go to photo \\d+/);\n        expect(dots).toHaveLength(3);\n      });\n    });\n\n    it('should navigate to specific photo when dot clicked', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      const thirdDot = screen.getByLabelText('Go to photo 3');\n      fireEvent.click(thirdDot);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sandy beach')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Loop Mode', () => {\n    beforeEach(() => {\n      (global.fetch as jest.Mock).mockImplementation((url: string) => {\n        const photoId = url.split('/').pop();\n        const photo = mockPhotos.find((p) => p.id === photoId);\n        return Promise.resolve({\n          ok: true,\n          json: async () => ({ success: true, data: photo }),\n        });\n      });\n    });\n\n    it('should display first photo initially', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"loop\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n    });\n\n    it('should auto-advance to next photo after 3 seconds', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"loop\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      // Fast-forward 3 seconds\n      jest.advanceTimersByTime(3000);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Mountains at dawn')).toBeInTheDocument();\n      });\n    });\n\n    it('should loop back to first photo after last photo', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"loop\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      // Advance through all photos\n      jest.advanceTimersByTime(3000); // Photo 2\n      jest.advanceTimersByTime(3000); // Back to photo 1\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n    });\n\n    it('should show progress indicators', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} displayMode=\"loop\" />);\n\n      await waitFor(() => {\n        const indicators = screen.getByRole('generic').querySelectorAll('.h-1');\n        expect(indicators).toHaveLength(3);\n      });\n    });\n\n    it('should not auto-advance with single photo', async () => {\n      render(<PhotoGallery photoIds={['photo-1']} displayMode=\"loop\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n      });\n\n      jest.advanceTimersByTime(5000);\n\n      // Should still show the same photo\n      expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n    });\n  });\n\n  describe('Photo Fetching', () => {\n    it('should fetch photos from correct API endpoint', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      render(<PhotoGallery photoIds={['photo-1']} />);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith('/api/admin/photos/photo-1');\n      });\n    });\n\n    it('should fetch multiple photos in parallel', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} />);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledTimes(3);\n      });\n    });\n\n    it('should filter out failed photo fetches', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: false,\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[2] }),\n        });\n\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2', 'photo-3']} displayMode=\"gallery\" />);\n\n      await waitFor(() => {\n        expect(screen.getByAltText('Sunset over the ocean')).toBeInTheDocument();\n        expect(screen.getByAltText('Sandy beach')).toBeInTheDocument();\n      });\n\n      expect(screen.queryByAltText('Mountains at dawn')).not.toBeInTheDocument();\n    });\n  });\n\n  describe('Accessibility', () => {\n    beforeEach(() => {\n      (global.fetch as jest.Mock).mockImplementation((url: string) => {\n        const photoId = url.split('/').pop();\n        const photo = mockPhotos.find((p) => p.id === photoId);\n        return Promise.resolve({\n          ok: true,\n          json: async () => ({ success: true, data: photo }),\n        });\n      });\n    });\n\n    it('should have accessible navigation buttons in carousel mode', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        const prevButton = screen.getByLabelText('Previous photo');\n        const nextButton = screen.getByLabelText('Next photo');\n        expect(prevButton).toBeInTheDocument();\n        expect(nextButton).toBeInTheDocument();\n      });\n    });\n\n    it('should have accessible dot navigation in carousel mode', async () => {\n      render(<PhotoGallery photoIds={['photo-1', 'photo-2']} displayMode=\"carousel\" />);\n\n      await waitFor(() => {\n        expect(screen.getByLabelText('Go to photo 1')).toBeInTheDocument();\n        expect(screen.getByLabelText('Go to photo 2')).toBeInTheDocument();\n      });\n    });\n\n    it('should use alt text for images', async () => {\n      render(<PhotoGallery photoIds={['photo-1']} />);\n\n      await waitFor(() => {\n        const img = screen.getByAltText('Sunset over the ocean');\n        expect(img).toHaveAttribute('alt', 'Sunset over the ocean');\n      });\n    });\n\n    it('should fallback to caption for alt text when alt_text not provided', async () => {\n      const photoWithoutAlt = {\n        id: 'photo-4',\n        photo_url: 'https://example.com/photo4.jpg',\n        caption: 'Test caption',\n      };\n\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: photoWithoutAlt }),\n      });\n\n      render(<PhotoGallery photoIds={['photo-4']} />);\n\n      await waitFor(() => {\n        const img = screen.getByAltText('Test caption');\n        expect(img).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["jest","mock","__esModule","default","src","alt","fill","className","props","img","global","fetch","fn","mockPhotos","id","photo_url","caption","alt_text","describe","beforeEach","clearAllMocks","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","it","mockImplementation","Promise","render","PhotoGallery","photoIds","expect","screen","getByRole","toHaveClass","mockRejectedValue","Error","waitFor","getByText","toBeInTheDocument","mockResolvedValueOnce","ok","json","success","data","getByAltText","queryByAltText","not","queryByRole","url","photoId","split","pop","photo","find","p","resolve","displayMode","getByLabelText","nextButton","fireEvent","click","prevButton","dots","getAllByLabelText","toHaveLength","thirdDot","advanceTimersByTime","indicators","querySelectorAll","mockResolvedValue","toHaveBeenCalledWith","toHaveBeenCalledTimes","toHaveAttribute","photoWithoutAlt"],"mappings":"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"}