ee64724f5132d996a2109469e9b65012
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useDebounce () {
        return useDebounce;
    },
    get useDebouncedCallback () {
        return useDebouncedCallback;
    },
    get useDebouncedSearch () {
        return useDebouncedSearch;
    }
});
const _react = require("react");
function useDebouncedSearch(initialValue = '', delay = 300) {
    const [value, setValue] = (0, _react.useState)(initialValue);
    const [debouncedValue, setDebouncedValue] = (0, _react.useState)(initialValue);
    const [isSearching, setIsSearching] = (0, _react.useState)(false);
    const timeoutRef = (0, _react.useRef)(null);
    (0, _react.useEffect)(()=>{
        // Clear any existing timeout
        if (timeoutRef.current) {
            clearTimeout(timeoutRef.current);
        }
        // Set loading state if value is different from debounced value
        if (value !== debouncedValue) {
            setIsSearching(true);
        }
        // Set new timeout
        timeoutRef.current = setTimeout(()=>{
            setDebouncedValue(value);
            setIsSearching(false);
        }, delay);
        // Cleanup on unmount or when value changes
        return ()=>{
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
            }
        };
    }, [
        value,
        delay,
        debouncedValue
    ]);
    // Cleanup on unmount
    (0, _react.useEffect)(()=>{
        return ()=>{
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
            }
        };
    }, []);
    const handleChange = (0, _react.useCallback)((newValue)=>{
        setValue(newValue);
    }, []);
    const reset = (0, _react.useCallback)(()=>{
        setValue('');
        setDebouncedValue('');
        setIsSearching(false);
        if (timeoutRef.current) {
            clearTimeout(timeoutRef.current);
        }
    }, []);
    return {
        value,
        debouncedValue,
        isSearching,
        setValue: handleChange,
        reset
    };
}
function useDebounce(value, delay = 300) {
    const [debouncedValue, setDebouncedValue] = (0, _react.useState)(value);
    (0, _react.useEffect)(()=>{
        const handler = setTimeout(()=>{
            setDebouncedValue(value);
        }, delay);
        return ()=>{
            clearTimeout(handler);
        };
    }, [
        value,
        delay
    ]);
    return debouncedValue;
}
function useDebouncedCallback(callback, delay = 300) {
    const timeoutRef = (0, _react.useRef)(null);
    const callbackRef = (0, _react.useRef)(callback);
    // Update callback ref when callback changes
    (0, _react.useEffect)(()=>{
        callbackRef.current = callback;
    }, [
        callback
    ]);
    // Cleanup on unmount
    (0, _react.useEffect)(()=>{
        return ()=>{
            if (timeoutRef.current) {
                clearTimeout(timeoutRef.current);
            }
        };
    }, []);
    return (0, _react.useCallback)((...args)=>{
        if (timeoutRef.current) {
            clearTimeout(timeoutRef.current);
        }
        timeoutRef.current = setTimeout(()=>{
            callbackRef.current(...args);
        }, delay);
    }, [
        delay
    ]);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvaG9va3MvdXNlRGVib3VuY2VkU2VhcmNoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIGRlYm91bmNlZCBzZWFyY2ggd2l0aCBsb2FkaW5nIGluZGljYXRvclxuICogXG4gKiBGZWF0dXJlczpcbiAqIC0gMzAwbXMgZGVib3VuY2UgZGVsYXlcbiAqIC0gTG9hZGluZyBzdGF0ZSBkdXJpbmcgZGVib3VuY2VcbiAqIC0gQ2FuY2VscyBwZW5kaW5nIHNlYXJjaGVzIG9uIHVubW91bnRcbiAqIC0gUHJvdmlkZXMgaW1tZWRpYXRlIHZhbHVlIGZvciBjb250cm9sbGVkIGlucHV0XG4gKiBcbiAqIEBwYXJhbSBpbml0aWFsVmFsdWUgLSBJbml0aWFsIHNlYXJjaCB2YWx1ZVxuICogQHBhcmFtIGRlbGF5IC0gRGVib3VuY2UgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0OiAzMDApXG4gKiBAcmV0dXJucyBPYmplY3Qgd2l0aCB2YWx1ZSwgZGVib3VuY2VkVmFsdWUsIGlzU2VhcmNoaW5nLCBhbmQgc2V0VmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlYm91bmNlZFNlYXJjaChpbml0aWFsVmFsdWU6IHN0cmluZyA9ICcnLCBkZWxheTogbnVtYmVyID0gMzAwKSB7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3QgW2RlYm91bmNlZFZhbHVlLCBzZXREZWJvdW5jZWRWYWx1ZV0gPSB1c2VTdGF0ZShpbml0aWFsVmFsdWUpO1xuICBjb25zdCBbaXNTZWFyY2hpbmcsIHNldElzU2VhcmNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVvdXRcbiAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgbG9hZGluZyBzdGF0ZSBpZiB2YWx1ZSBpcyBkaWZmZXJlbnQgZnJvbSBkZWJvdW5jZWQgdmFsdWVcbiAgICBpZiAodmFsdWUgIT09IGRlYm91bmNlZFZhbHVlKSB7XG4gICAgICBzZXRJc1NlYXJjaGluZyh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgbmV3IHRpbWVvdXRcbiAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldERlYm91bmNlZFZhbHVlKHZhbHVlKTtcbiAgICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTtcbiAgICB9LCBkZWxheSk7XG5cbiAgICAvLyBDbGVhbnVwIG9uIHVubW91bnQgb3Igd2hlbiB2YWx1ZSBjaGFuZ2VzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3ZhbHVlLCBkZWxheSwgZGVib3VuY2VkVmFsdWVdKTtcblxuICAvLyBDbGVhbnVwIG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKG5ld1ZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRWYWx1ZShuZXdWYWx1ZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRWYWx1ZSgnJyk7XG4gICAgc2V0RGVib3VuY2VkVmFsdWUoJycpO1xuICAgIHNldElzU2VhcmNoaW5nKGZhbHNlKTtcbiAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIHZhbHVlLFxuICAgIGRlYm91bmNlZFZhbHVlLFxuICAgIGlzU2VhcmNoaW5nLFxuICAgIHNldFZhbHVlOiBoYW5kbGVDaGFuZ2UsXG4gICAgcmVzZXQsXG4gIH07XG59XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIGRlYm91bmNlZCB2YWx1ZSAoZ2VuZXJpYylcbiAqIFxuICogQHBhcmFtIHZhbHVlIC0gVmFsdWUgdG8gZGVib3VuY2VcbiAqIEBwYXJhbSBkZWxheSAtIERlYm91bmNlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyAoZGVmYXVsdDogMzAwKVxuICogQHJldHVybnMgRGVib3VuY2VkIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWJvdW5jZTxUPih2YWx1ZTogVCwgZGVsYXk6IG51bWJlciA9IDMwMCk6IFQge1xuICBjb25zdCBbZGVib3VuY2VkVmFsdWUsIHNldERlYm91bmNlZFZhbHVlXSA9IHVzZVN0YXRlPFQ+KHZhbHVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldERlYm91bmNlZFZhbHVlKHZhbHVlKTtcbiAgICB9LCBkZWxheSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFt2YWx1ZSwgZGVsYXldKTtcblxuICByZXR1cm4gZGVib3VuY2VkVmFsdWU7XG59XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIGRlYm91bmNlZCBjYWxsYmFja1xuICogXG4gKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBkZWJvdW5jZVxuICogQHBhcmFtIGRlbGF5IC0gRGVib3VuY2UgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIChkZWZhdWx0OiAzMDApXG4gKiBAcmV0dXJucyBEZWJvdW5jZWQgY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlYm91bmNlZENhbGxiYWNrPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG4gIGNhbGxiYWNrOiBULFxuICBkZWxheTogbnVtYmVyID0gMzAwXG4pOiAoLi4uYXJnczogUGFyYW1ldGVyczxUPikgPT4gdm9pZCB7XG4gIGNvbnN0IHRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY2FsbGJhY2tSZWYgPSB1c2VSZWYoY2FsbGJhY2spO1xuXG4gIC8vIFVwZGF0ZSBjYWxsYmFjayByZWYgd2hlbiBjYWxsYmFjayBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tSZWYuY3VycmVudCA9IGNhbGxiYWNrO1xuICB9LCBbY2FsbGJhY2tdKTtcblxuICAvLyBDbGVhbnVwIG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHVzZUNhbGxiYWNrKFxuICAgICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB7XG4gICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2FsbGJhY2tSZWYuY3VycmVudCguLi5hcmdzKTtcbiAgICAgIH0sIGRlbGF5KTtcbiAgICB9LFxuICAgIFtkZWxheV1cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VEZWJvdW5jZSIsInVzZURlYm91bmNlZENhbGxiYWNrIiwidXNlRGVib3VuY2VkU2VhcmNoIiwiaW5pdGlhbFZhbHVlIiwiZGVsYXkiLCJ2YWx1ZSIsInNldFZhbHVlIiwidXNlU3RhdGUiLCJkZWJvdW5jZWRWYWx1ZSIsInNldERlYm91bmNlZFZhbHVlIiwiaXNTZWFyY2hpbmciLCJzZXRJc1NlYXJjaGluZyIsInRpbWVvdXRSZWYiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImhhbmRsZUNoYW5nZSIsInVzZUNhbGxiYWNrIiwibmV3VmFsdWUiLCJyZXNldCIsImhhbmRsZXIiLCJjYWxsYmFjayIsImNhbGxiYWNrUmVmIiwiYXJncyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7UUFvRmdCQTtlQUFBQTs7UUF1QkFDO2VBQUFBOztRQTVGQUM7ZUFBQUE7Ozt1QkFmeUM7QUFlbEQsU0FBU0EsbUJBQW1CQyxlQUF1QixFQUFFLEVBQUVDLFFBQWdCLEdBQUc7SUFDL0UsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdDLElBQUFBLGVBQVEsRUFBQ0o7SUFDbkMsTUFBTSxDQUFDSyxnQkFBZ0JDLGtCQUFrQixHQUFHRixJQUFBQSxlQUFRLEVBQUNKO0lBQ3JELE1BQU0sQ0FBQ08sYUFBYUMsZUFBZSxHQUFHSixJQUFBQSxlQUFRLEVBQUM7SUFDL0MsTUFBTUssYUFBYUMsSUFBQUEsYUFBTSxFQUF3QjtJQUVqREMsSUFBQUEsZ0JBQVMsRUFBQztRQUNSLDZCQUE2QjtRQUM3QixJQUFJRixXQUFXRyxPQUFPLEVBQUU7WUFDdEJDLGFBQWFKLFdBQVdHLE9BQU87UUFDakM7UUFFQSwrREFBK0Q7UUFDL0QsSUFBSVYsVUFBVUcsZ0JBQWdCO1lBQzVCRyxlQUFlO1FBQ2pCO1FBRUEsa0JBQWtCO1FBQ2xCQyxXQUFXRyxPQUFPLEdBQUdFLFdBQVc7WUFDOUJSLGtCQUFrQko7WUFDbEJNLGVBQWU7UUFDakIsR0FBR1A7UUFFSCwyQ0FBMkM7UUFDM0MsT0FBTztZQUNMLElBQUlRLFdBQVdHLE9BQU8sRUFBRTtnQkFDdEJDLGFBQWFKLFdBQVdHLE9BQU87WUFDakM7UUFDRjtJQUNGLEdBQUc7UUFBQ1Y7UUFBT0Q7UUFBT0k7S0FBZTtJQUVqQyxxQkFBcUI7SUFDckJNLElBQUFBLGdCQUFTLEVBQUM7UUFDUixPQUFPO1lBQ0wsSUFBSUYsV0FBV0csT0FBTyxFQUFFO2dCQUN0QkMsYUFBYUosV0FBV0csT0FBTztZQUNqQztRQUNGO0lBQ0YsR0FBRyxFQUFFO0lBRUwsTUFBTUcsZUFBZUMsSUFBQUEsa0JBQVcsRUFBQyxDQUFDQztRQUNoQ2QsU0FBU2M7SUFDWCxHQUFHLEVBQUU7SUFFTCxNQUFNQyxRQUFRRixJQUFBQSxrQkFBVyxFQUFDO1FBQ3hCYixTQUFTO1FBQ1RHLGtCQUFrQjtRQUNsQkUsZUFBZTtRQUNmLElBQUlDLFdBQVdHLE9BQU8sRUFBRTtZQUN0QkMsYUFBYUosV0FBV0csT0FBTztRQUNqQztJQUNGLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFDTFY7UUFDQUc7UUFDQUU7UUFDQUosVUFBVVk7UUFDVkc7SUFDRjtBQUNGO0FBU08sU0FBU3JCLFlBQWVLLEtBQVEsRUFBRUQsUUFBZ0IsR0FBRztJQUMxRCxNQUFNLENBQUNJLGdCQUFnQkMsa0JBQWtCLEdBQUdGLElBQUFBLGVBQVEsRUFBSUY7SUFFeERTLElBQUFBLGdCQUFTLEVBQUM7UUFDUixNQUFNUSxVQUFVTCxXQUFXO1lBQ3pCUixrQkFBa0JKO1FBQ3BCLEdBQUdEO1FBRUgsT0FBTztZQUNMWSxhQUFhTTtRQUNmO0lBQ0YsR0FBRztRQUFDakI7UUFBT0Q7S0FBTTtJQUVqQixPQUFPSTtBQUNUO0FBU08sU0FBU1AscUJBQ2RzQixRQUFXLEVBQ1huQixRQUFnQixHQUFHO0lBRW5CLE1BQU1RLGFBQWFDLElBQUFBLGFBQU0sRUFBd0I7SUFDakQsTUFBTVcsY0FBY1gsSUFBQUEsYUFBTSxFQUFDVTtJQUUzQiw0Q0FBNEM7SUFDNUNULElBQUFBLGdCQUFTLEVBQUM7UUFDUlUsWUFBWVQsT0FBTyxHQUFHUTtJQUN4QixHQUFHO1FBQUNBO0tBQVM7SUFFYixxQkFBcUI7SUFDckJULElBQUFBLGdCQUFTLEVBQUM7UUFDUixPQUFPO1lBQ0wsSUFBSUYsV0FBV0csT0FBTyxFQUFFO2dCQUN0QkMsYUFBYUosV0FBV0csT0FBTztZQUNqQztRQUNGO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBT0ksSUFBQUEsa0JBQVcsRUFDaEIsQ0FBQyxHQUFHTTtRQUNGLElBQUliLFdBQVdHLE9BQU8sRUFBRTtZQUN0QkMsYUFBYUosV0FBV0csT0FBTztRQUNqQztRQUVBSCxXQUFXRyxPQUFPLEdBQUdFLFdBQVc7WUFDOUJPLFlBQVlULE9BQU8sSUFBSVU7UUFDekIsR0FBR3JCO0lBQ0wsR0FDQTtRQUFDQTtLQUFNO0FBRVgifQ==