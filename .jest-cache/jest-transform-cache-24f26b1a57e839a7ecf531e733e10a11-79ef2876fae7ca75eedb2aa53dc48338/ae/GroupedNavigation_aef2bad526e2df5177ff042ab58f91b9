69a265b3855d1d950f9d71674b725531
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "GroupedNavigation", {
    enumerable: true,
    get: function() {
        return GroupedNavigation;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _link = /*#__PURE__*/ _interop_require_default(require("next/link"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const STORAGE_KEY = 'admin_nav_expanded_groups';
function GroupedNavigation({ pendingPhotosCount = 0, isCollapsed = false, onNavigate }) {
    const pathname = (0, _navigation.usePathname)();
    const [expandedGroups, setExpandedGroups] = (0, _react.useState)(new Set());
    const [pendingCount, setPendingCount] = (0, _react.useState)(pendingPhotosCount);
    // Load expanded groups from localStorage
    (0, _react.useEffect)(()=>{
        try {
            const stored = localStorage.getItem(STORAGE_KEY);
            if (stored) {
                const parsed = JSON.parse(stored);
                setExpandedGroups(new Set(parsed));
            } else {
                // Default: expand all groups
                setExpandedGroups(new Set([
                    'quick-actions',
                    'guest-management',
                    'event-planning',
                    'logistics',
                    'content',
                    'communication',
                    'financial',
                    'system'
                ]));
            }
        } catch (error) {
            console.error('Failed to load expanded groups:', error);
        }
    }, []);
    // Save expanded groups to localStorage
    (0, _react.useEffect)(()=>{
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(expandedGroups)));
        } catch (error) {
            console.error('Failed to save expanded groups:', error);
        }
    }, [
        expandedGroups
    ]);
    // Update pending count when prop changes
    (0, _react.useEffect)(()=>{
        setPendingCount(pendingPhotosCount);
    }, [
        pendingPhotosCount
    ]);
    // Listen for photo moderation events
    (0, _react.useEffect)(()=>{
        const handlePhotoModerated = async ()=>{
            try {
                const response = await fetch('/api/admin/photos/pending-count');
                const result = await response.json();
                if (result.success) {
                    setPendingCount(result.data.count);
                }
            } catch (error) {
                console.error('Failed to fetch pending photo count:', error);
            }
        };
        window.addEventListener('photoModerated', handlePhotoModerated);
        return ()=>window.removeEventListener('photoModerated', handlePhotoModerated);
    }, []);
    // Listen for storage events (sync across tabs)
    (0, _react.useEffect)(()=>{
        const handleStorageChange = (e)=>{
            if (e.key === STORAGE_KEY && e.newValue) {
                try {
                    const parsed = JSON.parse(e.newValue);
                    setExpandedGroups(new Set(parsed));
                } catch (error) {
                    console.error('Failed to sync expanded groups:', error);
                }
            }
        };
        window.addEventListener('storage', handleStorageChange);
        return ()=>window.removeEventListener('storage', handleStorageChange);
    }, []);
    const navigationGroups = [
        {
            id: 'quick-actions',
            label: 'Quick Actions',
            icon: 'âš¡',
            items: [
                {
                    id: 'preview-portal',
                    label: 'Preview Guest Portal',
                    href: '/',
                    external: true
                }
            ]
        },
        {
            id: 'guest-management',
            label: 'Guest Management',
            icon: 'ðŸ‘¥',
            items: [
                {
                    id: 'guests',
                    label: 'Guests & Groups',
                    href: '/admin/guests'
                },
                {
                    id: 'rsvps',
                    label: 'RSVPs',
                    href: '/admin/rsvps'
                }
            ]
        },
        {
            id: 'event-planning',
            label: 'Event Planning',
            icon: 'ðŸ“…',
            items: [
                {
                    id: 'events',
                    label: 'Events',
                    href: '/admin/events'
                },
                {
                    id: 'activities',
                    label: 'Activities',
                    href: '/admin/activities'
                }
            ]
        },
        {
            id: 'logistics',
            label: 'Logistics',
            icon: 'ðŸš—',
            items: [
                {
                    id: 'accommodations',
                    label: 'Accommodations',
                    href: '/admin/accommodations'
                },
                {
                    id: 'transportation',
                    label: 'Transportation',
                    href: '/admin/transportation'
                },
                {
                    id: 'vendors',
                    label: 'Vendors',
                    href: '/admin/vendors'
                }
            ]
        },
        {
            id: 'content',
            label: 'Content',
            icon: 'ðŸ“',
            items: [
                {
                    id: 'home-page',
                    label: 'Home Page',
                    href: '/admin/home-page'
                },
                {
                    id: 'content-pages',
                    label: 'Content Pages',
                    href: '/admin/content-pages'
                },
                {
                    id: 'locations',
                    label: 'Locations',
                    href: '/admin/locations'
                },
                {
                    id: 'photos',
                    label: 'Photos',
                    href: '/admin/photos',
                    badge: pendingCount
                }
            ],
            badge: pendingCount > 0 ? pendingCount : undefined
        },
        {
            id: 'communication',
            label: 'Communication',
            icon: 'âœ‰ï¸',
            items: [
                {
                    id: 'emails',
                    label: 'Emails',
                    href: '/admin/emails'
                },
                {
                    id: 'rsvp-analytics',
                    label: 'RSVP Analytics',
                    href: '/admin/rsvp-analytics'
                }
            ]
        },
        {
            id: 'financial',
            label: 'Financial',
            icon: 'ðŸ’°',
            items: [
                {
                    id: 'budget',
                    label: 'Budget',
                    href: '/admin/budget'
                }
            ]
        },
        {
            id: 'system',
            label: 'System',
            icon: 'âš™ï¸',
            items: [
                {
                    id: 'settings',
                    label: 'Settings',
                    href: '/admin/settings'
                },
                {
                    id: 'audit-logs',
                    label: 'Audit Logs',
                    href: '/admin/audit-logs'
                },
                {
                    id: 'deleted-items',
                    label: 'Deleted Items',
                    href: '/admin/deleted-items'
                }
            ]
        }
    ];
    const toggleGroup = (0, _react.useCallback)((groupId)=>{
        setExpandedGroups((prev)=>{
            const next = new Set(prev);
            if (next.has(groupId)) {
                next.delete(groupId);
            } else {
                next.add(groupId);
            }
            return next;
        });
    }, []);
    const isActive = (href)=>{
        if (href === '/admin') {
            return pathname === '/admin';
        }
        return pathname?.startsWith(href);
    };
    const isGroupActive = (group)=>{
        return group.items.some((item)=>isActive(item.href));
    };
    const handleKeyDown = (e, groupId)=>{
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            toggleGroup(groupId);
        }
    };
    if (isCollapsed) {
        // Collapsed view: show only icons
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
            className: "p-2 space-y-1",
            "aria-label": "Admin sections",
            children: navigationGroups.map((group)=>{
                const active = isGroupActive(group);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "relative",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        className: `w-full flex items-center justify-center p-3 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-label": group.label,
                        title: group.label,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "absolute top-1 right-1 w-2 h-2 bg-volcano-500 rounded-full",
                                "aria-label": `${group.badge} pending`
                            })
                        ]
                    })
                }, group.id);
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
        className: "p-2 space-y-2",
        "aria-label": "Admin sections",
        children: navigationGroups.map((group)=>{
            const isExpanded = expandedGroups.has(group.id);
            const active = isGroupActive(group);
            return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-1",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                        onClick: ()=>toggleGroup(group.id),
                        onKeyDown: (e)=>handleKeyDown(e, group.id),
                        className: `w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 min-h-[44px] ${active ? 'bg-jungle-50 text-jungle-700 font-medium' : 'text-sage-700 hover:bg-sage-50 hover:text-sage-900'}`,
                        "aria-expanded": isExpanded,
                        "aria-label": `${group.label} section`,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-xl flex-shrink-0",
                                "aria-hidden": "true",
                                children: group.icon
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "flex-1 text-left",
                                children: group.label
                            }),
                            group.badge !== undefined && group.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                "aria-label": `${group.badge} pending`,
                                children: group.badge
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: `text-sm transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`,
                                "aria-hidden": "true",
                                children: "â–¶"
                            })
                        ]
                    }),
                    isExpanded && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "ml-6 space-y-1",
                        role: "group",
                        "aria-label": `${group.label} items`,
                        children: group.items.map((item)=>{
                            const itemActive = isActive(item.href);
                            const linkProps = item.external ? {
                                target: '_blank',
                                rel: 'noopener noreferrer'
                            } : {};
                            return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_link.default, {
                                href: item.href,
                                ...linkProps,
                                className: `flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 min-h-[44px] ${itemActive ? 'bg-jungle-100 text-jungle-800 font-medium' : 'text-sage-600 hover:bg-sage-50 hover:text-sage-900'}`,
                                "aria-label": item.label,
                                "aria-current": itemActive ? 'page' : undefined,
                                onClick: onNavigate,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "flex-1",
                                        children: item.label
                                    }),
                                    item.badge !== undefined && item.badge > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "px-2 py-0.5 bg-volcano-500 text-white text-xs font-medium rounded-full min-w-[24px] text-center",
                                        "aria-label": `${item.badge} pending`,
                                        children: item.badge
                                    }),
                                    item.external && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-xs",
                                        "aria-hidden": "true",
                                        children: "â†—"
                                    })
                                ]
                            }, item.id);
                        })
                    })
                ]
            }, group.id);
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Hcm91cGVkTmF2aWdhdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uSXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgYmFkZ2U/OiBudW1iZXI7XG4gIGV4dGVybmFsPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE5hdmlnYXRpb25Hcm91cCB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGljb246IHN0cmluZztcbiAgaXRlbXM6IE5hdmlnYXRpb25JdGVtW107XG4gIGJhZGdlPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgR3JvdXBlZE5hdmlnYXRpb25Qcm9wcyB7XG4gIHBlbmRpbmdQaG90b3NDb3VudD86IG51bWJlcjtcbiAgaXNDb2xsYXBzZWQ/OiBib29sZWFuO1xuICBvbk5hdmlnYXRlPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgU1RPUkFHRV9LRVkgPSAnYWRtaW5fbmF2X2V4cGFuZGVkX2dyb3Vwcyc7XG5cbi8qKlxuICogR3JvdXBlZE5hdmlnYXRpb24gQ29tcG9uZW50XG4gKiBcbiAqIE9yZ2FuaXplZCBuYXZpZ2F0aW9uIHdpdGggbG9naWNhbCBncm91cGluZzpcbiAqIC0gUXVpY2sgQWN0aW9ucywgR3Vlc3QgTWFuYWdlbWVudCwgRXZlbnQgUGxhbm5pbmcsIExvZ2lzdGljcywgQ29udGVudCwgQ29tbXVuaWNhdGlvbiwgRmluYW5jaWFsLCBTeXN0ZW1cbiAqIC0gRXhwYW5kL2NvbGxhcHNlIGZ1bmN0aW9uYWxpdHkgd2l0aCBsb2NhbFN0b3JhZ2UgcGVyc2lzdGVuY2VcbiAqIC0gQmFkZ2Ugc3VwcG9ydCBmb3IgcGVuZGluZyBpdGVtc1xuICogLSBLZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnRcbiAqIC0gTW9iaWxlIHJlc3BvbnNpdmVcbiAqIC0gRXh0ZXJuYWwgbGluayBzdXBwb3J0IHdpdGggdGFyZ2V0PVwiX2JsYW5rXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEdyb3VwZWROYXZpZ2F0aW9uKHsgXG4gIHBlbmRpbmdQaG90b3NDb3VudCA9IDAsIFxuICBpc0NvbGxhcHNlZCA9IGZhbHNlLFxuICBvbk5hdmlnYXRlIFxufTogR3JvdXBlZE5hdmlnYXRpb25Qcm9wcykge1xuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKCk7XG4gIGNvbnN0IFtleHBhbmRlZEdyb3Vwcywgc2V0RXhwYW5kZWRHcm91cHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFtwZW5kaW5nQ291bnQsIHNldFBlbmRpbmdDb3VudF0gPSB1c2VTdGF0ZShwZW5kaW5nUGhvdG9zQ291bnQpO1xuXG4gIC8vIExvYWQgZXhwYW5kZWQgZ3JvdXBzIGZyb20gbG9jYWxTdG9yYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcbiAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgICBzZXRFeHBhbmRlZEdyb3VwcyhuZXcgU2V0KHBhcnNlZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdDogZXhwYW5kIGFsbCBncm91cHNcbiAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChbXG4gICAgICAgICAgJ3F1aWNrLWFjdGlvbnMnLFxuICAgICAgICAgICdndWVzdC1tYW5hZ2VtZW50JyxcbiAgICAgICAgICAnZXZlbnQtcGxhbm5pbmcnLFxuICAgICAgICAgICdsb2dpc3RpY3MnLFxuICAgICAgICAgICdjb250ZW50JyxcbiAgICAgICAgICAnY29tbXVuaWNhdGlvbicsXG4gICAgICAgICAgJ2ZpbmFuY2lhbCcsXG4gICAgICAgICAgJ3N5c3RlbSdcbiAgICAgICAgXSkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgZXhwYW5kZWQgZ3JvdXBzIHRvIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShleHBhbmRlZEdyb3VwcykpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZXhwYW5kZWQgZ3JvdXBzOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtleHBhbmRlZEdyb3Vwc10pO1xuXG4gIC8vIFVwZGF0ZSBwZW5kaW5nIGNvdW50IHdoZW4gcHJvcCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGVuZGluZ0NvdW50KHBlbmRpbmdQaG90b3NDb3VudCk7XG4gIH0sIFtwZW5kaW5nUGhvdG9zQ291bnRdKTtcblxuICAvLyBMaXN0ZW4gZm9yIHBob3RvIG1vZGVyYXRpb24gZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUGhvdG9Nb2RlcmF0ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3Bob3Rvcy9wZW5kaW5nLWNvdW50Jyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgc2V0UGVuZGluZ0NvdW50KHJlc3VsdC5kYXRhLmNvdW50KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHBlbmRpbmcgcGhvdG8gY291bnQ6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGhvdG9Nb2RlcmF0ZWQnLCBoYW5kbGVQaG90b01vZGVyYXRlZCk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwaG90b01vZGVyYXRlZCcsIGhhbmRsZVBob3RvTW9kZXJhdGVkKTtcbiAgfSwgW10pO1xuXG4gIC8vIExpc3RlbiBmb3Igc3RvcmFnZSBldmVudHMgKHN5bmMgYWNyb3NzIHRhYnMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gU1RPUkFHRV9LRVkgJiYgZS5uZXdWYWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICAgICAgc2V0RXhwYW5kZWRHcm91cHMobmV3IFNldChwYXJzZWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3luYyBleHBhbmRlZCBncm91cHM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgaGFuZGxlU3RvcmFnZUNoYW5nZSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uR3JvdXBzOiBOYXZpZ2F0aW9uR3JvdXBbXSA9IFtcbiAgICB7XG4gICAgICBpZDogJ3F1aWNrLWFjdGlvbnMnLFxuICAgICAgbGFiZWw6ICdRdWljayBBY3Rpb25zJyxcbiAgICAgIGljb246ICfimqEnLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ3ByZXZpZXctcG9ydGFsJywgbGFiZWw6ICdQcmV2aWV3IEd1ZXN0IFBvcnRhbCcsIGhyZWY6ICcvJywgZXh0ZXJuYWw6IHRydWUgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2d1ZXN0LW1hbmFnZW1lbnQnLFxuICAgICAgbGFiZWw6ICdHdWVzdCBNYW5hZ2VtZW50JyxcbiAgICAgIGljb246ICfwn5GlJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdndWVzdHMnLCBsYWJlbDogJ0d1ZXN0cyAmIEdyb3VwcycsIGhyZWY6ICcvYWRtaW4vZ3Vlc3RzJyB9LFxuICAgICAgICB7IGlkOiAncnN2cHMnLCBsYWJlbDogJ1JTVlBzJywgaHJlZjogJy9hZG1pbi9yc3ZwcycgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2V2ZW50LXBsYW5uaW5nJyxcbiAgICAgIGxhYmVsOiAnRXZlbnQgUGxhbm5pbmcnLFxuICAgICAgaWNvbjogJ/Cfk4UnLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ2V2ZW50cycsIGxhYmVsOiAnRXZlbnRzJywgaHJlZjogJy9hZG1pbi9ldmVudHMnIH0sXG4gICAgICAgIHsgaWQ6ICdhY3Rpdml0aWVzJywgbGFiZWw6ICdBY3Rpdml0aWVzJywgaHJlZjogJy9hZG1pbi9hY3Rpdml0aWVzJyB9LFxuICAgICAgICAvLyBMb2NhdGlvbnMgd2lsbCBiZSBhZGRlZCBpbiBmdXR1cmUgdGFza3NcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2xvZ2lzdGljcycsXG4gICAgICBsYWJlbDogJ0xvZ2lzdGljcycsXG4gICAgICBpY29uOiAn8J+alycsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IGlkOiAnYWNjb21tb2RhdGlvbnMnLCBsYWJlbDogJ0FjY29tbW9kYXRpb25zJywgaHJlZjogJy9hZG1pbi9hY2NvbW1vZGF0aW9ucycgfSxcbiAgICAgICAgeyBpZDogJ3RyYW5zcG9ydGF0aW9uJywgbGFiZWw6ICdUcmFuc3BvcnRhdGlvbicsIGhyZWY6ICcvYWRtaW4vdHJhbnNwb3J0YXRpb24nIH0sXG4gICAgICAgIHsgaWQ6ICd2ZW5kb3JzJywgbGFiZWw6ICdWZW5kb3JzJywgaHJlZjogJy9hZG1pbi92ZW5kb3JzJyB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnY29udGVudCcsXG4gICAgICBsYWJlbDogJ0NvbnRlbnQnLFxuICAgICAgaWNvbjogJ/Cfk50nLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ2hvbWUtcGFnZScsIGxhYmVsOiAnSG9tZSBQYWdlJywgaHJlZjogJy9hZG1pbi9ob21lLXBhZ2UnIH0sXG4gICAgICAgIHsgaWQ6ICdjb250ZW50LXBhZ2VzJywgbGFiZWw6ICdDb250ZW50IFBhZ2VzJywgaHJlZjogJy9hZG1pbi9jb250ZW50LXBhZ2VzJyB9LFxuICAgICAgICB7IGlkOiAnbG9jYXRpb25zJywgbGFiZWw6ICdMb2NhdGlvbnMnLCBocmVmOiAnL2FkbWluL2xvY2F0aW9ucycgfSxcbiAgICAgICAgeyBpZDogJ3Bob3RvcycsIGxhYmVsOiAnUGhvdG9zJywgaHJlZjogJy9hZG1pbi9waG90b3MnLCBiYWRnZTogcGVuZGluZ0NvdW50IH0sXG4gICAgICBdLFxuICAgICAgYmFkZ2U6IHBlbmRpbmdDb3VudCA+IDAgPyBwZW5kaW5nQ291bnQgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ2NvbW11bmljYXRpb24nLFxuICAgICAgbGFiZWw6ICdDb21tdW5pY2F0aW9uJyxcbiAgICAgIGljb246ICfinInvuI8nLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAgeyBpZDogJ2VtYWlscycsIGxhYmVsOiAnRW1haWxzJywgaHJlZjogJy9hZG1pbi9lbWFpbHMnIH0sXG4gICAgICAgIHsgaWQ6ICdyc3ZwLWFuYWx5dGljcycsIGxhYmVsOiAnUlNWUCBBbmFseXRpY3MnLCBocmVmOiAnL2FkbWluL3JzdnAtYW5hbHl0aWNzJyB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnZmluYW5jaWFsJyxcbiAgICAgIGxhYmVsOiAnRmluYW5jaWFsJyxcbiAgICAgIGljb246ICfwn5KwJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdidWRnZXQnLCBsYWJlbDogJ0J1ZGdldCcsIGhyZWY6ICcvYWRtaW4vYnVkZ2V0JyB9LFxuICAgICAgICAvLyBWZW5kb3IgUGF5bWVudHMgd2lsbCBiZSBhZGRlZCBpbiBmdXR1cmUgdGFza3NcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogJ3N5c3RlbScsXG4gICAgICBsYWJlbDogJ1N5c3RlbScsXG4gICAgICBpY29uOiAn4pqZ77iPJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgaWQ6ICdzZXR0aW5ncycsIGxhYmVsOiAnU2V0dGluZ3MnLCBocmVmOiAnL2FkbWluL3NldHRpbmdzJyB9LFxuICAgICAgICB7IGlkOiAnYXVkaXQtbG9ncycsIGxhYmVsOiAnQXVkaXQgTG9ncycsIGhyZWY6ICcvYWRtaW4vYXVkaXQtbG9ncycgfSxcbiAgICAgICAgeyBpZDogJ2RlbGV0ZWQtaXRlbXMnLCBsYWJlbDogJ0RlbGV0ZWQgSXRlbXMnLCBocmVmOiAnL2FkbWluL2RlbGV0ZWQtaXRlbXMnIH0sXG4gICAgICAgIC8vIFVzZXIgTWFuYWdlbWVudCB3aWxsIGJlIGFkZGVkIGluIGZ1dHVyZSB0YXNrc1xuICAgICAgXSxcbiAgICB9LFxuICBdO1xuXG4gIGNvbnN0IHRvZ2dsZUdyb3VwID0gdXNlQ2FsbGJhY2soKGdyb3VwSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEV4cGFuZGVkR3JvdXBzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwcmV2KTtcbiAgICAgIGlmIChuZXh0Lmhhcyhncm91cElkKSkge1xuICAgICAgICBuZXh0LmRlbGV0ZShncm91cElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQuYWRkKGdyb3VwSWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBpc0FjdGl2ZSA9IChocmVmOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaHJlZiA9PT0gJy9hZG1pbicpIHtcbiAgICAgIHJldHVybiBwYXRobmFtZSA9PT0gJy9hZG1pbic7XG4gICAgfVxuICAgIHJldHVybiBwYXRobmFtZT8uc3RhcnRzV2l0aChocmVmKTtcbiAgfTtcblxuICBjb25zdCBpc0dyb3VwQWN0aXZlID0gKGdyb3VwOiBOYXZpZ2F0aW9uR3JvdXApID0+IHtcbiAgICByZXR1cm4gZ3JvdXAuaXRlbXMuc29tZSgoaXRlbSkgPT4gaXNBY3RpdmUoaXRlbS5ocmVmKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50LCBncm91cElkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdG9nZ2xlR3JvdXAoZ3JvdXBJZCk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0NvbGxhcHNlZCkge1xuICAgIC8vIENvbGxhcHNlZCB2aWV3OiBzaG93IG9ubHkgaWNvbnNcbiAgICByZXR1cm4gKFxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJwLTIgc3BhY2UteS0xXCIgYXJpYS1sYWJlbD1cIkFkbWluIHNlY3Rpb25zXCI+XG4gICAgICAgIHtuYXZpZ2F0aW9uR3JvdXBzLm1hcCgoZ3JvdXApID0+IHtcbiAgICAgICAgICBjb25zdCBhY3RpdmUgPSBpc0dyb3VwQWN0aXZlKGdyb3VwKTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBrZXk9e2dyb3VwLmlkfSBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlR3JvdXAoZ3JvdXAuaWQpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTMgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgbWluLWgtWzQ0cHhdICR7XG4gICAgICAgICAgICAgICAgICBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctanVuZ2xlLTUwIHRleHQtanVuZ2xlLTcwMCdcbiAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1zYWdlLTcwMCBob3ZlcjpiZy1zYWdlLTUwIGhvdmVyOnRleHQtc2FnZS05MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z3JvdXAubGFiZWx9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2dyb3VwLmxhYmVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPntncm91cC5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7Z3JvdXAuYmFkZ2UgIT09IHVuZGVmaW5lZCAmJiBncm91cC5iYWRnZSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xIHJpZ2h0LTEgdy0yIGgtMiBiZy12b2xjYW5vLTUwMCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtncm91cC5iYWRnZX0gcGVuZGluZ2B9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L25hdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bmF2IGNsYXNzTmFtZT1cInAtMiBzcGFjZS15LTJcIiBhcmlhLWxhYmVsPVwiQWRtaW4gc2VjdGlvbnNcIj5cbiAgICAgIHtuYXZpZ2F0aW9uR3JvdXBzLm1hcCgoZ3JvdXApID0+IHtcbiAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IGV4cGFuZGVkR3JvdXBzLmhhcyhncm91cC5pZCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IGlzR3JvdXBBY3RpdmUoZ3JvdXApO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2dyb3VwLmlkfSBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgIHsvKiBHcm91cCBIZWFkZXIgKi99XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUdyb3VwKGdyb3VwLmlkKX1cbiAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gaGFuZGxlS2V5RG93bihlLCBncm91cC5pZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBweC0zIHB5LTIuNSByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtaW4taC1bNDRweF0gJHtcbiAgICAgICAgICAgICAgICBhY3RpdmVcbiAgICAgICAgICAgICAgICAgID8gJ2JnLWp1bmdsZS01MCB0ZXh0LWp1bmdsZS03MDAgZm9udC1tZWRpdW0nXG4gICAgICAgICAgICAgICAgICA6ICd0ZXh0LXNhZ2UtNzAwIGhvdmVyOmJnLXNhZ2UtNTAgaG92ZXI6dGV4dC1zYWdlLTkwMCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e2lzRXhwYW5kZWR9XG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2dyb3VwLmxhYmVsfSBzZWN0aW9uYH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmbGV4LXNocmluay0wXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+e2dyb3VwLmljb259PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCI+e2dyb3VwLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAge2dyb3VwLmJhZGdlICE9PSB1bmRlZmluZWQgJiYgZ3JvdXAuYmFkZ2UgPiAwICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IGJnLXZvbGNhbm8tNTAwIHRleHQtd2hpdGUgdGV4dC14cyBmb250LW1lZGl1bSByb3VuZGVkLWZ1bGwgbWluLXctWzI0cHhdIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2dyb3VwLmJhZGdlfSBwZW5kaW5nYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Z3JvdXAuYmFkZ2V9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0ZXh0LXNtIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMCAke2lzRXhwYW5kZWQgPyAncm90YXRlLTkwJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKWtlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgey8qIEdyb3VwIEl0ZW1zICovfVxuICAgICAgICAgICAge2lzRXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTYgc3BhY2UteS0xXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD17YCR7Z3JvdXAubGFiZWx9IGl0ZW1zYH0+XG4gICAgICAgICAgICAgICAge2dyb3VwLml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbUFjdGl2ZSA9IGlzQWN0aXZlKGl0ZW0uaHJlZik7XG4gICAgICAgICAgICAgICAgICBjb25zdCBsaW5rUHJvcHMgPSBpdGVtLmV4dGVybmFsXG4gICAgICAgICAgICAgICAgICAgID8geyB0YXJnZXQ6ICdfYmxhbmsnLCByZWw6ICdub29wZW5lciBub3JlZmVycmVyJyB9XG4gICAgICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmlkfVxuICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2l0ZW0uaHJlZn1cbiAgICAgICAgICAgICAgICAgICAgICB7Li4ubGlua1Byb3BzfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTMgcHktMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtaW4taC1bNDRweF0gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1BY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctanVuZ2xlLTEwMCB0ZXh0LWp1bmdsZS04MDAgZm9udC1tZWRpdW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtc2FnZS02MDAgaG92ZXI6Ymctc2FnZS01MCBob3Zlcjp0ZXh0LXNhZ2UtOTAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1jdXJyZW50PXtpdGVtQWN0aXZlID8gJ3BhZ2UnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uTmF2aWdhdGV9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTFcIj57aXRlbS5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYmFkZ2UgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmJhZGdlID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgYmctdm9sY2Fuby01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBtaW4tdy1bMjRweF0gdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtpdGVtLmJhZGdlfSBwZW5kaW5nYH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uYmFkZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5leHRlcm5hbCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+4oaXPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvbmF2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkdyb3VwZWROYXZpZ2F0aW9uIiwiU1RPUkFHRV9LRVkiLCJwZW5kaW5nUGhvdG9zQ291bnQiLCJpc0NvbGxhcHNlZCIsIm9uTmF2aWdhdGUiLCJwYXRobmFtZSIsInVzZVBhdGhuYW1lIiwiZXhwYW5kZWRHcm91cHMiLCJzZXRFeHBhbmRlZEdyb3VwcyIsInVzZVN0YXRlIiwiU2V0IiwicGVuZGluZ0NvdW50Iiwic2V0UGVuZGluZ0NvdW50IiwidXNlRWZmZWN0Iiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJBcnJheSIsImZyb20iLCJoYW5kbGVQaG90b01vZGVyYXRlZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJyZXN1bHQiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJjb3VudCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlU3RvcmFnZUNoYW5nZSIsImUiLCJrZXkiLCJuZXdWYWx1ZSIsIm5hdmlnYXRpb25Hcm91cHMiLCJpZCIsImxhYmVsIiwiaWNvbiIsIml0ZW1zIiwiaHJlZiIsImV4dGVybmFsIiwiYmFkZ2UiLCJ1bmRlZmluZWQiLCJ0b2dnbGVHcm91cCIsInVzZUNhbGxiYWNrIiwiZ3JvdXBJZCIsInByZXYiLCJuZXh0IiwiaGFzIiwiZGVsZXRlIiwiYWRkIiwiaXNBY3RpdmUiLCJzdGFydHNXaXRoIiwiaXNHcm91cEFjdGl2ZSIsImdyb3VwIiwic29tZSIsIml0ZW0iLCJoYW5kbGVLZXlEb3duIiwicHJldmVudERlZmF1bHQiLCJuYXYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsIiwibWFwIiwiYWN0aXZlIiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwic3BhbiIsImFyaWEtaGlkZGVuIiwiaXNFeHBhbmRlZCIsIm9uS2V5RG93biIsImFyaWEtZXhwYW5kZWQiLCJyb2xlIiwiaXRlbUFjdGl2ZSIsImxpbmtQcm9wcyIsInRhcmdldCIsInJlbCIsIkxpbmsiLCJhcmlhLWN1cnJlbnQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkF5Q2dCQTs7O2VBQUFBOzs7O3VCQXZDaUM7NkRBQ2hDOzRCQUNXOzs7Ozs7QUF3QjVCLE1BQU1DLGNBQWM7QUFhYixTQUFTRCxrQkFBa0IsRUFDaENFLHFCQUFxQixDQUFDLEVBQ3RCQyxjQUFjLEtBQUssRUFDbkJDLFVBQVUsRUFDYTtJQUN2QixNQUFNQyxXQUFXQyxJQUFBQSx1QkFBVztJQUM1QixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdDLElBQUFBLGVBQVEsRUFBYyxJQUFJQztJQUN0RSxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHSCxJQUFBQSxlQUFRLEVBQUNQO0lBRWpELHlDQUF5QztJQUN6Q1csSUFBQUEsZ0JBQVMsRUFBQztRQUNSLElBQUk7WUFDRixNQUFNQyxTQUFTQyxhQUFhQyxPQUFPLENBQUNmO1lBQ3BDLElBQUlhLFFBQVE7Z0JBQ1YsTUFBTUcsU0FBU0MsS0FBS0MsS0FBSyxDQUFDTDtnQkFDMUJOLGtCQUFrQixJQUFJRSxJQUFJTztZQUM1QixPQUFP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