{"version":3,"names":["columnDataSchema","cov_12bk4oipna","f","s","createContentPageSchema","createGallerySettingsSchema","createSectionSchema","photoGalleryContentSchema","referenceSchema","referencesContentSchema","richTextContentSchema","updateContentPageSchema","updateGallerySettingsSchema","updateSectionSchema","_zod","z","object","html","string","photo_ids","array","uuid","display_mode","enum","autoplaySpeed","number","int","min","max","optional","showCaptions","boolean","type","id","name","label","description","metadata","record","any","references","discriminatedUnion","column_number","union","literal","content_type","content_data","page_type","page_id","title","nullable","display_order","columns","slug","regex","status","default","partial","photos_per_row","show_captions","autoplay_interval","transition_effect","extend"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/cmsSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Content type schemas\nexport const richTextContentSchema = z.object({\n  html: z.string(),\n});\n\nexport const photoGalleryContentSchema = z.object({\n  photo_ids: z.array(z.string().uuid()),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']),\n  autoplaySpeed: z.number().int().min(1000).max(10000).optional(),\n  showCaptions: z.boolean().optional(),\n});\n\nexport const referenceSchema = z.object({\n  type: z.enum(['activity', 'event', 'accommodation', 'location', 'content_page']),\n  id: z.string().uuid(),\n  name: z.string().optional(),\n  label: z.string().optional(),\n  description: z.string().optional(),\n  metadata: z.record(z.any()).optional(),\n});\n\nexport const referencesContentSchema = z.object({\n  references: z.array(referenceSchema),\n});\n\n// Column schema with discriminated union for better validation\nexport const columnDataSchema = z.discriminatedUnion('content_type', [\n  z.object({\n    column_number: z.union([z.literal(1), z.literal(2)]),\n    content_type: z.literal('rich_text'),\n    content_data: richTextContentSchema,\n  }),\n  z.object({\n    column_number: z.union([z.literal(1), z.literal(2)]),\n    content_type: z.literal('photo_gallery'),\n    content_data: photoGalleryContentSchema,\n  }),\n  z.object({\n    column_number: z.union([z.literal(1), z.literal(2)]),\n    content_type: z.literal('references'),\n    content_data: referencesContentSchema,\n  }),\n]);\n\n// Section schemas\nexport const createSectionSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom']),\n  page_id: z.string().min(1),\n  title: z.string().max(200).nullable().optional(),\n  display_order: z.number().int().min(0),\n  columns: z.array(columnDataSchema).min(1).max(2),\n});\n\nexport const updateSectionSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom']).optional(),\n  page_id: z.string().min(1).optional(),\n  title: z.string().max(200).nullable().optional(),\n  display_order: z.number().int().min(0).optional(),\n  columns: z.array(columnDataSchema).min(1).max(2).optional(),\n});\n\n// Content pages schemas\nexport const createContentPageSchema = z.object({\n  title: z.string().min(1).max(200),\n  slug: z.string().min(1).regex(/^[a-z0-9-]+$/, 'Slug must contain only lowercase letters, numbers, and hyphens').optional(),\n  status: z.enum(['draft', 'published']).default('draft'),\n});\n\nexport const updateContentPageSchema = createContentPageSchema.partial();\n\n// Gallery settings schemas\nexport const createGallerySettingsSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']),\n  page_id: z.string().min(1),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']).default('gallery'),\n  photos_per_row: z.number().int().min(1).max(6).optional(),\n  show_captions: z.boolean().default(true),\n  autoplay_interval: z.number().int().min(1000).optional(),\n  transition_effect: z.string().optional(),\n});\n\nexport const updateGallerySettingsSchema = createGallerySettingsSchema.partial().extend({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']).optional(),\n  page_id: z.string().min(1).optional(),\n});\n\n// Type exports\nexport type RichTextContent = z.infer<typeof richTextContentSchema>;\nexport type PhotoGalleryContent = z.infer<typeof photoGalleryContentSchema>;\nexport type Reference = z.infer<typeof referenceSchema>;\nexport type ReferencesContent = z.infer<typeof referencesContentSchema>;\nexport type ColumnData = z.infer<typeof columnDataSchema>;\nexport type CreateSectionDTO = z.infer<typeof createSectionSchema>;\nexport type UpdateSectionDTO = z.infer<typeof updateSectionSchema>;\nexport type CreateContentPageDTO = z.infer<typeof createContentPageSchema>;\nexport type UpdateContentPageDTO = z.infer<typeof updateContentPageSchema>;\nexport type CreateGallerySettingsDTO = z.infer<typeof createGallerySettingsSchema>;\nexport type UpdateGallerySettingsDTO = z.infer<typeof updateGallerySettingsSchema>;\n\n// Database entity types\nexport interface ContentPage {\n  id: string;\n  slug: string;\n  title: string;\n  status: 'draft' | 'published';\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Section {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  title?: string;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Column {\n  id: string;\n  section_id: string;\n  column_number: 1 | 2;\n  content_type: 'rich_text' | 'photo_gallery' | 'references';\n  content_data: RichTextContent | PhotoGalleryContent | ReferencesContent;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface GallerySettings {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom' | 'memory';\n  page_id: string;\n  display_mode: 'gallery' | 'carousel' | 'loop';\n  photos_per_row?: number;\n  show_captions: boolean;\n  autoplay_interval?: number;\n  transition_effect?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ContentVersion {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  created_by: string | null;\n  sections_snapshot: any;\n  created_at: string;\n}\n\n// Validation result types\nexport interface ValidationResult {\n  valid: boolean;\n  brokenReferences: Reference[];\n  circularReferences: Reference[];\n}\n"],"mappings":"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","ignoreList":[]}