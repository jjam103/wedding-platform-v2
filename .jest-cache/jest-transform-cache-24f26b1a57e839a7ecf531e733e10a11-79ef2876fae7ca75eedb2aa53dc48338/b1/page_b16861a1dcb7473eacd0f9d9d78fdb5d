9b14430d4600662663c717bd6c389eb3
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get /**
 * Accommodation Management Page
 * 
 * Provides CRUD interface for managing wedding accommodations with collapsible forms.
 * Features:
 * - Data table with sorting, filtering, and search
 * - Collapsible inline form for create/edit operations
 * - LocationSelector with hierarchical location support
 * - Room types management navigation
 * - Section editor integration
 * - Delete confirmation dialog
 * - Toast notifications for success/error feedback
 * - Real-time data refresh after operations
 * 
 * Requirements: 10.1-10.7, 28.1-28.8
 */ default () {
        return AccommodationsPage;
    },
    get dynamic () {
        return dynamic;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _DataTableWithSuspense = require("../../../components/ui/DataTableWithSuspense");
const _CollapsibleForm = require("../../../components/admin/CollapsibleForm");
const _InlineSectionEditor = require("../../../components/admin/InlineSectionEditor");
const _LocationSelector = require("../../../components/admin/LocationSelector");
const _ConfirmDialog = require("../../../components/ui/ConfirmDialog");
const _Button = require("../../../components/ui/Button");
const _ToastContext = require("../../../components/ui/ToastContext");
const _accommodationSchemas = require("../../../schemas/accommodationSchemas");
const _navigation = require("next/navigation");
const dynamic = 'force-dynamic';
function AccommodationsPage() {
    const { addToast } = (0, _ToastContext.useToast)();
    const router = (0, _navigation.useRouter)();
    // State management
    const [accommodations, setAccommodations] = (0, _react.useState)([]);
    const [locations, setLocations] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [isFormOpen, setIsFormOpen] = (0, _react.useState)(false);
    const [isDeleteDialogOpen, setIsDeleteDialogOpen] = (0, _react.useState)(false);
    const [selectedAccommodation, setSelectedAccommodation] = (0, _react.useState)(null);
    const [accommodationToDelete, setAccommodationToDelete] = (0, _react.useState)(null);
    const [selectedLocationId, setSelectedLocationId] = (0, _react.useState)('');
    // Ref for scrolling to newly created accommodation
    const newAccommodationRef = (0, _react.useRef)(null);
    /**
   * Fetch accommodations from API
   */ const fetchAccommodations = (0, _react.useCallback)(async ()=>{
        try {
            setLoading(true);
            const response = await fetch('/api/admin/accommodations');
            if (!response.ok) {
                throw new Error('Failed to fetch accommodations');
            }
            const result = await response.json();
            if (result.success) {
                setAccommodations(result.data.accommodations || []);
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to load accommodations'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Failed to load accommodations'
            });
        } finally{
            setLoading(false);
        }
    }, [
        addToast
    ]);
    /**
   * Fetch locations for dropdown
   */ const fetchLocations = (0, _react.useCallback)(async ()=>{
        try {
            const response = await fetch('/api/admin/locations');
            if (!response.ok) {
                return;
            }
            const result = await response.json();
            if (result.success) {
                setLocations(result.data.locations || []);
            }
        } catch (error) {
            // Silently fail for locations - not critical
            console.error('Failed to fetch locations:', error);
        }
    }, []);
    // Load data on mount
    (0, _react.useEffect)(()=>{
        fetchAccommodations();
        fetchLocations();
    }, [
        fetchAccommodations,
        fetchLocations
    ]);
    /**
   * Handle row click - open edit form
   */ const handleRowClick = (0, _react.useCallback)((accommodation)=>{
        setSelectedAccommodation(accommodation);
        setSelectedLocationId(accommodation.locationId || '');
        setIsFormOpen(true);
    }, []);
    /**
   * Handle add accommodation button click
   */ const handleAddAccommodation = (0, _react.useCallback)(()=>{
        setSelectedAccommodation(null);
        setSelectedLocationId('');
        setIsFormOpen(true);
    }, []);
    /**
   * Handle delete button click
   */ const handleDeleteClick = (0, _react.useCallback)((accommodation)=>{
        setAccommodationToDelete(accommodation);
        setIsDeleteDialogOpen(true);
    }, []);
    /**
   * Handle room types button click
   */ const handleRoomTypes = (0, _react.useCallback)((accommodation)=>{
        // Navigate to room types page for this accommodation
        router.push(`/admin/accommodations/${accommodation.id}/room-types`);
    }, [
        router
    ]);
    /**
   * Handle form submission (create or update)
   */ const handleSubmit = (0, _react.useCallback)(async (data)=>{
        try {
            const isEdit = !!selectedAccommodation;
            // Add selected location to data
            const submitData = {
                ...data,
                locationId: selectedLocationId || null
            };
            const url = isEdit ? `/api/admin/accommodations/${selectedAccommodation.id}` : '/api/admin/accommodations';
            const method = isEdit ? 'PUT' : 'POST';
            const response = await fetch(url, {
                method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(submitData)
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: isEdit ? 'Accommodation updated successfully' : 'Accommodation created successfully'
                });
                // Store new accommodation ID for scrolling
                if (!isEdit && result.data?.id) {
                    newAccommodationRef.current = result.data.id;
                }
                // Refresh accommodation list
                await fetchAccommodations();
                // Close form
                setIsFormOpen(false);
                setSelectedAccommodation(null);
                setSelectedLocationId('');
                // Scroll to new accommodation after a short delay
                if (newAccommodationRef.current) {
                    setTimeout(()=>{
                        const element = document.querySelector(`[data-row-id="${newAccommodationRef.current}"]`);
                        if (element) {
                            element.scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });
                        }
                        newAccommodationRef.current = null;
                    }, 100);
                }
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Operation failed'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Operation failed'
            });
        }
    }, [
        selectedAccommodation,
        selectedLocationId,
        addToast,
        fetchAccommodations
    ]);
    /**
   * Handle delete confirmation
   */ const handleDeleteConfirm = (0, _react.useCallback)(async ()=>{
        if (!accommodationToDelete) return;
        try {
            const response = await fetch(`/api/admin/accommodations/${accommodationToDelete.id}`, {
                method: 'DELETE'
            });
            const result = await response.json();
            if (result.success) {
                addToast({
                    type: 'success',
                    message: 'Accommodation deleted successfully'
                });
                // Refresh accommodation list
                await fetchAccommodations();
                // Close dialog
                setIsDeleteDialogOpen(false);
                setAccommodationToDelete(null);
            } else {
                addToast({
                    type: 'error',
                    message: result.error?.message || 'Failed to delete accommodation'
                });
            }
        } catch (error) {
            addToast({
                type: 'error',
                message: error instanceof Error ? error.message : 'Failed to delete accommodation'
            });
        }
    }, [
        accommodationToDelete,
        addToast,
        fetchAccommodations
    ]);
    /**
   * Format date for display
   */ const formatDate = (dateString)=>{
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'short',
            day: 'numeric'
        });
    };
    // Define table columns
    const columns = [
        {
            key: 'name',
            label: 'Name',
            sortable: true
        },
        {
            key: 'locationId',
            label: 'Location',
            sortable: true,
            render: (value)=>{
                if (!value) return '-';
                const location = locations.find((l)=>l.id === value);
                return location?.name || '-';
            }
        },
        {
            key: 'checkInDate',
            label: 'Check-in',
            sortable: true,
            render: (value)=>value ? formatDate(value) : '-'
        },
        {
            key: 'checkOutDate',
            label: 'Check-out',
            sortable: true,
            render: (value)=>value ? formatDate(value) : '-'
        },
        {
            key: 'status',
            label: 'Status',
            sortable: true,
            filterable: true,
            filterType: 'select',
            filterOptions: [
                {
                    label: 'Draft',
                    value: 'draft'
                },
                {
                    label: 'Published',
                    value: 'published'
                }
            ],
            render: (value)=>{
                const labels = {
                    draft: 'Draft',
                    published: 'Published'
                };
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${value === 'draft' ? 'bg-sage-100 text-sage-800' : 'bg-jungle-100 text-jungle-800'}`,
                    children: labels[value] || value
                });
            }
        },
        {
            key: 'actions',
            label: 'Actions',
            sortable: false,
            render: (_, row)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "secondary",
                            size: "sm",
                            onClick: (e)=>{
                                e.stopPropagation();
                                window.location.href = `/guest/accommodation/${row.id}`;
                            },
                            children: "View"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            variant: "secondary",
                            size: "sm",
                            onClick: (e)=>{
                                e.stopPropagation();
                                handleRoomTypes(row);
                            },
                            children: "Room Types"
                        })
                    ]
                })
        }
    ];
    // Define form fields
    const formFields = [
        {
            name: 'name',
            label: 'Accommodation Name',
            type: 'text',
            required: true,
            placeholder: 'Enter accommodation name'
        },
        {
            name: 'address',
            label: 'Address',
            type: 'text',
            required: false,
            placeholder: 'Enter address'
        },
        {
            name: 'description',
            label: 'Description',
            type: 'richtext',
            required: false,
            placeholder: 'Enter accommodation description',
            helpText: 'Rich text editor for detailed accommodation description'
        },
        {
            name: 'checkInDate',
            label: 'Check-in Date',
            type: 'date',
            required: false,
            helpText: 'Default check-in date for this accommodation'
        },
        {
            name: 'checkOutDate',
            label: 'Check-out Date',
            type: 'date',
            required: false,
            helpText: 'Default check-out date for this accommodation'
        },
        {
            name: 'status',
            label: 'Status',
            type: 'select',
            required: true,
            options: [
                {
                    label: 'Draft',
                    value: 'draft'
                },
                {
                    label: 'Published',
                    value: 'published'
                }
            ]
        }
    ];
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "space-y-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                className: "text-3xl font-bold text-sage-900",
                                children: "Accommodation Management"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sage-600 mt-1",
                                children: "Manage wedding accommodations and lodging"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        variant: "primary",
                        onClick: handleAddAccommodation,
                        "aria-label": "Create new accommodation",
                        "data-action": "add-new",
                        children: "+ Add Accommodation"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_CollapsibleForm.CollapsibleForm, {
                isOpen: isFormOpen,
                onToggle: ()=>{
                    setIsFormOpen(!isFormOpen);
                    if (isFormOpen) {
                        setSelectedAccommodation(null);
                        setSelectedLocationId('');
                    }
                },
                title: selectedAccommodation ? 'Edit Accommodation' : 'Add New Accommodation',
                fields: formFields,
                schema: selectedAccommodation ? _accommodationSchemas.updateAccommodationSchema : _accommodationSchemas.createAccommodationSchema,
                onSubmit: handleSubmit,
                onCancel: ()=>{
                    setIsFormOpen(false);
                    setSelectedAccommodation(null);
                    setSelectedLocationId('');
                },
                initialData: selectedAccommodation || {},
                submitLabel: selectedAccommodation ? 'Update Accommodation' : 'Create Accommodation',
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                            className: "block text-sm font-medium text-sage-700 mb-2",
                            children: "Location"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_LocationSelector.LocationSelector, {
                            locations: locations,
                            selectedLocationId: selectedLocationId,
                            onSelect: setSelectedLocationId,
                            placeholder: "Select accommodation location"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "mt-1 text-sm text-sage-500",
                            children: "Select the location where this accommodation is situated"
                        })
                    ]
                })
            }),
            isFormOpen && selectedAccommodation && /*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "accommodation",
                pageId: selectedAccommodation.id,
                entityName: selectedAccommodation.name,
                defaultExpanded: false
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_DataTableWithSuspense.DataTableWithSuspense, {
                data: accommodations,
                columns: columns,
                loading: loading,
                onRowClick: handleRowClick,
                onDelete: handleDeleteClick,
                totalCount: accommodations.length,
                currentPage: 1,
                pageSize: 25,
                idField: "id"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_ConfirmDialog.ConfirmDialog, {
                isOpen: isDeleteDialogOpen,
                onClose: ()=>{
                    setIsDeleteDialogOpen(false);
                    setAccommodationToDelete(null);
                },
                onConfirm: handleDeleteConfirm,
                title: "Delete Accommodation",
                message: `Are you sure you want to delete "${accommodationToDelete?.name}"? This will also remove all associated room types. This action cannot be undone.`,
                confirmLabel: "Delete",
                cancelLabel: "Cancel",
                variant: "danger"
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2FjY29tbW9kYXRpb25zL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEYXRhVGFibGVXaXRoU3VzcGVuc2UgYXMgRGF0YVRhYmxlLCB0eXBlIENvbHVtbkRlZiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9EYXRhVGFibGVXaXRoU3VzcGVuc2UnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVGb3JtIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL0NvbGxhcHNpYmxlRm9ybSc7XG5pbXBvcnQgeyBJbmxpbmVTZWN0aW9uRWRpdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL0lubGluZVNlY3Rpb25FZGl0b3InO1xuaW1wb3J0IHsgTG9jYXRpb25TZWxlY3RvciB9IGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9Mb2NhdGlvblNlbGVjdG9yJztcbmltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQ29uZmlybURpYWxvZyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQnV0dG9uJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL1RvYXN0Q29udGV4dCc7XG5pbXBvcnQgdHlwZSB7IEFjY29tbW9kYXRpb24gfSBmcm9tICdAL3NjaGVtYXMvYWNjb21tb2RhdGlvblNjaGVtYXMnO1xuaW1wb3J0IHsgY3JlYXRlQWNjb21tb2RhdGlvblNjaGVtYSwgdXBkYXRlQWNjb21tb2RhdGlvblNjaGVtYSB9IGZyb20gJ0Avc2NoZW1hcy9hY2NvbW1vZGF0aW9uU2NoZW1hcyc7XG5pbXBvcnQgdHlwZSB7IEZvcm1GaWVsZCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9EeW5hbWljRm9ybSc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuXG5pbnRlcmZhY2UgTG9jYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhcmVudExvY2F0aW9uSWQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG4vKipcbiAqIEFjY29tbW9kYXRpb24gTWFuYWdlbWVudCBQYWdlXG4gKiBcbiAqIFByb3ZpZGVzIENSVUQgaW50ZXJmYWNlIGZvciBtYW5hZ2luZyB3ZWRkaW5nIGFjY29tbW9kYXRpb25zIHdpdGggY29sbGFwc2libGUgZm9ybXMuXG4gKiBGZWF0dXJlczpcbiAqIC0gRGF0YSB0YWJsZSB3aXRoIHNvcnRpbmcsIGZpbHRlcmluZywgYW5kIHNlYXJjaFxuICogLSBDb2xsYXBzaWJsZSBpbmxpbmUgZm9ybSBmb3IgY3JlYXRlL2VkaXQgb3BlcmF0aW9uc1xuICogLSBMb2NhdGlvblNlbGVjdG9yIHdpdGggaGllcmFyY2hpY2FsIGxvY2F0aW9uIHN1cHBvcnRcbiAqIC0gUm9vbSB0eXBlcyBtYW5hZ2VtZW50IG5hdmlnYXRpb25cbiAqIC0gU2VjdGlvbiBlZGl0b3IgaW50ZWdyYXRpb25cbiAqIC0gRGVsZXRlIGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAqIC0gVG9hc3Qgbm90aWZpY2F0aW9ucyBmb3Igc3VjY2Vzcy9lcnJvciBmZWVkYmFja1xuICogLSBSZWFsLXRpbWUgZGF0YSByZWZyZXNoIGFmdGVyIG9wZXJhdGlvbnNcbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxMC4xLTEwLjcsIDI4LjEtMjguOFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY2NvbW1vZGF0aW9uc1BhZ2UoKSB7XG4gIGNvbnN0IHsgYWRkVG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBcbiAgLy8gU3RhdGUgbWFuYWdlbWVudFxuICBjb25zdCBbYWNjb21tb2RhdGlvbnMsIHNldEFjY29tbW9kYXRpb25zXSA9IHVzZVN0YXRlPEFjY29tbW9kYXRpb25bXT4oW10pO1xuICBjb25zdCBbbG9jYXRpb25zLCBzZXRMb2NhdGlvbnNdID0gdXNlU3RhdGU8TG9jYXRpb25bXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2lzRm9ybU9wZW4sIHNldElzRm9ybU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNEZWxldGVEaWFsb2dPcGVuLCBzZXRJc0RlbGV0ZURpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRBY2NvbW1vZGF0aW9uLCBzZXRTZWxlY3RlZEFjY29tbW9kYXRpb25dID0gdXNlU3RhdGU8QWNjb21tb2RhdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYWNjb21tb2RhdGlvblRvRGVsZXRlLCBzZXRBY2NvbW1vZGF0aW9uVG9EZWxldGVdID0gdXNlU3RhdGU8QWNjb21tb2RhdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2VsZWN0ZWRMb2NhdGlvbklkLCBzZXRTZWxlY3RlZExvY2F0aW9uSWRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIFxuICAvLyBSZWYgZm9yIHNjcm9sbGluZyB0byBuZXdseSBjcmVhdGVkIGFjY29tbW9kYXRpb25cbiAgY29uc3QgbmV3QWNjb21tb2RhdGlvblJlZiA9IHVzZVJlZjxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvKipcbiAgICogRmV0Y2ggYWNjb21tb2RhdGlvbnMgZnJvbSBBUElcbiAgICovXG4gIGNvbnN0IGZldGNoQWNjb21tb2RhdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vYWNjb21tb2RhdGlvbnMnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYWNjb21tb2RhdGlvbnMnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHNldEFjY29tbW9kYXRpb25zKHJlc3VsdC5kYXRhLmFjY29tbW9kYXRpb25zIHx8IFtdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGxvYWQgYWNjb21tb2RhdGlvbnMnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gbG9hZCBhY2NvbW1vZGF0aW9ucycsXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbYWRkVG9hc3RdKTtcblxuICAvKipcbiAgICogRmV0Y2ggbG9jYXRpb25zIGZvciBkcm9wZG93blxuICAgKi9cbiAgY29uc3QgZmV0Y2hMb2NhdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vbG9jYXRpb25zJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHNldExvY2F0aW9ucyhyZXN1bHQuZGF0YS5sb2NhdGlvbnMgfHwgW10pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaWxlbnRseSBmYWlsIGZvciBsb2NhdGlvbnMgLSBub3QgY3JpdGljYWxcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBsb2NhdGlvbnM6JywgZXJyb3IpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgZGF0YSBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoQWNjb21tb2RhdGlvbnMoKTtcbiAgICBmZXRjaExvY2F0aW9ucygpO1xuICB9LCBbZmV0Y2hBY2NvbW1vZGF0aW9ucywgZmV0Y2hMb2NhdGlvbnNdKTtcblxuICAvKipcbiAgICogSGFuZGxlIHJvdyBjbGljayAtIG9wZW4gZWRpdCBmb3JtXG4gICAqL1xuICBjb25zdCBoYW5kbGVSb3dDbGljayA9IHVzZUNhbGxiYWNrKChhY2NvbW1vZGF0aW9uOiBBY2NvbW1vZGF0aW9uKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRBY2NvbW1vZGF0aW9uKGFjY29tbW9kYXRpb24pO1xuICAgIHNldFNlbGVjdGVkTG9jYXRpb25JZChhY2NvbW1vZGF0aW9uLmxvY2F0aW9uSWQgfHwgJycpO1xuICAgIHNldElzRm9ybU9wZW4odHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogSGFuZGxlIGFkZCBhY2NvbW1vZGF0aW9uIGJ1dHRvbiBjbGlja1xuICAgKi9cbiAgY29uc3QgaGFuZGxlQWRkQWNjb21tb2RhdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTZWxlY3RlZEFjY29tbW9kYXRpb24obnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRMb2NhdGlvbklkKCcnKTtcbiAgICBzZXRJc0Zvcm1PcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkZWxldGUgYnV0dG9uIGNsaWNrXG4gICAqL1xuICBjb25zdCBoYW5kbGVEZWxldGVDbGljayA9IHVzZUNhbGxiYWNrKChhY2NvbW1vZGF0aW9uOiBBY2NvbW1vZGF0aW9uKSA9PiB7XG4gICAgc2V0QWNjb21tb2RhdGlvblRvRGVsZXRlKGFjY29tbW9kYXRpb24pO1xuICAgIHNldElzRGVsZXRlRGlhbG9nT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgcm9vbSB0eXBlcyBidXR0b24gY2xpY2tcbiAgICovXG4gIGNvbnN0IGhhbmRsZVJvb21UeXBlcyA9IHVzZUNhbGxiYWNrKChhY2NvbW1vZGF0aW9uOiBBY2NvbW1vZGF0aW9uKSA9PiB7XG4gICAgLy8gTmF2aWdhdGUgdG8gcm9vbSB0eXBlcyBwYWdlIGZvciB0aGlzIGFjY29tbW9kYXRpb25cbiAgICByb3V0ZXIucHVzaChgL2FkbWluL2FjY29tbW9kYXRpb25zLyR7YWNjb21tb2RhdGlvbi5pZH0vcm9vbS10eXBlc2ApO1xuICB9LCBbcm91dGVyXSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBmb3JtIHN1Ym1pc3Npb24gKGNyZWF0ZSBvciB1cGRhdGUpXG4gICAqL1xuICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjayhhc3luYyAoZGF0YTogYW55KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGlzRWRpdCA9ICEhc2VsZWN0ZWRBY2NvbW1vZGF0aW9uO1xuICAgICAgXG4gICAgICAvLyBBZGQgc2VsZWN0ZWQgbG9jYXRpb24gdG8gZGF0YVxuICAgICAgY29uc3Qgc3VibWl0RGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgbG9jYXRpb25JZDogc2VsZWN0ZWRMb2NhdGlvbklkIHx8IG51bGwsXG4gICAgICB9O1xuICAgICAgXG4gICAgICBjb25zdCB1cmwgPSBpc0VkaXQgPyBgL2FwaS9hZG1pbi9hY2NvbW1vZGF0aW9ucy8ke3NlbGVjdGVkQWNjb21tb2RhdGlvbi5pZH1gIDogJy9hcGkvYWRtaW4vYWNjb21tb2RhdGlvbnMnO1xuICAgICAgY29uc3QgbWV0aG9kID0gaXNFZGl0ID8gJ1BVVCcgOiAnUE9TVCc7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHN1Ym1pdERhdGEpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgICAgbWVzc2FnZTogaXNFZGl0ID8gJ0FjY29tbW9kYXRpb24gdXBkYXRlZCBzdWNjZXNzZnVsbHknIDogJ0FjY29tbW9kYXRpb24gY3JlYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIG5ldyBhY2NvbW1vZGF0aW9uIElEIGZvciBzY3JvbGxpbmdcbiAgICAgICAgaWYgKCFpc0VkaXQgJiYgcmVzdWx0LmRhdGE/LmlkKSB7XG4gICAgICAgICAgbmV3QWNjb21tb2RhdGlvblJlZi5jdXJyZW50ID0gcmVzdWx0LmRhdGEuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlZnJlc2ggYWNjb21tb2RhdGlvbiBsaXN0XG4gICAgICAgIGF3YWl0IGZldGNoQWNjb21tb2RhdGlvbnMoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsb3NlIGZvcm1cbiAgICAgICAgc2V0SXNGb3JtT3BlbihmYWxzZSk7XG4gICAgICAgIHNldFNlbGVjdGVkQWNjb21tb2RhdGlvbihudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRMb2NhdGlvbklkKCcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB0byBuZXcgYWNjb21tb2RhdGlvbiBhZnRlciBhIHNob3J0IGRlbGF5XG4gICAgICAgIGlmIChuZXdBY2NvbW1vZGF0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1yb3ctaWQ9XCIke25ld0FjY29tbW9kYXRpb25SZWYuY3VycmVudH1cIl1gKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FjY29tbW9kYXRpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdPcGVyYXRpb24gZmFpbGVkJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnT3BlcmF0aW9uIGZhaWxlZCcsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEFjY29tbW9kYXRpb24sIHNlbGVjdGVkTG9jYXRpb25JZCwgYWRkVG9hc3QsIGZldGNoQWNjb21tb2RhdGlvbnNdKTtcblxuICAvKipcbiAgICogSGFuZGxlIGRlbGV0ZSBjb25maXJtYXRpb25cbiAgICovXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUNvbmZpcm0gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFhY2NvbW1vZGF0aW9uVG9EZWxldGUpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL2FjY29tbW9kYXRpb25zLyR7YWNjb21tb2RhdGlvblRvRGVsZXRlLmlkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdBY2NvbW1vZGF0aW9uIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWZyZXNoIGFjY29tbW9kYXRpb24gbGlzdFxuICAgICAgICBhd2FpdCBmZXRjaEFjY29tbW9kYXRpb25zKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDbG9zZSBkaWFsb2dcbiAgICAgICAgc2V0SXNEZWxldGVEaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgc2V0QWNjb21tb2RhdGlvblRvRGVsZXRlKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgbWVzc2FnZTogcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIGFjY29tbW9kYXRpb24nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gZGVsZXRlIGFjY29tbW9kYXRpb24nLFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYWNjb21tb2RhdGlvblRvRGVsZXRlLCBhZGRUb2FzdCwgZmV0Y2hBY2NvbW1vZGF0aW9uc10pO1xuXG4gIC8qKlxuICAgKiBGb3JtYXQgZGF0ZSBmb3IgZGlzcGxheVxuICAgKi9cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gRGVmaW5lIHRhYmxlIGNvbHVtbnNcbiAgY29uc3QgY29sdW1uczogQ29sdW1uRGVmPEFjY29tbW9kYXRpb24+W10gPSBbXG4gICAge1xuICAgICAga2V5OiAnbmFtZScsXG4gICAgICBsYWJlbDogJ05hbWUnLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdsb2NhdGlvbklkJyxcbiAgICAgIGxhYmVsOiAnTG9jYXRpb24nLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICByZW5kZXI6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJy0nO1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGxvY2F0aW9ucy5maW5kKGwgPT4gbC5pZCA9PT0gdmFsdWUpO1xuICAgICAgICByZXR1cm4gbG9jYXRpb24/Lm5hbWUgfHwgJy0nO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2NoZWNrSW5EYXRlJyxcbiAgICAgIGxhYmVsOiAnQ2hlY2staW4nLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICByZW5kZXI6ICh2YWx1ZSkgPT4gdmFsdWUgPyBmb3JtYXREYXRlKHZhbHVlIGFzIHN0cmluZykgOiAnLScsXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdjaGVja091dERhdGUnLFxuICAgICAgbGFiZWw6ICdDaGVjay1vdXQnLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICByZW5kZXI6ICh2YWx1ZSkgPT4gdmFsdWUgPyBmb3JtYXREYXRlKHZhbHVlIGFzIHN0cmluZykgOiAnLScsXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdzdGF0dXMnLFxuICAgICAgbGFiZWw6ICdTdGF0dXMnLFxuICAgICAgc29ydGFibGU6IHRydWUsXG4gICAgICBmaWx0ZXJhYmxlOiB0cnVlLFxuICAgICAgZmlsdGVyVHlwZTogJ3NlbGVjdCcsXG4gICAgICBmaWx0ZXJPcHRpb25zOiBbXG4gICAgICAgIHsgbGFiZWw6ICdEcmFmdCcsIHZhbHVlOiAnZHJhZnQnIH0sXG4gICAgICAgIHsgbGFiZWw6ICdQdWJsaXNoZWQnLCB2YWx1ZTogJ3B1Ymxpc2hlZCcgfSxcbiAgICAgIF0sXG4gICAgICByZW5kZXI6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBsYWJlbHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgZHJhZnQ6ICdEcmFmdCcsXG4gICAgICAgICAgcHVibGlzaGVkOiAnUHVibGlzaGVkJyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTIuNSBweS0wLjUgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1tZWRpdW0gJHtcbiAgICAgICAgICAgICAgdmFsdWUgPT09ICdkcmFmdCdcbiAgICAgICAgICAgICAgICA/ICdiZy1zYWdlLTEwMCB0ZXh0LXNhZ2UtODAwJ1xuICAgICAgICAgICAgICAgIDogJ2JnLWp1bmdsZS0xMDAgdGV4dC1qdW5nbGUtODAwJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xhYmVsc1t2YWx1ZSBhcyBzdHJpbmddIHx8IHZhbHVlfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6ICdhY3Rpb25zJyxcbiAgICAgIGxhYmVsOiAnQWN0aW9ucycsXG4gICAgICBzb3J0YWJsZTogZmFsc2UsXG4gICAgICByZW5kZXI6IChfLCByb3cpID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2d1ZXN0L2FjY29tbW9kYXRpb24vJHsocm93IGFzIEFjY29tbW9kYXRpb24pLmlkfWA7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIFZpZXdcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICBoYW5kbGVSb29tVHlwZXMocm93IGFzIEFjY29tbW9kYXRpb24pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBSb29tIFR5cGVzXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSxcbiAgICB9LFxuICBdO1xuXG4gIC8vIERlZmluZSBmb3JtIGZpZWxkc1xuICBjb25zdCBmb3JtRmllbGRzOiBGb3JtRmllbGRbXSA9IFtcbiAgICB7XG4gICAgICBuYW1lOiAnbmFtZScsXG4gICAgICBsYWJlbDogJ0FjY29tbW9kYXRpb24gTmFtZScsXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXIgYWNjb21tb2RhdGlvbiBuYW1lJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdhZGRyZXNzJyxcbiAgICAgIGxhYmVsOiAnQWRkcmVzcycsXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIGFkZHJlc3MnLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgIGxhYmVsOiAnRGVzY3JpcHRpb24nLFxuICAgICAgdHlwZTogJ3JpY2h0ZXh0JyxcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXIgYWNjb21tb2RhdGlvbiBkZXNjcmlwdGlvbicsXG4gICAgICBoZWxwVGV4dDogJ1JpY2ggdGV4dCBlZGl0b3IgZm9yIGRldGFpbGVkIGFjY29tbW9kYXRpb24gZGVzY3JpcHRpb24nLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2NoZWNrSW5EYXRlJyxcbiAgICAgIGxhYmVsOiAnQ2hlY2staW4gRGF0ZScsXG4gICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBoZWxwVGV4dDogJ0RlZmF1bHQgY2hlY2staW4gZGF0ZSBmb3IgdGhpcyBhY2NvbW1vZGF0aW9uJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdjaGVja091dERhdGUnLFxuICAgICAgbGFiZWw6ICdDaGVjay1vdXQgRGF0ZScsXG4gICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBoZWxwVGV4dDogJ0RlZmF1bHQgY2hlY2stb3V0IGRhdGUgZm9yIHRoaXMgYWNjb21tb2RhdGlvbicsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc3RhdHVzJyxcbiAgICAgIGxhYmVsOiAnU3RhdHVzJyxcbiAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBvcHRpb25zOiBbXG4gICAgICAgIHsgbGFiZWw6ICdEcmFmdCcsIHZhbHVlOiAnZHJhZnQnIH0sXG4gICAgICAgIHsgbGFiZWw6ICdQdWJsaXNoZWQnLCB2YWx1ZTogJ3B1Ymxpc2hlZCcgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICB7LyogUGFnZSBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1zYWdlLTkwMFwiPkFjY29tbW9kYXRpb24gTWFuYWdlbWVudDwvaDE+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTYwMCBtdC0xXCI+TWFuYWdlIHdlZGRpbmcgYWNjb21tb2RhdGlvbnMgYW5kIGxvZGdpbmc8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZEFjY29tbW9kYXRpb259XG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkNyZWF0ZSBuZXcgYWNjb21tb2RhdGlvblwiXG4gICAgICAgICAgZGF0YS1hY3Rpb249XCJhZGQtbmV3XCJcbiAgICAgICAgPlxuICAgICAgICAgICsgQWRkIEFjY29tbW9kYXRpb25cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENvbGxhcHNpYmxlIEZvcm0gKi99XG4gICAgICA8Q29sbGFwc2libGVGb3JtXG4gICAgICAgIGlzT3Blbj17aXNGb3JtT3Blbn1cbiAgICAgICAgb25Ub2dnbGU9eygpID0+IHtcbiAgICAgICAgICBzZXRJc0Zvcm1PcGVuKCFpc0Zvcm1PcGVuKTtcbiAgICAgICAgICBpZiAoaXNGb3JtT3Blbikge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRBY2NvbW1vZGF0aW9uKG51bGwpO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRMb2NhdGlvbklkKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPXtzZWxlY3RlZEFjY29tbW9kYXRpb24gPyAnRWRpdCBBY2NvbW1vZGF0aW9uJyA6ICdBZGQgTmV3IEFjY29tbW9kYXRpb24nfVxuICAgICAgICBmaWVsZHM9e2Zvcm1GaWVsZHN9XG4gICAgICAgIHNjaGVtYT17c2VsZWN0ZWRBY2NvbW1vZGF0aW9uID8gdXBkYXRlQWNjb21tb2RhdGlvblNjaGVtYSA6IGNyZWF0ZUFjY29tbW9kYXRpb25TY2hlbWF9XG4gICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9XG4gICAgICAgIG9uQ2FuY2VsPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNGb3JtT3BlbihmYWxzZSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRBY2NvbW1vZGF0aW9uKG51bGwpO1xuICAgICAgICAgIHNldFNlbGVjdGVkTG9jYXRpb25JZCgnJyk7XG4gICAgICAgIH19XG4gICAgICAgIGluaXRpYWxEYXRhPXtzZWxlY3RlZEFjY29tbW9kYXRpb24gfHwge319XG4gICAgICAgIHN1Ym1pdExhYmVsPXtzZWxlY3RlZEFjY29tbW9kYXRpb24gPyAnVXBkYXRlIEFjY29tbW9kYXRpb24nIDogJ0NyZWF0ZSBBY2NvbW1vZGF0aW9uJ31cbiAgICAgID5cbiAgICAgICAgey8qIExvY2F0aW9uIFNlbGVjdG9yIC0gQ3VzdG9tIGZpZWxkICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTJcIj5cbiAgICAgICAgICAgIExvY2F0aW9uXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8TG9jYXRpb25TZWxlY3RvclxuICAgICAgICAgICAgbG9jYXRpb25zPXtsb2NhdGlvbnN9XG4gICAgICAgICAgICBzZWxlY3RlZExvY2F0aW9uSWQ9e3NlbGVjdGVkTG9jYXRpb25JZH1cbiAgICAgICAgICAgIG9uU2VsZWN0PXtzZXRTZWxlY3RlZExvY2F0aW9uSWR9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhY2NvbW1vZGF0aW9uIGxvY2F0aW9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LXNhZ2UtNTAwXCI+XG4gICAgICAgICAgICBTZWxlY3QgdGhlIGxvY2F0aW9uIHdoZXJlIHRoaXMgYWNjb21tb2RhdGlvbiBpcyBzaXR1YXRlZFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NvbGxhcHNpYmxlRm9ybT5cblxuICAgICAgey8qIElubGluZSBTZWN0aW9uIEVkaXRvciAtIFNob3dzIHdoZW4gZWRpdGluZyBhbiBleGlzdGluZyBhY2NvbW1vZGF0aW9uICovfVxuICAgICAge2lzRm9ybU9wZW4gJiYgc2VsZWN0ZWRBY2NvbW1vZGF0aW9uICYmIChcbiAgICAgICAgPElubGluZVNlY3Rpb25FZGl0b3JcbiAgICAgICAgICBwYWdlVHlwZT1cImFjY29tbW9kYXRpb25cIlxuICAgICAgICAgIHBhZ2VJZD17c2VsZWN0ZWRBY2NvbW1vZGF0aW9uLmlkfVxuICAgICAgICAgIGVudGl0eU5hbWU9e3NlbGVjdGVkQWNjb21tb2RhdGlvbi5uYW1lfVxuICAgICAgICAgIGRlZmF1bHRFeHBhbmRlZD17ZmFsc2V9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogRGF0YSBUYWJsZSAqL31cbiAgICAgIDxEYXRhVGFibGVcbiAgICAgICAgZGF0YT17YWNjb21tb2RhdGlvbnN9XG4gICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgIG9uUm93Q2xpY2s9e2hhbmRsZVJvd0NsaWNrfVxuICAgICAgICBvbkRlbGV0ZT17aGFuZGxlRGVsZXRlQ2xpY2t9XG4gICAgICAgIHRvdGFsQ291bnQ9e2FjY29tbW9kYXRpb25zLmxlbmd0aH1cbiAgICAgICAgY3VycmVudFBhZ2U9ezF9XG4gICAgICAgIHBhZ2VTaXplPXsyNX1cbiAgICAgICAgaWRGaWVsZD1cImlkXCJcbiAgICAgIC8+XG5cbiAgICAgIHsvKiBEZWxldGUgQ29uZmlybWF0aW9uIERpYWxvZyAqL31cbiAgICAgIDxDb25maXJtRGlhbG9nXG4gICAgICAgIGlzT3Blbj17aXNEZWxldGVEaWFsb2dPcGVufVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgc2V0SXNEZWxldGVEaWFsb2dPcGVuKGZhbHNlKTtcbiAgICAgICAgICBzZXRBY2NvbW1vZGF0aW9uVG9EZWxldGUobnVsbCk7XG4gICAgICAgIH19XG4gICAgICAgIG9uQ29uZmlybT17aGFuZGxlRGVsZXRlQ29uZmlybX1cbiAgICAgICAgdGl0bGU9XCJEZWxldGUgQWNjb21tb2RhdGlvblwiXG4gICAgICAgIG1lc3NhZ2U9e2BBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFwiJHthY2NvbW1vZGF0aW9uVG9EZWxldGU/Lm5hbWV9XCI/IFRoaXMgd2lsbCBhbHNvIHJlbW92ZSBhbGwgYXNzb2NpYXRlZCByb29tIHR5cGVzLiBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLmB9XG4gICAgICAgIGNvbmZpcm1MYWJlbD1cIkRlbGV0ZVwiXG4gICAgICAgIGNhbmNlbExhYmVsPVwiQ2FuY2VsXCJcbiAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkFjY29tbW9kYXRpb25zUGFnZSIsImR5bmFtaWMiLCJhZGRUb2FzdCIsInVzZVRvYXN0Iiwicm91dGVyIiwidXNlUm91dGVyIiwiYWNjb21tb2RhdGlvbnMiLCJzZXRBY2NvbW1vZGF0aW9ucyIsInVzZVN0YXRlIiwibG9jYXRpb25zIiwic2V0TG9jYXRpb25zIiwibG9hZGluZyIsInNldExvYWRpbmciLCJpc0Zvcm1PcGVuIiwic2V0SXNGb3JtT3BlbiIsImlzRGVsZXRlRGlhbG9nT3BlbiIsInNldElzRGVsZXRlRGlhbG9nT3BlbiIsInNlbGVjdGVkQWNjb21tb2RhdGlvbiIsInNldFNlbGVjdGVkQWNjb21tb2RhdGlvbiIsImFjY29tbW9kYXRpb25Ub0RlbGV0ZSIsInNldEFjY29tbW9kYXRpb25Ub0RlbGV0ZSIsInNlbGVjdGVkTG9jYXRpb25JZCIsInNldFNlbGVjdGVkTG9jYXRpb25JZCIsIm5ld0FjY29tbW9kYXRpb25SZWYiLCJ1c2VSZWYiLCJmZXRjaEFjY29tbW9kYXRpb25zIiwidXNlQ2FsbGJhY2siLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsInR5cGUiLCJtZXNzYWdlIiwiZXJyb3IiLCJmZXRjaExvY2F0aW9ucyIsImNvbnNvbGUiLCJ1c2VFZmZlY3QiLCJoYW5kbGVSb3dDbGljayIsImFjY29tbW9kYXRpb24iLCJsb2NhdGlvbklkIiwiaGFuZGxlQWRkQWNjb21tb2RhdGlvbiIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlUm9vbVR5cGVzIiwicHVzaCIsImlkIiwiaGFuZGxlU3VibWl0IiwiaXNFZGl0Iiwic3VibWl0RGF0YSIsInVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImN1cnJlbnQiLCJzZXRUaW1lb3V0IiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayIsImhhbmRsZURlbGV0ZUNvbmZpcm0iLCJmb3JtYXREYXRlIiwiZGF0ZVN0cmluZyIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiY29sdW1ucyIsImtleSIsImxhYmVsIiwic29ydGFibGUiLCJyZW5kZXIiLCJ2YWx1ZSIsImxvY2F0aW9uIiwiZmluZCIsImwiLCJuYW1lIiwiZmlsdGVyYWJsZSIsImZpbHRlclR5cGUiLCJmaWx0ZXJPcHRpb25zIiwibGFiZWxzIiwiZHJhZnQiLCJwdWJsaXNoZWQiLCJzcGFuIiwiY2xhc3NOYW1lIiwiXyIsInJvdyIsImRpdiIsIkJ1dHRvbiIsInZhcmlhbnQiLCJzaXplIiwib25DbGljayIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJ3aW5kb3ciLCJocmVmIiwiZm9ybUZpZWxkcyIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJoZWxwVGV4dCIsIm9wdGlvbnMiLCJoMSIsInAiLCJhcmlhLWxhYmVsIiwiZGF0YS1hY3Rpb24iLCJDb2xsYXBzaWJsZUZvcm0iLCJpc09wZW4iLCJvblRvZ2dsZSIsInRpdGxlIiwiZmllbGRzIiwic2NoZW1hIiwidXBkYXRlQWNjb21tb2RhdGlvblNjaGVtYSIsImNyZWF0ZUFjY29tbW9kYXRpb25TY2hlbWEiLCJvblN1Ym1pdCIsIm9uQ2FuY2VsIiwiaW5pdGlhbERhdGEiLCJzdWJtaXRMYWJlbCIsIkxvY2F0aW9uU2VsZWN0b3IiLCJvblNlbGVjdCIsIklubGluZVNlY3Rpb25FZGl0b3IiLCJwYWdlVHlwZSIsInBhZ2VJZCIsImVudGl0eU5hbWUiLCJkZWZhdWx0RXhwYW5kZWQiLCJEYXRhVGFibGUiLCJvblJvd0NsaWNrIiwib25EZWxldGUiLCJ0b3RhbENvdW50IiwibGVuZ3RoIiwiY3VycmVudFBhZ2UiLCJwYWdlU2l6ZSIsImlkRmllbGQiLCJDb25maXJtRGlhbG9nIiwib25DbG9zZSIsIm9uQ29uZmlybSIsImNvbmZpcm1MYWJlbCIsImNhbmNlbExhYmVsIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O1FBdUJBOzs7Ozs7Ozs7Ozs7Ozs7Q0FlQyxHQUNEO2VBQXdCQTs7UUFyQ1hDO2VBQUFBOzs7O3VCQUU0Qzt1Q0FDVTtpQ0FDbkM7cUNBQ0k7a0NBQ0g7K0JBQ0g7d0JBQ1A7OEJBQ0U7c0NBRTRDOzRCQUUzQztBQWJuQixNQUFNQSxVQUFVO0FBcUNSLFNBQVNEO0lBQ3RCLE1BQU0sRUFBRUUsUUFBUSxFQUFFLEdBQUdDLElBQUFBLHNCQUFRO0lBQzdCLE1BQU1DLFNBQVNDLElBQUFBLHFCQUFTO0lBRXhCLG1CQUFtQjtJQUNuQixNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdDLElBQUFBLGVBQVEsRUFBa0IsRUFBRTtJQUN4RSxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR0YsSUFBQUEsZUFBUSxFQUFhLEVBQUU7SUFDekQsTUFBTSxDQUFDRyxTQUFTQyxXQUFXLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUN2QyxNQUFNLENBQUNLLFlBQVlDLGNBQWMsR0FBR04sSUFBQUEsZUFBUSxFQUFDO0lBQzdDLE1BQU0sQ0FBQ08sb0JBQW9CQyxzQkFBc0IsR0FBR1IsSUFBQUEsZUFBUSxFQUFDO0lBQzdELE1BQU0sQ0FBQ1MsdUJBQXVCQyx5QkFBeUIsR0FBR1YsSUFBQUEsZUFBUSxFQUF1QjtJQUN6RixNQUFNLENBQUNXLHVCQUF1QkMseUJBQXlCLEdBQUdaLElBQUFBLGVBQVEsRUFBdUI7SUFDekYsTUFBTSxDQUFDYSxvQkFBb0JDLHNCQUFzQixHQUFHZCxJQUFBQSxlQUFRLEVBQVM7SUFFckUsbURBQW1EO0lBQ25ELE1BQU1lLHNCQUFzQkMsSUFBQUEsYUFBTSxFQUFnQjtJQUVsRDs7R0FFQyxHQUNELE1BQU1DLHNCQUFzQkMsSUFBQUEsa0JBQVcsRUFBQztRQUN0QyxJQUFJO1lBQ0ZkLFdBQVc7WUFFWCxNQUFNZSxXQUFXLE1BQU1DLE1BQU07WUFDN0IsSUFBSSxDQUFDRCxTQUFTRSxFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSUMsTUFBTTtZQUNsQjtZQUVBLE1BQU1DLFNBQVMsTUFBTUosU0FBU0ssSUFBSTtZQUNsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7Z0JBQ2xCMUIsa0JBQWtCd0IsT0FBT0csSUFBSSxDQUFDNUIsY0FBYyxJQUFJLEVBQUU7WUFDcEQsT0FBTztnQkFDTEosU0FBUztvQkFDUGlDLE1BQU07b0JBQ05DLFNBQVNMLE9BQU9NLEtBQUssRUFBRUQsV0FBVztnQkFDcEM7WUFDRjtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkbkMsU0FBUztnQkFDUGlDLE1BQU07Z0JBQ05DLFNBQVNDLGlCQUFpQlAsUUFBUU8sTUFBTUQsT0FBTyxHQUFHO1lBQ3BEO1FBQ0YsU0FBVTtZQUNSeEIsV0FBVztRQUNiO0lBQ0YsR0FBRztRQUFDVjtLQUFTO0lBRWI7O0dBRUMsR0FDRCxNQUFNb0MsaUJBQWlCWixJQUFBQSxrQkFBVyxFQUFDO1FBQ2pDLElBQUk7WUFDRixNQUFNQyxXQUFXLE1BQU1DLE1BQU07WUFDN0IsSUFBSSxDQUFDRCxTQUFTRSxFQUFFLEVBQUU7Z0JBQ2hCO1lBQ0Y7WUFFQSxNQUFNRSxTQUFTLE1BQU1KLFNBQVNLLElBQUk7WUFDbEMsSUFBSUQsT0FBT0UsT0FBTyxFQUFFO2dCQUNsQnZCLGFBQWFxQixPQUFPRyxJQUFJLENBQUN6QixTQUFTLElBQUksRUFBRTtZQUMxQztRQUNGLEVBQUUsT0FBTzRCLE9BQU87WUFDZCw2Q0FBNkM7WUFDN0NFLFFBQVFGLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzlDO0lBQ0YsR0FBRyxFQUFFO0lBRUwscUJBQXFCO0lBQ3JCRyxJQUFBQSxnQkFBUyxFQUFDO1FBQ1JmO1FBQ0FhO0lBQ0YsR0FBRztRQUFDYjtRQUFxQmE7S0FBZTtJQUV4Qzs7R0FFQyxHQUNELE1BQU1HLGlCQUFpQmYsSUFBQUEsa0JBQVcsRUFBQyxDQUFDZ0I7UUFDbEN4Qix5QkFBeUJ3QjtRQUN6QnBCLHNCQUFzQm9CLGNBQWNDLFVBQVUsSUFBSTtRQUNsRDdCLGNBQWM7SUFDaEIsR0FBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxNQUFNOEIseUJBQXlCbEIsSUFBQUEsa0JBQVcsRUFBQztRQUN6Q1IseUJBQXlCO1FBQ3pCSSxzQkFBc0I7UUFDdEJSLGNBQWM7SUFDaEIsR0FBRyxFQUFFO0lBRUw7O0dBRUMsR0FDRCxNQUFNK0Isb0JBQW9CbkIsSUFBQUEsa0JBQVcsRUFBQyxDQUFDZ0I7UUFDckN0Qix5QkFBeUJzQjtRQUN6QjFCLHNCQUFzQjtJQUN4QixHQUFHLEVBQUU7SUFFTDs7R0FFQyxHQUNELE1BQU04QixrQkFBa0JwQixJQUFBQSxrQkFBVyxFQUFDLENBQUNnQjtRQUNuQyxxREFBcUQ7UUFDckR0QyxPQUFPMkMsSUFBSSxDQUFDLENBQUMsc0JBQXNCLEVBQUVMLGNBQWNNLEVBQUUsQ0FBQyxXQUFXLENBQUM7SUFDcEUsR0FBRztRQUFDNUM7S0FBTztJQUVYOztHQUVDLEdBQ0QsTUFBTTZDLGVBQWV2QixJQUFBQSxrQkFBVyxFQUFDLE9BQU9RO1FBQ3RDLElBQUk7WUFDRixNQUFNZ0IsU0FBUyxDQUFDLENBQUNqQztZQUVqQixnQ0FBZ0M7WUFDaEMsTUFBTWtDLGFBQWE7Z0JBQ2pCLEdBQUdqQixJQUFJO2dCQUNQUyxZQUFZdEIsc0JBQXNCO1lBQ3BDO1lBRUEsTUFBTStCLE1BQU1GLFNBQVMsQ0FBQywwQkFBMEIsRUFBRWpDLHNCQUFzQitCLEVBQUUsRUFBRSxHQUFHO1lBQy9FLE1BQU1LLFNBQVNILFNBQVMsUUFBUTtZQUVoQyxNQUFNdkIsV0FBVyxNQUFNQyxNQUFNd0IsS0FBSztnQkFDaENDO2dCQUNBQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNOO1lBQ3ZCO1lBRUEsTUFBTXBCLFNBQVMsTUFBTUosU0FBU0ssSUFBSTtZQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7Z0JBQ2xCL0IsU0FBUztvQkFDUGlDLE1BQU07b0JBQ05DLFNBQVNjLFNBQVMsdUNBQXVDO2dCQUMzRDtnQkFFQSwyQ0FBMkM7Z0JBQzNDLElBQUksQ0FBQ0EsVUFBVW5CLE9BQU9HLElBQUksRUFBRWMsSUFBSTtvQkFDOUJ6QixvQkFBb0JtQyxPQUFPLEdBQUczQixPQUFPRyxJQUFJLENBQUNjLEVBQUU7Z0JBQzlDO2dCQUVBLDZCQUE2QjtnQkFDN0IsTUFBTXZCO2dCQUVOLGFBQWE7Z0JBQ2JYLGNBQWM7Z0JBQ2RJLHlCQUF5QjtnQkFDekJJLHNCQUFzQjtnQkFFdEIsa0RBQWtEO2dCQUNsRCxJQUFJQyxvQkFBb0JtQyxPQUFPLEVBQUU7b0JBQy9CQyxXQUFXO3dCQUNULE1BQU1DLFVBQVVDLFNBQVNDLGFBQWEsQ0FBQyxDQUFDLGNBQWMsRUFBRXZDLG9CQUFvQm1DLE9BQU8sQ0FBQyxFQUFFLENBQUM7d0JBQ3ZGLElBQUlFLFNBQVM7NEJBQ1hBLFFBQVFHLGNBQWMsQ0FBQztnQ0FBRUMsVUFBVTtnQ0FBVUMsT0FBTzs0QkFBUzt3QkFDL0Q7d0JBQ0ExQyxvQkFBb0JtQyxPQUFPLEdBQUc7b0JBQ2hDLEdBQUc7Z0JBQ0w7WUFDRixPQUFPO2dCQUNMeEQsU0FBUztvQkFDUGlDLE1BQU07b0JBQ05DLFNBQVNMLE9BQU9NLEtBQUssRUFBRUQsV0FBVztnQkFDcEM7WUFDRjtRQUNGLEVBQUUsT0FBT0MsT0FBTztZQUNkbkMsU0FBUztnQkFDUGlDLE1BQU07Z0JBQ05DLFNBQVNDLGlCQUFpQlAsUUFBUU8sTUFBTUQsT0FBTyxHQUFHO1lBQ3BEO1FBQ0Y7SUFDRixHQUFHO1FBQUNuQjtRQUF1Qkk7UUFBb0JuQjtRQUFVdUI7S0FBb0I7SUFFN0U7O0dBRUMsR0FDRCxNQUFNeUMsc0JBQXNCeEMsSUFBQUEsa0JBQVcsRUFBQztRQUN0QyxJQUFJLENBQUNQLHVCQUF1QjtRQUU1QixJQUFJO1lBQ0YsTUFBTVEsV0FBVyxNQUFNQyxNQUFNLENBQUMsMEJBQTBCLEVBQUVULHNCQUFzQjZCLEVBQUUsRUFBRSxFQUFFO2dCQUNwRkssUUFBUTtZQUNWO1lBRUEsTUFBTXRCLFNBQVMsTUFBTUosU0FBU0ssSUFBSTtZQUVsQyxJQUFJRCxPQUFPRSxPQUFPLEVBQUU7Z0JBQ2xCL0IsU0FBUztvQkFDUGlDLE1BQU07b0JBQ05DLFNBQVM7Z0JBQ1g7Z0JBRUEsNkJBQTZCO2dCQUM3QixNQUFNWDtnQkFFTixlQUFlO2dCQUNmVCxzQkFBc0I7Z0JBQ3RCSSx5QkFBeUI7WUFDM0IsT0FBTztnQkFDTGxCLFNBQVM7b0JBQ1BpQyxNQUFNO29CQUNOQyxTQUFTTCxPQUFPTSxLQUFLLEVBQUVELFdBQVc7Z0JBQ3BDO1lBQ0Y7UUFDRixFQUFFLE9BQU9DLE9BQU87WUFDZG5DLFNBQVM7Z0JBQ1BpQyxNQUFNO2dCQUNOQyxTQUFTQyxpQkFBaUJQLFFBQVFPLE1BQU1ELE9BQU8sR0FBRztZQUNwRDtRQUNGO0lBQ0YsR0FBRztRQUFDakI7UUFBdUJqQjtRQUFVdUI7S0FBb0I7SUFFekQ7O0dBRUMsR0FDRCxNQUFNMEMsYUFBYSxDQUFDQztRQUNsQixNQUFNQyxPQUFPLElBQUlDLEtBQUtGO1FBQ3RCLE9BQU9DLEtBQUtFLGtCQUFrQixDQUFDLFNBQVM7WUFDdENDLE1BQU07WUFDTkMsT0FBTztZQUNQQyxLQUFLO1FBQ1A7SUFDRjtJQUVBLHVCQUF1QjtJQUN2QixNQUFNQyxVQUFzQztRQUMxQztZQUNFQyxLQUFLO1lBQ0xDLE9BQU87WUFDUEMsVUFBVTtRQUNaO1FBQ0E7WUFDRUYsS0FBSztZQUNMQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsUUFBUSxDQUFDQztnQkFDUCxJQUFJLENBQUNBLE9BQU8sT0FBTztnQkFDbkIsTUFBTUMsV0FBV3hFLFVBQVV5RSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVuQyxFQUFFLEtBQUtnQztnQkFDOUMsT0FBT0MsVUFBVUcsUUFBUTtZQUMzQjtRQUNGO1FBQ0E7WUFDRVIsS0FBSztZQUNMQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsUUFBUSxDQUFDQyxRQUFVQSxRQUFRYixXQUFXYSxTQUFtQjtRQUMzRDtRQUNBO1lBQ0VKLEtBQUs7WUFDTEMsT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLFFBQVEsQ0FBQ0MsUUFBVUEsUUFBUWIsV0FBV2EsU0FBbUI7UUFDM0Q7UUFDQTtZQUNFSixLQUFLO1lBQ0xDLE9BQU87WUFDUEMsVUFBVTtZQUNWTyxZQUFZO1lBQ1pDLFlBQVk7WUFDWkMsZUFBZTtnQkFDYjtvQkFBRVYsT0FBTztvQkFBU0csT0FBTztnQkFBUTtnQkFDakM7b0JBQUVILE9BQU87b0JBQWFHLE9BQU87Z0JBQVk7YUFDMUM7WUFDREQsUUFBUSxDQUFDQztnQkFDUCxNQUFNUSxTQUFpQztvQkFDckNDLE9BQU87b0JBQ1BDLFdBQVc7Z0JBQ2I7Z0JBQ0EscUJBQ0UscUJBQUNDO29CQUNDQyxXQUFXLENBQUMsd0VBQXdFLEVBQ2xGWixVQUFVLFVBQ04sOEJBQ0EsaUNBQ0o7OEJBRURRLE1BQU0sQ0FBQ1IsTUFBZ0IsSUFBSUE7O1lBR2xDO1FBQ0Y7UUFDQTtZQUNFSixLQUFLO1lBQ0xDLE9BQU87WUFDUEMsVUFBVTtZQUNWQyxRQUFRLENBQUNjLEdBQUdDLG9CQUNWLHNCQUFDQztvQkFBSUgsV0FBVTs7c0NBQ2IscUJBQUNJLGNBQU07NEJBQ0xDLFNBQVE7NEJBQ1JDLE1BQUs7NEJBQ0xDLFNBQVMsQ0FBQ0M7Z0NBQ1JBLEVBQUVDLGVBQWU7Z0NBQ2pCQyxPQUFPckIsUUFBUSxDQUFDc0IsSUFBSSxHQUFHLENBQUMscUJBQXFCLEVBQUUsQUFBQ1QsSUFBc0I5QyxFQUFFLEVBQUU7NEJBQzVFO3NDQUNEOztzQ0FHRCxxQkFBQ2dELGNBQU07NEJBQ0xDLFNBQVE7NEJBQ1JDLE1BQUs7NEJBQ0xDLFNBQVMsQ0FBQ0M7Z0NBQ1JBLEVBQUVDLGVBQWU7Z0NBQ2pCdkQsZ0JBQWdCZ0Q7NEJBQ2xCO3NDQUNEOzs7O1FBS1A7S0FDRDtJQUVELHFCQUFxQjtJQUNyQixNQUFNVSxhQUEwQjtRQUM5QjtZQUNFcEIsTUFBTTtZQUNOUCxPQUFPO1lBQ1AxQyxNQUFNO1lBQ05zRSxVQUFVO1lBQ1ZDLGFBQWE7UUFDZjtRQUNBO1lBQ0V0QixNQUFNO1lBQ05QLE9BQU87WUFDUDFDLE1BQU07WUFDTnNFLFVBQVU7WUFDVkMsYUFBYTtRQUNmO1FBQ0E7WUFDRXRCLE1BQU07WUFDTlAsT0FBTztZQUNQMUMsTUFBTTtZQUNOc0UsVUFBVTtZQUNWQyxhQUFhO1lBQ2JDLFVBQVU7UUFDWjtRQUNBO1lBQ0V2QixNQUFNO1lBQ05QLE9BQU87WUFDUDFDLE1BQU07WUFDTnNFLFVBQVU7WUFDVkUsVUFBVTtRQUNaO1FBQ0E7WUFDRXZCLE1BQU07WUFDTlAsT0FBTztZQUNQMUMsTUFBTTtZQUNOc0UsVUFBVTtZQUNWRSxVQUFVO1FBQ1o7UUFDQTtZQUNFdkIsTUFBTTtZQUNOUCxPQUFPO1lBQ1AxQyxNQUFNO1lBQ05zRSxVQUFVO1lBQ1ZHLFNBQVM7Z0JBQ1A7b0JBQUUvQixPQUFPO29CQUFTRyxPQUFPO2dCQUFRO2dCQUNqQztvQkFBRUgsT0FBTztvQkFBYUcsT0FBTztnQkFBWTthQUMxQztRQUNIO0tBQ0Q7SUFFRCxxQkFDRSxzQkFBQ2U7UUFBSUgsV0FBVTs7MEJBRWIsc0JBQUNHO2dCQUFJSCxXQUFVOztrQ0FDYixzQkFBQ0c7OzBDQUNDLHFCQUFDYztnQ0FBR2pCLFdBQVU7MENBQW1DOzswQ0FDakQscUJBQUNrQjtnQ0FBRWxCLFdBQVU7MENBQXFCOzs7O2tDQUVwQyxxQkFBQ0ksY0FBTTt3QkFDTEMsU0FBUTt3QkFDUkUsU0FBU3ZEO3dCQUNUbUUsY0FBVzt3QkFDWEMsZUFBWTtrQ0FDYjs7OzswQkFNSCxxQkFBQ0MsZ0NBQWU7Z0JBQ2RDLFFBQVFyRztnQkFDUnNHLFVBQVU7b0JBQ1JyRyxjQUFjLENBQUNEO29CQUNmLElBQUlBLFlBQVk7d0JBQ2RLLHlCQUF5Qjt3QkFDekJJLHNCQUFzQjtvQkFDeEI7Z0JBQ0Y7Z0JBQ0E4RixPQUFPbkcsd0JBQXdCLHVCQUF1QjtnQkFDdERvRyxRQUFRYjtnQkFDUmMsUUFBUXJHLHdCQUF3QnNHLCtDQUF5QixHQUFHQywrQ0FBeUI7Z0JBQ3JGQyxVQUFVeEU7Z0JBQ1Z5RSxVQUFVO29CQUNSNUcsY0FBYztvQkFDZEkseUJBQXlCO29CQUN6Qkksc0JBQXNCO2dCQUN4QjtnQkFDQXFHLGFBQWExRyx5QkFBeUIsQ0FBQztnQkFDdkMyRyxhQUFhM0csd0JBQXdCLHlCQUF5QjswQkFHOUQsY0FBQSxzQkFBQzhFO29CQUFJSCxXQUFVOztzQ0FDYixxQkFBQ2Y7NEJBQU1lLFdBQVU7c0NBQStDOztzQ0FHaEUscUJBQUNpQyxrQ0FBZ0I7NEJBQ2ZwSCxXQUFXQTs0QkFDWFksb0JBQW9CQTs0QkFDcEJ5RyxVQUFVeEc7NEJBQ1ZvRixhQUFZOztzQ0FFZCxxQkFBQ0k7NEJBQUVsQixXQUFVO3NDQUE2Qjs7Ozs7WUFPN0MvRSxjQUFjSSx1Q0FDYixxQkFBQzhHLHdDQUFtQjtnQkFDbEJDLFVBQVM7Z0JBQ1RDLFFBQVFoSCxzQkFBc0IrQixFQUFFO2dCQUNoQ2tGLFlBQVlqSCxzQkFBc0JtRSxJQUFJO2dCQUN0QytDLGlCQUFpQjs7MEJBS3JCLHFCQUFDQyw0Q0FBUztnQkFDUmxHLE1BQU01QjtnQkFDTnFFLFNBQVNBO2dCQUNUaEUsU0FBU0E7Z0JBQ1QwSCxZQUFZNUY7Z0JBQ1o2RixVQUFVekY7Z0JBQ1YwRixZQUFZakksZUFBZWtJLE1BQU07Z0JBQ2pDQyxhQUFhO2dCQUNiQyxVQUFVO2dCQUNWQyxTQUFROzswQkFJVixxQkFBQ0MsNEJBQWE7Z0JBQ1oxQixRQUFRbkc7Z0JBQ1I4SCxTQUFTO29CQUNQN0gsc0JBQXNCO29CQUN0QkkseUJBQXlCO2dCQUMzQjtnQkFDQTBILFdBQVc1RTtnQkFDWGtELE9BQU07Z0JBQ05oRixTQUFTLENBQUMsaUNBQWlDLEVBQUVqQix1QkFBdUJpRSxLQUFLLGlGQUFpRixDQUFDO2dCQUMzSjJELGNBQWE7Z0JBQ2JDLGFBQVk7Z0JBQ1ovQyxTQUFROzs7O0FBSWhCIn0=