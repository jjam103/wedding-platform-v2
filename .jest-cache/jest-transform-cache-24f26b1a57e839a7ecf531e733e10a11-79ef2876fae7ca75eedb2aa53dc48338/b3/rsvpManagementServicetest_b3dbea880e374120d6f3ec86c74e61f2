50d40afbe2c48a5165d563a84c28e8c2
"use strict";
// Mock Supabase
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _mockSupabase = require("../__tests__/helpers/mockSupabase");
const _rsvpManagementService = /*#__PURE__*/ _interop_require_wildcard(require("./rsvpManagementService"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('rsvpManagementService', ()=>{
    let mockSupabase;
    beforeEach(()=>{
        jest.clearAllMocks();
        jest.restoreAllMocks();
        mockSupabase = (0, _mockSupabase.createMockSupabaseClient)();
        (0, _mockSupabase.resetMockSupabaseClient)(mockSupabase);
        const { createClient } = require('@supabase/supabase-js');
        createClient.mockReturnValue(mockSupabase);
    });
    afterEach(()=>{
        jest.restoreAllMocks();
    });
    describe('listRSVPs', ()=>{
        const mockRSVPData = [
            {
                id: 'rsvp-1',
                guest_id: 'guest-1',
                event_id: 'event-1',
                activity_id: null,
                status: 'attending',
                guest_count: 2,
                dietary_notes: 'Vegetarian',
                special_requirements: null,
                notes: null,
                responded_at: '2024-01-15T10:00:00Z',
                created_at: '2024-01-10T10:00:00Z',
                updated_at: '2024-01-15T10:00:00Z',
                guests: {
                    first_name: 'John',
                    last_name: 'Doe',
                    email: 'john@example.com'
                },
                events: {
                    name: 'Wedding Ceremony'
                },
                activities: null
            },
            {
                id: 'rsvp-2',
                guest_id: 'guest-2',
                event_id: null,
                activity_id: 'activity-1',
                status: 'pending',
                guest_count: 1,
                dietary_notes: null,
                special_requirements: null,
                notes: null,
                responded_at: null,
                created_at: '2024-01-12T10:00:00Z',
                updated_at: '2024-01-12T10:00:00Z',
                guests: {
                    first_name: 'Jane',
                    last_name: 'Smith',
                    email: 'jane@example.com'
                },
                events: null,
                activities: {
                    name: 'Beach Activity'
                }
            }
        ];
        it('should return success with RSVPs when valid filters and pagination', async ()=>{
            // Mock the query chain properly
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: mockRSVPData,
                error: null,
                count: 2
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 2,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 1
                    },
                    totalGuestCount: 2
                }
            });
            const filters = {
                eventId: 'event-1'
            };
            const pagination = {
                page: 1,
                limit: 50
            };
            const result = await _rsvpManagementService.listRSVPs(filters, pagination);
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(2);
                expect(result.data.data[0].guestFirstName).toBe('John');
                expect(result.data.data[0].eventName).toBe('Wedding Ceremony');
                expect(result.data.pagination.page).toBe(1);
                expect(result.data.pagination.limit).toBe(50);
                expect(result.data.pagination.total).toBe(2);
                expect(result.data.pagination.totalPages).toBe(1);
            }
        });
        it('should filter by event ID', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[0]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                eventId: 'event-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].eventId).toBe('event-1');
            }
            // Verify eq was called with event_id
            expect(mockSupabase.eq).toHaveBeenCalledWith('event_id', 'event-1');
        });
        it('should filter by activity ID', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[1]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 1
                    },
                    totalGuestCount: 0
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                activityId: 'activity-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].activityId).toBe('activity-1');
            }
            // Verify eq was called with activity_id
            expect(mockSupabase.eq).toHaveBeenCalledWith('activity_id', 'activity-1');
        });
        it('should filter by status', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[0]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                status: 'attending'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].status).toBe('attending');
            }
            // Verify eq was called with status
            expect(mockSupabase.eq).toHaveBeenCalledWith('status', 'attending');
        });
        it('should filter by guest ID', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[0]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                guestId: 'guest-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.data).toHaveLength(1);
                expect(result.data.data[0].guestId).toBe('guest-1');
            }
            // Verify eq was called with guest_id
            expect(mockSupabase.eq).toHaveBeenCalledWith('guest_id', 'guest-1');
        });
        it('should apply pagination correctly', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: mockRSVPData,
                error: null,
                count: 100
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 100,
                    byStatus: {
                        attending: 50,
                        declined: 25,
                        maybe: 15,
                        pending: 10
                    },
                    totalGuestCount: 50
                }
            });
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: 2,
                limit: 25
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.pagination.page).toBe(2);
                expect(result.data.pagination.limit).toBe(25);
                expect(result.data.pagination.total).toBe(100);
                expect(result.data.pagination.totalPages).toBe(4);
            }
            // Verify range was called with correct values (page 2, limit 25 = from 25 to 49)
            expect(mockSupabase.range).toHaveBeenCalledWith(25, 49);
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.listRSVPs({
                eventId: 'invalid-uuid'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when invalid pagination parameters', async ()=>{
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: -1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database query fails', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: null,
                error: {
                    message: 'Database connection failed'
                },
                count: null
            });
            const result = await _rsvpManagementService.listRSVPs({}, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Database connection failed');
            }
        });
        it('should apply multiple filters together', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[0]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                eventId: 'event-1',
                status: 'attending',
                guestId: 'guest-1'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            // Verify all filters were applied
            expect(mockSupabase.eq).toHaveBeenCalledWith('event_id', 'event-1');
            expect(mockSupabase.eq).toHaveBeenCalledWith('status', 'attending');
            expect(mockSupabase.eq).toHaveBeenCalledWith('guest_id', 'guest-1');
        });
        it('should handle search query filter', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.or.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: [
                    mockRSVPData[0]
                ],
                error: null,
                count: 1
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs({
                searchQuery: 'John'
            }, {
                page: 1,
                limit: 50
            });
            expect(result.success).toBe(true);
            // Verify or was called for search
            expect(mockSupabase.or).toHaveBeenCalled();
        });
        it('should default to page 1 and limit 50 when not specified', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.range.mockReturnValue(mockSupabase);
            mockSupabase.order.mockResolvedValue({
                data: mockRSVPData,
                error: null,
                count: 2
            });
            // Mock getRSVPStatistics
            jest.spyOn(_rsvpManagementService, 'getRSVPStatistics').mockResolvedValue({
                success: true,
                data: {
                    totalRSVPs: 2,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 1
                    },
                    totalGuestCount: 2
                }
            });
            const result = await _rsvpManagementService.listRSVPs();
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.pagination.page).toBe(1);
                expect(result.data.pagination.limit).toBe(50);
            }
            // Verify range was called with default values (page 1, limit 50 = from 0 to 49)
            expect(mockSupabase.range).toHaveBeenCalledWith(0, 49);
        });
    });
    describe('getRSVPStatistics', ()=>{
        const mockStatisticsData = [
            {
                status: 'attending',
                guest_count: 2
            },
            {
                status: 'attending',
                guest_count: 1
            },
            {
                status: 'declined',
                guest_count: 1
            },
            {
                status: 'maybe',
                guest_count: null
            },
            {
                status: 'pending',
                guest_count: 1
            }
        ];
        it('should return success with accurate statistics', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: mockStatisticsData,
                error: null
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(5);
                expect(result.data.byStatus.attending).toBe(2);
                expect(result.data.byStatus.declined).toBe(1);
                expect(result.data.byStatus.maybe).toBe(1);
                expect(result.data.byStatus.pending).toBe(1);
                expect(result.data.totalGuestCount).toBe(3); // 2 + 1 from attending
            }
        });
        it('should filter statistics by event ID', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockResolvedValue({
                data: [
                    mockStatisticsData[0],
                    mockStatisticsData[1]
                ],
                error: null
            });
            const result = await _rsvpManagementService.getRSVPStatistics({
                eventId: 'event-1'
            });
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(2);
                expect(result.data.byStatus.attending).toBe(2);
            }
            // Verify eq was called with event_id
            expect(mockSupabase.eq).toHaveBeenCalledWith('event_id', 'event-1');
        });
        it('should handle empty results', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [],
                error: null
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalRSVPs).toBe(0);
                expect(result.data.byStatus.attending).toBe(0);
                expect(result.data.totalGuestCount).toBe(0);
            }
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.getRSVPStatistics({
                eventId: 'invalid-uuid'
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database query fails', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: null,
                error: {
                    message: 'Database connection failed'
                }
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Database connection failed');
            }
        });
        it('should filter statistics by multiple criteria', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockReturnValue(mockSupabase);
            mockSupabase.eq.mockResolvedValue({
                data: [
                    mockStatisticsData[0]
                ],
                error: null
            });
            const result = await _rsvpManagementService.getRSVPStatistics({
                eventId: 'event-1',
                status: 'attending'
            });
            expect(result.success).toBe(true);
            // Verify both filters were applied
            expect(mockSupabase.eq).toHaveBeenCalledWith('event_id', 'event-1');
            expect(mockSupabase.eq).toHaveBeenCalledWith('status', 'attending');
        });
        it('should default guest_count to 1 when null for attending RSVPs', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        status: 'attending',
                        guest_count: null
                    },
                    {
                        status: 'attending',
                        guest_count: 2
                    }
                ],
                error: null
            });
            const result = await _rsvpManagementService.getRSVPStatistics({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.totalGuestCount).toBe(3); // 1 (default) + 2
            }
        });
    });
    describe('bulkUpdateRSVPs', ()=>{
        it('should return success with updated count when valid input', async ()=>{
            const rsvpIds = [
                'rsvp-1',
                'rsvp-2',
                'rsvp-3'
            ];
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        id: 'rsvp-1'
                    },
                    {
                        id: 'rsvp-2'
                    },
                    {
                        id: 'rsvp-3'
                    }
                ],
                error: null
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs(rsvpIds, 'attending', 'Bulk approved');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.updatedCount).toBe(3);
            }
            // Verify update was called with correct data
            expect(mockSupabase.update).toHaveBeenCalledWith(expect.objectContaining({
                status: 'attending',
                notes: 'Bulk approved',
                responded_at: expect.any(String),
                updated_at: expect.any(String)
            }));
            // Verify in was called with correct IDs
            expect(mockSupabase.in).toHaveBeenCalledWith('id', rsvpIds);
        });
        it('should update status and set responded_at for non-pending status', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        id: 'rsvp-1'
                    }
                ],
                error: null
            });
            await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending');
            expect(mockSupabase.update).toHaveBeenCalledWith(expect.objectContaining({
                status: 'attending',
                responded_at: expect.any(String)
            }));
        });
        it('should include notes when provided', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        id: 'rsvp-1'
                    }
                ],
                error: null
            });
            await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending', 'Admin approved');
            expect(mockSupabase.update).toHaveBeenCalledWith(expect.objectContaining({
                notes: 'Admin approved'
            }));
        });
        it('should handle partial updates when some RSVPs not found', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        id: 'rsvp-1'
                    },
                    {
                        id: 'rsvp-2'
                    }
                ],
                error: null
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1',
                'rsvp-2',
                'rsvp-3'
            ], 'attending');
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data.updatedCount).toBe(2);
            }
        });
        it('should return VALIDATION_ERROR when empty rsvpIds array', async ()=>{
            const result = await _rsvpManagementService.bulkUpdateRSVPs([], 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when too many rsvpIds (>100)', async ()=>{
            const tooManyIds = Array.from({
                length: 101
            }, (_, i)=>`rsvp-${i}`);
            const result = await _rsvpManagementService.bulkUpdateRSVPs(tooManyIds, 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return VALIDATION_ERROR when invalid status', async ()=>{
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'invalid-status');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should return DATABASE_ERROR when database update fails', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: null,
                error: {
                    message: 'Database connection failed'
                }
            });
            const result = await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'attending');
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Database connection failed');
            }
        });
        it('should not set responded_at when status is pending', async ()=>{
            mockSupabase.from.mockReturnValue(mockSupabase);
            mockSupabase.update.mockReturnValue(mockSupabase);
            mockSupabase.in.mockReturnValue(mockSupabase);
            mockSupabase.select.mockResolvedValue({
                data: [
                    {
                        id: 'rsvp-1'
                    }
                ],
                error: null
            });
            await _rsvpManagementService.bulkUpdateRSVPs([
                'rsvp-1'
            ], 'pending');
            expect(mockSupabase.update).toHaveBeenCalledWith(expect.objectContaining({
                status: 'pending'
            }));
            // Verify responded_at is NOT in the update data
            const updateCall = mockSupabase.update.mock.calls[0][0];
            expect(updateCall.responded_at).toBeUndefined();
        });
        it('should handle all valid status values', async ()=>{
            const statuses = [
                'pending',
                'attending',
                'declined',
                'maybe'
            ];
            for (const status of statuses){
                // Reset mocks for each iteration
                jest.clearAllMocks();
                (0, _mockSupabase.resetMockSupabaseClient)(mockSupabase);
                mockSupabase.from.mockReturnValue(mockSupabase);
                mockSupabase.update.mockReturnValue(mockSupabase);
                mockSupabase.in.mockReturnValue(mockSupabase);
                mockSupabase.select.mockResolvedValue({
                    data: [
                        {
                            id: 'rsvp-1'
                        }
                    ],
                    error: null
                });
                const result = await _rsvpManagementService.bulkUpdateRSVPs([
                    'rsvp-1'
                ], status);
                expect(result.success).toBe(true);
                if (result.success) {
                    expect(result.data.updatedCount).toBe(1);
                }
                expect(mockSupabase.update).toHaveBeenCalledWith(expect.objectContaining({
                    status
                }));
            }
        });
    });
    describe('exportRSVPsToCSV', ()=>{
        it('should return success with CSV string when valid filters', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 2,
                    dietaryNotes: 'Vegetarian',
                    specialRequirements: null,
                    notes: null,
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            // Mock listRSVPs to return test data
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 2
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('RSVP ID,Guest First Name,Guest Last Name');
                expect(result.data).toContain('rsvp-1,John,Doe');
                expect(result.data).toContain('Wedding Ceremony');
                expect(result.data).toContain('attending');
                expect(result.data).toContain('Vegetarian');
            }
            // Verify listRSVPs was called with correct parameters
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith({}, {
                page: 1,
                limit: 10000
            });
        });
        it('should escape CSV values with commas', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe, Jr.',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 1,
                    dietaryNotes: 'No nuts, no dairy',
                    specialRequirements: null,
                    notes: null,
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 1
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('"Doe, Jr."');
                expect(result.data).toContain('"No nuts, no dairy"');
            }
        });
        it('should escape CSV values with quotes', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 1,
                    dietaryNotes: null,
                    specialRequirements: null,
                    notes: 'Guest said "excited to attend"',
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 1
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                expect(result.data).toContain('""excited to attend""');
            }
        });
        it('should handle empty results', async ()=>{
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: [],
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 0,
                        totalPages: 0
                    },
                    statistics: {
                        totalRSVPs: 0,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 0
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                // Should only have header row
                const lines = result.data.split('\n');
                expect(lines.length).toBe(1);
                expect(lines[0]).toContain('RSVP ID,Guest First Name');
            }
        });
        it('should return VALIDATION_ERROR when invalid filter parameters', async ()=>{
            const result = await _rsvpManagementService.exportRSVPsToCSV({
                eventId: 'invalid-uuid'
            });
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('VALIDATION_ERROR');
            }
        });
        it('should propagate errors from listRSVPs', async ()=>{
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database connection failed'
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(false);
            if (!result.success) {
                expect(result.error.code).toBe('DATABASE_ERROR');
                expect(result.error.message).toBe('Database connection failed');
            }
        });
        it('should apply filters when exporting', async ()=>{
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: [],
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 0,
                        totalPages: 0
                    },
                    statistics: {
                        totalRSVPs: 0,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 0
                    }
                }
            });
            const filters = {
                eventId: 'event-1',
                status: 'attending'
            };
            await _rsvpManagementService.exportRSVPsToCSV(filters);
            // Verify listRSVPs was called with the filters
            expect(_rsvpManagementService.listRSVPs).toHaveBeenCalledWith(filters, {
                page: 1,
                limit: 10000
            });
        });
        it('should handle newlines in CSV values', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: 'john@example.com',
                    eventName: 'Wedding Ceremony',
                    activityName: null,
                    status: 'attending',
                    guestCount: 1,
                    dietaryNotes: null,
                    specialRequirements: null,
                    notes: 'Line 1\nLine 2',
                    respondedAt: '2024-01-15T10:00:00Z',
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-15T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: 'event-1',
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 1,
                            declined: 0,
                            maybe: 0,
                            pending: 0
                        },
                        totalGuestCount: 1
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                // Newlines should be wrapped in quotes
                expect(result.data).toContain('"Line 1\nLine 2"');
            }
        });
        it('should handle null values in CSV', async ()=>{
            const mockRSVPs = [
                {
                    id: 'rsvp-1',
                    guestFirstName: 'John',
                    guestLastName: 'Doe',
                    guestEmail: null,
                    eventName: null,
                    activityName: null,
                    status: 'pending',
                    guestCount: null,
                    dietaryNotes: null,
                    specialRequirements: null,
                    notes: null,
                    respondedAt: null,
                    createdAt: '2024-01-10T10:00:00Z',
                    updatedAt: '2024-01-10T10:00:00Z',
                    guestId: 'guest-1',
                    eventId: null,
                    activityId: null
                }
            ];
            jest.spyOn(_rsvpManagementService, 'listRSVPs').mockResolvedValue({
                success: true,
                data: {
                    data: mockRSVPs,
                    pagination: {
                        page: 1,
                        limit: 10000,
                        total: 1,
                        totalPages: 1
                    },
                    statistics: {
                        totalRSVPs: 1,
                        byStatus: {
                            attending: 0,
                            declined: 0,
                            maybe: 0,
                            pending: 1
                        },
                        totalGuestCount: 0
                    }
                }
            });
            const result = await _rsvpManagementService.exportRSVPsToCSV({});
            expect(result.success).toBe(true);
            if (result.success) {
                // Null values should be empty strings
                const lines = result.data.split('\n');
                expect(lines[1]).toContain('rsvp-1,John,Doe,,,');
                // Guest count should default to 1
                expect(lines[1]).toContain(',1,');
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50LCByZXNldE1vY2tTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0AvX190ZXN0c19fL2hlbHBlcnMvbW9ja1N1cGFiYXNlJztcbmltcG9ydCAqIGFzIHJzdnBNYW5hZ2VtZW50U2VydmljZSBmcm9tICcuL3JzdnBNYW5hZ2VtZW50U2VydmljZSc7XG5pbXBvcnQgdHlwZSB7IFJTVlBGaWx0ZXJzLCBQYWdpbmF0aW9uUGFyYW1zIH0gZnJvbSAnLi9yc3ZwTWFuYWdlbWVudFNlcnZpY2UnO1xuXG4vLyBNb2NrIFN1cGFiYXNlXG5qZXN0Lm1vY2soJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcycsICgpID0+ICh7XG4gIGNyZWF0ZUNsaWVudDogamVzdC5mbigpLFxufSkpO1xuXG5kZXNjcmliZSgncnN2cE1hbmFnZW1lbnRTZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgbW9ja1N1cGFiYXNlOiBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQ+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gICAgbW9ja1N1cGFiYXNlID0gY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50KCk7XG4gICAgcmVzZXRNb2NrU3VwYWJhc2VDbGllbnQobW9ja1N1cGFiYXNlKTtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gcmVxdWlyZSgnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJyk7XG4gICAgY3JlYXRlQ2xpZW50Lm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsaXN0UlNWUHMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1JTVlBEYXRhID0gW1xuICAgICAge1xuICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgIGd1ZXN0X2lkOiAnZ3Vlc3QtMScsXG4gICAgICAgIGV2ZW50X2lkOiAnZXZlbnQtMScsXG4gICAgICAgIGFjdGl2aXR5X2lkOiBudWxsLFxuICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICBndWVzdF9jb3VudDogMixcbiAgICAgICAgZGlldGFyeV9ub3RlczogJ1ZlZ2V0YXJpYW4nLFxuICAgICAgICBzcGVjaWFsX3JlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgIHJlc3BvbmRlZF9hdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgZ3Vlc3RzOiB7XG4gICAgICAgICAgZmlyc3RfbmFtZTogJ0pvaG4nLFxuICAgICAgICAgIGxhc3RfbmFtZTogJ0RvZScsXG4gICAgICAgICAgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgbmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICB9LFxuICAgICAgICBhY3Rpdml0aWVzOiBudWxsLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdyc3ZwLTInLFxuICAgICAgICBndWVzdF9pZDogJ2d1ZXN0LTInLFxuICAgICAgICBldmVudF9pZDogbnVsbCxcbiAgICAgICAgYWN0aXZpdHlfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGd1ZXN0X2NvdW50OiAxLFxuICAgICAgICBkaWV0YXJ5X25vdGVzOiBudWxsLFxuICAgICAgICBzcGVjaWFsX3JlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgIHJlc3BvbmRlZF9hdDogbnVsbCxcbiAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMTJUMTA6MDA6MDBaJyxcbiAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMTJUMTA6MDA6MDBaJyxcbiAgICAgICAgZ3Vlc3RzOiB7XG4gICAgICAgICAgZmlyc3RfbmFtZTogJ0phbmUnLFxuICAgICAgICAgIGxhc3RfbmFtZTogJ1NtaXRoJyxcbiAgICAgICAgICBlbWFpbDogJ2phbmVAZXhhbXBsZS5jb20nLFxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IG51bGwsXG4gICAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgICBuYW1lOiAnQmVhY2ggQWN0aXZpdHknLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIFJTVlBzIHdoZW4gdmFsaWQgZmlsdGVycyBhbmQgcGFnaW5hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgdGhlIHF1ZXJ5IGNoYWluIHByb3Blcmx5XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UucmFuZ2UubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uub3JkZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrUlNWUERhdGEsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBjb3VudDogMixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGdldFJTVlBTdGF0aXN0aWNzXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2dldFJTVlBTdGF0aXN0aWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMixcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMSB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmaWx0ZXJzOiBSU1ZQRmlsdGVycyA9IHsgZXZlbnRJZDogJ2V2ZW50LTEnIH07XG4gICAgICBjb25zdCBwYWdpbmF0aW9uOiBQYWdpbmF0aW9uUGFyYW1zID0geyBwYWdlOiAxLCBsaW1pdDogNTAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyhmaWx0ZXJzLCBwYWdpbmF0aW9uKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5kYXRhKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5kYXRhWzBdLmd1ZXN0Rmlyc3ROYW1lKS50b0JlKCdKb2huJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5kYXRhWzBdLmV2ZW50TmFtZSkudG9CZSgnV2VkZGluZyBDZXJlbW9ueScpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi5wYWdlKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi5saW1pdCkudG9CZSg1MCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5wYWdpbmF0aW9uLnRvdGFsKS50b0JlKDIpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi50b3RhbFBhZ2VzKS50b0JlKDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgYnkgZXZlbnQgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UucmFuZ2UubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uub3JkZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBbbW9ja1JTVlBEYXRhWzBdXSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgZ2V0UlNWUFN0YXRpc3RpY3NcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnZ2V0UlNWUFN0YXRpc3RpY3MnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMSwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAwIH0sXG4gICAgICAgICAgdG90YWxHdWVzdENvdW50OiAyLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHsgZXZlbnRJZDogJ2V2ZW50LTEnIH0sXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDUwIH1cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YVswXS5ldmVudElkKS50b0JlKCdldmVudC0xJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBlcSB3YXMgY2FsbGVkIHdpdGggZXZlbnRfaWRcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdldmVudF9pZCcsICdldmVudC0xJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBieSBhY3Rpdml0eSBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5lcS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5yYW5nZS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5vcmRlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFttb2NrUlNWUERhdGFbMV1dLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBnZXRSU1ZQU3RhdGlzdGljc1xuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdnZXRSU1ZQU3RhdGlzdGljcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDEgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyhcbiAgICAgICAgeyBhY3Rpdml0eUlkOiAnYWN0aXZpdHktMScgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5kYXRhKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5kYXRhWzBdLmFjdGl2aXR5SWQpLnRvQmUoJ2FjdGl2aXR5LTEnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGVxIHdhcyBjYWxsZWQgd2l0aCBhY3Rpdml0eV9pZFxuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FjdGl2aXR5X2lkJywgJ2FjdGl2aXR5LTEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5lcS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5yYW5nZS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5vcmRlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFttb2NrUlNWUERhdGFbMF1dLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBnZXRSU1ZQU3RhdGlzdGljc1xuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdnZXRSU1ZQU3RhdGlzdGljcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyhcbiAgICAgICAgeyBzdGF0dXM6ICdhdHRlbmRpbmcnIH0sXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDUwIH1cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuZGF0YVswXS5zdGF0dXMpLnRvQmUoJ2F0dGVuZGluZycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgZXEgd2FzIGNhbGxlZCB3aXRoIHN0YXR1c1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3N0YXR1cycsICdhdHRlbmRpbmcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGJ5IGd1ZXN0IElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLmVxLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnJhbmdlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLm9yZGVyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW21vY2tSU1ZQRGF0YVswXV0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBjb3VudDogMSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGdldFJTVlBTdGF0aXN0aWNzXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2dldFJTVlBTdGF0aXN0aWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMSxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7IGd1ZXN0SWQ6ICdndWVzdC0xJyB9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGEpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmRhdGFbMF0uZ3Vlc3RJZCkudG9CZSgnZ3Vlc3QtMScpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgZXEgd2FzIGNhbGxlZCB3aXRoIGd1ZXN0X2lkXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZ3Vlc3RfaWQnLCAnZ3Vlc3QtMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhcHBseSBwYWdpbmF0aW9uIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5yYW5nZS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5vcmRlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG1vY2tSU1ZQRGF0YSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGNvdW50OiAxMDAsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBnZXRSU1ZQU3RhdGlzdGljc1xuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdnZXRSU1ZQU3RhdGlzdGljcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDEwMCxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDUwLCBkZWNsaW5lZDogMjUsIG1heWJlOiAxNSwgcGVuZGluZzogMTAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDUwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHt9LFxuICAgICAgICB7IHBhZ2U6IDIsIGxpbWl0OiAyNSB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24ucGFnZSkudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnBhZ2luYXRpb24ubGltaXQpLnRvQmUoMjUpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi50b3RhbCkudG9CZSgxMDApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi50b3RhbFBhZ2VzKS50b0JlKDQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgcmFuZ2Ugd2FzIGNhbGxlZCB3aXRoIGNvcnJlY3QgdmFsdWVzIChwYWdlIDIsIGxpbWl0IDI1ID0gZnJvbSAyNSB0byA0OSlcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UucmFuZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDI1LCA0OSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gaW52YWxpZCBmaWx0ZXIgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHsgZXZlbnRJZDogJ2ludmFsaWQtdXVpZCcgfSBhcyBhbnksXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDUwIH1cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiB3aGVuIGludmFsaWQgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmxpc3RSU1ZQcyhcbiAgICAgICAge30sXG4gICAgICAgIHsgcGFnZTogLTEsIGxpbWl0OiA1MCB9IGFzIGFueVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBEQVRBQkFTRV9FUlJPUiB3aGVuIGRhdGFiYXNlIHF1ZXJ5IGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnJhbmdlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLm9yZGVyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyB9LFxuICAgICAgICBjb3VudDogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKHt9LCB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQmUoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFwcGx5IG11bHRpcGxlIGZpbHRlcnMgdG9nZXRoZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UucmFuZ2UubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uub3JkZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBbbW9ja1JTVlBEYXRhWzBdXSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgZ2V0UlNWUFN0YXRpc3RpY3NcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnZ2V0UlNWUFN0YXRpc3RpY3MnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMSwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAwIH0sXG4gICAgICAgICAgdG90YWxHdWVzdENvdW50OiAyLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHMoXG4gICAgICAgIHsgZXZlbnRJZDogJ2V2ZW50LTEnLCBzdGF0dXM6ICdhdHRlbmRpbmcnLCBndWVzdElkOiAnZ3Vlc3QtMScgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgYWxsIGZpbHRlcnMgd2VyZSBhcHBsaWVkXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZXZlbnRfaWQnLCAnZXZlbnQtMScpO1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3N0YXR1cycsICdhdHRlbmRpbmcnKTtcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdndWVzdF9pZCcsICdndWVzdC0xJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWFyY2ggcXVlcnkgZmlsdGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLm9yLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnJhbmdlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLm9yZGVyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW21vY2tSU1ZQRGF0YVswXV0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBjb3VudDogMSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGdldFJTVlBTdGF0aXN0aWNzXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2dldFJTVlBTdGF0aXN0aWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMSxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKFxuICAgICAgICB7IHNlYXJjaFF1ZXJ5OiAnSm9obicgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgb3Igd2FzIGNhbGxlZCBmb3Igc2VhcmNoXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLm9yKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRlZmF1bHQgdG8gcGFnZSAxIGFuZCBsaW1pdCA1MCB3aGVuIG5vdCBzcGVjaWZpZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UucmFuZ2UubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uub3JkZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrUlNWUERhdGEsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBjb3VudDogMixcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGdldFJTVlBTdGF0aXN0aWNzXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2dldFJTVlBTdGF0aXN0aWNzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMixcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMSB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi5wYWdlKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEucGFnaW5hdGlvbi5saW1pdCkudG9CZSg1MCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSByYW5nZSB3YXMgY2FsbGVkIHdpdGggZGVmYXVsdCB2YWx1ZXMgKHBhZ2UgMSwgbGltaXQgNTAgPSBmcm9tIDAgdG8gNDkpXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLnJhbmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgwLCA0OSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRSU1ZQU3RhdGlzdGljcycsICgpID0+IHtcbiAgICBjb25zdCBtb2NrU3RhdGlzdGljc0RhdGEgPSBbXG4gICAgICB7IHN0YXR1czogJ2F0dGVuZGluZycsIGd1ZXN0X2NvdW50OiAyIH0sXG4gICAgICB7IHN0YXR1czogJ2F0dGVuZGluZycsIGd1ZXN0X2NvdW50OiAxIH0sXG4gICAgICB7IHN0YXR1czogJ2RlY2xpbmVkJywgZ3Vlc3RfY291bnQ6IDEgfSxcbiAgICAgIHsgc3RhdHVzOiAnbWF5YmUnLCBndWVzdF9jb3VudDogbnVsbCB9LFxuICAgICAgeyBzdGF0dXM6ICdwZW5kaW5nJywgZ3Vlc3RfY291bnQ6IDEgfSxcbiAgICBdO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VjY2VzcyB3aXRoIGFjY3VyYXRlIHN0YXRpc3RpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBtb2NrU3RhdGlzdGljc0RhdGEsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWxSU1ZQcykudG9CZSg1KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmJ5U3RhdHVzLmF0dGVuZGluZykudG9CZSgyKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmJ5U3RhdHVzLmRlY2xpbmVkKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuYnlTdGF0dXMubWF5YmUpLnRvQmUoMSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5ieVN0YXR1cy5wZW5kaW5nKS50b0JlKDEpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWxHdWVzdENvdW50KS50b0JlKDMpOyAvLyAyICsgMSBmcm9tIGF0dGVuZGluZ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgc3RhdGlzdGljcyBieSBldmVudCBJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5lcS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFttb2NrU3RhdGlzdGljc0RhdGFbMF0sIG1vY2tTdGF0aXN0aWNzRGF0YVsxXV0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7XG4gICAgICAgIGV2ZW50SWQ6ICdldmVudC0xJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnRvdGFsUlNWUHMpLnRvQmUoMik7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5ieVN0YXR1cy5hdHRlbmRpbmcpLnRvQmUoMik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBlcSB3YXMgY2FsbGVkIHdpdGggZXZlbnRfaWRcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdldmVudF9pZCcsICdldmVudC0xJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5nZXRSU1ZQU3RhdGlzdGljcyh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWxSU1ZQcykudG9CZSgwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmJ5U3RhdHVzLmF0dGVuZGluZykudG9CZSgwKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnRvdGFsR3Vlc3RDb3VudCkudG9CZSgwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFZBTElEQVRJT05fRVJST1Igd2hlbiBpbnZhbGlkIGZpbHRlciBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmdldFJTVlBTdGF0aXN0aWNzKHtcbiAgICAgICAgZXZlbnRJZDogJ2ludmFsaWQtdXVpZCcsXG4gICAgICB9IGFzIGFueSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gREFUQUJBU0VfRVJST1Igd2hlbiBkYXRhYmFzZSBxdWVyeSBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZ2V0UlNWUFN0YXRpc3RpY3Moe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IubWVzc2FnZSkudG9CZSgnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIHN0YXRpc3RpY3MgYnkgbXVsdGlwbGUgY3JpdGVyaWEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBbbW9ja1N0YXRpc3RpY3NEYXRhWzBdXSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmdldFJTVlBTdGF0aXN0aWNzKHtcbiAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGJvdGggZmlsdGVycyB3ZXJlIGFwcGxpZWRcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdldmVudF9pZCcsICdldmVudC0xJyk7XG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnc3RhdHVzJywgJ2F0dGVuZGluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkZWZhdWx0IGd1ZXN0X2NvdW50IHRvIDEgd2hlbiBudWxsIGZvciBhdHRlbmRpbmcgUlNWUHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgeyBzdGF0dXM6ICdhdHRlbmRpbmcnLCBndWVzdF9jb3VudDogbnVsbCB9LFxuICAgICAgICAgIHsgc3RhdHVzOiAnYXR0ZW5kaW5nJywgZ3Vlc3RfY291bnQ6IDIgfSxcbiAgICAgICAgXSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmdldFJTVlBTdGF0aXN0aWNzKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS50b3RhbEd1ZXN0Q291bnQpLnRvQmUoMyk7IC8vIDEgKGRlZmF1bHQpICsgMlxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYnVsa1VwZGF0ZVJTVlBzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3Mgd2l0aCB1cGRhdGVkIGNvdW50IHdoZW4gdmFsaWQgaW5wdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByc3ZwSWRzID0gWydyc3ZwLTEnLCAncnN2cC0yJywgJ3JzdnAtMyddO1xuICAgICAgXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS51cGRhdGUubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuaW4ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW3sgaWQ6ICdyc3ZwLTEnIH0sIHsgaWQ6ICdyc3ZwLTInIH0sIHsgaWQ6ICdyc3ZwLTMnIH1dLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFxuICAgICAgICByc3ZwSWRzLFxuICAgICAgICAnYXR0ZW5kaW5nJyxcbiAgICAgICAgJ0J1bGsgYXBwcm92ZWQnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnVwZGF0ZWRDb3VudCkudG9CZSgzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHVwZGF0ZSB3YXMgY2FsbGVkIHdpdGggY29ycmVjdCBkYXRhXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgIG5vdGVzOiAnQnVsayBhcHByb3ZlZCcsXG4gICAgICAgICAgcmVzcG9uZGVkX2F0OiBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgICAgdXBkYXRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGluIHdhcyBjYWxsZWQgd2l0aCBjb3JyZWN0IElEc1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5pbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2lkJywgcnN2cElkcyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBzdGF0dXMgYW5kIHNldCByZXNwb25kZWRfYXQgZm9yIG5vbi1wZW5kaW5nIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnVwZGF0ZS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5pbi5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBbeyBpZDogJ3JzdnAtMScgfV0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoWydyc3ZwLTEnXSwgJ2F0dGVuZGluZycpO1xuXG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnLFxuICAgICAgICAgIHJlc3BvbmRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBub3RlcyB3aGVuIHByb3ZpZGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UudXBkYXRlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLmluLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFt7IGlkOiAncnN2cC0xJyB9XSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhcbiAgICAgICAgWydyc3ZwLTEnXSxcbiAgICAgICAgJ2F0dGVuZGluZycsXG4gICAgICAgICdBZG1pbiBhcHByb3ZlZCdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG5vdGVzOiAnQWRtaW4gYXBwcm92ZWQnLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBhcnRpYWwgdXBkYXRlcyB3aGVuIHNvbWUgUlNWUHMgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UudXBkYXRlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLmluLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IFt7IGlkOiAncnN2cC0xJyB9LCB7IGlkOiAncnN2cC0yJyB9XSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhcbiAgICAgICAgWydyc3ZwLTEnLCAncnN2cC0yJywgJ3JzdnAtMyddLFxuICAgICAgICAnYXR0ZW5kaW5nJ1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS51cGRhdGVkQ291bnQpLnRvQmUoMik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gZW1wdHkgcnN2cElkcyBhcnJheScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoXG4gICAgICAgIFtdLFxuICAgICAgICAnYXR0ZW5kaW5nJ1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIHdoZW4gdG9vIG1hbnkgcnN2cElkcyAoPjEwMCknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0b29NYW55SWRzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAxIH0sIChfLCBpKSA9PiBgcnN2cC0ke2l9YCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoXG4gICAgICAgIHRvb01hbnlJZHMsXG4gICAgICAgICdhdHRlbmRpbmcnXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFZBTElEQVRJT05fRVJST1Igd2hlbiBpbnZhbGlkIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5idWxrVXBkYXRlUlNWUHMoXG4gICAgICAgIFsncnN2cC0xJ10sXG4gICAgICAgICdpbnZhbGlkLXN0YXR1cycgYXMgYW55XG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIERBVEFCQVNFX0VSUk9SIHdoZW4gZGF0YWJhc2UgdXBkYXRlIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UudXBkYXRlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLmluLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgbW9ja1N1cGFiYXNlLnNlbGVjdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFxuICAgICAgICBbJ3JzdnAtMSddLFxuICAgICAgICAnYXR0ZW5kaW5nJ1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLm1lc3NhZ2UpLnRvQmUoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBzZXQgcmVzcG9uZGVkX2F0IHdoZW4gc3RhdHVzIGlzIHBlbmRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgICAgIG1vY2tTdXBhYmFzZS51cGRhdGUubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2UuaW4ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICBtb2NrU3VwYWJhc2Uuc2VsZWN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW3sgaWQ6ICdyc3ZwLTEnIH1dLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuYnVsa1VwZGF0ZVJTVlBzKFsncnN2cC0xJ10sICdwZW5kaW5nJyk7XG5cbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UudXBkYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHJlc3BvbmRlZF9hdCBpcyBOT1QgaW4gdGhlIHVwZGF0ZSBkYXRhXG4gICAgICBjb25zdCB1cGRhdGVDYWxsID0gbW9ja1N1cGFiYXNlLnVwZGF0ZS5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgZXhwZWN0KHVwZGF0ZUNhbGwucmVzcG9uZGVkX2F0KS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhbGwgdmFsaWQgc3RhdHVzIHZhbHVlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1c2VzOiBBcnJheTwncGVuZGluZycgfCAnYXR0ZW5kaW5nJyB8ICdkZWNsaW5lZCcgfCAnbWF5YmUnPiA9IFtcbiAgICAgICAgJ3BlbmRpbmcnLFxuICAgICAgICAnYXR0ZW5kaW5nJyxcbiAgICAgICAgJ2RlY2xpbmVkJyxcbiAgICAgICAgJ21heWJlJyxcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3Qgc3RhdHVzIG9mIHN0YXR1c2VzKSB7XG4gICAgICAgIC8vIFJlc2V0IG1vY2tzIGZvciBlYWNoIGl0ZXJhdGlvblxuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAgICAgcmVzZXRNb2NrU3VwYWJhc2VDbGllbnQobW9ja1N1cGFiYXNlKTtcbiAgICAgICAgXG4gICAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgICBtb2NrU3VwYWJhc2UudXBkYXRlLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICAgICAgICBtb2NrU3VwYWJhc2UuaW4ubW9ja1JldHVyblZhbHVlKG1vY2tTdXBhYmFzZSk7XG4gICAgICAgIG1vY2tTdXBhYmFzZS5zZWxlY3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFt7IGlkOiAncnN2cC0xJyB9XSxcbiAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmJ1bGtVcGRhdGVSU1ZQcyhbJ3JzdnAtMSddLCBzdGF0dXMpO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLnVwZGF0ZWRDb3VudCkudG9CZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBleHBlY3QobW9ja1N1cGFiYXNlLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdleHBvcnRSU1ZQc1RvQ1NWJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN1Y2Nlc3Mgd2l0aCBDU1Ygc3RyaW5nIHdoZW4gdmFsaWQgZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSU1ZQcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAncnN2cC0xJyxcbiAgICAgICAgICBndWVzdEZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgIGd1ZXN0TGFzdE5hbWU6ICdEb2UnLFxuICAgICAgICAgIGd1ZXN0RW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBldmVudE5hbWU6ICdXZWRkaW5nIENlcmVtb255JyxcbiAgICAgICAgICBhY3Rpdml0eU5hbWU6IG51bGwsXG4gICAgICAgICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICBndWVzdENvdW50OiAyLFxuICAgICAgICAgIGRpZXRhcnlOb3RlczogJ1ZlZ2V0YXJpYW4nLFxuICAgICAgICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgICAgcmVzcG9uZGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICAvLyBNb2NrIGxpc3RSU1ZQcyB0byByZXR1cm4gdGVzdCBkYXRhXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2xpc3RSU1ZQcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRhdGE6IG1vY2tSU1ZQcyxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDEsIHRvdGFsUGFnZXM6IDEgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9Db250YWluKCdSU1ZQIElELEd1ZXN0IEZpcnN0IE5hbWUsR3Vlc3QgTGFzdCBOYW1lJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9Db250YWluKCdyc3ZwLTEsSm9obixEb2UnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ1dlZGRpbmcgQ2VyZW1vbnknKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ2F0dGVuZGluZycpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignVmVnZXRhcmlhbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgbGlzdFJTVlBzIHdhcyBjYWxsZWQgd2l0aCBjb3JyZWN0IHBhcmFtZXRlcnNcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7fSwgeyBwYWdlOiAxLCBsaW1pdDogMTAwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVzY2FwZSBDU1YgdmFsdWVzIHdpdGggY29tbWFzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZSwgSnIuJyxcbiAgICAgICAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZXZlbnROYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgZ3Vlc3RDb3VudDogMSxcbiAgICAgICAgICBkaWV0YXJ5Tm90ZXM6ICdObyBudXRzLCBubyBkYWlyeScsXG4gICAgICAgICAgc3BlY2lhbFJlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICByZXNwb25kZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTEwVDEwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgIGd1ZXN0SWQ6ICdndWVzdC0xJyxcbiAgICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICAgICAgYWN0aXZpdHlJZDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogbW9ja1JTVlBzLFxuICAgICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDEwMDAwLCB0b3RhbDogMSwgdG90YWxQYWdlczogMSB9LFxuICAgICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICAgIHRvdGFsUlNWUHM6IDEsXG4gICAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDEsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgICAgdG90YWxHdWVzdENvdW50OiAxLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1Yoe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0NvbnRhaW4oJ1wiRG9lLCBKci5cIicpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignXCJObyBudXRzLCBubyBkYWlyeVwiJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVzY2FwZSBDU1YgdmFsdWVzIHdpdGggcXVvdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgZ3Vlc3RFbWFpbDogJ2pvaG5AZXhhbXBsZS5jb20nLFxuICAgICAgICAgIGV2ZW50TmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgICAgICAgIGFjdGl2aXR5TmFtZTogbnVsbCxcbiAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGd1ZXN0Q291bnQ6IDEsXG4gICAgICAgICAgZGlldGFyeU5vdGVzOiBudWxsLFxuICAgICAgICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgICAgICAgbm90ZXM6ICdHdWVzdCBzYWlkIFwiZXhjaXRlZCB0byBhdHRlbmRcIicsXG4gICAgICAgICAgcmVzcG9uZGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2xpc3RSU1ZQcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRhdGE6IG1vY2tSU1ZQcyxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDEsIHRvdGFsUGFnZXM6IDEgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9Db250YWluKCdcIlwiZXhjaXRlZCB0byBhdHRlbmRcIlwiJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdsaXN0UlNWUHMnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDAsIHRvdGFsUGFnZXM6IDAgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAwLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFNob3VsZCBvbmx5IGhhdmUgaGVhZGVyIHJvd1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJlc3VsdC5kYXRhLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzWzBdKS50b0NvbnRhaW4oJ1JTVlAgSUQsR3Vlc3QgRmlyc3QgTmFtZScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiB3aGVuIGludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVih7XG4gICAgICAgIGV2ZW50SWQ6ICdpbnZhbGlkLXV1aWQnLFxuICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvcGFnYXRlIGVycm9ycyBmcm9tIGxpc3RSU1ZQcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcnN2cE1hbmFnZW1lbnRTZXJ2aWNlLmV4cG9ydFJTVlBzVG9DU1Yoe30pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ0RBVEFCQVNFX0VSUk9SJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IubWVzc2FnZSkudG9CZSgnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYXBwbHkgZmlsdGVycyB3aGVuIGV4cG9ydGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGplc3Quc3B5T24ocnN2cE1hbmFnZW1lbnRTZXJ2aWNlLCAnbGlzdFJTVlBzJykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogMTAwMDAsIHRvdGFsOiAwLCB0b3RhbFBhZ2VzOiAwIH0sXG4gICAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMCwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAwIH0sXG4gICAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBmaWx0ZXJzOiBSU1ZQRmlsdGVycyA9IHsgZXZlbnRJZDogJ2V2ZW50LTEnLCBzdGF0dXM6ICdhdHRlbmRpbmcnIH07XG4gICAgICBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVihmaWx0ZXJzKTtcblxuICAgICAgLy8gVmVyaWZ5IGxpc3RSU1ZQcyB3YXMgY2FsbGVkIHdpdGggdGhlIGZpbHRlcnNcbiAgICAgIGV4cGVjdChyc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChmaWx0ZXJzLCB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5ld2xpbmVzIGluIENTViB2YWx1ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUlNWUHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgICAgZ3Vlc3RGaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICBndWVzdExhc3ROYW1lOiAnRG9lJyxcbiAgICAgICAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgZXZlbnROYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgZ3Vlc3RDb3VudDogMSxcbiAgICAgICAgICBkaWV0YXJ5Tm90ZXM6IG51bGwsXG4gICAgICAgICAgc3BlY2lhbFJlcXVpcmVtZW50czogbnVsbCxcbiAgICAgICAgICBub3RlczogJ0xpbmUgMVxcbkxpbmUgMicsXG4gICAgICAgICAgcmVzcG9uZGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZXZlbnRJZDogJ2V2ZW50LTEnLFxuICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBqZXN0LnNweU9uKHJzdnBNYW5hZ2VtZW50U2VydmljZSwgJ2xpc3RSU1ZQcycpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGRhdGE6IG1vY2tSU1ZQcyxcbiAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiAxMDAwMCwgdG90YWw6IDEsIHRvdGFsUGFnZXM6IDEgfSxcbiAgICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICB0b3RhbFJTVlBzOiAxLFxuICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAxLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJzdnBNYW5hZ2VtZW50U2VydmljZS5leHBvcnRSU1ZQc1RvQ1NWKHt9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIE5ld2xpbmVzIHNob3VsZCBiZSB3cmFwcGVkIGluIHF1b3Rlc1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvQ29udGFpbignXCJMaW5lIDFcXG5MaW5lIDJcIicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCB2YWx1ZXMgaW4gQ1NWJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JTVlBzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdyc3ZwLTEnLFxuICAgICAgICAgIGd1ZXN0Rmlyc3ROYW1lOiAnSm9obicsXG4gICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgZ3Vlc3RFbWFpbDogbnVsbCxcbiAgICAgICAgICBldmVudE5hbWU6IG51bGwsXG4gICAgICAgICAgYWN0aXZpdHlOYW1lOiBudWxsLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgIGd1ZXN0Q291bnQ6IG51bGwsXG4gICAgICAgICAgZGlldGFyeU5vdGVzOiBudWxsLFxuICAgICAgICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgICAgcmVzcG9uZGVkQXQ6IG51bGwsXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgZXZlbnRJZDogbnVsbCxcbiAgICAgICAgICBhY3Rpdml0eUlkOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgamVzdC5zcHlPbihyc3ZwTWFuYWdlbWVudFNlcnZpY2UsICdsaXN0UlNWUHMnKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkYXRhOiBtb2NrUlNWUHMsXG4gICAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogMTAwMDAsIHRvdGFsOiAxLCB0b3RhbFBhZ2VzOiAxIH0sXG4gICAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgICAgdG90YWxSU1ZQczogMSxcbiAgICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMCwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAxIH0sXG4gICAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByc3ZwTWFuYWdlbWVudFNlcnZpY2UuZXhwb3J0UlNWUHNUb0NTVih7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAvLyBOdWxsIHZhbHVlcyBzaG91bGQgYmUgZW1wdHkgc3RyaW5nc1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJlc3VsdC5kYXRhLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZXhwZWN0KGxpbmVzWzFdKS50b0NvbnRhaW4oJ3JzdnAtMSxKb2huLERvZSwsLCcpO1xuICAgICAgICAvLyBHdWVzdCBjb3VudCBzaG91bGQgZGVmYXVsdCB0byAxXG4gICAgICAgIGV4cGVjdChsaW5lc1sxXSkudG9Db250YWluKCcsMSwnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsImNyZWF0ZUNsaWVudCIsImZuIiwiZGVzY3JpYmUiLCJtb2NrU3VwYWJhc2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInJlc3RvcmVBbGxNb2NrcyIsImNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCIsInJlc2V0TW9ja1N1cGFiYXNlQ2xpZW50IiwicmVxdWlyZSIsIm1vY2tSZXR1cm5WYWx1ZSIsImFmdGVyRWFjaCIsIm1vY2tSU1ZQRGF0YSIsImlkIiwiZ3Vlc3RfaWQiLCJldmVudF9pZCIsImFjdGl2aXR5X2lkIiwic3RhdHVzIiwiZ3Vlc3RfY291bnQiLCJkaWV0YXJ5X25vdGVzIiwic3BlY2lhbF9yZXF1aXJlbWVudHMiLCJub3RlcyIsInJlc3BvbmRlZF9hdCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiZ3Vlc3RzIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImVtYWlsIiwiZXZlbnRzIiwibmFtZSIsImFjdGl2aXRpZXMiLCJpdCIsImZyb20iLCJzZWxlY3QiLCJlcSIsInJhbmdlIiwib3JkZXIiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJlcnJvciIsImNvdW50Iiwic3B5T24iLCJyc3ZwTWFuYWdlbWVudFNlcnZpY2UiLCJzdWNjZXNzIiwidG90YWxSU1ZQcyIsImJ5U3RhdHVzIiwiYXR0ZW5kaW5nIiwiZGVjbGluZWQiLCJtYXliZSIsInBlbmRpbmciLCJ0b3RhbEd1ZXN0Q291bnQiLCJmaWx0ZXJzIiwiZXZlbnRJZCIsInBhZ2luYXRpb24iLCJwYWdlIiwibGltaXQiLCJyZXN1bHQiLCJsaXN0UlNWUHMiLCJleHBlY3QiLCJ0b0JlIiwidG9IYXZlTGVuZ3RoIiwiZ3Vlc3RGaXJzdE5hbWUiLCJldmVudE5hbWUiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImFjdGl2aXR5SWQiLCJndWVzdElkIiwiY29kZSIsIm1lc3NhZ2UiLCJvciIsInNlYXJjaFF1ZXJ5IiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tTdGF0aXN0aWNzRGF0YSIsImdldFJTVlBTdGF0aXN0aWNzIiwicnN2cElkcyIsInVwZGF0ZSIsImluIiwiYnVsa1VwZGF0ZVJTVlBzIiwidXBkYXRlZENvdW50Iiwib2JqZWN0Q29udGFpbmluZyIsImFueSIsIlN0cmluZyIsInRvb01hbnlJZHMiLCJBcnJheSIsImxlbmd0aCIsIl8iLCJpIiwidXBkYXRlQ2FsbCIsImNhbGxzIiwidG9CZVVuZGVmaW5lZCIsInN0YXR1c2VzIiwibW9ja1JTVlBzIiwiZ3Vlc3RMYXN0TmFtZSIsImd1ZXN0RW1haWwiLCJhY3Rpdml0eU5hbWUiLCJndWVzdENvdW50IiwiZGlldGFyeU5vdGVzIiwic3BlY2lhbFJlcXVpcmVtZW50cyIsInJlc3BvbmRlZEF0IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwic3RhdGlzdGljcyIsImV4cG9ydFJTVlBzVG9DU1YiLCJ0b0NvbnRhaW4iLCJsaW5lcyIsInNwbGl0Il0sIm1hcHBpbmdzIjoiO0FBSUEsZ0JBQWdCO0FBQ2hCQSxLQUFLQyxJQUFJLENBQUMseUJBQXlCLElBQU8sQ0FBQTtRQUN4Q0MsY0FBY0YsS0FBS0csRUFBRTtJQUN2QixDQUFBOzs7OzhCQVBrRTsrRUFDM0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF2Q0MsU0FBUyx5QkFBeUI7SUFDaEMsSUFBSUM7SUFFSkMsV0FBVztRQUNUTixLQUFLTyxhQUFhO1FBQ2xCUCxLQUFLUSxlQUFlO1FBQ3BCSCxlQUFlSSxJQUFBQSxzQ0FBd0I7UUFDdkNDLElBQUFBLHFDQUF1QixFQUFDTDtRQUN4QixNQUFNLEVBQUVILFlBQVksRUFBRSxHQUFHUyxRQUFRO1FBQ2pDVCxhQUFhVSxlQUFlLENBQUNQO0lBQy9CO0lBRUFRLFVBQVU7UUFDUmIsS0FBS1EsZUFBZTtJQUN0QjtJQUVBSixTQUFTLGFBQWE7UUFDcEIsTUFBTVUsZUFBZTtZQUNuQjtnQkFDRUMsSUFBSTtnQkFDSkMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsYUFBYTtnQkFDYkMsUUFBUTtnQkFDUkMsYUFBYTtnQkFDYkMsZUFBZTtnQkFDZkMsc0JBQXNCO2dCQUN0QkMsT0FBTztnQkFDUEMsY0FBYztnQkFDZEMsWUFBWTtnQkFDWkMsWUFBWTtnQkFDWkMsUUFBUTtvQkFDTkMsWUFBWTtvQkFDWkMsV0FBVztvQkFDWEMsT0FBTztnQkFDVDtnQkFDQUMsUUFBUTtvQkFDTkMsTUFBTTtnQkFDUjtnQkFDQUMsWUFBWTtZQUNkO1lBQ0E7Z0JBQ0VsQixJQUFJO2dCQUNKQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxhQUFhO2dCQUNiQyxRQUFRO2dCQUNSQyxh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