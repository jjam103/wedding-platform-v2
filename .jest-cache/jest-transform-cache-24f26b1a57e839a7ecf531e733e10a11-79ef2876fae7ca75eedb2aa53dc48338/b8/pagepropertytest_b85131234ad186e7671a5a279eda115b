e8cc2bda22c9836e7fe8574e012f3960
/**
 * Property Tests for Settings Page
 * 
 * Feature: admin-ui-modernization, Property 38: Settings validation and persistence
 * Validates: Requirements 20.5
 */ "use strict";
// Mock Next.js router
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: jest.fn(),
                replace: jest.fn(),
                prefetch: jest.fn(),
                refresh: jest.fn()
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
require("@testing-library/jest-dom");
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
const _SettingsForm = /*#__PURE__*/ _interop_require_default(require("../../../components/admin/SettingsForm"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Mock fetch
global.fetch = jest.fn();
// Arbitraries for property-based testing
const validDateArbitrary = _fastcheck.date({
    min: new Date('2024-01-01'),
    max: new Date('2030-12-31')
});
const validSettingsArbitrary = _fastcheck.record({
    wedding_date: _fastcheck.option(validDateArbitrary, {
        nil: null
    }),
    venue_name: _fastcheck.option(_fastcheck.string({
        minLength: 1,
        maxLength: 200
    }), {
        nil: null
    }),
    couple_name_1: _fastcheck.option(_fastcheck.string({
        minLength: 1,
        maxLength: 100
    }), {
        nil: null
    }),
    couple_name_2: _fastcheck.option(_fastcheck.string({
        minLength: 1,
        maxLength: 100
    }), {
        nil: null
    }),
    timezone: _fastcheck.constantFrom('America/Costa_Rica', 'America/New_York', 'America/Chicago', 'America/Denver', 'America/Los_Angeles', 'Europe/London', 'Europe/Paris', 'Asia/Tokyo'),
    send_rsvp_confirmations: _fastcheck.boolean(),
    send_activity_reminders: _fastcheck.boolean(),
    send_deadline_reminders: _fastcheck.boolean(),
    reminder_days_before: _fastcheck.integer({
        min: 1,
        max: 30
    }),
    require_photo_moderation: _fastcheck.boolean(),
    max_photos_per_guest: _fastcheck.integer({
        min: 1,
        max: 100
    }),
    // Add missing home page fields to match SystemSettings type
    home_page_title: _fastcheck.option(_fastcheck.string({
        minLength: 1,
        maxLength: 200
    }), {
        nil: null
    }),
    home_page_subtitle: _fastcheck.option(_fastcheck.string({
        maxLength: 500
    }), {
        nil: null
    }),
    home_page_welcome_message: _fastcheck.option(_fastcheck.string(), {
        nil: null
    }),
    home_page_hero_image_url: _fastcheck.option(_fastcheck.webUrl(), {
        nil: null
    })
});
// Helper function to create complete SystemSettings object with unique data
function createSystemSettings(partial) {
    const uniqueId = `test-id-${Date.now()}-${Math.random().toString(36).substr(2, 5)}`;
    return {
        id: uniqueId,
        wedding_date: partial.wedding_date?.toISOString() || null,
        venue_name: partial.venue_name || null,
        couple_name_1: partial.couple_name_1 || null,
        couple_name_2: partial.couple_name_2 || null,
        timezone: partial.timezone,
        send_rsvp_confirmations: partial.send_rsvp_confirmations,
        send_activity_reminders: partial.send_activity_reminders,
        send_deadline_reminders: partial.send_deadline_reminders,
        reminder_days_before: partial.reminder_days_before,
        require_photo_moderation: partial.require_photo_moderation,
        max_photos_per_guest: partial.max_photos_per_guest,
        allowed_photo_formats: [
            'jpg',
            'jpeg',
            'png',
            'heic'
        ],
        home_page_title: partial.home_page_title || null,
        home_page_subtitle: partial.home_page_subtitle || null,
        home_page_welcome_message: partial.home_page_welcome_message || null,
        home_page_hero_image_url: partial.home_page_hero_image_url || null,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
    };
}
describe('Feature: admin-ui-modernization, Property 38: Settings validation and persistence', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Clear any existing DOM
        document.body.innerHTML = '';
    });
    afterEach(()=>{
        (0, _react.cleanup)();
        jest.clearAllMocks();
    });
    it('should persist valid settings and display success toast', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(validSettingsArbitrary, async (settings)=>{
            // Clear DOM and mocks for each property test run
            (0, _react.cleanup)();
            jest.clearAllMocks();
            // Mock successful API response
            global.fetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: createSystemSettings(settings)
                    })
            });
            // Create complete SystemSettings object
            const initialSettings = createSystemSettings(settings);
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SettingsForm.default, {
                initialSettings: initialSettings
            }));
            // Submit the form using container to avoid multiple element issues
            const submitButton = container.querySelector('button[type="submit"]');
            expect(submitButton).toBeTruthy();
            _react.fireEvent.click(submitButton);
            // Wait for the API call and success toast with reduced timeout
            await (0, _react.waitFor)(()=>{
                expect(global.fetch).toHaveBeenCalledWith('/api/admin/settings', expect.objectContaining({
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            }, {
                timeout: 1000
            });
            // Verify success toast is displayed
            await (0, _react.waitFor)(()=>{
                const successMessage = container.querySelector('[class*="bg-jungle-50"]');
                expect(successMessage).toBeTruthy();
                expect(successMessage?.textContent).toMatch(/settings saved successfully/i);
            }, {
                timeout: 1000
            });
        }), {
            numRuns: 10
        } // Further reduced for better performance and reliability
        );
    }, 15000); // Increased test timeout
    it('should display error toast when settings validation fails', async ()=>{
        // Clear DOM and mocks
        (0, _react.cleanup)();
        jest.clearAllMocks();
        // Mock validation error response
        global.fetch.mockResolvedValueOnce({
            ok: false,
            status: 400,
            json: async ()=>({
                    success: false,
                    error: {
                        code: 'VALIDATION_ERROR',
                        message: 'Validation failed',
                        details: [
                            {
                                path: [
                                    'reminder_days_before'
                                ],
                                message: 'Must be between 1 and 30'
                            }
                        ]
                    }
                })
        });
        const initialSettings = createSystemSettings({
            wedding_date: null,
            venue_name: null,
            couple_name_1: null,
            couple_name_2: null,
            timezone: 'America/Costa_Rica',
            send_rsvp_confirmations: true,
            send_activity_reminders: true,
            send_deadline_reminders: true,
            reminder_days_before: 7,
            require_photo_moderation: true,
            max_photos_per_guest: 20,
            home_page_title: null,
            home_page_subtitle: null,
            home_page_welcome_message: null,
            home_page_hero_image_url: null
        });
        const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SettingsForm.default, {
            initialSettings: initialSettings
        }));
        // Submit the form using container
        const submitButton = container.querySelector('button[type="submit"]');
        expect(submitButton).toBeTruthy();
        _react.fireEvent.click(submitButton);
        // Wait for error toast with reduced timeout
        await (0, _react.waitFor)(()=>{
            const errorMessage = container.querySelector('[class*="bg-volcano-50"]');
            expect(errorMessage).toBeTruthy();
            expect(errorMessage?.textContent).toMatch(/failed to save settings|validation failed/i);
        }, {
            timeout: 1000
        });
    });
    it('should disable submit button and show loading state during submission', async ()=>{
        await _fastcheck.assert(_fastcheck.asyncProperty(validSettingsArbitrary, async (settings)=>{
            // Clear DOM and mocks for each property test run
            (0, _react.cleanup)();
            jest.clearAllMocks();
            // Mock delayed API response
            global.fetch.mockImplementationOnce(()=>new Promise((resolve)=>setTimeout(()=>resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: createSystemSettings(settings)
                                })
                        }), 50 // Reduced delay
                    )));
            const initialSettings = createSystemSettings(settings);
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SettingsForm.default, {
                initialSettings: initialSettings
            }));
            // Submit the form using container
            const submitButton = container.querySelector('button[type="submit"]');
            expect(submitButton).toBeTruthy();
            _react.fireEvent.click(submitButton);
            // Check that button is disabled and shows loading state
            await (0, _react.waitFor)(()=>{
                const loadingButton = container.querySelector('button[type="submit"]');
                expect(loadingButton).toBeDisabled();
                expect(loadingButton.textContent).toMatch(/saving/i);
            }, {
                timeout: 500
            });
        }), {
            numRuns: 5
        } // Further reduced for better performance
        );
    }, 10000); // Increased test timeout
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL3NldHRpbmdzL3BhZ2UucHJvcGVydHkudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcm9wZXJ0eSBUZXN0cyBmb3IgU2V0dGluZ3MgUGFnZVxuICogXG4gKiBGZWF0dXJlOiBhZG1pbi11aS1tb2Rlcm5pemF0aW9uLCBQcm9wZXJ0eSAzODogU2V0dGluZ3MgdmFsaWRhdGlvbiBhbmQgcGVyc2lzdGVuY2VcbiAqIFZhbGlkYXRlczogUmVxdWlyZW1lbnRzIDIwLjVcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBjbGVhbnVwIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0ICogYXMgZmMgZnJvbSAnZmFzdC1jaGVjayc7XG5pbXBvcnQgU2V0dGluZ3NGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9TZXR0aW5nc0Zvcm0nO1xuaW1wb3J0IHR5cGUgeyBTeXN0ZW1TZXR0aW5ncyB9IGZyb20gJ0Avc2NoZW1hcy9zZXR0aW5nc1NjaGVtYXMnO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gICAgcmVwbGFjZTogamVzdC5mbigpLFxuICAgIHByZWZldGNoOiBqZXN0LmZuKCksXG4gICAgcmVmcmVzaDogamVzdC5mbigpLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBmZXRjaFxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG4vLyBBcmJpdHJhcmllcyBmb3IgcHJvcGVydHktYmFzZWQgdGVzdGluZ1xuY29uc3QgdmFsaWREYXRlQXJiaXRyYXJ5ID0gZmMuZGF0ZSh7IG1pbjogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSwgbWF4OiBuZXcgRGF0ZSgnMjAzMC0xMi0zMScpIH0pO1xuXG5jb25zdCB2YWxpZFNldHRpbmdzQXJiaXRyYXJ5ID0gZmMucmVjb3JkKHtcbiAgd2VkZGluZ19kYXRlOiBmYy5vcHRpb24odmFsaWREYXRlQXJiaXRyYXJ5LCB7IG5pbDogbnVsbCB9KSxcbiAgdmVudWVfbmFtZTogZmMub3B0aW9uKGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAyMDAgfSksIHsgbmlsOiBudWxsIH0pLFxuICBjb3VwbGVfbmFtZV8xOiBmYy5vcHRpb24oZmMuc3RyaW5nKHsgbWluTGVuZ3RoOiAxLCBtYXhMZW5ndGg6IDEwMCB9KSwgeyBuaWw6IG51bGwgfSksXG4gIGNvdXBsZV9uYW1lXzI6IGZjLm9wdGlvbihmYy5zdHJpbmcoeyBtaW5MZW5ndGg6IDEsIG1heExlbmd0aDogMTAwIH0pLCB7IG5pbDogbnVsbCB9KSxcbiAgdGltZXpvbmU6IGZjLmNvbnN0YW50RnJvbShcbiAgICAnQW1lcmljYS9Db3N0YV9SaWNhJyxcbiAgICAnQW1lcmljYS9OZXdfWW9yaycsXG4gICAgJ0FtZXJpY2EvQ2hpY2FnbycsXG4gICAgJ0FtZXJpY2EvRGVudmVyJyxcbiAgICAnQW1lcmljYS9Mb3NfQW5nZWxlcycsXG4gICAgJ0V1cm9wZS9Mb25kb24nLFxuICAgICdFdXJvcGUvUGFyaXMnLFxuICAgICdBc2lhL1Rva3lvJ1xuICApLFxuICBzZW5kX3JzdnBfY29uZmlybWF0aW9uczogZmMuYm9vbGVhbigpLFxuICBzZW5kX2FjdGl2aXR5X3JlbWluZGVyczogZmMuYm9vbGVhbigpLFxuICBzZW5kX2RlYWRsaW5lX3JlbWluZGVyczogZmMuYm9vbGVhbigpLFxuICByZW1pbmRlcl9kYXlzX2JlZm9yZTogZmMuaW50ZWdlcih7IG1pbjogMSwgbWF4OiAzMCB9KSxcbiAgcmVxdWlyZV9waG90b19tb2RlcmF0aW9uOiBmYy5ib29sZWFuKCksXG4gIG1heF9waG90b3NfcGVyX2d1ZXN0OiBmYy5pbnRlZ2VyKHsgbWluOiAxLCBtYXg6IDEwMCB9KSxcbiAgLy8gQWRkIG1pc3NpbmcgaG9tZSBwYWdlIGZpZWxkcyB0byBtYXRjaCBTeXN0ZW1TZXR0aW5ncyB0eXBlXG4gIGhvbWVfcGFnZV90aXRsZTogZmMub3B0aW9uKGZjLnN0cmluZyh7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAyMDAgfSksIHsgbmlsOiBudWxsIH0pLFxuICBob21lX3BhZ2Vfc3VidGl0bGU6IGZjLm9wdGlvbihmYy5zdHJpbmcoeyBtYXhMZW5ndGg6IDUwMCB9KSwgeyBuaWw6IG51bGwgfSksXG4gIGhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2U6IGZjLm9wdGlvbihmYy5zdHJpbmcoKSwgeyBuaWw6IG51bGwgfSksXG4gIGhvbWVfcGFnZV9oZXJvX2ltYWdlX3VybDogZmMub3B0aW9uKGZjLndlYlVybCgpLCB7IG5pbDogbnVsbCB9KSxcbn0pO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGNvbXBsZXRlIFN5c3RlbVNldHRpbmdzIG9iamVjdCB3aXRoIHVuaXF1ZSBkYXRhXG5mdW5jdGlvbiBjcmVhdGVTeXN0ZW1TZXR0aW5ncyhwYXJ0aWFsOiBhbnkpOiBTeXN0ZW1TZXR0aW5ncyB7XG4gIGNvbnN0IHVuaXF1ZUlkID0gYHRlc3QtaWQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA1KX1gO1xuICByZXR1cm4ge1xuICAgIGlkOiB1bmlxdWVJZCxcbiAgICB3ZWRkaW5nX2RhdGU6IHBhcnRpYWwud2VkZGluZ19kYXRlPy50b0lTT1N0cmluZygpIHx8IG51bGwsXG4gICAgdmVudWVfbmFtZTogcGFydGlhbC52ZW51ZV9uYW1lIHx8IG51bGwsXG4gICAgY291cGxlX25hbWVfMTogcGFydGlhbC5jb3VwbGVfbmFtZV8xIHx8IG51bGwsXG4gICAgY291cGxlX25hbWVfMjogcGFydGlhbC5jb3VwbGVfbmFtZV8yIHx8IG51bGwsXG4gICAgdGltZXpvbmU6IHBhcnRpYWwudGltZXpvbmUsXG4gICAgc2VuZF9yc3ZwX2NvbmZpcm1hdGlvbnM6IHBhcnRpYWwuc2VuZF9yc3ZwX2NvbmZpcm1hdGlvbnMsXG4gICAgc2VuZF9hY3Rpdml0eV9yZW1pbmRlcnM6IHBhcnRpYWwuc2VuZF9hY3Rpdml0eV9yZW1pbmRlcnMsXG4gICAgc2VuZF9kZWFkbGluZV9yZW1pbmRlcnM6IHBhcnRpYWwuc2VuZF9kZWFkbGluZV9yZW1pbmRlcnMsXG4gICAgcmVtaW5kZXJfZGF5c19iZWZvcmU6IHBhcnRpYWwucmVtaW5kZXJfZGF5c19iZWZvcmUsXG4gICAgcmVxdWlyZV9waG90b19tb2RlcmF0aW9uOiBwYXJ0aWFsLnJlcXVpcmVfcGhvdG9fbW9kZXJhdGlvbixcbiAgICBtYXhfcGhvdG9zX3Blcl9ndWVzdDogcGFydGlhbC5tYXhfcGhvdG9zX3Blcl9ndWVzdCxcbiAgICBhbGxvd2VkX3Bob3RvX2Zvcm1hdHM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2hlaWMnXSxcbiAgICBob21lX3BhZ2VfdGl0bGU6IHBhcnRpYWwuaG9tZV9wYWdlX3RpdGxlIHx8IG51bGwsXG4gICAgaG9tZV9wYWdlX3N1YnRpdGxlOiBwYXJ0aWFsLmhvbWVfcGFnZV9zdWJ0aXRsZSB8fCBudWxsLFxuICAgIGhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2U6IHBhcnRpYWwuaG9tZV9wYWdlX3dlbGNvbWVfbWVzc2FnZSB8fCBudWxsLFxuICAgIGhvbWVfcGFnZV9oZXJvX2ltYWdlX3VybDogcGFydGlhbC5ob21lX3BhZ2VfaGVyb19pbWFnZV91cmwgfHwgbnVsbCxcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB9O1xufVxuXG5cbmRlc2NyaWJlKCdGZWF0dXJlOiBhZG1pbi11aS1tb2Rlcm5pemF0aW9uLCBQcm9wZXJ0eSAzODogU2V0dGluZ3MgdmFsaWRhdGlvbiBhbmQgcGVyc2lzdGVuY2UnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBET01cbiAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBwZXJzaXN0IHZhbGlkIHNldHRpbmdzIGFuZCBkaXNwbGF5IHN1Y2Nlc3MgdG9hc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgZmMuYXNzZXJ0KFxuICAgICAgZmMuYXN5bmNQcm9wZXJ0eSh2YWxpZFNldHRpbmdzQXJiaXRyYXJ5LCBhc3luYyAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgLy8gQ2xlYXIgRE9NIGFuZCBtb2NrcyBmb3IgZWFjaCBwcm9wZXJ0eSB0ZXN0IHJ1blxuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgICAgICBcbiAgICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxuICAgICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IGNyZWF0ZVN5c3RlbVNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNvbXBsZXRlIFN5c3RlbVNldHRpbmdzIG9iamVjdFxuICAgICAgICBjb25zdCBpbml0aWFsU2V0dGluZ3MgPSBjcmVhdGVTeXN0ZW1TZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8U2V0dGluZ3NGb3JtIGluaXRpYWxTZXR0aW5ncz17aW5pdGlhbFNldHRpbmdzfSAvPik7XG5cbiAgICAgICAgLy8gU3VibWl0IHRoZSBmb3JtIHVzaW5nIGNvbnRhaW5lciB0byBhdm9pZCBtdWx0aXBsZSBlbGVtZW50IGlzc3Vlc1xuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbikudG9CZVRydXRoeSgpO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2soc3VibWl0QnV0dG9uKTtcblxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgQVBJIGNhbGwgYW5kIHN1Y2Nlc3MgdG9hc3Qgd2l0aCByZWR1Y2VkIHRpbWVvdXRcbiAgICAgICAgYXdhaXQgd2FpdEZvcihcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAgICAgJy9hcGkvYWRtaW4vc2V0dGluZ3MnLFxuICAgICAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IHRpbWVvdXQ6IDEwMDAgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFZlcmlmeSBzdWNjZXNzIHRvYXN0IGlzIGRpc3BsYXllZFxuICAgICAgICBhd2FpdCB3YWl0Rm9yKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tjbGFzcyo9XCJiZy1qdW5nbGUtNTBcIl0nKTtcbiAgICAgICAgICAgIGV4cGVjdChzdWNjZXNzTWVzc2FnZSkudG9CZVRydXRoeSgpO1xuICAgICAgICAgICAgZXhwZWN0KHN1Y2Nlc3NNZXNzYWdlPy50ZXh0Q29udGVudCkudG9NYXRjaCgvc2V0dGluZ3Mgc2F2ZWQgc3VjY2Vzc2Z1bGx5L2kpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyB0aW1lb3V0OiAxMDAwIH1cbiAgICAgICAgKTtcbiAgICAgIH0pLFxuICAgICAgeyBudW1SdW5zOiAxMCB9IC8vIEZ1cnRoZXIgcmVkdWNlZCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlIGFuZCByZWxpYWJpbGl0eVxuICAgICk7XG4gIH0sIDE1MDAwKTsgLy8gSW5jcmVhc2VkIHRlc3QgdGltZW91dFxuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciB0b2FzdCB3aGVuIHNldHRpbmdzIHZhbGlkYXRpb24gZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2xlYXIgRE9NIGFuZCBtb2Nrc1xuICAgIGNsZWFudXAoKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBNb2NrIHZhbGlkYXRpb24gZXJyb3IgcmVzcG9uc2VcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIG9rOiBmYWxzZSxcbiAgICAgIHN0YXR1czogNDAwLFxuICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgZGV0YWlsczogW3sgcGF0aDogWydyZW1pbmRlcl9kYXlzX2JlZm9yZSddLCBtZXNzYWdlOiAnTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDMwJyB9XSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgaW5pdGlhbFNldHRpbmdzID0gY3JlYXRlU3lzdGVtU2V0dGluZ3Moe1xuICAgICAgd2VkZGluZ19kYXRlOiBudWxsLFxuICAgICAgdmVudWVfbmFtZTogbnVsbCxcbiAgICAgIGNvdXBsZV9uYW1lXzE6IG51bGwsXG4gICAgICBjb3VwbGVfbmFtZV8yOiBudWxsLFxuICAgICAgdGltZXpvbmU6ICdBbWVyaWNhL0Nvc3RhX1JpY2EnLFxuICAgICAgc2VuZF9yc3ZwX2NvbmZpcm1hdGlvbnM6IHRydWUsXG4gICAgICBzZW5kX2FjdGl2aXR5X3JlbWluZGVyczogdHJ1ZSxcbiAgICAgIHNlbmRfZGVhZGxpbmVfcmVtaW5kZXJzOiB0cnVlLFxuICAgICAgcmVtaW5kZXJfZGF5c19iZWZvcmU6IDcsXG4gICAgICByZXF1aXJlX3Bob3RvX21vZGVyYXRpb246IHRydWUsXG4gICAgICBtYXhfcGhvdG9zX3Blcl9ndWVzdDogMjAsXG4gICAgICBob21lX3BhZ2VfdGl0bGU6IG51bGwsXG4gICAgICBob21lX3BhZ2Vfc3VidGl0bGU6IG51bGwsXG4gICAgICBob21lX3BhZ2Vfd2VsY29tZV9tZXNzYWdlOiBudWxsLFxuICAgICAgaG9tZV9wYWdlX2hlcm9faW1hZ2VfdXJsOiBudWxsLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8U2V0dGluZ3NGb3JtIGluaXRpYWxTZXR0aW5ncz17aW5pdGlhbFNldHRpbmdzfSAvPik7XG5cbiAgICAvLyBTdWJtaXQgdGhlIGZvcm0gdXNpbmcgY29udGFpbmVyXG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgZXhwZWN0KHN1Ym1pdEJ1dHRvbikudG9CZVRydXRoeSgpO1xuICAgIGZpcmVFdmVudC5jbGljayhzdWJtaXRCdXR0b24pO1xuXG4gICAgLy8gV2FpdCBmb3IgZXJyb3IgdG9hc3Qgd2l0aCByZWR1Y2VkIHRpbWVvdXRcbiAgICBhd2FpdCB3YWl0Rm9yKFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignW2NsYXNzKj1cImJnLXZvbGNhbm8tNTBcIl0nKTtcbiAgICAgICAgZXhwZWN0KGVycm9yTWVzc2FnZSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QoZXJyb3JNZXNzYWdlPy50ZXh0Q29udGVudCkudG9NYXRjaCgvZmFpbGVkIHRvIHNhdmUgc2V0dGluZ3N8dmFsaWRhdGlvbiBmYWlsZWQvaSk7XG4gICAgICB9LFxuICAgICAgeyB0aW1lb3V0OiAxMDAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc2FibGUgc3VibWl0IGJ1dHRvbiBhbmQgc2hvdyBsb2FkaW5nIHN0YXRlIGR1cmluZyBzdWJtaXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGZjLmFzc2VydChcbiAgICAgIGZjLmFzeW5jUHJvcGVydHkodmFsaWRTZXR0aW5nc0FyYml0cmFyeSwgYXN5bmMgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgIC8vIENsZWFyIERPTSBhbmQgbW9ja3MgZm9yIGVhY2ggcHJvcGVydHkgdGVzdCBydW5cbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1vY2sgZGVsYXllZCBBUEkgcmVzcG9uc2VcbiAgICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjcmVhdGVTeXN0ZW1TZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgNTAgLy8gUmVkdWNlZCBkZWxheVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgaW5pdGlhbFNldHRpbmdzID0gY3JlYXRlU3lzdGVtU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPFNldHRpbmdzRm9ybSBpbml0aWFsU2V0dGluZ3M9e2luaXRpYWxTZXR0aW5nc30gLz4pO1xuXG4gICAgICAgIC8vIFN1Ym1pdCB0aGUgZm9ybSB1c2luZyBjb250YWluZXJcbiAgICAgICAgY29uc3Qgc3VibWl0QnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIGV4cGVjdChzdWJtaXRCdXR0b24pLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBidXR0b24gaXMgZGlzYWJsZWQgYW5kIHNob3dzIGxvYWRpbmcgc3RhdGVcbiAgICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgbG9hZGluZ0J1dHRvbiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICAgIGV4cGVjdChsb2FkaW5nQnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICAgICAgICBleHBlY3QobG9hZGluZ0J1dHRvbi50ZXh0Q29udGVudCkudG9NYXRjaCgvc2F2aW5nL2kpO1xuICAgICAgICB9LCB7IHRpbWVvdXQ6IDUwMCB9KTtcbiAgICAgIH0pLFxuICAgICAgeyBudW1SdW5zOiA1IH0gLy8gRnVydGhlciByZWR1Y2VkIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICApO1xuICB9LCAxMDAwMCk7IC8vIEluY3JlYXNlZCB0ZXN0IHRpbWVvdXRcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwicHVzaCIsImZuIiwicmVwbGFjZSIsInByZWZldGNoIiwicmVmcmVzaCIsImdsb2JhbCIsImZldGNoIiwidmFsaWREYXRlQXJiaXRyYXJ5IiwiZmMiLCJkYXRlIiwibWluIiwiRGF0ZSIsIm1heCIsInZhbGlkU2V0dGluZ3NBcmJpdHJhcnkiLCJyZWNvcmQiLCJ3ZWRkaW5nX2RhdGUiLCJvcHRpb24iLCJuaWwiLCJ2ZW51ZV9uYW1lIiwic3RyaW5nIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwiY291cGxlX25hbWVfMSIsImNvdXBsZV9uYW1lXzIiLCJ0aW1lem9uZSIsImNvbnN0YW50RnJvbSIsInNlbmRfcnN2cF9jb25maXJtYXRpb25zIiwiYm9vbGVhbiIsInNlbmRfYWN0aXZpdHlfcmVtaW5kZXJzIiwic2VuZF9kZWFkbGluZV9yZW1pbmRlcnMiLCJyZW1pbmRlcl9kYXlzX2JlZm9yZSIsImludGVnZXIiLCJyZXF1aXJlX3Bob3RvX21vZGVyYXRpb24iLCJtYXhfcGhvdG9zX3Blcl9ndWVzdCIsImhvbWVfcGFnZV90aXRsZSIsImhvbWVfcGFnZV9zdWJ0aXRsZSIsImhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2UiLCJob21lX3BhZ2VfaGVyb19pbWFnZV91cmwiLCJ3ZWJVcmwiLCJjcmVhdGVTeXN0ZW1TZXR0aW5ncyIsInBhcnRpYWwiLCJ1bmlxdWVJZCIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImlkIiwidG9JU09TdHJpbmciLCJhbGxvd2VkX3Bob3RvX2Zvcm1hdHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJkb2N1bWVudCIsImJvZHkiLCJpbm5lckhUTUwiLCJhZnRlckVhY2giLCJjbGVhbnVwIiwiaXQiLCJhc3NlcnQiLCJhc3luY1Byb3BlcnR5Iiwic2V0dGluZ3MiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJvayIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImluaXRpYWxTZXR0aW5ncyIsImNvbnRhaW5lciIsInJlbmRlciIsIlNldHRpbmdzRm9ybSIsInN1Ym1pdEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ3YWl0Rm9yIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwiaGVhZGVycyIsInRpbWVvdXQiLCJzdWNjZXNzTWVzc2FnZSIsInRleHRDb250ZW50IiwidG9NYXRjaCIsIm51bVJ1bnMiLCJzdGF0dXMiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwiZGV0YWlscyIsInBhdGgiLCJlcnJvck1lc3NhZ2UiLCJtb2NrSW1wbGVtZW50YXRpb25PbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibG9hZGluZ0J1dHRvbiIsInRvQmVEaXNhYmxlZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7QUFRRCxzQkFBc0I7QUFDdEJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxXQUFXLElBQU8sQ0FBQTtnQkFDaEJDLE1BQU1I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