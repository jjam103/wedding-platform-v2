{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/Button.test.tsx"],"sourcesContent":["import { render, screen, fireEvent } from '@testing-library/react';\nimport { Button } from './Button';\n\ndescribe('Button', () => {\n  // Test rendering with various props\n  describe('rendering', () => {\n    it('should render with default props', () => {\n      render(<Button>Click me</Button>);\n      \n      const button = screen.getByRole('button', { name: 'Click me' });\n      expect(button).toBeInTheDocument();\n      expect(button).toHaveAttribute('type', 'button');\n      expect(button).not.toBeDisabled();\n    });\n\n    it('should render with custom type', () => {\n      render(<Button type=\"submit\">Submit</Button>);\n      \n      const button = screen.getByRole('button', { name: 'Submit' });\n      expect(button).toHaveAttribute('type', 'submit');\n    });\n\n    it('should render with different variants', () => {\n      const { rerender } = render(<Button variant=\"primary\">Primary</Button>);\n      expect(screen.getByRole('button')).toHaveClass('bg-jungle-500');\n\n      rerender(<Button variant=\"secondary\">Secondary</Button>);\n      expect(screen.getByRole('button')).toHaveClass('bg-sage-200');\n\n      rerender(<Button variant=\"danger\">Danger</Button>);\n      expect(screen.getByRole('button')).toHaveClass('bg-volcano-500');\n\n      rerender(<Button variant=\"ghost\">Ghost</Button>);\n      expect(screen.getByRole('button')).toHaveClass('bg-transparent');\n    });\n\n    it('should render with different sizes', () => {\n      const { rerender } = render(<Button size=\"sm\">Small</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-3', 'py-1.5', 'text-sm');\n\n      rerender(<Button size=\"md\">Medium</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-4', 'py-2', 'text-base');\n\n      rerender(<Button size=\"lg\">Large</Button>);\n      expect(screen.getByRole('button')).toHaveClass('px-6', 'py-3', 'text-lg');\n    });\n\n    it('should render full width when specified', () => {\n      render(<Button fullWidth>Full Width</Button>);\n      \n      expect(screen.getByRole('button')).toHaveClass('w-full');\n    });\n\n    it('should render with custom className', () => {\n      render(<Button className=\"custom-class\">Custom</Button>);\n      \n      expect(screen.getByRole('button')).toHaveClass('custom-class');\n    });\n\n    it('should render loading state', () => {\n      render(<Button loading>Loading</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toBeDisabled();\n      \n      // Check for loading spinner\n      const spinner = screen.getByRole('status', { name: 'Loading' });\n      expect(spinner).toBeInTheDocument();\n      expect(spinner).toHaveClass('animate-spin');\n    });\n\n    it('should render disabled state', () => {\n      render(<Button disabled>Disabled</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toBeDisabled();\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n      expect(button).toHaveClass('opacity-50', 'cursor-not-allowed');\n    });\n  });\n\n  // Test event handlers\n  describe('event handlers', () => {\n    it('should call onClick when clicked', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick}>Click me</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).toHaveBeenCalledTimes(1);\n    });\n\n    it('should not call onClick when disabled', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick} disabled>Disabled</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).not.toHaveBeenCalled();\n    });\n\n    it('should not call onClick when loading', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick} loading>Loading</Button>);\n      \n      fireEvent.click(screen.getByRole('button'));\n      expect(handleClick).not.toHaveBeenCalled();\n    });\n\n    it('should handle keyboard events', () => {\n      const handleClick = jest.fn();\n      render(<Button onClick={handleClick}>Click me</Button>);\n      \n      const button = screen.getByRole('button');\n      fireEvent.keyDown(button, { key: 'Enter' });\n      fireEvent.keyUp(button, { key: 'Enter' });\n      \n      // Button should still be clickable via keyboard\n      expect(button).toHaveAttribute('type', 'button');\n    });\n  });\n\n  // Test conditional rendering\n  describe('conditional rendering', () => {\n    it('should show loading spinner only when loading', () => {\n      const { rerender } = render(<Button>Not Loading</Button>);\n      expect(screen.queryByRole('status')).not.toBeInTheDocument();\n\n      rerender(<Button loading>Loading</Button>);\n      expect(screen.getByRole('status', { name: 'Loading' })).toBeInTheDocument();\n    });\n\n    it('should apply disabled styles when disabled or loading', () => {\n      const { rerender } = render(<Button disabled>Disabled</Button>);\n      expect(screen.getByRole('button')).toHaveClass('opacity-50');\n\n      rerender(<Button loading>Loading</Button>);\n      expect(screen.getByRole('button')).toHaveClass('opacity-50');\n\n      rerender(<Button>Normal</Button>);\n      expect(screen.getByRole('button')).not.toHaveClass('opacity-50');\n    });\n\n    it('should combine loading and disabled states correctly', () => {\n      render(<Button loading disabled>Both</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toBeDisabled();\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n  });\n\n  // Test accessibility\n  describe('accessibility', () => {\n    it('should have proper ARIA attributes', () => {\n      render(<Button>Accessible Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('type', 'button');\n      expect(button).not.toHaveAttribute('aria-busy');\n      expect(button).not.toHaveAttribute('aria-disabled');\n    });\n\n    it('should have proper ARIA attributes when loading', () => {\n      render(<Button loading>Loading Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-busy', 'true');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n\n    it('should have proper ARIA attributes when disabled', () => {\n      render(<Button disabled>Disabled Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveAttribute('aria-disabled', 'true');\n    });\n\n    it('should have minimum touch target size', () => {\n      render(<Button size=\"sm\">Small Button</Button>);\n      \n      const button = screen.getByRole('button');\n      expect(button).toHaveClass('min-h-[44px]');\n    });\n  });\n\n  // Test memoization\n  describe('memoization', () => {\n    it('should not re-render when props have not changed', () => {\n      const renderSpy = jest.fn();\n      \n      function TestButton(props: any) {\n        renderSpy();\n        return <Button {...props}>Test</Button>;\n      }\n\n      const { rerender } = render(<TestButton variant=\"primary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(1);\n\n      // Re-render with same props\n      rerender(<TestButton variant=\"primary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(1); // Should not re-render due to memo\n\n      // Re-render with different props\n      rerender(<TestButton variant=\"secondary\" />);\n      expect(renderSpy).toHaveBeenCalledTimes(2); // Should re-render\n    });\n  });\n});"],"names":["describe","it","render","Button","button","screen","getByRole","name","expect","toBeInTheDocument","toHaveAttribute","not","toBeDisabled","type","rerender","variant","toHaveClass","size","fullWidth","className","loading","spinner","disabled","handleClick","jest","fn","onClick","fireEvent","click","toHaveBeenCalledTimes","toHaveBeenCalled","keyDown","key","keyUp","queryByRole","renderSpy","TestButton","props"],"mappings":"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"}