055cb041ba9717665744a7f6cca96f4c
"use strict";
// Mock dependencies
jest.mock('next/navigation', ()=>({
        useRouter: jest.fn(),
        useSearchParams: jest.fn(()=>({
                get: jest.fn()
            }))
    }));
jest.mock('@/components/ui/ToastContext', ()=>({
        useToast: ()=>({
                addToast: jest.fn()
            }),
        ToastProvider: ({ children })=>children
    }));
// Mock SectionEditor
jest.mock('@/components/admin/SectionEditor', ()=>({
        SectionEditor: ({ pageType, pageId })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "section-editor",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            "Section Editor for ",
                            pageType,
                            ": ",
                            pageId
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        children: "Add Section"
                    })
                ]
            })
    }));
// Mock DataTable components
jest.mock('@/components/ui/DataTable', ()=>({
        DataTable: ({ data, columns, loading, rowClassName, onRowClick })=>{
            if (loading) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "Loading..."
            });
            if (data.length === 0) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "No items found"
            });
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "data-table",
                children: data.map((item, index)=>{
                    const className = rowClassName ? rowClassName(item) : '';
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": `activity-row-${item.id}`,
                        role: "row",
                        className: className,
                        onClick: ()=>onRowClick && onRowClick(item),
                        style: {
                            cursor: onRowClick ? 'pointer' : 'default'
                        },
                        children: columns.map((col)=>{
                            const value = item[col.key];
                            const displayValue = col.render ? col.render(value, item) : value;
                            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": `${col.key}-${item.id}`,
                                children: displayValue
                            }, col.key);
                        })
                    }, index);
                })
            });
        }
    }));
jest.mock('@/components/ui/DataTableWithSuspense', ()=>({
        DataTableWithSuspense: ({ data, columns, loading, rowClassName, onRowClick })=>{
            if (loading) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "Loading..."
            });
            if (data.length === 0) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "No items found"
            });
            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "data-table",
                children: data.map((item, index)=>{
                    const className = rowClassName ? rowClassName(item) : '';
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": `activity-row-${item.id}`,
                        role: "row",
                        className: className,
                        onClick: ()=>onRowClick && onRowClick(item),
                        style: {
                            cursor: onRowClick ? 'pointer' : 'default'
                        },
                        children: columns.map((col)=>{
                            const value = item[col.key];
                            const displayValue = col.render ? col.render(value, item) : value;
                            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                "data-testid": `${col.key}-${item.id}`,
                                children: displayValue
                            }, col.key);
                        })
                    }, index);
                })
            });
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
require("@testing-library/jest-dom");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = jest.fn();
describe('ActivitiesPage', ()=>{
    const mockRouter = {
        push: jest.fn()
    };
    const mockActivities = [
        {
            id: 'activity-1',
            name: 'Beach Day',
            activityType: 'activity',
            startTime: '2025-06-16T10:00:00Z',
            endTime: '2025-06-16T16:00:00Z',
            locationId: 'location-1',
            eventId: 'event-1',
            capacity: 50,
            status: 'published',
            description: 'Fun beach activities',
            costPerPerson: 25.00,
            hostSubsidy: 10.00,
            adultsOnly: false,
            plusOneAllowed: true,
            createdAt: '2025-01-01T00:00:00Z',
            updatedAt: '2025-01-01T00:00:00Z'
        },
        {
            id: 'activity-2',
            name: 'Zip Line Adventure',
            activityType: 'activity',
            startTime: '2025-06-17T09:00:00Z',
            endTime: '2025-06-17T12:00:00Z',
            locationId: 'location-2',
            eventId: null,
            capacity: 20,
            status: 'draft',
            description: 'Thrilling zip line tour',
            costPerPerson: 75.00,
            hostSubsidy: 0,
            adultsOnly: true,
            plusOneAllowed: false,
            createdAt: '2025-01-01T00:00:00Z',
            updatedAt: '2025-01-01T00:00:00Z'
        }
    ];
    const mockEvents = [
        {
            id: 'event-1',
            name: 'Wedding Weekend'
        },
        {
            id: 'event-2',
            name: 'Pre-Wedding Events'
        }
    ];
    const mockLocations = [
        {
            id: 'location-1',
            name: 'Beach Venue'
        },
        {
            id: 'location-2',
            name: 'Adventure Park'
        }
    ];
    beforeEach(()=>{
        jest.clearAllMocks();
        _navigation.useRouter.mockReturnValue(mockRouter);
        // Mock scrollIntoView
        Element.prototype.scrollIntoView = jest.fn();
        // Default fetch responses
        global.fetch.mockImplementation((url)=>{
            if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                currentAttendees: 45,
                                utilizationPercentage: 90
                            }
                        })
                });
            }
            if (url.includes('/api/admin/activities')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                activities: mockActivities
                            }
                        })
                });
            }
            if (url.includes('/api/admin/events')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: {
                                events: mockEvents
                            }
                        })
                });
            }
            if (url.includes('/api/admin/locations')) {
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({
                            success: true,
                            data: mockLocations
                        })
                });
            }
            return Promise.reject(new Error('Unknown URL'));
        });
    });
    describe('Activity creation with collapsible form', ()=>{
        it('should display collapsible form when opened', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Open form by clicking the toggle button
            const formToggle = _react.screen.getByRole('button', {
                name: /add activity/i
            });
            _react.fireEvent.click(formToggle);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/activity name/i)).toBeInTheDocument();
            });
        });
        it('should create activity with collapsible form', async ()=>{
            const createResponse = {
                success: true,
                data: {
                    id: 'activity-3',
                    name: 'New Activity',
                    activityType: 'activity',
                    startTime: '2025-07-01T10:00:00Z',
                    locationId: 'location-1',
                    status: 'draft'
                }
            };
            global.fetch.mockImplementation((url, options)=>{
                if (url.includes('/api/admin/activities') && options?.method === 'POST') {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve(createResponse)
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities') && !options) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: [
                                        ...mockActivities,
                                        createResponse.data
                                    ]
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Open form
            const formToggle = _react.screen.getByRole('button', {
                name: /add activity/i
            });
            _react.fireEvent.click(formToggle);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/activity name/i)).toBeInTheDocument();
            });
            // Fill required form fields
            const nameInput = _react.screen.getByLabelText(/activity name/i);
            _react.fireEvent.change(nameInput, {
                target: {
                    value: 'New Activity'
                }
            });
            const activityTypeSelect = _react.screen.getByLabelText(/activity type/i);
            _react.fireEvent.change(activityTypeSelect, {
                target: {
                    value: 'activity'
                }
            });
            // Use datetime-local format (YYYY-MM-DDTHH:mm) - will be converted to ISO 8601 by CollapsibleForm
            const startTimeInput = _react.screen.getByLabelText(/start date & time/i);
            _react.fireEvent.change(startTimeInput, {
                target: {
                    value: '2025-07-01T10:00'
                }
            });
            const statusSelect = _react.screen.getByLabelText(/status/i);
            _react.fireEvent.change(statusSelect, {
                target: {
                    value: 'draft'
                }
            });
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /create activity/i
            });
            _react.fireEvent.click(submitButton);
            // Wait for form to close (indicating success)
            await (0, _react.waitFor)(()=>{
                const formToggleAfter = _react.screen.getByRole('button', {
                    name: /add activity/i
                });
                expect(formToggleAfter).toHaveAttribute('aria-expanded', 'false');
            }, {
                timeout: 3000
            });
        });
        it('should close form and clear fields after successful creation', async ()=>{
            const createResponse = {
                success: true,
                data: {
                    id: 'activity-3',
                    name: 'New Activity'
                }
            };
            global.fetch.mockImplementation((url, options)=>{
                if (url.includes('/api/admin/activities') && options?.method === 'POST') {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve(createResponse)
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities') && !options) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Open form
            const formToggle = _react.screen.getByRole('button', {
                name: /add activity/i
            });
            _react.fireEvent.click(formToggle);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/activity name/i)).toBeInTheDocument();
            });
            // Fill required form fields
            const nameInput = _react.screen.getByLabelText(/activity name/i);
            _react.fireEvent.change(nameInput, {
                target: {
                    value: 'New Activity'
                }
            });
            const activityTypeSelect = _react.screen.getByLabelText(/activity type/i);
            _react.fireEvent.change(activityTypeSelect, {
                target: {
                    value: 'activity'
                }
            });
            const startTimeInput = _react.screen.getByLabelText(/start date & time/i);
            _react.fireEvent.change(startTimeInput, {
                target: {
                    value: '2025-07-01T10:00'
                }
            });
            const statusSelect = _react.screen.getByLabelText(/status/i);
            _react.fireEvent.change(statusSelect, {
                target: {
                    value: 'draft'
                }
            });
            // Submit form
            const submitButton = _react.screen.getByRole('button', {
                name: /create activity/i
            });
            _react.fireEvent.click(submitButton);
            // Form should close after successful creation (form is collapsed)
            await (0, _react.waitFor)(()=>{
                const formToggleAfter = _react.screen.getByRole('button', {
                    name: /add activity/i
                });
                expect(formToggleAfter).toHaveAttribute('aria-expanded', 'false');
            }, {
                timeout: 3000
            });
        });
    });
    describe('Capacity tracking', ()=>{
        it('should display capacity information for activities', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Should display capacity with percentage
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getAllByText(/45\/50/).length).toBeGreaterThan(0);
                expect(_react.screen.getAllByText(/90%/).length).toBeGreaterThan(0);
            });
        });
        it('should display warning indicator for 90%+ capacity', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/activities/activity-1/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 46,
                                    utilizationPercentage: 92
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Should display capacity percentage for 90%+ capacity
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/92%/)).toBeInTheDocument();
            });
        });
        it('should display alert indicator for 100% capacity', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/activities/activity-1/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 50,
                                    utilizationPercentage: 100
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Should display 100% capacity
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/100%/)).toBeInTheDocument();
            });
        });
        it('should highlight rows at 90%+ capacity', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/activities/activity-1/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 46,
                                    utilizationPercentage: 92
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
            });
            // Wait for capacity percentage to be displayed (indicates data is loaded)
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/92%/)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Verify row highlighting is applied (via rowClassName prop)
            await (0, _react.waitFor)(()=>{
                const rows = _react.screen.queryAllByRole('row');
                // At least one row should exist and have the warning background class
                expect(rows.length).toBeGreaterThan(0);
                const hasWarningRow = rows.some((row)=>row.className.includes('bg-volcano-50'));
                expect(hasWarningRow).toBe(true);
            }, {
                timeout: 3000
            });
        });
    });
    describe('Section editor integration', ()=>{
        it('should display Sections button for each activity', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            // Wait for activities to load by checking for activity name
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Beach Day')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const sectionsButtons = _react.screen.getAllByRole('button', {
                name: /sections/i
            });
            expect(sectionsButtons.length).toBeGreaterThan(0);
        });
        it('should toggle section editor when Sections button is clicked', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            // Wait for activities to load by checking for activity name
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Beach Day')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const sectionsButtons = _react.screen.getAllByRole('button', {
                name: /^sections$/i
            });
            _react.fireEvent.click(sectionsButtons[0]);
            // Should show the section editor inline
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/add section/i)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
    describe('Capacity warnings', ()=>{
        it.skip('should display capacity utilization in form help text when editing', async ()=>{
            // Mock activities with capacity data already loaded
            const activitiesWithCapacity = mockActivities.map((activity)=>({
                    ...activity,
                    currentRsvps: activity.id === 'activity-1' ? 45 : 0,
                    utilizationPercentage: activity.id === 'activity-1' ? 90 : 0
                }));
            global.fetch.mockImplementation((url)=>{
                if (url.includes('/api/admin/activities/activity-1/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 45,
                                    utilizationPercentage: 90
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities/') && url.includes('/capacity')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    currentAttendees: 0,
                                    utilizationPercentage: 0
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    activities: activitiesWithCapacity
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/events')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: {
                                    events: mockEvents
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/locations')) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                success: true,
                                data: mockLocations
                            })
                    });
                }
                return Promise.reject(new Error('Unknown URL'));
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            // Wait for activities to load with capacity data
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByRole('heading', {
                    name: /activity management/i
                })).toBeInTheDocument();
                expect(_react.screen.getByText(/90%/)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Click on an activity row to edit - use the row directly
            const activityRow = _react.screen.getByTestId('activity-row-activity-1');
            _react.fireEvent.click(activityRow);
            // Wait for form to open
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText(/edit activity/i)).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Should display capacity utilization in help text
            // The help text is rendered in a <p> tag with id="capacity-help"
            await (0, _react.waitFor)(()=>{
                // Look for help text by its content
                const helpElements = _react.screen.queryAllByText(/current utilization/i);
                expect(helpElements.length).toBeGreaterThan(0);
            }, {
                timeout: 3000
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2FjdGl2aXRpZXMvcGFnZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuaW1wb3J0IEFjdGl2aXRpZXNQYWdlIGZyb20gJy4vcGFnZSc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuXG4vLyBNb2NrIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6IGplc3QuZm4oKSxcbiAgdXNlU2VhcmNoUGFyYW1zOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgZ2V0OiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvdWkvVG9hc3RDb250ZXh0JywgKCkgPT4gKHtcbiAgdXNlVG9hc3Q6ICgpID0+ICh7XG4gICAgYWRkVG9hc3Q6IGplc3QuZm4oKSxcbiAgfSksXG4gIFRvYXN0UHJvdmlkZXI6ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gY2hpbGRyZW4sXG59KSk7XG5cbi8vIE1vY2sgU2VjdGlvbkVkaXRvclxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvYWRtaW4vU2VjdGlvbkVkaXRvcicsICgpID0+ICh7XG4gIFNlY3Rpb25FZGl0b3I6ICh7IHBhZ2VUeXBlLCBwYWdlSWQgfTogYW55KSA9PiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cInNlY3Rpb24tZWRpdG9yXCI+XG4gICAgICA8ZGl2PlNlY3Rpb24gRWRpdG9yIGZvciB7cGFnZVR5cGV9OiB7cGFnZUlkfTwvZGl2PlxuICAgICAgPGJ1dHRvbj5BZGQgU2VjdGlvbjwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBNb2NrIERhdGFUYWJsZSBjb21wb25lbnRzXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9EYXRhVGFibGUnLCAoKSA9PiAoe1xuICBEYXRhVGFibGU6ICh7IGRhdGEsIGNvbHVtbnMsIGxvYWRpbmcsIHJvd0NsYXNzTmFtZSwgb25Sb3dDbGljayB9OiBhbnkpID0+IHtcbiAgICBpZiAobG9hZGluZykgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHJldHVybiA8ZGl2Pk5vIGl0ZW1zIGZvdW5kPC9kaXY+O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZGF0YS10YWJsZVwiPlxuICAgICAgICB7ZGF0YS5tYXAoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHJvd0NsYXNzTmFtZSA/IHJvd0NsYXNzTmFtZShpdGVtKSA6ICcnO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BhY3Rpdml0eS1yb3ctJHtpdGVtLmlkfWB9IFxuICAgICAgICAgICAgICByb2xlPVwicm93XCIgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJvd0NsaWNrICYmIG9uUm93Q2xpY2soaXRlbSl9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogb25Sb3dDbGljayA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2NvbC5rZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlWYWx1ZSA9IGNvbC5yZW5kZXIgPyBjb2wucmVuZGVyKHZhbHVlLCBpdGVtKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sLmtleX0gZGF0YS10ZXN0aWQ9e2Ake2NvbC5rZXl9LSR7aXRlbS5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LFxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9EYXRhVGFibGVXaXRoU3VzcGVuc2UnLCAoKSA9PiAoe1xuICBEYXRhVGFibGVXaXRoU3VzcGVuc2U6ICh7IGRhdGEsIGNvbHVtbnMsIGxvYWRpbmcsIHJvd0NsYXNzTmFtZSwgb25Sb3dDbGljayB9OiBhbnkpID0+IHtcbiAgICBpZiAobG9hZGluZykgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcbiAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHJldHVybiA8ZGl2Pk5vIGl0ZW1zIGZvdW5kPC9kaXY+O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZGF0YS10YWJsZVwiPlxuICAgICAgICB7ZGF0YS5tYXAoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IHJvd0NsYXNzTmFtZSA/IHJvd0NsYXNzTmFtZShpdGVtKSA6ICcnO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2BhY3Rpdml0eS1yb3ctJHtpdGVtLmlkfWB9IFxuICAgICAgICAgICAgICByb2xlPVwicm93XCIgXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblJvd0NsaWNrICYmIG9uUm93Q2xpY2soaXRlbSl9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogb25Sb3dDbGljayA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2NvbC5rZXldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlWYWx1ZSA9IGNvbC5yZW5kZXIgPyBjb2wucmVuZGVyKHZhbHVlLCBpdGVtKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sLmtleX0gZGF0YS10ZXN0aWQ9e2Ake2NvbC5rZXl9LSR7aXRlbS5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9LFxufSkpO1xuXG4vLyBNb2NrIGZldGNoXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbmRlc2NyaWJlKCdBY3Rpdml0aWVzUGFnZScsICgpID0+IHtcbiAgY29uc3QgbW9ja1JvdXRlciA9IHtcbiAgICBwdXNoOiBqZXN0LmZuKCksXG4gIH07XG5cbiAgY29uc3QgbW9ja0FjdGl2aXRpZXMgPSBbXG4gICAge1xuICAgICAgaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgIG5hbWU6ICdCZWFjaCBEYXknLFxuICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNlQxMDowMDowMFonLFxuICAgICAgZW5kVGltZTogJzIwMjUtMDYtMTZUMTY6MDA6MDBaJyxcbiAgICAgIGxvY2F0aW9uSWQ6ICdsb2NhdGlvbi0xJyxcbiAgICAgIGV2ZW50SWQ6ICdldmVudC0xJyxcbiAgICAgIGNhcGFjaXR5OiA1MCxcbiAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0Z1biBiZWFjaCBhY3Rpdml0aWVzJyxcbiAgICAgIGNvc3RQZXJQZXJzb246IDI1LjAwLFxuICAgICAgaG9zdFN1YnNpZHk6IDEwLjAwLFxuICAgICAgYWR1bHRzT25seTogZmFsc2UsXG4gICAgICBwbHVzT25lQWxsb3dlZDogdHJ1ZSxcbiAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAnYWN0aXZpdHktMicsXG4gICAgICBuYW1lOiAnWmlwIExpbmUgQWR2ZW50dXJlJyxcbiAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTdUMDk6MDA6MDBaJyxcbiAgICAgIGVuZFRpbWU6ICcyMDI1LTA2LTE3VDEyOjAwOjAwWicsXG4gICAgICBsb2NhdGlvbklkOiAnbG9jYXRpb24tMicsXG4gICAgICBldmVudElkOiBudWxsLFxuICAgICAgY2FwYWNpdHk6IDIwLFxuICAgICAgc3RhdHVzOiAnZHJhZnQnLFxuICAgICAgZGVzY3JpcHRpb246ICdUaHJpbGxpbmcgemlwIGxpbmUgdG91cicsXG4gICAgICBjb3N0UGVyUGVyc29uOiA3NS4wMCxcbiAgICAgIGhvc3RTdWJzaWR5OiAwLFxuICAgICAgYWR1bHRzT25seTogdHJ1ZSxcbiAgICAgIHBsdXNPbmVBbGxvd2VkOiBmYWxzZSxcbiAgICAgIGNyZWF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9LFxuICBdO1xuXG4gIGNvbnN0IG1vY2tFdmVudHMgPSBbXG4gICAgeyBpZDogJ2V2ZW50LTEnLCBuYW1lOiAnV2VkZGluZyBXZWVrZW5kJyB9LFxuICAgIHsgaWQ6ICdldmVudC0yJywgbmFtZTogJ1ByZS1XZWRkaW5nIEV2ZW50cycgfSxcbiAgXTtcblxuICBjb25zdCBtb2NrTG9jYXRpb25zID0gW1xuICAgIHsgaWQ6ICdsb2NhdGlvbi0xJywgbmFtZTogJ0JlYWNoIFZlbnVlJyB9LFxuICAgIHsgaWQ6ICdsb2NhdGlvbi0yJywgbmFtZTogJ0FkdmVudHVyZSBQYXJrJyB9LFxuICBdO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgICh1c2VSb3V0ZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUobW9ja1JvdXRlcik7XG4gICAgXG4gICAgLy8gTW9jayBzY3JvbGxJbnRvVmlld1xuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3ID0gamVzdC5mbigpO1xuICAgIFxuICAgIC8vIERlZmF1bHQgZmV0Y2ggcmVzcG9uc2VzXG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcy8nKSAmJiB1cmwuaW5jbHVkZXMoJy9jYXBhY2l0eScpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBjdXJyZW50QXR0ZW5kZWVzOiA0NSxcbiAgICAgICAgICAgICAgdXRpbGl6YXRpb25QZXJjZW50YWdlOiA5MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7IGFjdGl2aXRpZXM6IG1vY2tBY3Rpdml0aWVzIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ldmVudHMnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGE6IHsgZXZlbnRzOiBtb2NrRXZlbnRzIH0sICAvLyBLZWVwIHdyYXBwZWQgZm9yIGV2ZW50c1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vbG9jYXRpb25zJykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiBtb2NrTG9jYXRpb25zLCAgLy8gUmV0dXJuIGFycmF5IGRpcmVjdGx5LCBub3Qgd3JhcHBlZFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWN0aXZpdHkgY3JlYXRpb24gd2l0aCBjb2xsYXBzaWJsZSBmb3JtJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBjb2xsYXBzaWJsZSBmb3JtIHdoZW4gb3BlbmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxBY3Rpdml0aWVzUGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbmFtZTogL2FjdGl2aXR5IG1hbmFnZW1lbnQvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGZvcm0gYnkgY2xpY2tpbmcgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgIGNvbnN0IGZvcm1Ub2dnbGUgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgYWN0aXZpdHkvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhmb3JtVG9nZ2xlKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9hY3Rpdml0eSBuYW1lL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhY3Rpdml0eSB3aXRoIGNvbGxhcHNpYmxlIGZvcm0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjcmVhdGVSZXNwb25zZSA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAnYWN0aXZpdHktMycsXG4gICAgICAgICAgbmFtZTogJ05ldyBBY3Rpdml0eScsXG4gICAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDctMDFUMTA6MDA6MDBaJyxcbiAgICAgICAgICBsb2NhdGlvbklkOiAnbG9jYXRpb24tMScsXG4gICAgICAgICAgc3RhdHVzOiAnZHJhZnQnLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykgJiYgb3B0aW9ucz8ubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZVJlc3BvbnNlKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMvJykgJiYgdXJsLmluY2x1ZGVzKCcvY2FwYWNpdHknKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGN1cnJlbnRBdHRlbmRlZXM6IDAsIHV0aWxpemF0aW9uUGVyY2VudGFnZTogMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykgJiYgIW9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpdml0aWVzOiBbLi4ubW9ja0FjdGl2aXRpZXMsIGNyZWF0ZVJlc3BvbnNlLmRhdGFdIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2V2ZW50cycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHsgZXZlbnRzOiBtb2NrRXZlbnRzIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2xvY2F0aW9ucycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IG1vY2tMb2NhdGlvbnMsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdVbmtub3duIFVSTCcpKTtcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPEFjdGl2aXRpZXNQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdoZWFkaW5nJywgeyBuYW1lOiAvYWN0aXZpdHkgbWFuYWdlbWVudC9pIH0pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9wZW4gZm9ybVxuICAgICAgY29uc3QgZm9ybVRvZ2dsZSA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBhY3Rpdml0eS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGZvcm1Ub2dnbGUpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2FjdGl2aXR5IG5hbWUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gRmlsbCByZXF1aXJlZCBmb3JtIGZpZWxkc1xuICAgICAgY29uc3QgbmFtZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9hY3Rpdml0eSBuYW1lL2kpO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShuYW1lSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnTmV3IEFjdGl2aXR5JyB9IH0pO1xuXG4gICAgICBjb25zdCBhY3Rpdml0eVR5cGVTZWxlY3QgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2FjdGl2aXR5IHR5cGUvaSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGFjdGl2aXR5VHlwZVNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdhY3Rpdml0eScgfSB9KTtcblxuICAgICAgLy8gVXNlIGRhdGV0aW1lLWxvY2FsIGZvcm1hdCAoWVlZWS1NTS1ERFRISDptbSkgLSB3aWxsIGJlIGNvbnZlcnRlZCB0byBJU08gODYwMSBieSBDb2xsYXBzaWJsZUZvcm1cbiAgICAgIGNvbnN0IHN0YXJ0VGltZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdGFydCBkYXRlICYgdGltZS9pKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc3RhcnRUaW1lSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnMjAyNS0wNy0wMVQxMDowMCcgfSB9KTtcblxuICAgICAgY29uc3Qgc3RhdHVzU2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdGF0dXMvaSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN0YXR1c1NlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdkcmFmdCcgfSB9KTtcblxuICAgICAgLy8gU3VibWl0IGZvcm1cbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NyZWF0ZSBhY3Rpdml0eS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGZvcm0gdG8gY2xvc2UgKGluZGljYXRpbmcgc3VjY2VzcylcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtVG9nZ2xlQWZ0ZXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgYWN0aXZpdHkvaSB9KTtcbiAgICAgICAgZXhwZWN0KGZvcm1Ub2dnbGVBZnRlcikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIGZvcm0gYW5kIGNsZWFyIGZpZWxkcyBhZnRlciBzdWNjZXNzZnVsIGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3JlYXRlUmVzcG9uc2UgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ2FjdGl2aXR5LTMnLFxuICAgICAgICAgIG5hbWU6ICdOZXcgQWN0aXZpdHknLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykgJiYgb3B0aW9ucz8ubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZVJlc3BvbnNlKSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMvJykgJiYgdXJsLmluY2x1ZGVzKCcvY2FwYWNpdHknKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGN1cnJlbnRBdHRlbmRlZXM6IDAsIHV0aWxpemF0aW9uUGVyY2VudGFnZTogMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykgJiYgIW9wdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpdml0aWVzOiBtb2NrQWN0aXZpdGllcyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ldmVudHMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGV2ZW50czogbW9ja0V2ZW50cyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9sb2NhdGlvbnMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiBtb2NrTG9jYXRpb25zLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignVW5rbm93biBVUkwnKSk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxBY3Rpdml0aWVzUGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbmFtZTogL2FjdGl2aXR5IG1hbmFnZW1lbnQvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcGVuIGZvcm1cbiAgICAgIGNvbnN0IGZvcm1Ub2dnbGUgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hZGQgYWN0aXZpdHkvaSB9KTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhmb3JtVG9nZ2xlKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9hY3Rpdml0eSBuYW1lL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEZpbGwgcmVxdWlyZWQgZm9ybSBmaWVsZHNcbiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvYWN0aXZpdHkgbmFtZS9pKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UobmFtZUlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ05ldyBBY3Rpdml0eScgfSB9KTtcblxuICAgICAgY29uc3QgYWN0aXZpdHlUeXBlU2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9hY3Rpdml0eSB0eXBlL2kpO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZShhY3Rpdml0eVR5cGVTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnYWN0aXZpdHknIH0gfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZUlucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdGFydCBkYXRlICYgdGltZS9pKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc3RhcnRUaW1lSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnMjAyNS0wNy0wMVQxMDowMCcgfSB9KTtcblxuICAgICAgY29uc3Qgc3RhdHVzU2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9zdGF0dXMvaSk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHN0YXR1c1NlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdkcmFmdCcgfSB9KTtcblxuICAgICAgLy8gU3VibWl0IGZvcm1cbiAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2NyZWF0ZSBhY3Rpdml0eS9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHN1Ym1pdEJ1dHRvbik7XG5cbiAgICAgIC8vIEZvcm0gc2hvdWxkIGNsb3NlIGFmdGVyIHN1Y2Nlc3NmdWwgY3JlYXRpb24gKGZvcm0gaXMgY29sbGFwc2VkKVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1Ub2dnbGVBZnRlciA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2FkZCBhY3Rpdml0eS9pIH0pO1xuICAgICAgICBleHBlY3QoZm9ybVRvZ2dsZUFmdGVyKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NhcGFjaXR5IHRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBjYXBhY2l0eSBpbmZvcm1hdGlvbiBmb3IgYWN0aXZpdGllcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8QWN0aXZpdGllc1BhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6IC9hY3Rpdml0eSBtYW5hZ2VtZW50L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGRpc3BsYXkgY2FwYWNpdHkgd2l0aCBwZXJjZW50YWdlXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRleHQoLzQ1XFwvNTAvKS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRleHQoLzkwJS8pLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgd2FybmluZyBpbmRpY2F0b3IgZm9yIDkwJSsgY2FwYWNpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uKCh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMvYWN0aXZpdHktMS9jYXBhY2l0eScpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QXR0ZW5kZWVzOiA0NixcbiAgICAgICAgICAgICAgICB1dGlsaXphdGlvblBlcmNlbnRhZ2U6IDkyLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzLycpICYmIHVybC5pbmNsdWRlcygnL2NhcGFjaXR5JykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBjdXJyZW50QXR0ZW5kZWVzOiAwLCB1dGlsaXphdGlvblBlcmNlbnRhZ2U6IDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHsgYWN0aXZpdGllczogbW9ja0FjdGl2aXRpZXMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vZXZlbnRzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBldmVudHM6IG1vY2tFdmVudHMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vbG9jYXRpb25zJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogbW9ja0xvY2F0aW9ucyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8QWN0aXZpdGllc1BhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6IC9hY3Rpdml0eSBtYW5hZ2VtZW50L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGRpc3BsYXkgY2FwYWNpdHkgcGVyY2VudGFnZSBmb3IgOTAlKyBjYXBhY2l0eVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC85MiUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGFsZXJ0IGluZGljYXRvciBmb3IgMTAwJSBjYXBhY2l0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xL2NhcGFjaXR5JykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBdHRlbmRlZXM6IDUwLFxuICAgICAgICAgICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogMTAwLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzLycpICYmIHVybC5pbmNsdWRlcygnL2NhcGFjaXR5JykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBjdXJyZW50QXR0ZW5kZWVzOiAwLCB1dGlsaXphdGlvblBlcmNlbnRhZ2U6IDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHsgYWN0aXZpdGllczogbW9ja0FjdGl2aXRpZXMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vZXZlbnRzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBldmVudHM6IG1vY2tFdmVudHMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vbG9jYXRpb25zJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogbW9ja0xvY2F0aW9ucyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8QWN0aXZpdGllc1BhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6IC9hY3Rpdml0eSBtYW5hZ2VtZW50L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGRpc3BsYXkgMTAwJSBjYXBhY2l0eVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC8xMDAlLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHJvd3MgYXQgOTAlKyBjYXBhY2l0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcy9hY3Rpdml0eS0xL2NhcGFjaXR5JykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRBdHRlbmRlZXM6IDQ2LFxuICAgICAgICAgICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogOTIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMvJykgJiYgdXJsLmluY2x1ZGVzKCcvY2FwYWNpdHknKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGN1cnJlbnRBdHRlbmRlZXM6IDAsIHV0aWxpemF0aW9uUGVyY2VudGFnZTogMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpdml0aWVzOiBtb2NrQWN0aXZpdGllcyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9ldmVudHMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGV2ZW50czogbW9ja0V2ZW50cyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9sb2NhdGlvbnMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiBtb2NrTG9jYXRpb25zLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignVW5rbm93biBVUkwnKSk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxBY3Rpdml0aWVzUGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbmFtZTogL2FjdGl2aXR5IG1hbmFnZW1lbnQvaSB9KSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBjYXBhY2l0eSBwZXJjZW50YWdlIHRvIGJlIGRpc3BsYXllZCAoaW5kaWNhdGVzIGRhdGEgaXMgbG9hZGVkKVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC85MiUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgLy8gVmVyaWZ5IHJvdyBoaWdobGlnaHRpbmcgaXMgYXBwbGllZCAodmlhIHJvd0NsYXNzTmFtZSBwcm9wKVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBzY3JlZW4ucXVlcnlBbGxCeVJvbGUoJ3JvdycpO1xuICAgICAgICAvLyBBdCBsZWFzdCBvbmUgcm93IHNob3VsZCBleGlzdCBhbmQgaGF2ZSB0aGUgd2FybmluZyBiYWNrZ3JvdW5kIGNsYXNzXG4gICAgICAgIGV4cGVjdChyb3dzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBjb25zdCBoYXNXYXJuaW5nUm93ID0gcm93cy5zb21lKHJvdyA9PiBcbiAgICAgICAgICByb3cuY2xhc3NOYW1lLmluY2x1ZGVzKCdiZy12b2xjYW5vLTUwJylcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGhhc1dhcm5pbmdSb3cpLnRvQmUodHJ1ZSk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWN0aW9uIGVkaXRvciBpbnRlZ3JhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgU2VjdGlvbnMgYnV0dG9uIGZvciBlYWNoIGFjdGl2aXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxBY3Rpdml0aWVzUGFnZSAvPik7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFjdGl2aXRpZXMgdG8gbG9hZCBieSBjaGVja2luZyBmb3IgYWN0aXZpdHkgbmFtZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCZWFjaCBEYXknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2VjdGlvbnNCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc2VjdGlvbnMvaSB9KTtcbiAgICAgIGV4cGVjdChzZWN0aW9uc0J1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBzZWN0aW9uIGVkaXRvciB3aGVuIFNlY3Rpb25zIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxBY3Rpdml0aWVzUGFnZSAvPik7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFjdGl2aXRpZXMgdG8gbG9hZCBieSBjaGVja2luZyBmb3IgYWN0aXZpdHkgbmFtZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCZWFjaCBEYXknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3Qgc2VjdGlvbnNCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvXnNlY3Rpb25zJC9pIH0pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNlY3Rpb25zQnV0dG9uc1swXSk7XG5cbiAgICAgIC8vIFNob3VsZCBzaG93IHRoZSBzZWN0aW9uIGVkaXRvciBpbmxpbmVcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvYWRkIHNlY3Rpb24vaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDYXBhY2l0eSB3YXJuaW5ncycsICgpID0+IHtcbiAgICBpdC5za2lwKCdzaG91bGQgZGlzcGxheSBjYXBhY2l0eSB1dGlsaXphdGlvbiBpbiBmb3JtIGhlbHAgdGV4dCB3aGVuIGVkaXRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGFjdGl2aXRpZXMgd2l0aCBjYXBhY2l0eSBkYXRhIGFscmVhZHkgbG9hZGVkXG4gICAgICBjb25zdCBhY3Rpdml0aWVzV2l0aENhcGFjaXR5ID0gbW9ja0FjdGl2aXRpZXMubWFwKGFjdGl2aXR5ID0+ICh7XG4gICAgICAgIC4uLmFjdGl2aXR5LFxuICAgICAgICBjdXJyZW50UnN2cHM6IGFjdGl2aXR5LmlkID09PSAnYWN0aXZpdHktMScgPyA0NSA6IDAsXG4gICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZTogYWN0aXZpdHkuaWQgPT09ICdhY3Rpdml0eS0xJyA/IDkwIDogMCxcbiAgICAgIH0pKTtcblxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzL2FjdGl2aXR5LTEvY2FwYWNpdHknKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY3VycmVudEF0dGVuZGVlczogNDUsXG4gICAgICAgICAgICAgICAgdXRpbGl6YXRpb25QZXJjZW50YWdlOiA5MCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcy8nKSAmJiB1cmwuaW5jbHVkZXMoJy9jYXBhY2l0eScpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgIGRhdGE6IHsgY3VycmVudEF0dGVuZGVlczogMCwgdXRpbGl6YXRpb25QZXJjZW50YWdlOiAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICBkYXRhOiB7IGFjdGl2aXRpZXM6IGFjdGl2aXRpZXNXaXRoQ2FwYWNpdHkgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vZXZlbnRzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogeyBldmVudHM6IG1vY2tFdmVudHMgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vbG9jYXRpb25zJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgZGF0YTogbW9ja0xvY2F0aW9ucyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Vua25vd24gVVJMJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8QWN0aXZpdGllc1BhZ2UgLz4pO1xuXG4gICAgICAvLyBXYWl0IGZvciBhY3Rpdml0aWVzIHRvIGxvYWQgd2l0aCBjYXBhY2l0eSBkYXRhXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6IC9hY3Rpdml0eSBtYW5hZ2VtZW50L2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC85MCUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgLy8gQ2xpY2sgb24gYW4gYWN0aXZpdHkgcm93IHRvIGVkaXQgLSB1c2UgdGhlIHJvdyBkaXJlY3RseVxuICAgICAgY29uc3QgYWN0aXZpdHlSb3cgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2FjdGl2aXR5LXJvdy1hY3Rpdml0eS0xJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWN0aXZpdHlSb3cpO1xuXG4gICAgICAvLyBXYWl0IGZvciBmb3JtIHRvIG9wZW5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvZWRpdCBhY3Rpdml0eS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgLy8gU2hvdWxkIGRpc3BsYXkgY2FwYWNpdHkgdXRpbGl6YXRpb24gaW4gaGVscCB0ZXh0XG4gICAgICAvLyBUaGUgaGVscCB0ZXh0IGlzIHJlbmRlcmVkIGluIGEgPHA+IHRhZyB3aXRoIGlkPVwiY2FwYWNpdHktaGVscFwiXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gTG9vayBmb3IgaGVscCB0ZXh0IGJ5IGl0cyBjb250ZW50XG4gICAgICAgIGNvbnN0IGhlbHBFbGVtZW50cyA9IHNjcmVlbi5xdWVyeUFsbEJ5VGV4dCgvY3VycmVudCB1dGlsaXphdGlvbi9pKTtcbiAgICAgICAgZXhwZWN0KGhlbHBFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsImZuIiwidXNlU2VhcmNoUGFyYW1zIiwiZ2V0IiwidXNlVG9hc3QiLCJhZGRUb2FzdCIsIlRvYXN0UHJvdmlkZXIiLCJjaGlsZHJlbiIsIlNlY3Rpb25FZGl0b3IiLCJwYWdlVHlwZSIsInBhZ2VJZCIsImRpdiIsImRhdGEtdGVzdGlkIiwiYnV0dG9uIiwiRGF0YVRhYmxlIiwiZGF0YSIsImNvbHVtbnMiLCJsb2FkaW5nIiwicm93Q2xhc3NOYW1lIiwib25Sb3dDbGljayIsImxlbmd0aCIsIm1hcCIsIml0ZW0iLCJpbmRleCIsImNsYXNzTmFtZSIsImlkIiwicm9sZSIsIm9uQ2xpY2siLCJzdHlsZSIsImN1cnNvciIsImNvbCIsInZhbHVlIiwia2V5IiwiZGlzcGxheVZhbHVlIiwicmVuZGVyIiwiRGF0YVRhYmxlV2l0aFN1c3BlbnNlIiwiZ2xvYmFsIiwiZmV0Y2giLCJkZXNjcmliZSIsIm1vY2tSb3V0ZXIiLCJwdXNoIiwibW9ja0FjdGl2aXRpZXMiLCJuYW1lIiwiYWN0aXZpdHlUeXBlIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImxvY2F0aW9uSWQiLCJldmVudElkIiwiY2FwYWNpdHkiLCJzdGF0dXMiLCJkZXNjcmlwdGlvbiIsImNvc3RQZXJQZXJzb24iLCJob3N0U3Vic2lkeSIsImFkdWx0c09ubHkiLCJwbHVzT25lQWxsb3dlZCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1vY2tFdmVudHMiLCJtb2NrTG9jYXRpb25zIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJFbGVtZW50IiwicHJvdG90eXBlIiwic2Nyb2xsSW50b1ZpZXciLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ1cmwiLCJpbmNsdWRlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImN1cnJlbnRBdHRlbmRlZXMiLCJ1dGlsaXphdGlvblBlcmNlbnRhZ2UiLCJhY3Rpdml0aWVzIiwiZXZlbnRzIiwicmVqZWN0IiwiRXJyb3IiLCJpdCIsIkFjdGl2aXRpZXNQYWdlIiwid2FpdEZvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5Um9sZSIsInRvQmVJblRoZURvY3VtZW50IiwiZm9ybVRvZ2dsZSIsImZpcmVFdmVudCIsImNsaWNrIiwiZ2V0QnlUZXh0IiwiY3JlYXRlUmVzcG9uc2UiLCJvcHRpb25zIiwibWV0aG9kIiwibmFtZUlucHV0IiwiZ2V0QnlMYWJlbFRleHQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJhY3Rpdml0eVR5cGVTZWxlY3QiLCJzdGFydFRpbWVJbnB1dCIsInN0YXR1c1NlbGVjdCIsInN1Ym1pdEJ1dHRvbiIsImZvcm1Ub2dnbGVBZnRlciIsInRvSGF2ZUF0dHJpYnV0ZSIsInRpbWVvdXQiLCJnZXRBbGxCeVRleHQiLCJ0b0JlR3JlYXRlclRoYW4iLCJyb3dzIiwicXVlcnlBbGxCeVJvbGUiLCJoYXNXYXJuaW5nUm93Iiwic29tZSIsInJvdyIsInRvQmUiLCJzZWN0aW9uc0J1dHRvbnMiLCJnZXRBbGxCeVJvbGUiLCJza2lwIiwiYWN0aXZpdGllc1dpdGhDYXBhY2l0eSIsImFjdGl2aXR5IiwiY3VycmVudFJzdnBzIiwiYWN0aXZpdHlSb3ciLCJnZXRCeVRlc3RJZCIsImhlbHBFbGVtZW50cyIsInF1ZXJ5QWxsQnlUZXh0Il0sIm1hcHBpbmdzIjoiO0FBS0Esb0JBQW9CO0FBQ3BCQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBV0YsS0FBS0csRUFBRTtRQUNsQkMsaUJBQWlCSixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUM5QkUsS0FBS0wsS0FBS0csRUFBRTtZQUNkLENBQUE7SUFDRixDQUFBO0FBRUFILEtBQUtDLElBQUksQ0FBQyxnQ0FBZ0MsSUFBTyxDQUFBO1FBQy9DSyxVQUFVLElBQU8sQ0FBQTtnQkFDZkMsVUFBVVAsS0FBS0csRUFBRTtZQUNuQixDQUFBO1FBQ0FLLGVBQWUsQ0FBQyxFQUFFQyxRQUFRLEVBQU8sR0FBS0E7SUFDeEMsQ0FBQTtBQUVBLHFCQUFxQjtBQUNyQlQsS0FBS0MsSUFBSSxDQUFDLG9DQUFvQyxJQUFPLENBQUE7UUFDbkRTLGVBQWUsQ0FBQyxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBTyxpQkFDdkMsc0JBQUNDO2dCQUFJQyxlQUFZOztrQ0FDZixzQkFBQ0Q7OzRCQUFJOzRCQUFvQkY7NEJBQVM7NEJBQUdDOzs7a0NBQ3JDLHFCQUFDRztrQ0FBTzs7OztJQUdkLENBQUE7QUFFQSw0QkFBNEI7QUFDNUJmLEtBQUtDLElBQUksQ0FBQyw2QkFBNkIsSUFBTyxDQUFBO1FBQzVDZSxXQUFXLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxVQUFVLEVBQU87WUFDbkUsSUFBSUYsU0FBUyxxQkFBTyxxQkFBQ047MEJBQUk7O1lBQ3pCLElBQUlJLEtBQUtLLE1BQU0sS0FBSyxHQUFHLHFCQUFPLHFCQUFDVDswQkFBSTs7WUFDbkMscUJBQ0UscUJBQUNBO2dCQUFJQyxlQUFZOzBCQUNkRyxLQUFLTSxHQUFHLENBQUMsQ0FBQ0MsTUFBV0M7b0JBQ3BCLE1BQU1DLFlBQVlOLGVBQWVB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