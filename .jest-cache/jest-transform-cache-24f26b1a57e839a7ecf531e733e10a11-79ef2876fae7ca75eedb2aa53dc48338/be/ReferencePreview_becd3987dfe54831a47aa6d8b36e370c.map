{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/ReferencePreview.tsx"],"sourcesContent":["'use client';\n\nimport { Button } from '@/components/ui/Button';\n\ninterface Reference {\n  type: 'event' | 'activity' | 'content_page' | 'accommodation' | 'location';\n  id: string;\n  name?: string;\n  description?: string;\n  metadata?: Record<string, any>;\n}\n\ninterface ReferencePreviewProps {\n  reference: Reference;\n  onRemove: () => void;\n  onEdit?: () => void;\n}\n\nexport function ReferencePreview({ reference, onRemove, onEdit }: ReferencePreviewProps) {\n  const getTypeBadge = () => {\n    const badges = {\n      event: { label: 'Event', color: 'purple' },\n      activity: { label: 'Activity', color: 'blue' },\n      content_page: { label: 'Page', color: 'green' },\n      accommodation: { label: 'Accommodation', color: 'orange' },\n      location: { label: 'Location', color: 'teal' },\n    };\n\n    const badge = badges[reference.type];\n    return (\n      <span className={`inline-block px-2 py-1 text-xs font-medium bg-${badge.color}-100 text-${badge.color}-800 rounded`}>\n        {badge.label}\n      </span>\n    );\n  };\n\n  const getViewUrl = () => {\n    switch (reference.type) {\n      case 'event':\n        return `/admin/events?id=${reference.id}`;\n      case 'activity':\n        return `/admin/activities?id=${reference.id}`;\n      case 'content_page':\n        return `/admin/content-pages?id=${reference.id}`;\n      case 'accommodation':\n        return `/admin/accommodations/${reference.id}`;\n      case 'location':\n        return `/admin/locations?id=${reference.id}`;\n      default:\n        return '#';\n    }\n  };\n\n  const renderMetadata = () => {\n    if (!reference.metadata) return null;\n\n    const items: React.ReactElement[] = [];\n\n    if (reference.metadata.date) {\n      items.push(\n        <div key=\"date\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üìÖ</span>\n          <span>{new Date(reference.metadata.date).toLocaleDateString()}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.time) {\n      items.push(\n        <div key=\"time\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üïê</span>\n          <span>{reference.metadata.time}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.location) {\n      items.push(\n        <div key=\"location\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üìç</span>\n          <span>{reference.metadata.location}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.capacity) {\n      items.push(\n        <div key=\"capacity\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üë•</span>\n          <span>Capacity: {reference.metadata.capacity}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.cost) {\n      items.push(\n        <div key=\"cost\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üí∞</span>\n          <span>${reference.metadata.cost}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.slug) {\n      items.push(\n        <div key=\"slug\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üîó</span>\n          <span>/{reference.metadata.slug}</span>\n        </div>\n      );\n    }\n\n    if (reference.metadata.room_count) {\n      items.push(\n        <div key=\"rooms\" className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <span>üè†</span>\n          <span>{reference.metadata.room_count} rooms</span>\n        </div>\n      );\n    }\n\n    return items.length > 0 ? (\n      <div className=\"flex flex-wrap gap-3 mt-2\">\n        {items}\n      </div>\n    ) : null;\n  };\n\n  return (\n    <div className=\"border border-gray-200 rounded-lg p-4 bg-white hover:border-emerald-500 transition-colors\">\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            {getTypeBadge()}\n            <h4 className=\"font-medium text-gray-900 truncate\">{reference.name || `${reference.type} (${reference.id.slice(0, 8)}...)`}</h4>\n          </div>\n\n          {reference.description && (\n            <p className=\"text-sm text-gray-600 line-clamp-2 mb-2\">\n              {reference.description}\n            </p>\n          )}\n\n          {renderMetadata()}\n        </div>\n\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\n          <a\n            href={getViewUrl()}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-sm text-emerald-600 hover:text-emerald-700 font-medium\"\n          >\n            View Details\n          </a>\n          \n          {onEdit && (\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              onClick={onEdit}\n              aria-label=\"Edit reference\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n              </svg>\n            </Button>\n          )}\n\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            onClick={onRemove}\n            className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n            aria-label=\"Remove reference\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n            </svg>\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["ReferencePreview","reference","onRemove","onEdit","getTypeBadge","badges","event","label","color","activity","content_page","accommodation","location","badge","type","span","className","getViewUrl","id","renderMetadata","metadata","items","date","push","div","Date","toLocaleDateString","time","capacity","cost","slug","room_count","length","h4","name","slice","description","p","a","href","target","rel","Button","size","variant","onClick","aria-label","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d"],"mappings":"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"}