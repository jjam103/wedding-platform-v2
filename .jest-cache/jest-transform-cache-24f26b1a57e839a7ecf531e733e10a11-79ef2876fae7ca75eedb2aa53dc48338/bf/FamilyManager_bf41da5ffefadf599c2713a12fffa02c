e832471a4c13e0a2ee02b4a670b0c6aa
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "FamilyManager", {
    enumerable: true,
    get: function() {
        return FamilyManager;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
function FamilyManager({ currentGuest, familyMembers, rsvpsByGuest }) {
    const [editingId, setEditingId] = (0, _react.useState)(null);
    const [editForm, setEditForm] = (0, _react.useState)({});
    const [saving, setSaving] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const [success, setSuccess] = (0, _react.useState)(null);
    const [expandedRsvps, setExpandedRsvps] = (0, _react.useState)(new Set());
    const isAdult = currentGuest.age_type === 'adult';
    const canEdit = (member)=>{
        // Adults can edit all family members, children can only edit themselves
        return isAdult || member.id === currentGuest.id;
    };
    const toggleRsvpExpansion = (guestId)=>{
        const newExpanded = new Set(expandedRsvps);
        if (newExpanded.has(guestId)) {
            newExpanded.delete(guestId);
        } else {
            newExpanded.add(guestId);
        }
        setExpandedRsvps(newExpanded);
    };
    const getStatusBadgeColor = (status)=>{
        switch(status){
            case 'attending':
                return 'bg-jungle-100 text-jungle-800 border-jungle-300';
            case 'declined':
                return 'bg-volcano-100 text-volcano-800 border-volcano-300';
            case 'maybe':
                return 'bg-sunset-100 text-sunset-800 border-sunset-300';
            case 'pending':
            default:
                return 'bg-sage-100 text-sage-800 border-sage-300';
        }
    };
    const getStatusIcon = (status)=>{
        switch(status){
            case 'attending':
                return 'âœ“';
            case 'declined':
                return 'âœ—';
            case 'maybe':
                return '?';
            case 'pending':
            default:
                return 'â—‹';
        }
    };
    const getRsvpSummary = (guestId)=>{
        const rsvps = rsvpsByGuest[guestId] || [];
        const attending = rsvps.filter((r)=>r.status === 'attending').length;
        const declined = rsvps.filter((r)=>r.status === 'declined').length;
        const maybe = rsvps.filter((r)=>r.status === 'maybe').length;
        const pending = rsvps.filter((r)=>r.status === 'pending').length;
        return {
            attending,
            declined,
            maybe,
            pending,
            total: rsvps.length
        };
    };
    const startEditing = (member)=>{
        if (!canEdit(member)) return;
        setEditingId(member.id);
        setEditForm({
            first_name: member.first_name,
            last_name: member.last_name,
            email: member.email,
            phone: member.phone,
            dietary_restrictions: member.dietary_restrictions
        });
        setError(null);
        setSuccess(null);
    };
    const cancelEditing = ()=>{
        setEditingId(null);
        setEditForm({});
        setError(null);
    };
    const saveChanges = async (memberId)=>{
        try {
            setSaving(true);
            setError(null);
            setSuccess(null);
            const response = await fetch(`/api/guest/family/${memberId}`, {
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(editForm)
            });
            const result = await response.json();
            if (!result.success) {
                setError(result.error?.message || 'Failed to update family member');
                return;
            }
            setSuccess('Family member updated successfully!');
            setEditingId(null);
            setEditForm({});
            // Reload page to show updated data
            setTimeout(()=>{
                window.location.reload();
            }, 1500);
        } catch (err) {
            setError(err instanceof Error ? err.message : 'An error occurred');
        } finally{
            setSaving(false);
        }
    };
    const getAgeTypeLabel = (ageType)=>{
        switch(ageType){
            case 'adult':
                return 'ðŸ‘¤ Adult';
            case 'child':
                return 'ðŸ‘¶ Child';
            case 'senior':
                return 'ðŸ‘´ Senior';
            default:
                return ageType;
        }
    };
    const getGuestTypeLabel = (guestType)=>{
        switch(guestType){
            case 'wedding_party':
                return 'ðŸ’ Wedding Party';
            case 'wedding_guest':
                return 'ðŸŽ‰ Wedding Guest';
            case 'prewedding_only':
                return 'ðŸŽŠ Pre-Wedding Only';
            case 'postwedding_only':
                return 'ðŸŽˆ Post-Wedding Only';
            default:
                return guestType;
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "min-h-screen bg-gradient-to-br from-jungle-50 via-ocean-50 to-sunset-50",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("header", {
                className: "bg-white shadow-sm border-b border-sage-200",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                        className: "text-3xl font-bold text-jungle-700",
                                        children: "Family Information"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sage-600 mt-1",
                                        children: isAdult ? 'Manage your family group information' : 'View your information'
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                href: "/guest/dashboard",
                                className: "text-ocean-600 hover:text-ocean-700 font-medium",
                                children: "â† Back to Dashboard"
                            })
                        ]
                    })
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("main", {
                className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",
                children: [
                    !isAdult && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-ocean-50 border border-ocean-200 rounded-lg p-4 mb-6",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-ocean-800",
                            children: "â„¹ï¸ You can view and edit your own information. For changes to other family members, please ask an adult in your family."
                        })
                    }),
                    success && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-jungle-50 border border-jungle-200 rounded-lg p-4 mb-6",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                            className: "text-jungle-800",
                            children: [
                                "âœ“ ",
                                success
                            ]
                        })
                    }),
                    error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-volcano-50 border border-volcano-200 rounded-lg p-4 mb-6",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                            className: "text-volcano-800",
                            children: [
                                "âœ— ",
                                error
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "space-y-4",
                        children: familyMembers.map((member)=>{
                            const isEditing = editingId === member.id;
                            const canEditMember = canEdit(member);
                            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "p-6",
                                    children: isEditing ? /* Edit Mode */ /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "space-y-4",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                                className: "text-xl font-bold text-jungle-700 mb-4",
                                                children: [
                                                    "Editing: ",
                                                    member.first_name,
                                                    " ",
                                                    member.last_name
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                className: "block text-sm font-medium text-sage-700 mb-1",
                                                                children: "First Name"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                                type: "text",
                                                                value: editForm.first_name || '',
                                                                onChange: (e)=>setEditForm({
                                                                        ...editForm,
                                                                        first_name: e.target.value
                                                                    }),
                                                                className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500"
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                className: "block text-sm font-medium text-sage-700 mb-1",
                                                                children: "Last Name"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                                type: "text",
                                                                value: editForm.last_name || '',
                                                                onChange: (e)=>setEditForm({
                                                                        ...editForm,
                                                                        last_name: e.target.value
                                                                    }),
                                                                className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500"
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                className: "block text-sm font-medium text-sage-700 mb-1",
                                                                children: "Email"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                                type: "email",
                                                                value: editForm.email || '',
                                                                onChange: (e)=>setEditForm({
                                                                        ...editForm,
                                                                        email: e.target.value
                                                                    }),
                                                                className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500"
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                className: "block text-sm font-medium text-sage-700 mb-1",
                                                                children: "Phone"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                                type: "tel",
                                                                value: editForm.phone || '',
                                                                onChange: (e)=>setEditForm({
                                                                        ...editForm,
                                                                        phone: e.target.value
                                                                    }),
                                                                className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500"
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "md:col-span-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                className: "block text-sm font-medium text-sage-700 mb-1",
                                                                children: "Dietary Restrictions"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                                                                value: editForm.dietary_restrictions || '',
                                                                onChange: (e)=>setEditForm({
                                                                        ...editForm,
                                                                        dietary_restrictions: e.target.value
                                                                    }),
                                                                rows: 3,
                                                                className: "w-full px-3 py-2 border border-sage-300 rounded-lg focus:ring-2 focus:ring-jungle-500 focus:border-jungle-500",
                                                                placeholder: "Any dietary restrictions or allergies..."
                                                            })
                                                        ]
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center space-x-3 pt-4",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                        onClick: ()=>saveChanges(member.id),
                                                        disabled: saving,
                                                        className: "bg-jungle-600 hover:bg-jungle-700 disabled:bg-sage-400 text-white font-medium py-2 px-6 rounded-lg transition-colors",
                                                        children: saving ? 'Saving...' : 'Save Changes'
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                        onClick: cancelEditing,
                                                        disabled: saving,
                                                        className: "bg-sage-200 hover:bg-sage-300 disabled:bg-sage-100 text-sage-700 font-medium py-2 px-6 rounded-lg transition-colors",
                                                        children: "Cancel"
                                                    })
                                                ]
                                            })
                                        ]
                                    }) : /* View Mode */ /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-start justify-between mb-4",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                                                className: "text-xl font-bold text-jungle-700",
                                                                children: [
                                                                    member.first_name,
                                                                    " ",
                                                                    member.last_name,
                                                                    member.id === currentGuest.id && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                        className: "ml-2 text-sm font-normal text-ocean-600",
                                                                        children: "(You)"
                                                                    })
                                                                ]
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "flex items-center space-x-3 mt-2",
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                        className: "text-sm text-sage-600",
                                                                        children: getAgeTypeLabel(member.age_type)
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                        className: "text-sage-400",
                                                                        children: "â€¢"
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                        className: "text-sm text-sage-600",
                                                                        children: getGuestTypeLabel(member.guest_type)
                                                                    })
                                                                ]
                                                            })
                                                        ]
                                                    }),
                                                    canEditMember && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                        onClick: ()=>startEditing(member),
                                                        className: "bg-ocean-600 hover:bg-ocean-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",
                                                        children: "Edit"
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "font-medium text-sage-700",
                                                                children: "Email:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "ml-2 text-sage-600",
                                                                children: member.email || 'Not provided'
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "font-medium text-sage-700",
                                                                children: "Phone:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "ml-2 text-sage-600",
                                                                children: member.phone || 'Not provided'
                                                            })
                                                        ]
                                                    }),
                                                    member.dietary_restrictions && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "md:col-span-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "font-medium text-sage-700",
                                                                children: "Dietary Restrictions:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                className: "mt-1 text-sage-600",
                                                                children: member.dietary_restrictions
                                                            })
                                                        ]
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "mt-6 pt-6 border-t border-sage-200",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex items-center justify-between mb-3",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                                                className: "font-semibold text-sage-800",
                                                                children: "RSVP Status"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                                                onClick: ()=>toggleRsvpExpansion(member.id),
                                                                className: "text-ocean-600 hover:text-ocean-700 text-sm font-medium",
                                                                children: expandedRsvps.has(member.id) ? 'Hide Details' : 'Show Details'
                                                            })
                                                        ]
                                                    }),
                                                    (()=>{
                                                        const summary = getRsvpSummary(member.id);
                                                        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center space-x-4 text-sm",
                                                            children: [
                                                                summary.attending > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                    className: "text-jungle-700",
                                                                    children: [
                                                                        "âœ“ ",
                                                                        summary.attending,
                                                                        " Attending"
                                                                    ]
                                                                }),
                                                                summary.maybe > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                    className: "text-sunset-700",
                                                                    children: [
                                                                        "? ",
                                                                        summary.maybe,
                                                                        " Maybe"
                                                                    ]
                                                                }),
                                                                summary.declined > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                    className: "text-volcano-700",
                                                                    children: [
                                                                        "âœ— ",
                                                                        summary.declined,
                                                                        " Declined"
                                                                    ]
                                                                }),
                                                                summary.pending > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                    className: "text-sage-600",
                                                                    children: [
                                                                        "â—‹ ",
                                                                        summary.pending,
                                                                        " Pending"
                                                                    ]
                                                                }),
                                                                summary.total === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                    className: "text-sage-500",
                                                                    children: "No RSVPs yet"
                                                                })
                                                            ]
                                                        });
                                                    })(),
                                                    expandedRsvps.has(member.id) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "mt-4 space-y-2",
                                                        children: [
                                                            (rsvpsByGuest[member.id] || []).map((rsvp)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                                    className: `p-3 rounded-lg border ${getStatusBadgeColor(rsvp.status)}`,
                                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        className: "flex items-start justify-between",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                                className: "flex-1",
                                                                                children: [
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                                        className: "flex items-center space-x-2",
                                                                                        children: [
                                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                                                className: "font-medium",
                                                                                                children: getStatusIcon(rsvp.status)
                                                                                            }),
                                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                                                className: "font-medium",
                                                                                                children: rsvp.events?.name || rsvp.activities?.name || 'Unknown'
                                                                                            })
                                                                                        ]
                                                                                    }),
                                                                                    rsvp.guest_count && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                                                        className: "text-sm mt-1",
                                                                                        children: [
                                                                                            "Guest Count: ",
                                                                                            rsvp.guest_count
                                                                                        ]
                                                                                    }),
                                                                                    rsvp.dietary_notes && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                                                                        className: "text-sm mt-1",
                                                                                        children: [
                                                                                            "Dietary Notes: ",
                                                                                            rsvp.dietary_notes
                                                                                        ]
                                                                                    })
                                                                                ]
                                                                            }),
                                                                            canEditMember && /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                                                                                href: `/guest/rsvp?highlight=${rsvp.id}`,
                                                                                className: "text-sm text-ocean-600 hover:text-ocean-700 font-medium ml-4",
                                                                                children: "Edit"
                                                                            })
                                                                        ]
                                                                    })
                                                                }, rsvp.id)),
                                                            (rsvpsByGuest[member.id] || []).length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                                className: "text-sm text-sage-500 italic",
                                                                children: "No RSVPs recorded yet. Visit the Events or Activities page to RSVP."
                                                            })
                                                        ]
                                                    })
                                                ]
                                            })
                                        ]
                                    })
                                })
                            }, member.id);
                        })
                    }),
                    familyMembers.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "bg-white rounded-lg shadow-md p-8 text-center",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-sage-600",
                            children: "No family members found."
                        })
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9GYW1pbHlNYW5hZ2VyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUgeyBHdWVzdCB9IGZyb20gJ0AvdHlwZXMnO1xuXG5pbnRlcmZhY2UgRmFtaWx5TWFuYWdlclByb3BzIHtcbiAgY3VycmVudEd1ZXN0OiBHdWVzdDtcbiAgZmFtaWx5TWVtYmVyczogR3Vlc3RbXTtcbiAgcnN2cHNCeUd1ZXN0OiBSZWNvcmQ8c3RyaW5nLCBhbnlbXT47XG59XG5cbi8qKlxuICogRmFtaWx5IE1hbmFnZXIgQ29tcG9uZW50XG4gKiBcbiAqIE1hbmFnZXMgZmFtaWx5IGdyb3VwIGluZm9ybWF0aW9uIHdpdGggcm9sZS1iYXNlZCBhY2Nlc3M6XG4gKiAtIEFkdWx0cyBjYW4gdmlldyBhbmQgZWRpdCBhbGwgZmFtaWx5IG1lbWJlcnNcbiAqIC0gQ2hpbGRyZW4gY2FuIG9ubHkgdmlldyBhbmQgZWRpdCB0aGVpciBvd24gaW5mb3JtYXRpb25cbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxMy4yLCAxMy4zLCAxMy40XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGYW1pbHlNYW5hZ2VyKHsgY3VycmVudEd1ZXN0LCBmYW1pbHlNZW1iZXJzLCByc3Zwc0J5R3Vlc3QgfTogRmFtaWx5TWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IFtlZGl0aW5nSWQsIHNldEVkaXRpbmdJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRGb3JtLCBzZXRFZGl0Rm9ybV0gPSB1c2VTdGF0ZTxQYXJ0aWFsPEd1ZXN0Pj4oe30pO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3VjY2Vzcywgc2V0U3VjY2Vzc10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2V4cGFuZGVkUnN2cHMsIHNldEV4cGFuZGVkUnN2cHNdID0gdXNlU3RhdGU8U2V0PHN0cmluZz4+KG5ldyBTZXQoKSk7XG5cbiAgY29uc3QgaXNBZHVsdCA9IGN1cnJlbnRHdWVzdC5hZ2VfdHlwZSA9PT0gJ2FkdWx0JztcbiAgY29uc3QgY2FuRWRpdCA9IChtZW1iZXI6IEd1ZXN0KSA9PiB7XG4gICAgLy8gQWR1bHRzIGNhbiBlZGl0IGFsbCBmYW1pbHkgbWVtYmVycywgY2hpbGRyZW4gY2FuIG9ubHkgZWRpdCB0aGVtc2VsdmVzXG4gICAgcmV0dXJuIGlzQWR1bHQgfHwgbWVtYmVyLmlkID09PSBjdXJyZW50R3Vlc3QuaWQ7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlUnN2cEV4cGFuc2lvbiA9IChndWVzdElkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBuZXdFeHBhbmRlZCA9IG5ldyBTZXQoZXhwYW5kZWRSc3Zwcyk7XG4gICAgaWYgKG5ld0V4cGFuZGVkLmhhcyhndWVzdElkKSkge1xuICAgICAgbmV3RXhwYW5kZWQuZGVsZXRlKGd1ZXN0SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFeHBhbmRlZC5hZGQoZ3Vlc3RJZCk7XG4gICAgfVxuICAgIHNldEV4cGFuZGVkUnN2cHMobmV3RXhwYW5kZWQpO1xuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c0JhZGdlQ29sb3IgPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSAnYXR0ZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuICdiZy1qdW5nbGUtMTAwIHRleHQtanVuZ2xlLTgwMCBib3JkZXItanVuZ2xlLTMwMCc7XG4gICAgICBjYXNlICdkZWNsaW5lZCc6XG4gICAgICAgIHJldHVybiAnYmctdm9sY2Fuby0xMDAgdGV4dC12b2xjYW5vLTgwMCBib3JkZXItdm9sY2Fuby0zMDAnO1xuICAgICAgY2FzZSAnbWF5YmUnOlxuICAgICAgICByZXR1cm4gJ2JnLXN1bnNldC0xMDAgdGV4dC1zdW5zZXQtODAwIGJvcmRlci1zdW5zZXQtMzAwJztcbiAgICAgIGNhc2UgJ3BlbmRpbmcnOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICdiZy1zYWdlLTEwMCB0ZXh0LXNhZ2UtODAwIGJvcmRlci1zYWdlLTMwMCc7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXR1c0ljb24gPSAoc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSAnYXR0ZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuICfinJMnO1xuICAgICAgY2FzZSAnZGVjbGluZWQnOlxuICAgICAgICByZXR1cm4gJ+Kclyc7XG4gICAgICBjYXNlICdtYXliZSc6XG4gICAgICAgIHJldHVybiAnPyc7XG4gICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAn4peLJztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0UnN2cFN1bW1hcnkgPSAoZ3Vlc3RJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcnN2cHMgPSByc3Zwc0J5R3Vlc3RbZ3Vlc3RJZF0gfHwgW107XG4gICAgY29uc3QgYXR0ZW5kaW5nID0gcnN2cHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdhdHRlbmRpbmcnKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjbGluZWQgPSByc3Zwcy5maWx0ZXIociA9PiByLnN0YXR1cyA9PT0gJ2RlY2xpbmVkJykubGVuZ3RoO1xuICAgIGNvbnN0IG1heWJlID0gcnN2cHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdtYXliZScpLmxlbmd0aDtcbiAgICBjb25zdCBwZW5kaW5nID0gcnN2cHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdwZW5kaW5nJykubGVuZ3RoO1xuICAgIFxuICAgIHJldHVybiB7IGF0dGVuZGluZywgZGVjbGluZWQsIG1heWJlLCBwZW5kaW5nLCB0b3RhbDogcnN2cHMubGVuZ3RoIH07XG4gIH07XG5cbiAgY29uc3Qgc3RhcnRFZGl0aW5nID0gKG1lbWJlcjogR3Vlc3QpID0+IHtcbiAgICBpZiAoIWNhbkVkaXQobWVtYmVyKSkgcmV0dXJuO1xuICAgIFxuICAgIHNldEVkaXRpbmdJZChtZW1iZXIuaWQpO1xuICAgIHNldEVkaXRGb3JtKHtcbiAgICAgIGZpcnN0X25hbWU6IG1lbWJlci5maXJzdF9uYW1lLFxuICAgICAgbGFzdF9uYW1lOiBtZW1iZXIubGFzdF9uYW1lLFxuICAgICAgZW1haWw6IG1lbWJlci5lbWFpbCxcbiAgICAgIHBob25lOiBtZW1iZXIucGhvbmUsXG4gICAgICBkaWV0YXJ5X3Jlc3RyaWN0aW9uczogbWVtYmVyLmRpZXRhcnlfcmVzdHJpY3Rpb25zLFxuICAgIH0pO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldFN1Y2Nlc3MobnVsbCk7XG4gIH07XG5cbiAgY29uc3QgY2FuY2VsRWRpdGluZyA9ICgpID0+IHtcbiAgICBzZXRFZGl0aW5nSWQobnVsbCk7XG4gICAgc2V0RWRpdEZvcm0oe30pO1xuICAgIHNldEVycm9yKG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IHNhdmVDaGFuZ2VzID0gYXN5bmMgKG1lbWJlcklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBzZXRTdWNjZXNzKG51bGwpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2d1ZXN0L2ZhbWlseS8ke21lbWJlcklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZWRpdEZvcm0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgZmFtaWx5IG1lbWJlcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldFN1Y2Nlc3MoJ0ZhbWlseSBtZW1iZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICBzZXRFZGl0aW5nSWQobnVsbCk7XG4gICAgICBzZXRFZGl0Rm9ybSh7fSk7XG4gICAgICBcbiAgICAgIC8vIFJlbG9hZCBwYWdlIHRvIHNob3cgdXBkYXRlZCBkYXRhXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSwgMTUwMCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldEFnZVR5cGVMYWJlbCA9IChhZ2VUeXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKGFnZVR5cGUpIHtcbiAgICAgIGNhc2UgJ2FkdWx0JzpcbiAgICAgICAgcmV0dXJuICfwn5GkIEFkdWx0JztcbiAgICAgIGNhc2UgJ2NoaWxkJzpcbiAgICAgICAgcmV0dXJuICfwn5G2IENoaWxkJztcbiAgICAgIGNhc2UgJ3Nlbmlvcic6XG4gICAgICAgIHJldHVybiAn8J+RtCBTZW5pb3InO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFnZVR5cGU7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldEd1ZXN0VHlwZUxhYmVsID0gKGd1ZXN0VHlwZTogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoIChndWVzdFR5cGUpIHtcbiAgICAgIGNhc2UgJ3dlZGRpbmdfcGFydHknOlxuICAgICAgICByZXR1cm4gJ/Cfko0gV2VkZGluZyBQYXJ0eSc7XG4gICAgICBjYXNlICd3ZWRkaW5nX2d1ZXN0JzpcbiAgICAgICAgcmV0dXJuICfwn46JIFdlZGRpbmcgR3Vlc3QnO1xuICAgICAgY2FzZSAncHJld2VkZGluZ19vbmx5JzpcbiAgICAgICAgcmV0dXJuICfwn46KIFByZS1XZWRkaW5nIE9ubHknO1xuICAgICAgY2FzZSAncG9zdHdlZGRpbmdfb25seSc6XG4gICAgICAgIHJldHVybiAn8J+OiCBQb3N0LVdlZGRpbmcgT25seSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZ3Vlc3RUeXBlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tanVuZ2xlLTUwIHZpYS1vY2Vhbi01MCB0by1zdW5zZXQtNTBcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYiBib3JkZXItc2FnZS0yMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOCBweS02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1qdW5nbGUtNzAwXCI+RmFtaWx5IEluZm9ybWF0aW9uPC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTYwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAge2lzQWR1bHRcbiAgICAgICAgICAgICAgICAgID8gJ01hbmFnZSB5b3VyIGZhbWlseSBncm91cCBpbmZvcm1hdGlvbidcbiAgICAgICAgICAgICAgICAgIDogJ1ZpZXcgeW91ciBpbmZvcm1hdGlvbid9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgaHJlZj1cIi9ndWVzdC9kYXNoYm9hcmRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LW9jZWFuLTYwMCBob3Zlcjp0ZXh0LW9jZWFuLTcwMCBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOKGkCBCYWNrIHRvIERhc2hib2FyZFxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0byBweC00IHNtOnB4LTYgbGc6cHgtOCBweS04XCI+XG4gICAgICAgIHsvKiBBY2Nlc3MgQ29udHJvbCBOb3RpY2UgKi99XG4gICAgICAgIHshaXNBZHVsdCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1vY2Vhbi01MCBib3JkZXIgYm9yZGVyLW9jZWFuLTIwMCByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW9jZWFuLTgwMFwiPlxuICAgICAgICAgICAgICDihLnvuI8gWW91IGNhbiB2aWV3IGFuZCBlZGl0IHlvdXIgb3duIGluZm9ybWF0aW9uLiBGb3IgY2hhbmdlcyB0byBvdGhlciBmYW1pbHlcbiAgICAgICAgICAgICAgbWVtYmVycywgcGxlYXNlIGFzayBhbiBhZHVsdCBpbiB5b3VyIGZhbWlseS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU3VjY2VzcyBNZXNzYWdlICovfVxuICAgICAgICB7c3VjY2VzcyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1qdW5nbGUtNTAgYm9yZGVyIGJvcmRlci1qdW5nbGUtMjAwIHJvdW5kZWQtbGcgcC00IG1iLTZcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtanVuZ2xlLTgwMFwiPuKckyB7c3VjY2Vzc308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVycm9yIE1lc3NhZ2UgKi99XG4gICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy12b2xjYW5vLTUwIGJvcmRlciBib3JkZXItdm9sY2Fuby0yMDAgcm91bmRlZC1sZyBwLTQgbWItNlwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC12b2xjYW5vLTgwMFwiPuKclyB7ZXJyb3J9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBGYW1pbHkgTWVtYmVycyBMaXN0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIHtmYW1pbHlNZW1iZXJzLm1hcCgobWVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0VkaXRpbmcgPSBlZGl0aW5nSWQgPT09IG1lbWJlci5pZDtcbiAgICAgICAgICAgIGNvbnN0IGNhbkVkaXRNZW1iZXIgPSBjYW5FZGl0KG1lbWJlcik7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e21lbWJlci5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1tZCBib3JkZXIgYm9yZGVyLXNhZ2UtMjAwIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgLyogRWRpdCBNb2RlICovXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtanVuZ2xlLTcwMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBFZGl0aW5nOiB7bWVtYmVyLmZpcnN0X25hbWV9IHttZW1iZXIubGFzdF9uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2FnZS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpcnN0IE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0Rm9ybS5maXJzdF9uYW1lIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRGb3JtKHsgLi4uZWRpdEZvcm0sIGZpcnN0X25hbWU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1zYWdlLTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWp1bmdsZS01MDAgZm9jdXM6Ym9yZGVyLWp1bmdsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2FnZS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExhc3QgTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRGb3JtLmxhc3RfbmFtZSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0Rm9ybSh7IC4uLmVkaXRGb3JtLCBsYXN0X25hbWU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1zYWdlLTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWp1bmdsZS01MDAgZm9jdXM6Ym9yZGVyLWp1bmdsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtc2FnZS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRGb3JtLmVtYWlsIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRGb3JtKHsgLi4uZWRpdEZvcm0sIGVtYWlsOiBlLnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItc2FnZS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1qdW5nbGUtNTAwIGZvY3VzOmJvcmRlci1qdW5nbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdEZvcm0ucGhvbmUgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdEZvcm0oeyAuLi5lZGl0Rm9ybSwgcGhvbmU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1zYWdlLTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWp1bmdsZS01MDAgZm9jdXM6Ym9yZGVyLWp1bmdsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6Y29sLXNwYW4tMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWV0YXJ5IFJlc3RyaWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdEZvcm0uZGlldGFyeV9yZXN0cmljdGlvbnMgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdEZvcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5lZGl0Rm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlldGFyeV9yZXN0cmljdGlvbnM6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItc2FnZS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1qdW5nbGUtNTAwIGZvY3VzOmJvcmRlci1qdW5nbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFueSBkaWV0YXJ5IHJlc3RyaWN0aW9ucyBvciBhbGxlcmdpZXMuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBwdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNhdmVDaGFuZ2VzKG1lbWJlci5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWp1bmdsZS02MDAgaG92ZXI6YmctanVuZ2xlLTcwMCBkaXNhYmxlZDpiZy1zYWdlLTQwMCB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHB5LTIgcHgtNiByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3NhdmluZyA/ICdTYXZpbmcuLi4nIDogJ1NhdmUgQ2hhbmdlcyd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2FuY2VsRWRpdGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctc2FnZS0yMDAgaG92ZXI6Ymctc2FnZS0zMDAgZGlzYWJsZWQ6Ymctc2FnZS0xMDAgdGV4dC1zYWdlLTcwMCBmb250LW1lZGl1bSBweS0yIHB4LTYgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgLyogVmlldyBNb2RlICovXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1qdW5nbGUtNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21lbWJlci5maXJzdF9uYW1lfSB7bWVtYmVyLmxhc3RfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLmlkID09PSBjdXJyZW50R3Vlc3QuaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXNtIGZvbnQtbm9ybWFsIHRleHQtb2NlYW4tNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChZb3UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zYWdlLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEFnZVR5cGVMYWJlbChtZW1iZXIuYWdlX3R5cGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNDAwXCI+4oCiPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zYWdlLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldEd1ZXN0VHlwZUxhYmVsKG1lbWJlci5ndWVzdF90eXBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FuRWRpdE1lbWJlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzdGFydEVkaXRpbmcobWVtYmVyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1vY2Vhbi02MDAgaG92ZXI6Ymctb2NlYW4tNzAwIHRleHQtd2hpdGUgZm9udC1tZWRpdW0gcHktMiBweC00IHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zYWdlLTcwMFwiPkVtYWlsOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXNhZ2UtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge21lbWJlci5lbWFpbCB8fCAnTm90IHByb3ZpZGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwXCI+UGhvbmU6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtc2FnZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVtYmVyLnBob25lIHx8ICdOb3QgcHJvdmlkZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZW1iZXIuZGlldGFyeV9yZXN0cmljdGlvbnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNhZ2UtNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWV0YXJ5IFJlc3RyaWN0aW9uczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNhZ2UtNjAwXCI+e21lbWJlci5kaWV0YXJ5X3Jlc3RyaWN0aW9uc308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSU1ZQIFN0YXR1cyBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBwdC02IGJvcmRlci10IGJvcmRlci1zYWdlLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXNhZ2UtODAwXCI+UlNWUCBTdGF0dXM8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlUnN2cEV4cGFuc2lvbihtZW1iZXIuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtb2NlYW4tNjAwIGhvdmVyOnRleHQtb2NlYW4tNzAwIHRleHQtc20gZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGFuZGVkUnN2cHMuaGFzKG1lbWJlci5pZCkgPyAnSGlkZSBEZXRhaWxzJyA6ICdTaG93IERldGFpbHMnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IGdldFJzdnBTdW1tYXJ5KG1lbWJlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1bW1hcnkuYXR0ZW5kaW5nID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtanVuZ2xlLTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKckyB7c3VtbWFyeS5hdHRlbmRpbmd9IEF0dGVuZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1bW1hcnkubWF5YmUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zdW5zZXQtNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7c3VtbWFyeS5tYXliZX0gTWF5YmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdW1tYXJ5LmRlY2xpbmVkID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtdm9sY2Fuby03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinJcge3N1bW1hcnkuZGVjbGluZWR9IERlY2xpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c3VtbWFyeS5wZW5kaW5nID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2FnZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDil4sge3N1bW1hcnkucGVuZGluZ30gUGVuZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1bW1hcnkudG90YWwgPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNhZ2UtNTAwXCI+Tm8gUlNWUHMgeWV0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBFeHBhbmRlZCBSU1ZQIERldGFpbHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kZWRSc3Zwcy5oYXMobWVtYmVyLmlkKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHJzdnBzQnlHdWVzdFttZW1iZXIuaWRdIHx8IFtdKS5tYXAoKHJzdnApID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtyc3ZwLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyBib3JkZXIgJHtnZXRTdGF0dXNCYWRnZUNvbG9yKHJzdnAuc3RhdHVzKX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldFN0YXR1c0ljb24ocnN2cC5zdGF0dXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JzdnAuZXZlbnRzPy5uYW1lIHx8IHJzdnAuYWN0aXZpdGllcz8ubmFtZSB8fCAnVW5rbm93bid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JzdnAuZ3Vlc3RfY291bnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHdWVzdCBDb3VudDoge3JzdnAuZ3Vlc3RfY291bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cnN2cC5kaWV0YXJ5X25vdGVzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlldGFyeSBOb3Rlczoge3JzdnAuZGlldGFyeV9ub3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuRWRpdE1lbWJlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtgL2d1ZXN0L3JzdnA/aGlnaGxpZ2h0PSR7cnN2cC5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtb2NlYW4tNjAwIGhvdmVyOnRleHQtb2NlYW4tNzAwIGZvbnQtbWVkaXVtIG1sLTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHJzdnBzQnlHdWVzdFttZW1iZXIuaWRdIHx8IFtdKS5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNhZ2UtNTAwIGl0YWxpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBObyBSU1ZQcyByZWNvcmRlZCB5ZXQuIFZpc2l0IHRoZSBFdmVudHMgb3IgQWN0aXZpdGllcyBwYWdlIHRvIFJTVlAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2ZhbWlseU1lbWJlcnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LW1kIHAtOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTYwMFwiPk5vIGZhbWlseSBtZW1iZXJzIGZvdW5kLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvbWFpbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJGYW1pbHlNYW5hZ2VyIiwiY3VycmVudEd1ZXN0IiwiZmFtaWx5TWVtYmVycyIsInJzdnBzQnlHdWVzdCIsImVkaXRpbmdJZCIsInNldEVkaXRpbmdJZCIsInVzZVN0YXRlIiwiZWRpdEZvcm0iLCJzZXRFZGl0Rm9ybSIsInNhdmluZyIsInNldFNhdmluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzdWNjZXNzIiwic2V0U3VjY2VzcyIsImV4cGFuZGVkUnN2cHMiLCJzZXRFeHBhbmRlZFJzdnBzIiwiU2V0IiwiaXNBZHVsdCIsImFnZV90eXBlIiwiY2FuRWRpdCIsIm1lbWJlciIsImlkIiwidG9nZ2xlUnN2cEV4cGFuc2lvbiIsImd1ZXN0SWQiLCJuZXdFeHBhbmRlZCIsImhhcyIsImRlbGV0ZSIsImFkZCIsImdldFN0YXR1c0JhZGdlQ29sb3IiLCJzdGF0dXMiLCJnZXRTdGF0dXNJY29uIiwiZ2V0UnN2cFN1bW1hcnkiLCJyc3ZwcyIsImF0dGVuZGluZyIsImZpbHRlciIsInIiLCJsZW5ndGgiLCJkZWNsaW5lZCIsIm1heWJlIiwicGVuZGluZyIsInRvdGFsIiwic3RhcnRFZGl0aW5nIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImVtYWlsIiwicGhvbmUiLCJkaWV0YXJ5X3Jlc3RyaWN0aW9ucyIsImNhbmNlbEVkaXRpbmciLCJzYXZlQ2hhbmdlcyIsIm1lbWJlcklkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImpzb24iLCJtZXNzYWdlIiwic2V0VGltZW91dCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiZXJyIiwiRXJyb3IiLCJnZXRBZ2VUeXBlTGFiZWwiLCJhZ2VUeXBlIiwiZ2V0R3Vlc3RUeXBlTGFiZWwiLCJndWVzdFR5cGUiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJoMSIsInAiLCJhIiwiaHJlZiIsIm1haW4iLCJtYXAiLCJpc0VkaXRpbmciLCJjYW5FZGl0TWVtYmVyIiwiaDMiLCJsYWJlbCIsImlucHV0IiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0IiwidGV4dGFyZWEiLCJyb3dzIiwicGxhY2Vob2xkZXIiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwiZ3Vlc3RfdHlwZSIsImg0Iiwic3VtbWFyeSIsInJzdnAiLCJldmVudHMiLCJuYW1lIiwiYWN0aXZpdGllcyIsImd1ZXN0X2NvdW50IiwiZGlldGFyeV9ub3RlcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQW9CZ0JBOzs7ZUFBQUE7Ozs7dUJBbEJTO0FBa0JsQixTQUFTQSxjQUFjLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFFQyxZQUFZLEVBQXNCO0lBQzdGLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHQyxJQUFBQSxlQUFRLEVBQWdCO0lBQzFELE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHRixJQUFBQSxlQUFRLEVBQWlCLENBQUM7SUFDMUQsTUFBTSxDQUFDRyxRQUFRQyxVQUFVLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUNyQyxNQUFNLENBQUNLLE9BQU9DLFNBQVMsR0FBR04sSUFBQUEsZUFBUSxFQUFnQjtJQUNsRCxNQUFNLENBQUNPLFNBQVNDLFdBQVcsR0FBR1IsSUFBQUEsZUFBUSxFQUFnQjtJQUN0RCxNQUFNLENBQUNTLGVBQWVDLGlCQUFpQixHQUFHVixJQUFBQSxlQUFRLEVBQWMsSUFBSVc7SUFFcEUsTUFBTUMsVUFBVWpCLGFBQWFrQixRQUFRLEtBQUs7SUFDMUMsTUFBTUMsVUFBVSxDQUFDQztRQUNmLHdFQUF3RTtRQUN4RSxPQUFPSCxXQUFXRyxPQUFPQyxFQUFFLEtBQUtyQixhQUFhcUIsRUFBRTtJQUNqRDtJQUVBLE1BQU1DLHNCQUFzQixDQUFD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