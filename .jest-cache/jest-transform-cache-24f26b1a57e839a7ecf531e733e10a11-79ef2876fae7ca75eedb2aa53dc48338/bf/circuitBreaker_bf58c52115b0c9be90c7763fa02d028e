bf7047483a10af8472ad7e419b620510
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get CircuitBreaker () {
        return CircuitBreaker;
    },
    get getAllCircuitBreakerStats () {
        return getAllCircuitBreakerStats;
    },
    get getCircuitBreaker () {
        return getCircuitBreaker;
    },
    get resetAllCircuitBreakers () {
        return resetAllCircuitBreakers;
    }
});
class CircuitBreaker {
    constructor(config){
        this.state = 'closed';
        this.failures = 0;
        this.successes = 0;
        this.lastFailureTime = null;
        this.lastSuccessTime = null;
        this.nextAttemptTime = null;
        this.config = config;
    }
    /**
   * Gets current circuit breaker statistics.
   */ getStats() {
        return {
            state: this.state,
            failures: this.failures,
            successes: this.successes,
            lastFailureTime: this.lastFailureTime,
            lastSuccessTime: this.lastSuccessTime,
            nextAttemptTime: this.nextAttemptTime
        };
    }
    /**
   * Resets the circuit breaker to closed state.
   */ reset() {
        this.state = 'closed';
        this.failures = 0;
        this.successes = 0;
        this.lastFailureTime = null;
        this.lastSuccessTime = null;
        this.nextAttemptTime = null;
    }
    /**
   * Executes a function with circuit breaker protection.
   * 
   * @param fn - Async function to execute
   * @returns Result from the function or circuit breaker error
   */ async execute(fn) {
        // Check if circuit is open
        if (this.state === 'open') {
            const now = Date.now();
            // Check if timeout has elapsed
            if (this.nextAttemptTime && now < this.nextAttemptTime) {
                return {
                    success: false,
                    error: {
                        code: 'CIRCUIT_OPEN',
                        message: 'Circuit breaker is open, request blocked',
                        details: {
                            nextAttemptTime: this.nextAttemptTime,
                            waitTime: this.nextAttemptTime - now
                        }
                    }
                };
            }
            // Timeout elapsed, transition to half-open
            this.state = 'half-open';
            this.successes = 0;
        }
        try {
            // Execute the function
            const result = await fn();
            if (result.success) {
                this.onSuccess();
            } else {
                this.onFailure();
            }
            return result;
        } catch (error) {
            this.onFailure();
            return {
                success: false,
                error: {
                    code: 'EXECUTION_ERROR',
                    message: error instanceof Error ? error.message : 'Execution failed',
                    details: error
                }
            };
        }
    }
    /**
   * Handles successful execution.
   */ onSuccess() {
        this.lastSuccessTime = Date.now();
        this.failures = 0;
        if (this.state === 'half-open') {
            this.successes++;
            // If enough successes in half-open, close the circuit
            if (this.successes >= this.config.successThreshold) {
                this.state = 'closed';
                this.successes = 0;
                this.nextAttemptTime = null;
            }
        }
    }
    /**
   * Handles failed execution.
   */ onFailure() {
        this.lastFailureTime = Date.now();
        this.failures++;
        if (this.state === 'half-open') {
            // Any failure in half-open reopens the circuit
            this.state = 'open';
            this.successes = 0;
            this.nextAttemptTime = Date.now() + this.config.timeout;
        } else if (this.state === 'closed') {
            // Check if failure threshold reached
            if (this.failures >= this.config.failureThreshold) {
                this.state = 'open';
                this.nextAttemptTime = Date.now() + this.config.timeout;
            }
        }
    }
}
/**
 * Global circuit breakers for external services.
 */ const circuitBreakers = new Map();
function getCircuitBreaker(serviceName, config) {
    if (!circuitBreakers.has(serviceName)) {
        const defaultConfig = {
            failureThreshold: 5,
            successThreshold: 2,
            timeout: 60000,
            resetTimeout: 300000
        };
        circuitBreakers.set(serviceName, new CircuitBreaker({
            ...defaultConfig,
            ...config
        }));
    }
    return circuitBreakers.get(serviceName);
}
function resetAllCircuitBreakers() {
    circuitBreakers.forEach((breaker)=>breaker.reset());
}
function getAllCircuitBreakerStats() {
    const stats = {};
    circuitBreakers.forEach((breaker, serviceName)=>{
        stats[serviceName] = breaker.getStats();
    });
    return stats;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvdXRpbHMvY2lyY3VpdEJyZWFrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZXN1bHQgfSBmcm9tICdAL3R5cGVzJztcblxuLyoqXG4gKiBDaXJjdWl0IGJyZWFrZXIgc3RhdGVzLlxuICovXG5leHBvcnQgdHlwZSBDaXJjdWl0U3RhdGUgPSAnY2xvc2VkJyB8ICdvcGVuJyB8ICdoYWxmLW9wZW4nO1xuXG4vKipcbiAqIENpcmN1aXQgYnJlYWtlciBjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1aXRCcmVha2VyQ29uZmlnIHtcbiAgZmFpbHVyZVRocmVzaG9sZDogbnVtYmVyOyAvLyBOdW1iZXIgb2YgZmFpbHVyZXMgYmVmb3JlIG9wZW5pbmcgY2lyY3VpdFxuICBzdWNjZXNzVGhyZXNob2xkOiBudW1iZXI7IC8vIE51bWJlciBvZiBzdWNjZXNzZXMgaW4gaGFsZi1vcGVuIGJlZm9yZSBjbG9zaW5nXG4gIHRpbWVvdXQ6IG51bWJlcjsgLy8gVGltZSBpbiBtcyBiZWZvcmUgYXR0ZW1wdGluZyB0byBjbG9zZSBjaXJjdWl0XG4gIHJlc2V0VGltZW91dD86IG51bWJlcjsgLy8gVGltZSBpbiBtcyB0byByZXNldCBmYWlsdXJlIGNvdW50XG59XG5cbi8qKlxuICogQ2lyY3VpdCBicmVha2VyIHN0YXRpc3RpY3MuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2lyY3VpdEJyZWFrZXJTdGF0cyB7XG4gIHN0YXRlOiBDaXJjdWl0U3RhdGU7XG4gIGZhaWx1cmVzOiBudW1iZXI7XG4gIHN1Y2Nlc3NlczogbnVtYmVyO1xuICBsYXN0RmFpbHVyZVRpbWU6IG51bWJlciB8IG51bGw7XG4gIGxhc3RTdWNjZXNzVGltZTogbnVtYmVyIHwgbnVsbDtcbiAgbmV4dEF0dGVtcHRUaW1lOiBudW1iZXIgfCBudWxsO1xufVxuXG4vKipcbiAqIENpcmN1aXQgYnJlYWtlciBpbXBsZW1lbnRhdGlvbiBmb3IgcHJvdGVjdGluZyBleHRlcm5hbCBzZXJ2aWNlIGNhbGxzLlxuICogXG4gKiBTdGF0ZXM6XG4gKiAtIENsb3NlZDogTm9ybWFsIG9wZXJhdGlvbiwgcmVxdWVzdHMgcGFzcyB0aHJvdWdoXG4gKiAtIE9wZW46IFRvbyBtYW55IGZhaWx1cmVzLCByZXF1ZXN0cyBmYWlsIGZhc3RcbiAqIC0gSGFsZi1PcGVuOiBUZXN0aW5nIGlmIHNlcnZpY2UgcmVjb3ZlcmVkLCBsaW1pdGVkIHJlcXVlc3RzIHBhc3MgdGhyb3VnaFxuICogXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYnJlYWtlciA9IG5ldyBDaXJjdWl0QnJlYWtlcih7XG4gKiAgIGZhaWx1cmVUaHJlc2hvbGQ6IDUsXG4gKiAgIHN1Y2Nlc3NUaHJlc2hvbGQ6IDIsXG4gKiAgIHRpbWVvdXQ6IDYwMDAwLFxuICogfSk7XG4gKiBcbiAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGJyZWFrZXIuZXhlY3V0ZShhc3luYyAoKSA9PiB7XG4gKiAgIHJldHVybiBhd2FpdCBleHRlcm5hbFNlcnZpY2UuY2FsbCgpO1xuICogfSk7XG4gKi9cbmV4cG9ydCBjbGFzcyBDaXJjdWl0QnJlYWtlciB7XG4gIHByaXZhdGUgc3RhdGU6IENpcmN1aXRTdGF0ZSA9ICdjbG9zZWQnO1xuICBwcml2YXRlIGZhaWx1cmVzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHN1Y2Nlc3NlczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0RmFpbHVyZVRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGxhc3RTdWNjZXNzVGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbmV4dEF0dGVtcHRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjb25maWc6IENpcmN1aXRCcmVha2VyQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ2lyY3VpdEJyZWFrZXJDb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGN1cnJlbnQgY2lyY3VpdCBicmVha2VyIHN0YXRpc3RpY3MuXG4gICAqL1xuICBwdWJsaWMgZ2V0U3RhdHMoKTogQ2lyY3VpdEJyZWFrZXJTdGF0cyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgZmFpbHVyZXM6IHRoaXMuZmFpbHVyZXMsXG4gICAgICBzdWNjZXNzZXM6IHRoaXMuc3VjY2Vzc2VzLFxuICAgICAgbGFzdEZhaWx1cmVUaW1lOiB0aGlzLmxhc3RGYWlsdXJlVGltZSxcbiAgICAgIGxhc3RTdWNjZXNzVGltZTogdGhpcy5sYXN0U3VjY2Vzc1RpbWUsXG4gICAgICBuZXh0QXR0ZW1wdFRpbWU6IHRoaXMubmV4dEF0dGVtcHRUaW1lLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBjaXJjdWl0IGJyZWFrZXIgdG8gY2xvc2VkIHN0YXRlLlxuICAgKi9cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUgPSAnY2xvc2VkJztcbiAgICB0aGlzLmZhaWx1cmVzID0gMDtcbiAgICB0aGlzLnN1Y2Nlc3NlcyA9IDA7XG4gICAgdGhpcy5sYXN0RmFpbHVyZVRpbWUgPSBudWxsO1xuICAgIHRoaXMubGFzdFN1Y2Nlc3NUaW1lID0gbnVsbDtcbiAgICB0aGlzLm5leHRBdHRlbXB0VGltZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aXRoIGNpcmN1aXQgYnJlYWtlciBwcm90ZWN0aW9uLlxuICAgKiBcbiAgICogQHBhcmFtIGZuIC0gQXN5bmMgZnVuY3Rpb24gdG8gZXhlY3V0ZVxuICAgKiBAcmV0dXJucyBSZXN1bHQgZnJvbSB0aGUgZnVuY3Rpb24gb3IgY2lyY3VpdCBicmVha2VyIGVycm9yXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZXhlY3V0ZTxUPihmbjogKCkgPT4gUHJvbWlzZTxSZXN1bHQ8VD4+KTogUHJvbWlzZTxSZXN1bHQ8VD4+IHtcbiAgICAvLyBDaGVjayBpZiBjaXJjdWl0IGlzIG9wZW5cbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aW1lb3V0IGhhcyBlbGFwc2VkXG4gICAgICBpZiAodGhpcy5uZXh0QXR0ZW1wdFRpbWUgJiYgbm93IDwgdGhpcy5uZXh0QXR0ZW1wdFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogJ0NJUkNVSVRfT1BFTicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ2lyY3VpdCBicmVha2VyIGlzIG9wZW4sIHJlcXVlc3QgYmxvY2tlZCcsXG4gICAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICAgIG5leHRBdHRlbXB0VGltZTogdGhpcy5uZXh0QXR0ZW1wdFRpbWUsXG4gICAgICAgICAgICAgIHdhaXRUaW1lOiB0aGlzLm5leHRBdHRlbXB0VGltZSAtIG5vdyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVGltZW91dCBlbGFwc2VkLCB0cmFuc2l0aW9uIHRvIGhhbGYtb3BlblxuICAgICAgdGhpcy5zdGF0ZSA9ICdoYWxmLW9wZW4nO1xuICAgICAgdGhpcy5zdWNjZXNzZXMgPSAwO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBFeGVjdXRlIHRoZSBmdW5jdGlvblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oKTtcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMub25TdWNjZXNzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uRmFpbHVyZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm9uRmFpbHVyZSgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnRVhFQ1VUSU9OX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFeGVjdXRpb24gZmFpbGVkJyxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvcixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgc3VjY2Vzc2Z1bCBleGVjdXRpb24uXG4gICAqL1xuICBwcml2YXRlIG9uU3VjY2VzcygpOiB2b2lkIHtcbiAgICB0aGlzLmxhc3RTdWNjZXNzVGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5mYWlsdXJlcyA9IDA7XG5cbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2hhbGYtb3BlbicpIHtcbiAgICAgIHRoaXMuc3VjY2Vzc2VzKys7XG4gICAgICBcbiAgICAgIC8vIElmIGVub3VnaCBzdWNjZXNzZXMgaW4gaGFsZi1vcGVuLCBjbG9zZSB0aGUgY2lyY3VpdFxuICAgICAgaWYgKHRoaXMuc3VjY2Vzc2VzID49IHRoaXMuY29uZmlnLnN1Y2Nlc3NUaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdjbG9zZWQnO1xuICAgICAgICB0aGlzLnN1Y2Nlc3NlcyA9IDA7XG4gICAgICAgIHRoaXMubmV4dEF0dGVtcHRUaW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBmYWlsZWQgZXhlY3V0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBvbkZhaWx1cmUoKTogdm9pZCB7XG4gICAgdGhpcy5sYXN0RmFpbHVyZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuZmFpbHVyZXMrKztcblxuICAgIGlmICh0aGlzLnN0YXRlID09PSAnaGFsZi1vcGVuJykge1xuICAgICAgLy8gQW55IGZhaWx1cmUgaW4gaGFsZi1vcGVuIHJlb3BlbnMgdGhlIGNpcmN1aXRcbiAgICAgIHRoaXMuc3RhdGUgPSAnb3Blbic7XG4gICAgICB0aGlzLnN1Y2Nlc3NlcyA9IDA7XG4gICAgICB0aGlzLm5leHRBdHRlbXB0VGltZSA9IERhdGUubm93KCkgKyB0aGlzLmNvbmZpZy50aW1lb3V0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgIC8vIENoZWNrIGlmIGZhaWx1cmUgdGhyZXNob2xkIHJlYWNoZWRcbiAgICAgIGlmICh0aGlzLmZhaWx1cmVzID49IHRoaXMuY29uZmlnLmZhaWx1cmVUaHJlc2hvbGQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdvcGVuJztcbiAgICAgICAgdGhpcy5uZXh0QXR0ZW1wdFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5jb25maWcudGltZW91dDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHbG9iYWwgY2lyY3VpdCBicmVha2VycyBmb3IgZXh0ZXJuYWwgc2VydmljZXMuXG4gKi9cbmNvbnN0IGNpcmN1aXRCcmVha2VycyA9IG5ldyBNYXA8c3RyaW5nLCBDaXJjdWl0QnJlYWtlcj4oKTtcblxuLyoqXG4gKiBHZXRzIG9yIGNyZWF0ZXMgYSBjaXJjdWl0IGJyZWFrZXIgZm9yIGEgc2VydmljZS5cbiAqIFxuICogQHBhcmFtIHNlcnZpY2VOYW1lIC0gTmFtZSBvZiB0aGUgZXh0ZXJuYWwgc2VydmljZVxuICogQHBhcmFtIGNvbmZpZyAtIENpcmN1aXQgYnJlYWtlciBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyBDaXJjdWl0IGJyZWFrZXIgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENpcmN1aXRCcmVha2VyKFxuICBzZXJ2aWNlTmFtZTogc3RyaW5nLFxuICBjb25maWc/OiBQYXJ0aWFsPENpcmN1aXRCcmVha2VyQ29uZmlnPlxuKTogQ2lyY3VpdEJyZWFrZXIge1xuICBpZiAoIWNpcmN1aXRCcmVha2Vycy5oYXMoc2VydmljZU5hbWUpKSB7XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZzogQ2lyY3VpdEJyZWFrZXJDb25maWcgPSB7XG4gICAgICBmYWlsdXJlVGhyZXNob2xkOiA1LFxuICAgICAgc3VjY2Vzc1RocmVzaG9sZDogMixcbiAgICAgIHRpbWVvdXQ6IDYwMDAwLCAvLyAxIG1pbnV0ZVxuICAgICAgcmVzZXRUaW1lb3V0OiAzMDAwMDAsIC8vIDUgbWludXRlc1xuICAgIH07XG5cbiAgICBjaXJjdWl0QnJlYWtlcnMuc2V0KFxuICAgICAgc2VydmljZU5hbWUsXG4gICAgICBuZXcgQ2lyY3VpdEJyZWFrZXIoeyAuLi5kZWZhdWx0Q29uZmlnLCAuLi5jb25maWcgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNpcmN1aXRCcmVha2Vycy5nZXQoc2VydmljZU5hbWUpITtcbn1cblxuLyoqXG4gKiBSZXNldHMgYWxsIGNpcmN1aXQgYnJlYWtlcnMuXG4gKiBVc2VmdWwgZm9yIHRlc3Rpbmcgb3IgbWFudWFsIHJlY292ZXJ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRBbGxDaXJjdWl0QnJlYWtlcnMoKTogdm9pZCB7XG4gIGNpcmN1aXRCcmVha2Vycy5mb3JFYWNoKChicmVha2VyKSA9PiBicmVha2VyLnJlc2V0KCkpO1xufVxuXG4vKipcbiAqIEdldHMgc3RhdGlzdGljcyBmb3IgYWxsIGNpcmN1aXQgYnJlYWtlcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDaXJjdWl0QnJlYWtlclN0YXRzKCk6IFJlY29yZDxzdHJpbmcsIENpcmN1aXRCcmVha2VyU3RhdHM+IHtcbiAgY29uc3Qgc3RhdHM6IFJlY29yZDxzdHJpbmcsIENpcmN1aXRCcmVha2VyU3RhdHM+ID0ge307XG4gIFxuICBjaXJjdWl0QnJlYWtlcnMuZm9yRWFjaCgoYnJlYWtlciwgc2VydmljZU5hbWUpID0+IHtcbiAgICBzdGF0c1tzZXJ2aWNlTmFtZV0gPSBicmVha2VyLmdldFN0YXRzKCk7XG4gIH0pO1xuICBcbiAgcmV0dXJuIHN0YXRzO1xufVxuIl0sIm5hbWVzIjpbIkNpcmN1aXRCcmVha2VyIiwiZ2V0QWxsQ2lyY3VpdEJyZWFrZXJTdGF0cyIsImdldENpcmN1aXRCcmVha2VyIiwicmVzZXRBbGxDaXJjdWl0QnJlYWtlcnMiLCJjb25maWciLCJzdGF0ZSIsImZhaWx1cmVzIiwic3VjY2Vzc2VzIiwibGFzdEZhaWx1cmVUaW1lIiwibGFzdFN1Y2Nlc3NUaW1lIiwibmV4dEF0dGVtcHRUaW1lIiwiZ2V0U3RhdHMiLCJyZXNldCIsImV4ZWN1dGUiLCJmbiIsIm5vdyIsIkRhdGUiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImRldGFpbHMiLCJ3YWl0VGltZSIsInJlc3VsdCIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIkVycm9yIiwic3VjY2Vzc1RocmVzaG9sZCIsInRpbWVvdXQiLCJmYWlsdXJlVGhyZXNob2xkIiwiY2lyY3VpdEJyZWFrZXJzIiwiTWFwIiwic2VydmljZU5hbWUiLCJoYXMiLCJkZWZhdWx0Q29uZmlnIiwicmVzZXRUaW1lb3V0Iiwic2V0IiwiZ2V0IiwiZm9yRWFjaCIsImJyZWFrZXIiLCJzdGF0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7UUFnRGFBO2VBQUFBOztRQW9MR0M7ZUFBQUE7O1FBaENBQztlQUFBQTs7UUF5QkFDO2VBQUFBOzs7QUE3S1QsTUFBTUg7SUFTWCxZQUFZSSxNQUE0QixDQUFFO2FBUmxDQyxRQUFzQjthQUN0QkMsV0FBbUI7YUFDbkJDLFlBQW9CO2FBQ3BCQyxrQkFBaUM7YUFDakNDLGtCQUFpQzthQUNqQ0Msa0JBQWlDO1FBSXZDLElBQUksQ0FBQ04sTUFBTSxHQUFHQTtJQUNoQjtJQUVBOztHQUVDLEdBQ0QsQUFBT08sV0FBZ0M7UUFDckMsT0FBTztZ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