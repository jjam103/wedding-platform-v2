a88a59b6ea52480194760c5db2e71a53
/**
 * Integration Tests: Reference API Routes
 * 
 * Tests the reference validation and preview API endpoints:
 * - POST /api/admin/references/validate - Validates references and detects circular references
 * - GET /api/admin/references/[type]/[id] - Returns preview data for references
 * 
 * Requirements: 21.8, 21.9, 25.2, 25.3, 25.6, 25.7
 * 
 * CRITICAL: Mock services at module level to avoid worker crashes
 */ "use strict";
// Mock services at module level
jest.mock('@/services/sectionsService', ()=>({
        validateReferences: jest.fn(),
        detectCircularReferences: jest.fn()
    }));
jest.mock('@supabase/auth-helpers-nextjs', ()=>({
        createRouteHandlerClient: jest.fn(()=>({
                auth: {
                    getSession: jest.fn()
                },
                from: jest.fn()
            }))
    }));
jest.mock('next/headers', ()=>({
        cookies: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _route = require("../../app/api/admin/references/validate/route");
const _route1 = require("../../app/api/admin/references/[type]/[id]/route");
describe('Reference API Integration Tests', ()=>{
    let mockSession;
    let mockSupabase;
    beforeEach(()=>{
        jest.clearAllMocks();
        // Setup mock session
        mockSession = {
            user: {
                id: 'test-user-id',
                email: 'test@example.com'
            },
            access_token: 'test-token'
        };
        // Setup mock Supabase client
        const { createRouteHandlerClient } = require('@supabase/auth-helpers-nextjs');
        mockSupabase = {
            auth: {
                getSession: jest.fn().mockResolvedValue({
                    data: {
                        session: mockSession
                    },
                    error: null
                })
            },
            from: jest.fn().mockReturnThis(),
            select: jest.fn().mockReturnThis(),
            eq: jest.fn().mockReturnThis(),
            single: jest.fn()
        };
        createRouteHandlerClient.mockReturnValue(mockSupabase);
    });
    describe('POST /api/admin/references/validate', ()=>{
        it('should validate references successfully when all exist', async ()=>{
            const sectionsService = require('@/services/sectionsService');
            sectionsService.validateReferences.mockResolvedValue({
                success: true,
                data: {
                    valid: true,
                    brokenReferences: [],
                    circularReferences: []
                }
            });
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    references: [
                        {
                            type: 'event',
                            id: '123e4567-e89b-12d3-a456-426614174000',
                            name: 'Wedding Ceremony'
                        },
                        {
                            type: 'activity',
                            id: '223e4567-e89b-12d3-a456-426614174000',
                            name: 'Beach Party'
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.valid).toBe(true);
            expect(data.data.brokenReferences).toEqual([]);
            expect(sectionsService.validateReferences).toHaveBeenCalledWith([
                {
                    type: 'event',
                    id: '123e4567-e89b-12d3-a456-426614174000',
                    name: 'Wedding Ceremony'
                },
                {
                    type: 'activity',
                    id: '223e4567-e89b-12d3-a456-426614174000',
                    name: 'Beach Party'
                }
            ]);
        });
        it('should detect broken references', async ()=>{
            const sectionsService = require('@/services/sectionsService');
            sectionsService.validateReferences.mockResolvedValue({
                success: true,
                data: {
                    valid: false,
                    brokenReferences: [
                        {
                            type: 'event',
                            id: '123e4567-e89b-12d3-a456-426614174000',
                            name: 'Deleted Event'
                        }
                    ],
                    circularReferences: []
                }
            });
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    references: [
                        {
                            type: 'event',
                            id: '123e4567-e89b-12d3-a456-426614174000',
                            name: 'Deleted Event'
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.valid).toBe(false);
            expect(data.data.brokenReferences).toHaveLength(1);
            expect(data.data.brokenReferences[0].name).toBe('Deleted Event');
        });
        it('should detect circular references', async ()=>{
            const sectionsService = require('@/services/sectionsService');
            sectionsService.detectCircularReferences.mockResolvedValue({
                success: true,
                data: true
            });
            sectionsService.validateReferences.mockResolvedValue({
                success: true,
                data: {
                    valid: true,
                    brokenReferences: [],
                    circularReferences: []
                }
            });
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    pageId: '323e4567-e89b-12d3-a456-426614174000',
                    pageType: 'custom',
                    references: [
                        {
                            type: 'content_page',
                            id: '423e4567-e89b-12d3-a456-426614174000',
                            name: 'Page A'
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.valid).toBe(false);
            expect(data.data.hasCircularReference).toBe(true);
            expect(sectionsService.detectCircularReferences).toHaveBeenCalledWith('323e4567-e89b-12d3-a456-426614174000', [
                {
                    type: 'content_page',
                    id: '423e4567-e89b-12d3-a456-426614174000',
                    name: 'Page A'
                }
            ]);
        });
        it('should return 401 when not authenticated', async ()=>{
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    references: []
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
        it('should return 400 when validation fails', async ()=>{
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    references: [
                        {
                            type: 'invalid_type',
                            id: 'not-a-uuid',
                            name: 'Invalid'
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
        it('should handle service errors gracefully', async ()=>{
            const sectionsService = require('@/services/sectionsService');
            sectionsService.validateReferences.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database connection failed'
                }
            });
            const request = new Request('http://localhost:3000/api/admin/references/validate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    references: [
                        {
                            type: 'event',
                            id: '123e4567-e89b-12d3-a456-426614174000',
                            name: 'Test Event'
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
    });
    describe('GET /api/admin/references/[type]/[id]', ()=>{
        it('should return event preview data', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: {
                                id: '123e4567-e89b-12d3-a456-426614174000',
                                name: 'Wedding Ceremony',
                                slug: 'wedding-ceremony',
                                is_active: true,
                                start_time: '2024-06-15T14:00:00Z',
                                end_time: '2024-06-15T15:00:00Z',
                                description: 'The main wedding ceremony',
                                event_type: 'ceremony',
                                locations: {
                                    name: 'Beach Venue'
                                }
                            },
                            error: null
                        })
                    })
                })
            });
            const request = new Request('http://localhost:3000/api/admin/references/event/123e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'event',
                id: '123e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.id).toBe('123e4567-e89b-12d3-a456-426614174000');
            expect(data.data.name).toBe('Wedding Ceremony');
            expect(data.data.type).toBe('event');
            expect(data.data.details.eventType).toBe('ceremony');
            expect(data.data.details.location).toBe('Beach Venue');
        });
        it('should return activity preview data with RSVP count', async ()=>{
            mockSupabase.from.mockImplementation((table)=>{
                if (table === 'activities') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnValue({
                                single: jest.fn().mockResolvedValue({
                                    data: {
                                        id: '223e4567-e89b-12d3-a456-426614174000',
                                        name: 'Beach Party',
                                        slug: 'beach-party',
                                        capacity: 50,
                                        start_time: '2024-06-16T18:00:00Z',
                                        end_time: '2024-06-16T22:00:00Z',
                                        description: 'Fun beach party',
                                        activity_type: 'social',
                                        cost_per_person: 25.00,
                                        locations: {
                                            name: 'Beach Club'
                                        }
                                    },
                                    error: null
                                })
                            })
                        })
                    };
                } else if (table === 'rsvps') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnThis()
                        })
                    };
                }
                return mockSupabase;
            });
            const request = new Request('http://localhost:3000/api/admin/references/activity/223e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'activity',
                id: '223e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.name).toBe('Beach Party');
            expect(data.data.type).toBe('activity');
            expect(data.data.details.capacity).toBe(50);
            expect(data.data.details.costPerPerson).toBe(25.00);
        });
        it('should return content page preview data', async ()=>{
            mockSupabase.from.mockImplementation((table)=>{
                if (table === 'content_pages') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnValue({
                                single: jest.fn().mockResolvedValue({
                                    data: {
                                        id: '323e4567-e89b-12d3-a456-426614174000',
                                        title: 'Our Story',
                                        slug: 'our-story',
                                        status: 'published',
                                        created_at: '2024-01-01T00:00:00Z',
                                        updated_at: '2024-01-15T00:00:00Z'
                                    },
                                    error: null
                                })
                            })
                        })
                    };
                } else if (table === 'content_sections') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnThis()
                        })
                    };
                }
                return mockSupabase;
            });
            const request = new Request('http://localhost:3000/api/admin/references/content_page/323e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'content_page',
                id: '323e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.name).toBe('Our Story');
            expect(data.data.type).toBe('content_page');
            expect(data.data.slug).toBe('our-story');
            expect(data.data.status).toBe('published');
        });
        it('should return accommodation preview data', async ()=>{
            mockSupabase.from.mockImplementation((table)=>{
                if (table === 'accommodations') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnValue({
                                single: jest.fn().mockResolvedValue({
                                    data: {
                                        id: '423e4567-e89b-12d3-a456-426614174000',
                                        name: 'Beach Resort',
                                        slug: 'beach-resort',
                                        check_in_date: '2024-06-14',
                                        check_out_date: '2024-06-17',
                                        description: 'Luxury beach resort',
                                        address: '123 Beach Road',
                                        locations: {
                                            name: 'Coastal Area'
                                        }
                                    },
                                    error: null
                                })
                            })
                        })
                    };
                } else if (table === 'room_types') {
                    return {
                        select: jest.fn().mockReturnValue({
                            eq: jest.fn().mockReturnThis()
                        })
                    };
                }
                return mockSupabase;
            });
            const request = new Request('http://localhost:3000/api/admin/references/accommodation/423e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'accommodation',
                id: '423e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.name).toBe('Beach Resort');
            expect(data.data.type).toBe('accommodation');
            expect(data.data.details.address).toBe('123 Beach Road');
        });
        it('should return 401 when not authenticated', async ()=>{
            mockSupabase.auth.getSession.mockResolvedValue({
                data: {
                    session: null
                },
                error: null
            });
            const request = new Request('http://localhost:3000/api/admin/references/event/123e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'event',
                id: '123e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNAUTHORIZED');
        });
        it('should return 400 for invalid entity type', async ()=>{
            const request = new Request('http://localhost:3000/api/admin/references/invalid_type/123e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'invalid_type',
                id: '123e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
        it('should return 404 when entity not found', async ()=>{
            mockSupabase.from.mockReturnValue({
                select: jest.fn().mockReturnValue({
                    eq: jest.fn().mockReturnValue({
                        single: jest.fn().mockResolvedValue({
                            data: null,
                            error: {
                                code: 'PGRST116',
                                message: 'Not found'
                            }
                        })
                    })
                })
            });
            const request = new Request('http://localhost:3000/api/admin/references/event/999e4567-e89b-12d3-a456-426614174000');
            const params = Promise.resolve({
                type: 'event',
                id: '999e4567-e89b-12d3-a456-426614174000'
            });
            const response = await (0, _route1.GET)(request, {
                params
            });
            const data = await response.json();
            expect(response.status).toBe(404);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('NOT_FOUND');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL3JlZmVyZW5jZUFwaS5pbnRlZ3JhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZWdyYXRpb24gVGVzdHM6IFJlZmVyZW5jZSBBUEkgUm91dGVzXG4gKiBcbiAqIFRlc3RzIHRoZSByZWZlcmVuY2UgdmFsaWRhdGlvbiBhbmQgcHJldmlldyBBUEkgZW5kcG9pbnRzOlxuICogLSBQT1NUIC9hcGkvYWRtaW4vcmVmZXJlbmNlcy92YWxpZGF0ZSAtIFZhbGlkYXRlcyByZWZlcmVuY2VzIGFuZCBkZXRlY3RzIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAqIC0gR0VUIC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9bdHlwZV0vW2lkXSAtIFJldHVybnMgcHJldmlldyBkYXRhIGZvciByZWZlcmVuY2VzXG4gKiBcbiAqIFJlcXVpcmVtZW50czogMjEuOCwgMjEuOSwgMjUuMiwgMjUuMywgMjUuNiwgMjUuN1xuICogXG4gKiBDUklUSUNBTDogTW9jayBzZXJ2aWNlcyBhdCBtb2R1bGUgbGV2ZWwgdG8gYXZvaWQgd29ya2VyIGNyYXNoZXNcbiAqL1xuXG5pbXBvcnQgeyBQT1NUIGFzIHZhbGlkYXRlUmVmZXJlbmNlcyB9IGZyb20gJ0AvYXBwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL3ZhbGlkYXRlL3JvdXRlJztcbmltcG9ydCB7IEdFVCBhcyBnZXRQcmV2aWV3IH0gZnJvbSAnQC9hcHAvYXBpL2FkbWluL3JlZmVyZW5jZXMvW3R5cGVdL1tpZF0vcm91dGUnO1xuXG4vLyBNb2NrIHNlcnZpY2VzIGF0IG1vZHVsZSBsZXZlbFxuamVzdC5tb2NrKCdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZScsICgpID0+ICh7XG4gIHZhbGlkYXRlUmVmZXJlbmNlczogamVzdC5mbigpLFxuICBkZXRlY3RDaXJjdWxhclJlZmVyZW5jZXM6IGplc3QuZm4oKSxcbn0pKTtcblxuamVzdC5tb2NrKCdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcycsICgpID0+ICh7XG4gIGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGF1dGg6IHtcbiAgICAgIGdldFNlc3Npb246IGplc3QuZm4oKSxcbiAgICB9LFxuICAgIGZyb206IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ25leHQvaGVhZGVycycsICgpID0+ICh7XG4gIGNvb2tpZXM6IGplc3QuZm4oKSxcbn0pKTtcblxuZGVzY3JpYmUoJ1JlZmVyZW5jZSBBUEkgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGxldCBtb2NrU2Vzc2lvbjogYW55O1xuICBsZXQgbW9ja1N1cGFiYXNlOiBhbnk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAvLyBTZXR1cCBtb2NrIHNlc3Npb25cbiAgICBtb2NrU2Vzc2lvbiA9IHtcbiAgICAgIHVzZXI6IHsgaWQ6ICd0ZXN0LXVzZXItaWQnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXG4gICAgICBhY2Nlc3NfdG9rZW46ICd0ZXN0LXRva2VuJyxcbiAgICB9O1xuXG4gICAgLy8gU2V0dXAgbW9jayBTdXBhYmFzZSBjbGllbnRcbiAgICBjb25zdCB7IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCB9ID0gcmVxdWlyZSgnQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anMnKTtcbiAgICBtb2NrU3VwYWJhc2UgPSB7XG4gICAgICBhdXRoOiB7XG4gICAgICAgIGdldFNlc3Npb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgZGF0YTogeyBzZXNzaW9uOiBtb2NrU2Vzc2lvbiB9LFxuICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICB9O1xuICAgIGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudC5tb2NrUmV0dXJuVmFsdWUobW9ja1N1cGFiYXNlKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9hZG1pbi9yZWZlcmVuY2VzL3ZhbGlkYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVmZXJlbmNlcyBzdWNjZXNzZnVsbHkgd2hlbiBhbGwgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uc1NlcnZpY2UgPSByZXF1aXJlKCdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZScpO1xuICAgICAgc2VjdGlvbnNTZXJ2aWNlLnZhbGlkYXRlUmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICBicm9rZW5SZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgICBjaXJjdWxhclJlZmVyZW5jZXM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL3ZhbGlkYXRlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByZWZlcmVuY2VzOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdldmVudCcsIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ1dlZGRpbmcgQ2VyZW1vbnknIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdhY3Rpdml0eScsIGlkOiAnMjIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ0JlYWNoIFBhcnR5JyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdmFsaWRhdGVSZWZlcmVuY2VzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEudmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmJyb2tlblJlZmVyZW5jZXMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KHNlY3Rpb25zU2VydmljZS52YWxpZGF0ZVJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtcbiAgICAgICAgeyB0eXBlOiAnZXZlbnQnLCBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsIG5hbWU6ICdXZWRkaW5nIENlcmVtb255JyB9LFxuICAgICAgICB7IHR5cGU6ICdhY3Rpdml0eScsIGlkOiAnMjIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ0JlYWNoIFBhcnR5JyB9LFxuICAgICAgXSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRldGVjdCBicm9rZW4gcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNlY3Rpb25zU2VydmljZSA9IHJlcXVpcmUoJ0Avc2VydmljZXMvc2VjdGlvbnNTZXJ2aWNlJyk7XG4gICAgICBzZWN0aW9uc1NlcnZpY2UudmFsaWRhdGVSZWZlcmVuY2VzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICBicm9rZW5SZWZlcmVuY2VzOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdldmVudCcsIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ0RlbGV0ZWQgRXZlbnQnIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjaXJjdWxhclJlZmVyZW5jZXM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL3ZhbGlkYXRlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICByZWZlcmVuY2VzOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdldmVudCcsIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ0RlbGV0ZWQgRXZlbnQnIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB2YWxpZGF0ZVJlZmVyZW5jZXMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmJyb2tlblJlZmVyZW5jZXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuYnJva2VuUmVmZXJlbmNlc1swXS5uYW1lKS50b0JlKCdEZWxldGVkIEV2ZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRldGVjdCBjaXJjdWxhciByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VjdGlvbnNTZXJ2aWNlID0gcmVxdWlyZSgnQC9zZXJ2aWNlcy9zZWN0aW9uc1NlcnZpY2UnKTtcbiAgICAgIHNlY3Rpb25zU2VydmljZS5kZXRlY3RDaXJjdWxhclJlZmVyZW5jZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB0cnVlLCAvLyBDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWRcbiAgICAgIH0pO1xuICAgICAgc2VjdGlvbnNTZXJ2aWNlLnZhbGlkYXRlUmVmZXJlbmNlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICBicm9rZW5SZWZlcmVuY2VzOiBbXSxcbiAgICAgICAgICBjaXJjdWxhclJlZmVyZW5jZXM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL3ZhbGlkYXRlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwYWdlSWQ6ICczMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICAgICAgICAgIHBhZ2VUeXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICByZWZlcmVuY2VzOiBbXG4gICAgICAgICAgICB7IHR5cGU6ICdjb250ZW50X3BhZ2UnLCBpZDogJzQyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsIG5hbWU6ICdQYWdlIEEnIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB2YWxpZGF0ZVJlZmVyZW5jZXMocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS52YWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmhhc0NpcmN1bGFyUmVmZXJlbmNlKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHNlY3Rpb25zU2VydmljZS5kZXRlY3RDaXJjdWxhclJlZmVyZW5jZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnMzIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgW3sgdHlwZTogJ2NvbnRlbnRfcGFnZScsIGlkOiAnNDIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJywgbmFtZTogJ1BhZ2UgQScgfV1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDEgd2hlbiBub3QgYXV0aGVudGljYXRlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFNlc3Npb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHNlc3Npb246IG51bGwgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JlZmVyZW5jZXMvdmFsaWRhdGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJlZmVyZW5jZXM6IFtdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHZhbGlkYXRlUmVmZXJlbmNlcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVU5BVVRIT1JJWkVEJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiB2YWxpZGF0aW9uIGZhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JlZmVyZW5jZXMvdmFsaWRhdGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJlZmVyZW5jZXM6IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ2ludmFsaWRfdHlwZScsIGlkOiAnbm90LWEtdXVpZCcsIG5hbWU6ICdJbnZhbGlkJyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdmFsaWRhdGVSZWZlcmVuY2VzKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VjdGlvbnNTZXJ2aWNlID0gcmVxdWlyZSgnQC9zZXJ2aWNlcy9zZWN0aW9uc1NlcnZpY2UnKTtcbiAgICAgIHNlY3Rpb25zU2VydmljZS52YWxpZGF0ZVJlZmVyZW5jZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JlZmVyZW5jZXMvdmFsaWRhdGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHJlZmVyZW5jZXM6IFtcbiAgICAgICAgICAgIHsgdHlwZTogJ2V2ZW50JywgaWQ6ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLCBuYW1lOiAnVGVzdCBFdmVudCcgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHZhbGlkYXRlUmVmZXJlbmNlcyhyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9bdHlwZV0vW2lkXScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBldmVudCBwcmV2aWV3IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnV2VkZGluZyBDZXJlbW9ueScsXG4gICAgICAgICAgICAgICAgc2x1ZzogJ3dlZGRpbmctY2VyZW1vbnknLFxuICAgICAgICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydF90aW1lOiAnMjAyNC0wNi0xNVQxNDowMDowMFonLFxuICAgICAgICAgICAgICAgIGVuZF90aW1lOiAnMjAyNC0wNi0xNVQxNTowMDowMFonLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1haW4gd2VkZGluZyBjZXJlbW9ueScsXG4gICAgICAgICAgICAgICAgZXZlbnRfdHlwZTogJ2NlcmVtb255JyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnM6IHsgbmFtZTogJ0JlYWNoIFZlbnVlJyB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9ldmVudC8xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdldmVudCcsIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQcmV2aWV3KHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuaWQpLnRvQmUoJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5uYW1lKS50b0JlKCdXZWRkaW5nIENlcmVtb255Jyk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLnR5cGUpLnRvQmUoJ2V2ZW50Jyk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRldGFpbHMuZXZlbnRUeXBlKS50b0JlKCdjZXJlbW9ueScpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS5kZXRhaWxzLmxvY2F0aW9uKS50b0JlKCdCZWFjaCBWZW51ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYWN0aXZpdHkgcHJldmlldyBkYXRhIHdpdGggUlNWUCBjb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tJbXBsZW1lbnRhdGlvbigodGFibGU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodGFibGUgPT09ICdhY3Rpdml0aWVzJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBpZDogJzIyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdCZWFjaCBQYXJ0eScsXG4gICAgICAgICAgICAgICAgICAgIHNsdWc6ICdiZWFjaC1wYXJ0eScsXG4gICAgICAgICAgICAgICAgICAgIGNhcGFjaXR5OiA1MCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRfdGltZTogJzIwMjQtMDYtMTZUMTg6MDA6MDBaJyxcbiAgICAgICAgICAgICAgICAgICAgZW5kX3RpbWU6ICcyMDI0LTA2LTE2VDIyOjAwOjAwWicsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRnVuIGJlYWNoIHBhcnR5JyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlfdHlwZTogJ3NvY2lhbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvc3RfcGVyX3BlcnNvbjogMjUuMDAsXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uczogeyBuYW1lOiAnQmVhY2ggQ2x1YicgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRhYmxlID09PSAncnN2cHMnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vY2tTdXBhYmFzZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9hY3Rpdml0eS8yMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdhY3Rpdml0eScsIGlkOiAnMjIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQcmV2aWV3KHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEubmFtZSkudG9CZSgnQmVhY2ggUGFydHknKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEudHlwZSkudG9CZSgnYWN0aXZpdHknKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuZGV0YWlscy5jYXBhY2l0eSkudG9CZSg1MCk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRldGFpbHMuY29zdFBlclBlcnNvbikudG9CZSgyNS4wMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb250ZW50IHBhZ2UgcHJldmlldyBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja0ltcGxlbWVudGF0aW9uKCh0YWJsZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICh0YWJsZSA9PT0gJ2NvbnRlbnRfcGFnZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnMzIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPdXIgU3RvcnknLFxuICAgICAgICAgICAgICAgICAgICBzbHVnOiAnb3VyLXN0b3J5JyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMTVUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRhYmxlID09PSAnY29udGVudF9zZWN0aW9ucycpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9ja1N1cGFiYXNlO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL2NvbnRlbnRfcGFnZS8zMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjb250ZW50X3BhZ2UnLCBpZDogJzMyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UHJldmlldyhyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLm5hbWUpLnRvQmUoJ091ciBTdG9yeScpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS50eXBlKS50b0JlKCdjb250ZW50X3BhZ2UnKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuc2x1ZykudG9CZSgnb3VyLXN0b3J5Jyk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLnN0YXR1cykudG9CZSgncHVibGlzaGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBhY2NvbW1vZGF0aW9uIHByZXZpZXcgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tJbXBsZW1lbnRhdGlvbigodGFibGU6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAodGFibGUgPT09ICdhY2NvbW1vZGF0aW9ucycpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICc0MjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQmVhY2ggUmVzb3J0JyxcbiAgICAgICAgICAgICAgICAgICAgc2x1ZzogJ2JlYWNoLXJlc29ydCcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrX2luX2RhdGU6ICcyMDI0LTA2LTE0JyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tfb3V0X2RhdGU6ICcyMDI0LTA2LTE3JyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdMdXh1cnkgYmVhY2ggcmVzb3J0JyxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogJzEyMyBCZWFjaCBSb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zOiB7IG5hbWU6ICdDb2FzdGFsIEFyZWEnIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0YWJsZSA9PT0gJ3Jvb21fdHlwZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vY2tTdXBhYmFzZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9hY2NvbW1vZGF0aW9uLzQyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2FjY29tbW9kYXRpb24nLCBpZDogJzQyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UHJldmlldyhyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLm5hbWUpLnRvQmUoJ0JlYWNoIFJlc29ydCcpO1xuICAgICAgZXhwZWN0KGRhdGEuZGF0YS50eXBlKS50b0JlKCdhY2NvbW1vZGF0aW9uJyk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLmRldGFpbHMuYWRkcmVzcykudG9CZSgnMTIzIEJlYWNoIFJvYWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMSB3aGVuIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgc2Vzc2lvbjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcmVmZXJlbmNlcy9ldmVudC8xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdldmVudCcsIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQcmV2aWV3KHJlcXVlc3QsIHsgcGFyYW1zIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDEpO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdVTkFVVEhPUklaRUQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCBmb3IgaW52YWxpZCBlbnRpdHkgdHlwZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL2ludmFsaWRfdHlwZS8xMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdpbnZhbGlkX3R5cGUnLCBpZDogJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UHJldmlldyhyZXF1ZXN0LCB7IHBhcmFtcyB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IHdoZW4gZW50aXR5IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5mcm9tLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgICAgc2luZ2xlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnUEdSU1QxMTYnLCBtZXNzYWdlOiAnTm90IGZvdW5kJyB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yZWZlcmVuY2VzL2V2ZW50Lzk5OWU0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2V2ZW50JywgaWQ6ICc5OTllNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdldFByZXZpZXcocmVxdWVzdCwgeyBwYXJhbXMgfSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwNCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ05PVF9GT1VORCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidmFsaWRhdGVSZWZlcmVuY2VzIiwiZm4iLCJkZXRlY3RDaXJjdWxhclJlZmVyZW5jZXMiLCJjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImZyb20iLCJjb29raWVzIiwiZGVzY3JpYmUiLCJtb2NrU2Vzc2lvbiIsIm1vY2tTdXBhYmFzZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwidXNlciIsImlkIiwiZW1haWwiLCJhY2Nlc3NfdG9rZW4iLCJyZXF1aXJlIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwic2Vzc2lvbiIsImVycm9yIiwibW9ja1JldHVyblRoaXMiLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIm1vY2tSZXR1cm5WYWx1ZSIsIml0Iiwic2VjdGlvbnNTZXJ2aWNlIiwic3VjY2VzcyIsInZhbGlkIiwiYnJva2VuUmVmZXJlbmNlcyIsImNpcmN1bGFyUmVmZXJlbmNlcyIsInJlcXVlc3QiLCJSZXF1ZXN0IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVmZXJlbmNlcyIsInR5cGUiLCJuYW1lIiwicmVzcG9uc2UiLCJqc29uIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsInRvRXF1YWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvSGF2ZUxlbmd0aCIsInBhZ2VJZCIsInBhZ2VUeXBlIiwiaGFzQ2lyY3VsYXJSZWZlcmVuY2UiLCJjb2RlIiwibWVzc2FnZSIsInNsdWciLCJpc19hY3RpdmUiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJkZXNjcmlwdGlvbiIsImV2ZW50X3R5cGUiLCJsb2NhdGlvbnMiLCJwYXJhbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldFByZXZpZXciLCJkZXRhaWxzIiwiZXZlbnRUeXBlIiwibG9jYXRpb24iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJ0YWJsZSIsImNhcGFjaXR5IiwiYWN0aXZpdHlfdHlwZSIsImNvc3RfcGVyX3BlcnNvbiIsImNvc3RQZXJQZXJzb24iLCJ0aXRsZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiY2hlY2tfaW5fZGF0ZSIsImNoZWNrX291dF9kYXRlIiwiYWRkcmVzcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Q0FVQztBQUtELGdDQUFnQztBQUNoQ0EsS0FBS0MsSUFBSSxDQUFDLDhCQUE4QixJQUFPLENBQUE7UUFDN0NDLG9CQUFvQkYsS0FBS0csRUFBRTtRQUMzQkMsMEJBQTBCSixLQUFLRyxFQUFFO0lBQ25DLENBQUE7QUFFQUgsS0FBS0MsSUFBSSxDQUFDLGlDQUFpQyxJQUFPLENBQUE7UUFDaERJLDBCQUEwQkwsS0FBS0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDdkNHLE1BQU07b0JBQ0pDLFlBQVlQLEtBQUtHLEVBQUU7Z0JBQ3JCO2dC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