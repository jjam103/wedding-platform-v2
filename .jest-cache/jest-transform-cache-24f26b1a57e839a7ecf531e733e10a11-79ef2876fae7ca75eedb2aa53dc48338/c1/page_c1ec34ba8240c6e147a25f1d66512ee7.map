{"version":3,"names":["AdminDashboard","cov_1wg6wann4u","f","router","s","_navigation","useRouter","metrics","setMetrics","_react","useState","totalGuests","rsvpResponseRate","totalBudget","upcomingEvents","pendingPhotos","capacityAlerts","alerts","setAlerts","loading","setLoading","searchQuery","setSearchQuery","error","setError","quickActions","id","label","icon","href","color","fetchMetrics","useCallback","response","fetch","ok","b","Error","result","json","success","data","message","err","fetchAlerts","console","handleSearch","e","preventDefault","trim","push","encodeURIComponent","handleQuickAction","dismissAlert","alertId","prev","filter","a","useEffect","metricsInterval","setInterval","alertsInterval","clearInterval","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseAnonKey","NEXT_PUBLIC_SUPABASE_ANON_KEY","supabase","_supabasejs","createClient","channel","on","event","schema","table","payload","log","subscribe","removeChannel","_jsxruntime","jsx","_SkeletonLoaders","DashboardSkeleton","jsxs","className","length","map","alert","type","Date","timestamp","toLocaleString","onClick","MetricCard","title","value","toFixed","action","ActivityItem","text","time","DeadlineItem","date","daysLeft"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@supabase/supabase-js';\nimport type { Guest, Event, Activity, RSVP, Vendor } from '@/types';\nimport { DashboardSkeleton } from '@/components/ui/SkeletonLoaders';\n\ninterface DashboardMetrics {\n  totalGuests: number;\n  rsvpResponseRate: number;\n  totalBudget: number;\n  upcomingEvents: number;\n  pendingPhotos: number;\n  capacityAlerts: number;\n}\n\ninterface QuickAction {\n  id: string;\n  label: string;\n  icon: string;\n  href: string;\n  color: string;\n}\n\ninterface Alert {\n  id: string;\n  type: 'warning' | 'error' | 'info';\n  message: string;\n  timestamp: Date;\n}\n\n/**\n * Admin Dashboard Component\n * \n * Main dashboard for wedding hosts providing:\n * - Key metrics display (guest count, RSVP rates, budget)\n * - Quick-action shortcuts for common tasks\n * - Real-time alerts and notifications\n * - Customizable widgets\n * - Search functionality\n */\nexport default function AdminDashboard() {\n  const router = useRouter();\n  const [metrics, setMetrics] = useState<DashboardMetrics>({\n    totalGuests: 0,\n    rsvpResponseRate: 0,\n    totalBudget: 0,\n    upcomingEvents: 0,\n    pendingPhotos: 0,\n    capacityAlerts: 0,\n  });\n  const [alerts, setAlerts] = useState<Alert[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [error, setError] = useState<string | null>(null);\n\n  // Quick action shortcuts\n  const quickActions: QuickAction[] = [\n    { id: 'add-guest', label: 'Add Guest', icon: 'üë§', href: '/admin/guests', color: 'jungle' },\n    { id: 'create-event', label: 'Create Event', icon: 'üìÖ', href: '/admin/events', color: 'sunset' },\n    { id: 'add-activity', label: 'Add Activity', icon: 'üéØ', href: '/admin/activities', color: 'ocean' },\n    { id: 'manage-vendors', label: 'Manage Vendors', icon: 'ü§ù', href: '/admin/vendors', color: 'volcano' },\n    { id: 'view-rsvps', label: 'View RSVPs', icon: '‚úâÔ∏è', href: '/admin/rsvps', color: 'sage' },\n    { id: 'moderate-photos', label: 'Moderate Photos', icon: 'üì∏', href: '/admin/photos', color: 'jungle' },\n  ];\n\n  /**\n   * Fetch dashboard metrics from API\n   */\n  const fetchMetrics = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Fetch metrics from API\n      const response = await fetch('/api/admin/metrics');\n      if (!response.ok) {\n        throw new Error('Failed to fetch metrics');\n      }\n\n      const result = await response.json();\n      if (result.success) {\n        setMetrics(result.data);\n      } else {\n        setError(result.error.message);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  /**\n   * Fetch real-time alerts\n   */\n  const fetchAlerts = useCallback(async () => {\n    try {\n      const response = await fetch('/api/admin/alerts');\n      if (!response.ok) {\n        return;\n      }\n\n      const result = await response.json();\n      if (result.success) {\n        setAlerts(result.data);\n      }\n    } catch (err) {\n      // Silently fail for alerts\n      console.error('Failed to fetch alerts:', err);\n    }\n  }, []);\n\n  /**\n   * Handle search submission\n   */\n  const handleSearch = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      router.push(`/admin/search?q=${encodeURIComponent(searchQuery)}`);\n    }\n  }, [searchQuery, router]);\n\n  /**\n   * Navigate to quick action\n   */\n  const handleQuickAction = useCallback((href: string) => {\n    router.push(href);\n  }, [router]);\n\n  /**\n   * Dismiss alert\n   */\n  const dismissAlert = useCallback((alertId: string) => {\n    setAlerts(prev => prev.filter(a => a.id !== alertId));\n  }, []);\n\n  // Load data on mount\n  useEffect(() => {\n    fetchMetrics();\n    fetchAlerts();\n\n    // Refresh metrics every 30 seconds\n    const metricsInterval = setInterval(fetchMetrics, 30000);\n    // Refresh alerts every 60 seconds\n    const alertsInterval = setInterval(fetchAlerts, 60000);\n\n    return () => {\n      clearInterval(metricsInterval);\n      clearInterval(alertsInterval);\n    };\n  }, [fetchMetrics, fetchAlerts]);\n\n  /**\n   * Set up real-time subscription for RSVP changes\n   */\n  useEffect(() => {\n    // Create Supabase client for real-time subscriptions\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n    const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n    if (!supabaseUrl || !supabaseAnonKey) {\n      console.error('Missing Supabase environment variables for real-time subscriptions');\n      return;\n    }\n\n    const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n    // Subscribe to RSVP table changes\n    const channel = supabase\n      .channel('rsvps-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*', // Listen to all events (INSERT, UPDATE, DELETE)\n          schema: 'public',\n          table: 'rsvps',\n        },\n        (payload) => {\n          console.log('RSVP change detected:', payload);\n\n          // Update dashboard metrics immediately\n          fetchMetrics();\n        }\n      )\n      .subscribe();\n\n    // Cleanup subscription on unmount\n    return () => {\n      supabase.removeChannel(channel);\n    };\n  }, [fetchMetrics]);\n\n  if (loading && metrics.totalGuests === 0) {\n    return <DashboardSkeleton />;\n  }\n\n  return (\n    <div>\n        {/* Error Display */}\n        {error && (\n          <div className=\"mb-6 bg-volcano-50 border border-volcano-200 rounded-lg p-4\">\n            <p className=\"text-volcano-800\">‚ö†Ô∏è {error}</p>\n          </div>\n        )}\n\n        {/* Alerts */}\n        {alerts.length > 0 && (\n          <div className=\"mb-6 space-y-3\">\n            {alerts.map(alert => (\n              <div\n                key={alert.id}\n                className={`flex items-start justify-between p-4 rounded-lg border ${\n                  alert.type === 'error' ? 'bg-volcano-50 border-volcano-200' :\n                  alert.type === 'warning' ? 'bg-sunset-50 border-sunset-200' :\n                  'bg-ocean-50 border-ocean-200'\n                }`}\n              >\n                <div className=\"flex-1\">\n                  <p className={`font-medium ${\n                    alert.type === 'error' ? 'text-volcano-900' :\n                    alert.type === 'warning' ? 'text-sunset-900' :\n                    'text-ocean-900'\n                  }`}>\n                    {alert.type === 'error' ? '‚ùå' : alert.type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'} {alert.message}\n                  </p>\n                  <p className=\"text-sm text-sage-600 mt-1\">\n                    {new Date(alert.timestamp).toLocaleString()}\n                  </p>\n                </div>\n                <button\n                  onClick={() => dismissAlert(alert.id)}\n                  className=\"ml-4 text-sage-400 hover:text-sage-600\"\n                  aria-label=\"Dismiss alert\"\n                >\n                  ‚úï\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n          <MetricCard\n            title=\"Total Guests\"\n            value={metrics.totalGuests}\n            icon=\"üë•\"\n            color=\"jungle\"\n            href=\"/admin/guests\"\n          />\n          <MetricCard\n            title=\"RSVP Response Rate\"\n            value={`${metrics.rsvpResponseRate.toFixed(1)}%`}\n            icon=\"‚úâÔ∏è\"\n            color=\"ocean\"\n            href=\"/admin/rsvps\"\n          />\n          <MetricCard\n            title=\"Total Budget\"\n            value={`$${metrics.totalBudget.toLocaleString()}`}\n            icon=\"üí∞\"\n            color=\"sunset\"\n            href=\"/admin/budget\"\n          />\n          <MetricCard\n            title=\"Upcoming Events\"\n            value={metrics.upcomingEvents}\n            icon=\"üìÖ\"\n            color=\"volcano\"\n            href=\"/admin/events\"\n          />\n          <MetricCard\n            title=\"Pending Photos\"\n            value={metrics.pendingPhotos}\n            icon=\"üì∏\"\n            color=\"sage\"\n            href=\"/admin/photos\"\n          />\n          <MetricCard\n            title=\"Capacity Alerts\"\n            value={metrics.capacityAlerts}\n            icon=\"‚ö†Ô∏è\"\n            color=\"volcano\"\n            href=\"/admin/capacity\"\n          />\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Quick Actions</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n            {quickActions.map(action => (\n              <button\n                key={action.id}\n                onClick={() => handleQuickAction(action.href)}\n                className={`p-4 bg-white border-2 border-${action.color}-200 rounded-lg hover:border-${action.color}-400 hover:shadow-md transition-all text-center`}\n                aria-label={action.label}\n              >\n                <div className=\"text-3xl mb-2\">{action.icon}</div>\n                <div className=\"text-sm font-medium text-sage-900\">{action.label}</div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Customizable Widgets */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Recent Activity Widget */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-sage-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-sage-900 mb-4\">Recent Activity</h3>\n            <div className=\"space-y-3\">\n              <ActivityItem\n                icon=\"üë§\"\n                text=\"New guest added: John Doe\"\n                time=\"5 minutes ago\"\n              />\n              <ActivityItem\n                icon=\"‚úâÔ∏è\"\n                text=\"RSVP received from Jane Smith\"\n                time=\"15 minutes ago\"\n              />\n              <ActivityItem\n                icon=\"üì∏\"\n                text=\"3 new photos pending moderation\"\n                time=\"1 hour ago\"\n              />\n            </div>\n          </div>\n\n          {/* Upcoming Deadlines Widget */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-sage-200 p-6\">\n            <h3 className=\"text-lg font-semibold text-sage-900 mb-4\">Upcoming Deadlines</h3>\n            <div className=\"space-y-3\">\n              <DeadlineItem\n                title=\"RSVP Deadline\"\n                date=\"March 15, 2025\"\n                daysLeft={48}\n                color=\"volcano\"\n              />\n              <DeadlineItem\n                title=\"Final Payment Due\"\n                date=\"April 1, 2025\"\n                daysLeft={65}\n                color=\"sunset\"\n              />\n              <DeadlineItem\n                title=\"Menu Selection\"\n                date=\"March 20, 2025\"\n                daysLeft={53}\n                color=\"ocean\"\n              />\n            </div>\n          </div>\n        </div>\n    </div>\n  );\n}\n\n/**\n * Metric Card Component\n */\ninterface MetricCardProps {\n  title: string;\n  value: string | number;\n  icon: string;\n  color: string;\n  href: string;\n}\n\nfunction MetricCard({ title, value, icon, color, href }: MetricCardProps) {\n  const router = useRouter();\n\n  return (\n    <button\n      onClick={() => router.push(href)}\n      className=\"bg-white rounded-lg shadow-sm border border-sage-200 p-6 hover:shadow-md transition-shadow text-left w-full\"\n    >\n      <div className=\"flex items-center justify-between mb-2\">\n        <span className=\"text-3xl\">{icon}</span>\n        <span className={`text-2xl font-bold text-${color}-600`}>{value}</span>\n      </div>\n      <h3 className=\"text-sm font-medium text-sage-600\">{title}</h3>\n    </button>\n  );\n}\n\n/**\n * Activity Item Component\n */\ninterface ActivityItemProps {\n  icon: string;\n  text: string;\n  time: string;\n}\n\nfunction ActivityItem({ icon, text, time }: ActivityItemProps) {\n  return (\n    <div className=\"flex items-start space-x-3 p-3 hover:bg-sage-50 rounded-lg transition-colors\">\n      <span className=\"text-xl\">{icon}</span>\n      <div className=\"flex-1\">\n        <p className=\"text-sm text-sage-900\">{text}</p>\n        <p className=\"text-xs text-sage-500 mt-1\">{time}</p>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Deadline Item Component\n */\ninterface DeadlineItemProps {\n  title: string;\n  date: string;\n  daysLeft: number;\n  color: string;\n}\n\nfunction DeadlineItem({ title, date, daysLeft, color }: DeadlineItemProps) {\n  return (\n    <div className=\"flex items-center justify-between p-3 hover:bg-sage-50 rounded-lg transition-colors\">\n      <div>\n        <p className=\"text-sm font-medium text-sage-900\">{title}</p>\n        <p className=\"text-xs text-sage-500 mt-1\">{date}</p>\n      </div>\n      <div className={`px-3 py-1 bg-${color}-100 text-${color}-700 rounded-full text-xs font-medium`}>\n        {daysLeft} days\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}