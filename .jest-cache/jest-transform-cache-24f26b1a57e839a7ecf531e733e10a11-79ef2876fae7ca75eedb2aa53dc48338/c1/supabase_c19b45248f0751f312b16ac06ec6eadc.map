{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n/**\n * Creates a Supabase client for server-side operations with service role privileges.\n * \n * IMPORTANT: This client bypasses Row Level Security (RLS).\n * Only use in server-side code after proper authentication checks.\n * \n * Uses environment variables for configuration.\n * \n * @returns Configured Supabase client with service role privileges\n * @throws Error if required environment variables are missing\n */\nexport function createSupabaseClient() {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n  if (!supabaseUrl || !supabaseServiceKey) {\n    throw new Error(\n      'Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY'\n    );\n  }\n\n  return createClient(supabaseUrl, supabaseServiceKey, {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false\n    }\n  });\n}\n\n/**\n * Singleton Supabase client instance for server-side use with service role privileges.\n * \n * IMPORTANT: This bypasses RLS. Only use after authentication checks.\n */\nexport const supabase = createSupabaseClient();\n"],"names":["createSupabaseClient","supabase","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseServiceKey","SUPABASE_SERVICE_ROLE_KEY","Error","createClient","auth","autoRefreshToken","persistSession"],"mappings":";;;;;;;;;;;QAagBA;eAAAA;;QAuBHC;eAAAA;;;4BApCgB;AAatB,SAASD;IACd,MAAME,cAAcC,QAAQC,GAAG,CAACC,wBAAwB;IACxD,MAAMC,qBAAqBH,QAAQC,GAAG,CAACG,yBAAyB;IAEhE,IAAI,CAACL,eAAe,CAACI,oBAAoB;QACvC,MAAM,IAAIE,MACR;IAEJ;IAEA,OAAOC,IAAAA,wBAAY,EAACP,aAAaI,oBAAoB;QACnDI,MAAM;YACJC,kBAAkB;YAClBC,gBAAgB;QAClB;IACF;AACF;AAOO,MAAMX,WAAWD"}