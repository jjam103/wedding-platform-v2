{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/schemas/cmsSchemas.ts"],"sourcesContent":["import { z } from 'zod';\n\n// Content type schemas\nexport const richTextContentSchema = z.object({\n  html: z.string(),\n});\n\nexport const photoGalleryContentSchema = z.object({\n  photo_ids: z.array(z.string().uuid()),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']),\n});\n\nexport const referenceSchema = z.object({\n  type: z.enum(['activity', 'event', 'accommodation', 'location']),\n  id: z.string().uuid(),\n  label: z.string().optional(),\n});\n\nexport const referencesContentSchema = z.object({\n  references: z.array(referenceSchema),\n});\n\n// Column schema\nexport const columnDataSchema = z.object({\n  column_number: z.union([z.literal(1), z.literal(2)]),\n  content_type: z.enum(['rich_text', 'photo_gallery', 'references']),\n  content_data: z.union([\n    richTextContentSchema,\n    photoGalleryContentSchema,\n    referencesContentSchema,\n  ]),\n});\n\n// Section schemas\nexport const createSectionSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom']),\n  page_id: z.string().min(1),\n  display_order: z.number().int().min(0),\n  columns: z.array(columnDataSchema).min(1).max(2),\n});\n\nexport const updateSectionSchema = createSectionSchema.partial().extend({\n  columns: z.array(columnDataSchema).min(1).max(2).optional(),\n});\n\n// Content pages schemas\nexport const createContentPageSchema = z.object({\n  title: z.string().min(1).max(200),\n  slug: z.string().min(1).regex(/^[a-z0-9-]+$/, 'Slug must contain only lowercase letters, numbers, and hyphens').optional(),\n  status: z.enum(['draft', 'published']).default('draft'),\n});\n\nexport const updateContentPageSchema = createContentPageSchema.partial();\n\n// Gallery settings schemas\nexport const createGallerySettingsSchema = z.object({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']),\n  page_id: z.string().min(1),\n  display_mode: z.enum(['gallery', 'carousel', 'loop']).default('gallery'),\n  photos_per_row: z.number().int().min(1).max(6).optional(),\n  show_captions: z.boolean().default(true),\n  autoplay_interval: z.number().int().min(1000).optional(),\n  transition_effect: z.string().optional(),\n});\n\nexport const updateGallerySettingsSchema = createGallerySettingsSchema.partial().extend({\n  page_type: z.enum(['activity', 'event', 'accommodation', 'room_type', 'custom', 'memory']).optional(),\n  page_id: z.string().min(1).optional(),\n});\n\n// Type exports\nexport type RichTextContent = z.infer<typeof richTextContentSchema>;\nexport type PhotoGalleryContent = z.infer<typeof photoGalleryContentSchema>;\nexport type Reference = z.infer<typeof referenceSchema>;\nexport type ReferencesContent = z.infer<typeof referencesContentSchema>;\nexport type ColumnData = z.infer<typeof columnDataSchema>;\nexport type CreateSectionDTO = z.infer<typeof createSectionSchema>;\nexport type UpdateSectionDTO = z.infer<typeof updateSectionSchema>;\nexport type CreateContentPageDTO = z.infer<typeof createContentPageSchema>;\nexport type UpdateContentPageDTO = z.infer<typeof updateContentPageSchema>;\nexport type CreateGallerySettingsDTO = z.infer<typeof createGallerySettingsSchema>;\nexport type UpdateGallerySettingsDTO = z.infer<typeof updateGallerySettingsSchema>;\n\n// Database entity types\nexport interface ContentPage {\n  id: string;\n  slug: string;\n  title: string;\n  status: 'draft' | 'published';\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Section {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  display_order: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface Column {\n  id: string;\n  section_id: string;\n  column_number: 1 | 2;\n  content_type: 'rich_text' | 'photo_gallery' | 'references';\n  content_data: RichTextContent | PhotoGalleryContent | ReferencesContent;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface GallerySettings {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom' | 'memory';\n  page_id: string;\n  display_mode: 'gallery' | 'carousel' | 'loop';\n  photos_per_row?: number;\n  show_captions: boolean;\n  autoplay_interval?: number;\n  transition_effect?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ContentVersion {\n  id: string;\n  page_type: 'activity' | 'event' | 'accommodation' | 'room_type' | 'custom';\n  page_id: string;\n  created_by: string | null;\n  sections_snapshot: any;\n  created_at: string;\n}\n\n// Validation result types\nexport interface ValidationResult {\n  valid: boolean;\n  brokenReferences: Reference[];\n  circularReferences: Reference[];\n}\n"],"names":["columnDataSchema","createContentPageSchema","createGallerySettingsSchema","createSectionSchema","photoGalleryContentSchema","referenceSchema","referencesContentSchema","richTextContentSchema","updateContentPageSchema","updateGallerySettingsSchema","updateSectionSchema","z","object","html","string","photo_ids","array","uuid","display_mode","enum","type","id","label","optional","references","column_number","union","literal","content_type","content_data","page_type","page_id","min","display_order","number","int","columns","max","partial","extend","title","slug","regex","status","default","photos_per_row","show_captions","boolean","autoplay_interval","transition_effect"],"mappings":"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"}