e3f955d7ac5f48fe1a7e9b9271a92b89
"use strict";
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn()
    }));
jest.mock('next/link', ()=>{
    return ({ children, href, onClick, ...props })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            onClick: onClick,
            ...props,
            children: children
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _GuestNavigation = require("./GuestNavigation");
describe('GuestNavigation', ()=>{
    const mockUsePathname = _navigation.usePathname;
    beforeEach(()=>{
        mockUsePathname.mockReturnValue('/guest/dashboard');
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Desktop Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to desktop size
            global.innerWidth = 1024;
        });
        it('should render all navigation tabs', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            expect(_react.screen.getByText('Home')).toBeInTheDocument();
            expect(_react.screen.getByText('Events')).toBeInTheDocument();
            expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            expect(_react.screen.getByText('Itinerary')).toBeInTheDocument();
            expect(_react.screen.getByText('Photos')).toBeInTheDocument();
            expect(_react.screen.getByText('Info')).toBeInTheDocument();
        });
        it('should highlight the active tab', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should render logo with link to dashboard', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logo = _react.screen.getByText('Wedding Portal');
            expect(logo.closest('a')).toHaveAttribute('href', '/guest/dashboard');
        });
        it('should render logout link', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logoutLink = _react.screen.getByText('Logout');
            expect(logoutLink).toHaveAttribute('href', '/api/auth/logout');
        });
        describe('Dropdown Menu', ()=>{
            it('should toggle dropdown when Info tab is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Initially closed
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'true');
                expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
                expect(_react.screen.getByText('Transportation')).toBeInTheDocument();
                expect(_react.screen.getByText('Family')).toBeInTheDocument();
                expect(_react.screen.getByText('Our Story')).toBeInTheDocument();
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should close dropdown when a sub-item is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                _react.fireEvent.click(accommodationLink);
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should highlight active sub-item', ()=>{
                mockUsePathname.mockReturnValue('/guest/accommodation');
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Info tab should be active because sub-item is active
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                // Open dropdown
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                expect(accommodationLink).toHaveClass('bg-emerald-50', 'text-emerald-700');
            });
            it('should rotate chevron icon when dropdown is open', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                const chevron = infoButton.querySelector('svg:last-child');
                // Initially not rotated
                expect(chevron).not.toHaveClass('rotate-180');
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(chevron).toHaveClass('rotate-180');
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(chevron).not.toHaveClass('rotate-180');
            });
        });
    });
    describe('Mobile Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to mobile size
            global.innerWidth = 375;
        });
        it('should render hamburger menu button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toBeInTheDocument();
        });
        it('should toggle mobile menu when hamburger is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            // Initially closed
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            const closeButtons = _react.screen.getAllByLabelText('Close menu');
            expect(closeButtons.length).toBeGreaterThan(0);
            // Click to close
            _react.fireEvent.click(closeButtons[0]);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when backdrop is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            // Click backdrop
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toBeInTheDocument();
            _react.fireEvent.click(backdrop);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when a navigation link is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const eventsLink = _react.screen.getAllByText('Events')[0]; // Get first occurrence (in mobile menu)
            _react.fireEvent.click(eventsLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should have minimum 44px touch targets', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            // Check all navigation items have minimum touch target size
            const allElements = document.querySelectorAll('[style*="minHeight"]');
            const touchTargets = Array.from(allElements).filter((el)=>el.style.minHeight === '44px');
            expect(touchTargets.length).toBeGreaterThan(0);
        });
        it('should toggle dropdown in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const infoButton = _react.screen.getAllByRole('button').find((btn)=>btn.textContent?.includes('Info'));
            expect(infoButton).toBeInTheDocument();
            // Initially closed
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(infoButton);
            expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
            // Click to close
            _react.fireEvent.click(infoButton);
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
        });
        it('should close mobile menu when sub-item is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const infoButton = _react.screen.getAllByRole('button').find((btn)=>btn.textContent?.includes('Info'));
            _react.fireEvent.click(infoButton);
            const accommodationLink = _react.screen.getByText('Accommodation');
            _react.fireEvent.click(accommodationLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should render logout button in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const logoutLinks = _react.screen.getAllByText('Logout');
            const mobileLogoutButton = logoutLinks.find((el)=>{
                const link = el.closest('a');
                return link && link.getAttribute('href') === '/api/auth/logout' && link.style.minHeight === '44px';
            });
            expect(mobileLogoutButton).toBeInTheDocument();
        });
    });
    describe('Active State', ()=>{
        it('should highlight Home tab when on dashboard', ()=>{
            mockUsePathname.mockReturnValue('/guest/dashboard');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            expect(homeLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Events tab when on events page', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Activities tab when on activities page', ()=>{
            mockUsePathname.mockReturnValue('/guest/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: /Activities/i
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Itinerary tab when on itinerary page', ()=>{
            mockUsePathname.mockReturnValue('/guest/itinerary');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const itineraryLink = _react.screen.getByRole('link', {
                name: /Itinerary/i
            });
            expect(itineraryLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Photos tab when on photos page', ()=>{
            mockUsePathname.mockReturnValue('/guest/photos');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const photosLink = _react.screen.getByRole('link', {
                name: /Photos/i
            });
            expect(photosLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Info tab when on any sub-item page', ()=>{
            const subItemPaths = [
                '/guest/accommodation',
                '/guest/transportation',
                '/guest/family',
                '/our-story'
            ];
            subItemPaths.forEach((path)=>{
                mockUsePathname.mockReturnValue(path);
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                unmount();
            });
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels for menu buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByLabelText('Close menu')).toBeInTheDocument();
        });
        it('should have proper ARIA attributes for dropdown', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const infoButton = _react.screen.getByRole('button', {
                name: /Info/i
            });
            expect(infoButton).toHaveAttribute('aria-expanded', 'false');
            expect(infoButton).toHaveAttribute('aria-haspopup', 'true');
            _react.fireEvent.click(infoButton);
            expect(infoButton).toHaveAttribute('aria-expanded', 'true');
        });
        it('should be keyboard navigable', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            homeLink.focus();
            expect(document.activeElement).toBe(homeLink);
        });
    });
    describe('Styling', ()=>{
        it('should have sticky positioning', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('sticky', 'top-0', 'z-50');
            });
        });
        it('should have glassmorphism effect', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const navs = _react.screen.getAllByRole('navigation');
            navs.forEach((nav)=>{
                expect(nav).toHaveClass('bg-white/80', 'backdrop-blur-md');
            });
        });
        it('should have proper z-index for overlay', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toHaveClass('z-40');
            const menuPanel = document.querySelector('.fixed.inset-y-0.right-0');
            expect(menuPanel).toHaveClass('z-50');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdE5hdmlnYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgR3Vlc3ROYXZpZ2F0aW9uIH0gZnJvbSAnLi9HdWVzdE5hdmlnYXRpb24nO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VQYXRobmFtZTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ25leHQvbGluaycsICgpID0+IHtcbiAgcmV0dXJuICh7IGNoaWxkcmVuLCBocmVmLCBvbkNsaWNrLCAuLi5wcm9wcyB9OiBhbnkpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17aHJlZn0gb25DbGljaz17b25DbGlja30gey4uLnByb3BzfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ0d1ZXN0TmF2aWdhdGlvbicsICgpID0+IHtcbiAgY29uc3QgbW9ja1VzZVBhdGhuYW1lID0gdXNlUGF0aG5hbWUgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUGF0aG5hbWU+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Rlc2t0b3AgTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIFNldCB2aWV3cG9ydCB0byBkZXNrdG9wIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMTAyNDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBuYXZpZ2F0aW9uIHRhYnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb21lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXZlbnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0l0aW5lcmFyeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Bob3RvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHRoZSBhY3RpdmUgdGFiJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvIHdpdGggbGluayB0byBkYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ28gPSBzY3JlZW4uZ2V0QnlUZXh0KCdXZWRkaW5nIFBvcnRhbCcpO1xuICAgICAgZXhwZWN0KGxvZ28uY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2d1ZXN0L2Rhc2hib2FyZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9nb3V0IGxpbmsnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ291dExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGV4cGVjdChsb2dvdXRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2FwaS9hdXRoL2xvZ291dCcpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Ryb3Bkb3duIE1lbnUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBkcm9wZG93biB3aGVuIEluZm8gdGFiIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVHJhbnNwb3J0YXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhbWlseScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3VyIFN0b3J5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjbG9zZSBkcm9wZG93biB3aGVuIGEgc3ViLWl0ZW0gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uKTtcblxuICAgICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjY29tbW9kYXRpb25MaW5rKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGFjdGl2ZSBzdWItaXRlbScsICgpID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbmZvIHRhYiBzaG91bGQgYmUgYWN0aXZlIGJlY2F1c2Ugc3ViLWl0ZW0gaXMgYWN0aXZlXG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuXG4gICAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25MaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpO1xuICAgICAgICBleHBlY3QoYWNjb21tb2RhdGlvbkxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTUwJywgJ3RleHQtZW1lcmFsZC03MDAnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJvdGF0ZSBjaGV2cm9uIGljb24gd2hlbiBkcm9wZG93biBpcyBvcGVuJywgKCkgPT4ge1xuICAgICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgY29uc3QgY2hldnJvbiA9IGluZm9CdXR0b24ucXVlcnlTZWxlY3Rvcignc3ZnOmxhc3QtY2hpbGQnKTtcblxuICAgICAgICAvLyBJbml0aWFsbHkgbm90IHJvdGF0ZWRcbiAgICAgICAgZXhwZWN0KGNoZXZyb24pLm5vdC50b0hhdmVDbGFzcygncm90YXRlLTE4MCcpO1xuXG4gICAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoY2hldnJvbikudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcblxuICAgICAgICAvLyBDbGljayB0byBjbG9zZVxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChjaGV2cm9uKS5ub3QudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9iaWxlIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBTZXQgdmlld3BvcnQgdG8gbW9iaWxlIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMzc1O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgaGFtYnVyZ2VyIG1lbnUgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgbW9iaWxlIG1lbnUgd2hlbiBoYW1idXJnZXIgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxseSBjbG9zZWRcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlMYWJlbFRleHQoJ0Nsb3NlIG1lbnUnKTtcbiAgICAgIGV4cGVjdChjbG9zZUJ1dHRvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBmaXJlRXZlbnQuY2xpY2soY2xvc2VCdXR0b25zWzBdKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYmFja2Ryb3AgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIGJhY2tkcm9wXG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC5pbnNldC0wLmJnLWJsYWNrXFxcXC81MCcpO1xuICAgICAgZXhwZWN0KGJhY2tkcm9wKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tkcm9wISk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYSBuYXZpZ2F0aW9uIGxpbmsgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGV2ZW50c0xpbmsgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdFdmVudHMnKVswXTsgLy8gR2V0IGZpcnN0IG9jY3VycmVuY2UgKGluIG1vYmlsZSBtZW51KVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGV2ZW50c0xpbmspO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdNZW51JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIG1pbmltdW0gNDRweCB0b3VjaCB0YXJnZXRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgLy8gQ2hlY2sgYWxsIG5hdmlnYXRpb24gaXRlbXMgaGF2ZSBtaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplXG4gICAgICBjb25zdCBhbGxFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzdHlsZSo9XCJtaW5IZWlnaHRcIl0nKTtcbiAgICAgIGNvbnN0IHRvdWNoVGFyZ2V0cyA9IEFycmF5LmZyb20oYWxsRWxlbWVudHMpLmZpbHRlcihlbCA9PiBcbiAgICAgICAgKGVsIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5taW5IZWlnaHQgPT09ICc0NHB4J1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHRvdWNoVGFyZ2V0cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdG9nZ2xlIGRyb3Bkb3duIGluIG1vYmlsZSBtZW51JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpLmZpbmQoYnRuID0+IFxuICAgICAgICBidG4udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdJbmZvJylcbiAgICAgICk7XG4gICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24hKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbiEpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2UgbW9iaWxlIG1lbnUgd2hlbiBzdWItaXRlbSBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpLmZpbmQoYnRuID0+IFxuICAgICAgICBidG4udGV4dENvbnRlbnQ/LmluY2x1ZGVzKCdJbmZvJylcbiAgICAgICk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbiEpO1xuXG4gICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhY2NvbW1vZGF0aW9uTGluayk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvdXQgYnV0dG9uIGluIG1vYmlsZSBtZW51JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgbG9nb3V0TGlua3MgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGNvbnN0IG1vYmlsZUxvZ291dEJ1dHRvbiA9IGxvZ291dExpbmtzLmZpbmQoZWwgPT4ge1xuICAgICAgICBjb25zdCBsaW5rID0gZWwuY2xvc2VzdCgnYScpO1xuICAgICAgICByZXR1cm4gbGluayAmJiBsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnL2FwaS9hdXRoL2xvZ291dCcgJiYgbGluay5zdHlsZS5taW5IZWlnaHQgPT09ICc0NHB4JztcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KG1vYmlsZUxvZ291dEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FjdGl2ZSBTdGF0ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBIb21lIHRhYiB3aGVuIG9uIGRhc2hib2FyZCcsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaG9tZUxpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvSG9tZS9pIH0pO1xuICAgICAgZXhwZWN0KGhvbWVMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgRXZlbnRzIHRhYiB3aGVuIG9uIGV2ZW50cyBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBBY3Rpdml0aWVzIHRhYiB3aGVuIG9uIGFjdGl2aXRpZXMgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9hY3Rpdml0aWVzJyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGFjdGl2aXRpZXNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0FjdGl2aXRpZXMvaSB9KTtcbiAgICAgIGV4cGVjdChhY3Rpdml0aWVzTGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEl0aW5lcmFyeSB0YWIgd2hlbiBvbiBpdGluZXJhcnkgcGFnZScsICgpID0+IHtcbiAgICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9pdGluZXJhcnknKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaXRpbmVyYXJ5TGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9JdGluZXJhcnkvaSB9KTtcbiAgICAgIGV4cGVjdChpdGluZXJhcnlMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgUGhvdG9zIHRhYiB3aGVuIG9uIHBob3RvcyBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L3Bob3RvcycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBwaG90b3NMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL1Bob3Rvcy9pIH0pO1xuICAgICAgZXhwZWN0KHBob3Rvc0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBJbmZvIHRhYiB3aGVuIG9uIGFueSBzdWItaXRlbSBwYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3ViSXRlbVBhdGhzID0gW1xuICAgICAgICAnL2d1ZXN0L2FjY29tbW9kYXRpb24nLFxuICAgICAgICAnL2d1ZXN0L3RyYW5zcG9ydGF0aW9uJyxcbiAgICAgICAgJy9ndWVzdC9mYW1pbHknLFxuICAgICAgICAnL291ci1zdG9yeScsXG4gICAgICBdO1xuXG4gICAgICBzdWJJdGVtUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZShwYXRoKTtcbiAgICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgZXhwZWN0KGluZm9CdXR0b24pLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG5cbiAgICAgICAgdW5tb3VudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBsYWJlbHMgZm9yIG1lbnUgYnV0dG9ucycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBleHBlY3QobWVudUJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0Nsb3NlIG1lbnUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzIGZvciBkcm9wZG93bicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUga2V5Ym9hcmQgbmF2aWdhYmxlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBob21lTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9Ib21lL2kgfSk7XG4gICAgICBob21lTGluay5mb2N1cygpO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRvQmUoaG9tZUxpbmspO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3R5bGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgc3RpY2t5IHBvc2l0aW9uaW5nJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBuYXZzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgbmF2cy5mb3JFYWNoKG5hdiA9PiB7XG4gICAgICAgIGV4cGVjdChuYXYpLnRvSGF2ZUNsYXNzKCdzdGlja3knLCAndG9wLTAnLCAnei01MCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgZ2xhc3Ntb3JwaGlzbSBlZmZlY3QnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG5hdnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBuYXZzLmZvckVhY2gobmF2ID0+IHtcbiAgICAgICAgZXhwZWN0KG5hdikudG9IYXZlQ2xhc3MoJ2JnLXdoaXRlLzgwJywgJ2JhY2tkcm9wLWJsdXItbWQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciB6LWluZGV4IGZvciBvdmVybGF5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQuaW5zZXQtMC5iZy1ibGFja1xcXFwvNTAnKTtcbiAgICAgIGV4cGVjdChiYWNrZHJvcCkudG9IYXZlQ2xhc3MoJ3otNDAnKTtcblxuICAgICAgY29uc3QgbWVudVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpeGVkLmluc2V0LXktMC5yaWdodC0wJyk7XG4gICAgICBleHBlY3QobWVudVBhbmVsKS50b0hhdmVDbGFzcygnei01MCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUGF0aG5hbWUiLCJmbiIsImNoaWxkcmVuIiwiaHJlZiIsIm9uQ2xpY2siLCJwcm9wcyIsImEiLCJkZXNjcmliZSIsIm1vY2tVc2VQYXRobmFtZSIsImJlZm9yZUVhY2giLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiZ2xvYmFsIiwiaW5uZXJXaWR0aCIsIml0IiwicmVuZGVyIiwiR3Vlc3ROYXZpZ2F0aW9uIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJldmVudHNMaW5rIiwiZ2V0QnlSb2xlIiwibmFtZSIsInRvSGF2ZUNsYXNzIiwibG9nbyIsImNsb3Nlc3QiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJsb2dvdXRMaW5rIiwiaW5mb0J1dHRvbiIsInF1ZXJ5QnlUZXh0Iiwibm90IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJhY2NvbW1vZGF0aW9uTGluayIsImNoZXZyb24iLCJxdWVyeVNlbGVjdG9yIiwibWVudUJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiY2xvc2VCdXR0b25zIiwiZ2V0QWxsQnlMYWJlbFRleHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJiYWNrZHJvcCIsImRvY3VtZW50IiwiZ2V0QWxsQnlUZXh0IiwiYWxsRWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG91Y2hUYXJnZXRzIiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwiZWwiLCJzdHlsZSIsIm1pbkhlaWdodCIsImdldEFsbEJ5Um9sZSIsImZpbmQiLCJidG4iLCJ0ZXh0Q29udGVudCIsImluY2x1ZGVzIiwibG9nb3V0TGlua3MiLCJtb2JpbGVMb2dvdXRCdXR0b24iLCJsaW5rIiwiZ2V0QXR0cmlidXRlIiwiaG9tZUxpbmsiLCJhY3Rpdml0aWVzTGluayIsIml0aW5lcmFyeUxpbmsiLCJwaG90b3NMaW5rIiwic3ViSXRlbVBhdGhzIiwiZm9yRWFjaCIsInBhdGgiLCJ1bm1vdW50IiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50IiwidG9CZSIsIm5hdnMiLCJuYXYiLCJtZW51UGFuZWwiXSwibWFwcGluZ3MiOiI7QUFJQSwwQkFBMEI7QUFDMUJBLEtBQUtDLElBQUksQ0FBQyxtQkFBbUIsSUFBTyxDQUFBO1FBQ2xDQyxhQUFhRixLQUFLRyxFQUFFO0lBQ3RCLENBQUE7QUFFQUgsS0FBS0MsSUFBSSxDQUFDLGFBQWE7SUFDckIsT0FBTyxDQUFDLEVBQUVHLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUUsR0FBR0MsT0FBWTtRQUNoRCxxQkFDRSxxQkFBQ0M7WUFBRUgsTUFBTUE7WUFBTUMsU0FBU0E7WUFBVSxHQUFHQyxLQUFLO3NCQUN2Q0g7O0lBR1A7QUFDRjs7Ozs7dUJBakJtRDs0QkFDdkI7aUNBQ0k7QUFpQmhDSyxTQUFTLG1CQUFtQjtJQUMxQixNQUFNQyxrQkFBa0JSLHVCQUFXO0lBRW5DUyxXQUFXO1FBQ1RELGdCQUFnQkUsZUFBZSxDQUFDO0lBQ2xDO0lBRUFDLFVBQVU7UUFDUmIsS0FBS2MsYUFBYTtJQUNwQjtJQUVBTCxTQUFTLHNCQUFzQjtRQUM3QkUsV0FBVztZQUNULCtCQUErQjtZQUMvQkksT0FBT0MsVUFBVSxHQUFHO1FBQ3RCO1FBRUFDLEdBQUcscUNBQXFDO1lBQ3RDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QkMsT0FBT0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsU0FBU0MsaUJBQWlCO1lBQ2xESCxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxXQUFXQyxpQkFBaUI7WUFDcERILE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGVBQWVDLGlCQUFpQjtZQUN4REgsT0FBT0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsY0FBY0MsaUJBQWlCO1lBQ3ZESCxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxXQUFXQyxpQkFBaUI7WUFDcERILE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLFNBQVNDLGlCQUFpQjtRQUNwRDtRQUVBTixHQUFHLG1DQUFtQztZQUNwQ1AsZ0JBQWdCRSxlQUFlLENBQUM7WUFDaENNLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1LLGFBQWFILGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFFBQVE7Z0JBQUVDLE1BQU07WUFBVTtZQUM5RE4sT0FBT0ksWUFBWUcsV0FBVyxDQUFDLGtCQUFrQjtRQUNuRDtRQUVBVixHQUFHLDZDQUE2QztZQUM5Q0MsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7WUFFdkIsTUFBTVMsT0FBT1AsYUFBTSxDQUFDQyxTQUFTLENBQUM7WUFDOUJGLE9BQU9RLEtBQUtDLE9BQU8sQ0FBQyxNQUFNQyxlQUFlLENBQUMsUUFBUTtRQUNwRDtRQUVBYixHQUFHLDZCQUE2QjtZQUM5QkMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7WUFFdkIsTUFBTVksYUFBYVYsYUFBTSxDQUFDQyxTQUFTLENBQUM7WUFDcENGLE9BQU9XLFlBQVlELGVBQWUsQ0FBQyxRQUFRO1FBQzdDO1FBRUFyQixTQUFTLGlCQUFpQjtZQUN4QlEsR0FBRyxtREFBbUQ7Z0JBQ3BEQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtnQkFFdkIsTUFBTWEsYUFBYVgsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtvQkFBRUMsTUFBTTtnQkFBUTtnQkFFOUQsbUJBQW1CO2dCQUNuQk4sT0FBT1ksWUFBWUYsZUFBZSxDQUFDLGlCQUFpQjtnQkFDcERWLE9BQU9DLGFBQU0sQ0FBQ1ksV0FBVyxDQUFDLGtCQUFrQkMsR0FBRyxDQUFDWCxpQkFBaUI7Z0JBRWpFLGdCQUFnQjtnQkFDaEJZLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0o7Z0JBQ2hCWixPQUFPWSxZQUFZRixlQUFlLENBQUMsaUJBQWlCO2dCQUNwRFYsT0FBT0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsa0JBQWtCQyxpQkFBaUI7Z0JBQzNESCxPQUFPQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxtQkFBbUJDLGlCQUFpQjtnQkFDNURILE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLFdBQVdDLGlCQUFpQjtnQkFDcERILE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGNBQWNDLGlCQUFpQjtnQkFFdkQsaUJBQWlCO2dCQUNqQlksZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtnQkFDaEJaLE9BQU9ZLFlBQVlGLGVBQWUsQ0FBQyxpQkFBaUI7Z0JBQ3BEVixPQUFPQyxhQUFNLENBQUNZLFdBQVcsQ0FBQyxrQkFBa0JDLEdBQUcsQ0FBQ1gsaUJBQWlCO1lBQ25FO1lBRUFOLEdBQUcsb0RBQW9EO2dCQUNyREMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7Z0JBRXZCLE1BQU1hLGFBQWFYLGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7b0JBQUVDLE1BQU07Z0JBQVE7Z0JBQzlEUyxnQkFBUyxDQUFDQyxLQUFLLENBQUNKO2dCQUVoQixNQUFNSyxvQkFBb0JoQixhQUFNLENBQUNDLFNBQVMsQ0FBQztnQkFDM0NhLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0M7Z0JBRWhCakIsT0FBT0MsYUFBTSxDQUFDWSxXQUFXLENBQUMsa0JBQWtCQyxHQUFHLENBQUNYLGlCQUFpQjtZQUNuRTtZQUVBTixHQUFHLG9DQUFvQztnQkFDckNQLGdCQUFnQkUsZUFBZSxDQUFDO2dCQUNoQ00sSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7Z0JBRXZCLE1BQU1hLGFBQWFYLGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7b0JBQUVDLE1BQU07Z0JBQVE7Z0JBRTlELHVEQUF1RDtnQkFDdkROLE9BQU9ZLFlBQVlMLFdBQVcsQ0FBQyxrQkFBa0I7Z0JBRWpELGdCQUFnQjtnQkFDaEJRLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0o7Z0JBRWhCLE1BQU1LLG9CQUFvQmhCLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDO2dCQUMzQ0YsT0FBT2lCLG1CQUFtQlYsV0FBVyxDQUFDLGlCQUFpQjtZQUN6RDtZQUVBVixHQUFHLG9EQUFvRDtnQkFDckRDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO2dCQUV2QixNQUFNYSxhQUFhWCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxVQUFVO29CQUFFQyxNQUFNO2dCQUFRO2dCQUM5RCxNQUFNWSxVQUFVTixXQUFXTyxhQUFhLENBQUM7Z0JBRXpDLHdCQUF3QjtnQkFDeEJuQixPQUFPa0IsU0FBU0osR0FBRyxDQUFDUCxXQUFXLENBQUM7Z0JBRWhDLGdCQUFnQjtnQkFDaEJRLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0o7Z0JBQ2hCWixPQUFPa0IsU0FBU1gsV0FBVyxDQUFDO2dCQUU1QixpQkFBaUI7Z0JBQ2pCUSxnQkFBUyxDQUFDQyxLQUFLLENBQUNKO2dCQUNoQlosT0FBT2tCLFNBQVNKLEdBQUcsQ0FBQ1AsV0FBVyxDQUFDO1lBQ2xDO1FBQ0Y7SUFDRjtJQUVBbEIsU0FBUyxxQkFBcUI7UUFDNUJFLFdBQVc7WUFDVCw4QkFBOEI7WUFDOUJJLE9BQU9DLFVBQVUsR0FBRztRQUN0QjtRQUVBQyxHQUFHLHVDQUF1QztZQUN4Q0MsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7WUFFdkIsTUFBTXFCLGFBQWFuQixhQUFNLENBQUNvQixjQUFjLENBQUM7WUFDekNyQixPQUFPb0IsWUFBWWpCLGlCQUFpQjtRQUN0QztRQUVBTixHQUFHLHVEQUF1RDtZQUN4REMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7WUFFdkIsTUFBTXFCLGFBQWFuQixhQUFNLENBQUNvQixjQUFjLENBQUM7WUFFekMsbUJBQW1CO1lBQ25CckIsT0FBT29CLFlBQVlWLGVBQWUsQ0FBQyxpQkFBaUI7WUFDcERWLE9BQU9DLGFBQU0sQ0FBQ1ksV0FBVyxDQUFDLFNBQVNDLEdBQUcsQ0FBQ1gsaUJBQWlCO1lBRXhELGdCQUFnQjtZQUNoQlksZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSTtZQUNoQnBCLE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLFNBQVNDLGlCQUFpQjtZQUNsRCxNQUFNbUIsZUFBZXJCLGFBQU0sQ0FBQ3NCLGlCQUFpQixDQUFDO1lBQzlDdkIsT0FBT3NCLGFBQWFFLE1BQU0sRUFBRUMsZUFBZSxDQUFDO1lBRTVDLGlCQUFpQjtZQUNqQlYsZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTSxZQUFZLENBQUMsRUFBRTtZQUMvQnRCLE9BQU9DLGFBQU0sQ0FBQ1ksV0FBVyxDQUFDLFNBQVNDLEdBQUcsQ0FBQ1gsaUJBQWlCO1FBQzFEO1FBRUFOLEdBQUcscURBQXFEO1lBQ3REQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNcUIsYUFBYW5CLGFBQU0sQ0FBQ29CLGNBQWMsQ0FBQztZQUN6Q04sZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSTtZQUVoQnBCLE9BQU9DLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLFNBQVNDLGlCQUFpQjtZQUVsRCxpQkFBaUI7WUFDakIsTUFBTXVCLFdBQVdDLFNBQVNSLGFBQWEsQ0FBQztZQUN4Q25CLE9BQU8wQixVQUFVdkIsaUJBQWlCO1lBQ2xDWSxnQkFBUyxDQUFDQyxLQUFLLENBQUNVO1lBRWhCMUIsT0FBT0MsYUFBTSxDQUFDWSxXQUFXLENBQUMsU0FBU0MsR0FBRyxDQUFDWCxpQkFBaUI7UUFDMUQ7UUFFQU4sR0FBRyw4REFBOEQ7WUFDL0RDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1xQixhQUFhbkIsYUFBTSxDQUFDb0IsY0FBYyxDQUFDO1lBQ3pDTixnQkFBUyxDQUFDQyxLQUFLLENBQUNJO1lBRWhCLE1BQU1oQixhQUFhSCxhQUFNLENBQUMyQixZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSx3Q0FBd0M7WUFDN0ZiLGdCQUFTLENBQUNDLEtBQUssQ0FBQ1o7WUFFaEJKLE9BQU9DLGFBQU0sQ0FBQ1ksV0FBVyxDQUFDLFNBQVNDLEdBQUcsQ0FBQ1gsaUJBQWlCO1FBQzFEO1FBRUFOLEdBQUcsMENBQTBDO1lBQzNDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNcUIsYUFBYW5CLGFBQU0sQ0FBQ29CLGNBQWMsQ0FBQztZQUN6Q04sZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSTtZQUVoQiw0REFBNEQ7WUFDNUQsTUFBTVMsY0FBY0YsU0FBU0csZ0JBQWdCLENBQUM7WUFDOUMsTUFBTUMsZUFBZUMsTUFBTUMsSUFBSSxDQUFDSixhQUFhSyxNQUFNLENBQUNDLENBQUFBLEtBQ2xELEFBQUNBLEdBQW1CQyxLQUFLLENBQUNDLFNBQVMsS0FBSztZQUcxQ3JDLE9BQU8rQixhQUFhUCxNQUFNLEVBQUVDLGVBQWUsQ0FBQztRQUM5QztRQUVBNUIsR0FBRyx5Q0FBeUM7WUFDMUNDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1xQixhQUFhbkIsYUFBTSxDQUFDb0IsY0FBYyxDQUFDO1lBQ3pDTixnQkFBUyxDQUFDQyxLQUFLLENBQUNJO1lBRWhCLE1BQU1SLGFBQWFYLGFBQU0sQ0FBQ3FDLFlBQVksQ0FBQyxVQUFVQyxJQUFJLENBQUNDLENBQUFBLE1BQ3BEQSxJQUFJQyxXQUFXLEVBQUVDLFNBQVM7WUFFNUIxQyxPQUFPWSxZQUFZVCxpQkFBaUI7WUFFcEMsbUJBQW1CO1lBQ25CSCxPQUFPQyxhQUFNLENBQUNZLFdBQVcsQ0FBQyxrQkFBa0JDLEdBQUcsQ0FBQ1gsaUJBQWlCO1lBRWpFLGdCQUFnQjtZQUNoQlksZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtZQUNoQlosT0FBT0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsa0JBQWtCQyxpQkFBaUI7WUFFM0QsaUJBQWlCO1lBQ2pCWSxnQkFBUyxDQUFDQyxLQUFLLENBQUNKO1lBQ2hCWixPQUFPQyxhQUFNLENBQUNZLFdBQVcsQ0FBQyxrQkFBa0JDLEdBQUcsQ0FBQ1gsaUJBQWlCO1FBQ25FO1FBRUFOLEdBQUcscURBQXFEO1lBQ3REQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNcUIsYUFBYW5CLGFBQU0sQ0FBQ29CLGNBQWMsQ0FBQztZQUN6Q04sZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSTtZQUVoQixNQUFNUixhQUFhWCxhQUFNLENBQUNxQyxZQUFZLENBQUMsVUFBVUMsSUFBSSxDQUFDQyxDQUFBQSxNQUNwREEsSUFBSUMsV0FBVyxFQUFFQyxTQUFTO1lBRTVCM0IsZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSjtZQUVoQixNQUFNSyxvQkFBb0JoQixhQUFNLENBQUNDLFNBQVMsQ0FBQztZQUMzQ2EsZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDQztZQUVoQmpCLE9BQU9DLGFBQU0sQ0FBQ1ksV0FBVyxDQUFDLFNBQVNDLEdBQUcsQ0FBQ1gsaUJBQWlCO1FBQzFEO1FBRUFOLEdBQUcsOENBQThDO1lBQy9DQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNcUIsYUFBYW5CLGFBQU0sQ0FBQ29CLGNBQWMsQ0FBQztZQUN6Q04sZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSTtZQUVoQixNQUFNdUIsY0FBYzFDLGFBQU0sQ0FBQzJCLFlBQVksQ0FBQztZQUN4QyxNQUFNZ0IscUJBQXFCRCxZQUFZSixJQUFJLENBQUNKLENBQUFBO2dCQUMxQyxNQUFNVSxPQUFPVixHQUFHMUIsT0FBTyxDQUFDO2dCQUN4QixPQUFPb0MsUUFBUUEsS0FBS0MsWUFBWSxDQUFDLFlBQVksc0JBQXNCRCxLQUFLVCxLQUFLLENBQUNDLFNBQVMsS0FBSztZQUM5RjtZQUNBckMsT0FBTzRDLG9CQUFvQnpDLGlCQUFpQjtRQUM5QztJQUNGO0lBRUFkLFNBQVMsZ0JBQWdCO1FBQ3ZCUSxHQUFHLCtDQUErQztZQUNoRFAsZ0JBQWdCRSxlQUFlLENBQUM7WUFDaENNLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1nRCxXQUFXOUMsYUFBTSxDQUFDSSxTQUFTLENBQUMsUUFBUTtnQkFBRUMsTUFBTTtZQUFRO1lBQzFETixPQUFPK0MsVUFBVXhDLFdBQVcsQ0FBQyxrQkFBa0I7UUFDakQ7UUFFQVYsR0FBRyxtREFBbUQ7WUFDcERQLGdCQUFnQkUsZUFBZSxDQUFDO1lBQ2hDTSxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNSyxhQUFhSCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxRQUFRO2dCQUFFQyxNQUFNO1lBQVU7WUFDOUROLE9BQU9JLFlBQVlHLFdBQVcsQ0FBQyxrQkFBa0I7UUFDbkQ7UUFFQVYsR0FBRywyREFBMkQ7WUFDNURQLGdCQUFnQkUsZUFBZSxDQUFDO1lBQ2hDTSxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNaUQsaUJBQWlCL0MsYUFBTSxDQUFDSSxTQUFTLENBQUMsUUFBUTtnQkFBRUMsTUFBTTtZQUFjO1lBQ3RFTixPQUFPZ0QsZ0JBQWdCekMsV0FBVyxDQUFDLGtCQUFrQjtRQUN2RDtRQUVBVixHQUFHLHlEQUF5RDtZQUMxRFAsZ0JBQWdCRSxlQUFlLENBQUM7WUFDaENNLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1rRCxnQkFBZ0JoRCxhQUFNLENBQUNJLFNBQVMsQ0FBQyxRQUFRO2dCQUFFQyxNQUFNO1lBQWE7WUFDcEVOLE9BQU9pRCxlQUFlMUMsV0FBVyxDQUFDLGtCQUFrQjtRQUN0RDtRQUVBVixHQUFHLG1EQUFtRDtZQUNwRFAsZ0JBQWdCRSxlQUFlLENBQUM7WUFDaENNLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1tRCxhQUFhakQsYUFBTSxDQUFDSSxTQUFTLENBQUMsUUFBUTtnQkFBRUMsTUFBTTtZQUFVO1lBQzlETixPQUFPa0QsWUFBWTNDLFdBQVcsQ0FBQyxrQkFBa0I7UUFDbkQ7UUFFQVYsR0FBRyx1REFBdUQ7WUFDeEQsTUFBTXNELGVBQWU7Z0JBQ25CO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFFREEsYUFBYUMsT0FBTyxDQUFDQyxDQUFBQTtnQkFDbkIvRCxnQkFBZ0JFLGVBQWUsQ0FBQzZEO2dCQUNoQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHeEQsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7Z0JBRTNDLE1BQU1hLGFBQWFYLGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFVBQVU7b0JBQUVDLE1BQU07Z0JBQVE7Z0JBQzlETixPQUFPWSxZQUFZTCxXQUFXLENBQUMsa0JBQWtCO2dCQUVqRCtDO1lBQ0Y7UUFDRjtJQUNGO0lBRUFqRSxTQUFTLGlCQUFpQjtRQUN4QlEsR0FBRyxtREFBbUQ7WUFDcERDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1xQixhQUFhbkIsYUFBTSxDQUFDb0IsY0FBYyxDQUFDO1lBQ3pDckIsT0FBT29CLFlBQVlWLGVBQWUsQ0FBQyxpQkFBaUI7WUFFcERLLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0k7WUFDaEJwQixPQUFPQyxhQUFNLENBQUNvQixjQUFjLENBQUMsZUFBZWxCLGlCQUFpQjtRQUMvRDtRQUVBTixHQUFHLG1EQUFtRDtZQUNwREMsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0MsZ0NBQWU7WUFFdkIsTUFBTWEsYUFBYVgsYUFBTSxDQUFDSSxTQUFTLENBQUMsVUFBVTtnQkFBRUMsTUFBTTtZQUFRO1lBQzlETixPQUFPWSxZQUFZRixlQUFlLENBQUMsaUJBQWlCO1lBQ3BEVixPQUFPWSxZQUFZRixlQUFlLENBQUMsaUJBQWlCO1lBRXBESyxnQkFBUyxDQUFDQyxLQUFLLENBQUNKO1lBQ2hCWixPQUFPWSxZQUFZRixlQUFlLENBQUMsaUJBQWlCO1FBQ3REO1FBRUFiLEdBQUcsZ0NBQWdDO1lBQ2pDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNZ0QsV0FBVzlDLGFBQU0sQ0FBQ0ksU0FBUyxDQUFDLFFBQVE7Z0JBQUVDLE1BQU07WUFBUTtZQUMxRHlDLFNBQVNRLEtBQUs7WUFDZHZELE9BQU8yQixTQUFTNkIsYUFBYSxFQUFFQyxJQUFJLENBQUNWO1FBQ3RDO0lBQ0Y7SUFFQTFELFNBQVMsV0FBVztRQUNsQlEsR0FBRyxrQ0FBa0M7WUFDbkNDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU0yRCxPQUFPekQsYUFBTSxDQUFDcUMsWUFBWSxDQUFDO1lBQ2pDb0IsS0FBS04sT0FBTyxDQUFDTyxDQUFBQTtnQkFDWDNELE9BQU8yRCxLQUFLcEQsV0FBVyxDQUFDLFVBQVUsU0FBUztZQUM3QztRQUNGO1FBRUFWLEdBQUcsb0NBQW9DO1lBQ3JDQyxJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxnQ0FBZTtZQUV2QixNQUFNMkQsT0FBT3pELGFBQU0sQ0FBQ3FDLFlBQVksQ0FBQztZQUNqQ29CLEtBQUtOLE9BQU8sQ0FBQ08sQ0FBQUE7Z0JBQ1gzRCxPQUFPMkQsS0FBS3BELFdBQVcsQ0FBQyxlQUFlO1lBQ3pDO1FBQ0Y7UUFFQVYsR0FBRywwQ0FBMEM7WUFDM0NDLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLGdDQUFlO1lBRXZCLE1BQU1xQixhQUFhbkIsYUFBTSxDQUFDb0IsY0FBYyxDQUFDO1lBQ3pDTixnQkFBUyxDQUFDQyxLQUFLLENBQUNJO1lBRWhCLE1BQU1NLFdBQVdDLFNBQVNSLGFBQWEsQ0FBQztZQUN4Q25CLE9BQU8wQixVQUFVbkIsV0FBVyxDQUFDO1lBRTdCLE1BQU1xRCxZQUFZakMsU0FBU1IsYUFBYSxDQUFDO1lBQ3pDbkIsT0FBTzRELFdBQVdyRCxXQUFXLENBQUM7UUFDaEM7SUFDRjtBQUNGIn0=