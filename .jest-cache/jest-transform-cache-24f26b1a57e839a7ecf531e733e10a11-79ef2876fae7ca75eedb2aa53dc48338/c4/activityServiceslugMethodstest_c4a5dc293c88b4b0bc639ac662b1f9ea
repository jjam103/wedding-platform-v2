d1b8db0b7f6d36332406de9569410aad
/**
 * Unit Tests for Activity Service Slug Methods
 * 
 * Tests the slug-related functionality in activityService including:
 * - getBySlug method
 * - Slug generation on create
 * - Slug preservation on update
 * - Slug validation
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _activityService = require("./activityService");
describe('activityService - Slug Methods', ()=>{
    // Clean up test activities after each test
    const createdActivityIds = [];
    afterEach(async ()=>{
        // Clean up all created activities
        for (const id of createdActivityIds){
            await (0, _activityService.deleteActivity)(id);
        }
        createdActivityIds.length = 0;
    });
    describe('getBySlug', ()=>{
        it('should retrieve activity by slug', async ()=>{
            // Create activity
            const createResult = await (0, _activityService.create)({
                name: 'Beach Volleyball',
                activityType: 'activity',
                startTime: '2025-06-15T10:00:00Z'
            });
            expect(createResult.success).toBe(true);
            if (!createResult.success) return;
            createdActivityIds.push(createResult.data.id);
            const slug = createResult.data.slug;
            // Retrieve by slug
            const getResult = await (0, _activityService.getBySlug)(slug);
            expect(getResult.success).toBe(true);
            if (!getResult.success) return;
            expect(getResult.data.id).toBe(createResult.data.id);
            expect(getResult.data.name).toBe('Beach Volleyball');
            expect(getResult.data.slug).toBe(slug);
        });
        it('should return NOT_FOUND for non-existent slug', async ()=>{
            const result = await (0, _activityService.getBySlug)('non-existent-activity-slug');
            expect(result.success).toBe(false);
            if (result.success) return;
            expect(result.error.code).toBe('NOT_FOUND');
        });
        it('should return VALIDATION_ERROR for empty slug', async ()=>{
            const result = await (0, _activityService.getBySlug)('');
            expect(result.success).toBe(false);
            if (result.success) return;
            expect(result.error.code).toBe('VALIDATION_ERROR');
        });
    });
    describe('Slug Generation on Create', ()=>{
        it('should generate slug from activity name', async ()=>{
            const result = await (0, _activityService.create)({
                name: 'Sunset Cruise',
                activityType: 'activity',
                startTime: '2025-06-15T18:00:00Z'
            });
            expect(result.success).toBe(true);
            if (!result.success) return;
            createdActivityIds.push(result.data.id);
            expect(result.data.slug).toBe('sunset-cruise');
        });
        it('should generate URL-safe slug from name with special characters', async ()=>{
            const result = await (0, _activityService.create)({
                name: 'Yoga & Meditation Session!',
                activityType: 'activity',
                startTime: '2025-06-15T07:00:00Z'
            });
            expect(result.success).toBe(true);
            if (!result.success) return;
            createdActivityIds.push(result.data.id);
            // Special characters should be removed
            expect(result.data.slug).toMatch(/^[a-z0-9-]+$/);
            expect(result.data.slug).not.toContain('&');
            expect(result.data.slug).not.toContain('!');
        });
        it('should generate unique slugs for duplicate names', async ()=>{
            // Create first activity
            const result1 = await (0, _activityService.create)({
                name: 'Snorkeling',
                activityType: 'activity',
                startTime: '2025-06-15T09:00:00Z'
            });
            expect(result1.success).toBe(true);
            if (!result1.success) return;
            createdActivityIds.push(result1.data.id);
            // Create second activity with same name
            const result2 = await (0, _activityService.create)({
                name: 'Snorkeling',
                activityType: 'activity',
                startTime: '2025-06-15T14:00:00Z'
            });
            expect(result2.success).toBe(true);
            if (!result2.success) return;
            createdActivityIds.push(result2.data.id);
            // Slugs should be different
            expect(result1.data.slug).toBe('snorkeling');
            expect(result2.data.slug).toBe('snorkeling-2');
        });
        it('should return VALIDATION_ERROR for name with no alphanumeric characters', async ()=>{
            const result = await (0, _activityService.create)({
                name: '---',
                activityType: 'activity',
                startTime: '2025-06-15T10:00:00Z'
            });
            expect(result.success).toBe(false);
            if (result.success) return;
            expect(result.error.code).toBe('VALIDATION_ERROR');
            expect(result.error.message).toContain('alphanumeric character');
        });
        it('should handle names with multiple spaces', async ()=>{
            const result = await (0, _activityService.create)({
                name: 'Zip    Line    Adventure',
                activityType: 'activity',
                startTime: '2025-06-16T11:00:00Z'
            });
            expect(result.success).toBe(true);
            if (!result.success) return;
            createdActivityIds.push(result.data.id);
            // Multiple spaces should be collapsed to single hyphens
            expect(result.data.slug).toBe('zip-line-adventure');
            expect(result.data.slug).not.toContain('--');
        });
    });
    describe('Slug Preservation on Update', ()=>{
        it('should preserve slug when updating activity name', async ()=>{
            // Create activity
            const createResult = await (0, _activityService.create)({
                name: 'Original Activity',
                activityType: 'activity',
                startTime: '2025-06-15T10:00:00Z'
            });
            expect(createResult.success).toBe(true);
            if (!createResult.success) return;
            createdActivityIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update name
            const updateResult = await (0, _activityService.update)(createResult.data.id, {
                name: 'Updated Activity'
            });
            expect(updateResult.success).toBe(true);
            if (!updateResult.success) return;
            // Slug should remain unchanged
            expect(updateResult.data.slug).toBe(originalSlug);
            expect(updateResult.data.name).toBe('Updated Activity');
        });
        it('should preserve slug when updating description', async ()=>{
            // Create activity
            const createResult = await (0, _activityService.create)({
                name: 'Test Activity',
                activityType: 'activity',
                startTime: '2025-06-15T10:00:00Z',
                description: 'Original description'
            });
            expect(createResult.success).toBe(true);
            if (!createResult.success) return;
            createdActivityIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update description
            const updateResult = await (0, _activityService.update)(createResult.data.id, {
                description: 'Updated description'
            });
            expect(updateResult.success).toBe(true);
            if (!updateResult.success) return;
            // Slug should remain unchanged
            expect(updateResult.data.slug).toBe(originalSlug);
        });
        it('should preserve slug across multiple updates', async ()=>{
            // Create activity
            const createResult = await (0, _activityService.create)({
                name: 'Initial Activity',
                activityType: 'activity',
                startTime: '2025-06-15T10:00:00Z'
            });
            expect(createResult.success).toBe(true);
            if (!createResult.success) return;
            createdActivityIds.push(createResult.data.id);
            const originalSlug = createResult.data.slug;
            // Update name multiple times
            const names = [
                'First Update',
                'Second Update',
                'Third Update'
            ];
            for (const name of names){
                const updateResult = await (0, _activityService.update)(createResult.data.id, {
                    name
                });
                expect(updateResult.success).toBe(true);
                if (!updateResult.success) continue;
                expect(updateResult.data.slug).toBe(originalSlug);
            }
        });
    });
    describe('Slug Validation', ()=>{
        it('should accept valid slug patterns', async ()=>{
            const validNames = [
                'simple-activity',
                'activity-with-numbers-123',
                'a',
                'activity-2'
            ];
            for (const name of validNames){
                const result = await (0, _activityService.create)({
                    name,
                    activityType: 'activity',
                    startTime: '2025-06-15T10:00:00Z'
                });
                expect(result.success).toBe(true);
                if (!result.success) continue;
                createdActivityIds.push(result.data.id);
                expect(result.data.slug).toMatch(/^[a-z0-9-]+$/);
            }
        });
        it('should handle unicode characters in names', async ()=>{
            const result = await (0, _activityService.create)({
                name: 'Pi√±a Colada Making',
                activityType: 'activity',
                startTime: '2025-06-15T16:00:00Z'
            });
            expect(result.success).toBe(true);
            if (!result.success) return;
            createdActivityIds.push(result.data.id);
            // Unicode should be removed, leaving only ASCII
            expect(result.data.slug).toMatch(/^[a-z0-9-]+$/);
            expect(result.data.slug).not.toMatch(/[^\x00-\x7F]/);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvYWN0aXZpdHlTZXJ2aWNlLnNsdWdNZXRob2RzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbml0IFRlc3RzIGZvciBBY3Rpdml0eSBTZXJ2aWNlIFNsdWcgTWV0aG9kc1xuICogXG4gKiBUZXN0cyB0aGUgc2x1Zy1yZWxhdGVkIGZ1bmN0aW9uYWxpdHkgaW4gYWN0aXZpdHlTZXJ2aWNlIGluY2x1ZGluZzpcbiAqIC0gZ2V0QnlTbHVnIG1ldGhvZFxuICogLSBTbHVnIGdlbmVyYXRpb24gb24gY3JlYXRlXG4gKiAtIFNsdWcgcHJlc2VydmF0aW9uIG9uIHVwZGF0ZVxuICogLSBTbHVnIHZhbGlkYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGUsIHVwZGF0ZSwgZ2V0QnlTbHVnLCBkZWxldGVBY3Rpdml0eSB9IGZyb20gJy4vYWN0aXZpdHlTZXJ2aWNlJztcblxuZGVzY3JpYmUoJ2FjdGl2aXR5U2VydmljZSAtIFNsdWcgTWV0aG9kcycsICgpID0+IHtcbiAgLy8gQ2xlYW4gdXAgdGVzdCBhY3Rpdml0aWVzIGFmdGVyIGVhY2ggdGVzdFxuICBjb25zdCBjcmVhdGVkQWN0aXZpdHlJZHM6IHN0cmluZ1tdID0gW107XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBDbGVhbiB1cCBhbGwgY3JlYXRlZCBhY3Rpdml0aWVzXG4gICAgZm9yIChjb25zdCBpZCBvZiBjcmVhdGVkQWN0aXZpdHlJZHMpIHtcbiAgICAgIGF3YWl0IGRlbGV0ZUFjdGl2aXR5KGlkKTtcbiAgICB9XG4gICAgY3JlYXRlZEFjdGl2aXR5SWRzLmxlbmd0aCA9IDA7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRCeVNsdWcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBhY3Rpdml0eSBieSBzbHVnJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGFjdGl2aXR5XG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnQmVhY2ggVm9sbGV5YmFsbCcsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMDowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjcmVhdGVSZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghY3JlYXRlUmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2goY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgY29uc3Qgc2x1ZyA9IGNyZWF0ZVJlc3VsdC5kYXRhLnNsdWc7XG5cbiAgICAgIC8vIFJldHJpZXZlIGJ5IHNsdWdcbiAgICAgIGNvbnN0IGdldFJlc3VsdCA9IGF3YWl0IGdldEJ5U2x1ZyhzbHVnKTtcblxuICAgICAgZXhwZWN0KGdldFJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKCFnZXRSZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICBleHBlY3QoZ2V0UmVzdWx0LmRhdGEuaWQpLnRvQmUoY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgZXhwZWN0KGdldFJlc3VsdC5kYXRhLm5hbWUpLnRvQmUoJ0JlYWNoIFZvbGxleWJhbGwnKTtcbiAgICAgIGV4cGVjdChnZXRSZXN1bHQuZGF0YS5zbHVnKS50b0JlKHNsdWcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gTk9UX0ZPVU5EIGZvciBub24tZXhpc3RlbnQgc2x1ZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEJ5U2x1Zygnbm9uLWV4aXN0ZW50LWFjdGl2aXR5LXNsdWcnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ05PVF9GT1VORCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gVkFMSURBVElPTl9FUlJPUiBmb3IgZW1wdHkgc2x1ZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEJ5U2x1ZygnJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTbHVnIEdlbmVyYXRpb24gb24gQ3JlYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgc2x1ZyBmcm9tIGFjdGl2aXR5IG5hbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnU3Vuc2V0IENydWlzZScsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxODowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2gocmVzdWx0LmRhdGEuaWQpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEuc2x1ZykudG9CZSgnc3Vuc2V0LWNydWlzZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBVUkwtc2FmZSBzbHVnIGZyb20gbmFtZSB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgIG5hbWU6ICdZb2dhICYgTWVkaXRhdGlvbiBTZXNzaW9uIScsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQwNzowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2gocmVzdWx0LmRhdGEuaWQpO1xuXG4gICAgICAvLyBTcGVjaWFsIGNoYXJhY3RlcnMgc2hvdWxkIGJlIHJlbW92ZWRcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS50b01hdGNoKC9eW2EtejAtOS1dKyQvKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS5ub3QudG9Db250YWluKCcmJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEuc2x1Zykubm90LnRvQ29udGFpbignIScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB1bmlxdWUgc2x1Z3MgZm9yIGR1cGxpY2F0ZSBuYW1lcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBmaXJzdCBhY3Rpdml0eVxuICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgIG5hbWU6ICdTbm9ya2VsaW5nJyxcbiAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICBzdGFydFRpbWU6ICcyMDI1LTA2LTE1VDA5OjAwOjAwWicsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdDEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghcmVzdWx0MS5zdWNjZXNzKSByZXR1cm47XG5cbiAgICAgIGNyZWF0ZWRBY3Rpdml0eUlkcy5wdXNoKHJlc3VsdDEuZGF0YS5pZCk7XG5cbiAgICAgIC8vIENyZWF0ZSBzZWNvbmQgYWN0aXZpdHkgd2l0aCBzYW1lIG5hbWVcbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnU25vcmtlbGluZycsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxNDowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQyLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAoIXJlc3VsdDIuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICBjcmVhdGVkQWN0aXZpdHlJZHMucHVzaChyZXN1bHQyLmRhdGEuaWQpO1xuXG4gICAgICAvLyBTbHVncyBzaG91bGQgYmUgZGlmZmVyZW50XG4gICAgICBleHBlY3QocmVzdWx0MS5kYXRhLnNsdWcpLnRvQmUoJ3Nub3JrZWxpbmcnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQyLmRhdGEuc2x1ZykudG9CZSgnc25vcmtlbGluZy0yJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBWQUxJREFUSU9OX0VSUk9SIGZvciBuYW1lIHdpdGggbm8gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnLS0tJyxcbiAgICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgICBzdGFydFRpbWU6ICcyMDI1LTA2LTE1VDEwOjAwOjAwWicsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGlmIChyZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdhbHBoYW51bWVyaWMgY2hhcmFjdGVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuYW1lcyB3aXRoIG11bHRpcGxlIHNwYWNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgIG5hbWU6ICdaaXAgICAgTGluZSAgICBBZHZlbnR1cmUnLFxuICAgICAgICBhY3Rpdml0eVR5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHN0YXJ0VGltZTogJzIwMjUtMDYtMTZUMTE6MDA6MDBaJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSByZXR1cm47XG5cbiAgICAgIGNyZWF0ZWRBY3Rpdml0eUlkcy5wdXNoKHJlc3VsdC5kYXRhLmlkKTtcblxuICAgICAgLy8gTXVsdGlwbGUgc3BhY2VzIHNob3VsZCBiZSBjb2xsYXBzZWQgdG8gc2luZ2xlIGh5cGhlbnNcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS50b0JlKCd6aXAtbGluZS1hZHZlbnR1cmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS5ub3QudG9Db250YWluKCctLScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2x1ZyBQcmVzZXJ2YXRpb24gb24gVXBkYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJlc2VydmUgc2x1ZyB3aGVuIHVwZGF0aW5nIGFjdGl2aXR5IG5hbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgYWN0aXZpdHlcbiAgICAgIGNvbnN0IGNyZWF0ZVJlc3VsdCA9IGF3YWl0IGNyZWF0ZSh7XG4gICAgICAgIG5hbWU6ICdPcmlnaW5hbCBBY3Rpdml0eScsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMDowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjcmVhdGVSZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghY3JlYXRlUmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2goY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxTbHVnID0gY3JlYXRlUmVzdWx0LmRhdGEuc2x1ZztcblxuICAgICAgLy8gVXBkYXRlIG5hbWVcbiAgICAgIGNvbnN0IHVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZShjcmVhdGVSZXN1bHQuZGF0YS5pZCwge1xuICAgICAgICBuYW1lOiAnVXBkYXRlZCBBY3Rpdml0eScsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKCF1cGRhdGVSZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICAvLyBTbHVnIHNob3VsZCByZW1haW4gdW5jaGFuZ2VkXG4gICAgICBleHBlY3QodXBkYXRlUmVzdWx0LmRhdGEuc2x1ZykudG9CZShvcmlnaW5hbFNsdWcpO1xuICAgICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5kYXRhLm5hbWUpLnRvQmUoJ1VwZGF0ZWQgQWN0aXZpdHknKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJlc2VydmUgc2x1ZyB3aGVuIHVwZGF0aW5nIGRlc2NyaXB0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGFjdGl2aXR5XG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnVGVzdCBBY3Rpdml0eScsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMDowMDowMFonLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ09yaWdpbmFsIGRlc2NyaXB0aW9uJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoY3JlYXRlUmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAoIWNyZWF0ZVJlc3VsdC5zdWNjZXNzKSByZXR1cm47XG5cbiAgICAgIGNyZWF0ZWRBY3Rpdml0eUlkcy5wdXNoKGNyZWF0ZVJlc3VsdC5kYXRhLmlkKTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsU2x1ZyA9IGNyZWF0ZVJlc3VsdC5kYXRhLnNsdWc7XG5cbiAgICAgIC8vIFVwZGF0ZSBkZXNjcmlwdGlvblxuICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlKGNyZWF0ZVJlc3VsdC5kYXRhLmlkLCB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlZCBkZXNjcmlwdGlvbicsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHVwZGF0ZVJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgaWYgKCF1cGRhdGVSZXN1bHQuc3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICAvLyBTbHVnIHNob3VsZCByZW1haW4gdW5jaGFuZ2VkXG4gICAgICBleHBlY3QodXBkYXRlUmVzdWx0LmRhdGEuc2x1ZykudG9CZShvcmlnaW5hbFNsdWcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmVzZXJ2ZSBzbHVnIGFjcm9zcyBtdWx0aXBsZSB1cGRhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGFjdGl2aXR5XG4gICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnSW5pdGlhbCBBY3Rpdml0eScsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxMDowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChjcmVhdGVSZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghY3JlYXRlUmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2goY3JlYXRlUmVzdWx0LmRhdGEuaWQpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxTbHVnID0gY3JlYXRlUmVzdWx0LmRhdGEuc2x1ZztcblxuICAgICAgLy8gVXBkYXRlIG5hbWUgbXVsdGlwbGUgdGltZXNcbiAgICAgIGNvbnN0IG5hbWVzID0gWydGaXJzdCBVcGRhdGUnLCAnU2Vjb25kIFVwZGF0ZScsICdUaGlyZCBVcGRhdGUnXTtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB1cGRhdGUoY3JlYXRlUmVzdWx0LmRhdGEuaWQsIHsgbmFtZSB9KTtcblxuICAgICAgICBleHBlY3QodXBkYXRlUmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGlmICghdXBkYXRlUmVzdWx0LnN1Y2Nlc3MpIGNvbnRpbnVlO1xuXG4gICAgICAgIGV4cGVjdCh1cGRhdGVSZXN1bHQuZGF0YS5zbHVnKS50b0JlKG9yaWdpbmFsU2x1Zyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTbHVnIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhY2NlcHQgdmFsaWQgc2x1ZyBwYXR0ZXJucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkTmFtZXMgPSBbXG4gICAgICAgICdzaW1wbGUtYWN0aXZpdHknLFxuICAgICAgICAnYWN0aXZpdHktd2l0aC1udW1iZXJzLTEyMycsXG4gICAgICAgICdhJyxcbiAgICAgICAgJ2FjdGl2aXR5LTInLFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHZhbGlkTmFtZXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlKHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgICBzdGFydFRpbWU6ICcyMDI1LTA2LTE1VDEwOjAwOjAwWicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2VzcykgY29udGludWU7XG5cbiAgICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2gocmVzdWx0LmRhdGEuaWQpO1xuICAgICAgICBleHBlY3QocmVzdWx0LmRhdGEuc2x1ZykudG9NYXRjaCgvXlthLXowLTktXSskLyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmljb2RlIGNoYXJhY3RlcnMgaW4gbmFtZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGUoe1xuICAgICAgICBuYW1lOiAnUGnDsWEgQ29sYWRhIE1ha2luZycsXG4gICAgICAgIGFjdGl2aXR5VHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgc3RhcnRUaW1lOiAnMjAyNS0wNi0xNVQxNjowMDowMFonLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHJldHVybjtcblxuICAgICAgY3JlYXRlZEFjdGl2aXR5SWRzLnB1c2gocmVzdWx0LmRhdGEuaWQpO1xuXG4gICAgICAvLyBVbmljb2RlIHNob3VsZCBiZSByZW1vdmVkLCBsZWF2aW5nIG9ubHkgQVNDSUlcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS50b01hdGNoKC9eW2EtejAtOS1dKyQvKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5zbHVnKS5ub3QudG9NYXRjaCgvW15cXHgwMC1cXHg3Rl0vKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImNyZWF0ZWRBY3Rpdml0eUlkcyIsImFmdGVyRWFjaCIsImlkIiwiZGVsZXRlQWN0aXZpdHkiLCJsZW5ndGgiLCJpdCIsImNyZWF0ZVJlc3VsdCIsImNyZWF0ZSIsIm5hbWUiLCJhY3Rpdml0eVR5cGUiLCJzdGFydFRpbWUiLCJleHBlY3QiLCJzdWNjZXNzIiwidG9CZSIsInB1c2giLCJkYXRhIiwic2x1ZyIsImdldFJlc3VsdCIsImdldEJ5U2x1ZyIsInJlc3VsdCIsImVycm9yIiwiY29kZSIsInRvTWF0Y2giLCJub3QiLCJ0b0NvbnRhaW4iLCJyZXN1bHQxIiwicmVzdWx0MiIsIm1lc3NhZ2UiLCJvcmlnaW5hbFNsdWciLCJ1cGRhdGVSZXN1bHQiLCJ1cGRhdGUiLCJkZXNjcmlwdGlvbiIsIm5hbWVzIiwidmFsaWROYW1lcyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7aUNBRXlEO0FBRTFEQSxTQUFTLGtDQUFrQztJQUN6QywyQ0FBMkM7SUFDM0MsTUFBTUMscUJBQStCLEVBQUU7SUFFdkNDLFVBQVU7UUFDUixrQ0FBa0M7UUFDbEMsS0FBSyxNQUFNQyxNQUFNRixtQkFBb0I7WUFDbkMsTUFBTUcsSUFBQUEsK0JBQWMsRUFBQ0Q7UUFDdkI7UUFDQUYsbUJBQW1CSSxNQUFNLEdBQUc7SUFDOUI7SUFFQUwsU0FBUyxhQUFhO1FBQ3BCTSxHQUFHLG9DQUFvQztZQUNyQyxrQkFBa0I7WUFDbEIsTUFBTUMsZUFBZSxNQUFNQyxJQUFBQSx1QkFBTSxFQUFDO2dCQUNoQ0MsTUFBTTtnQkFDTkMsY0FBYztnQkFDZEMsV0FBVztZQUNiO1lBRUFDLE9BQU9MLGFBQWFNLE9BQU8sRUFBRUMsSUFBSSxDQUFDO1lBQ2xDLElBQUksQ0FBQ1AsYUFBYU0sT0FBTyxFQUFFO1lBRTNCWixtQkFBbUJjLElBQUksQ0FBQ1IsYUFBYVMsSUFBSSxDQUFDYixF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