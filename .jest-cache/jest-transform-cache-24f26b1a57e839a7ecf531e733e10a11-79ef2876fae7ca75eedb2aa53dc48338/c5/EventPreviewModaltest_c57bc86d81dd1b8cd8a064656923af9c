17256b5826c0d473f6ce4dcde0310175
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _EventPreviewModal = require("./EventPreviewModal");
// Mock Next.js router - MUST be at top level before any imports
const mockPush = _globals.jest.fn();
_globals.jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush
            })
    }));
// Mock fetch
global.fetch = _globals.jest.fn();
(0, _globals.describe)('EventPreviewModal', ()=>{
    const mockEvent = {
        id: 'event-123',
        title: 'Wedding Ceremony',
        date: '2024-06-15T16:00:00.000Z',
        time: '4:00 PM',
        location: 'Sunset Beach',
        description: 'Join us for our special day',
        activities: [
            {
                id: 'activity-1',
                title: 'Ceremony'
            },
            {
                id: 'activity-2',
                title: 'Reception'
            }
        ],
        slug: 'wedding-ceremony'
    };
    const mockRsvpStatus = {
        status: 'attending',
        guestCount: 2
    };
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
        global.fetch.mockClear();
    });
    (0, _globals.it)('should render modal with event data', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: [
                        mockRsvpStatus
                    ]
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Wedding Ceremony')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText('4:00 PM')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Sunset Beach')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Join us for our special day')).toBeInTheDocument();
    });
    (0, _globals.it)('should display activities list', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Activities')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText('Ceremony')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Reception')).toBeInTheDocument();
    });
    (0, _globals.it)('should display RSVP status badge', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: [
                        mockRsvpStatus
                    ]
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Attending')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText('Guest count: 2')).toBeInTheDocument();
    });
    (0, _globals.it)('should show RSVP Now button when no RSVP exists', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('RSVP Now')).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should navigate to full details page when View Full Details clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('View Full Details')).toBeInTheDocument();
        });
        _react.fireEvent.click(_react.screen.getByText('View Full Details'));
        (0, _globals.expect)(mockPush).toHaveBeenCalledWith('/event/wedding-ceremony');
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should navigate to RSVP page when RSVP Now clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('RSVP Now')).toBeInTheDocument();
        });
        _react.fireEvent.click(_react.screen.getByText('RSVP Now'));
        (0, _globals.expect)(mockPush).toHaveBeenCalledWith('/guest/rsvp?eventId=event-123');
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should close modal when close button clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Wedding Ceremony')).toBeInTheDocument();
        });
        const closeButton = _react.screen.getByLabelText('Close');
        _react.fireEvent.click(closeButton);
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should close modal when backdrop clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Wedding Ceremony')).toBeInTheDocument();
        });
        // Click the backdrop (the outer div with fixed positioning)
        const backdrop = container.firstChild;
        _react.fireEvent.click(backdrop);
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should display loading state while fetching data', ()=>{
        global.fetch.mockImplementation(()=>new Promise(()=>{}) // Never resolves
        );
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        // Check for loading spinner
        const loadingSpinner = document.querySelector('.animate-spin');
        (0, _globals.expect)(loadingSpinner).toBeInTheDocument();
    });
    (0, _globals.it)('should display error message when fetch fails', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: false,
            json: async ()=>({
                    success: false,
                    error: {
                        message: 'Failed to load event'
                    }
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Failed to load event')).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should handle event without optional fields', async ()=>{
        const minimalEvent = {
            id: 'event-123',
            title: 'Simple Event',
            date: '2024-06-15T16:00:00.000Z',
            activities: []
        };
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: minimalEvent
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_EventPreviewModal.EventPreviewModal, {
            eventId: "event-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Simple Event')).toBeInTheDocument();
        });
        // Should not display optional fields
        (0, _globals.expect)(_react.screen.queryByText('Time')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Location')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Description')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Activities')).not.toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9FdmVudFByZXZpZXdNb2RhbC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2NrIE5leHQuanMgcm91dGVyIC0gTVVTVCBiZSBhdCB0b3AgbGV2ZWwgYmVmb3JlIGFueSBpbXBvcnRzXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHB1c2g6IG1vY2tQdXNoLFxuICB9KSxcbn0pKTtcblxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IsIGZpcmVFdmVudCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgamVzdCwgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IEV2ZW50UHJldmlld01vZGFsIH0gZnJvbSAnLi9FdmVudFByZXZpZXdNb2RhbCc7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD47XG5cbmRlc2NyaWJlKCdFdmVudFByZXZpZXdNb2RhbCcsICgpID0+IHtcbiAgY29uc3QgbW9ja0V2ZW50ID0ge1xuICAgIGlkOiAnZXZlbnQtMTIzJyxcbiAgICB0aXRsZTogJ1dlZGRpbmcgQ2VyZW1vbnknLFxuICAgIGRhdGU6ICcyMDI0LTA2LTE1VDE2OjAwOjAwLjAwMFonLFxuICAgIHRpbWU6ICc0OjAwIFBNJyxcbiAgICBsb2NhdGlvbjogJ1N1bnNldCBCZWFjaCcsXG4gICAgZGVzY3JpcHRpb246ICdKb2luIHVzIGZvciBvdXIgc3BlY2lhbCBkYXknLFxuICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgIHsgaWQ6ICdhY3Rpdml0eS0xJywgdGl0bGU6ICdDZXJlbW9ueScgfSxcbiAgICAgIHsgaWQ6ICdhY3Rpdml0eS0yJywgdGl0bGU6ICdSZWNlcHRpb24nIH0sXG4gICAgXSxcbiAgICBzbHVnOiAnd2VkZGluZy1jZXJlbW9ueScsXG4gIH07XG5cbiAgY29uc3QgbW9ja1JzdnBTdGF0dXMgPSB7XG4gICAgc3RhdHVzOiAnYXR0ZW5kaW5nJyBhcyBjb25zdCxcbiAgICBndWVzdENvdW50OiAyLFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KS5tb2NrQ2xlYXIoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgbW9kYWwgd2l0aCBldmVudCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrRXZlbnQgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1JzdnBTdGF0dXNdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8RXZlbnRQcmV2aWV3TW9kYWwgZXZlbnRJZD1cImV2ZW50LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlZGRpbmcgQ2VyZW1vbnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc0OjAwIFBNJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N1bnNldCBCZWFjaCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKb2luIHVzIGZvciBvdXIgc3BlY2lhbCBkYXknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IGFjdGl2aXRpZXMgbGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0V2ZW50IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxFdmVudFByZXZpZXdNb2RhbCBldmVudElkPVwiZXZlbnQtMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NlcmVtb255JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JlY2VwdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgUlNWUCBzdGF0dXMgYmFkZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tFdmVudCB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrUnN2cFN0YXR1c10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxFdmVudFByZXZpZXdNb2RhbCBldmVudElkPVwiZXZlbnQtMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQXR0ZW5kaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgY291bnQ6IDInKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IFJTVlAgTm93IGJ1dHRvbiB3aGVuIG5vIFJTVlAgZXhpc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrRXZlbnQgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEV2ZW50UHJldmlld01vZGFsIGV2ZW50SWQ9XCJldmVudC0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSU1ZQIE5vdycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5hdmlnYXRlIHRvIGZ1bGwgZGV0YWlscyBwYWdlIHdoZW4gVmlldyBGdWxsIERldGFpbHMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0V2ZW50IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxFdmVudFByZXZpZXdNb2RhbCBldmVudElkPVwiZXZlbnQtMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVmlldyBGdWxsIERldGFpbHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdWaWV3IEZ1bGwgRGV0YWlscycpKTtcblxuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ldmVudC93ZWRkaW5nLWNlcmVtb255Jyk7XG4gICAgZXhwZWN0KG9uQ2xvc2UpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBuYXZpZ2F0ZSB0byBSU1ZQIHBhZ2Ugd2hlbiBSU1ZQIE5vdyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrRXZlbnQgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEV2ZW50UHJldmlld01vZGFsIGV2ZW50SWQ9XCJldmVudC0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdSU1ZQIE5vdycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1JTVlAgTm93JykpO1xuXG4gICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2d1ZXN0L3JzdnA/ZXZlbnRJZD1ldmVudC0xMjMnKTtcbiAgICBleHBlY3Qob25DbG9zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNsb3NlIG1vZGFsIHdoZW4gY2xvc2UgYnV0dG9uIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tFdmVudCB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8RXZlbnRQcmV2aWV3TW9kYWwgZXZlbnRJZD1cImV2ZW50LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlZGRpbmcgQ2VyZW1vbnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDbG9zZScpO1xuICAgIGZpcmVFdmVudC5jbGljayhjbG9zZUJ1dHRvbik7XG5cbiAgICBleHBlY3Qob25DbG9zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNsb3NlIG1vZGFsIHdoZW4gYmFja2Ryb3AgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0V2ZW50IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcig8RXZlbnRQcmV2aWV3TW9kYWwgZXZlbnRJZD1cImV2ZW50LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1dlZGRpbmcgQ2VyZW1vbnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIENsaWNrIHRoZSBiYWNrZHJvcCAodGhlIG91dGVyIGRpdiB3aXRoIGZpeGVkIHBvc2l0aW9uaW5nKVxuICAgIGNvbnN0IGJhY2tkcm9wID0gY29udGFpbmVyLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tkcm9wKTtcblxuICAgIGV4cGVjdChvbkNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBsb2FkaW5nIHN0YXRlIHdoaWxlIGZldGNoaW5nIGRhdGEnLCAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tJbXBsZW1lbnRhdGlvbihcbiAgICAgICgpID0+IG5ldyBQcm9taXNlKCgpID0+IHt9KSAvLyBOZXZlciByZXNvbHZlc1xuICAgICk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8RXZlbnRQcmV2aWV3TW9kYWwgZXZlbnRJZD1cImV2ZW50LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIC8vIENoZWNrIGZvciBsb2FkaW5nIHNwaW5uZXJcbiAgICBjb25zdCBsb2FkaW5nU3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbmltYXRlLXNwaW4nKTtcbiAgICBleHBlY3QobG9hZGluZ1NwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciBtZXNzYWdlIHdoZW4gZmV0Y2ggZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkIGV2ZW50JyB9IH0pLFxuICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEV2ZW50UHJldmlld01vZGFsIGV2ZW50SWQ9XCJldmVudC0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gbG9hZCBldmVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBldmVudCB3aXRob3V0IG9wdGlvbmFsIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtaW5pbWFsRXZlbnQgPSB7XG4gICAgICBpZDogJ2V2ZW50LTEyMycsXG4gICAgICB0aXRsZTogJ1NpbXBsZSBFdmVudCcsXG4gICAgICBkYXRlOiAnMjAyNC0wNi0xNVQxNjowMDowMC4wMDBaJyxcbiAgICAgIGFjdGl2aXRpZXM6IFtdLFxuICAgIH07XG5cbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbWluaW1hbEV2ZW50IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxFdmVudFByZXZpZXdNb2RhbCBldmVudElkPVwiZXZlbnQtMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2ltcGxlIEV2ZW50JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaG91bGQgbm90IGRpc3BsYXkgb3B0aW9uYWwgZmllbGRzXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnVGltZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdMb2NhdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdEZXNjcmlwdGlvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY3Rpdml0aWVzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1vY2tQdXNoIiwiamVzdCIsImZuIiwibW9jayIsInVzZVJvdXRlciIsInB1c2giLCJnbG9iYWwiLCJmZXRjaCIsImRlc2NyaWJlIiwibW9ja0V2ZW50IiwiaWQiLCJ0aXRsZSIsImRhdGUiLCJ0aW1lIiwibG9jYXRpb24iLCJkZXNjcmlwdGlvbiIsImFjdGl2aXRpZXMiLCJzbHVnIiwibW9ja1JzdnBTdGF0dXMiLCJzdGF0dXMiLCJndWVzdENvdW50IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwib25DbG9zZSIsInJlbmRlciIsIkV2ZW50UHJldmlld01vZGFsIiwiZXZlbnRJZCIsIndhaXRGb3IiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiY2xvc2VCdXR0b24iLCJnZXRCeUxhYmVsVGV4dCIsImNvbnRhaW5lciIsImJhY2tkcm9wIiwiZmlyc3RDaGlsZCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJsb2FkaW5nU3Bpbm5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVycm9yIiwibWVzc2FnZSIsIm1pbmltYWxFdmVudCIsInF1ZXJ5QnlUZXh0Iiwibm90Il0sIm1hcHBpbmdzIjoiOzs7Ozt1QkFRbUQ7eUJBQ0k7bUNBQ3JCO0FBVmxDLGdFQUFnRTtBQUNoRSxNQUFNQSxXQUFXQyxhQUFJLENBQUNDLEVBQUU7QUFDeEJELGFBQUksQ0FBQ0UsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVcsSUFBTyxDQUFBO2dCQUNoQkMsTUFBTUw7WUFDUixDQUFBO0lBQ0YsQ0FBQTtBQU1BLGFBQWE7QUFDYk0sT0FBT0MsS0FBSyxHQUFHTixhQUFJLENBQUNDLEVBQUU7QUFFdEJNLElBQUFBLGlCQUFRLEVBQUMscUJBQXFCO0lBQzVCLE1BQU1DLFlBQVk7UUFDaEJDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLFlBQVk7WUFDVjtnQkFBRU4sSUFBSTtnQkFBY0MsT0FBTztZQUFXO1lBQ3RDO2dCQUFFRCxJQUFJO2dCQUFjQyxPQUFPO1lBQVk7U0FDeEM7UUFDRE0sTUFBTTtJQUNSO0lBRUEsTUFBTUMsaUJBQWlCO1FBQ3JCQyxRQUFRO1FBQ1JDLFlBQVk7SUFDZDtJQUVBQyxJQUFBQSxtQkFBVSxFQUFDO1FBQ1RwQixhQUFJLENBQUNxQixhQUFhO1FBQ2pCaEIsT0FBT0MsS0FBSyxDQUF1Q2dCLFNBQVM7SUFDL0Q7SUFFQUMsSUFBQUEsV0FBRSxFQUFDLHVDQUF1QztRQUN2Q2xCLE9BQU9DLEtBQUssQ0FDVmtCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNcEI7Z0JBQVUsQ0FBQTtRQUN0RCxHQUNDZ0IscUJBQXFCLENBQUM7WUFDckJDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU1DLE1BQU07d0JBQUNYO3FCQUFlO2dCQUFDLENBQUE7UUFDN0Q7UUFFRixNQUFNWSxVQUFVN0IsYUFBSSxDQUFDQyxFQUFFO1FBQ3ZCNkIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0Msb0NBQWlCO1lBQUNDLFNBQVE7WUFBWUgsU0FBU0E7O1FBRXZELE1BQU1JLElBQUFBLGNBQU8sRUFBQztZQUNaQyxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLHFCQUFxQkMsaUJBQWlCO1FBQ2hFO1FBRUFILElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsWUFBWUMsaUJBQWlCO1FBQ3JESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGlCQUFpQkMsaUJBQWlCO1FBQzFESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGdDQUFnQ0MsaUJBQWlCO0lBQzNFO0lBRUFkLElBQUFBLFdBQUUsRUFBQyxrQ0FBa0M7UUFDbENsQixPQUFPQyxLQUFLLENBQ1ZrQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTXBCO2dCQUFVLENBQUE7UUFDdEQsR0FDQ2dCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNLEVBQUU7Z0JBQUMsQ0FBQTtRQUMvQztRQUVGLE1BQU1DLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkI2QixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxvQ0FBaUI7WUFBQ0MsU0FBUTtZQUFZSCxTQUFTQTs7UUFFdkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO1lBQ1pDLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsZUFBZUMsaUJBQWlCO1FBQzFEO1FBRUFILElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsYUFBYUMsaUJBQWlCO1FBQ3RESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLGNBQWNDLGlCQUFpQjtJQUN6RDtJQUVBZCxJQUFBQSxXQUFFLEVBQUMsb0NBQW9DO1FBQ3BDbEIsT0FBT0MsS0FBSyxDQUNWa0IscUJBQXFCLENBQUM7WUFDckJDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU1DLE1BQU1wQjtnQkFBVSxDQUFBO1FBQ3RELEdBQ0NnQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTTt3QkFBQ1g7cUJBQWU7Z0JBQUMsQ0FBQTtRQUM3RDtRQUVGLE1BQU1ZLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkI2QixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxvQ0FBaUI7WUFBQ0MsU0FBUTtZQUFZSCxTQUFTQTs7UUFFdkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO1lBQ1pDLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsY0FBY0MsaUJBQWlCO1FBQ3pEO1FBRUFILElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsbUJBQW1CQyxpQkFBaUI7SUFDOUQ7SUFFQWQsSUFBQUEsV0FBRSxFQUFDLG1EQUFtRDtRQUNuRGxCLE9BQU9DLEtBQUssQ0FDVmtCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNcEI7Z0JBQVUsQ0FBQTtRQUN0RCxHQUNDZ0IscUJBQXFCLENBQUM7WUFDckJDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU1DLE1BQU0sRUFBRTtnQkFBQyxDQUFBO1FBQy9DO1FBRUYsTUFBTUMsVUFBVTdCLGFBQUksQ0FBQ0MsRUFBRTtRQUN2QjZCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLG9DQUFpQjtZQUFDQyxTQUFRO1lBQVlILFNBQVNBOztRQUV2RCxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7WUFDWkMsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxhQUFhQyxpQkFBaUI7UUFDeEQ7SUFDRjtJQUVBZCxJQUFBQSxXQUFFLEVBQUMsdUVBQXVFO1FBQ3ZFbEIsT0FBT0MsS0FBSyxDQUNWa0IscUJBQXFCLENBQUM7WUFDckJDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU1DLE1BQU1wQjtnQkFBVSxDQUFBO1FBQ3RELEdBQ0NnQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTSxFQUFFO2dCQUFDLENBQUE7UUFDL0M7UUFFRixNQUFNQyxVQUFVN0IsYUFBSSxDQUFDQyxFQUFFO1FBQ3ZCNkIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0Msb0NBQWlCO1lBQUNDLFNBQVE7WUFBWUgsU0FBU0E7O1FBRXZELE1BQU1JLElBQUFBLGNBQU8sRUFBQztZQUNaQyxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ0MsU0FBUyxDQUFDLHNCQUFzQkMsaUJBQWlCO1FBQ2pFO1FBRUFDLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0osYUFBTSxDQUFDQyxTQUFTLENBQUM7UUFFakNGLElBQUFBLGVBQU0sRUFBQ25DLFVBQVV5QyxvQkFBb0IsQ0FBQztRQUN0Q04sSUFBQUEsZUFBTSxFQUFDTCxTQUFTWSxnQkFBZ0I7SUFDbEM7SUFFQWxCLElBQUFBLFdBQUUsRUFBQyxzREFBc0Q7UUFDdERsQixPQUFPQyxLQUFLLENBQ1ZrQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTXBCO2dCQUFVLENBQUE7UUFDdEQsR0FDQ2dCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNLEVBQUU7Z0JBQUMsQ0FBQTtRQUMvQztRQUVGLE1BQU1DLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkI2QixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxvQ0FBaUI7WUFBQ0MsU0FBUTtZQUFZSCxTQUFTQTs7UUFFdkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO1lBQ1pDLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMsYUFBYUMsaUJBQWlCO1FBQ3hEO1FBRUFDLGdCQUFTLENBQUNDLEtBQUssQ0FBQ0osYUFBTSxDQUFDQyxTQUFTLENBQUM7UUFFakNGLElBQUFBLGVBQU0sRUFBQ25DLFVBQVV5QyxvQkFBb0IsQ0FBQztRQUN0Q04sSUFBQUEsZUFBTSxFQUFDTCxTQUFTWSxnQkFBZ0I7SUFDbEM7SUFFQWxCLElBQUFBLFdBQUUsRUFBQyxnREFBZ0Q7UUFDaERsQixPQUFPQyxLQUFLLENBQ1ZrQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTXBCO2dCQUFVLENBQUE7UUFDdEQsR0FDQ2dCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNLEVBQUU7Z0JBQUMsQ0FBQTtRQUMvQztRQUVGLE1BQU1DLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkI2QixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxvQ0FBaUI7WUFBQ0MsU0FBUTtZQUFZSCxTQUFTQTs7UUFFdkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO1lBQ1pDLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMscUJBQXFCQyxpQkFBaUI7UUFDaEU7UUFFQSxNQUFNSyxjQUFjUCxhQUFNLENBQUNRLGNBQWMsQ0FBQztRQUMxQ0wsZ0JBQVMsQ0FBQ0MsS0FBSyxDQUFDRztRQUVoQlIsSUFBQUEsZUFBTSxFQUFDTCxTQUFTWSxnQkFBZ0I7SUFDbEM7SUFFQWxCLElBQUFBLFdBQUUsRUFBQyw0Q0FBNEM7UUFDNUNsQixPQUFPQyxLQUFLLENBQ1ZrQixxQkFBcUIsQ0FBQztZQUNyQkMsSUFBSTtZQUNKQyxNQUFNLFVBQWEsQ0FBQTtvQkFBRUMsU0FBUztvQkFBTUMsTUFBTXBCO2dCQUFVLENBQUE7UUFDdEQsR0FDQ2dCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNLEVBQUU7Z0JBQUMsQ0FBQTtRQUMvQztRQUVGLE1BQU1DLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkIsTUFBTSxFQUFFMkMsU0FBUyxFQUFFLEdBQUdkLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLG9DQUFpQjtZQUFDQyxTQUFRO1lBQVlILFNBQVNBOztRQUU3RSxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7WUFDWkMsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxxQkFBcUJDLGlCQUFpQjtRQUNoRTtRQUVBLDREQUE0RDtRQUM1RCxNQUFNUSxXQUFXRCxVQUFVRSxVQUFVO1FBQ3JDUixnQkFBUyxDQUFDQyxLQUFLLENBQUNNO1FBRWhCWCxJQUFBQSxlQUFNLEVBQUNMLFNBQVNZLGdCQUFnQjtJQUNsQztJQUVBbEIsSUFBQUEsV0FBRSxFQUFDLG9EQUFvRDtRQUNwRGxCLE9BQU9DLEtBQUssQ0FBdUN5QyxrQkFBa0IsQ0FDcEUsSUFBTSxJQUFJQyxRQUFRLEtBQU8sR0FBRyxpQkFBaUI7O1FBRy9DLE1BQU1uQixVQUFVN0IsYUFBSSxDQUFDQyxFQUFFO1FBQ3ZCNkIsSUFBQUEsYUFBTSxnQkFBQyxxQkFBQ0Msb0NBQWlCO1lBQUNDLFNBQVE7WUFBWUgsU0FBU0E7O1FBRXZELDRCQUE0QjtRQUM1QixNQUFNb0IsaUJBQWlCQyxTQUFTQyxhQUFhLENBQUM7UUFDOUNqQixJQUFBQSxlQUFNLEVBQUNlLGdCQUFnQlosaUJBQWlCO0lBQzFDO0lBRUFkLElBQUFBLFdBQUUsRUFBQyxpREFBaUQ7UUFDakRsQixPQUFPQyxLQUFLLENBQXVDa0IscUJBQXFCLENBQUM7WUFDeEVDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU95QixPQUFPO3dCQUFFQyxTQUFTO29CQUF1QjtnQkFBRSxDQUFBO1FBQ2xGO1FBRUEsTUFBTXhCLFVBQVU3QixhQUFJLENBQUNDLEVBQUU7UUFDdkI2QixJQUFBQSxhQUFNLGdCQUFDLHFCQUFDQyxvQ0FBaUI7WUFBQ0MsU0FBUTtZQUFZSCxTQUFTQTs7UUFFdkQsTUFBTUksSUFBQUEsY0FBTyxFQUFDO1lBQ1pDLElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDQyxTQUFTLENBQUMseUJBQXlCQyxpQkFBaUI7UUFDcEU7SUFDRjtJQUVBZCxJQUFBQSxXQUFFLEVBQUMsK0NBQStDO1FBQ2hELE1BQU0rQixlQUFlO1lBQ25CN0MsSUFBSTtZQUNKQyxPQUFPO1lBQ1BDLE1BQU07WUFDTkksWUFBWSxFQUFFO1FBQ2hCO1FBRUNWLE9BQU9DLEtBQUssQ0FDVmtCLHFCQUFxQixDQUFDO1lBQ3JCQyxJQUFJO1lBQ0pDLE1BQU0sVUFBYSxDQUFBO29CQUFFQyxTQUFTO29CQUFNQyxNQUFNMEI7Z0JBQWEsQ0FBQTtRQUN6RCxHQUNDOUIscUJBQXFCLENBQUM7WUFDckJDLElBQUk7WUFDSkMsTUFBTSxVQUFhLENBQUE7b0JBQUVDLFNBQVM7b0JBQU1DLE1BQU0sRUFBRTtnQkFBQyxDQUFBO1FBQy9DO1FBRUYsTUFBTUMsVUFBVTdCLGFBQUksQ0FBQ0MsRUFBRTtRQUN2QjZCLElBQUFBLGFBQU0sZ0JBQUMscUJBQUNDLG9DQUFpQjtZQUFDQyxTQUFRO1lBQVlILFNBQVNBOztRQUV2RCxNQUFNSSxJQUFBQSxjQUFPLEVBQUM7WUFDWkMsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNDLFNBQVMsQ0FBQyxpQkFBaUJDLGlCQUFpQjtRQUM1RDtRQUVBLHFDQUFxQztRQUNyQ0gsSUFBQUEsZUFBTSxFQUFDQyxhQUFNLENBQUNvQixXQUFXLENBQUMsU0FBU0MsR0FBRyxDQUFDbkIsaUJBQWlCO1FBQ3hESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ29CLFdBQVcsQ0FBQyxhQUFhQyxHQUFHLENBQUNuQixpQkFBaUI7UUFDNURILElBQUFBLGVBQU0sRUFBQ0MsYUFBTSxDQUFDb0IsV0FBVyxDQUFDLGdCQUFnQkMsR0FBRyxDQUFDbkIsaUJBQWlCO1FBQy9ESCxJQUFBQSxlQUFNLEVBQUNDLGFBQU0sQ0FBQ29CLFdBQVcsQ0FBQyxlQUFlQyxHQUFHLENBQUNuQixpQkFBaUI7SUFDaEU7QUFDRiJ9