89134caaa62be6ceb6b5a46c3b7aa6ac
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get KeyboardNavigationProvider () {
        return KeyboardNavigationProvider;
    },
    get useKeyboardNavigation () {
        return useKeyboardNavigation;
    },
    get useRegisterShortcuts () {
        return useRegisterShortcuts;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _useKeyboardShortcuts = require("../../hooks/useKeyboardShortcuts");
const _KeyboardShortcutsDialog = require("../ui/KeyboardShortcutsDialog");
const KeyboardNavigationContext = /*#__PURE__*/ (0, _react.createContext)(null);
function KeyboardNavigationProvider({ children }) {
    const [shortcuts, setShortcuts] = (0, _react.useState)([]);
    const [showHelpDialog, setShowHelpDialog] = (0, _react.useState)(false);
    // Register shortcuts from child components
    const registerShortcuts = (0, _react.useCallback)((newShortcuts)=>{
        setShortcuts((prev)=>[
                ...prev,
                ...newShortcuts
            ]);
    }, []);
    // Unregister shortcuts when component unmounts
    const unregisterShortcuts = (0, _react.useCallback)((oldShortcuts)=>{
        setShortcuts((prev)=>prev.filter((s)=>!oldShortcuts.some((os)=>os.key === s.key && os.description === s.description)));
    }, []);
    const showHelp = (0, _react.useCallback)(()=>setShowHelpDialog(true), []);
    const hideHelp = (0, _react.useCallback)(()=>setShowHelpDialog(false), []);
    // Global shortcuts
    const globalShortcuts = [
        {
            key: '?',
            description: 'Show keyboard shortcuts',
            category: 'general',
            handler: showHelp
        },
        {
            key: 'Escape',
            description: 'Close dialogs/modals',
            category: 'general',
            handler: ()=>{
            // This will be handled by individual components
            }
        }
    ];
    // Combine global and registered shortcuts
    const allShortcuts = [
        ...globalShortcuts,
        ...shortcuts
    ];
    // Setup global keyboard shortcuts
    (0, _useKeyboardShortcuts.useKeyboardShortcuts)(allShortcuts);
    const contextValue = {
        registerShortcuts,
        unregisterShortcuts,
        showHelp,
        hideHelp
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(KeyboardNavigationContext.Provider, {
        value: contextValue,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                href: "#main-content",
                className: "skip-to-main",
                children: "Skip to main content"
            }),
            children,
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_KeyboardShortcutsDialog.KeyboardShortcutsDialog, {
                isOpen: showHelpDialog,
                onClose: hideHelp,
                shortcuts: allShortcuts
            })
        ]
    });
}
function useKeyboardNavigation() {
    const context = (0, _react.useContext)(KeyboardNavigationContext);
    if (!context) {
        throw new Error('useKeyboardNavigation must be used within KeyboardNavigationProvider');
    }
    return context;
}
function useRegisterShortcuts(shortcuts) {
    const { registerShortcuts, unregisterShortcuts } = useKeyboardNavigation();
    (0, _react.useEffect)(()=>{
        if (shortcuts.length > 0) {
            registerShortcuts(shortcuts);
        }
        return ()=>{
            if (shortcuts.length > 0) {
                unregisterShortcuts(shortcuts);
            }
        };
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []); // Only run on mount/unmount
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9LZXlib2FyZE5hdmlnYXRpb25Qcm92aWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUtleWJvYXJkU2hvcnRjdXRzLCB0eXBlIEtleWJvYXJkU2hvcnRjdXQgfSBmcm9tICdAL2hvb2tzL3VzZUtleWJvYXJkU2hvcnRjdXRzJztcbmltcG9ydCB7IEtleWJvYXJkU2hvcnRjdXRzRGlhbG9nIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0tleWJvYXJkU2hvcnRjdXRzRGlhbG9nJztcblxuaW50ZXJmYWNlIEtleWJvYXJkTmF2aWdhdGlvbkNvbnRleHRWYWx1ZSB7XG4gIHJlZ2lzdGVyU2hvcnRjdXRzOiAoc2hvcnRjdXRzOiBLZXlib2FyZFNob3J0Y3V0W10pID0+IHZvaWQ7XG4gIHVucmVnaXN0ZXJTaG9ydGN1dHM6IChzaG9ydGN1dHM6IEtleWJvYXJkU2hvcnRjdXRbXSkgPT4gdm9pZDtcbiAgc2hvd0hlbHA6ICgpID0+IHZvaWQ7XG4gIGhpZGVIZWxwOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBLZXlib2FyZE5hdmlnYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dDxLZXlib2FyZE5hdmlnYXRpb25Db250ZXh0VmFsdWUgfCBudWxsPihudWxsKTtcblxuaW50ZXJmYWNlIEtleWJvYXJkTmF2aWdhdGlvblByb3ZpZGVyUHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG4vKipcbiAqIEtleWJvYXJkTmF2aWdhdGlvblByb3ZpZGVyIENvbXBvbmVudFxuICogXG4gKiBQcm92aWRlcyBnbG9iYWwga2V5Ym9hcmQgbmF2aWdhdGlvbiBzdXBwb3J0IGZvciBhZG1pbiBpbnRlcmZhY2UuXG4gKiBNYW5hZ2VzIGtleWJvYXJkIHNob3J0Y3V0cyBhbmQgZGlzcGxheXMgaGVscCBkaWFsb2cuXG4gKiBcbiAqIEZlYXR1cmVzOlxuICogLSBHbG9iYWwga2V5Ym9hcmQgc2hvcnRjdXRzIChDdHJsK1MsIEVzYywgPylcbiAqIC0gS2V5Ym9hcmQgc2hvcnRjdXRzIGhlbHAgZGlhbG9nXG4gKiAtIEZvY3VzIG1hbmFnZW1lbnRcbiAqIC0gU2tpcCB0byBtYWluIGNvbnRlbnQgbGlua1xuICovXG5leHBvcnQgZnVuY3Rpb24gS2V5Ym9hcmROYXZpZ2F0aW9uUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiBLZXlib2FyZE5hdmlnYXRpb25Qcm92aWRlclByb3BzKSB7XG4gIGNvbnN0IFtzaG9ydGN1dHMsIHNldFNob3J0Y3V0c10gPSB1c2VTdGF0ZTxLZXlib2FyZFNob3J0Y3V0W10+KFtdKTtcbiAgY29uc3QgW3Nob3dIZWxwRGlhbG9nLCBzZXRTaG93SGVscERpYWxvZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUmVnaXN0ZXIgc2hvcnRjdXRzIGZyb20gY2hpbGQgY29tcG9uZW50c1xuICBjb25zdCByZWdpc3RlclNob3J0Y3V0cyA9IHVzZUNhbGxiYWNrKChuZXdTaG9ydGN1dHM6IEtleWJvYXJkU2hvcnRjdXRbXSkgPT4ge1xuICAgIHNldFNob3J0Y3V0cygocHJldikgPT4gWy4uLnByZXYsIC4uLm5ld1Nob3J0Y3V0c10pO1xuICB9LCBbXSk7XG5cbiAgLy8gVW5yZWdpc3RlciBzaG9ydGN1dHMgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgY29uc3QgdW5yZWdpc3RlclNob3J0Y3V0cyA9IHVzZUNhbGxiYWNrKChvbGRTaG9ydGN1dHM6IEtleWJvYXJkU2hvcnRjdXRbXSkgPT4ge1xuICAgIHNldFNob3J0Y3V0cygocHJldikgPT5cbiAgICAgIHByZXYuZmlsdGVyKChzKSA9PiAhb2xkU2hvcnRjdXRzLnNvbWUoKG9zKSA9PiBvcy5rZXkgPT09IHMua2V5ICYmIG9zLmRlc2NyaXB0aW9uID09PSBzLmRlc2NyaXB0aW9uKSlcbiAgICApO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2hvd0hlbHAgPSB1c2VDYWxsYmFjaygoKSA9PiBzZXRTaG93SGVscERpYWxvZyh0cnVlKSwgW10pO1xuICBjb25zdCBoaWRlSGVscCA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNob3dIZWxwRGlhbG9nKGZhbHNlKSwgW10pO1xuXG4gIC8vIEdsb2JhbCBzaG9ydGN1dHNcbiAgY29uc3QgZ2xvYmFsU2hvcnRjdXRzOiBLZXlib2FyZFNob3J0Y3V0W10gPSBbXG4gICAge1xuICAgICAga2V5OiAnPycsXG4gICAgICBkZXNjcmlwdGlvbjogJ1Nob3cga2V5Ym9hcmQgc2hvcnRjdXRzJyxcbiAgICAgIGNhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICBoYW5kbGVyOiBzaG93SGVscCxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ0VzY2FwZScsXG4gICAgICBkZXNjcmlwdGlvbjogJ0Nsb3NlIGRpYWxvZ3MvbW9kYWxzJyxcbiAgICAgIGNhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IGluZGl2aWR1YWwgY29tcG9uZW50c1xuICAgICAgfSxcbiAgICB9LFxuICBdO1xuXG4gIC8vIENvbWJpbmUgZ2xvYmFsIGFuZCByZWdpc3RlcmVkIHNob3J0Y3V0c1xuICBjb25zdCBhbGxTaG9ydGN1dHMgPSBbLi4uZ2xvYmFsU2hvcnRjdXRzLCAuLi5zaG9ydGN1dHNdO1xuXG4gIC8vIFNldHVwIGdsb2JhbCBrZXlib2FyZCBzaG9ydGN1dHNcbiAgdXNlS2V5Ym9hcmRTaG9ydGN1dHMoYWxsU2hvcnRjdXRzKTtcblxuICBjb25zdCBjb250ZXh0VmFsdWU6IEtleWJvYXJkTmF2aWdhdGlvbkNvbnRleHRWYWx1ZSA9IHtcbiAgICByZWdpc3RlclNob3J0Y3V0cyxcbiAgICB1bnJlZ2lzdGVyU2hvcnRjdXRzLFxuICAgIHNob3dIZWxwLFxuICAgIGhpZGVIZWxwLFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEtleWJvYXJkTmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+XG4gICAgICB7LyogU2tpcCB0byBtYWluIGNvbnRlbnQgbGluayBmb3Igc2NyZWVuIHJlYWRlcnMgKi99XG4gICAgICA8YSBocmVmPVwiI21haW4tY29udGVudFwiIGNsYXNzTmFtZT1cInNraXAtdG8tbWFpblwiPlxuICAgICAgICBTa2lwIHRvIG1haW4gY29udGVudFxuICAgICAgPC9hPlxuXG4gICAgICB7Y2hpbGRyZW59XG5cbiAgICAgIHsvKiBLZXlib2FyZCBzaG9ydGN1dHMgaGVscCBkaWFsb2cgKi99XG4gICAgICA8S2V5Ym9hcmRTaG9ydGN1dHNEaWFsb2dcbiAgICAgICAgaXNPcGVuPXtzaG93SGVscERpYWxvZ31cbiAgICAgICAgb25DbG9zZT17aGlkZUhlbHB9XG4gICAgICAgIHNob3J0Y3V0cz17YWxsU2hvcnRjdXRzfVxuICAgICAgLz5cbiAgICA8L0tleWJvYXJkTmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8qKlxuICogSG9vayB0byBhY2Nlc3Mga2V5Ym9hcmQgbmF2aWdhdGlvbiBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VLZXlib2FyZE5hdmlnYXRpb24oKTogS2V5Ym9hcmROYXZpZ2F0aW9uQ29udGV4dFZhbHVlIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoS2V5Ym9hcmROYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlS2V5Ym9hcmROYXZpZ2F0aW9uIG11c3QgYmUgdXNlZCB3aXRoaW4gS2V5Ym9hcmROYXZpZ2F0aW9uUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBIb29rIHRvIHJlZ2lzdGVyIGtleWJvYXJkIHNob3J0Y3V0cyBmb3IgYSBjb21wb25lbnRcbiAqIEF1dG9tYXRpY2FsbHkgdW5yZWdpc3RlcnMgb24gdW5tb3VudFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVnaXN0ZXJTaG9ydGN1dHMoc2hvcnRjdXRzOiBLZXlib2FyZFNob3J0Y3V0W10pOiB2b2lkIHtcbiAgY29uc3QgeyByZWdpc3RlclNob3J0Y3V0cywgdW5yZWdpc3RlclNob3J0Y3V0cyB9ID0gdXNlS2V5Ym9hcmROYXZpZ2F0aW9uKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hvcnRjdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlZ2lzdGVyU2hvcnRjdXRzKHNob3J0Y3V0cyk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc2hvcnRjdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdW5yZWdpc3RlclNob3J0Y3V0cyhzaG9ydGN1dHMpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7IC8vIE9ubHkgcnVuIG9uIG1vdW50L3VubW91bnRcbn1cbiJdLCJuYW1lcyI6WyJLZXlib2FyZE5hdmlnYXRpb25Qcm92aWRlciIsInVzZUtleWJvYXJkTmF2aWdhdGlvbiIsInVzZVJlZ2lzdGVyU2hvcnRjdXRzIiwiS2V5Ym9hcmROYXZpZ2F0aW9uQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJjaGlsZHJlbiIsInNob3J0Y3V0cyIsInNldFNob3J0Y3V0cyIsInVzZVN0YXRlIiwic2hvd0hlbHBEaWFsb2ciLCJzZXRTaG93SGVscERpYWxvZyIsInJlZ2lzdGVyU2hvcnRjdXRzIiwidXNlQ2FsbGJhY2siLCJuZXdTaG9ydGN1dHMiLCJwcmV2IiwidW5yZWdpc3RlclNob3J0Y3V0cyIsIm9sZFNob3J0Y3V0cyIsImZpbHRlciIsInMiLCJzb21lIiwib3MiLCJrZXkiLCJkZXNjcmlwdGlvbiIsInNob3dIZWxwIiwiaGlkZUhlbHAiLCJnbG9iYWxTaG9ydGN1dHMiLCJjYXRlZ29yeSIsImhhbmRsZXIiLCJhbGxTaG9ydGN1dHMiLCJ1c2VLZXlib2FyZFNob3J0Y3V0cyIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIiwidmFsdWUiLCJhIiwiaHJlZiIsImNsYXNzTmFtZSIsIktleWJvYXJkU2hvcnRjdXRzRGlhbG9nIiwiaXNPcGVuIiwib25DbG9zZSIsImNvbnRleHQiLCJ1c2VDb250ZXh0IiwiRXJyb3IiLCJ1c2VFZmZlY3QiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7UUErQmdCQTtlQUFBQTs7UUF3RUFDO2VBQUFBOztRQVlBQztlQUFBQTs7Ozt1QkFqSDREO3NDQUNoQjt5Q0FDcEI7QUFTeEMsTUFBTUMsMENBQTRCQyxJQUFBQSxvQkFBYSxFQUF3QztBQWtCaEYsU0FBU0osMkJBQTJCLEVBQUVLLFFBQVEsRUFBbUM7SUFDdEYsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUdDLElBQUFBLGVBQVEsRUFBcUIsRUFBRTtJQUNqRSxNQUFNLENBQUNDLGdCQUFnQkMsa0JBQWtCLEdBQUdGLElBQUFBLGVBQVEsRUFBQztJQUVyRCwyQ0FBMkM7SUFDM0MsTUFBTUcsb0JBQW9CQyxJQUFBQSxrQkFBVyxFQUFDLENBQUNDO1FBQ3JDTixhQUFhLENBQUNPLE9BQVM7bUJBQUlBO21CQUFTRDthQUFhO0lBQ25ELEdBQUcsRUFBRTtJQUVMLCtDQUErQztJQUMvQyxNQUFNRSxzQkFBc0JILElBQUFBLGtCQUFXLEVBQUMsQ0FBQ0k7UUFDdkNULGFBQWEsQ0FBQ08sT0FDWkEsS0FBS0csTUFBTSxDQUFDLENBQUNDLElBQU0sQ0FBQ0YsYUFBYUcsSUFBSSxDQUFDLENBQUNDLEtBQU9BLEdBQUdDLEdBQUcsS0FBS0gsRUFBRUcsR0FBRyxJQUFJRCxHQUFHRSxXQUFXLEtBQUtKLEVBQUVJLFdBQVc7SUFFdEcsR0FBRyxFQUFFO0lBRUwsTUFBTUMsV0FBV1gsSUFBQUEsa0JBQVcsRUFBQyxJQUFNRixrQkFBa0IsT0FBTyxFQUFFO0lBQzlELE1BQU1jLFdBQVdaLElBQUFBLGtCQUFXLEVBQUMsSUFBTUYsa0JBQWtCLFFBQVEsRUFBRTtJQUUvRCxtQkFBbUI7SUFDbkIsTUFBTWUsa0JBQXNDO1FBQzFDO1lBQ0VKLEtBQUs7WUFDTEMsYUFBYTtZQUNiSSxVQUFVO1lBQ1ZDLFNBQVNKO1FBQ1g7UUFDQTtZQUNFRixLQUFLO1lBQ0xDLGFBQWE7WUFDYkksVUFBVTtZQUNWQyxTQUFTO1lBQ1AsZ0RBQWdEO1lBQ2xEO1FBQ0Y7S0FDRDtJQUVELDBDQUEwQztJQUMxQyxNQUFNQyxlQUFlO1dBQUlIO1dBQW9CbkI7S0FBVTtJQUV2RCxrQ0FBa0M7SUFDbEN1QixJQUFBQSwwQ0FBb0IsRUFBQ0Q7SUFFckIsTUFBTUUsZUFBK0M7UUFDbkRuQjtRQUNBSTtRQUNBUTtRQUNBQztJQUNGO0lBRUEscUJBQ0Usc0JBQUNyQiwwQkFBMEI0QixRQUFRO1FBQUNDLE9BQU9GOzswQkFFekMscUJBQUNHO2dCQUFFQyxNQUFLO2dCQUFnQkMsV0FBVTswQkFBZTs7WUFJaEQ5QjswQkFHRCxxQkFBQytCLGdEQUF1QjtnQkFDdEJDLFFBQVE1QjtnQkFDUjZCLFNBQVNkO2dCQUNUbEIsV0FBV3NCOzs7O0FBSW5CO0FBS08sU0FBUzNCO0lBQ2QsTUFBTXNDLFVBQVVDLElBQUFBLGlCQUFVLEVBQUNyQztJQUMzQixJQUFJLENBQUNvQyxTQUFTO1FBQ1osTUFBTSxJQUFJRSxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Y7QUFDVDtBQU1PLFNBQVNyQyxxQkFBcUJJLFNBQTZCO0lBQ2hFLE1BQU0sRUFBRUssaUJBQWlCLEVBQUVJLG1CQUFtQixFQUFFLEdBQUdkO0lBRW5EeUMsSUFBQUEsZ0JBQVMsRUFBQztRQUNSLElBQUlwQyxVQUFVcUMsTUFBTSxHQUFHLEdBQUc7WUFDeEJoQyxrQkFBa0JMO1FBQ3BCO1FBQ0EsT0FBTztZQUNMLElBQUlBLFVBQVVxQyxNQUFNLEdBQUcsR0FBRztnQkFDeEI1QixvQkFBb0JUO1lBQ3RCO1FBQ0Y7SUFDQSx1REFBdUQ7SUFDekQsR0FBRyxFQUFFLEdBQUcsNEJBQTRCO0FBQ3RDIn0=