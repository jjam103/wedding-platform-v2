7322067704e0afd8472a11aebad7bbc8
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get GET () {
        return GET;
    },
    get PUT () {
        return PUT;
    }
});
const _ssr = require("@supabase/ssr");
const _headers = require("next/headers");
const _server = require("next/server");
const _settingsService = require("../../../../services/settingsService");
const _sanitization = require("../../../../utils/sanitization");
async function GET() {
    try {
        // 1. Authenticate
        const cookieStore = await (0, _headers.cookies)();
        const supabase = (0, _ssr.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {
            cookies: {
                getAll () {
                    return cookieStore.getAll();
                },
                setAll (cookiesToSet) {
                    cookiesToSet.forEach(({ name, value })=>{
                        cookieStore.set(name, value);
                    });
                }
            }
        });
        const { data: { session }, error: authError } = await supabase.auth.getSession();
        if (authError || !session) {
            return _server.NextResponse.json({
                success: false,
                error: {
                    code: 'UNAUTHORIZED',
                    message: 'Authentication required'
                }
            }, {
                status: 401
            });
        }
        // 2. Get settings
        const result = await (0, _settingsService.getSettings)();
        if (!result.success) {
            return _server.NextResponse.json(result, {
                status: 500
            });
        }
        // 3. Extract home page config
        const homePageConfig = {
            title: result.data.home_page_title,
            subtitle: result.data.home_page_subtitle,
            welcomeMessage: result.data.home_page_welcome_message,
            heroImageUrl: result.data.home_page_hero_image_url
        };
        return _server.NextResponse.json({
            success: true,
            data: homePageConfig
        });
    } catch (error) {
        return _server.NextResponse.json({
            success: false,
            error: {
                code: 'UNKNOWN_ERROR',
                message: error instanceof Error ? error.message : 'Unknown error'
            }
        }, {
            status: 500
        });
    }
}
async function PUT(request) {
    try {
        // 1. Authenticate
        const cookieStore = await (0, _headers.cookies)();
        const supabase = (0, _ssr.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {
            cookies: {
                getAll () {
                    return cookieStore.getAll();
                },
                setAll (cookiesToSet) {
                    cookiesToSet.forEach(({ name, value })=>{
                        cookieStore.set(name, value);
                    });
                }
            }
        });
        const { data: { session }, error: authError } = await supabase.auth.getSession();
        if (authError || !session) {
            return _server.NextResponse.json({
                success: false,
                error: {
                    code: 'UNAUTHORIZED',
                    message: 'Authentication required'
                }
            }, {
                status: 401
            });
        }
        // 2. Parse request body
        const body = await request.json();
        // 3. Sanitize rich text content
        const sanitizedData = {
            home_page_title: body.title,
            home_page_subtitle: body.subtitle,
            home_page_welcome_message: body.welcomeMessage ? (0, _sanitization.sanitizeRichText)(body.welcomeMessage) : null,
            home_page_hero_image_url: body.heroImageUrl
        };
        // 4. Update settings
        const result = await (0, _settingsService.updateSettings)(sanitizedData);
        if (!result.success) {
            if (result.error.code === 'VALIDATION_ERROR') {
                return _server.NextResponse.json(result, {
                    status: 400
                });
            }
            return _server.NextResponse.json(result, {
                status: 500
            });
        }
        // 5. Return updated config
        const homePageConfig = {
            title: result.data.home_page_title,
            subtitle: result.data.home_page_subtitle,
            welcomeMessage: result.data.home_page_welcome_message,
            heroImageUrl: result.data.home_page_hero_image_url
        };
        return _server.NextResponse.json({
            success: true,
            data: homePageConfig
        });
    } catch (error) {
        return _server.NextResponse.json({
            success: false,
            error: {
                code: 'UNKNOWN_ERROR',
                message: error instanceof Error ? error.message : 'Unknown error'
            }
        }, {
            status: 500
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9ob21lLXBhZ2Uvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCB1cGRhdGVTZXR0aW5ncyB9IGZyb20gJ0Avc2VydmljZXMvc2V0dGluZ3NTZXJ2aWNlJztcbmltcG9ydCB7IHNhbml0aXplUmljaFRleHQgfSBmcm9tICdAL3V0aWxzL3Nhbml0aXphdGlvbic7XG5cbi8qKlxuICogR0VUIC9hcGkvYWRtaW4vaG9tZS1wYWdlXG4gKiBHZXQgaG9tZSBwYWdlIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICAvLyAxLiBBdXRoZW50aWNhdGVcbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKTtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEsXG4gICAgICB7XG4gICAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgICBnZXRBbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRBbGwoY29va2llc1RvU2V0KSB7XG4gICAgICAgICAgICBjb29raWVzVG9TZXQuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgXG4gICAgaWYgKGF1dGhFcnJvciB8fCAhc2Vzc2lvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9IH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gMi4gR2V0IHNldHRpbmdzXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2V0dGluZ3MoKTtcbiAgICBcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyAzLiBFeHRyYWN0IGhvbWUgcGFnZSBjb25maWdcbiAgICBjb25zdCBob21lUGFnZUNvbmZpZyA9IHtcbiAgICAgIHRpdGxlOiByZXN1bHQuZGF0YS5ob21lX3BhZ2VfdGl0bGUsXG4gICAgICBzdWJ0aXRsZTogcmVzdWx0LmRhdGEuaG9tZV9wYWdlX3N1YnRpdGxlLFxuICAgICAgd2VsY29tZU1lc3NhZ2U6IHJlc3VsdC5kYXRhLmhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2UsXG4gICAgICBoZXJvSW1hZ2VVcmw6IHJlc3VsdC5kYXRhLmhvbWVfcGFnZV9oZXJvX2ltYWdlX3VybCxcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGhvbWVQYWdlQ29uZmlnIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6IHsgXG4gICAgICAgICAgY29kZTogJ1VOS05PV05fRVJST1InLCBcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyBcbiAgICAgICAgfSBcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogUFVUIC9hcGkvYWRtaW4vaG9tZS1wYWdlXG4gKiBVcGRhdGUgaG9tZSBwYWdlIGNvbmZpZ3VyYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gMS4gQXV0aGVudGljYXRlXG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDbGllbnQoXG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgICAge1xuICAgICAgICBjb29raWVzOiB7XG4gICAgICAgICAgZ2V0QWxsKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldEFsbCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0QWxsKGNvb2tpZXNUb1NldCkge1xuICAgICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICBjb29raWVTdG9yZS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBhdXRoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIFxuICAgIGlmIChhdXRoRXJyb3IgfHwgIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgY29kZTogJ1VOQVVUSE9SSVpFRCcsIG1lc3NhZ2U6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIDIuIFBhcnNlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBcbiAgICAvLyAzLiBTYW5pdGl6ZSByaWNoIHRleHQgY29udGVudFxuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSB7XG4gICAgICBob21lX3BhZ2VfdGl0bGU6IGJvZHkudGl0bGUsXG4gICAgICBob21lX3BhZ2Vfc3VidGl0bGU6IGJvZHkuc3VidGl0bGUsXG4gICAgICBob21lX3BhZ2Vfd2VsY29tZV9tZXNzYWdlOiBib2R5LndlbGNvbWVNZXNzYWdlID8gc2FuaXRpemVSaWNoVGV4dChib2R5LndlbGNvbWVNZXNzYWdlKSA6IG51bGwsXG4gICAgICBob21lX3BhZ2VfaGVyb19pbWFnZV91cmw6IGJvZHkuaGVyb0ltYWdlVXJsLFxuICAgIH07XG4gICAgXG4gICAgLy8gNC4gVXBkYXRlIHNldHRpbmdzXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlU2V0dGluZ3Moc2FuaXRpemVkRGF0YSk7XG4gICAgXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgaWYgKHJlc3VsdC5lcnJvci5jb2RlID09PSAnVkFMSURBVElPTl9FUlJPUicpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdCwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIDUuIFJldHVybiB1cGRhdGVkIGNvbmZpZ1xuICAgIGNvbnN0IGhvbWVQYWdlQ29uZmlnID0ge1xuICAgICAgdGl0bGU6IHJlc3VsdC5kYXRhLmhvbWVfcGFnZV90aXRsZSxcbiAgICAgIHN1YnRpdGxlOiByZXN1bHQuZGF0YS5ob21lX3BhZ2Vfc3VidGl0bGUsXG4gICAgICB3ZWxjb21lTWVzc2FnZTogcmVzdWx0LmRhdGEuaG9tZV9wYWdlX3dlbGNvbWVfbWVzc2FnZSxcbiAgICAgIGhlcm9JbWFnZVVybDogcmVzdWx0LmRhdGEuaG9tZV9wYWdlX2hlcm9faW1hZ2VfdXJsLFxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogaG9tZVBhZ2VDb25maWcgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogeyBcbiAgICAgICAgICBjb2RlOiAnVU5LTk9XTl9FUlJPUicsIFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgICAgICB9IFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJHRVQiLCJQVVQiLCJjb29raWVTdG9yZSIsImNvb2tpZXMiLCJzdXBhYmFzZSIsImNyZWF0ZVNlcnZlckNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJkYXRhIiwic2Vzc2lvbiIsImVycm9yIiwiYXV0aEVycm9yIiwiYXV0aCIsImdldFNlc3Npb24iLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3VjY2VzcyIsImNvZGUiLCJtZXNzYWdlIiwic3RhdHVzIiwicmVzdWx0IiwiZ2V0U2V0dGluZ3MiLCJob21lUGFnZUNvbmZpZyIsInRpdGxlIiwiaG9tZV9wYWdlX3RpdGxlIiwic3VidGl0bGUiLCJob21lX3BhZ2Vfc3VidGl0bGUiLCJ3ZWxjb21lTWVzc2FnZSIsImhvbWVfcGFnZV93ZWxjb21lX21lc3NhZ2UiLCJoZXJvSW1hZ2VVcmwiLCJob21lX3BhZ2VfaGVyb19pbWFnZV91cmwiLCJFcnJvciIsInJlcXVlc3QiLCJib2R5Iiwic2FuaXRpemVkRGF0YSIsInNhbml0aXplUmljaFRleHQiLCJ1cGRhdGVTZXR0aW5ncyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7UUFVc0JBO2VBQUFBOztRQStEQUM7ZUFBQUE7OztxQkF6RWE7eUJBQ1g7d0JBQ0s7aUNBQ2U7OEJBQ1g7QUFNMUIsZUFBZUQ7SUFDcEIsSUFBSTtRQUNGLGtCQUFrQjtRQUNsQixNQUFNRSxjQUFjLE1BQU1DLElBQUFBLGdCQUFPO1FBQ2pDLE1BQU1DLFdBQVdDLElBQUFBLHVCQUFrQixFQUNqQ0MsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsRUFDcENGLFFBQVFDLEdBQUcsQ0FBQ0UsNkJBQTZCLEVBQ3pDO1lBQ0VOLFNBQVM7Z0JBQ1BPO29CQUNFLE9BQU9SLFlBQVlRLE1BQU07Z0JBQzNCO2dCQUNBQyxRQUFPQyxZQUFZO29CQUNqQkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUU7d0JBQ25DYixZQUFZYyxHQUFHLENBQUNGLE1BQU1DO29CQUN4QjtnQkFDRjtZQUNGO1FBQ0Y7UUFFRixNQUFNLEVBQUVFLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEVBQUVDLE9BQU9DLFNBQVMsRUFBRSxHQUFHLE1BQU1oQixTQUFTaUIsSUFBSSxDQUFDQyxVQUFVO1FBRTlFLElBQUlGLGFBQWEsQ0FBQ0YsU0FBUztZQUN6QixPQUFPSyxvQkFBWSxDQUFDQyxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPTixPQUFPO29CQUFFTyxNQUFNO29CQUFnQkMsU0FBUztnQkFBMEI7WUFBRSxHQUN0RjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsa0JBQWtCO1FBQ2xCLE1BQU1DLFNBQVMsTUFBTUMsSUFBQUEsNEJBQVc7UUFFaEMsSUFBSSxDQUFDRCxPQUFPSixPQUFPLEVBQUU7WUFDbkIsT0FBT0Ysb0JBQVksQ0FBQ0MsSUFBSSxDQUFDSyxRQUFRO2dCQUFFRCxRQUFRO1lBQUk7UUFDakQ7UUFFQSw4QkFBOEI7UUFDOUIsTUFBTUcsaUJBQWlCO1lBQ3JCQyxPQUFPSCxPQUFPWixJQUFJLENBQUNnQixlQUFlO1lBQ2xDQyxVQUFVTCxPQUFPWixJQUFJLENBQUNrQixrQkFBa0I7WUFDeENDLGdCQUFnQlAsT0FBT1osSUFBSSxDQUFDb0IseUJBQXlCO1lBQ3JEQyxjQUFjVCxPQUFPWixJQUFJLENBQUNzQix3QkFBd0I7UUFDcEQ7UUFFQSxPQUFPaEIsb0JBQVksQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBTVIsTUFBTWM7UUFBZTtJQUNqRSxFQUFFLE9BQU9aLE9BQU87UUFDZCxPQUFPSSxvQkFBWSxDQUFDQyxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVE4sT0FBTztnQkFDTE8sTUFBTTtnQkFDTkMsU0FBU1IsaUJBQWlCcUIsUUFBUXJCLE1BQU1RLE9BQU8sR0FBRztZQUNwRDtRQUNGLEdBQ0E7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFNTyxlQUFlM0IsSUFBSXdDLE9BQWdCO0lBQ3hDLElBQUk7UUFDRixrQkFBa0I7UUFDbEIsTUFBTXZDLGNBQWMsTUFBTUMsSUFBQUEsZ0JBQU87UUFDakMsTUFBTUMsV0FBV0MsSUFBQUEsdUJBQWtCLEVBQ2pDQyxRQUFRQyxHQUFHLENBQUNDLHdCQUF3QixFQUNwQ0YsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkIsRUFDekM7WUFDRU4sU0FBUztnQkFDUE87b0JBQ0UsT0FBT1IsWUFBWVEsTUFBTTtnQkFDM0I7Z0JBQ0FDLFFBQU9DLFlBQVk7b0JBQ2pCQSxhQUFhQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRTt3QkFDbkNiLFlBQVljLEdBQUcsQ0FBQ0YsTUFBTUM7b0JBQ3hCO2dCQUNGO1lBQ0Y7UUFDRjtRQUVGLE1BQU0sRUFBRUUsTUFBTSxFQUFFQyxPQUFPLEVBQUUsRUFBRUMsT0FBT0MsU0FBUyxFQUFFLEdBQUcsTUFBTWhCLFNBQVNpQixJQUFJLENBQUNDLFVBQVU7UUFFOUUsSUFBSUYsYUFBYSxDQUFDRixTQUFTO1lBQ3pCLE9BQU9LLG9CQUFZLENBQUNDLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9OLE9BQU87b0JBQUVPLE1BQU07b0JBQWdCQyxTQUFTO2dCQUEwQjtZQUFFLEdBQ3RGO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSx3QkFBd0I7UUFDeEIsTUFBTWMsT0FBTyxNQUFNRCxRQUFRakIsSUFBSTtRQUUvQixnQ0FBZ0M7UUFDaEMsTUFBTW1CLGdCQUFnQjtZQUNwQlYsaUJBQWlCUyxLQUFLVixLQUFLO1lBQzNCRyxvQkFBb0JPLEtBQUtSLFFBQVE7WUFDakNHLDJCQUEyQkssS0FBS04sY0FBYyxHQUFHUSxJQUFBQSw4QkFBZ0IsRUFBQ0YsS0FBS04sY0FBYyxJQUFJO1lBQ3pGRywwQkFBMEJHLEtBQUtKLFlBQVk7UUFDN0M7UUFFQSxxQkFBcUI7UUFDckIsTUFBTVQsU0FBUyxNQUFNZ0IsSUFBQUEsK0JBQWMsRUFBQ0Y7UUFFcEMsSUFBSSxDQUFDZCxPQUFPSixPQUFPLEVBQUU7WUFDbkIsSUFBSUksT0FBT1YsS0FBSyxDQUFDTyxJQUFJLEtBQUssb0JBQW9CO2dCQUM1QyxPQUFPSCxvQkFBWSxDQUFDQyxJQUFJLENBQUNLLFFBQVE7b0JBQUVELFFBQVE7Z0JBQUk7WUFDakQ7WUFDQSxPQUFPTCxvQkFBWSxDQUFDQyxJQUFJLENBQUNLLFFBQVE7Z0JBQUVELFFBQVE7WUFBSTtRQUNqRDtRQUVBLDJCQUEyQjtRQUMzQixNQUFNRyxpQkFBaUI7WUFDckJDLE9BQU9ILE9BQU9aLElBQUksQ0FBQ2dCLGVBQWU7WUFDbENDLFVBQVVMLE9BQU9aLElBQUksQ0FBQ2tCLGtCQUFrQjtZQUN4Q0MsZ0JBQWdCUCxPQUFPWixJQUFJLENBQUNvQix5QkFBeUI7WUFDckRDLGNBQWNULE9BQU9aLElBQUksQ0FBQ3NCLHdCQUF3QjtRQUNwRDtRQUVBLE9BQU9oQixvQkFBWSxDQUFDQyxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFNUixNQUFNYztRQUFlO0lBQ2pFLEVBQUUsT0FBT1osT0FBTztRQUNkLE9BQU9JLG9CQUFZLENBQUNDLElBQUksQ0FDdEI7WUFDRUMsU0FBUztZQUNUTixPQUFPO2dCQUNMTyxNQUFNO2dCQUNOQyxTQUFTUixpQkFBaUJxQixRQUFRckIsTUFBTVEsT0FBTyxHQUFHO1lBQ3BEO1FBQ0YsR0FDQTtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiJ9