395dd3f8a5643bb351bd09fd576a160b
/**
 * Unit Tests for Budget Dashboard Page
 * 
 * Tests:
 * - Budget calculations
 * - Vendor payment display
 * - Guest subsidy calculations
 * - Real-time updates
 * 
 * Requirements: 11.1-11.8
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _globals = require("@jest/globals");
const _react = require("@testing-library/react");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock fetch
global.fetch = _globals.jest.fn();
(0, _globals.describe)('BudgetPage', ()=>{
    const mockVendors = [
        {
            id: 'vendor-1',
            name: 'Photographer',
            category: 'photography',
            contactName: 'John Doe',
            email: 'john@photo.com',
            phone: '555-0100',
            pricingModel: 'flat_rate',
            baseCost: 5000,
            paymentStatus: 'unpaid',
            amountPaid: 0,
            notes: null,
            createdAt: '2024-01-01T00:00:00Z',
            updatedAt: '2024-01-01T00:00:00Z'
        },
        {
            id: 'vendor-2',
            name: 'Caterer',
            category: 'catering',
            contactName: 'Jane Smith',
            email: 'jane@catering.com',
            phone: '555-0200',
            pricingModel: 'per_guest',
            baseCost: 10000,
            paymentStatus: 'partial',
            amountPaid: 5000,
            notes: null,
            createdAt: '2024-01-01T00:00:00Z',
            updatedAt: '2024-01-01T00:00:00Z'
        }
    ];
    const mockActivities = [
        {
            id: 'activity-1',
            name: 'Beach Day',
            description: 'Fun at the beach',
            eventId: 'event-1',
            startTime: '2024-06-15T10:00:00Z',
            endTime: '2024-06-15T16:00:00Z',
            locationId: 'location-1',
            capacity: 50,
            costPerPerson: 100,
            hostSubsidy: 25,
            activityType: 'activity',
            status: 'published',
            visibility: 'public',
            adultsOnly: false,
            plusOnesAllowed: true,
            createdAt: '2024-01-01T00:00:00Z',
            updatedAt: '2024-01-01T00:00:00Z'
        }
    ];
    const mockBudgetBreakdown = {
        vendors: [
            {
                category: 'photography',
                totalCost: 5000,
                amountPaid: 0,
                balanceDue: 5000,
                vendors: [
                    {
                        id: 'vendor-1',
                        name: 'Photographer',
                        cost: 5000,
                        paid: 0,
                        balance: 5000,
                        paymentStatus: 'unpaid'
                    }
                ]
            },
            {
                category: 'catering',
                totalCost: 10000,
                amountPaid: 5000,
                balanceDue: 5000,
                vendors: [
                    {
                        id: 'vendor-2',
                        name: 'Caterer',
                        cost: 10000,
                        paid: 5000,
                        balance: 5000,
                        paymentStatus: 'partial'
                    }
                ]
            }
        ],
        activities: {
            totalCost: 5000,
            totalSubsidy: 1250,
            netCost: 3750,
            activities: [
                {
                    id: 'activity-1',
                    name: 'Beach Day',
                    costPerPerson: 100,
                    hostSubsidy: 25,
                    estimatedAttendees: 50,
                    totalCost: 5000,
                    netCost: 3750
                }
            ]
        },
        accommodations: {
            totalCost: 0,
            totalSubsidy: 0,
            netCost: 0,
            accommodations: []
        },
        totals: {
            grossTotal: 20000,
            totalSubsidies: 1250,
            totalPaid: 5000,
            netTotal: 18750,
            balanceDue: 13750
        }
    };
    const mockPaymentStatusReport = {
        unpaidVendors: [
            {
                id: 'vendor-1',
                name: 'Photographer',
                category: 'photography',
                baseCost: 5000
            }
        ],
        partiallyPaidVendors: [
            {
                id: 'vendor-2',
                name: 'Caterer',
                category: 'catering',
                baseCost: 10000,
                amountPaid: 5000,
                balanceDue: 5000
            }
        ],
        paidVendors: [],
        totalUnpaid: 5000,
        totalPartial: 5000,
        totalPaid: 0
    };
    const mockSubsidyTracking = {
        activitySubsidies: [
            {
                activityId: 'activity-1',
                activityName: 'Beach Day',
                subsidyPerPerson: 25,
                estimatedAttendees: 50,
                totalSubsidy: 1250
            }
        ],
        accommodationSubsidies: [],
        totalActivitySubsidies: 1250,
        totalAccommodationSubsidies: 0,
        grandTotalSubsidies: 1250
    };
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
        // Mock successful API responses
        global.fetch.mockImplementation((url)=>{
            if (typeof url === 'string') {
                if (url.includes('/api/admin/vendors')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: {
                                    vendors: mockVendors
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/activities')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: {
                                    activities: mockActivities
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/accommodations')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: {
                                    accommodations: []
                                }
                            })
                    });
                }
                if (url.includes('/api/admin/budget/breakdown')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: mockBudgetBreakdown
                            })
                    });
                }
                if (url.includes('/api/admin/budget/payment-status')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: mockPaymentStatusReport
                            })
                    });
                }
                if (url.includes('/api/admin/budget/subsidies')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: mockSubsidyTracking
                            })
                    });
                }
            }
            return Promise.resolve({
                ok: false,
                json: async ()=>({
                        success: false,
                        error: {
                            code: 'NOT_FOUND',
                            message: 'Not found'
                        }
                    })
            });
        });
    });
    (0, _globals.afterEach)(()=>{
        _globals.jest.clearAllTimers();
    });
    (0, _globals.describe)('Budget Calculations', ()=>{
        (0, _globals.it)('should display total cost correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Total Budget')).toBeInTheDocument();
            });
            // Check if the total budget is displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('$18,750');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should display host contribution correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('Host Subsidies');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
            // Check if the host subsidies are displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('$1,250');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should display guest payments correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Total Paid')).toBeInTheDocument();
            });
            // Check if the total paid is displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('$5,000');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should display balance due correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Balance Due')).toBeInTheDocument();
            });
            // Check if the balance due is displayed
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('$13,750')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should calculate vendor totals correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Vendor Costs by Category')).toBeInTheDocument();
            });
            // Verify vendor categories are displayed
            await (0, _react.waitFor)(()=>{
                const photographyElements = _react.screen.getAllByText(/photography/i);
                const cateringElements = _react.screen.getAllByText(/catering/i);
                (0, _globals.expect)(photographyElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(cateringElements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should calculate activity totals with subsidies correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Activity Costs')).toBeInTheDocument();
            });
            // Verify activity costs are displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('Beach Day');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
    });
    (0, _globals.describe)('Vendor Payment Display', ()=>{
        (0, _globals.it)('should display vendor payment tracking table', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Vendor Payment Tracking')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should display unpaid vendors section', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Unpaid Vendors')).toBeInTheDocument();
            });
            // Verify unpaid vendor is displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('Photographer');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should display partially paid vendors section', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Partially Paid Vendors')).toBeInTheDocument();
            });
            // Verify partially paid vendor is displayed
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('Caterer');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should display payment status summary stats', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const unpaidElements = _react.screen.getAllByText('Unpaid');
                const partialElements = _react.screen.getAllByText('Partially Paid');
                const paidElements = _react.screen.getAllByText('Paid');
                (0, _globals.expect)(unpaidElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(partialElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(paidElements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should format currency correctly in payment table', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                // Check for formatted currency values
                const currencyElements = _react.screen.getAllByText(/\$5,000/);
                (0, _globals.expect)(currencyElements.length).toBeGreaterThan(0);
            });
        });
    });
    (0, _globals.describe)('Guest Subsidy Calculations', ()=>{
        (0, _globals.it)('should display individual guest subsidies section', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Individual Guest Subsidies')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should display activity subsidies table', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const elements = _react.screen.getAllByText('Activity Subsidies');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
            // Verify activity subsidy details
            await (0, _react.waitFor)(()=>{
                const beachDayElements = _react.screen.getAllByText('Beach Day');
                (0, _globals.expect)(beachDayElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(_react.screen.getByText('$25')).toBeInTheDocument();
                (0, _globals.expect)(_react.screen.getByText('50')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should display subsidy summary stats', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const activityElements = _react.screen.getAllByText('Activity Subsidies');
                const accommodationElements = _react.screen.getAllByText('Accommodation Subsidies');
                const totalElements = _react.screen.getAllByText('Total Subsidies');
                (0, _globals.expect)(activityElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(accommodationElements.length).toBeGreaterThan(0);
                (0, _globals.expect)(totalElements.length).toBeGreaterThan(0);
            });
        });
        (0, _globals.it)('should calculate per-person subsidies correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                // Verify per-person subsidy is displayed
                (0, _globals.expect)(_react.screen.getByText('$25')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should calculate total subsidies correctly', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                // Verify total subsidy is displayed
                const elements = _react.screen.getAllByText('$1,250');
                (0, _globals.expect)(elements.length).toBeGreaterThan(0);
            });
        });
    });
    (0, _globals.describe)('Real-time Updates', ()=>{
        (0, _globals.it)('should have a refresh button', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const refreshButton = _react.screen.getByRole('button', {
                    name: /refresh data/i
                });
                (0, _globals.expect)(refreshButton).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should refresh data when refresh button is clicked', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Budget Dashboard')).toBeInTheDocument();
            });
            const refreshButton = await (0, _react.waitFor)(()=>_react.screen.getByRole('button', {
                    name: /refresh data/i
                }));
            _react.fireEvent.click(refreshButton);
            // Verify fetch was called again
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(global.fetch).toHaveBeenCalledTimes(12); // 6 initial + 6 refresh
            });
        });
        (0, _globals.it)('should disable refresh button while loading', async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                const refreshButton = _react.screen.getByRole('button', {
                    name: /refresh data/i
                });
                (0, _globals.expect)(refreshButton).toBeInTheDocument();
            });
            const refreshButton = _react.screen.getByRole('button', {
                name: /refresh data/i
            });
            _react.fireEvent.click(refreshButton);
            // Button should be disabled during refresh
            (0, _globals.expect)(refreshButton).toBeDisabled();
        });
        (0, _globals.it)('should show loading state initially', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            (0, _globals.expect)(_react.screen.getByText('Loading budget data...')).toBeInTheDocument();
        });
        (0, _globals.it)('should handle API errors gracefully', async ()=>{
            // Mock API error
            global.fetch.mockImplementation(()=>Promise.resolve({
                    ok: false,
                    json: async ()=>({
                            success: false,
                            error: {
                                code: 'DATABASE_ERROR',
                                message: 'Database error'
                            }
                        })
                }));
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/Error loading budget data/i)).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should allow retry after error', async ()=>{
            // Mock API error
            global.fetch.mockImplementation(()=>Promise.resolve({
                    ok: false,
                    json: async ()=>({
                            success: false,
                            error: {
                                code: 'DATABASE_ERROR',
                                message: 'Database error'
                            }
                        })
                }));
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText(/Error loading budget data/i)).toBeInTheDocument();
            });
            const retryButton = _react.screen.getByRole('button', {
                name: /retry/i
            });
            (0, _globals.expect)(retryButton).toBeInTheDocument();
        });
    });
    (0, _globals.describe)('Edge Cases', ()=>{
        (0, _globals.it)('should handle empty vendor list', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (typeof url === 'string' && url.includes('/api/admin/vendors')) {
                    return Promise.resolve({
                        ok: true,
                        json: async ()=>({
                                success: true,
                                data: {
                                    vendors: []
                                }
                            })
                    });
                }
                return Promise.resolve({
                    ok: true,
                    json: async ()=>({
                            success: true,
                            data: {}
                        })
                });
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Budget Dashboard')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should handle empty activity list', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (typeof url === 'string') {
                    if (url.includes('/api/admin/activities')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        activities: []
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/vendors')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        vendors: mockVendors
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/accommodations')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        accommodations: []
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/budget/breakdown')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockBudgetBreakdown
                                })
                        });
                    }
                    if (url.includes('/api/admin/budget/payment-status')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockPaymentStatusReport
                                })
                        });
                    }
                    if (url.includes('/api/admin/budget/subsidies')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockSubsidyTracking
                                })
                        });
                    }
                }
                return Promise.resolve({
                    ok: false,
                    json: async ()=>({
                            success: false,
                            error: {
                                code: 'NOT_FOUND',
                                message: 'Not found'
                            }
                        })
                });
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Budget Dashboard')).toBeInTheDocument();
            });
        });
        (0, _globals.it)('should handle null budget breakdown', async ()=>{
            global.fetch.mockImplementation((url)=>{
                if (typeof url === 'string') {
                    if (url.includes('/api/admin/budget/breakdown')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: null
                                })
                        });
                    }
                    if (url.includes('/api/admin/vendors')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        vendors: mockVendors
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/activities')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        activities: mockActivities
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/accommodations')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: {
                                        accommodations: []
                                    }
                                })
                        });
                    }
                    if (url.includes('/api/admin/budget/payment-status')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockPaymentStatusReport
                                })
                        });
                    }
                    if (url.includes('/api/admin/budget/subsidies')) {
                        return Promise.resolve({
                            ok: true,
                            json: async ()=>({
                                    success: true,
                                    data: mockSubsidyTracking
                                })
                        });
                    }
                }
                return Promise.resolve({
                    ok: false,
                    json: async ()=>({
                            success: false,
                            error: {
                                code: 'NOT_FOUND',
                                message: 'Not found'
                            }
                        })
                });
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByText('Budget Dashboard')).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2J1ZGdldC9wYWdlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgQnVkZ2V0IERhc2hib2FyZCBQYWdlXG4gKiBcbiAqIFRlc3RzOlxuICogLSBCdWRnZXQgY2FsY3VsYXRpb25zXG4gKiAtIFZlbmRvciBwYXltZW50IGRpc3BsYXlcbiAqIC0gR3Vlc3Qgc3Vic2lkeSBjYWxjdWxhdGlvbnNcbiAqIC0gUmVhbC10aW1lIHVwZGF0ZXNcbiAqIFxuICogUmVxdWlyZW1lbnRzOiAxMS4xLTExLjhcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgQnVkZ2V0UGFnZSBmcm9tICcuL3BhZ2UnO1xuaW1wb3J0IHR5cGUgeyBWZW5kb3IgfSBmcm9tICdAL3NjaGVtYXMvdmVuZG9yU2NoZW1hcyc7XG5pbXBvcnQgdHlwZSB7IEFjdGl2aXR5IH0gZnJvbSAnQC9zY2hlbWFzL2FjdGl2aXR5U2NoZW1hcyc7XG5pbXBvcnQgdHlwZSB7IEJ1ZGdldEJyZWFrZG93biwgUGF5bWVudFN0YXR1c1JlcG9ydCwgU3Vic2lkeVRyYWNraW5nIH0gZnJvbSAnQC9zY2hlbWFzL2J1ZGdldFNjaGVtYXMnO1xuXG4vLyBNb2NrIGZldGNoXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+O1xuXG5kZXNjcmliZSgnQnVkZ2V0UGFnZScsICgpID0+IHtcbiAgY29uc3QgbW9ja1ZlbmRvcnM6IFZlbmRvcltdID0gW1xuICAgIHtcbiAgICAgIGlkOiAndmVuZG9yLTEnLFxuICAgICAgbmFtZTogJ1Bob3RvZ3JhcGhlcicsXG4gICAgICBjYXRlZ29yeTogJ3Bob3RvZ3JhcGh5JyxcbiAgICAgIGNvbnRhY3ROYW1lOiAnSm9obiBEb2UnLFxuICAgICAgZW1haWw6ICdqb2huQHBob3RvLmNvbScsXG4gICAgICBwaG9uZTogJzU1NS0wMTAwJyxcbiAgICAgIHByaWNpbmdNb2RlbDogJ2ZsYXRfcmF0ZScsXG4gICAgICBiYXNlQ29zdDogNTAwMCxcbiAgICAgIHBheW1lbnRTdGF0dXM6ICd1bnBhaWQnLFxuICAgICAgYW1vdW50UGFpZDogMCxcbiAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICd2ZW5kb3ItMicsXG4gICAgICBuYW1lOiAnQ2F0ZXJlcicsXG4gICAgICBjYXRlZ29yeTogJ2NhdGVyaW5nJyxcbiAgICAgIGNvbnRhY3ROYW1lOiAnSmFuZSBTbWl0aCcsXG4gICAgICBlbWFpbDogJ2phbmVAY2F0ZXJpbmcuY29tJyxcbiAgICAgIHBob25lOiAnNTU1LTAyMDAnLFxuICAgICAgcHJpY2luZ01vZGVsOiAncGVyX2d1ZXN0JyxcbiAgICAgIGJhc2VDb3N0OiAxMDAwMCxcbiAgICAgIHBheW1lbnRTdGF0dXM6ICdwYXJ0aWFsJyxcbiAgICAgIGFtb3VudFBhaWQ6IDUwMDAsXG4gICAgICBub3RlczogbnVsbCxcbiAgICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRBdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICB9LFxuICBdO1xuXG4gIGNvbnN0IG1vY2tBY3Rpdml0aWVzOiBBY3Rpdml0eVtdID0gW1xuICAgIHtcbiAgICAgIGlkOiAnYWN0aXZpdHktMScsXG4gICAgICBuYW1lOiAnQmVhY2ggRGF5JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRnVuIGF0IHRoZSBiZWFjaCcsXG4gICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICBzdGFydFRpbWU6ICcyMDI0LTA2LTE1VDEwOjAwOjAwWicsXG4gICAgICBlbmRUaW1lOiAnMjAyNC0wNi0xNVQxNjowMDowMFonLFxuICAgICAgbG9jYXRpb25JZDogJ2xvY2F0aW9uLTEnLFxuICAgICAgY2FwYWNpdHk6IDUwLFxuICAgICAgY29zdFBlclBlcnNvbjogMTAwLFxuICAgICAgaG9zdFN1YnNpZHk6IDI1LFxuICAgICAgYWN0aXZpdHlUeXBlOiAnYWN0aXZpdHknLFxuICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgIHZpc2liaWxpdHk6ICdwdWJsaWMnLFxuICAgICAgYWR1bHRzT25seTogZmFsc2UsXG4gICAgICBwbHVzT25lc0FsbG93ZWQ6IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgfSxcbiAgXTtcblxuICBjb25zdCBtb2NrQnVkZ2V0QnJlYWtkb3duOiBCdWRnZXRCcmVha2Rvd24gPSB7XG4gICAgdmVuZG9yczogW1xuICAgICAge1xuICAgICAgICBjYXRlZ29yeTogJ3Bob3RvZ3JhcGh5JyxcbiAgICAgICAgdG90YWxDb3N0OiA1MDAwLFxuICAgICAgICBhbW91bnRQYWlkOiAwLFxuICAgICAgICBiYWxhbmNlRHVlOiA1MDAwLFxuICAgICAgICB2ZW5kb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICd2ZW5kb3ItMScsXG4gICAgICAgICAgICBuYW1lOiAnUGhvdG9ncmFwaGVyJyxcbiAgICAgICAgICAgIGNvc3Q6IDUwMDAsXG4gICAgICAgICAgICBwYWlkOiAwLFxuICAgICAgICAgICAgYmFsYW5jZTogNTAwMCxcbiAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6ICd1bnBhaWQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjYXRlZ29yeTogJ2NhdGVyaW5nJyxcbiAgICAgICAgdG90YWxDb3N0OiAxMDAwMCxcbiAgICAgICAgYW1vdW50UGFpZDogNTAwMCxcbiAgICAgICAgYmFsYW5jZUR1ZTogNTAwMCxcbiAgICAgICAgdmVuZG9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAndmVuZG9yLTInLFxuICAgICAgICAgICAgbmFtZTogJ0NhdGVyZXInLFxuICAgICAgICAgICAgY29zdDogMTAwMDAsXG4gICAgICAgICAgICBwYWlkOiA1MDAwLFxuICAgICAgICAgICAgYmFsYW5jZTogNTAwMCxcbiAgICAgICAgICAgIHBheW1lbnRTdGF0dXM6ICdwYXJ0aWFsJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgIHRvdGFsQ29zdDogNTAwMCxcbiAgICAgIHRvdGFsU3Vic2lkeTogMTI1MCxcbiAgICAgIG5ldENvc3Q6IDM3NTAsXG4gICAgICBhY3Rpdml0aWVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIG5hbWU6ICdCZWFjaCBEYXknLFxuICAgICAgICAgIGNvc3RQZXJQZXJzb246IDEwMCxcbiAgICAgICAgICBob3N0U3Vic2lkeTogMjUsXG4gICAgICAgICAgZXN0aW1hdGVkQXR0ZW5kZWVzOiA1MCxcbiAgICAgICAgICB0b3RhbENvc3Q6IDUwMDAsXG4gICAgICAgICAgbmV0Q29zdDogMzc1MCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBhY2NvbW1vZGF0aW9uczoge1xuICAgICAgdG90YWxDb3N0OiAwLFxuICAgICAgdG90YWxTdWJzaWR5OiAwLFxuICAgICAgbmV0Q29zdDogMCxcbiAgICAgIGFjY29tbW9kYXRpb25zOiBbXSxcbiAgICB9LFxuICAgIHRvdGFsczoge1xuICAgICAgZ3Jvc3NUb3RhbDogMjAwMDAsXG4gICAgICB0b3RhbFN1YnNpZGllczogMTI1MCxcbiAgICAgIHRvdGFsUGFpZDogNTAwMCxcbiAgICAgIG5ldFRvdGFsOiAxODc1MCxcbiAgICAgIGJhbGFuY2VEdWU6IDEzNzUwLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbW9ja1BheW1lbnRTdGF0dXNSZXBvcnQ6IFBheW1lbnRTdGF0dXNSZXBvcnQgPSB7XG4gICAgdW5wYWlkVmVuZG9yczogW1xuICAgICAge1xuICAgICAgICBpZDogJ3ZlbmRvci0xJyxcbiAgICAgICAgbmFtZTogJ1Bob3RvZ3JhcGhlcicsXG4gICAgICAgIGNhdGVnb3J5OiAncGhvdG9ncmFwaHknLFxuICAgICAgICBiYXNlQ29zdDogNTAwMCxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBwYXJ0aWFsbHlQYWlkVmVuZG9yczogW1xuICAgICAge1xuICAgICAgICBpZDogJ3ZlbmRvci0yJyxcbiAgICAgICAgbmFtZTogJ0NhdGVyZXInLFxuICAgICAgICBjYXRlZ29yeTogJ2NhdGVyaW5nJyxcbiAgICAgICAgYmFzZUNvc3Q6IDEwMDAwLFxuICAgICAgICBhbW91bnRQYWlkOiA1MDAwLFxuICAgICAgICBiYWxhbmNlRHVlOiA1MDAwLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHBhaWRWZW5kb3JzOiBbXSxcbiAgICB0b3RhbFVucGFpZDogNTAwMCxcbiAgICB0b3RhbFBhcnRpYWw6IDUwMDAsXG4gICAgdG90YWxQYWlkOiAwLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tTdWJzaWR5VHJhY2tpbmc6IFN1YnNpZHlUcmFja2luZyA9IHtcbiAgICBhY3Rpdml0eVN1YnNpZGllczogW1xuICAgICAge1xuICAgICAgICBhY3Rpdml0eUlkOiAnYWN0aXZpdHktMScsXG4gICAgICAgIGFjdGl2aXR5TmFtZTogJ0JlYWNoIERheScsXG4gICAgICAgIHN1YnNpZHlQZXJQZXJzb246IDI1LFxuICAgICAgICBlc3RpbWF0ZWRBdHRlbmRlZXM6IDUwLFxuICAgICAgICB0b3RhbFN1YnNpZHk6IDEyNTAsXG4gICAgICB9LFxuICAgIF0sXG4gICAgYWNjb21tb2RhdGlvblN1YnNpZGllczogW10sXG4gICAgdG90YWxBY3Rpdml0eVN1YnNpZGllczogMTI1MCxcbiAgICB0b3RhbEFjY29tbW9kYXRpb25TdWJzaWRpZXM6IDAsXG4gICAgZ3JhbmRUb3RhbFN1YnNpZGllczogMTI1MCxcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBcbiAgICAvLyBNb2NrIHN1Y2Nlc3NmdWwgQVBJIHJlc3BvbnNlc1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KS5tb2NrSW1wbGVtZW50YXRpb24oKHVybCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vdmVuZG9ycycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgdmVuZG9yczogbW9ja1ZlbmRvcnMgfSB9KSxcbiAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjdGl2aXRpZXMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7IGFjdGl2aXRpZXM6IG1vY2tBY3Rpdml0aWVzIH0gfSksXG4gICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY2NvbW1vZGF0aW9ucycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgYWNjb21tb2RhdGlvbnM6IFtdIH0gfSksXG4gICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9idWRnZXQvYnJlYWtkb3duJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0J1ZGdldEJyZWFrZG93biB9KSxcbiAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2J1ZGdldC9wYXltZW50LXN0YXR1cycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tQYXltZW50U3RhdHVzUmVwb3J0IH0pLFxuICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYnVkZ2V0L3N1YnNpZGllcycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTdWJzaWR5VHJhY2tpbmcgfSksXG4gICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogeyBjb2RlOiAnTk9UX0ZPVU5EJywgbWVzc2FnZTogJ05vdCBmb3VuZCcgfSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxUaW1lcnMoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0J1ZGdldCBDYWxjdWxhdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRvdGFsIGNvc3QgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUb3RhbCBCdWRnZXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdG90YWwgYnVkZ2V0IGlzIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnJDE4LDc1MCcpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBob3N0IGNvbnRyaWJ1dGlvbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdIb3N0IFN1YnNpZGllcycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGhvc3Qgc3Vic2lkaWVzIGFyZSBkaXNwbGF5ZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJyQxLDI1MCcpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBndWVzdCBwYXltZW50cyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RvdGFsIFBhaWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdG90YWwgcGFpZCBpcyBkaXNwbGF5ZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJyQ1LDAwMCcpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBiYWxhbmNlIGR1ZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0JhbGFuY2UgRHVlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJhbGFuY2UgZHVlIGlzIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCckMTMsNzUwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHZlbmRvciB0b3RhbHMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWZW5kb3IgQ29zdHMgYnkgQ2F0ZWdvcnknKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgdmVuZG9yIGNhdGVnb3JpZXMgYXJlIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBob3RvZ3JhcGh5RWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9waG90b2dyYXBoeS9pKTtcbiAgICAgICAgY29uc3QgY2F0ZXJpbmdFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL2NhdGVyaW5nL2kpO1xuICAgICAgICBleHBlY3QocGhvdG9ncmFwaHlFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZXhwZWN0KGNhdGVyaW5nRWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGFjdGl2aXR5IHRvdGFscyB3aXRoIHN1YnNpZGllcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjdGl2aXR5IENvc3RzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGFjdGl2aXR5IGNvc3RzIGFyZSBkaXNwbGF5ZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ0JlYWNoIERheScpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ZlbmRvciBQYXltZW50IERpc3BsYXknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHZlbmRvciBwYXltZW50IHRyYWNraW5nIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWZW5kb3IgUGF5bWVudCBUcmFja2luZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgdW5wYWlkIHZlbmRvcnMgc2VjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVW5wYWlkIFZlbmRvcnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgdW5wYWlkIHZlbmRvciBpcyBkaXNwbGF5ZWRcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ1Bob3RvZ3JhcGhlcicpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBwYXJ0aWFsbHkgcGFpZCB2ZW5kb3JzIHNlY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BhcnRpYWxseSBQYWlkIFZlbmRvcnMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgcGFydGlhbGx5IHBhaWQgdmVuZG9yIGlzIGRpc3BsYXllZFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQ2F0ZXJlcicpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBwYXltZW50IHN0YXR1cyBzdW1tYXJ5IHN0YXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVucGFpZEVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnVW5wYWlkJyk7XG4gICAgICAgIGNvbnN0IHBhcnRpYWxFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ1BhcnRpYWxseSBQYWlkJyk7XG4gICAgICAgIGNvbnN0IHBhaWRFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ1BhaWQnKTtcbiAgICAgICAgZXhwZWN0KHVucGFpZEVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QocGFydGlhbEVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgICBleHBlY3QocGFpZEVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBjdXJyZW5jeSBjb3JyZWN0bHkgaW4gcGF5bWVudCB0YWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAvLyBDaGVjayBmb3IgZm9ybWF0dGVkIGN1cnJlbmN5IHZhbHVlc1xuICAgICAgICBjb25zdCBjdXJyZW5jeUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvXFwkNSwwMDAvKTtcbiAgICAgICAgZXhwZWN0KGN1cnJlbmN5RWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0d1ZXN0IFN1YnNpZHkgQ2FsY3VsYXRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBpbmRpdmlkdWFsIGd1ZXN0IHN1YnNpZGllcyBzZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbmRpdmlkdWFsIEd1ZXN0IFN1YnNpZGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgYWN0aXZpdHkgc3Vic2lkaWVzIHRhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQWN0aXZpdHkgU3Vic2lkaWVzJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgYWN0aXZpdHkgc3Vic2lkeSBkZXRhaWxzXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgYmVhY2hEYXlFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ0JlYWNoIERheScpO1xuICAgICAgICBleHBlY3QoYmVhY2hEYXlFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJyQyNScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNTAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHN1YnNpZHkgc3VtbWFyeSBzdGF0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBhY3Rpdml0eUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgnQWN0aXZpdHkgU3Vic2lkaWVzJyk7XG4gICAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25FbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJ0FjY29tbW9kYXRpb24gU3Vic2lkaWVzJyk7XG4gICAgICAgIGNvbnN0IHRvdGFsRWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdUb3RhbCBTdWJzaWRpZXMnKTtcbiAgICAgICAgZXhwZWN0KGFjdGl2aXR5RWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGV4cGVjdChhY2NvbW1vZGF0aW9uRWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICAgIGV4cGVjdCh0b3RhbEVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBwZXItcGVyc29uIHN1YnNpZGllcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgLy8gVmVyaWZ5IHBlci1wZXJzb24gc3Vic2lkeSBpcyBkaXNwbGF5ZWRcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJyQyNScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSB0b3RhbCBzdWJzaWRpZXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIC8vIFZlcmlmeSB0b3RhbCBzdWJzaWR5IGlzIGRpc3BsYXllZFxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoJyQxLDI1MCcpO1xuICAgICAgICBleHBlY3QoZWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWwtdGltZSBVcGRhdGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBhIHJlZnJlc2ggYnV0dG9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9yZWZyZXNoIGRhdGEvaSB9KTtcbiAgICAgICAgZXhwZWN0KHJlZnJlc2hCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVmcmVzaCBkYXRhIHdoZW4gcmVmcmVzaCBidXR0b24gaXMgY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQnVkZ2V0IERhc2hib2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlZnJlc2hCdXR0b24gPSBhd2FpdCB3YWl0Rm9yKCgpID0+IFxuICAgICAgICBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9yZWZyZXNoIGRhdGEvaSB9KVxuICAgICAgKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhyZWZyZXNoQnV0dG9uKTtcblxuICAgICAgLy8gVmVyaWZ5IGZldGNoIHdhcyBjYWxsZWQgYWdhaW5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2xvYmFsLmZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMTIpOyAvLyA2IGluaXRpYWwgKyA2IHJlZnJlc2hcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNhYmxlIHJlZnJlc2ggYnV0dG9uIHdoaWxlIGxvYWRpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3JlZnJlc2ggZGF0YS9pIH0pO1xuICAgICAgICBleHBlY3QocmVmcmVzaEJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWZyZXNoQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvcmVmcmVzaCBkYXRhL2kgfSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socmVmcmVzaEJ1dHRvbik7XG5cbiAgICAgIC8vIEJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQgZHVyaW5nIHJlZnJlc2hcbiAgICAgIGV4cGVjdChyZWZyZXNoQnV0dG9uKS50b0JlRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdMb2FkaW5nIGJ1ZGdldCBkYXRhLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIEFQSSBlcnJvclxuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgY29kZTogJ0RBVEFCQVNFX0VSUk9SJywgbWVzc2FnZTogJ0RhdGFiYXNlIGVycm9yJyB9IH0pLFxuICAgICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgKTtcblxuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9FcnJvciBsb2FkaW5nIGJ1ZGdldCBkYXRhL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IHJldHJ5IGFmdGVyIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBBUEkgZXJyb3JcbiAgICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IGNvZGU6ICdEQVRBQkFTRV9FUlJPUicsIG1lc3NhZ2U6ICdEYXRhYmFzZSBlcnJvcicgfSB9KSxcbiAgICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgICk7XG5cbiAgICAgIHJlbmRlcig8QnVkZ2V0UGFnZSAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvRXJyb3IgbG9hZGluZyBidWRnZXQgZGF0YS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXRyeUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3JldHJ5L2kgfSk7XG4gICAgICBleHBlY3QocmV0cnlCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHZlbmRvciBsaXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vdmVuZG9ycycpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgdmVuZG9yczogW10gfSB9KSxcbiAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB7fSB9KSxcbiAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCdWRnZXQgRGFzaGJvYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGFjdGl2aXR5IGxpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPikubW9ja0ltcGxlbWVudGF0aW9uKCh1cmwpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9hY3Rpdml0aWVzJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBhY3Rpdml0aWVzOiBbXSB9IH0pLFxuICAgICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vdmVuZG9ycycpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgdmVuZG9yczogbW9ja1ZlbmRvcnMgfSB9KSxcbiAgICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjY29tbW9kYXRpb25zJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBhY2NvbW1vZGF0aW9uczogW10gfSB9KSxcbiAgICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2J1ZGdldC9icmVha2Rvd24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrQnVkZ2V0QnJlYWtkb3duIH0pLFxuICAgICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYnVkZ2V0L3BheW1lbnQtc3RhdHVzJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1BheW1lbnRTdGF0dXNSZXBvcnQgfSksXG4gICAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi9idWRnZXQvc3Vic2lkaWVzJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1N1YnNpZHlUcmFja2luZyB9KSxcbiAgICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogZmFsc2UsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IGNvZGU6ICdOT1RfRk9VTkQnLCBtZXNzYWdlOiAnTm90IGZvdW5kJyB9IH0pLFxuICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPEJ1ZGdldFBhZ2UgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0J1ZGdldCBEYXNoYm9hcmQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbnVsbCBidWRnZXQgYnJlYWtkb3duJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYnVkZ2V0L2JyZWFrZG93bicpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfSksXG4gICAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hZG1pbi92ZW5kb3JzJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyB2ZW5kb3JzOiBtb2NrVmVuZG9ycyB9IH0pLFxuICAgICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYWN0aXZpdGllcycpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHsgYWN0aXZpdGllczogbW9ja0FjdGl2aXRpZXMgfSB9KSxcbiAgICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2FjY29tbW9kYXRpb25zJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogeyBhY2NvbW1vZGF0aW9uczogW10gfSB9KSxcbiAgICAgICAgICAgIH0gYXMgUmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2FkbWluL2J1ZGdldC9wYXltZW50LXN0YXR1cycpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tQYXltZW50U3RhdHVzUmVwb3J0IH0pLFxuICAgICAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvYWRtaW4vYnVkZ2V0L3N1YnNpZGllcycpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTdWJzaWR5VHJhY2tpbmcgfSksXG4gICAgICAgICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogeyBjb2RlOiAnTk9UX0ZPVU5EJywgbWVzc2FnZTogJ05vdCBmb3VuZCcgfSB9KSxcbiAgICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxCdWRnZXRQYWdlIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCdWRnZXQgRGFzaGJvYXJkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmZXRjaCIsImplc3QiLCJmbiIsImRlc2NyaWJlIiwibW9ja1ZlbmRvcnMiLCJpZCIsIm5hbWUiLCJjYXRlZ29yeSIsImNvbnRhY3ROYW1lIiwiZW1haWwiLCJwaG9uZSIsInByaWNpbmdNb2RlbCIsImJhc2VDb3N0IiwicGF5bWVudFN0YXR1cyIsImFtb3VudFBhaWQiLCJub3RlcyIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1vY2tBY3Rpdml0aWVzIiwiZGVzY3JpcHRpb24iLCJldmVudElkIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImxvY2F0aW9uSWQiLCJjYXBhY2l0eSIsImNvc3RQZXJQZXJzb24iLCJob3N0U3Vic2lkeSIsImFjdGl2aXR5VHlwZSIsInN0YXR1cyIsInZpc2liaWxpdHkiLCJhZHVsdHNPbmx5IiwicGx1c09uZXNBbGxvd2VkIiwibW9ja0J1ZGdldEJyZWFrZG93biIsInZlbmRvcnMiLCJ0b3RhbENvc3QiLCJiYWxhbmNlRHVlIiwiY29zdCIsInBhaWQiLCJiYWxhbmNlIiwiYWN0aXZpdGllcyIsInRvdGFsU3Vic2lkeSIsIm5ldENvc3QiLCJlc3RpbWF0ZWRBdHRlbmRlZXMiLCJhY2NvbW1vZGF0aW9ucyIsInRvdGFscyIsImdyb3NzVG90YWwiLCJ0b3RhbFN1YnNpZGllcyIsInRvdGFsUGFpZCIsIm5ldFRvdGFsIiwibW9ja1BheW1lbnRTdGF0dXNSZXBvcnQiLCJ1bnBhaWRWZW5kb3JzIiwicGFydGlhbGx5UGFpZFZlbmRvcnMiLCJwYWlkVmVuZG9ycyIsInRvdGFsVW5wYWlkIiwidG90YWxQYXJ0aWFsIiwibW9ja1N1YnNpZHlUcmFja2luZyIsImFjdGl2aXR5U3Vic2lkaWVzIiwiYWN0aXZpdHlJZCIsImFjdGl2aXR5TmFtZSIsInN1YnNpZHlQZXJQZXJzb24iLCJhY2NvbW1vZGF0aW9uU3Vic2lkaWVzIiwidG90YWxBY3Rpdml0eVN1YnNpZGllcyIsInRvdGFsQWNjb21tb2RhdGlvblN1YnNpZGllcyIsImdyYW5kVG90YWxTdWJzaWRpZXMiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInVybCIsImluY2x1ZGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJhZnRlckVhY2giLCJjbGVhckFsbFRpbWVycyIsIml0IiwicmVuZGVyIiwiQnVkZ2V0UGFnZSIsIndhaXRGb3IiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImVsZW1lbnRzIiwiZ2V0QWxsQnlUZXh0IiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwicGhvdG9ncmFwaHlFbGVtZW50cyIsImNhdGVyaW5nRWxlbWVudHMiLCJ1bnBhaWRFbGVtZW50cyIsInBhcnRpYWxFbGVtZW50cyIsInBhaWRFbGVtZW50cyIsImN1cnJlbmN5RWxlbWVudHMiLCJiZWFjaERheUVsZW1lbnRzIiwiYWN0aXZpdHlFbGVtZW50cyIsImFjY29tbW9kYXRpb25FbGVtZW50cyIsInRvdGFsRWxlbWVudHMiLCJyZWZyZXNoQnV0dG9uIiwiZ2V0QnlSb2xlIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ0b0JlRGlzYWJsZWQiLCJyZXRyeUJ1dHRvbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Q0FVQzs7Ozs7eUJBRWlFO3VCQUNmOzZEQUM1Qjs7Ozs7O0FBS3ZCLGFBQWE7QUFDYkEsT0FBT0MsS0FBSyxHQUFHQyxhQUFJLENBQUNDLEVBQUU7QUFFdEJDLElBQUFBLGlCQUFRLEVBQUMsY0FBYztJQUNyQixNQUFNQyxjQUF3QjtRQUM1QjtZQUNFQyxJQUFJO1lBQ0pDLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxhQUFhO1lBQ2JDLE9BQU87WUFDUEMsT0FBTztZQUNQQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsZUFBZTtZQUNmQyxZQUFZO1lBQ1pDLE9BQU87WUFDUEMsV0FBVztZQUNYQyxXQUFXO1FBQ2I7UUFDQTtZQUNFWixJQUFJO1lBQ0pDLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxhQUFhO1lBQ2JDLE9BQU87WUFDUEMsT0FBTztZQUNQQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsZUFBZTtZQUNmQyxZQUFZO1lBQ1pDLE9BQU87WUFDUEMsV0FBVztZQUNYQyxXQUFXO1FBQ2I7S0FDRDtJQUVELE1BQU1DLGlCQUE2QjtRQUNqQztZQUNFYixJQUFJO1lBQ0pDLE1BQU07WUFDTmEsYUFBYTtZQUNiQyxTQUFTO1lBQ1RDLFdBQVc7WUFDWEMsU0FBUztZQUNUQyxZQUFZO1lBQ1pDLFVBQVU7WUFDVkMsZUFBZTtZQUNmQyxhQUFhO1lBQ2JDLGNBQWM7WUFDZEMsUUFBUTtZQUNSQyxZQUFZO1lBQ1pDLFlBQVk7WUFDWkMsaUJBQWlCO1lBQ2pCZixXQUFXO1lBQ1hDLFdBQVc7UUFDYjtLQUNEO0lBRUQsTUFBTWUsc0JBQXVDO1FBQzNDQyxTQUFTO1lBQ1A7Z0JBQ0UxQixVQUFVO2dCQUNWMkIsV0FBVztnQkFDWHBCLFlBQVk7Z0JBQ1pxQixZQUFZO2dCQUNaRixTQUFTO29CQUNQO3dCQUNFNUIsSUFBSTt3QkFDSkMsTUFBTTt3QkFDTjhCLE1BQU07d0JB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