{"version":3,"names":["default","cov_9i0wznk90","f","s","ContentPage","dynamic","params","type","slug","b","_navigation","notFound","contentPageResult","_contentPagesService","getContentPageBySlug","success","contentPage","data","status","sectionsResult","_sectionsService","listSections","id","sections","_jsxruntime","jsx","className","jsxs","title","length","map","section","_SectionRenderer","SectionRenderer"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/[type]/[slug]/page.tsx"],"sourcesContent":["export const dynamic = 'force-dynamic';\n\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs';\nimport { cookies } from 'next/headers';\nimport { notFound } from 'next/navigation';\nimport { SectionRenderer } from '@/components/guest/SectionRenderer';\nimport { listSections } from '@/services/sectionsService';\nimport { getContentPageBySlug } from '@/services/contentPagesService';\n\ninterface ContentPageProps {\n  params: Promise<{ type: string; slug: string }>;\n}\n\n/**\n * Dynamic Content Page\n * \n * Displays custom content pages with sections:\n * - Page title and metadata\n * - Custom sections with rich text, photos, and references\n * - Flexible layout with 1 or 2 columns\n * \n * Requirements: 4.2 (E2E Critical Path Testing - section management flow)\n */\nexport default async function ContentPage({ params }: ContentPageProps) {\n  // Next.js 15: params is a Promise\n  const { type, slug } = await params;\n  \n  // Only handle 'custom' type for content pages\n  if (type !== 'custom') {\n    notFound();\n  }\n  \n  // Fetch content page by slug\n  const contentPageResult = await getContentPageBySlug(slug);\n  \n  if (!contentPageResult.success) {\n    notFound();\n  }\n  \n  const contentPage = contentPageResult.data;\n  \n  // Only show published pages to guests (unless in preview mode)\n  if (contentPage.status !== 'published') {\n    notFound();\n  }\n  \n  // Fetch sections for this content page\n  const sectionsResult = await listSections('custom', contentPage.id);\n  const sections = sectionsResult.success ? sectionsResult.data : [];\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 to-ocean-50\">\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        {/* Page Header */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <h1 className=\"text-3xl font-bold text-jungle-800 mb-4\">\n            {contentPage.title}\n          </h1>\n        </div>\n        \n        {/* Sections */}\n        {sections.length > 0 && (\n          <div className=\"space-y-6\">\n            {sections.map((section) => (\n              <div key={section.id} className=\"bg-white rounded-lg shadow-lg p-8\">\n                <SectionRenderer section={section} />\n              </div>\n            ))}\n          </div>\n        )}\n        \n        {/* No Sections Message */}\n        {sections.length === 0 && (\n          <div className=\"bg-white rounded-lg shadow-lg p-8 text-center text-sage-600\">\n            <p>No content available for this page.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}