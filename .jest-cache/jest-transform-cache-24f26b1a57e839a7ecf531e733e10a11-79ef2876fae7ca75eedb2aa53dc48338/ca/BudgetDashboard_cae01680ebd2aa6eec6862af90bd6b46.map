{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/BudgetDashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\nimport type { Vendor } from '@/schemas/vendorSchemas';\nimport type { Activity } from '@/schemas/activitySchemas';\nimport type { Accommodation } from '@/schemas/accommodationSchemas';\nimport type { BudgetBreakdown, PaymentStatusReport, SubsidyTracking } from '@/schemas/budgetSchemas';\nimport { Card } from '@/components/ui/Card';\n\ninterface BudgetDashboardProps {\n  vendors: Vendor[];\n  activities: Activity[];\n  accommodations: Accommodation[];\n  budgetBreakdown: BudgetBreakdown | null;\n  paymentStatusReport?: PaymentStatusReport | null;\n  subsidyTracking?: SubsidyTracking | null;\n  onRefresh?: () => void;\n}\n\n/**\n * Budget Dashboard Component\n * \n * Displays comprehensive budget information including:\n * - Summary cards with key metrics\n * - Vendor costs by category\n * - Activity costs with subsidies\n * - Accommodation costs\n * - Visual charts and breakdowns\n * \n * Requirements: 9.1, 9.2, 9.3, 9.4, 9.5\n */\nexport default function BudgetDashboard({\n  vendors,\n  activities,\n  accommodations,\n  budgetBreakdown,\n  paymentStatusReport,\n  subsidyTracking,\n  onRefresh,\n}: BudgetDashboardProps) {\n  // Calculate vendor totals\n  const vendorTotals = useMemo(() => {\n    if (!vendors || !Array.isArray(vendors)) {\n      return { total: 0, paid: 0, balance: 0 };\n    }\n    const total = vendors.reduce((sum, v) => sum + v.baseCost, 0);\n    const paid = vendors.reduce((sum, v) => sum + v.amountPaid, 0);\n    const balance = total - paid;\n    return { total, paid, balance };\n  }, [vendors]);\n\n  // Calculate activity totals (with subsidies)\n  const activityTotals = useMemo(() => {\n    if (!activities || !Array.isArray(activities)) {\n      return { totalCost: 0, totalSubsidy: 0, netCost: 0 };\n    }\n    \n    let totalCost = 0;\n    let totalSubsidy = 0;\n\n    activities.forEach((activity) => {\n      if (activity.costPerPerson) {\n        // For now, estimate with capacity or use a default\n        const estimatedAttendees = activity.capacity || 0;\n        const cost = activity.costPerPerson * estimatedAttendees;\n        const subsidy = (activity.hostSubsidy || 0) * estimatedAttendees;\n        totalCost += cost;\n        totalSubsidy += subsidy;\n      }\n    });\n\n    return {\n      totalCost,\n      totalSubsidy,\n      netCost: totalCost - totalSubsidy,\n    };\n  }, [activities]);\n\n  // Calculate accommodation totals (placeholder for now)\n  const accommodationTotals = useMemo(() => {\n    return {\n      totalCost: 0,\n      totalSubsidy: 0,\n      netCost: 0,\n    };\n  }, [accommodations]);\n\n  // Calculate grand totals\n  const grandTotals = useMemo(() => {\n    const grossTotal = vendorTotals.total + activityTotals.totalCost + accommodationTotals.totalCost;\n    const totalSubsidies = activityTotals.totalSubsidy + accommodationTotals.totalSubsidy;\n    const netTotal = grossTotal - totalSubsidies;\n    const totalPaid = vendorTotals.paid;\n    const balanceDue = netTotal - totalPaid;\n\n    return {\n      grossTotal,\n      totalSubsidies,\n      netTotal,\n      totalPaid,\n      balanceDue,\n    };\n  }, [vendorTotals, activityTotals, accommodationTotals]);\n\n  // Group vendors by category\n  const vendorsByCategory = useMemo(() => {\n    if (!vendors || !Array.isArray(vendors)) {\n      return {};\n    }\n    const grouped: Record<string, Vendor[]> = {};\n    vendors.forEach((vendor) => {\n      if (!grouped[vendor.category]) {\n        grouped[vendor.category] = [];\n      }\n      grouped[vendor.category].push(vendor);\n    });\n    return grouped;\n  }, [vendors]);\n\n  // Calculate category totals\n  const categoryTotals = useMemo(() => {\n    return Object.entries(vendorsByCategory).map(([category, categoryVendors]) => {\n      const total = categoryVendors.reduce((sum, v) => sum + v.baseCost, 0);\n      const paid = categoryVendors.reduce((sum, v) => sum + v.amountPaid, 0);\n      const balance = total - paid;\n      return { category, total, paid, balance, count: categoryVendors.length };\n    });\n  }, [vendorsByCategory]);\n\n  // Format currency\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  // Calculate percentage for progress bars\n  const calculatePercentage = (value: number, total: number) => {\n    if (total === 0) return 0;\n    return Math.min(100, Math.round((value / total) * 100));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card className=\"p-6\">\n          <div className=\"text-sm font-medium text-sage-600 mb-1\">Total Budget</div>\n          <div className=\"text-3xl font-bold text-sage-900\">{formatCurrency(grandTotals.netTotal)}</div>\n          <div className=\"text-xs text-sage-500 mt-1\">\n            Gross: {formatCurrency(grandTotals.grossTotal)}\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"text-sm font-medium text-sage-600 mb-1\">Total Paid</div>\n          <div className=\"text-3xl font-bold text-jungle-600\">{formatCurrency(grandTotals.totalPaid)}</div>\n          <div className=\"text-xs text-sage-500 mt-1\">\n            {calculatePercentage(grandTotals.totalPaid, grandTotals.netTotal)}% of budget\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"text-sm font-medium text-sage-600 mb-1\">Balance Due</div>\n          <div className=\"text-3xl font-bold text-volcano-600\">{formatCurrency(grandTotals.balanceDue)}</div>\n          <div className=\"text-xs text-sage-500 mt-1\">\n            {calculatePercentage(grandTotals.balanceDue, grandTotals.netTotal)}% remaining\n          </div>\n        </Card>\n\n        <Card className=\"p-6\">\n          <div className=\"text-sm font-medium text-sage-600 mb-1\">Host Subsidies</div>\n          <div className=\"text-3xl font-bold text-ocean-600\">{formatCurrency(grandTotals.totalSubsidies)}</div>\n          <div className=\"text-xs text-sage-500 mt-1\">\n            {calculatePercentage(grandTotals.totalSubsidies, grandTotals.grossTotal)}% of gross\n          </div>\n        </Card>\n      </div>\n\n      {/* Payment Progress Bar */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Payment Progress</h2>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-sm text-sage-600\">\n            <span>Paid: {formatCurrency(grandTotals.totalPaid)}</span>\n            <span>Remaining: {formatCurrency(grandTotals.balanceDue)}</span>\n          </div>\n          <div className=\"w-full bg-sage-200 rounded-full h-4 overflow-hidden\">\n            <div\n              className=\"bg-jungle-500 h-full transition-all duration-300\"\n              style={{ width: `${calculatePercentage(grandTotals.totalPaid, grandTotals.netTotal)}%` }}\n            />\n          </div>\n        </div>\n      </Card>\n\n      {/* Vendor Costs by Category */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Vendor Costs by Category</h2>\n        <div className=\"space-y-4\">\n          {categoryTotals.length === 0 ? (\n            <p className=\"text-sage-500 text-center py-8\">No vendors added yet</p>\n          ) : (\n            categoryTotals.map(({ category, total, paid, balance, count }) => (\n              <div key={category} className=\"border-b border-sage-200 pb-4 last:border-0\">\n                <div className=\"flex justify-between items-start mb-2\">\n                  <div>\n                    <h3 className=\"font-medium text-sage-900 capitalize\">\n                      {category.replace(/_/g, ' ')}\n                    </h3>\n                    <p className=\"text-sm text-sage-500\">{count} vendor{count !== 1 ? 's' : ''}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"font-semibold text-sage-900\">{formatCurrency(total)}</div>\n                    <div className=\"text-sm text-sage-500\">\n                      Paid: {formatCurrency(paid)}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-full bg-sage-200 rounded-full h-2 overflow-hidden\">\n                  <div\n                    className={`h-full transition-all duration-300 ${\n                      balance > 0 ? 'bg-sunset-500' : 'bg-jungle-500'\n                    }`}\n                    style={{ width: `${calculatePercentage(paid, total)}%` }}\n                  />\n                </div>\n                {balance > 0 && (\n                  <div className=\"text-xs text-volcano-600 mt-1\">\n                    Balance: {formatCurrency(balance)}\n                  </div>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </Card>\n\n      {/* Activity Costs */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Activity Costs</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div className=\"bg-sage-50 p-4 rounded-lg\">\n            <div className=\"text-sm text-sage-600 mb-1\">Total Cost</div>\n            <div className=\"text-2xl font-bold text-sage-900\">\n              {formatCurrency(activityTotals.totalCost)}\n            </div>\n          </div>\n          <div className=\"bg-ocean-50 p-4 rounded-lg\">\n            <div className=\"text-sm text-sage-600 mb-1\">Host Subsidy</div>\n            <div className=\"text-2xl font-bold text-ocean-600\">\n              {formatCurrency(activityTotals.totalSubsidy)}\n            </div>\n          </div>\n          <div className=\"bg-jungle-50 p-4 rounded-lg\">\n            <div className=\"text-sm text-sage-600 mb-1\">Guest Cost</div>\n            <div className=\"text-2xl font-bold text-jungle-600\">\n              {formatCurrency(activityTotals.netCost)}\n            </div>\n          </div>\n        </div>\n        {!activities || activities.filter((a) => a.costPerPerson).length === 0 ? (\n          <p className=\"text-sage-500 text-center py-4\">No paid activities yet</p>\n        ) : (\n          <div className=\"space-y-2\">\n            {activities\n              .filter((a) => a.costPerPerson)\n              .map((activity) => {\n                const estimatedAttendees = activity.capacity || 0;\n                const totalCost = (activity.costPerPerson || 0) * estimatedAttendees;\n                const totalSubsidy = (activity.hostSubsidy || 0) * estimatedAttendees;\n                const guestCost = totalCost - totalSubsidy;\n\n                return (\n                  <div\n                    key={activity.id}\n                    className=\"flex justify-between items-center py-2 border-b border-sage-100 last:border-0\"\n                  >\n                    <div>\n                      <div className=\"font-medium text-sage-900\">{activity.name}</div>\n                      <div className=\"text-sm text-sage-500\">\n                        ${activity.costPerPerson}/person × {estimatedAttendees} guests\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-semibold text-sage-900\">{formatCurrency(guestCost)}</div>\n                      {totalSubsidy > 0 && (\n                        <div className=\"text-xs text-ocean-600\">\n                          Subsidy: {formatCurrency(totalSubsidy)}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n          </div>\n        )}\n      </Card>\n\n      {/* Guest Contributions vs Host Subsidies */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">\n          Guest Contributions vs Host Subsidies\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <div className=\"text-sm text-sage-600 mb-2\">Guest Contributions</div>\n            <div className=\"text-3xl font-bold text-jungle-600 mb-2\">\n              {formatCurrency(activityTotals.netCost)}\n            </div>\n            <div className=\"text-sm text-sage-500\">\n              {calculatePercentage(activityTotals.netCost, activityTotals.totalCost)}% of activity costs\n            </div>\n          </div>\n          <div>\n            <div className=\"text-sm text-sage-600 mb-2\">Host Subsidies</div>\n            <div className=\"text-3xl font-bold text-ocean-600 mb-2\">\n              {formatCurrency(grandTotals.totalSubsidies)}\n            </div>\n            <div className=\"text-sm text-sage-500\">\n              {calculatePercentage(grandTotals.totalSubsidies, grandTotals.grossTotal)}% of total costs\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-4 pt-4 border-t border-sage-200\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"text-sm text-sage-600\">Total Activity Budget</span>\n            <span className=\"font-semibold text-sage-900\">\n              {formatCurrency(activityTotals.totalCost)}\n            </span>\n          </div>\n        </div>\n      </Card>\n\n      {/* Category Breakdown Pie Chart */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Budget Breakdown by Category</h2>\n        {categoryTotals.length === 0 ? (\n          <p className=\"text-sage-500 text-center py-8\">No budget data available</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {/* Visual pie chart representation using stacked bars */}\n            <div className=\"flex h-8 rounded-full overflow-hidden\">\n              {categoryTotals.map(({ category, total }, index) => {\n                const percentage = calculatePercentage(total, vendorTotals.total);\n                const colors = [\n                  'bg-jungle-500',\n                  'bg-ocean-500',\n                  'bg-sunset-500',\n                  'bg-volcano-500',\n                  'bg-sage-500',\n                ];\n                const color = colors[index % colors.length];\n                \n                return percentage > 0 ? (\n                  <div\n                    key={category}\n                    className={`${color} transition-all duration-300`}\n                    style={{ width: `${percentage}%` }}\n                    title={`${category}: ${formatCurrency(total)} (${percentage}%)`}\n                  />\n                ) : null;\n              })}\n            </div>\n\n            {/* Legend */}\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n              {categoryTotals.map(({ category, total }, index) => {\n                const percentage = calculatePercentage(total, vendorTotals.total);\n                const colors = [\n                  'bg-jungle-500',\n                  'bg-ocean-500',\n                  'bg-sunset-500',\n                  'bg-volcano-500',\n                  'bg-sage-500',\n                ];\n                const color = colors[index % colors.length];\n\n                return (\n                  <div key={category} className=\"flex items-center gap-2\">\n                    <div className={`w-4 h-4 rounded ${color}`} />\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"text-sm font-medium text-sage-900 truncate capitalize\">\n                        {category.replace(/_/g, ' ')}\n                      </div>\n                      <div className=\"text-xs text-sage-500\">\n                        {formatCurrency(total)} ({percentage}%)\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </Card>\n\n      {/* Vendor Spending Bar Chart */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Top Vendor Spending</h2>\n        {!vendors || vendors.length === 0 ? (\n          <p className=\"text-sage-500 text-center py-8\">No vendors added yet</p>\n        ) : (\n          <div className=\"space-y-3\">\n            {vendors\n              .sort((a, b) => b.baseCost - a.baseCost)\n              .slice(0, 10)\n              .map((vendor) => {\n                const percentage = calculatePercentage(vendor.baseCost, vendorTotals.total);\n                const paidPercentage = calculatePercentage(vendor.amountPaid, vendor.baseCost);\n                const isOverBudget = vendor.amountPaid > vendor.baseCost;\n\n                return (\n                  <div key={vendor.id} className=\"space-y-1\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"font-medium text-sage-900 truncate\">{vendor.name}</div>\n                        <div className=\"text-xs text-sage-500 capitalize\">\n                          {vendor.category.replace(/_/g, ' ')}\n                        </div>\n                      </div>\n                      <div className=\"text-right ml-4\">\n                        <div className={`font-semibold ${isOverBudget ? 'text-volcano-600' : 'text-sage-900'}`}>\n                          {formatCurrency(vendor.baseCost)}\n                        </div>\n                        <div className=\"text-xs text-sage-500\">\n                          {percentage}% of total\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"relative w-full bg-sage-200 rounded-full h-3 overflow-hidden\">\n                      <div\n                        className={`h-full transition-all duration-300 ${\n                          isOverBudget ? 'bg-volcano-500' : 'bg-jungle-500'\n                        }`}\n                        style={{ width: `${Math.min(100, percentage)}%` }}\n                      />\n                      {/* Show paid amount overlay */}\n                      <div\n                        className=\"absolute top-0 left-0 h-full bg-sage-700 opacity-50\"\n                        style={{ width: `${Math.min(percentage, (paidPercentage * percentage) / 100)}%` }}\n                      />\n                    </div>\n                    {isOverBudget && (\n                      <div className=\"text-xs text-volcano-600\">\n                        ⚠️ Over budget by {formatCurrency(vendor.amountPaid - vendor.baseCost)}\n                      </div>\n                    )}\n                  </div>\n                );\n              })}\n          </div>\n        )}\n      </Card>\n\n      {/* Budget Items Exceeding Planned Amounts */}\n      {vendors && vendors.some((v) => v.amountPaid > v.baseCost) && (\n        <Card className=\"p-6 border-volcano-200 bg-volcano-50\">\n          <h2 className=\"text-lg font-semibold text-volcano-900 mb-4\">⚠️ Items Exceeding Budget</h2>\n          <div className=\"space-y-2\">\n            {vendors\n              .filter((v) => v.amountPaid > v.baseCost)\n              .map((vendor) => (\n                <div\n                  key={vendor.id}\n                  className=\"flex justify-between items-center py-2 border-b border-volcano-200 last:border-0\"\n                >\n                  <div>\n                    <div className=\"font-medium text-volcano-900\">{vendor.name}</div>\n                    <div className=\"text-sm text-volcano-700 capitalize\">\n                      {vendor.category.replace(/_/g, ' ')}\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"font-semibold text-volcano-900\">\n                      {formatCurrency(vendor.amountPaid)}\n                    </div>\n                    <div className=\"text-sm text-volcano-700\">\n                      Budget: {formatCurrency(vendor.baseCost)}\n                    </div>\n                    <div className=\"text-xs text-volcano-600\">\n                      Over by: {formatCurrency(vendor.amountPaid - vendor.baseCost)}\n                    </div>\n                  </div>\n                </div>\n              ))}\n          </div>\n        </Card>\n      )}\n\n      {/* Vendor Payment Tracking Table */}\n      {paymentStatusReport && (\n        <Card className=\"p-6\">\n          <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Vendor Payment Tracking</h2>\n          \n          {/* Summary Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n            <div className=\"bg-volcano-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Unpaid</div>\n              <div className=\"text-2xl font-bold text-volcano-600\">\n                {formatCurrency(paymentStatusReport.totalUnpaid)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                {paymentStatusReport.unpaidVendors?.length || 0} vendor{(paymentStatusReport.unpaidVendors?.length || 0) !== 1 ? 's' : ''}\n              </div>\n            </div>\n            <div className=\"bg-sunset-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Partially Paid</div>\n              <div className=\"text-2xl font-bold text-sunset-600\">\n                {formatCurrency(paymentStatusReport.totalPartial)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                {paymentStatusReport.partiallyPaidVendors?.length || 0} vendor{(paymentStatusReport.partiallyPaidVendors?.length || 0) !== 1 ? 's' : ''}\n              </div>\n            </div>\n            <div className=\"bg-jungle-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Paid</div>\n              <div className=\"text-2xl font-bold text-jungle-600\">\n                {formatCurrency(paymentStatusReport.totalPaid)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                {paymentStatusReport.paidVendors?.length || 0} vendor{(paymentStatusReport.paidVendors?.length || 0) !== 1 ? 's' : ''}\n              </div>\n            </div>\n          </div>\n\n          {/* Unpaid Vendors */}\n          {paymentStatusReport.unpaidVendors && paymentStatusReport.unpaidVendors.length > 0 && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-md font-semibold text-volcano-900 mb-3\">Unpaid Vendors</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-sage-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Vendor</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Category</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Amount Due</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-sage-200\">\n                    {paymentStatusReport.unpaidVendors.map((vendor) => (\n                      <tr key={vendor.id} className=\"hover:bg-sage-50\">\n                        <td className=\"px-4 py-3 text-sm text-sage-900\">{vendor.name}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 capitalize\">\n                          {vendor.category.replace(/_/g, ' ')}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-volcano-600 text-right font-semibold\">\n                          {formatCurrency(vendor.baseCost)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Partially Paid Vendors */}\n          {paymentStatusReport.partiallyPaidVendors && paymentStatusReport.partiallyPaidVendors.length > 0 && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-md font-semibold text-sunset-900 mb-3\">Partially Paid Vendors</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-sage-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Vendor</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Category</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Total Cost</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Paid</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Balance</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-sage-200\">\n                    {paymentStatusReport.partiallyPaidVendors.map((vendor) => (\n                      <tr key={vendor.id} className=\"hover:bg-sage-50\">\n                        <td className=\"px-4 py-3 text-sm text-sage-900\">{vendor.name}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 capitalize\">\n                          {vendor.category.replace(/_/g, ' ')}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-sage-900 text-right\">\n                          {formatCurrency(vendor.baseCost)}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-jungle-600 text-right\">\n                          {formatCurrency(vendor.amountPaid)}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-sunset-600 text-right font-semibold\">\n                          {formatCurrency(vendor.balanceDue)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Paid Vendors */}\n          {paymentStatusReport.paidVendors && paymentStatusReport.paidVendors.length > 0 && (\n            <div>\n              <h3 className=\"text-md font-semibold text-jungle-900 mb-3\">Paid Vendors</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-sage-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Vendor</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Category</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Amount Paid</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-sage-200\">\n                    {paymentStatusReport.paidVendors.map((vendor) => (\n                      <tr key={vendor.id} className=\"hover:bg-sage-50\">\n                        <td className=\"px-4 py-3 text-sm text-sage-900\">{vendor.name}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 capitalize\">\n                          {vendor.category.replace(/_/g, ' ')}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-jungle-600 text-right font-semibold\">\n                          {formatCurrency(vendor.amountPaid)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </Card>\n      )}\n\n      {/* Individual Guest Subsidies */}\n      {subsidyTracking && (\n        <Card className=\"p-6\">\n          <h2 className=\"text-lg font-semibold text-sage-900 mb-4\">Individual Guest Subsidies</h2>\n          \n          {/* Summary Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n            <div className=\"bg-ocean-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Activity Subsidies</div>\n              <div className=\"text-2xl font-bold text-ocean-600\">\n                {formatCurrency(subsidyTracking.totalActivitySubsidies)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                {subsidyTracking.activitySubsidies.length} activit{subsidyTracking.activitySubsidies.length !== 1 ? 'ies' : 'y'}\n              </div>\n            </div>\n            <div className=\"bg-ocean-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Accommodation Subsidies</div>\n              <div className=\"text-2xl font-bold text-ocean-600\">\n                {formatCurrency(subsidyTracking.totalAccommodationSubsidies)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                {subsidyTracking.accommodationSubsidies.length} accommodation{subsidyTracking.accommodationSubsidies.length !== 1 ? 's' : ''}\n              </div>\n            </div>\n            <div className=\"bg-ocean-50 p-4 rounded-lg\">\n              <div className=\"text-sm text-sage-600 mb-1\">Total Subsidies</div>\n              <div className=\"text-2xl font-bold text-ocean-600\">\n                {formatCurrency(subsidyTracking.grandTotalSubsidies)}\n              </div>\n              <div className=\"text-xs text-sage-500 mt-1\">\n                Host contribution\n              </div>\n            </div>\n          </div>\n\n          {/* Activity Subsidies */}\n          {subsidyTracking.activitySubsidies.length > 0 && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-md font-semibold text-sage-900 mb-3\">Activity Subsidies</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-sage-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Activity</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Per Person</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Attendees</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Total Subsidy</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-sage-200\">\n                    {subsidyTracking.activitySubsidies.map((subsidy) => (\n                      <tr key={subsidy.activityId} className=\"hover:bg-sage-50\">\n                        <td className=\"px-4 py-3 text-sm text-sage-900\">{subsidy.activityName}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 text-right\">\n                          {formatCurrency(subsidy.subsidyPerPerson)}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 text-right\">\n                          {subsidy.estimatedAttendees}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-ocean-600 text-right font-semibold\">\n                          {formatCurrency(subsidy.totalSubsidy)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Accommodation Subsidies */}\n          {subsidyTracking.accommodationSubsidies.length > 0 && (\n            <div>\n              <h3 className=\"text-md font-semibold text-sage-900 mb-3\">Accommodation Subsidies</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-sage-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Accommodation</th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-sage-700\">Room Type</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Per Night</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Nights</th>\n                      <th className=\"px-4 py-2 text-right text-sm font-medium text-sage-700\">Total Subsidy</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-sage-200\">\n                    {subsidyTracking.accommodationSubsidies.map((subsidy) => (\n                      <tr key={subsidy.accommodationId} className=\"hover:bg-sage-50\">\n                        <td className=\"px-4 py-3 text-sm text-sage-900\">{subsidy.accommodationName}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600\">{subsidy.roomType}</td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 text-right\">\n                          {formatCurrency(subsidy.subsidyPerNight)}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-sage-600 text-right\">\n                          {subsidy.nights}\n                        </td>\n                        <td className=\"px-4 py-3 text-sm text-ocean-600 text-right font-semibold\">\n                          {formatCurrency(subsidy.totalSubsidy)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {subsidyTracking.activitySubsidies.length === 0 && subsidyTracking.accommodationSubsidies.length === 0 && (\n            <p className=\"text-sage-500 text-center py-8\">No subsidies configured yet</p>\n          )}\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":["BudgetDashboard","vendors","activities","accommodations","budgetBreakdown","paymentStatusReport","subsidyTracking","onRefresh","vendorTotals","useMemo","Array","isArray","total","paid","balance","reduce","sum","v","baseCost","amountPaid","activityTotals","totalCost","totalSubsidy","netCost","forEach","activity","costPerPerson","estimatedAttendees","capacity","cost","subsidy","hostSubsidy","accommodationTotals","grandTotals","grossTotal","totalSubsidies","netTotal","totalPaid","balanceDue","vendorsByCategory","grouped","vendor","category","push","categoryTotals","Object","entries","map","categoryVendors","count","length","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","calculatePercentage","value","Math","min","round","div","className","Card","h2","span","width","p","h3","replace","filter","a","guestCost","name","id","index","percentage","colors","color","title","sort","b","slice","paidPercentage","isOverBudget","some","totalUnpaid","unpaidVendors","totalPartial","partiallyPaidVendors","paidVendors","table","thead","tr","th","tbody","td","totalActivitySubsidies","activitySubsidies","totalAccommodationSubsidies","accommodationSubsidies","grandTotalSubsidies","activityName","subsidyPerPerson","activityId","accommodationName","roomType","subsidyPerNight","nights","accommodationId"],"mappings":"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"}