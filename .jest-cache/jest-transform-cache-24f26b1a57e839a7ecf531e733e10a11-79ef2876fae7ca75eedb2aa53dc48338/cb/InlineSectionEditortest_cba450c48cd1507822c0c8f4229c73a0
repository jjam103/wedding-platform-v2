d66cdd160eca7aac652e4a67b655d250
"use strict";
// Mock PhotoPicker directly (bypasses dynamic import)
jest.mock('./PhotoPicker', ()=>({
        PhotoPicker: ({ selectedPhotoIds, onSelectionChange })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "photo-picker",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            "Selected: ",
                            selectedPhotoIds.length
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: ()=>onSelectionChange([
                                ...selectedPhotoIds,
                                'new-photo'
                            ]),
                        children: "Add Photo"
                    })
                ]
            })
    }));
// Mock RichTextEditor
jest.mock('./RichTextEditor', ()=>({
        RichTextEditor: ({ value, onChange })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                "data-testid": "rich-text-editor",
                value: value,
                onChange: (e)=>onChange(e.target.value)
            })
    }));
// Mock SimpleReferenceSelector
jest.mock('./SimpleReferenceSelector', ()=>({
        SimpleReferenceSelector: ({ onSelect })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                "data-testid": "reference-selector",
                onClick: ()=>onSelect({
                        type: 'activity',
                        id: 'activity-1',
                        title: 'Test Activity'
                    }),
                children: "Add Reference"
            })
    }));
// Mock ReferencePreview
jest.mock('./ReferencePreview', ()=>({
        ReferencePreview: ({ reference, onRemove })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "reference-preview",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        children: reference.title
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onRemove,
                        children: "Remove"
                    })
                ]
            })
    }));
// Mock PhotoGallerySkeleton
jest.mock('./PhotoGallerySkeleton', ()=>({
        PhotoGallerySkeleton: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                children: "Loading photos..."
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _InlineSectionEditor = require("./InlineSectionEditor");
describe('InlineSectionEditor', ()=>{
    const mockFetch = jest.fn();
    beforeEach(()=>{
        global.fetch = mockFetch;
        mockFetch.mockClear();
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Rendering', ()=>{
        it('should render loading state initially', ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            expect(_react.screen.getByText('Loading sections...')).toBeInTheDocument();
        });
        it('should render empty state when no sections exist', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Create First Section')).toBeInTheDocument();
        });
        it('should render sections list when sections exist', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('#1')).toBeInTheDocument();
            });
            expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            expect(_react.screen.getByText('1 Col')).toBeInTheDocument();
        });
        it('should render error message when fetch fails', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: false,
                        error: {
                            message: 'Failed to load'
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Failed to load')).toBeInTheDocument();
            });
        });
        it('should render compact mode when compact prop is true', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home",
                compact: true
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const editor = container.querySelector('[data-testid="inline-section-editor"]');
            expect(editor).toHaveClass('text-sm');
        });
    });
    describe('Add Section', ()=>{
        it('should add a new section when Add Section button is clicked', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'new-section',
                            title: null,
                            display_order: 0,
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const addButton = _react.screen.getByText('+ Add Section');
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections', expect.objectContaining({
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            });
        });
        it('should open edit mode for newly created section', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'new-section',
                            title: null,
                            display_order: 0,
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('No sections yet')).toBeInTheDocument();
            });
            const addButton = _react.screen.getByText('+ Add Section');
            _react.fireEvent.click(addButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Close')).toBeInTheDocument();
            });
        });
    });
    describe('Edit Section', ()=>{
        it('should toggle edit mode when Edit button is clicked', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Close')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('should update section title when input changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            expect(titleInput).toHaveValue('Updated Title');
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('1 unsaved')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
        it('should toggle layout when layout selector changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            ...mockSections[0],
                            columns: [
                                mockSections[0].columns[0],
                                {
                                    id: 'col-2',
                                    column_number: 2,
                                    content_type: 'rich_text',
                                    content_data: {
                                        html: ''
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Layout:')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const layoutSelect = _react.screen.getByDisplayValue('One Column');
            _react.fireEvent.change(layoutSelect, {
                target: {
                    value: 'two-column'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT'
                }));
            }, {
                timeout: 3000
            });
        });
    });
    describe('Delete Section', ()=>{
        it('should delete section when Delete button is clicked and confirmed', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            // Mock window.confirm
            global.confirm = jest.fn(()=>true);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByText('Delete');
            _react.fireEvent.click(deleteButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'DELETE'
                }));
            });
            expect(global.confirm).toHaveBeenCalledWith('Are you sure you want to delete this section?');
        });
        it('should not delete section when Delete button is clicked and cancelled', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            // Mock window.confirm to return false
            global.confirm = jest.fn(()=>false);
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            });
            const deleteButton = _react.screen.getByText('Delete');
            _react.fireEvent.click(deleteButton);
            // Should not call DELETE API
            expect(mockFetch).toHaveBeenCalledTimes(1); // Only initial fetch
        });
    });
    describe('Save Section', ()=>{
        it('should save section when Save button is clicked', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            }, {
                timeout: 3000
            });
        });
        it('should call onSave callback when section is saved', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            const onSave = jest.fn();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home",
                onSave: onSave
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(onSave).toHaveBeenCalled();
            }, {
                timeout: 3000
            });
        });
        it('should clear unsaved changes indicator after save', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections[0]
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('1 unsaved')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.queryByText('1 unsaved')).not.toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
    describe('Drag and Drop Reordering', ()=>{
        it('should reorder sections when dragged and dropped', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Section 1',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Content 1</p>'
                            }
                        }
                    ]
                },
                {
                    id: 'section-2',
                    title: 'Section 2',
                    display_order: 1,
                    columns: [
                        {
                            id: 'col-2',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Content 2</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Section 1')).toBeInTheDocument();
                expect(_react.screen.getByText('Section 2')).toBeInTheDocument();
            });
            // Simulate drag and drop
            const sections = container.querySelectorAll('[draggable="true"]');
            const firstSection = sections[0];
            const secondSection = sections[1];
            _react.fireEvent.dragStart(firstSection);
            _react.fireEvent.dragOver(secondSection);
            _react.fireEvent.drop(secondSection);
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/reorder', expect.objectContaining({
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                }));
            });
        });
    });
    describe('Column Type Changes', ()=>{
        it('should change column type when selector changes', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            ...mockSections[0],
                            columns: [
                                {
                                    id: 'col-1',
                                    column_number: 1,
                                    content_type: 'photo_gallery',
                                    content_data: {
                                        photo_ids: [],
                                        display_mode: 'gallery',
                                        autoplaySpeed: 3000,
                                        showCaptions: true
                                    }
                                }
                            ]
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByDisplayValue('Rich Text')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const typeSelect = _react.screen.getByDisplayValue('Rich Text');
            _react.fireEvent.change(typeSelect, {
                target: {
                    value: 'photo_gallery'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/sections/section-1', expect.objectContaining({
                    method: 'PUT'
                }));
            }, {
                timeout: 3000
            });
        });
    });
    describe('Error Handling', ()=>{
        it('should display error message when save fails', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    title: 'Test Section',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Test content</p>'
                            }
                        }
                    ]
                }
            ];
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            }).mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: false,
                        error: {
                            message: 'Save failed'
                        }
                    })
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InlineSectionEditor.InlineSectionEditor, {
                pageType: "home",
                pageId: "home"
            }));
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Test Section')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const editButton = _react.screen.getByText('Edit');
            _react.fireEvent.click(editButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByPlaceholderText('Enter a title...')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            // Make a change
            const titleInput = _react.screen.getByPlaceholderText('Enter a title...');
            _react.fireEvent.change(titleInput, {
                target: {
                    value: 'Updated Title'
                }
            });
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
            const saveButton = _react.screen.getByText('Save');
            _react.fireEvent.click(saveButton);
            await (0, _react.waitFor)(()=>{
                expect(_react.screen.getByText('Save failed')).toBeInTheDocument();
            }, {
                timeout: 3000
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9JbmxpbmVTZWN0aW9uRWRpdG9yLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IElubGluZVNlY3Rpb25FZGl0b3IgfSBmcm9tICcuL0lubGluZVNlY3Rpb25FZGl0b3InO1xuXG4vLyBNb2NrIFBob3RvUGlja2VyIGRpcmVjdGx5IChieXBhc3NlcyBkeW5hbWljIGltcG9ydClcbmplc3QubW9jaygnLi9QaG90b1BpY2tlcicsICgpID0+ICh7XG4gIFBob3RvUGlja2VyOiAoeyBzZWxlY3RlZFBob3RvSWRzLCBvblNlbGVjdGlvbkNoYW5nZSB9OiBhbnkpID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicGhvdG8tcGlja2VyXCI+XG4gICAgICA8ZGl2PlNlbGVjdGVkOiB7c2VsZWN0ZWRQaG90b0lkcy5sZW5ndGh9PC9kaXY+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0aW9uQ2hhbmdlKFsuLi5zZWxlY3RlZFBob3RvSWRzLCAnbmV3LXBob3RvJ10pfT5cbiAgICAgICAgQWRkIFBob3RvXG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKSxcbn0pKTtcblxuLy8gTW9jayBSaWNoVGV4dEVkaXRvclxuamVzdC5tb2NrKCcuL1JpY2hUZXh0RWRpdG9yJywgKCkgPT4gKHtcbiAgUmljaFRleHRFZGl0b3I6ICh7IHZhbHVlLCBvbkNoYW5nZSB9OiBhbnkpID0+IChcbiAgICA8dGV4dGFyZWFcbiAgICAgIGRhdGEtdGVzdGlkPVwicmljaC10ZXh0LWVkaXRvclwiXG4gICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAvPlxuICApLFxufSkpO1xuXG4vLyBNb2NrIFNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yXG5qZXN0Lm1vY2soJy4vU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3InLCAoKSA9PiAoe1xuICBTaW1wbGVSZWZlcmVuY2VTZWxlY3RvcjogKHsgb25TZWxlY3QgfTogYW55KSA9PiAoXG4gICAgPGJ1dHRvblxuICAgICAgZGF0YS10ZXN0aWQ9XCJyZWZlcmVuY2Utc2VsZWN0b3JcIlxuICAgICAgb25DbGljaz17KCkgPT4gb25TZWxlY3QoeyB0eXBlOiAnYWN0aXZpdHknLCBpZDogJ2FjdGl2aXR5LTEnLCB0aXRsZTogJ1Rlc3QgQWN0aXZpdHknIH0pfVxuICAgID5cbiAgICAgIEFkZCBSZWZlcmVuY2VcbiAgICA8L2J1dHRvbj5cbiAgKSxcbn0pKTtcblxuLy8gTW9jayBSZWZlcmVuY2VQcmV2aWV3XG5qZXN0Lm1vY2soJy4vUmVmZXJlbmNlUHJldmlldycsICgpID0+ICh7XG4gIFJlZmVyZW5jZVByZXZpZXc6ICh7IHJlZmVyZW5jZSwgb25SZW1vdmUgfTogYW55KSA9PiAoXG4gICAgPGRpdiBkYXRhLXRlc3RpZD1cInJlZmVyZW5jZS1wcmV2aWV3XCI+XG4gICAgICA8c3Bhbj57cmVmZXJlbmNlLnRpdGxlfTwvc3Bhbj5cbiAgICAgIDxidXR0b24gb25DbGljaz17b25SZW1vdmV9PlJlbW92ZTwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBNb2NrIFBob3RvR2FsbGVyeVNrZWxldG9uXG5qZXN0Lm1vY2soJy4vUGhvdG9HYWxsZXJ5U2tlbGV0b24nLCAoKSA9PiAoe1xuICBQaG90b0dhbGxlcnlTa2VsZXRvbjogKCkgPT4gPGRpdj5Mb2FkaW5nIHBob3Rvcy4uLjwvZGl2Pixcbn0pKTtcblxuZGVzY3JpYmUoJ0lubGluZVNlY3Rpb25FZGl0b3InLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcbiAgXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaDtcbiAgICBtb2NrRmV0Y2gubW9ja0NsZWFyKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9hZGluZyBzdGF0ZSBpbml0aWFsbHknLCAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyBzZWN0aW9ucy4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgZW1wdHkgc3RhdGUgd2hlbiBubyBzZWN0aW9ucyBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2VjdGlvbnMgeWV0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NyZWF0ZSBGaXJzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBzZWN0aW9ucyBsaXN0IHdoZW4gc2VjdGlvbnMgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnMgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnIzEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMSBDb2wnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGVycm9yIG1lc3NhZ2Ugd2hlbiBmZXRjaCBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gbG9hZCcgfSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gbG9hZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBjb21wYWN0IG1vZGUgd2hlbiBjb21wYWN0IHByb3AgaXMgdHJ1ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIGNvbXBhY3Q9e3RydWV9IC8+XG4gICAgICApO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHNlY3Rpb25zIHlldCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGVkaXRvciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJpbmxpbmUtc2VjdGlvbi1lZGl0b3JcIl0nKTtcbiAgICAgIGV4cGVjdChlZGl0b3IpLnRvSGF2ZUNsYXNzKCd0ZXh0LXNtJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBZGQgU2VjdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFkZCBhIG5ldyBzZWN0aW9uIHdoZW4gQWRkIFNlY3Rpb24gYnV0dG9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogJ25ldy1zZWN0aW9uJyxcbiAgICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICcnIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdObyBzZWN0aW9ucyB5ZXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZGRCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCcrIEFkZCBTZWN0aW9uJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soYWRkQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL2FkbWluL3NlY3Rpb25zJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgb3BlbiBlZGl0IG1vZGUgZm9yIG5ld2x5IGNyZWF0ZWQgc2VjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGlkOiAnbmV3LXNlY3Rpb24nLFxuICAgICAgICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHNlY3Rpb25zIHlldCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGFkZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJysgQWRkIFNlY3Rpb24nKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nsb3NlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkaXQgU2VjdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBlZGl0IG1vZGUgd2hlbiBFZGl0IGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0Nsb3NlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBzZWN0aW9uIHRpdGxlIHdoZW4gaW5wdXQgY2hhbmdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0VkaXQnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhlZGl0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZSh0aXRsZUlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1VwZGF0ZWQgVGl0bGUnIH0gfSk7XG5cbiAgICAgIGV4cGVjdCh0aXRsZUlucHV0KS50b0hhdmVWYWx1ZSgnVXBkYXRlZCBUaXRsZScpO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzEgdW5zYXZlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgbGF5b3V0IHdoZW4gbGF5b3V0IHNlbGVjdG9yIGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLm1vY2tTZWN0aW9uc1swXSxcbiAgICAgICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAgICAgIG1vY2tTZWN0aW9uc1swXS5jb2x1bW5zWzBdLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAnY29sLTInLFxuICAgICAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMixcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJycgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xheW91dDonKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3QgbGF5b3V0U2VsZWN0ID0gc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdPbmUgQ29sdW1uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKGxheW91dFNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICd0d28tY29sdW1uJyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vc2VjdGlvbnMvc2VjdGlvbi0xJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEZWxldGUgU2VjdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBzZWN0aW9uIHdoZW4gRGVsZXRlIGJ1dHRvbiBpcyBjbGlja2VkIGFuZCBjb25maXJtZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgd2luZG93LmNvbmZpcm1cbiAgICAgIGdsb2JhbC5jb25maXJtID0gamVzdC5mbigoKSA9PiB0cnVlKTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRGVsZXRlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgICcvYXBpL2FkbWluL3NlY3Rpb25zL3NlY3Rpb24tMScsXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChnbG9iYWwuY29uZmlybSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBzZWN0aW9uPycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgZGVsZXRlIHNlY3Rpb24gd2hlbiBEZWxldGUgYnV0dG9uIGlzIGNsaWNrZWQgYW5kIGNhbmNlbGxlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIHdpbmRvdy5jb25maXJtIHRvIHJldHVybiBmYWxzZVxuICAgICAgZ2xvYmFsLmNvbmZpcm0gPSBqZXN0LmZuKCgpID0+IGZhbHNlKTtcblxuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiAvPik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVGVzdCBTZWN0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRGVsZXRlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZGVsZXRlQnV0dG9uKTtcblxuICAgICAgLy8gU2hvdWxkIG5vdCBjYWxsIERFTEVURSBBUElcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgLy8gT25seSBpbml0aWFsIGZldGNoXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTYXZlIFNlY3Rpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzYXZlIHNlY3Rpb24gd2hlbiBTYXZlIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnMgfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9uc1swXSB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICAvLyBNYWtlIGEgY2hhbmdlXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRpdGxlSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBUaXRsZScgfSB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2F2ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9zZWN0aW9uLTEnLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG9uU2F2ZSBjYWxsYmFjayB3aGVuIHNlY3Rpb24gaXMgc2F2ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zWzBdIH0pLFxuICAgICAgICB9KTtcblxuICAgICAgY29uc3Qgb25TYXZlID0gamVzdC5mbigpO1xuICAgICAgcmVuZGVyKDxJbmxpbmVTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiaG9tZVwiIHBhZ2VJZD1cImhvbWVcIiBvblNhdmU9e29uU2F2ZX0gLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICAvLyBNYWtlIGEgY2hhbmdlXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRpdGxlSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBUaXRsZScgfSB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2F2ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qob25TYXZlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIHVuc2F2ZWQgY2hhbmdlcyBpbmRpY2F0b3IgYWZ0ZXIgc2F2ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgU2VjdGlvbicsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlRlc3QgY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBtb2NrRmV0Y2hcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja1NlY3Rpb25zIH0pLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnNbMF0gfSksXG4gICAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0VkaXQnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhlZGl0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ0VudGVyIGEgdGl0bGUuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgLy8gTWFrZSBhIGNoYW5nZVxuICAgICAgY29uc3QgdGl0bGVJbnB1dCA9IHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpO1xuICAgICAgZmlyZUV2ZW50LmNoYW5nZSh0aXRsZUlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1VwZGF0ZWQgVGl0bGUnIH0gfSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMSB1bnNhdmVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2F2ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCcxIHVuc2F2ZWQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEcmFnIGFuZCBEcm9wIFJlb3JkZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW9yZGVyIHNlY3Rpb25zIHdoZW4gZHJhZ2dlZCBhbmQgZHJvcHBlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICB0aXRsZTogJ1NlY3Rpb24gMScsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkNvbnRlbnQgMTwvcD4nIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMicsXG4gICAgICAgICAgdGl0bGU6ICdTZWN0aW9uIDInLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDEsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0yJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5Db250ZW50IDI8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWN0aW9uIDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFNpbXVsYXRlIGRyYWcgYW5kIGRyb3BcbiAgICAgIGNvbnN0IHNlY3Rpb25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkcmFnZ2FibGU9XCJ0cnVlXCJdJyk7XG4gICAgICBjb25zdCBmaXJzdFNlY3Rpb24gPSBzZWN0aW9uc1swXTtcbiAgICAgIGNvbnN0IHNlY29uZFNlY3Rpb24gPSBzZWN0aW9uc1sxXTtcblxuICAgICAgZmlyZUV2ZW50LmRyYWdTdGFydChmaXJzdFNlY3Rpb24pO1xuICAgICAgZmlyZUV2ZW50LmRyYWdPdmVyKHNlY29uZFNlY3Rpb24pO1xuICAgICAgZmlyZUV2ZW50LmRyb3Aoc2Vjb25kU2VjdGlvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICAnL2FwaS9hZG1pbi9zZWN0aW9ucy9yZW9yZGVyJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbHVtbiBUeXBlIENoYW5nZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjaGFuZ2UgY29sdW1uIHR5cGUgd2hlbiBzZWxlY3RvciBjaGFuZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBTZWN0aW9uJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGVzdCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIG1vY2tGZXRjaFxuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrU2VjdGlvbnMgfSksXG4gICAgICAgIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5tb2NrU2VjdGlvbnNbMF0sXG4gICAgICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBwaG90b19pZHM6IFtdLCBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JywgYXV0b3BsYXlTcGVlZDogMzAwMCwgc2hvd0NhcHRpb25zOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPElubGluZVNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJob21lXCIgcGFnZUlkPVwiaG9tZVwiIC8+KTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcblxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0VkaXQnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhlZGl0QnV0dG9uKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlEaXNwbGF5VmFsdWUoJ1JpY2ggVGV4dCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCB0eXBlU2VsZWN0ID0gc2NyZWVuLmdldEJ5RGlzcGxheVZhbHVlKCdSaWNoIFRleHQnKTtcbiAgICAgIGZpcmVFdmVudC5jaGFuZ2UodHlwZVNlbGVjdCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdwaG90b19nYWxsZXJ5JyB9IH0pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgJy9hcGkvYWRtaW4vc2VjdGlvbnMvc2VjdGlvbi0xJyxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgZXJyb3IgbWVzc2FnZSB3aGVuIHNhdmUgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXN0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgICAgfSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IG1lc3NhZ2U6ICdTYXZlIGZhaWxlZCcgfSB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8SW5saW5lU2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImhvbWVcIiBwYWdlSWQ9XCJob21lXCIgLz4pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRWRpdCcpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGVkaXRCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgnRW50ZXIgYSB0aXRsZS4uLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuXG4gICAgICAvLyBNYWtlIGEgY2hhbmdlXG4gICAgICBjb25zdCB0aXRsZUlucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCdFbnRlciBhIHRpdGxlLi4uJyk7XG4gICAgICBmaXJlRXZlbnQuY2hhbmdlKHRpdGxlSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBUaXRsZScgfSB9KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG5cbiAgICAgIGNvbnN0IHNhdmVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdTYXZlJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2F2ZUJ1dHRvbik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2F2ZSBmYWlsZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMzAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIlBob3RvUGlja2VyIiwic2VsZWN0ZWRQaG90b0lkcyIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJsZW5ndGgiLCJidXR0b24iLCJvbkNsaWNrIiwiUmljaFRleHRFZGl0b3IiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGV4dGFyZWEiLCJlIiwidGFyZ2V0IiwiU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3IiLCJvblNlbGVjdCIsInR5cGUiLCJpZCIsInRpdGxlIiwiUmVmZXJlbmNlUHJldmlldyIsInJlZmVyZW5jZSIsIm9uUmVtb3ZlIiwic3BhbiIsIlBob3RvR2FsbGVyeVNrZWxldG9uIiwiZGVzY3JpYmUiLCJtb2NrRmV0Y2giLCJmbiIsImJlZm9yZUVhY2giLCJnbG9iYWwiLCJmZXRjaCIsIm1vY2tDbGVhciIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwicmVuZGVyIiwiSW5saW5lU2VjdGlvbkVkaXRvciIsInBhZ2VUeXBlIiwicGFnZUlkIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJ3YWl0Rm9yIiwibW9ja1NlY3Rpb25zIiwiZGlzcGxheV9vcmRlciIsImNvbHVtbnMiLCJjb2x1bW5fbnVtYmVyIiwiY29udGVudF90eXBlIiwiY29udGVudF9kYXRhIiwiaHRtbCIsImVycm9yIiwibWVzc2FnZSIsImNvbnRhaW5lciIsImNvbXBhY3QiLCJlZGl0b3IiLCJxdWVyeVNlbGVjdG9yIiwidG9IYXZlQ2xhc3MiLCJhZGRCdXR0b24iLCJmaXJlRXZlbnQiLCJjbGljayIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwib2JqZWN0Q29udGFpbmluZyIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aW1lb3V0IiwiZWRpdEJ1dHRvbiIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwidGl0bGVJbnB1dCIsImNoYW5nZSIsInRvSGF2ZVZhbHVlIiwibGF5b3V0U2VsZWN0IiwiZ2V0QnlEaXNwbGF5VmFsdWUiLCJjb25maXJtIiwiZGVsZXRlQnV0dG9uIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwic2F2ZUJ1dHRvbiIsIm9uU2F2ZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInNlY3Rpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImZpcnN0U2VjdGlvbiIsInNlY29uZFNlY3Rpb24iLCJkcmFnU3RhcnQiLCJkcmFnT3ZlciIsImRyb3AiLCJwaG90b19pZHMiLCJkaXNwbGF5X21vZGUiLCJhdXRvcGxheVNwZWVkIiwic2hvd0NhcHRpb25zIiwidHlwZVNlbGVjdCJdLCJtYXBwaW5ncyI6IjtBQUdBLHNEQUFzRDtBQUN0REEsS0FBS0MsSUFBSSxDQUFDLGlCQUFpQixJQUFPLENBQUE7UUFDaENDLGFBQWEsQ0FBQyxFQUFFQyxnQkFBZ0IsRUFBRUMsaUJBQWlCLEVBQU8saUJBQ3hELHNCQUFDQztnQkFBSUMsZUFBWTs7a0NBQ2Ysc0JBQUNEOzs0QkFBSTs0QkFBV0YsaUJBQWlCSSxNQUFNOzs7a0NBQ3ZDLHFCQUFDQzt3QkFBT0MsU0FBUyxJQUFNTCxrQkFBa0I7bUNBQUlEO2dDQUFrQjs2QkFBWTtrQ0FBRzs7OztJQUtwRixDQUFBO0FBRUEsc0JBQXNCO0FBQ3RCSCxLQUFLQyxJQUFJLENBQUMsb0JBQW9CLElBQU8sQ0FBQTtRQUNuQ1MsZ0JBQWdCLENBQUMsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQU8saUJBQ3ZDLHFCQUFDQztnQkFDQ1AsZUFBWTtnQkFDWkssT0FBT0E7Z0JBQ1BDLFVBQVUsQ0FBQ0UsSUFBTUYsU0FBU0UsRUFBRUMsTUFBTSxDQUFDSixLQUFLOztJQUc5QyxDQUFBO0FBRUEsK0JBQStCO0FBQy9CWCxLQUFLQyxJQUFJLENBQUMsNkJBQTZCLElBQU8sQ0FBQTtRQUM1Q2UseUJBQXlCLENBQUMsRUFBRUMsUUFBUSxFQUFPLGlCQUN6QyxxQkFBQ1Q7Z0JBQ0NGLGVBQVk7Z0JBQ1pHLFNBQVMsSUFBTVEsU0FBUzt3QkFBRUMsTUFBTTt3QkFBWUMsSUFBSTt3QkFBY0MsT0FBTztvQkFBZ0I7MEJBQ3RGOztJQUlMLENBQUE7QUFFQSx3QkFBd0I7QUFDeEJwQixLQUFLQyxJQUFJLENBQUMsc0JBQXNCLElBQU8sQ0FBQTtRQUNyQ29CLGtCQUFrQixDQUFDLEVBQUVDLFNBQVMsRUFBRUMsUUFB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