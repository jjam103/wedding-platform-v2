{"version":3,"names":["databaseError","cov_276bd5vup4","f","s","error","getErrorCodeFromStatus","getStatusFromErrorCode","notFoundError","success","unauthorizedError","unknownError","validationError","data","code","message","details","b","_types","ERROR_CODES","VALIDATION_ERROR","DATABASE_ERROR","UNAUTHORIZED","resource","NOT_FOUND","err","Error","UNKNOWN_ERROR","status","FORBIDDEN","CONFLICT","EXTERNAL_SERVICE_ERROR","INVALID_INPUT","MISSING_REQUIRED_FIELD","INVALID_CREDENTIALS","SESSION_EXPIRED","INSUFFICIENT_PERMISSIONS","GUEST_NOT_FOUND","EVENT_NOT_FOUND","DUPLICATE_ENTRY","CAPACITY_EXCEEDED","STORAGE_UNAVAILABLE","EMAIL_SERVICE_ERROR"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/utils/errors.ts"],"sourcesContent":["import type { Result, ErrorDetails, ErrorCode } from '@/types';\nimport { ERROR_CODES } from '@/types';\n\n/**\n * Creates a success Result.\n * \n * @param data - The successful operation data\n * @returns Success Result containing the data\n */\nexport function success<T>(data: T): Result<T> {\n  return { success: true, data };\n}\n\n/**\n * Creates an error Result.\n * \n * @param code - Standard error code\n * @param message - Human-readable error message\n * @param details - Optional additional error details\n * @returns Error Result containing error information\n */\nexport function error<T>(\n  code: ErrorCode,\n  message: string,\n  details?: unknown\n): Result<T> {\n  return {\n    success: false,\n    error: { code, message, details },\n  };\n}\n\n/**\n * Creates a validation error Result.\n * \n * @param message - Validation error message\n * @param details - Optional validation error details (e.g., Zod issues)\n * @returns Validation error Result\n */\nexport function validationError<T>(\n  message: string = 'Validation failed',\n  details?: unknown\n): Result<T> {\n  return error(ERROR_CODES.VALIDATION_ERROR, message, details);\n}\n\n/**\n * Creates a database error Result.\n * \n * @param message - Database error message\n * @param details - Optional database error details\n * @returns Database error Result\n */\nexport function databaseError<T>(\n  message: string = 'Database operation failed',\n  details?: unknown\n): Result<T> {\n  return error(ERROR_CODES.DATABASE_ERROR, message, details);\n}\n\n/**\n * Creates an unauthorized error Result.\n * \n * @param message - Authorization error message\n * @returns Unauthorized error Result\n */\nexport function unauthorizedError<T>(\n  message: string = 'Authentication required'\n): Result<T> {\n  return error(ERROR_CODES.UNAUTHORIZED, message);\n}\n\n/**\n * Creates a not found error Result.\n * \n * @param resource - The resource that was not found\n * @returns Not found error Result\n */\nexport function notFoundError<T>(resource: string = 'Resource'): Result<T> {\n  return error(ERROR_CODES.NOT_FOUND, `${resource} not found`);\n}\n\n/**\n * Creates an unknown error Result from a caught exception.\n * \n * @param err - The caught error\n * @returns Unknown error Result\n */\nexport function unknownError<T>(err: unknown): Result<T> {\n  const message = err instanceof Error ? err.message : 'Unknown error occurred';\n  return error(ERROR_CODES.UNKNOWN_ERROR, message, err);\n}\n\n/**\n * Maps HTTP status codes to appropriate error codes.\n * \n * @param status - HTTP status code\n * @returns Corresponding error code\n */\nexport function getErrorCodeFromStatus(status: number): ErrorCode {\n  switch (status) {\n    case 400:\n      return ERROR_CODES.VALIDATION_ERROR;\n    case 401:\n      return ERROR_CODES.UNAUTHORIZED;\n    case 403:\n      return ERROR_CODES.FORBIDDEN;\n    case 404:\n      return ERROR_CODES.NOT_FOUND;\n    case 409:\n      return ERROR_CODES.CONFLICT;\n    case 502:\n    case 503:\n      return ERROR_CODES.EXTERNAL_SERVICE_ERROR;\n    default:\n      return ERROR_CODES.UNKNOWN_ERROR;\n  }\n}\n\n/**\n * Maps error codes to HTTP status codes.\n * \n * @param code - Error code\n * @returns Corresponding HTTP status code\n */\nexport function getStatusFromErrorCode(code: ErrorCode): number {\n  switch (code) {\n    case ERROR_CODES.VALIDATION_ERROR:\n    case ERROR_CODES.INVALID_INPUT:\n    case ERROR_CODES.MISSING_REQUIRED_FIELD:\n      return 400;\n    case ERROR_CODES.UNAUTHORIZED:\n    case ERROR_CODES.INVALID_CREDENTIALS:\n    case ERROR_CODES.SESSION_EXPIRED:\n      return 401;\n    case ERROR_CODES.FORBIDDEN:\n    case ERROR_CODES.INSUFFICIENT_PERMISSIONS:\n      return 403;\n    case ERROR_CODES.NOT_FOUND:\n    case ERROR_CODES.GUEST_NOT_FOUND:\n    case ERROR_CODES.EVENT_NOT_FOUND:\n      return 404;\n    case ERROR_CODES.CONFLICT:\n    case ERROR_CODES.DUPLICATE_ENTRY:\n    case ERROR_CODES.CAPACITY_EXCEEDED:\n      return 409;\n    case ERROR_CODES.EXTERNAL_SERVICE_ERROR:\n    case ERROR_CODES.STORAGE_UNAVAILABLE:\n    case ERROR_CODES.EMAIL_SERVICE_ERROR:\n      return 503;\n    default:\n      return 500;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}