{"version":3,"names":["cov_1r2i3raord","actualCoverage","s","SignupPage","f","router","_navigation","useRouter","email","setEmail","_react","useState","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","success","setSuccess","supabase","_ssr","createBrowserClient","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","handleSignup","e","preventDefault","b","length","data","auth","signUp","options","emailRedirectTo","window","location","origin","message","user","session","setTimeout","push","refresh","err","_jsxruntime","jsx","className","jsxs","href","onSubmit","htmlFor","id","type","value","onChange","target","required","placeholder","disabled","minLength","Fragment"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/auth/signup/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createBrowserClient } from '@supabase/ssr';\n\nexport default function SignupPage() {\n  const router = useRouter();\n  \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  \n  // Create Supabase client using @supabase/ssr\n  const supabase = createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  );\n\n  const handleSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess(false);\n\n    // Validate passwords match\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    // Validate password strength\n    if (password.length < 8) {\n      setError('Password must be at least 8 characters long');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          emailRedirectTo: `${window.location.origin}/auth/callback`,\n        },\n      });\n\n      if (error) {\n        setError(error.message);\n        return;\n      }\n\n      if (data.user) {\n        // User record is automatically created by database trigger\n        setSuccess(true);\n        \n        // If email confirmation is disabled, redirect to admin\n        if (data.session) {\n          setTimeout(() => {\n            router.push('/admin');\n            router.refresh();\n          }, 2000);\n        }\n      }\n    } catch (err) {\n      setError('An unexpected error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <main className=\"flex min-h-screen flex-col items-center justify-center p-4 bg-gradient-to-b from-jungle-50 to-cloud-100\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"card-mobile\">\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-bold text-jungle-600 mb-2\">\n              üå¥ Create Account\n            </h1>\n            <p className=\"text-sage-600\">\n              Join your wedding dashboard\n            </p>\n          </div>\n\n          {success ? (\n            <div className=\"p-6 bg-jungle-50 border border-jungle-200 rounded-lg text-center\">\n              <div className=\"text-4xl mb-4\">‚úÖ</div>\n              <h2 className=\"text-xl font-semibold text-jungle-700 mb-2\">\n                Account Created!\n              </h2>\n              <p className=\"text-sage-600 mb-4\">\n                Check your email to confirm your account, or if email confirmation is disabled, you'll be redirected shortly.\n              </p>\n              <a href=\"/auth/login\" className=\"text-jungle-600 hover:text-jungle-700 font-medium\">\n                Go to login ‚Üí\n              </a>\n            </div>\n          ) : (\n            <form onSubmit={handleSignup} className=\"space-y-6\">\n              {error && (\n                <div className=\"p-4 bg-volcano-50 border border-volcano-200 rounded-lg text-volcano-700 text-sm\">\n                  {error}\n                </div>\n              )}\n\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-sage-700 mb-2\">\n                  Email Address\n                </label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"form-input-mobile w-full\"\n                  placeholder=\"your-email@example.com\"\n                  disabled={loading}\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-sage-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  minLength={8}\n                  className=\"form-input-mobile w-full\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                  disabled={loading}\n                />\n                <p className=\"mt-1 text-xs text-sage-500\">\n                  Must be at least 8 characters\n                </p>\n              </div>\n\n              <div>\n                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-sage-700 mb-2\">\n                  Confirm Password\n                </label>\n                <input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  minLength={8}\n                  className=\"form-input-mobile w-full\"\n                  placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                  disabled={loading}\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"btn-primary-mobile w-full\"\n              >\n                {loading ? 'Creating account...' : 'Create Account'}\n              </button>\n            </form>\n          )}\n\n          {!success && (\n            <>\n              <div className=\"mt-6 text-center\">\n                <p className=\"text-sm text-sage-600\">\n                  Already have an account?{' '}\n                  <a href=\"/auth/login\" className=\"text-jungle-600 hover:text-jungle-700 font-medium\">\n                    Sign in\n                  </a>\n                </p>\n              </div>\n\n              <div className=\"mt-4 text-center\">\n                <a href=\"/\" className=\"text-sm text-sage-500 hover:text-sage-700\">\n                  ‚Üê Back to home\n                </a>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"mappings":"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","ignoreList":[]}