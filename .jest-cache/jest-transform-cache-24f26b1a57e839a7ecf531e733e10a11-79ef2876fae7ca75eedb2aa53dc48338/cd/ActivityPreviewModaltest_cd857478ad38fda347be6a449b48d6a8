1785100862bd2b685b62d8f720a54be2
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _ActivityPreviewModal = require("./ActivityPreviewModal");
// Mock Next.js router - MUST be before component import
const mockPush = _globals.jest.fn();
_globals.jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush
            })
    }));
// Mock fetch
global.fetch = _globals.jest.fn();
(0, _globals.describe)('ActivityPreviewModal', ()=>{
    const mockActivity = {
        id: 'activity-123',
        title: 'Beach Volleyball',
        date: '2024-06-14T10:00:00.000Z',
        time: '10:00 AM',
        location: 'Main Beach',
        description: 'Fun beach games for all ages',
        capacity: 20,
        capacityRemaining: 8,
        cost: 50,
        hostSubsidy: 20,
        slug: 'beach-volleyball'
    };
    const mockRsvpStatus = {
        status: 'attending',
        guestCount: 2,
        dietaryRestrictions: 'Vegetarian'
    };
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
        global.fetch.mockClear();
    });
    (0, _globals.it)('should render modal with activity data', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: [
                        mockRsvpStatus
                    ]
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Beach Volleyball')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText('10:00 AM')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Main Beach')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Fun beach games for all ages')).toBeInTheDocument();
    });
    (0, _globals.it)('should display capacity information', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('8 / 20 spots')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText(/Available/)).toBeInTheDocument();
    });
    (0, _globals.it)('should display cost information with subsidy', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('$30.00')).toBeInTheDocument(); // 50 - 20 = 30
        });
        (0, _globals.expect)(_react.screen.getByText(/\$50\.00 - \$20\.00 host subsidy/)).toBeInTheDocument();
    });
    (0, _globals.it)('should display RSVP status and dietary restrictions', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: [
                        mockRsvpStatus
                    ]
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Attending')).toBeInTheDocument();
        });
        (0, _globals.expect)(_react.screen.getByText('Guest count: 2')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Your Dietary Restrictions')).toBeInTheDocument();
        (0, _globals.expect)(_react.screen.getByText('Vegetarian')).toBeInTheDocument();
    });
    (0, _globals.it)('should show capacity status as "Almost Full" when 90% full', async ()=>{
        const almostFullActivity = {
            ...mockActivity,
            capacity: 100,
            capacityRemaining: 5
        };
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: almostFullActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText(/Almost Full/)).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should show capacity status as "Full" when no spots remaining', async ()=>{
        const fullActivity = {
            ...mockActivity,
            capacity: 20,
            capacityRemaining: 0
        };
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: fullActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText(/Full/)).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should show RSVP Now button when no RSVP exists', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('RSVP Now')).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should navigate to full details page when View Full Details clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('View Full Details')).toBeInTheDocument();
        });
        _react.fireEvent.click(_react.screen.getByText('View Full Details'));
        (0, _globals.expect)(mockPush).toHaveBeenCalledWith('/activity/beach-volleyball');
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should navigate to RSVP page when RSVP Now clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('RSVP Now')).toBeInTheDocument();
        });
        _react.fireEvent.click(_react.screen.getByText('RSVP Now'));
        (0, _globals.expect)(mockPush).toHaveBeenCalledWith('/guest/rsvp?activityId=activity-123');
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should close modal when close button clicked', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: mockActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Beach Volleyball')).toBeInTheDocument();
        });
        const closeButton = _react.screen.getByLabelText('Close');
        _react.fireEvent.click(closeButton);
        (0, _globals.expect)(onClose).toHaveBeenCalled();
    });
    (0, _globals.it)('should display loading state while fetching data', ()=>{
        global.fetch.mockImplementation(()=>new Promise(()=>{}) // Never resolves
        );
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        // Check for loading spinner
        const loadingSpinner = document.querySelector('.animate-spin');
        (0, _globals.expect)(loadingSpinner).toBeInTheDocument();
    });
    (0, _globals.it)('should display error message when fetch fails', async ()=>{
        global.fetch.mockResolvedValueOnce({
            ok: false,
            json: async ()=>({
                    success: false,
                    error: {
                        message: 'Failed to load activity'
                    }
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Failed to load activity')).toBeInTheDocument();
        });
    });
    (0, _globals.it)('should handle activity without optional fields', async ()=>{
        const minimalActivity = {
            id: 'activity-123',
            title: 'Simple Activity',
            date: '2024-06-14T10:00:00.000Z'
        };
        global.fetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: minimalActivity
                })
        }).mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    success: true,
                    data: []
                })
        });
        const onClose = _globals.jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_ActivityPreviewModal.ActivityPreviewModal, {
            activityId: "activity-123",
            onClose: onClose
        }));
        await (0, _react.waitFor)(()=>{
            (0, _globals.expect)(_react.screen.getByText('Simple Activity')).toBeInTheDocument();
        });
        // Should not display optional fields
        (0, _globals.expect)(_react.screen.queryByText('Time')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Location')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Description')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Capacity')).not.toBeInTheDocument();
        (0, _globals.expect)(_react.screen.queryByText('Cost per Guest')).not.toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9BY3Rpdml0eVByZXZpZXdNb2RhbC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBqZXN0LCBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyIC0gTVVTVCBiZSBiZWZvcmUgY29tcG9uZW50IGltcG9ydFxuY29uc3QgbW9ja1B1c2ggPSBqZXN0LmZuKCk7XG5qZXN0Lm1vY2soJ25leHQvbmF2aWdhdGlvbicsICgpID0+ICh7XG4gIHVzZVJvdXRlcjogKCkgPT4gKHtcbiAgICBwdXNoOiBtb2NrUHVzaCxcbiAgfSksXG59KSk7XG5cbmltcG9ydCB7IEFjdGl2aXR5UHJldmlld01vZGFsIH0gZnJvbSAnLi9BY3Rpdml0eVByZXZpZXdNb2RhbCc7XG5cbi8vIE1vY2sgZmV0Y2hcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD47XG5cbmRlc2NyaWJlKCdBY3Rpdml0eVByZXZpZXdNb2RhbCcsICgpID0+IHtcbiAgY29uc3QgbW9ja0FjdGl2aXR5ID0ge1xuICAgIGlkOiAnYWN0aXZpdHktMTIzJyxcbiAgICB0aXRsZTogJ0JlYWNoIFZvbGxleWJhbGwnLFxuICAgIGRhdGU6ICcyMDI0LTA2LTE0VDEwOjAwOjAwLjAwMFonLFxuICAgIHRpbWU6ICcxMDowMCBBTScsXG4gICAgbG9jYXRpb246ICdNYWluIEJlYWNoJyxcbiAgICBkZXNjcmlwdGlvbjogJ0Z1biBiZWFjaCBnYW1lcyBmb3IgYWxsIGFnZXMnLFxuICAgIGNhcGFjaXR5OiAyMCxcbiAgICBjYXBhY2l0eVJlbWFpbmluZzogOCxcbiAgICBjb3N0OiA1MCxcbiAgICBob3N0U3Vic2lkeTogMjAsXG4gICAgc2x1ZzogJ2JlYWNoLXZvbGxleWJhbGwnLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tSc3ZwU3RhdHVzID0ge1xuICAgIHN0YXR1czogJ2F0dGVuZGluZycgYXMgY29uc3QsXG4gICAgZ3Vlc3RDb3VudDogMixcbiAgICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiAnVmVnZXRhcmlhbicsXG4gIH07XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlbmRlciBtb2RhbCB3aXRoIGFjdGl2aXR5IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrUnN2cFN0YXR1c10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxBY3Rpdml0eVByZXZpZXdNb2RhbCBhY3Rpdml0eUlkPVwiYWN0aXZpdHktMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQmVhY2ggVm9sbGV5YmFsbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzEwOjAwIEFNJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ01haW4gQmVhY2gnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRnVuIGJlYWNoIGdhbWVzIGZvciBhbGwgYWdlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgY2FwYWNpdHkgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzggLyAyMCBzcG90cycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0F2YWlsYWJsZS8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BsYXkgY29zdCBpbmZvcm1hdGlvbiB3aXRoIHN1YnNpZHknLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJyQzMC4wMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpOyAvLyA1MCAtIDIwID0gMzBcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9cXCQ1MFxcLjAwIC0gXFwkMjBcXC4wMCBob3N0IHN1YnNpZHkvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IFJTVlAgc3RhdHVzIGFuZCBkaWV0YXJ5IHJlc3RyaWN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0FjdGl2aXR5IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tSc3ZwU3RhdHVzXSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEFjdGl2aXR5UHJldmlld01vZGFsIGFjdGl2aXR5SWQ9XCJhY3Rpdml0eS0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBdHRlbmRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBjb3VudDogMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdZb3VyIERpZXRhcnkgUmVzdHJpY3Rpb25zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ZlZ2V0YXJpYW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IGNhcGFjaXR5IHN0YXR1cyBhcyBcIkFsbW9zdCBGdWxsXCIgd2hlbiA5MCUgZnVsbCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBhbG1vc3RGdWxsQWN0aXZpdHkgPSB7XG4gICAgICAuLi5tb2NrQWN0aXZpdHksXG4gICAgICBjYXBhY2l0eTogMTAwLFxuICAgICAgY2FwYWNpdHlSZW1haW5pbmc6IDUsIC8vIDk1JSBmdWxsXG4gICAgfTtcblxuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBhbG1vc3RGdWxsQWN0aXZpdHkgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEFjdGl2aXR5UHJldmlld01vZGFsIGFjdGl2aXR5SWQ9XCJhY3Rpdml0eS0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9BbG1vc3QgRnVsbC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNob3cgY2FwYWNpdHkgc3RhdHVzIGFzIFwiRnVsbFwiIHdoZW4gbm8gc3BvdHMgcmVtYWluaW5nJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGZ1bGxBY3Rpdml0eSA9IHtcbiAgICAgIC4uLm1vY2tBY3Rpdml0eSxcbiAgICAgIGNhcGFjaXR5OiAyMCxcbiAgICAgIGNhcGFjaXR5UmVtYWluaW5nOiAwLFxuICAgIH07XG5cbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZnVsbEFjdGl2aXR5IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxBY3Rpdml0eVByZXZpZXdNb2RhbCBhY3Rpdml0eUlkPVwiYWN0aXZpdHktMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvRnVsbC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHNob3cgUlNWUCBOb3cgYnV0dG9uIHdoZW4gbm8gUlNWUCBleGlzdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JTVlAgTm93JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbmF2aWdhdGUgdG8gZnVsbCBkZXRhaWxzIHBhZ2Ugd2hlbiBWaWV3IEZ1bGwgRGV0YWlscyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+KVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtb2NrQWN0aXZpdHkgfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKVxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEFjdGl2aXR5UHJldmlld01vZGFsIGFjdGl2aXR5SWQ9XCJhY3Rpdml0eS0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWaWV3IEZ1bGwgRGV0YWlscycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ1ZpZXcgRnVsbCBEZXRhaWxzJykpO1xuXG4gICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FjdGl2aXR5L2JlYWNoLXZvbGxleWJhbGwnKTtcbiAgICBleHBlY3Qob25DbG9zZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5hdmlnYXRlIHRvIFJTVlAgcGFnZSB3aGVuIFJTVlAgTm93IGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JTVlAgTm93JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnUlNWUCBOb3cnKSk7XG5cbiAgICBleHBlY3QobW9ja1B1c2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvZ3Vlc3QvcnN2cD9hY3Rpdml0eUlkPWFjdGl2aXR5LTEyMycpO1xuICAgIGV4cGVjdChvbkNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2xvc2UgbW9kYWwgd2hlbiBjbG9zZSBidXR0b24gY2xpY2tlZCcsIGFzeW5jICgpID0+IHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGZldGNoPilcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogbW9ja0FjdGl2aXR5IH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcblxuICAgIGNvbnN0IG9uQ2xvc2UgPSBqZXN0LmZuKCk7XG4gICAgcmVuZGVyKDxBY3Rpdml0eVByZXZpZXdNb2RhbCBhY3Rpdml0eUlkPVwiYWN0aXZpdHktMTIzXCIgb25DbG9zZT17b25DbG9zZX0gLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQmVhY2ggVm9sbGV5YmFsbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ0Nsb3NlJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGNsb3NlQnV0dG9uKTtcblxuICAgIGV4cGVjdChvbkNsb3NlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBsb2FkaW5nIHN0YXRlIHdoaWxlIGZldGNoaW5nIGRhdGEnLCAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tJbXBsZW1lbnRhdGlvbihcbiAgICAgICgpID0+IG5ldyBQcm9taXNlKCgpID0+IHt9KSAvLyBOZXZlciByZXNvbHZlc1xuICAgICk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIC8vIENoZWNrIGZvciBsb2FkaW5nIHNwaW5uZXJcbiAgICBjb25zdCBsb2FkaW5nU3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbmltYXRlLXNwaW4nKTtcbiAgICBleHBlY3QobG9hZGluZ1NwaW5uZXIpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBlcnJvciBtZXNzYWdlIHdoZW4gZmV0Y2ggZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBsb2FkIGFjdGl2aXR5JyB9IH0pLFxuICAgIH0gYXMgUmVzcG9uc2UpO1xuXG4gICAgY29uc3Qgb25DbG9zZSA9IGplc3QuZm4oKTtcbiAgICByZW5kZXIoPEFjdGl2aXR5UHJldmlld01vZGFsIGFjdGl2aXR5SWQ9XCJhY3Rpdml0eS0xMjNcIiBvbkNsb3NlPXtvbkNsb3NlfSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gbG9hZCBhY3Rpdml0eScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBhY3Rpdml0eSB3aXRob3V0IG9wdGlvbmFsIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBtaW5pbWFsQWN0aXZpdHkgPSB7XG4gICAgICBpZDogJ2FjdGl2aXR5LTEyMycsXG4gICAgICB0aXRsZTogJ1NpbXBsZSBBY3Rpdml0eScsXG4gICAgICBkYXRlOiAnMjAyNC0wNi0xNFQxMDowMDowMC4wMDBaJyxcbiAgICB9O1xuXG4gICAgKGdsb2JhbC5mZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD4pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1pbmltYWxBY3Rpdml0eSB9KSxcbiAgICAgIH0gYXMgUmVzcG9uc2UpXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSBhcyBSZXNwb25zZSk7XG5cbiAgICBjb25zdCBvbkNsb3NlID0gamVzdC5mbigpO1xuICAgIHJlbmRlcig8QWN0aXZpdHlQcmV2aWV3TW9kYWwgYWN0aXZpdHlJZD1cImFjdGl2aXR5LTEyM1wiIG9uQ2xvc2U9e29uQ2xvc2V9IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NpbXBsZSBBY3Rpdml0eScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2hvdWxkIG5vdCBkaXNwbGF5IG9wdGlvbmFsIGZpZWxkc1xuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1RpbWUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTG9jYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnRGVzY3JpcHRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQ2FwYWNpdHknKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQ29zdCBwZXIgR3Vlc3QnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsibW9ja1B1c2giLCJqZXN0IiwiZm4iLCJtb2NrIiwidXNlUm91dGVyIiwicHVzaCIsImdsb2JhbCIsImZldGNoIiwiZGVzY3JpYmUiLCJtb2NrQWN0aXZpdHkiLCJpZCIsInRpdGxlIiwiZGF0ZSIsInRpbWUiLCJsb2NhdGlvbiIsImRlc2NyaXB0aW9uIiwiY2FwYWNpdHkiLCJjYXBhY2l0eVJlbWFpbmluZyIsImNvc3QiLCJob3N0U3Vic2lkeSIsInNsdWciLCJtb2NrUnN2cFN0YXR1cyIsInN0YXR1cyIsImd1ZXN0Q291bnQiLCJkaWV0YXJ5UmVzdHJpY3Rpb25zIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwib25DbG9zZSIsInJlbmRlciIsIkFjdGl2aXR5UHJldmlld01vZGFsIiwiYWN0aXZpdHlJZCIsIndhaXRGb3IiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsImFsbW9zdEZ1bGxBY3Rpdml0eSIsImZ1bGxBY3Rpdml0eSIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiY2xvc2VCdXR0b24iLCJnZXRCeUxhYmVsVGV4dCIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIlByb21pc2UiLCJsb2FkaW5nU3Bpbm5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVycm9yIiwibWVzc2FnZSIsIm1pbmltYWxBY3Rpdml0eSIsInF1ZXJ5QnlUZXh0Iiwibm90Il0sIm1hcHBpbmdzIjoiOzs7Ozt1QkFBbUQ7eUJBQ0k7c0NBVWxCO0FBUnJDLHdEQUF3RDtBQUN4RCxNQUFNQSxXQUFXQyxhQUFJLENBQUNDLEVBQUU7QUFDeEJELGFBQUksQ0FBQ0UsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLFdBQVcsSUFBTyxDQUFBO2dCQUNoQkMsTUFBTUw7WUFDUixDQUFBO0lBQ0YsQ0FBQTtBQUlBLGFBQWE7QUFDYk0sT0FBT0MsS0FBSyxHQUFHTixhQUFJLENBQUNDLEVBQUU7QUFFdEJNLElBQUFBLGlCQUFRLEVBQUMsd0JBQXdCO0lBQy9CLE1BQU1DLGVBQWU7UUFDbkJDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLFVBQVU7UUFDVkMsbUJBQW1CO1FBQ25CQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBRUEsTUFBTUMsaUJBQWlCO1FBQ3JCQyxRQUFRO1FBQ1JDLFlBQVk7UUFDWkMscUJBQXFCO0lBQ3ZCO0lBRUFDLElBQUFBLG1CQUFVLEVBQUM7UUFDVHhCLGFBQUksQ0FBQ3lCLGFBQWE7UUFDakJwQixPQUFPQyxLQUFLLENBQXVDb0IsU0FBUztJQUMvRDtJQUVBQyxJQUFBQSxXQUFFLEVBQUMsMENBQTBDO1FBQzFDdEIsT0FBT0MsS0FBSyxDQUNWc0IscUJBQXFCLENBQUM7WUFDckJDLElB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