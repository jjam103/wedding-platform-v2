6583074ec803bc38e6db74deb3a9f457
/**
 * Guest Engagement Service Tests
 * 
 * Tests for guest engagement tracking functionality.
 */ "use strict";
// Mock Supabase client
jest.mock('@supabase/supabase-js', ()=>({
        createClient: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _supabasejs = require("@supabase/supabase-js");
describe('guestEngagementService', ()=>{
    let mockSupabase;
    beforeEach(()=>{
        // Reset mocks
        jest.clearAllMocks();
        // Create mock Supabase client with proper chaining
        mockSupabase = {
            from: jest.fn().mockReturnThis(),
            select: jest.fn().mockReturnThis(),
            eq: jest.fn().mockReturnThis(),
            gte: jest.fn().mockReturnThis(),
            single: jest.fn()
        };
        _supabasejs.createClient.mockReturnValue(mockSupabase);
    });
    describe('Service exports', ()=>{
        it('should export trackPortalLogins function', ()=>{
            const { trackPortalLogins } = require('./guestEngagementService');
            expect(typeof trackPortalLogins).toBe('function');
        });
        it('should export trackPhotoUploads function', ()=>{
            const { trackPhotoUploads } = require('./guestEngagementService');
            expect(typeof trackPhotoUploads).toBe('function');
        });
        it('should export trackEmailEngagement function', ()=>{
            const { trackEmailEngagement } = require('./guestEngagementService');
            expect(typeof trackEmailEngagement).toBe('function');
        });
        it('should export getGuestEngagementReport function', ()=>{
            const { getGuestEngagementReport } = require('./guestEngagementService');
            expect(typeof getGuestEngagementReport).toBe('function');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvc2VydmljZXMvZ3Vlc3RFbmdhZ2VtZW50U2VydmljZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR3Vlc3QgRW5nYWdlbWVudCBTZXJ2aWNlIFRlc3RzXG4gKiBcbiAqIFRlc3RzIGZvciBndWVzdCBlbmdhZ2VtZW50IHRyYWNraW5nIGZ1bmN0aW9uYWxpdHkuXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8gTW9jayBTdXBhYmFzZSBjbGllbnRcbmplc3QubW9jaygnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJywgKCkgPT4gKHtcbiAgY3JlYXRlQ2xpZW50OiBqZXN0LmZuKCksXG59KSk7XG5cbmRlc2NyaWJlKCdndWVzdEVuZ2FnZW1lbnRTZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgbW9ja1N1cGFiYXNlOiBhbnk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgbW9ja3NcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIENyZWF0ZSBtb2NrIFN1cGFiYXNlIGNsaWVudCB3aXRoIHByb3BlciBjaGFpbmluZ1xuICAgIG1vY2tTdXBhYmFzZSA9IHtcbiAgICAgIGZyb206IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGd0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgKGNyZWF0ZUNsaWVudCBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZShtb2NrU3VwYWJhc2UpO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VydmljZSBleHBvcnRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhwb3J0IHRyYWNrUG9ydGFsTG9naW5zIGZ1bmN0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyB0cmFja1BvcnRhbExvZ2lucyB9ID0gcmVxdWlyZSgnLi9ndWVzdEVuZ2FnZW1lbnRTZXJ2aWNlJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHRyYWNrUG9ydGFsTG9naW5zKS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBleHBvcnQgdHJhY2tQaG90b1VwbG9hZHMgZnVuY3Rpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHRyYWNrUGhvdG9VcGxvYWRzIH0gPSByZXF1aXJlKCcuL2d1ZXN0RW5nYWdlbWVudFNlcnZpY2UnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgdHJhY2tQaG90b1VwbG9hZHMpLnRvQmUoJ2Z1bmN0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGV4cG9ydCB0cmFja0VtYWlsRW5nYWdlbWVudCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdHJhY2tFbWFpbEVuZ2FnZW1lbnQgfSA9IHJlcXVpcmUoJy4vZ3Vlc3RFbmdhZ2VtZW50U2VydmljZScpO1xuICAgICAgZXhwZWN0KHR5cGVvZiB0cmFja0VtYWlsRW5nYWdlbWVudCkudG9CZSgnZnVuY3Rpb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZXhwb3J0IGdldEd1ZXN0RW5nYWdlbWVudFJlcG9ydCBmdW5jdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0R3Vlc3RFbmdhZ2VtZW50UmVwb3J0IH0gPSByZXF1aXJlKCcuL2d1ZXN0RW5nYWdlbWVudFNlcnZpY2UnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgZ2V0R3Vlc3RFbmdhZ2VtZW50UmVwb3J0KS50b0JlKCdmdW5jdGlvbicpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiY3JlYXRlQ2xpZW50IiwiZm4iLCJkZXNjcmliZSIsIm1vY2tTdXBhYmFzZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiZnJvbSIsIm1vY2tSZXR1cm5UaGlzIiwic2VsZWN0IiwiZXEiLCJndGUiLCJzaW5nbGUiLCJtb2NrUmV0dXJuVmFsdWUiLCJpdCIsInRyYWNrUG9ydGFsTG9naW5zIiwicmVxdWlyZSIsImV4cGVjdCIsInRvQmUiLCJ0cmFja1Bob3RvVXBsb2FkcyIsInRyYWNrRW1haWxFbmdhZ2VtZW50IiwiZ2V0R3Vlc3RFbmdhZ2VtZW50UmVwb3J0Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztDQUlDO0FBSUQsdUJBQXVCO0FBQ3ZCQSxLQUFLQyxJQUFJLENBQUMseUJBQXlCLElBQU8sQ0FBQTtRQUN4Q0MsY0FBY0YsS0FBS0csRUFBRTtJQUN2QixDQUFBOzs7OzRCQUw2QjtBQU83QkMsU0FBUywwQkFBMEI7SUFDakMsSUFBSUM7SUFFSkMsV0FBVztRQUNULGNBQWM7UUFDZE4sS0FBS08sYUFBYTtRQUVsQixtREFBbUQ7UUFDbkRGLGVBQWU7WUFDYkcsTUFBTVIsS0FBS0csRUFBRSxHQUFHTSxjQUFjO1lBQzlCQyxRQUFRVixLQUFLRyxFQUFFLEdBQUdNLGNBQWM7WUFDaENFLElBQUlYLEtBQUtHLEVBQUUsR0FBR00sY0FBYztZQUM1QkcsS0FBS1osS0FBS0csRUFBRSxHQUFHTSxjQUFjO1lBQzdCSSxRQUFRYixLQUFLRyxFQUFFO1FBQ2pCO1FBRUNELHdCQUFZLENBQWVZLGVBQWUsQ0FBQ1Q7SUFDOUM7SUFFQUQsU0FBUyxtQkFBbUI7UUFDMUJXLEdBQUcsNENBQTRDO1lBQzdDLE1BQU0sRUFBRUMsaUJBQWlCLEVBQUUsR0FBR0MsUUFBUTtZQUN0Q0MsT0FBTyxPQUFPRixtQkFBbUJHLElBQUksQ0FBQztRQUN4QztRQUVBSixHQUFHLDRDQUE0QztZQUM3QyxNQUFNLEVBQUVLLGlCQUFpQixFQUFFLEdBQUdILFFBQVE7WUFDdENDLE9BQU8sT0FBT0UsbUJBQW1CRCxJQUFJLENBQUM7UUFDeEM7UUFFQUosR0FBRywrQ0FBK0M7WUFDaEQsTUFBTSxFQUFFTSxvQkFBb0IsRUFBRSxHQUFHSixRQUFRO1lBQ3pDQyxPQUFPLE9BQU9HLHNCQUFzQkYsSUFBSSxDQUFDO1FBQzNDO1FBRUFKLEdBQUcsbURBQW1EO1lBQ3BELE1BQU0sRUFBRU8sd0JBQXdCLEVBQUUsR0FBR0wsUUFBUTtZQUM3Q0MsT0FBTyxPQUFPSSwwQkFBMEJILElBQUksQ0FBQztRQUMvQztJQUNGO0FBQ0YifQ==