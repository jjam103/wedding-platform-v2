{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/services/guestEngagementService.test.ts"],"sourcesContent":["/**\n * Guest Engagement Service Tests\n * \n * Tests for guest engagement tracking functionality.\n */\n\nimport { createClient } from '@supabase/supabase-js';\n\n// Mock Supabase client\njest.mock('@supabase/supabase-js', () => ({\n  createClient: jest.fn(),\n}));\n\ndescribe('guestEngagementService', () => {\n  let mockSupabase: any;\n\n  beforeEach(() => {\n    // Reset mocks\n    jest.clearAllMocks();\n\n    // Create mock Supabase client with proper chaining\n    mockSupabase = {\n      from: jest.fn().mockReturnThis(),\n      select: jest.fn().mockReturnThis(),\n      eq: jest.fn().mockReturnThis(),\n      gte: jest.fn().mockReturnThis(),\n      single: jest.fn(),\n    };\n\n    (createClient as jest.Mock).mockReturnValue(mockSupabase);\n  });\n\n  describe('Service exports', () => {\n    it('should export trackPortalLogins function', () => {\n      const { trackPortalLogins } = require('./guestEngagementService');\n      expect(typeof trackPortalLogins).toBe('function');\n    });\n\n    it('should export trackPhotoUploads function', () => {\n      const { trackPhotoUploads } = require('./guestEngagementService');\n      expect(typeof trackPhotoUploads).toBe('function');\n    });\n\n    it('should export trackEmailEngagement function', () => {\n      const { trackEmailEngagement } = require('./guestEngagementService');\n      expect(typeof trackEmailEngagement).toBe('function');\n    });\n\n    it('should export getGuestEngagementReport function', () => {\n      const { getGuestEngagementReport } = require('./guestEngagementService');\n      expect(typeof getGuestEngagementReport).toBe('function');\n    });\n  });\n});\n"],"names":["jest","mock","createClient","fn","describe","mockSupabase","beforeEach","clearAllMocks","from","mockReturnThis","select","eq","gte","single","mockReturnValue","it","trackPortalLogins","require","expect","toBe","trackPhotoUploads","trackEmailEngagement","getGuestEngagementReport"],"mappings":"AAAA;;;;CAIC;AAID,uBAAuB;AACvBA,KAAKC,IAAI,CAAC,yBAAyB,IAAO,CAAA;QACxCC,cAAcF,KAAKG,EAAE;IACvB,CAAA;;;;4BAL6B;AAO7BC,SAAS,0BAA0B;IACjC,IAAIC;IAEJC,WAAW;QACT,cAAc;QACdN,KAAKO,aAAa;QAElB,mDAAmD;QACnDF,eAAe;YACbG,MAAMR,KAAKG,EAAE,GAAGM,cAAc;YAC9BC,QAAQV,KAAKG,EAAE,GAAGM,cAAc;YAChCE,IAAIX,KAAKG,EAAE,GAAGM,cAAc;YAC5BG,KAAKZ,KAAKG,EAAE,GAAGM,cAAc;YAC7BI,QAAQb,KAAKG,EAAE;QACjB;QAECD,wBAAY,CAAeY,eAAe,CAACT;IAC9C;IAEAD,SAAS,mBAAmB;QAC1BW,GAAG,4CAA4C;YAC7C,MAAM,EAAEC,iBAAiB,EAAE,GAAGC,QAAQ;YACtCC,OAAO,OAAOF,mBAAmBG,IAAI,CAAC;QACxC;QAEAJ,GAAG,4CAA4C;YAC7C,MAAM,EAAEK,iBAAiB,EAAE,GAAGH,QAAQ;YACtCC,OAAO,OAAOE,mBAAmBD,IAAI,CAAC;QACxC;QAEAJ,GAAG,+CAA+C;YAChD,MAAM,EAAEM,oBAAoB,EAAE,GAAGJ,QAAQ;YACzCC,OAAO,OAAOG,sBAAsBF,IAAI,CAAC;QAC3C;QAEAJ,GAAG,mDAAmD;YACpD,MAAM,EAAEO,wBAAwB,EAAE,GAAGL,QAAQ;YAC7CC,OAAO,OAAOI,0BAA0BH,IAAI,CAAC;QAC/C;IACF;AACF"}