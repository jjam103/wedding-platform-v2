{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/TropicalLoading.test.tsx"],"sourcesContent":["/**\n * Tests for Tropical Loading Components\n * \n * Tests loading indicators, spinners, and skeleton loaders for accessibility.\n */\n\nimport { render, screen } from '@testing-library/react';\nimport { TropicalLoading, TropicalSpinner, TropicalSkeleton } from './TropicalLoading';\n\n// Mock TropicalIcon\njest.mock('./TropicalIcon', () => ({\n  TropicalIcon: ({ name, size, animate, className }: any) => (\n    <div data-testid={`icon-${name}`} className={className}>\n      {name} icon\n    </div>\n  ),\n}));\n\ndescribe('TropicalLoading Component', () => {\n  describe('ARIA Attributes', () => {\n    it('should have role=\"status\"', () => {\n      const { container } = render(<TropicalLoading />);\n\n      const status = container.querySelector('[role=\"status\"]');\n      expect(status).toBeInTheDocument();\n    });\n\n    it('should have aria-live=\"polite\"', () => {\n      const { container } = render(<TropicalLoading />);\n\n      const liveRegion = container.querySelector('[aria-live=\"polite\"]');\n      expect(liveRegion).toBeInTheDocument();\n    });\n\n    it('should have aria-busy=\"true\"', () => {\n      const { container } = render(<TropicalLoading />);\n\n      const busyElement = container.querySelector('[aria-busy=\"true\"]');\n      expect(busyElement).toBeInTheDocument();\n    });\n\n    it('should have screen reader text', () => {\n      render(<TropicalLoading message=\"Loading guests\" />);\n\n      const srText = screen.getAllByText('Loading guests');\n      expect(srText.length).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Loading Message', () => {\n    it('should display default loading message', () => {\n      render(<TropicalLoading />);\n\n      expect(screen.getAllByText('Loading...').length).toBeGreaterThan(0);\n    });\n\n    it('should display custom loading message', () => {\n      render(<TropicalLoading message=\"Saving changes...\" />);\n\n      expect(screen.getAllByText('Saving changes...').length).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Size Variants', () => {\n    it('should render small size', () => {\n      const { container } = render(<TropicalLoading size=\"sm\" />);\n\n      const text = container.querySelector('.text-sm');\n      expect(text).toBeInTheDocument();\n    });\n\n    it('should render medium size', () => {\n      const { container } = render(<TropicalLoading size=\"md\" />);\n\n      const text = container.querySelector('.text-base');\n      expect(text).toBeInTheDocument();\n    });\n\n    it('should render large size', () => {\n      const { container } = render(<TropicalLoading size=\"lg\" />);\n\n      const text = container.querySelector('.text-lg');\n      expect(text).toBeInTheDocument();\n    });\n  });\n\n  describe('Full Screen Mode', () => {\n    it('should render full screen when specified', () => {\n      const { container } = render(<TropicalLoading fullScreen={true} />);\n\n      const fullScreen = container.querySelector('.fixed.inset-0');\n      expect(fullScreen).toBeInTheDocument();\n    });\n\n    it('should not render full screen by default', () => {\n      const { container } = render(<TropicalLoading />);\n\n      const fullScreen = container.querySelector('.fixed.inset-0');\n      expect(fullScreen).not.toBeInTheDocument();\n    });\n  });\n\n  describe('Tropical Icons', () => {\n    it('should render palm, sun, and wave icons', () => {\n      render(<TropicalLoading />);\n\n      expect(screen.getByTestId('icon-palm')).toBeInTheDocument();\n      expect(screen.getByTestId('icon-sun')).toBeInTheDocument();\n      expect(screen.getByTestId('icon-wave')).toBeInTheDocument();\n    });\n  });\n});\n\ndescribe('TropicalSpinner Component', () => {\n  describe('ARIA Attributes', () => {\n    it('should have role=\"status\"', () => {\n      const { container } = render(<TropicalSpinner />);\n\n      const status = container.querySelector('[role=\"status\"]');\n      expect(status).toBeInTheDocument();\n    });\n\n    it('should have aria-label=\"Loading\"', () => {\n      const { container } = render(<TropicalSpinner />);\n\n      const spinner = container.querySelector('[aria-label=\"Loading\"]');\n      expect(spinner).toBeInTheDocument();\n    });\n  });\n\n  describe('Size Variants', () => {\n    it('should render small spinner', () => {\n      const { container } = render(<TropicalSpinner size=\"sm\" />);\n\n      const spinner = container.querySelector('.h-6.w-6');\n      expect(spinner).toBeInTheDocument();\n    });\n\n    it('should render medium spinner', () => {\n      const { container } = render(<TropicalSpinner size=\"md\" />);\n\n      const spinner = container.querySelector('.h-10.w-10');\n      expect(spinner).toBeInTheDocument();\n    });\n\n    it('should render large spinner', () => {\n      const { container } = render(<TropicalSpinner size=\"lg\" />);\n\n      const spinner = container.querySelector('.h-16.w-16');\n      expect(spinner).toBeInTheDocument();\n    });\n  });\n\n  describe('Animation', () => {\n    it('should have spin animation', () => {\n      const { container } = render(<TropicalSpinner />);\n\n      const spinner = container.querySelector('.animate-spin');\n      expect(spinner).toBeInTheDocument();\n    });\n  });\n});\n\ndescribe('TropicalSkeleton Component', () => {\n  describe('ARIA Attributes', () => {\n    it('should have role=\"status\"', () => {\n      const { container } = render(<TropicalSkeleton />);\n\n      const status = container.querySelector('[role=\"status\"]');\n      expect(status).toBeInTheDocument();\n    });\n\n    it('should have aria-label=\"Loading content\"', () => {\n      const { container } = render(<TropicalSkeleton />);\n\n      const skeleton = container.querySelector('[aria-label=\"Loading content\"]');\n      expect(skeleton).toBeInTheDocument();\n    });\n  });\n\n  describe('Variants', () => {\n    it('should render text variant', () => {\n      const { container } = render(<TropicalSkeleton variant=\"text\" />);\n\n      const skeleton = container.querySelector('.h-4.rounded');\n      expect(skeleton).toBeInTheDocument();\n    });\n\n    it('should render circular variant', () => {\n      const { container } = render(<TropicalSkeleton variant=\"circular\" />);\n\n      const skeleton = container.querySelector('.rounded-full');\n      expect(skeleton).toBeInTheDocument();\n    });\n\n    it('should render rectangular variant', () => {\n      const { container } = render(<TropicalSkeleton variant=\"rectangular\" />);\n\n      const skeleton = container.querySelector('.rounded-lg');\n      expect(skeleton).toBeInTheDocument();\n    });\n  });\n\n  describe('Custom Styling', () => {\n    it('should apply custom className', () => {\n      const { container } = render(<TropicalSkeleton className=\"custom-class\" />);\n\n      const skeleton = container.querySelector('.custom-class');\n      expect(skeleton).toBeInTheDocument();\n    });\n  });\n\n  describe('Animation', () => {\n    it('should have pulse animation', () => {\n      const { container } = render(<TropicalSkeleton />);\n\n      const skeleton = container.querySelector('.animate-pulse-gentle');\n      expect(skeleton).toBeInTheDocument();\n    });\n  });\n});\n\ndescribe('Loading States - Screen Reader Announcements', () => {\n  it('should announce loading state to screen readers', () => {\n    render(<TropicalLoading message=\"Loading data\" />);\n\n    // Check for screen reader only text\n    const srText = document.querySelector('.sr-only');\n    expect(srText).toBeInTheDocument();\n    expect(srText?.textContent).toBe('Loading data');\n  });\n\n  it('should have proper ARIA attributes for async operations', () => {\n    const { container } = render(<TropicalLoading />);\n\n    const status = container.querySelector('[role=\"status\"][aria-live=\"polite\"][aria-busy=\"true\"]');\n    expect(status).toBeInTheDocument();\n  });\n});\n\ndescribe('Loading States - Element Disabling', () => {\n  it('should disable interactive elements during loading', () => {\n    const { container } = render(\n      <div>\n        <button disabled aria-busy=\"true\">\n          Save\n        </button>\n      </div>\n    );\n\n    const button = container.querySelector('button');\n    expect(button).toBeDisabled();\n    expect(button).toHaveAttribute('aria-busy', 'true');\n  });\n});\n"],"names":["jest","mock","TropicalIcon","name","size","animate","className","div","data-testid","describe","it","container","render","TropicalLoading","status","querySelector","expect","toBeInTheDocument","liveRegion","busyElement","message","srText","screen","getAllByText","length","toBeGreaterThan","text","fullScreen","not","getByTestId","TropicalSpinner","spinner","TropicalSkeleton","skeleton","variant","document","textContent","toBe","button","disabled","aria-busy","toBeDisabled","toHaveAttribute"],"mappings":"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"}