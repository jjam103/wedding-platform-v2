{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/event/[id]/page.test.tsx"],"sourcesContent":["/**\n * Event Page Route Tests\n * \n * Validates: Requirements 4.2 (E2E Critical Path Testing - section management flow)\n * \n * Tests that the event route:\n * - Exists and renders without 404\n * - Fetches event data correctly\n * - Displays sections using SectionRenderer\n * - Handles async params (Next.js 15)\n */\n\nimport { describe, it, expect, jest, beforeEach } from '@jest/globals';\n\n// Mock Next.js modules\njest.mock('next/headers', () => ({\n  cookies: jest.fn(() => ({\n    get: jest.fn(),\n    set: jest.fn(),\n    delete: jest.fn(),\n  })),\n}));\n\njest.mock('next/navigation', () => ({\n  notFound: jest.fn(),\n}));\n\n// Mock Supabase\njest.mock('@supabase/auth-helpers-nextjs', () => ({\n  createServerComponentClient: jest.fn(() => ({\n    from: jest.fn(() => ({\n      select: jest.fn(() => ({\n        eq: jest.fn(() => ({\n          single: jest.fn(() => Promise.resolve({\n            data: {\n              id: 'event-1',\n              name: 'Welcome Reception',\n              event_type: 'reception',\n              start_date: '2025-06-15T18:00:00Z',\n              end_date: '2025-06-15T22:00:00Z',\n              rsvp_required: true,\n              rsvp_deadline: '2025-06-01',\n              status: 'published',\n              description: '<p>Join us for a welcome reception</p>',\n              locations: {\n                id: 'location-1',\n                name: 'Beach Resort',\n                location_type: 'venue',\n              },\n            },\n            error: null,\n          })),\n        })),\n      })),\n    })),\n  })),\n}));\n\n// Mock sections service\njest.mock('@/services/sectionsService', () => ({\n  listSections: jest.fn(() => Promise.resolve({\n    success: true,\n    data: [\n      {\n        id: 'section-1',\n        title: 'Event Details',\n        page_type: 'event',\n        page_id: 'event-1',\n        display_order: 1,\n        created_at: '2025-01-01T00:00:00Z',\n        updated_at: '2025-01-01T00:00:00Z',\n        columns: [\n          {\n            id: 'column-1',\n            section_id: 'section-1',\n            column_number: 1,\n            content_type: 'rich_text',\n            content_data: { html: '<p>Test content</p>' },\n            created_at: '2025-01-01T00:00:00Z',\n            updated_at: '2025-01-01T00:00:00Z',\n          },\n        ],\n      },\n    ],\n  })),\n}));\n\n// Mock SectionRenderer component\njest.mock('@/components/guest/SectionRenderer', () => ({\n  SectionRenderer: ({ section }: any) => (\n    <div data-testid={`section-${section.id}`}>\n      {section.title}\n    </div>\n  ),\n}));\n\ndescribe('Event Page Route', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  it('should exist and be importable', async () => {\n    const EventPage = (await import('./page')).default;\n    expect(EventPage).toBeDefined();\n    expect(typeof EventPage).toBe('function');\n  });\n\n  it('should handle async params (Next.js 15 pattern)', async () => {\n    const EventPage = (await import('./page')).default;\n    \n    // Next.js 15: params is a Promise\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    // Should not throw when awaiting params\n    await expect(EventPage({ params })).resolves.toBeDefined();\n  });\n\n  it('should fetch event data from Supabase', async () => {\n    const { createServerComponentClient } = await import('@supabase/auth-helpers-nextjs');\n    const EventPage = (await import('./page')).default;\n    \n    const params = Promise.resolve({ id: 'event-1' });\n    await EventPage({ params });\n    \n    // Verify Supabase client was created\n    expect(createServerComponentClient).toHaveBeenCalled();\n  });\n\n  it('should fetch sections for the event', async () => {\n    const { listSections } = await import('@/services/sectionsService');\n    const EventPage = (await import('./page')).default;\n    \n    const params = Promise.resolve({ id: 'event-1' });\n    await EventPage({ params });\n    \n    // Verify sections were fetched\n    expect(listSections).toHaveBeenCalledWith('event', 'event-1');\n  });\n\n  it('should call notFound when event does not exist', async () => {\n    const { notFound } = await import('next/navigation');\n    const { createServerComponentClient } = await import('@supabase/auth-helpers-nextjs');\n    \n    // Mock notFound to throw (simulating Next.js behavior)\n    (notFound as unknown as jest.Mock).mockImplementation(() => {\n      throw new Error('NEXT_NOT_FOUND');\n    });\n    \n    // Mock event not found\n    (createServerComponentClient as jest.Mock).mockReturnValueOnce({\n      from: jest.fn(() => ({\n        select: jest.fn(() => ({\n          eq: jest.fn(() => ({\n            single: jest.fn(() => Promise.resolve({\n              data: null,\n              error: { message: 'Not found' },\n            })),\n          })),\n        })),\n      })),\n    });\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'nonexistent' });\n    \n    // Should throw when notFound is called\n    await expect(EventPage({ params })).rejects.toThrow('NEXT_NOT_FOUND');\n    \n    // Verify notFound was called\n    expect(notFound).toHaveBeenCalled();\n  });\n\n  it('should render event information', async () => {\n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Verify result is a React element\n    expect(result).toBeDefined();\n    expect(result).toHaveProperty('type');\n    expect(result).toHaveProperty('props');\n  });\n\n  it('should use SectionRenderer for sections', async () => {\n    const { listSections } = await import('@/services/sectionsService');\n    const EventPage = (await import('./page')).default;\n    \n    const params = Promise.resolve({ id: 'event-1' });\n    await EventPage({ params });\n    \n    // Verify sections were fetched (SectionRenderer will be used in render)\n    expect(listSections).toHaveBeenCalledWith('event', 'event-1');\n  });\n\n  it('should handle empty sections gracefully', async () => {\n    const { listSections } = await import('@/services/sectionsService');\n    \n    // Mock empty sections\n    (listSections as unknown as jest.Mock).mockResolvedValueOnce({\n      success: true,\n      data: [],\n    } as any);\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Should render without error\n    expect(result).toBeDefined();\n  });\n\n  it('should handle sections service error gracefully', async () => {\n    const { listSections } = await import('@/services/sectionsService');\n    \n    // Mock sections service error\n    (listSections as unknown as jest.Mock).mockResolvedValueOnce({\n      success: false,\n      error: { code: 'DATABASE_ERROR', message: 'Connection failed' },\n    } as any);\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Should render with empty sections\n    expect(result).toBeDefined();\n  });\n\n  it('should display event type correctly', async () => {\n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Verify result contains event data\n    expect(result).toBeDefined();\n  });\n\n  it('should display RSVP information when required', async () => {\n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Verify result contains RSVP data\n    expect(result).toBeDefined();\n  });\n\n  it('should display location information', async () => {\n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Verify result contains location data\n    expect(result).toBeDefined();\n  });\n\n  it('should handle events without location', async () => {\n    const { createServerComponentClient } = await import('@supabase/auth-helpers-nextjs');\n    \n    // Mock event without location\n    (createServerComponentClient as jest.Mock).mockReturnValueOnce({\n      from: jest.fn(() => ({\n        select: jest.fn(() => ({\n          eq: jest.fn(() => ({\n            single: jest.fn(() => Promise.resolve({\n              data: {\n                id: 'event-2',\n                name: 'Virtual Event',\n                event_type: 'pre_wedding',\n                start_date: '2025-06-10T10:00:00Z',\n                end_date: '2025-06-10T12:00:00Z',\n                rsvp_required: false,\n                status: 'published',\n                description: '<p>Virtual pre-wedding event</p>',\n                locations: null,\n              },\n              error: null,\n            })),\n          })),\n        })),\n      })),\n    });\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-2' });\n    \n    const result = await EventPage({ params });\n    \n    // Should render without error\n    expect(result).toBeDefined();\n  });\n\n  it('should handle events without RSVP deadline', async () => {\n    const { createServerComponentClient } = await import('@supabase/auth-helpers-nextjs');\n    \n    // Mock event without RSVP deadline\n    (createServerComponentClient as jest.Mock).mockReturnValueOnce({\n      from: jest.fn(() => ({\n        select: jest.fn(() => ({\n          eq: jest.fn(() => ({\n            single: jest.fn(() => Promise.resolve({\n              data: {\n                id: 'event-3',\n                name: 'Casual Gathering',\n                event_type: 'post_wedding',\n                start_date: '2025-06-20T14:00:00Z',\n                rsvp_required: false,\n                rsvp_deadline: null,\n                status: 'draft',\n                description: '<p>Casual post-wedding gathering</p>',\n                locations: {\n                  id: 'location-2',\n                  name: 'Coffee Shop',\n                  location_type: 'venue',\n                },\n              },\n              error: null,\n            })),\n          })),\n        })),\n      })),\n    });\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-3' });\n    \n    const result = await EventPage({ params });\n    \n    // Should render without error\n    expect(result).toBeDefined();\n  });\n\n  it('should handle events with multiple sections', async () => {\n    const { listSections } = await import('@/services/sectionsService');\n    \n    // Mock multiple sections\n    (listSections as unknown as jest.Mock).mockResolvedValueOnce({\n      success: true,\n      data: [\n        {\n          id: 'section-1',\n          title: 'Schedule',\n          page_type: 'event',\n          page_id: 'event-1',\n          display_order: 1,\n          created_at: '2025-01-01T00:00:00Z',\n          updated_at: '2025-01-01T00:00:00Z',\n          columns: [],\n        },\n        {\n          id: 'section-2',\n          title: 'Dress Code',\n          page_type: 'event',\n          page_id: 'event-1',\n          display_order: 2,\n          created_at: '2025-01-01T00:00:00Z',\n          updated_at: '2025-01-01T00:00:00Z',\n          columns: [],\n        },\n        {\n          id: 'section-3',\n          title: 'Photo Gallery',\n          page_type: 'event',\n          page_id: 'event-1',\n          display_order: 3,\n          created_at: '2025-01-01T00:00:00Z',\n          updated_at: '2025-01-01T00:00:00Z',\n          columns: [],\n        },\n      ],\n    } as any);\n    \n    const EventPage = (await import('./page')).default;\n    const params = Promise.resolve({ id: 'event-1' });\n    \n    const result = await EventPage({ params });\n    \n    // Should render all sections\n    expect(result).toBeDefined();\n  });\n});\n"],"names":["jest","mock","cookies","fn","get","set","delete","notFound","createServerComponentClient","from","select","eq","single","Promise","resolve","data","id","name","event_type","start_date","end_date","rsvp_required","rsvp_deadline","status","description","locations","location_type","error","listSections","success","title","page_type","page_id","display_order","created_at","updated_at","columns","section_id","column_number","content_type","content_data","html","SectionRenderer","section","div","data-testid","describe","beforeEach","clearAllMocks","it","EventPage","default","expect","toBeDefined","toBe","params","resolves","toHaveBeenCalled","toHaveBeenCalledWith","mockImplementation","Error","mockReturnValueOnce","message","rejects","toThrow","result","toHaveProperty","mockResolvedValueOnce","code"],"mappings":"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"}