d11274f8b03a0cd3f5f3663c0b44b1e2
"use strict";

/* istanbul ignore next */
function cov_4bl2uyqhs() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/emails/preview/route.ts";
  var hash = "dc14b8a00f3f4cd810c731acded309fb7b4a07fa";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/emails/preview/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 20
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 38
        }
      },
      "4": {
        start: {
          line: 12,
          column: 27
        },
        end: {
          line: 12,
          column: 67
        }
      },
      "5": {
        start: {
          line: 13,
          column: 17
        },
        end: {
          line: 13,
          column: 40
        }
      },
      "6": {
        start: {
          line: 14,
          column: 36
        },
        end: {
          line: 14,
          column: 110
        }
      },
      "7": {
        start: {
          line: 15,
          column: 13
        },
        end: {
          line: 15,
          column: 27
        }
      },
      "8": {
        start: {
          line: 17,
          column: 4
        },
        end: {
          line: 17,
          column: 51
        }
      },
      "9": {
        start: {
          line: 17,
          column: 39
        },
        end: {
          line: 17,
          column: 51
        }
      },
      "10": {
        start: {
          line: 18,
          column: 28
        },
        end: {
          line: 18,
          column: 41
        }
      },
      "11": {
        start: {
          line: 19,
          column: 27
        },
        end: {
          line: 19,
          column: 40
        }
      },
      "12": {
        start: {
          line: 20,
          column: 4
        },
        end: {
          line: 22,
          column: 20
        }
      },
      "13": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 66
        }
      },
      "14": {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 27,
          column: 5
        }
      },
      "15": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 19
        }
      },
      "16": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 32,
          column: 5
        }
      },
      "17": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 31,
          column: 10
        }
      },
      "18": {
        start: {
          line: 33,
          column: 16
        },
        end: {
          line: 33,
          column: 53
        }
      },
      "19": {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 36,
          column: 5
        }
      },
      "20": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 35,
          column: 30
        }
      },
      "21": {
        start: {
          line: 37,
          column: 17
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "22": {
        start: {
          line: 40,
          column: 32
        },
        end: {
          line: 40,
          column: 88
        }
      },
      "23": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 50,
          column: 5
        }
      },
      "24": {
        start: {
          line: 42,
          column: 8
        },
        end: {
          line: 49,
          column: 9
        }
      },
      "25": {
        start: {
          line: 43,
          column: 23
        },
        end: {
          line: 43,
          column: 95
        }
      },
      "26": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 48,
          column: 13
        }
      },
      "27": {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 45,
          column: 57
        }
      },
      "28": {
        start: {
          line: 47,
          column: 16
        },
        end: {
          line: 47,
          column: 39
        }
      },
      "29": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 51,
          column: 25
        }
      },
      "30": {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 54,
          column: 5
        }
      },
      "31": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 31
        }
      },
      "32": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 55,
          column: 18
        }
      },
      "33": {
        start: {
          line: 57,
          column: 22
        },
        end: {
          line: 62,
          column: 2
        }
      },
      "34": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 144,
          column: 5
        }
      },
      "35": {
        start: {
          line: 66,
          column: 25
        },
        end: {
          line: 68,
          column: 10
        }
      },
      "36": {
        start: {
          line: 69,
          column: 56
        },
        end: {
          line: 69,
          column: 88
        }
      },
      "37": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 80,
          column: 9
        }
      },
      "38": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 79,
          column: 15
        }
      },
      "39": {
        start: {
          line: 82,
          column: 21
        },
        end: {
          line: 82,
          column: 41
        }
      },
      "40": {
        start: {
          line: 83,
          column: 27
        },
        end: {
          line: 83,
          column: 56
        }
      },
      "41": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 95,
          column: 9
        }
      },
      "42": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 94,
          column: 15
        }
      },
      "43": {
        start: {
          line: 96,
          column: 22
        },
        end: {
          line: 96,
          column: 51
        }
      },
      "44": {
        start: {
          line: 97,
          column: 19
        },
        end: {
          line: 97,
          column: 45
        }
      },
      "45": {
        start: {
          line: 98,
          column: 26
        },
        end: {
          line: 98,
          column: 57
        }
      },
      "46": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 115,
          column: 9
        }
      },
      "47": {
        start: {
          line: 101,
          column: 35
        },
        end: {
          line: 101,
          column: 95
        }
      },
      "48": {
        start: {
          line: 102,
          column: 12
        },
        end: {
          line: 112,
          column: 13
        }
      },
      "49": {
        start: {
          line: 103,
          column: 16
        },
        end: {
          line: 111,
          column: 19
        }
      },
      "50": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 50
        }
      },
      "51": {
        start: {
          line: 114,
          column: 12
        },
        end: {
          line: 114,
          column: 49
        }
      },
      "52": {
        start: {
          line: 117,
          column: 29
        },
        end: {
          line: 117,
          column: 36
        }
      },
      "53": {
        start: {
          line: 118,
          column: 26
        },
        end: {
          line: 118,
          column: 30
        }
      },
      "54": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 123,
          column: 11
        }
      },
      "55": {
        start: {
          line: 120,
          column: 28
        },
        end: {
          line: 120,
          column: 65
        }
      },
      "56": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 68
        }
      },
      "57": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 122,
          column: 62
        }
      },
      "58": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 133,
          column: 11
        }
      },
      "59": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 143,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "_getRequireWildcardCache",
        decl: {
          start: {
            line: 16,
            column: 9
          },
          end: {
            line: 16,
            column: 33
          }
        },
        loc: {
          start: {
            line: 16,
            column: 47
          },
          end: {
            line: 23,
            column: 1
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 39
          },
          end: {
            line: 20,
            column: 40
          }
        },
        loc: {
          start: {
            line: 20,
            column: 61
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 20
      },
      "3": {
        name: "_interop_require_wildcard",
        decl: {
          start: {
            line: 24,
            column: 9
          },
          end: {
            line: 24,
            column: 34
          }
        },
        loc: {
          start: {
            line: 24,
            column: 53
          },
          end: {
            line: 56,
            column: 1
          }
        },
        line: 24
      },
      "4": {
        name: "POST",
        decl: {
          start: {
            line: 63,
            column: 15
          },
          end: {
            line: 63,
            column: 19
          }
        },
        loc: {
          start: {
            line: 63,
            column: 29
          },
          end: {
            line: 145,
            column: 1
          }
        },
        line: 63
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 119,
            column: 42
          },
          end: {
            line: 119,
            column: 43
          }
        },
        loc: {
          start: {
            line: 119,
            column: 58
          },
          end: {
            line: 123,
            column: 9
          }
        },
        line: 119
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 51
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 51
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 17
      },
      "1": {
        loc: {
          start: {
            line: 21,
            column: 15
          },
          end: {
            line: 21,
            column: 65
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 21,
            column: 29
          },
          end: {
            line: 21,
            column: 45
          }
        }, {
          start: {
            line: 21,
            column: 48
          },
          end: {
            line: 21,
            column: 65
          }
        }],
        line: 21
      },
      "2": {
        loc: {
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 25
      },
      "3": {
        loc: {
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 25,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 25,
            column: 20
          }
        }, {
          start: {
            line: 25,
            column: 24
          },
          end: {
            line: 25,
            column: 27
          }
        }, {
          start: {
            line: 25,
            column: 31
          },
          end: {
            line: 25,
            column: 45
          }
        }],
        line: 25
      },
      "4": {
        loc: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 32,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 32,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 28
      },
      "5": {
        loc: {
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 20
          }
        }, {
          start: {
            line: 28,
            column: 24
          },
          end: {
            line: 28,
            column: 47
          }
        }, {
          start: {
            line: 28,
            column: 51
          },
          end: {
            line: 28,
            column: 76
          }
        }],
        line: 28
      },
      "6": {
        loc: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "7": {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 34,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 34,
            column: 13
          }
        }, {
          start: {
            line: 34,
            column: 17
          },
          end: {
            line: 34,
            column: 31
          }
        }],
        line: 34
      },
      "8": {
        loc: {
          start: {
            line: 40,
            column: 32
          },
          end: {
            line: 40,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 40,
            column: 32
          },
          end: {
            line: 40,
            column: 53
          }
        }, {
          start: {
            line: 40,
            column: 57
          },
          end: {
            line: 40,
            column: 88
          }
        }],
        line: 40
      },
      "9": {
        loc: {
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 49,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 42
      },
      "10": {
        loc: {
          start: {
            line: 42,
            column: 12
          },
          end: {
            line: 42,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 42,
            column: 12
          },
          end: {
            line: 42,
            column: 29
          }
        }, {
          start: {
            line: 42,
            column: 33
          },
          end: {
            line: 42,
            column: 79
          }
        }],
        line: 42
      },
      "11": {
        loc: {
          start: {
            line: 43,
            column: 23
          },
          end: {
            line: 43,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 43,
            column: 47
          },
          end: {
            line: 43,
            column: 88
          }
        }, {
          start: {
            line: 43,
            column: 91
          },
          end: {
            line: 43,
            column: 95
          }
        }],
        line: 43
      },
      "12": {
        loc: {
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 48,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 48,
            column: 13
          }
        }, {
          start: {
            line: 46,
            column: 19
          },
          end: {
            line: 48,
            column: 13
          }
        }],
        line: 44
      },
      "13": {
        loc: {
          start: {
            line: 44,
            column: 16
          },
          end: {
            line: 44,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 44,
            column: 16
          },
          end: {
            line: 44,
            column: 20
          }
        }, {
          start: {
            line: 44,
            column: 25
          },
          end: {
            line: 44,
            column: 33
          }
        }, {
          start: {
            line: 44,
            column: 37
          },
          end: {
            line: 44,
            column: 45
          }
        }],
        line: 44
      },
      "14": {
        loc: {
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 52
      },
      "15": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 80,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 80,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "16": {
        loc: {
          start: {
            line: 70,
            column: 12
          },
          end: {
            line: 70,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 70,
            column: 12
          },
          end: {
            line: 70,
            column: 21
          }
        }, {
          start: {
            line: 70,
            column: 25
          },
          end: {
            line: 70,
            column: 33
          }
        }],
        line: 70
      },
      "17": {
        loc: {
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 95,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 95,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "18": {
        loc: {
          start: {
            line: 96,
            column: 22
          },
          end: {
            line: 96,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 96,
            column: 22
          },
          end: {
            line: 96,
            column: 45
          }
        }, {
          start: {
            line: 96,
            column: 49
          },
          end: {
            line: 96,
            column: 51
          }
        }],
        line: 96
      },
      "19": {
        loc: {
          start: {
            line: 97,
            column: 19
          },
          end: {
            line: 97,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 97,
            column: 19
          },
          end: {
            line: 97,
            column: 39
          }
        }, {
          start: {
            line: 97,
            column: 43
          },
          end: {
            line: 97,
            column: 45
          }
        }],
        line: 97
      },
      "20": {
        loc: {
          start: {
            line: 98,
            column: 26
          },
          end: {
            line: 98,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 98,
            column: 26
          },
          end: {
            line: 98,
            column: 51
          }
        }, {
          start: {
            line: 98,
            column: 55
          },
          end: {
            line: 98,
            column: 57
          }
        }],
        line: 98
      },
      "21": {
        loc: {
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 115,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "22": {
        loc: {
          start: {
            line: 102,
            column: 12
          },
          end: {
            line: 112,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 12
          },
          end: {
            line: 112,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 102
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0],
      "4": [0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/emails/preview/route.ts"],
      sourcesContent: ["import { NextResponse } from 'next/server';\nimport { createRouteHandlerClient } from '@supabase/auth-helpers-nextjs';\nimport { cookies } from 'next/headers';\nimport * as emailService from '@/services/emailService';\nimport { z } from 'zod';\n\nconst previewSchema = z.object({\n  template_id: z.string().uuid().optional(),\n  subject: z.string().optional(),\n  html: z.string().optional(),\n  variables: z.record(z.string(), z.string()).optional(),\n});\n\n/**\n * POST /api/admin/emails/preview\n * Previews an email with variable substitution\n * Requirements: 4.4\n */\nexport async function POST(request: Request) {\n  try {\n    // 1. Auth check\n    const supabase = createRouteHandlerClient({ cookies });\n    const { data: { session }, error: authError } = await supabase.auth.getSession();\n    \n    if (authError || !session) {\n      return NextResponse.json(\n        { success: false, error: { code: 'UNAUTHORIZED', message: 'Authentication required' } },\n        { status: 401 }\n      );\n    }\n\n    // 2. Parse and validate\n    const body = await request.json();\n    const validation = previewSchema.safeParse(body);\n    \n    if (!validation.success) {\n      return NextResponse.json(\n        { \n          success: false, \n          error: { \n            code: 'VALIDATION_ERROR', \n            message: 'Invalid request', \n            details: validation.error.issues \n          } \n        },\n        { status: 400 }\n      );\n    }\n\n    let subject = validation.data.subject || '';\n    let html = validation.data.html || '';\n    const variables = validation.data.variables || {};\n\n    // 3. If template_id provided, load template\n    if (validation.data.template_id) {\n      const templateResult = await emailService.getTemplate(validation.data.template_id);\n      \n      if (!templateResult.success) {\n        return NextResponse.json(\n          { success: false, error: { code: 'NOT_FOUND', message: 'Template not found' } },\n          { status: 404 }\n        );\n      }\n\n      subject = templateResult.data.subject;\n      html = templateResult.data.body_html;\n    }\n\n    // 4. Substitute variables\n    let previewSubject = subject;\n    let previewHtml = html;\n\n    Object.entries(variables).forEach(([key, value]) => {\n      const pattern = new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g');\n      previewSubject = previewSubject.replace(pattern, value);\n      previewHtml = previewHtml.replace(pattern, value);\n    });\n\n    // 5. Return preview\n    return NextResponse.json({\n      success: true,\n      data: {\n        subject: previewSubject,\n        html: previewHtml,\n      },\n    }, { status: 200 });\n  } catch (error) {\n    return NextResponse.json(\n      { success: false, error: { code: 'INTERNAL_ERROR', message: 'Internal server error' } },\n      { status: 500 }\n    );\n  }\n}\n"],
      names: ["POST", "previewSchema", "z", "object", "template_id", "string", "uuid", "optional", "subject", "html", "variables", "record", "request", "supabase", "createRouteHandlerClient", "cookies", "data", "session", "error", "authError", "auth", "getSession", "NextResponse", "json", "success", "code", "message", "status", "body", "validation", "safeParse", "details", "issues", "templateResult", "emailService", "getTemplate", "body_html", "previewSubject", "previewHtml", "Object", "entries", "forEach", "key", "value", "pattern", "RegExp", "replace"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "dc14b8a00f3f4cd810c731acded309fb7b4a07fa"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_4bl2uyqhs = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_4bl2uyqhs();
cov_4bl2uyqhs().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_4bl2uyqhs().s[1]++;
Object.defineProperty(exports, "POST", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_4bl2uyqhs().f[0]++;
    cov_4bl2uyqhs().s[2]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_4bl2uyqhs().s[3]++, require("next/server"));
const _authhelpersnextjs =
/* istanbul ignore next */
(cov_4bl2uyqhs().s[4]++, require("@supabase/auth-helpers-nextjs"));
const _headers =
/* istanbul ignore next */
(cov_4bl2uyqhs().s[5]++, require("next/headers"));
const _emailService =
/* istanbul ignore next */
(/*#__PURE__*/cov_4bl2uyqhs().s[6]++, _interop_require_wildcard(require("../../../../../services/emailService")));
const _zod =
/* istanbul ignore next */
(cov_4bl2uyqhs().s[7]++, require("zod"));
function _getRequireWildcardCache(nodeInterop) {
  /* istanbul ignore next */
  cov_4bl2uyqhs().f[1]++;
  cov_4bl2uyqhs().s[8]++;
  if (typeof WeakMap !== "function") {
    /* istanbul ignore next */
    cov_4bl2uyqhs().b[0][0]++;
    cov_4bl2uyqhs().s[9]++;
    return null;
  } else
  /* istanbul ignore next */
  {
    cov_4bl2uyqhs().b[0][1]++;
  }
  var cacheBabelInterop =
  /* istanbul ignore next */
  (cov_4bl2uyqhs().s[10]++, new WeakMap());
  var cacheNodeInterop =
  /* istanbul ignore next */
  (cov_4bl2uyqhs().s[11]++, new WeakMap());
  /* istanbul ignore next */
  cov_4bl2uyqhs().s[12]++;
  return (_getRequireWildcardCache = function (nodeInterop) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().f[2]++;
    cov_4bl2uyqhs().s[13]++;
    return nodeInterop ?
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[1][0]++, cacheNodeInterop) :
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[1][1]++, cacheBabelInterop);
  })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
  /* istanbul ignore next */
  cov_4bl2uyqhs().f[3]++;
  cov_4bl2uyqhs().s[14]++;
  if (
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[3][0]++, !nodeInterop) &&
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[3][1]++, obj) &&
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[3][2]++, obj.__esModule)) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().b[2][0]++;
    cov_4bl2uyqhs().s[15]++;
    return obj;
  } else
  /* istanbul ignore next */
  {
    cov_4bl2uyqhs().b[2][1]++;
  }
  cov_4bl2uyqhs().s[16]++;
  if (
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[5][0]++, obj === null) ||
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[5][1]++, typeof obj !== "object") &&
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[5][2]++, typeof obj !== "function")) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().b[4][0]++;
    cov_4bl2uyqhs().s[17]++;
    return {
      default: obj
    };
  } else
  /* istanbul ignore next */
  {
    cov_4bl2uyqhs().b[4][1]++;
  }
  var cache =
  /* istanbul ignore next */
  (cov_4bl2uyqhs().s[18]++, _getRequireWildcardCache(nodeInterop));
  /* istanbul ignore next */
  cov_4bl2uyqhs().s[19]++;
  if (
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[7][0]++, cache) &&
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[7][1]++, cache.has(obj))) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().b[6][0]++;
    cov_4bl2uyqhs().s[20]++;
    return cache.get(obj);
  } else
  /* istanbul ignore next */
  {
    cov_4bl2uyqhs().b[6][1]++;
  }
  var newObj =
  /* istanbul ignore next */
  (cov_4bl2uyqhs().s[21]++, {
    __proto__: null
  });
  var hasPropertyDescriptor =
  /* istanbul ignore next */
  (cov_4bl2uyqhs().s[22]++,
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[8][0]++, Object.defineProperty) &&
  /* istanbul ignore next */
  (cov_4bl2uyqhs().b[8][1]++, Object.getOwnPropertyDescriptor));
  /* istanbul ignore next */
  cov_4bl2uyqhs().s[23]++;
  for (var key in obj) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[24]++;
    if (
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[10][0]++, key !== "default") &&
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[10][1]++, Object.prototype.hasOwnProperty.call(obj, key))) {
      /* istanbul ignore next */
      cov_4bl2uyqhs().b[9][0]++;
      var desc =
      /* istanbul ignore next */
      (cov_4bl2uyqhs().s[25]++, hasPropertyDescriptor ?
      /* istanbul ignore next */
      (cov_4bl2uyqhs().b[11][0]++, Object.getOwnPropertyDescriptor(obj, key)) :
      /* istanbul ignore next */
      (cov_4bl2uyqhs().b[11][1]++, null));
      /* istanbul ignore next */
      cov_4bl2uyqhs().s[26]++;
      if (
      /* istanbul ignore next */
      (cov_4bl2uyqhs().b[13][0]++, desc) && (
      /* istanbul ignore next */
      (cov_4bl2uyqhs().b[13][1]++, desc.get) ||
      /* istanbul ignore next */
      (cov_4bl2uyqhs().b[13][2]++, desc.set))) {
        /* istanbul ignore next */
        cov_4bl2uyqhs().b[12][0]++;
        cov_4bl2uyqhs().s[27]++;
        Object.defineProperty(newObj, key, desc);
      } else {
        /* istanbul ignore next */
        cov_4bl2uyqhs().b[12][1]++;
        cov_4bl2uyqhs().s[28]++;
        newObj[key] = obj[key];
      }
    } else
    /* istanbul ignore next */
    {
      cov_4bl2uyqhs().b[9][1]++;
    }
  }
  /* istanbul ignore next */
  cov_4bl2uyqhs().s[29]++;
  newObj.default = obj;
  /* istanbul ignore next */
  cov_4bl2uyqhs().s[30]++;
  if (cache) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().b[14][0]++;
    cov_4bl2uyqhs().s[31]++;
    cache.set(obj, newObj);
  } else
  /* istanbul ignore next */
  {
    cov_4bl2uyqhs().b[14][1]++;
  }
  cov_4bl2uyqhs().s[32]++;
  return newObj;
}
const previewSchema =
/* istanbul ignore next */
(cov_4bl2uyqhs().s[33]++, _zod.z.object({
  template_id: _zod.z.string().uuid().optional(),
  subject: _zod.z.string().optional(),
  html: _zod.z.string().optional(),
  variables: _zod.z.record(_zod.z.string(), _zod.z.string()).optional()
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_4bl2uyqhs().f[4]++;
  cov_4bl2uyqhs().s[34]++;
  try {
    // 1. Auth check
    const supabase =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[35]++, (0, _authhelpersnextjs.createRouteHandlerClient)({
      cookies: _headers.cookies
    }));
    const {
      data: {
        session
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[36]++, await supabase.auth.getSession());
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[37]++;
    if (
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[16][0]++, authError) ||
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[16][1]++, !session)) {
      /* istanbul ignore next */
      cov_4bl2uyqhs().b[15][0]++;
      cov_4bl2uyqhs().s[38]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'UNAUTHORIZED',
          message: 'Authentication required'
        }
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_4bl2uyqhs().b[15][1]++;
    }
    // 2. Parse and validate
    const body =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[39]++, await request.json());
    const validation =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[40]++, previewSchema.safeParse(body));
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[41]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_4bl2uyqhs().b[17][0]++;
      cov_4bl2uyqhs().s[42]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Invalid request',
          details: validation.error.issues
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_4bl2uyqhs().b[17][1]++;
    }
    let subject =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[43]++,
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[18][0]++, validation.data.subject) ||
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[18][1]++, ''));
    let html =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[44]++,
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[19][0]++, validation.data.html) ||
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[19][1]++, ''));
    const variables =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[45]++,
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[20][0]++, validation.data.variables) ||
    /* istanbul ignore next */
    (cov_4bl2uyqhs().b[20][1]++, {}));
    // 3. If template_id provided, load template
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[46]++;
    if (validation.data.template_id) {
      /* istanbul ignore next */
      cov_4bl2uyqhs().b[21][0]++;
      const templateResult =
      /* istanbul ignore next */
      (cov_4bl2uyqhs().s[47]++, await _emailService.getTemplate(validation.data.template_id));
      /* istanbul ignore next */
      cov_4bl2uyqhs().s[48]++;
      if (!templateResult.success) {
        /* istanbul ignore next */
        cov_4bl2uyqhs().b[22][0]++;
        cov_4bl2uyqhs().s[49]++;
        return _server.NextResponse.json({
          success: false,
          error: {
            code: 'NOT_FOUND',
            message: 'Template not found'
          }
        }, {
          status: 404
        });
      } else
      /* istanbul ignore next */
      {
        cov_4bl2uyqhs().b[22][1]++;
      }
      cov_4bl2uyqhs().s[50]++;
      subject = templateResult.data.subject;
      /* istanbul ignore next */
      cov_4bl2uyqhs().s[51]++;
      html = templateResult.data.body_html;
    } else
    /* istanbul ignore next */
    {
      cov_4bl2uyqhs().b[21][1]++;
    }
    // 4. Substitute variables
    let previewSubject =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[52]++, subject);
    let previewHtml =
    /* istanbul ignore next */
    (cov_4bl2uyqhs().s[53]++, html);
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[54]++;
    Object.entries(variables).forEach(([key, value]) => {
      /* istanbul ignore next */
      cov_4bl2uyqhs().f[5]++;
      const pattern =
      /* istanbul ignore next */
      (cov_4bl2uyqhs().s[55]++, new RegExp(`\\{\\{${key}\\}\\}`, 'g'));
      /* istanbul ignore next */
      cov_4bl2uyqhs().s[56]++;
      previewSubject = previewSubject.replace(pattern, value);
      /* istanbul ignore next */
      cov_4bl2uyqhs().s[57]++;
      previewHtml = previewHtml.replace(pattern, value);
    });
    // 5. Return preview
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[58]++;
    return _server.NextResponse.json({
      success: true,
      data: {
        subject: previewSubject,
        html: previewHtml
      }
    }, {
      status: 200
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_4bl2uyqhs().s[59]++;
    return _server.NextResponse.json({
      success: false,
      error: {
        code: 'INTERNAL_ERROR',
        message: 'Internal server error'
      }
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQT1NUIiwicHJldmlld1NjaGVtYSIsImNvdl80YmwydXlxaHMiLCJzIiwiX3pvZCIsInoiLCJvYmplY3QiLCJ0ZW1wbGF0ZV9pZCIsInN0cmluZyIsInV1aWQiLCJvcHRpb25hbCIsInN1YmplY3QiLCJodG1sIiwidmFyaWFibGVzIiwicmVjb3JkIiwicmVxdWVzdCIsImYiLCJzdXBhYmFzZSIsIl9hdXRoaGVscGVyc25leHRqcyIsImNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCIsImNvb2tpZXMiLCJfaGVhZGVycyIsImRhdGEiLCJzZXNzaW9uIiwiZXJyb3IiLCJhdXRoRXJyb3IiLCJhdXRoIiwiZ2V0U2Vzc2lvbiIsImIiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJjb2RlIiwibWVzc2FnZSIsInN0YXR1cyIsImJvZHkiLCJ2YWxpZGF0aW9uIiwic2FmZVBhcnNlIiwiZGV0YWlscyIsImlzc3VlcyIsInRlbXBsYXRlUmVzdWx0IiwiX2VtYWlsU2VydmljZSIsImdldFRlbXBsYXRlIiwiYm9keV9odG1sIiwicHJldmlld1N1YmplY3QiLCJwcmV2aWV3SHRtbCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJwYXR0ZXJuIiwiUmVnRXhwIiwicmVwbGFjZSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9lbWFpbHMvcHJldmlldy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcyc7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCAqIGFzIGVtYWlsU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL2VtYWlsU2VydmljZSc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuY29uc3QgcHJldmlld1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgdGVtcGxhdGVfaWQ6IHouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksXG4gIHN1YmplY3Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgaHRtbDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB2YXJpYWJsZXM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG4gKiBQT1NUIC9hcGkvYWRtaW4vZW1haWxzL3ByZXZpZXdcbiAqIFByZXZpZXdzIGFuIGVtYWlsIHdpdGggdmFyaWFibGUgc3Vic3RpdHV0aW9uXG4gKiBSZXF1aXJlbWVudHM6IDQuNFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gMS4gQXV0aCBjaGVja1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50KHsgY29va2llcyB9KTtcbiAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9LCBlcnJvcjogYXV0aEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBcbiAgICBpZiAoYXV0aEVycm9yIHx8ICFzZXNzaW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IGNvZGU6ICdVTkFVVEhPUklaRUQnLCBtZXNzYWdlOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0gfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDIuIFBhcnNlIGFuZCB2YWxpZGF0ZVxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gcHJldmlld1NjaGVtYS5zYWZlUGFyc2UoYm9keSk7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6IHsgXG4gICAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsIFxuICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgcmVxdWVzdCcsIFxuICAgICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvbi5lcnJvci5pc3N1ZXMgXG4gICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBzdWJqZWN0ID0gdmFsaWRhdGlvbi5kYXRhLnN1YmplY3QgfHwgJyc7XG4gICAgbGV0IGh0bWwgPSB2YWxpZGF0aW9uLmRhdGEuaHRtbCB8fCAnJztcbiAgICBjb25zdCB2YXJpYWJsZXMgPSB2YWxpZGF0aW9uLmRhdGEudmFyaWFibGVzIHx8IHt9O1xuXG4gICAgLy8gMy4gSWYgdGVtcGxhdGVfaWQgcHJvdmlkZWQsIGxvYWQgdGVtcGxhdGVcbiAgICBpZiAodmFsaWRhdGlvbi5kYXRhLnRlbXBsYXRlX2lkKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IGF3YWl0IGVtYWlsU2VydmljZS5nZXRUZW1wbGF0ZSh2YWxpZGF0aW9uLmRhdGEudGVtcGxhdGVfaWQpO1xuICAgICAgXG4gICAgICBpZiAoIXRlbXBsYXRlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IGNvZGU6ICdOT1RfRk9VTkQnLCBtZXNzYWdlOiAnVGVtcGxhdGUgbm90IGZvdW5kJyB9IH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHN1YmplY3QgPSB0ZW1wbGF0ZVJlc3VsdC5kYXRhLnN1YmplY3Q7XG4gICAgICBodG1sID0gdGVtcGxhdGVSZXN1bHQuZGF0YS5ib2R5X2h0bWw7XG4gICAgfVxuXG4gICAgLy8gNC4gU3Vic3RpdHV0ZSB2YXJpYWJsZXNcbiAgICBsZXQgcHJldmlld1N1YmplY3QgPSBzdWJqZWN0O1xuICAgIGxldCBwcmV2aWV3SHRtbCA9IGh0bWw7XG5cbiAgICBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYFxcXFx7XFxcXHske2tleX1cXFxcfVxcXFx9YCwgJ2cnKTtcbiAgICAgIHByZXZpZXdTdWJqZWN0ID0gcHJldmlld1N1YmplY3QucmVwbGFjZShwYXR0ZXJuLCB2YWx1ZSk7XG4gICAgICBwcmV2aWV3SHRtbCA9IHByZXZpZXdIdG1sLnJlcGxhY2UocGF0dGVybiwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gNS4gUmV0dXJuIHByZXZpZXdcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3ViamVjdDogcHJldmlld1N1YmplY3QsXG4gICAgICAgIGh0bWw6IHByZXZpZXdIdG1sLFxuICAgICAgfSxcbiAgICB9LCB7IHN0YXR1czogMjAwIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB7IGNvZGU6ICdJTlRFUk5BTF9FUlJPUicsIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0gfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OytCQWtCc0I7Ozs7OztXQUFBQSxJQUFBOzs7OztpQ0FsQk87OztpQ0FDWTs7O2lDQUNqQjs7O3dFQUNNOzs7aUNBQ1o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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