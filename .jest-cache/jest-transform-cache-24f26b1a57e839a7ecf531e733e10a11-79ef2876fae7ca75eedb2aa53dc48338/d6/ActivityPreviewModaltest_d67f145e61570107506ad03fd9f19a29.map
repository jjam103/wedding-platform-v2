{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/ActivityPreviewModal.test.tsx"],"sourcesContent":["import { render, screen, waitFor, fireEvent } from '@testing-library/react';\nimport { jest, describe, it, expect, beforeEach } from '@jest/globals';\nimport { ActivityPreviewModal } from './ActivityPreviewModal';\nimport { useRouter } from 'next/navigation';\n\n// Mock Next.js router\njest.mock('next/navigation');\n\nconst mockPush = jest.fn();\n\n// Mock fetch\nglobal.fetch = jest.fn() as jest.MockedFunction<typeof fetch>;\n\ndescribe('ActivityPreviewModal', () => {\n  const mockActivity = {\n    id: 'activity-123',\n    title: 'Beach Volleyball',\n    date: '2024-06-14T10:00:00.000Z',\n    time: '10:00 AM',\n    location: 'Main Beach',\n    description: 'Fun beach games for all ages',\n    capacity: 20,\n    capacityRemaining: 8,\n    cost: 50,\n    hostSubsidy: 20,\n    slug: 'beach-volleyball',\n  };\n\n  const mockRsvpStatus = {\n    status: 'attending' as const,\n    guestCount: 2,\n    dietaryRestrictions: 'Vegetarian',\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (global.fetch as jest.MockedFunction<typeof fetch>).mockClear();\n    \n    // Setup useRouter mock\n    (useRouter as jest.Mock).mockReturnValue({\n      push: mockPush,\n      replace: jest.fn(),\n      refresh: jest.fn(),\n      back: jest.fn(),\n      forward: jest.fn(),\n      prefetch: jest.fn(),\n    });\n  });\n\n  it('should render modal with activity data', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [mockRsvpStatus] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('Beach Volleyball')).toBeInTheDocument();\n    });\n\n    expect(screen.getByText('10:00 AM')).toBeInTheDocument();\n    expect(screen.getByText('Main Beach')).toBeInTheDocument();\n    expect(screen.getByText('Fun beach games for all ages')).toBeInTheDocument();\n  });\n\n  it('should display capacity information', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText(/8 \\/ 20 spots/)).toBeInTheDocument();\n    });\n\n    expect(screen.getByText(/Available/)).toBeInTheDocument();\n  });\n\n  it('should display cost information with subsidy', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('$30.00')).toBeInTheDocument(); // 50 - 20 = 30\n    });\n\n    expect(screen.getByText(/\\$50\\.00 - \\$20\\.00 host subsidy/)).toBeInTheDocument();\n  });\n\n  it('should display RSVP status and dietary restrictions', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [mockRsvpStatus] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('Attending')).toBeInTheDocument();\n    });\n\n    expect(screen.getByText('Guest count: 2')).toBeInTheDocument();\n    expect(screen.getByText('Your Dietary Restrictions')).toBeInTheDocument();\n    expect(screen.getByText('Vegetarian')).toBeInTheDocument();\n  });\n\n  it('should show capacity status as \"Almost Full\" when 90% full', async () => {\n    const almostFullActivity = {\n      ...mockActivity,\n      capacity: 100,\n      capacityRemaining: 5, // 95% full\n    };\n\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: almostFullActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText(/Almost Full/)).toBeInTheDocument();\n    });\n  });\n\n  it('should show capacity status as \"Full\" when no spots remaining', async () => {\n    const fullActivity = {\n      ...mockActivity,\n      capacity: 20,\n      capacityRemaining: 0,\n    };\n\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: fullActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText(/0.*\\/.*20.*spots.*Full/i)).toBeInTheDocument();\n    });\n  });\n\n  it('should show RSVP Now button when no RSVP exists', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('RSVP Now')).toBeInTheDocument();\n    });\n  });\n\n  it('should navigate to full details page when View Full Details clicked', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('View Full Details')).toBeInTheDocument();\n    });\n\n    fireEvent.click(screen.getByText('View Full Details'));\n\n    expect(mockPush).toHaveBeenCalledWith('/activity/beach-volleyball');\n    expect(onClose).toHaveBeenCalled();\n  });\n\n  it('should navigate to RSVP page when RSVP Now clicked', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('RSVP Now')).toBeInTheDocument();\n    });\n\n    fireEvent.click(screen.getByText('RSVP Now'));\n\n    expect(mockPush).toHaveBeenCalledWith('/guest/rsvp?activityId=activity-123');\n    expect(onClose).toHaveBeenCalled();\n  });\n\n  it('should close modal when close button clicked', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: mockActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('Beach Volleyball')).toBeInTheDocument();\n    });\n\n    const closeButton = screen.getByLabelText('Close');\n    fireEvent.click(closeButton);\n\n    expect(onClose).toHaveBeenCalled();\n  });\n\n  it('should display loading state while fetching data', () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>).mockImplementation(\n      () => new Promise(() => {}) // Never resolves\n    );\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    // Check for loading spinner\n    const loadingSpinner = document.querySelector('.animate-spin');\n    expect(loadingSpinner).toBeInTheDocument();\n  });\n\n  it('should display error message when fetch fails', async () => {\n    (global.fetch as jest.MockedFunction<typeof fetch>).mockResolvedValueOnce({\n      ok: false,\n      json: async () => ({ success: false, error: { message: 'Failed to load activity' } }),\n    } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('Failed to load activity')).toBeInTheDocument();\n    });\n  });\n\n  it('should handle activity without optional fields', async () => {\n    const minimalActivity = {\n      id: 'activity-123',\n      title: 'Simple Activity',\n      date: '2024-06-14T10:00:00.000Z',\n    };\n\n    (global.fetch as jest.MockedFunction<typeof fetch>)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: minimalActivity }),\n      } as Response)\n      .mockResolvedValueOnce({\n        ok: true,\n        json: async () => ({ success: true, data: [] }),\n      } as Response);\n\n    const onClose = jest.fn();\n    render(<ActivityPreviewModal activityId=\"activity-123\" onClose={onClose} />);\n\n    await waitFor(() => {\n      expect(screen.getByText('Simple Activity')).toBeInTheDocument();\n    });\n\n    // Should not display optional fields\n    expect(screen.queryByText('Time')).not.toBeInTheDocument();\n    expect(screen.queryByText('Location')).not.toBeInTheDocument();\n    expect(screen.queryByText('Description')).not.toBeInTheDocument();\n    expect(screen.queryByText('Capacity')).not.toBeInTheDocument();\n    expect(screen.queryByText('Cost per Guest')).not.toBeInTheDocument();\n  });\n});\n"],"names":["jest","mock","mockPush","fn","global","fetch","describe","mockActivity","id","title","date","time","location","description","capacity","capacityRemaining","cost","hostSubsidy","slug","mockRsvpStatus","status","guestCount","dietaryRestrictions","beforeEach","clearAllMocks","mockClear","useRouter","mockReturnValue","push","replace","refresh","back","forward","prefetch","it","mockResolvedValueOnce","ok","json","success","data","onClose","render","ActivityPreviewModal","activityId","waitFor","expect","screen","getByText","toBeInTheDocument","almostFullActivity","fullActivity","fireEvent","click","toHaveBeenCalledWith","toHaveBeenCalled","closeButton","getByLabelText","mockImplementation","Promise","loadingSpinner","document","querySelector","error","message","minimalActivity","queryByText","not"],"mappings":"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"}