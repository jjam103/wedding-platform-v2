2e77ee80c0f4efc26e3db70e28b805f4
/**
 * Content Page Route Tests
 * 
 * Tests the dynamic content page route that displays custom pages with sections.
 * 
 * Requirements: 4.2 (E2E Critical Path Testing - section management flow)
 */ "use strict";
// Mock dependencies
jest.mock('@/services/contentPagesService');
jest.mock('@/services/sectionsService');
jest.mock('next/navigation', ()=>({
        notFound: jest.fn()
    }));
jest.mock('@supabase/auth-helpers-nextjs', ()=>({
        createServerComponentClient: jest.fn(()=>({
                from: jest.fn()
            }))
    }));
jest.mock('next/headers', ()=>({
        cookies: jest.fn()
    }));
// Mock SectionRenderer component
jest.mock('@/components/guest/SectionRenderer', ()=>({
        SectionRenderer: ({ section })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": `section-${section.id}`,
                children: [
                    section.title && /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        children: section.title
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: "Section content"
                    })
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _page = /*#__PURE__*/ _interop_require_default(require("./page"));
const _contentPagesService = require("../../../services/contentPagesService");
const _sectionsService = require("../../../services/sectionsService");
const _navigation = require("next/navigation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockGetContentPageBySlug = _contentPagesService.getContentPageBySlug;
const mockListSections = _sectionsService.listSections;
const mockNotFound = _navigation.notFound;
describe('ContentPage Route', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Route Validation', ()=>{
        it('should call notFound when type is not "custom"', async ()=>{
            const params = Promise.resolve({
                type: 'invalid',
                slug: 'test-page'
            });
            await (0, _page.default)({
                params
            });
            expect(mockNotFound).toHaveBeenCalled();
            expect(mockGetContentPageBySlug).not.toHaveBeenCalled();
        });
        it('should accept "custom" type', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            expect(mockNotFound).not.toHaveBeenCalled();
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('test-page');
        });
    });
    describe('Content Page Fetching', ()=>{
        it('should fetch content page by slug', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'our-story'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'our-story',
                    title: 'Our Story',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('our-story');
        });
        it('should call notFound when content page not found', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'nonexistent'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: false,
                error: {
                    code: 'NOT_FOUND',
                    message: 'Content page not found'
                }
            });
            await (0, _page.default)({
                params
            });
            expect(mockNotFound).toHaveBeenCalled();
        });
        it('should call notFound when content page is draft', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'draft-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'draft-page',
                    title: 'Draft Page',
                    status: 'draft',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            await (0, _page.default)({
                params
            });
            expect(mockNotFound).toHaveBeenCalled();
            expect(mockListSections).not.toHaveBeenCalled();
        });
    });
    describe('Sections Fetching', ()=>{
        it('should fetch sections for the content page', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-123',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockListSections).toHaveBeenCalledWith('custom', 'page-123');
        });
        it('should handle sections fetch failure gracefully', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Failed to fetch sections'
                }
            });
            const result = await (0, _page.default)({
                params
            });
            // Should not crash, should render with empty sections
            expect(mockNotFound).not.toHaveBeenCalled();
        });
    });
    describe('Rendering', ()=>{
        it('should render content page title', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Our Amazing Story',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('Our Amazing Story')).toBeInTheDocument();
        });
        it('should render sections using SectionRenderer', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Introduction',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-2',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Details',
                        display_order: 1,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByTestId('section-section-1')).toBeInTheDocument();
            expect(_react.screen.getByTestId('section-section-2')).toBeInTheDocument();
            expect(_react.screen.getByText('Introduction')).toBeInTheDocument();
            expect(_react.screen.getByText('Details')).toBeInTheDocument();
        });
        it('should render empty state when no sections', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('No content available for this page.')).toBeInTheDocument();
        });
        it('should render multiple sections in order', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'First Section',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-2',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Second Section',
                        display_order: 1,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    },
                    {
                        id: 'section-3',
                        page_type: 'custom',
                        page_id: 'page-1',
                        title: 'Third Section',
                        display_order: 2,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            const sections = _react.screen.getAllByText(/Section/);
            expect(sections).toHaveLength(3);
            expect(_react.screen.getByText('First Section')).toBeInTheDocument();
            expect(_react.screen.getByText('Second Section')).toBeInTheDocument();
            expect(_react.screen.getByText('Third Section')).toBeInTheDocument();
        });
    });
    describe('Async Params Handling', ()=>{
        it('should handle async params correctly', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            // Should not throw error
            await expect((0, _page.default)({
                params
            })).resolves.toBeDefined();
        });
        it('should await params before using them', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            // Verify slug was extracted correctly
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('test-page');
        });
    });
    describe('Edge Cases', ()=>{
        it('should handle special characters in slug', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'our-story-2024'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'our-story-2024',
                    title: 'Our Story 2024',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            await (0, _page.default)({
                params
            });
            expect(mockGetContentPageBySlug).toHaveBeenCalledWith('our-story-2024');
        });
        it('should handle empty sections array', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: []
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByText('No content available for this page.')).toBeInTheDocument();
        });
        it('should handle sections without titles', async ()=>{
            const params = Promise.resolve({
                type: 'custom',
                slug: 'test-page'
            });
            mockGetContentPageBySlug.mockResolvedValue({
                success: true,
                data: {
                    id: 'page-1',
                    slug: 'test-page',
                    title: 'Test Page',
                    status: 'published',
                    created_at: '2024-01-01T00:00:00Z',
                    updated_at: '2024-01-01T00:00:00Z'
                }
            });
            mockListSections.mockResolvedValue({
                success: true,
                data: [
                    {
                        id: 'section-1',
                        page_type: 'custom',
                        page_id: 'page-1',
                        display_order: 0,
                        created_at: '2024-01-01T00:00:00Z',
                        updated_at: '2024-01-01T00:00:00Z'
                    }
                ]
            });
            const result = await (0, _page.default)({
                params
            });
            (0, _react.render)(result);
            expect(_react.screen.getByTestId('section-section-1')).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL1t0eXBlXS9bc2x1Z10vcGFnZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRlbnQgUGFnZSBSb3V0ZSBUZXN0c1xuICogXG4gKiBUZXN0cyB0aGUgZHluYW1pYyBjb250ZW50IHBhZ2Ugcm91dGUgdGhhdCBkaXNwbGF5cyBjdXN0b20gcGFnZXMgd2l0aCBzZWN0aW9ucy5cbiAqIFxuICogUmVxdWlyZW1lbnRzOiA0LjIgKEUyRSBDcml0aWNhbCBQYXRoIFRlc3RpbmcgLSBzZWN0aW9uIG1hbmFnZW1lbnQgZmxvdylcbiAqL1xuXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IENvbnRlbnRQYWdlIGZyb20gJy4vcGFnZSc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGFnZUJ5U2x1ZyB9IGZyb20gJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZSc7XG5pbXBvcnQgeyBsaXN0U2VjdGlvbnMgfSBmcm9tICdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZSc7XG5pbXBvcnQgeyBub3RGb3VuZCB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZScpO1xuamVzdC5tb2NrKCdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZScpO1xuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICBub3RGb3VuZDogamVzdC5mbigpLFxufSkpO1xuamVzdC5tb2NrKCdAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqcycsICgpID0+ICh7XG4gIGNyZWF0ZVNlcnZlckNvbXBvbmVudENsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGZyb206IGplc3QuZm4oKSxcbiAgfSkpLFxufSkpO1xuamVzdC5tb2NrKCduZXh0L2hlYWRlcnMnLCAoKSA9PiAoe1xuICBjb29raWVzOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgU2VjdGlvblJlbmRlcmVyIGNvbXBvbmVudFxuamVzdC5tb2NrKCdAL2NvbXBvbmVudHMvZ3Vlc3QvU2VjdGlvblJlbmRlcmVyJywgKCkgPT4gKHtcbiAgU2VjdGlvblJlbmRlcmVyOiAoeyBzZWN0aW9uIH06IGFueSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9e2BzZWN0aW9uLSR7c2VjdGlvbi5pZH1gfT5cbiAgICAgIHtzZWN0aW9uLnRpdGxlICYmIDxoMj57c2VjdGlvbi50aXRsZX08L2gyPn1cbiAgICAgIDxkaXY+U2VjdGlvbiBjb250ZW50PC9kaXY+XG4gICAgPC9kaXY+XG4gICksXG59KSk7XG5cbmNvbnN0IG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZyA9IGdldENvbnRlbnRQYWdlQnlTbHVnIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIGdldENvbnRlbnRQYWdlQnlTbHVnPjtcbmNvbnN0IG1vY2tMaXN0U2VjdGlvbnMgPSBsaXN0U2VjdGlvbnMgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgbGlzdFNlY3Rpb25zPjtcbmNvbnN0IG1vY2tOb3RGb3VuZCA9IG5vdEZvdW5kIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIG5vdEZvdW5kPjtcblxuZGVzY3JpYmUoJ0NvbnRlbnRQYWdlIFJvdXRlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JvdXRlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxsIG5vdEZvdW5kIHdoZW4gdHlwZSBpcyBub3QgXCJjdXN0b21cIicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdpbnZhbGlkJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja0dldENvbnRlbnRQYWdlQnlTbHVnKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhY2NlcHQgXCJjdXN0b21cIiB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrTm90Rm91bmQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja0dldENvbnRlbnRQYWdlQnlTbHVnKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgndGVzdC1wYWdlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250ZW50IFBhZ2UgRmV0Y2hpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBjb250ZW50IHBhZ2UgYnkgc2x1ZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAnb3VyLXN0b3J5JyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAnb3VyLXN0b3J5JyxcbiAgICAgICAgICB0aXRsZTogJ091ciBTdG9yeScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0dldENvbnRlbnRQYWdlQnlTbHVnKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnb3VyLXN0b3J5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGwgbm90Rm91bmQgd2hlbiBjb250ZW50IHBhZ2Ugbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICdub25leGlzdGVudCcgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdDb250ZW50IHBhZ2Ugbm90IGZvdW5kJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tOb3RGb3VuZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIG5vdEZvdW5kIHdoZW4gY29udGVudCBwYWdlIGlzIGRyYWZ0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICdkcmFmdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAnZHJhZnQtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdEcmFmdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdkcmFmdCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja0xpc3RTZWN0aW9ucykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlY3Rpb25zIEZldGNoaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZmV0Y2ggc2VjdGlvbnMgZm9yIHRoZSBjb250ZW50IHBhZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMTIzJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0xpc3RTZWN0aW9ucykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2N1c3RvbScsICdwYWdlLTEyMycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VjdGlvbnMgZmV0Y2ggZmFpbHVyZSBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHNlY3Rpb25zJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIG5vdCBjcmFzaCwgc2hvdWxkIHJlbmRlciB3aXRoIGVtcHR5IHNlY3Rpb25zXG4gICAgICBleHBlY3QobW9ja05vdEZvdW5kKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIGNvbnRlbnQgcGFnZSB0aXRsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ091ciBBbWF6aW5nIFN0b3J5JyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlcihyZXN1bHQgYXMgUmVhY3QuUmVhY3RFbGVtZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ091ciBBbWF6aW5nIFN0b3J5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBzZWN0aW9ucyB1c2luZyBTZWN0aW9uUmVuZGVyZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgdGl0bGU6ICdJbnRyb2R1Y3Rpb24nLFxuICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTInLFxuICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgdGl0bGU6ICdEZXRhaWxzJyxcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDEsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICByZW5kZXIocmVzdWx0IGFzIFJlYWN0LlJlYWN0RWxlbWVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlY3Rpb24tc2VjdGlvbi0xJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzZWN0aW9uLXNlY3Rpb24tMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ludHJvZHVjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RldGFpbHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGVtcHR5IHN0YXRlIHdoZW4gbm8gc2VjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKHJlc3VsdCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQpO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gY29udGVudCBhdmFpbGFibGUgZm9yIHRoaXMgcGFnZS4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIG11bHRpcGxlIHNlY3Rpb25zIGluIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIHRpdGxlOiAnRmlyc3QgU2VjdGlvbicsXG4gICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3NlY3Rpb24tMicsXG4gICAgICAgICAgICBwYWdlX3R5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgcGFnZV9pZDogJ3BhZ2UtMScsXG4gICAgICAgICAgICB0aXRsZTogJ1NlY29uZCBTZWN0aW9uJyxcbiAgICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDEsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2VjdGlvbi0zJyxcbiAgICAgICAgICAgIHBhZ2VfdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBwYWdlX2lkOiAncGFnZS0xJyxcbiAgICAgICAgICAgIHRpdGxlOiAnVGhpcmQgU2VjdGlvbicsXG4gICAgICAgICAgICBkaXNwbGF5X29yZGVyOiAyLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgcmVuZGVyKHJlc3VsdCBhcyBSZWFjdC5SZWFjdEVsZW1lbnQpO1xuICAgICAgXG4gICAgICBjb25zdCBzZWN0aW9ucyA9IHNjcmVlbi5nZXRBbGxCeVRleHQoL1NlY3Rpb24vKTtcbiAgICAgIGV4cGVjdChzZWN0aW9ucykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZpcnN0IFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdTZWNvbmQgU2VjdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RoaXJkIFNlY3Rpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FzeW5jIFBhcmFtcyBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhc3luYyBwYXJhbXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFyYW1zID0gUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogJ2N1c3RvbScsIHNsdWc6ICd0ZXN0LXBhZ2UnIH0pO1xuICAgICAgXG4gICAgICBtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgIHNsdWc6ICd0ZXN0LXBhZ2UnLFxuICAgICAgICAgIHRpdGxlOiAnVGVzdCBQYWdlJyxcbiAgICAgICAgICBzdGF0dXM6ICdwdWJsaXNoZWQnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrTGlzdFNlY3Rpb25zLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyBlcnJvclxuICAgICAgYXdhaXQgZXhwZWN0KENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pKS5yZXNvbHZlcy50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhd2FpdCBwYXJhbXMgYmVmb3JlIHVzaW5nIHRoZW0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHNsdWcgd2FzIGV4dHJhY3RlZCBjb3JyZWN0bHlcbiAgICAgIGV4cGVjdChtb2NrR2V0Q29udGVudFBhZ2VCeVNsdWcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LXBhZ2UnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIHNsdWcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ291ci1zdG9yeS0yMDI0JyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAnb3VyLXN0b3J5LTIwMjQnLFxuICAgICAgICAgIHRpdGxlOiAnT3VyIFN0b3J5IDIwMjQnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBDb250ZW50UGFnZSh7IHBhcmFtcyB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ291ci1zdG9yeS0yMDI0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBzZWN0aW9ucyBhcnJheScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6ICdjdXN0b20nLCBzbHVnOiAndGVzdC1wYWdlJyB9KTtcbiAgICAgIFxuICAgICAgbW9ja0dldENvbnRlbnRQYWdlQnlTbHVnLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGlkOiAncGFnZS0xJyxcbiAgICAgICAgICBzbHVnOiAndGVzdC1wYWdlJyxcbiAgICAgICAgICB0aXRsZTogJ1Rlc3QgUGFnZScsXG4gICAgICAgICAgc3RhdHVzOiAncHVibGlzaGVkJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgbW9ja0xpc3RTZWN0aW9ucy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbnRlbnRQYWdlKHsgcGFyYW1zIH0pO1xuICAgICAgXG4gICAgICByZW5kZXIocmVzdWx0IGFzIFJlYWN0LlJlYWN0RWxlbWVudCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdObyBjb250ZW50IGF2YWlsYWJsZSBmb3IgdGhpcyBwYWdlLicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VjdGlvbnMgd2l0aG91dCB0aXRsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiAnY3VzdG9tJywgc2x1ZzogJ3Rlc3QtcGFnZScgfSk7XG4gICAgICBcbiAgICAgIG1vY2tHZXRDb250ZW50UGFnZUJ5U2x1Zy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogJ3BhZ2UtMScsXG4gICAgICAgICAgc2x1ZzogJ3Rlc3QtcGFnZScsXG4gICAgICAgICAgdGl0bGU6ICdUZXN0IFBhZ2UnLFxuICAgICAgICAgIHN0YXR1czogJ3B1Ymxpc2hlZCcsXG4gICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIG1vY2tMaXN0U2VjdGlvbnMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgcGFnZV90eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIHBhZ2VfaWQ6ICdwYWdlLTEnLFxuICAgICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI0LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29udGVudFBhZ2UoeyBwYXJhbXMgfSk7XG4gICAgICBcbiAgICAgIHJlbmRlcihyZXN1bHQgYXMgUmVhY3QuUmVhY3RFbGVtZW50KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc2VjdGlvbi1zZWN0aW9uLTEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIm5vdEZvdW5kIiwiZm4iLCJjcmVhdGVTZXJ2ZXJDb21wb25lbnRDbGllbnQiLCJmcm9tIiwiY29va2llcyIsIlNlY3Rpb25SZW5kZXJlciIsInNlY3Rpb24iLCJkaXYiLCJkYXRhLXRlc3RpZCIsImlkIiwidGl0bGUiLCJoMiIsIm1vY2tHZXRDb250ZW50UGFnZUJ5U2x1ZyIsImdldENvbnRlbnRQYWdlQnlTbHVnIiwibW9ja0xpc3RTZWN0aW9ucyIsImxpc3RTZWN0aW9ucyIsIm1vY2tOb3RGb3VuZCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwidHlwZSIsInNsdWciLCJDb250ZW50UGFnZSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJub3QiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInN1Y2Nlc3MiLCJkYXRhIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJyZXN1bHQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJyZW5kZXIiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInBhZ2VfdHlwZSIsInBhZ2VfaWQiLCJkaXNwbGF5X29yZGVyIiwiZ2V0QnlUZXN0SWQiLCJzZWN0aW9ucyIsImdldEFsbEJ5VGV4dCIsInRvSGF2ZUxlbmd0aCIsInJlc29sdmVzIiwidG9CZURlZmluZWQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Q0FNQztBQVFELG9CQUFvQjtBQUNwQkEsS0FBS0MsSUFBSSxDQUFDO0FBQ1ZELEtBQUtDLElBQUksQ0FBQztBQUNWRCxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsVUFBVUYsS0FBS0csRUFBRTtJQUNuQixDQUFBO0FBQ0FILEtBQUtDLElBQUksQ0FBQyxpQ0FBaUMsSUFBTyxDQUFBO1FBQ2hERyw2QkFBNkJKLEtBQUtHLEVBQUUsQ0FBQyxJQUFPLENBQUE7Z0JBQzFDRSxNQUFNTCxLQUFLRyxFQUFFO1lBQ2YsQ0FBQTtJQUNGLENBQUE7QUFDQUgsS0FBS0MsSUFBSSxDQUFDLGdCQUFnQixJQUFPLENBQUE7UUFDL0JLLFNBQVNOLEtBQUtHLEVBQUU7SUFDbEIsQ0FBQTtBQUVBLGlDQUFpQztBQUNqQ0gsS0FBS0MsSUFBSSxDQUFDLHNDQUFzQyxJQUFPLENBQUE7UUFDckRNLGlCQUFpQixDQUFDLEVBQUVDLE9BQU8sRUFBTyxpQkFDaEMsc0JBQUNDO2dCQUFJQyxlQUFhLENBQUMsUUFBUSxFQUFFRixRQUFRRyxFQUFFLEVBQUU7O29CQUN0Q0gsUUFBUUksS0FBSyxrQkFBSSxxQkFBQ0M7a0NBQUlMLFFBQVFJLEtBQUs7O2tDQUNwQyxxQkFBQ0g7a0NBQUk7Ozs7SUFHWCxDQUFBOzs7Ozt1QkE3QitCOzZEQUNQO3FDQUNhO2lDQUNSOzRCQUNKOzs7Ozs7QUEyQnpCLE1BQU1LLDJCQUEyQkMseUNBQW9CO0FBQ3JELE1BQU1DLG1CQUFtQkMsNkJBQVk7QUFDckMsTUFBTUMsZUFBZWhCLG9CQUFRO0FBRTdCaUIsU0FBUyxxQkFBcUI7SUFDNUJDLFdBQVc7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