{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/guest/ItineraryViewer.test.tsx"],"sourcesContent":["import { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { ItineraryViewer } from './ItineraryViewer';\nimport * as itineraryService from '@/services/itineraryService';\n\njest.mock('@/services/itineraryService');\n\ndescribe('ItineraryViewer', () => {\n  const mockGuest = {\n    id: 'guest-1',\n    first_name: 'John',\n    last_name: 'Doe',\n    email: 'john@example.com',\n  };\n\n  const mockItinerary = {\n    guest_id: 'guest-1',\n    guest_name: 'John Doe',\n    events: [\n      {\n        id: 'event-1',\n        name: 'Wedding Ceremony',\n        type: 'event' as const,\n        date: '2025-06-15',\n        time: '2025-06-15T14:00:00Z',\n        location: 'Beach Resort',\n        description: 'Main ceremony',\n        rsvp_status: 'attending',\n        capacity: 100,\n        attending_count: 95,\n        rsvp_deadline: '2025-06-01',\n      },\n      {\n        id: 'event-2',\n        name: 'Reception',\n        type: 'event' as const,\n        date: '2025-06-15',\n        time: '2025-06-15T18:00:00Z',\n        location: 'Beach Resort',\n        rsvp_status: 'pending',\n      },\n    ],\n    accommodation: {\n      accommodation_name: 'Beach Resort',\n      room_type: 'Deluxe Ocean View',\n      check_in: '2025-06-14',\n      check_out: '2025-06-16',\n    },\n    transportation: {\n      airport_code: 'SJO',\n      arrival_date: '2025-06-14T10:00:00Z',\n      departure_date: '2025-06-16T15:00:00Z',\n    },\n    generated_at: '2025-01-01T00:00:00Z',\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (itineraryService.generateItinerary as jest.Mock).mockResolvedValue({\n      success: true,\n      data: mockItinerary,\n    });\n    (itineraryService.getCachedItinerary as jest.Mock).mockResolvedValue({\n      success: false,\n      error: { code: 'NOT_FOUND', message: 'No cache' },\n    });\n    (itineraryService.cacheItinerary as jest.Mock).mockResolvedValue({\n      success: true,\n      data: undefined,\n    });\n  });\n\n  describe('View Modes', () => {\n    it('should render day-by-day view by default', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      // Day-by-day button should be active\n      const dayByDayButton = screen.getByText('ðŸ“… Day-by-Day');\n      expect(dayByDayButton).toHaveClass('bg-white');\n    });\n\n    it('should switch to calendar view when calendar button clicked', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const calendarButton = screen.getByText('ðŸ“† Calendar');\n      fireEvent.click(calendarButton);\n\n      // Calendar button should be active\n      expect(calendarButton).toHaveClass('bg-white');\n      \n      // Should show calendar view text\n      expect(screen.getByText(/Calendar view showing events by month/i)).toBeInTheDocument();\n    });\n\n    it('should switch to list view when list button clicked', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const listButton = screen.getByText('ðŸ“‹ List');\n      fireEvent.click(listButton);\n\n      // List button should be active\n      expect(listButton).toHaveClass('bg-white');\n      \n      // Events should still be visible in list format\n      expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n    });\n  });\n\n  describe('Date Filtering', () => {\n    it('should filter events by from date', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const fromInput = screen.getByLabelText('From:');\n      fireEvent.change(fromInput, { target: { value: '2025-06-16' } });\n\n      await waitFor(() => {\n        expect(screen.queryByText('Wedding Ceremony')).not.toBeInTheDocument();\n      });\n    });\n\n    it('should filter events by to date', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const toInput = screen.getByLabelText('To:');\n      fireEvent.change(toInput, { target: { value: '2025-06-14' } });\n\n      await waitFor(() => {\n        expect(screen.queryByText('Wedding Ceremony')).not.toBeInTheDocument();\n      });\n    });\n\n    it('should clear date filters when clear button clicked', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const fromInput = screen.getByLabelText('From:');\n      fireEvent.change(fromInput, { target: { value: '2025-06-16' } });\n\n      await waitFor(() => {\n        expect(screen.queryByText('Wedding Ceremony')).not.toBeInTheDocument();\n      });\n\n      const clearButton = screen.getByText('Clear');\n      fireEvent.click(clearButton);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('PDF Export', () => {\n    it('should call PDF export API when export button clicked', async () => {\n      global.fetch = jest.fn().mockResolvedValue({\n        ok: true,\n        blob: jest.fn().mockResolvedValue(new Blob(['pdf content'])),\n      });\n\n      global.URL.createObjectURL = jest.fn().mockReturnValue('blob:mock-url');\n      global.URL.revokeObjectURL = jest.fn();\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const exportButton = screen.getByText('ðŸ“„ Export PDF');\n      fireEvent.click(exportButton);\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith('/api/guest/itinerary/pdf');\n      });\n    });\n  });\n\n  describe('Capacity Warnings', () => {\n    it('should display capacity warning when < 10% remaining', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      // Event has 95/100 capacity (5% remaining)\n      expect(screen.getByText('âš ï¸ 5 spots left')).toBeInTheDocument();\n    });\n\n    it('should display full warning when capacity = 0', async () => {\n      const fullItinerary = {\n        ...mockItinerary,\n        events: [\n          {\n            ...mockItinerary.events[0],\n            capacity: 100,\n            attending_count: 100,\n          },\n        ],\n      };\n\n      (itineraryService.generateItinerary as jest.Mock).mockResolvedValue({\n        success: true,\n        data: fullItinerary,\n      });\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('âš ï¸ Full')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Deadline Alerts', () => {\n    it('should display deadline alert when < 7 days remaining', async () => {\n      // Mock current date to be 6 days before deadline\n      const mockDate = new Date('2025-05-26');\n      jest.spyOn(global, 'Date').mockImplementation(() => mockDate as any);\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('â° 6 days left')).toBeInTheDocument();\n      });\n\n      jest.restoreAllMocks();\n    });\n  });\n\n  describe('Quick RSVP Links', () => {\n    it('should display \"RSVP Now\" link for pending events', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Reception')).toBeInTheDocument();\n      });\n\n      const rsvpLink = screen.getByText('RSVP Now â†’');\n      expect(rsvpLink).toHaveAttribute('href', '/guest/events/event-2/rsvp');\n    });\n\n    it('should display \"Update RSVP\" link for attending events', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      const updateLink = screen.getByText('Update RSVP â†’');\n      expect(updateLink).toHaveAttribute('href', '/guest/events/event-1/rsvp');\n    });\n  });\n\n  describe('Offline Mode', () => {\n    it('should display offline notice when offline', async () => {\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      // Simulate going offline\n      fireEvent(window, new Event('offline'));\n\n      await waitFor(() => {\n        expect(screen.getByText('ðŸ“¡ Offline Mode')).toBeInTheDocument();\n      });\n    });\n\n    it('should load from cache when available', async () => {\n      (itineraryService.getCachedItinerary as jest.Mock).mockResolvedValue({\n        success: true,\n        data: mockItinerary,\n      });\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Wedding Ceremony')).toBeInTheDocument();\n      });\n\n      expect(itineraryService.getCachedItinerary).toHaveBeenCalledWith('guest-1');\n    });\n  });\n\n  describe('Loading and Error States', () => {\n    it('should display loading spinner while fetching itinerary', () => {\n      (itineraryService.generateItinerary as jest.Mock).mockImplementation(\n        () => new Promise(() => {}) // Never resolves\n      );\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      expect(screen.getByRole('status', { hidden: true })).toBeInTheDocument();\n    });\n\n    it('should display error message when itinerary fetch fails', async () => {\n      (itineraryService.generateItinerary as jest.Mock).mockResolvedValue({\n        success: false,\n        error: { code: 'DATABASE_ERROR', message: 'Failed to load itinerary' },\n      });\n\n      render(<ItineraryViewer guest={mockGuest as any} />);\n\n      await waitFor(() => {\n        expect(screen.getByText(/Failed to load itinerary/i)).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["jest","mock","describe","mockGuest","id","first_name","last_name","email","mockItinerary","guest_id","guest_name","events","name","type","date","time","location","description","rsvp_status","capacity","attending_count","rsvp_deadline","accommodation","accommodation_name","room_type","check_in","check_out","transportation","airport_code","arrival_date","departure_date","generated_at","beforeEach","clearAllMocks","itineraryService","generateItinerary","mockResolvedValue","success","data","getCachedItinerary","error","code","message","cacheItinerary","undefined","it","render","ItineraryViewer","guest","waitFor","expect","screen","getByText","toBeInTheDocument","dayByDayButton","toHaveClass","calendarButton","fireEvent","click","listButton","fromInput","getByLabelText","change","target","value","queryByText","not","toInput","clearButton","global","fetch","fn","ok","blob","Blob","URL","createObjectURL","mockReturnValue","revokeObjectURL","exportButton","toHaveBeenCalledWith","fullItinerary","mockDate","Date","spyOn","mockImplementation","restoreAllMocks","rsvpLink","toHaveAttribute","updateLink","window","Event","Promise","getByRole","hidden"],"mappings":"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"}