dcae622f16ee94e7d885d8121f771734
/**
 * Section Editor Preview Integration Tests
 * 
 * Tests the preview functionality in the section editor, including:
 * - Preview toggle (expand/collapse)
 * - Preview updates when content changes
 * - Preview with rich text content
 * - Preview with photo galleries
 * - Preview with references
 * - Preview with 1-column and 2-column layouts
 * - Preview with multiple sections
 * - Preview with empty sections
 * 
 * **Validates: Requirements 4.2** (E2E Critical Path Testing - Section Management Flow)
 */ "use strict";
// Mock Next.js Image component
jest.mock('next/image', ()=>({
        __esModule: true,
        default: (props)=>{
            // eslint-disable-next-line @next/next/no-img-element, jsx-a11y/alt-text
            return /*#__PURE__*/ _react.default.createElement('img', props);
        }
    }));
// Mock dynamic imports
jest.mock('next/dynamic', ()=>({
        __esModule: true,
        default: (fn)=>{
            const Component = fn().then((mod)=>mod.default || mod);
            return Component;
        }
    }));
// Mock PhotoPicker
jest.mock('@/components/admin/PhotoPicker', ()=>({
        PhotoPicker: (props)=>{
            const { selectedPhotoIds, onSelectionChange } = props;
            return /*#__PURE__*/ _react.default.createElement('div', {
                'data-testid': 'photo-picker'
            }, /*#__PURE__*/ _react.default.createElement('div', null, `Selected: ${selectedPhotoIds.length} photos`), /*#__PURE__*/ _react.default.createElement('button', {
                onClick: ()=>onSelectionChange([
                        'photo-1',
                        'photo-2'
                    ])
            }, 'Add Photos'));
        }
    }));
// Mock RichTextEditor
jest.mock('@/components/admin/RichTextEditor', ()=>({
        RichTextEditor: (props)=>{
            const { value, onChange } = props;
            return /*#__PURE__*/ _react.default.createElement('textarea', {
                'data-testid': 'rich-text-editor',
                value,
                onChange: (e)=>onChange(e.target.value),
                placeholder: 'Start typing...'
            });
        }
    }));
// Mock PhotoGallerySkeleton
jest.mock('@/components/admin/PhotoGallerySkeleton', ()=>({
        PhotoGallerySkeleton: ()=>/*#__PURE__*/ _react.default.createElement('div', {
                'data-testid': 'photo-gallery-skeleton'
            }, 'Loading...')
    }));
// Mock Button component
jest.mock('@/components/ui/Button', ()=>({
        Button: (props)=>{
            const { children, onClick, disabled, ...rest } = props;
            return /*#__PURE__*/ _react.default.createElement('button', {
                onClick,
                disabled,
                ...rest
            }, children);
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _SectionEditor = require("../../components/admin/SectionEditor");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
describe('Section Editor Preview Integration Tests', ()=>{
    let mockFetch;
    beforeEach(()=>{
        mockFetch = jest.fn();
        global.fetch = mockFetch;
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Preview Toggle (expand/collapse)', ()=>{
        it('should show preview section collapsed by default', async ()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            // Preview content should not be visible initially
            expect(_react1.screen.queryByText('No sections to preview')).not.toBeInTheDocument();
        });
        it('should expand preview when clicked', async ()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            // Click to expand
            const previewButton = _react1.screen.getByText('Guest Preview');
            _react1.fireEvent.click(previewButton);
            // Preview content should now be visible
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('No sections to preview')).toBeInTheDocument();
            });
        });
        it('should collapse preview when clicked again', async ()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            const previewButton = _react1.screen.getByText('Guest Preview');
            // Expand
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('No sections to preview')).toBeInTheDocument();
            });
            // Collapse
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.queryByText('No sections to preview')).not.toBeInTheDocument();
            });
        });
        it('should show arrow indicator for expand/collapse state', async ()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                const previewButton = _react1.screen.getByText('Guest Preview');
                expect(previewButton.parentElement).toHaveTextContent('▶');
            });
            // Click to expand
            const previewButton = _react1.screen.getByText('Guest Preview');
            _react1.fireEvent.click(previewButton);
            await (0, _react1.waitFor)(()=>{
                expect(previewButton.parentElement).toHaveTextContent('▼');
            });
        });
    });
    describe('Preview with Rich Text Content', ()=>{
        it('should display rich text content in preview', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                title: 'Test Section',
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>This is <strong>rich text</strong> content</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            // Expand preview
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            // Should display rich text content
            await (0, _react1.waitFor)(()=>{
                const preview = _react1.screen.getByText(/This is/);
                expect(preview).toBeInTheDocument();
                expect(preview.innerHTML).toContain('<strong>rich text</strong>');
            });
        });
        it('should handle empty rich text content', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: ''
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Section 1')).toBeInTheDocument();
            });
        });
    });
    describe('Preview with Photo Galleries', ()=>{
        it('should display photo gallery preview with photos', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1',
                                'photo-2'
                            ],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            // Mock sections API
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            // Mock photo API calls
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-1',
                            photo_url: 'https://example.com/photo1.jpg',
                            caption: 'Test Photo'
                        }
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            // Should fetch photos for preview
            await (0, _react1.waitFor)(()=>{
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/photos/photo-1');
                expect(mockFetch).toHaveBeenCalledWith('/api/admin/photos/photo-2');
            });
        });
        it('should display gallery mode indicator', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1'
                            ],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-1',
                            photo_url: 'https://example.com/photo1.jpg'
                        }
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/Display Mode: Gallery Grid/i)).toBeInTheDocument();
            });
        });
        it('should display carousel mode indicator', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1'
                            ],
                            display_mode: 'carousel'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-1',
                            photo_url: 'https://example.com/photo1.jpg'
                        }
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/Display Mode: Carousel/i)).toBeInTheDocument();
            });
        });
        it('should display loop mode indicator', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1'
                            ],
                            display_mode: 'loop'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: {
                            id: 'photo-1',
                            photo_url: 'https://example.com/photo1.jpg'
                        }
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/Display Mode: Auto-play Loop/i)).toBeInTheDocument();
            });
        });
        it('should show "No photos selected" when photo_ids is empty', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('No photos selected')).toBeInTheDocument();
            });
        });
    });
    describe('Preview with References', ()=>{
        it('should display references preview placeholder', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'references',
                        content_data: {
                            references: [
                                {
                                    type: 'event',
                                    id: 'event-1',
                                    name: 'Wedding Ceremony'
                                }
                            ]
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('[References Preview]')).toBeInTheDocument();
            });
        });
        it('should handle empty references', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'references',
                        content_data: {
                            references: []
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('[References Preview]')).toBeInTheDocument();
            });
        });
    });
    describe('Preview with 1-Column Layout', ()=>{
        it('should display single column in preview', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Single column content</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                const preview = _react1.screen.getByText('Single column content');
                expect(preview).toBeInTheDocument();
                // Check that it's in a single-column grid
                const gridContainer = preview.closest('.grid');
                expect(gridContainer).toHaveClass('grid-cols-1');
            });
        });
        it('should display full-width content in 1-column layout', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Full width content</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Full width content')).toBeInTheDocument();
            });
        });
    });
    describe('Preview with 2-Column Layout', ()=>{
        it('should display two columns side by side in preview', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Left column</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    },
                    {
                        id: 'col-2',
                        section_id: 'section-1',
                        column_number: 2,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Right column</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Left column')).toBeInTheDocument();
                expect(_react1.screen.getByText('Right column')).toBeInTheDocument();
                // Check that it's in a two-column grid
                const leftColumn = _react1.screen.getByText('Left column');
                const gridContainer = leftColumn.closest('.grid');
                expect(gridContainer).toHaveClass('grid-cols-2');
            });
        });
        it('should display mixed content types in 2-column layout', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Text content</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    },
                    {
                        id: 'col-2',
                        section_id: 'section-1',
                        column_number: 2,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Text content')).toBeInTheDocument();
                expect(_react1.screen.getByText('No photos selected')).toBeInTheDocument();
            });
        });
    });
    describe('Preview with Multiple Sections', ()=>{
        it('should display all sections in preview', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    page_type: 'activity',
                    page_id: 'activity-1',
                    display_order: 0,
                    title: 'First Section',
                    columns: [
                        {
                            id: 'col-1',
                            section_id: 'section-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>First section content</p>'
                            },
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        }
                    ],
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                {
                    id: 'section-2',
                    page_type: 'activity',
                    page_id: 'activity-1',
                    display_order: 1,
                    title: 'Second Section',
                    columns: [
                        {
                            id: 'col-2',
                            section_id: 'section-2',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Second section content</p>'
                            },
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        }
                    ],
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                }
            ];
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Section 1')).toBeInTheDocument();
                expect(_react1.screen.getByText('Section 2')).toBeInTheDocument();
                expect(_react1.screen.getByText('First section content')).toBeInTheDocument();
                expect(_react1.screen.getByText('Second section content')).toBeInTheDocument();
            });
        });
        it('should display sections in correct order', async ()=>{
            const mockSections = [
                {
                    id: 'section-1',
                    page_type: 'activity',
                    page_id: 'activity-1',
                    display_order: 0,
                    columns: [
                        {
                            id: 'col-1',
                            section_id: 'section-1',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>First</p>'
                            },
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        }
                    ],
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                {
                    id: 'section-2',
                    page_type: 'activity',
                    page_id: 'activity-1',
                    display_order: 1,
                    columns: [
                        {
                            id: 'col-2',
                            section_id: 'section-2',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Second</p>'
                            },
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        }
                    ],
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                },
                {
                    id: 'section-3',
                    page_type: 'activity',
                    page_id: 'activity-1',
                    display_order: 2,
                    columns: [
                        {
                            id: 'col-3',
                            section_id: 'section-3',
                            column_number: 1,
                            content_type: 'rich_text',
                            content_data: {
                                html: '<p>Third</p>'
                            },
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        }
                    ],
                    created_at: new Date().toISOString(),
                    updated_at: new Date().toISOString()
                }
            ];
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: mockSections
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                const sections = _react1.screen.getAllByText(/Section \d/);
                expect(sections).toHaveLength(3);
                expect(sections[0]).toHaveTextContent('Section 1');
                expect(sections[1]).toHaveTextContent('Section 2');
                expect(sections[2]).toHaveTextContent('Section 3');
            });
        });
    });
    describe('Preview with Empty Sections', ()=>{
        it('should display "No sections to preview" when no sections exist', async ()=>{
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: []
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('No sections to preview')).toBeInTheDocument();
            });
        });
        it('should handle sections with empty content gracefully', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: ''
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Section 1')).toBeInTheDocument();
            });
        });
        it('should handle sections with null content_data', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: null,
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Section 1')).toBeInTheDocument();
            });
        });
    });
    describe('Preview Updates When Content Changes', ()=>{
        it('should update preview when section content is modified', async ()=>{
            const initialSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Initial content</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            const updatedSection = {
                ...initialSection,
                columns: [
                    {
                        ...initialSection.columns[0],
                        content_data: {
                            html: '<p>Updated content</p>'
                        }
                    }
                ]
            };
            // Initial load
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            initialSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Initial content')).toBeInTheDocument();
            });
            // Simulate content update
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: updatedSection
                    })
            });
        // The preview should reflect the updated content
        // Note: In the actual implementation, this would happen through state updates
        });
        it('should update preview when photos are added to gallery', async ()=>{
            const sectionWithoutPhotos = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            sectionWithoutPhotos
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('No photos selected')).toBeInTheDocument();
            });
        });
        it('should update preview when layout changes from 1 to 2 columns', async ()=>{
            const oneColumnSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'rich_text',
                        content_data: {
                            html: '<p>Single column</p>'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValue({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            oneColumnSection
                        ]
                    })
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                const content = _react1.screen.getByText('Single column');
                const gridContainer = content.closest('.grid');
                expect(gridContainer).toHaveClass('grid-cols-1');
            });
        });
    });
    describe('Preview Error Handling', ()=>{
        it('should handle API errors gracefully', async ()=>{
            mockFetch.mockRejectedValue(new Error('Network error'));
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            consoleSpy.mockRestore();
        });
        it('should handle failed photo fetches in preview', async ()=>{
            const mockSection = {
                id: 'section-1',
                page_type: 'activity',
                page_id: 'activity-1',
                display_order: 0,
                columns: [
                    {
                        id: 'col-1',
                        section_id: 'section-1',
                        column_number: 1,
                        content_type: 'photo_gallery',
                        content_data: {
                            photo_ids: [
                                'photo-1'
                            ],
                            display_mode: 'gallery'
                        },
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    }
                ],
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true,
                        data: [
                            mockSection
                        ]
                    })
            });
            mockFetch.mockRejectedValue(new Error('Photo fetch failed'));
            const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                pageType: "activity",
                pageId: "activity-1"
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Guest Preview')).toBeInTheDocument();
            });
            _react1.fireEvent.click(_react1.screen.getByText('Guest Preview'));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText('Section 1')).toBeInTheDocument();
            });
            consoleSpy.mockRestore();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2ludGVncmF0aW9uL3NlY3Rpb25FZGl0b3JQcmV2aWV3LmludGVncmF0aW9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VjdGlvbiBFZGl0b3IgUHJldmlldyBJbnRlZ3JhdGlvbiBUZXN0c1xuICogXG4gKiBUZXN0cyB0aGUgcHJldmlldyBmdW5jdGlvbmFsaXR5IGluIHRoZSBzZWN0aW9uIGVkaXRvciwgaW5jbHVkaW5nOlxuICogLSBQcmV2aWV3IHRvZ2dsZSAoZXhwYW5kL2NvbGxhcHNlKVxuICogLSBQcmV2aWV3IHVwZGF0ZXMgd2hlbiBjb250ZW50IGNoYW5nZXNcbiAqIC0gUHJldmlldyB3aXRoIHJpY2ggdGV4dCBjb250ZW50XG4gKiAtIFByZXZpZXcgd2l0aCBwaG90byBnYWxsZXJpZXNcbiAqIC0gUHJldmlldyB3aXRoIHJlZmVyZW5jZXNcbiAqIC0gUHJldmlldyB3aXRoIDEtY29sdW1uIGFuZCAyLWNvbHVtbiBsYXlvdXRzXG4gKiAtIFByZXZpZXcgd2l0aCBtdWx0aXBsZSBzZWN0aW9uc1xuICogLSBQcmV2aWV3IHdpdGggZW1wdHkgc2VjdGlvbnNcbiAqIFxuICogKipWYWxpZGF0ZXM6IFJlcXVpcmVtZW50cyA0LjIqKiAoRTJFIENyaXRpY2FsIFBhdGggVGVzdGluZyAtIFNlY3Rpb24gTWFuYWdlbWVudCBGbG93KVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgd2FpdEZvciwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBTZWN0aW9uRWRpdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL1NlY3Rpb25FZGl0b3InO1xuaW1wb3J0IHR5cGUgeyBTZWN0aW9uLCBDb2x1bW4gfSBmcm9tICdAL3NjaGVtYXMvY21zU2NoZW1hcyc7XG5cbi8vIE1vY2sgTmV4dC5qcyBJbWFnZSBjb21wb25lbnRcbmplc3QubW9jaygnbmV4dC9pbWFnZScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IChwcm9wczogYW55KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnQsIGpzeC1hMTF5L2FsdC10ZXh0XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHByb3BzKTtcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBkeW5hbWljIGltcG9ydHNcbmplc3QubW9jaygnbmV4dC9keW5hbWljJywgKCkgPT4gKHtcbiAgX19lc01vZHVsZTogdHJ1ZSxcbiAgZGVmYXVsdDogKGZuOiBhbnkpID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBmbigpLnRoZW4oKG1vZDogYW55KSA9PiBtb2QuZGVmYXVsdCB8fCBtb2QpO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgUGhvdG9QaWNrZXJcbmplc3QubW9jaygnQC9jb21wb25lbnRzL2FkbWluL1Bob3RvUGlja2VyJywgKCkgPT4gKHtcbiAgUGhvdG9QaWNrZXI6IChwcm9wczogYW55KSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZFBob3RvSWRzLCBvblNlbGVjdGlvbkNoYW5nZSB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgJ2RhdGEtdGVzdGlkJzogJ3Bob3RvLXBpY2tlcicgfSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG51bGwsIGBTZWxlY3RlZDogJHtzZWxlY3RlZFBob3RvSWRzLmxlbmd0aH0gcGhvdG9zYCksXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgeyBvbkNsaWNrOiAoKSA9PiBvblNlbGVjdGlvbkNoYW5nZShbJ3Bob3RvLTEnLCAncGhvdG8tMiddKSB9LFxuICAgICAgICAnQWRkIFBob3RvcydcbiAgICAgIClcbiAgICApO1xuICB9LFxufSkpO1xuXG4vLyBNb2NrIFJpY2hUZXh0RWRpdG9yXG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy9hZG1pbi9SaWNoVGV4dEVkaXRvcicsICgpID0+ICh7XG4gIFJpY2hUZXh0RWRpdG9yOiAocHJvcHM6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlIH0gPSBwcm9wcztcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnLCB7XG4gICAgICAnZGF0YS10ZXN0aWQnOiAncmljaC10ZXh0LWVkaXRvcicsXG4gICAgICB2YWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiAoZTogYW55KSA9PiBvbkNoYW5nZShlLnRhcmdldC52YWx1ZSksXG4gICAgICBwbGFjZWhvbGRlcjogJ1N0YXJ0IHR5cGluZy4uLicsXG4gICAgfSk7XG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgUGhvdG9HYWxsZXJ5U2tlbGV0b25cbmplc3QubW9jaygnQC9jb21wb25lbnRzL2FkbWluL1Bob3RvR2FsbGVyeVNrZWxldG9uJywgKCkgPT4gKHtcbiAgUGhvdG9HYWxsZXJ5U2tlbGV0b246ICgpID0+XG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2JywgeyAnZGF0YS10ZXN0aWQnOiAncGhvdG8tZ2FsbGVyeS1za2VsZXRvbicgfSwgJ0xvYWRpbmcuLi4nKSxcbn0pKTtcblxuLy8gTW9jayBCdXR0b24gY29tcG9uZW50XG5qZXN0Lm1vY2soJ0AvY29tcG9uZW50cy91aS9CdXR0b24nLCAoKSA9PiAoe1xuICBCdXR0b246IChwcm9wczogYW55KSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgb25DbGljaywgZGlzYWJsZWQsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7IG9uQ2xpY2ssIGRpc2FibGVkLCAuLi5yZXN0IH0sIGNoaWxkcmVuKTtcbiAgfSxcbn0pKTtcblxuZGVzY3JpYmUoJ1NlY3Rpb24gRWRpdG9yIFByZXZpZXcgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGxldCBtb2NrRmV0Y2g6IGplc3QuTW9jaztcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrRmV0Y2ggPSBqZXN0LmZuKCk7XG4gICAgZ2xvYmFsLmZldGNoID0gbW9ja0ZldGNoO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJldmlldyBUb2dnbGUgKGV4cGFuZC9jb2xsYXBzZSknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzaG93IHByZXZpZXcgc2VjdGlvbiBjb2xsYXBzZWQgYnkgZGVmYXVsdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByZXZpZXcgY29udGVudCBzaG91bGQgbm90IGJlIHZpc2libGUgaW5pdGlhbGx5XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdObyBzZWN0aW9ucyB0byBwcmV2aWV3JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBleHBhbmQgcHJldmlldyB3aGVuIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW10gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDbGljayB0byBleHBhbmRcbiAgICAgIGNvbnN0IHByZXZpZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG5cbiAgICAgIC8vIFByZXZpZXcgY29udGVudCBzaG91bGQgbm93IGJlIHZpc2libGVcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2VjdGlvbnMgdG8gcHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbGxhcHNlIHByZXZpZXcgd2hlbiBjbGlja2VkIGFnYWluJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcHJldmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKTtcblxuICAgICAgLy8gRXhwYW5kXG4gICAgICBmaXJlRXZlbnQuY2xpY2socHJldmlld0J1dHRvbik7XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHNlY3Rpb25zIHRvIHByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb2xsYXBzZVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHByZXZpZXdCdXR0b24pO1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ05vIHNlY3Rpb25zIHRvIHByZXZpZXcnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBhcnJvdyBpbmRpY2F0b3IgZm9yIGV4cGFuZC9jb2xsYXBzZSBzdGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpO1xuICAgICAgICBleHBlY3QocHJldmlld0J1dHRvbi5wYXJlbnRFbGVtZW50KS50b0hhdmVUZXh0Q29udGVudCgn4pa2Jyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xpY2sgdG8gZXhwYW5kXG4gICAgICBjb25zdCBwcmV2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHByZXZpZXdCdXR0b24pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHByZXZpZXdCdXR0b24ucGFyZW50RWxlbWVudCkudG9IYXZlVGV4dENvbnRlbnQoJ+KWvCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IHdpdGggUmljaCBUZXh0IENvbnRlbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHJpY2ggdGV4dCBjb250ZW50IGluIHByZXZpZXcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFNlY3Rpb24nLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UaGlzIGlzIDxzdHJvbmc+cmljaCB0ZXh0PC9zdHJvbmc+IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrU2VjdGlvbl0gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFeHBhbmQgcHJldmlld1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIC8vIFNob3VsZCBkaXNwbGF5IHJpY2ggdGV4dCBjb250ZW50XG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IHNjcmVlbi5nZXRCeVRleHQoL1RoaXMgaXMvKTtcbiAgICAgICAgZXhwZWN0KHByZXZpZXcpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmlubmVySFRNTCkudG9Db250YWluKCc8c3Ryb25nPnJpY2ggdGV4dDwvc3Ryb25nPicpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSByaWNoIHRleHQgY29udGVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICcnIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tTZWN0aW9uXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IHdpdGggUGhvdG8gR2FsbGVyaWVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBwaG90byBnYWxsZXJ5IHByZXZpZXcgd2l0aCBwaG90b3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncGhvdG9fZ2FsbGVyeScsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHtcbiAgICAgICAgICAgICAgcGhvdG9faWRzOiBbJ3Bob3RvLTEnLCAncGhvdG8tMiddLFxuICAgICAgICAgICAgICBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIHNlY3Rpb25zIEFQSVxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgcGhvdG8gQVBJIGNhbGxzXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGlkOiAncGhvdG8tMScsXG4gICAgICAgICAgICBwaG90b191cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3Bob3RvMS5qcGcnLFxuICAgICAgICAgICAgY2FwdGlvbjogJ1Rlc3QgUGhvdG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIC8vIFNob3VsZCBmZXRjaCBwaG90b3MgZm9yIHByZXZpZXdcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hZG1pbi9waG90b3MvcGhvdG8tMScpO1xuICAgICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS9hZG1pbi9waG90b3MvcGhvdG8tMicpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgZ2FsbGVyeSBtb2RlIGluZGljYXRvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YToge1xuICAgICAgICAgICAgICBwaG90b19pZHM6IFsncGhvdG8tMSddLFxuICAgICAgICAgICAgICBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrU2VjdGlvbl0gfSksXG4gICAgICB9KTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpZDogJ3Bob3RvLTEnLFxuICAgICAgICAgICAgcGhvdG9fdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9waG90bzEuanBnJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0Rpc3BsYXkgTW9kZTogR2FsbGVyeSBHcmlkL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgY2Fyb3VzZWwgbW9kZSBpbmRpY2F0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncGhvdG9fZ2FsbGVyeScsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHtcbiAgICAgICAgICAgICAgcGhvdG9faWRzOiBbJ3Bob3RvLTEnXSxcbiAgICAgICAgICAgICAgZGlzcGxheV9tb2RlOiAnY2Fyb3VzZWwnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tTZWN0aW9uXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGlkOiAncGhvdG8tMScsXG4gICAgICAgICAgICBwaG90b191cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3Bob3RvMS5qcGcnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvRGlzcGxheSBNb2RlOiBDYXJvdXNlbC9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGxvb3AgbW9kZSBpbmRpY2F0b3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncGhvdG9fZ2FsbGVyeScsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHtcbiAgICAgICAgICAgICAgcGhvdG9faWRzOiBbJ3Bob3RvLTEnXSxcbiAgICAgICAgICAgICAgZGlzcGxheV9tb2RlOiAnbG9vcCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaWQ6ICdwaG90by0xJyxcbiAgICAgICAgICAgIHBob3RvX3VybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vcGhvdG8xLmpwZycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9EaXNwbGF5IE1vZGU6IEF1dG8tcGxheSBMb29wL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgXCJObyBwaG90b3Mgc2VsZWN0ZWRcIiB3aGVuIHBob3RvX2lkcyBpcyBlbXB0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YToge1xuICAgICAgICAgICAgICBwaG90b19pZHM6IFtdLFxuICAgICAgICAgICAgICBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tTZWN0aW9uXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHBob3RvcyBzZWxlY3RlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IHdpdGggUmVmZXJlbmNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgcmVmZXJlbmNlcyBwcmV2aWV3IHBsYWNlaG9sZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb24gPSB7XG4gICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JlZmVyZW5jZXMnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7XG4gICAgICAgICAgICAgIHJlZmVyZW5jZXM6IFtcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdldmVudCcsIGlkOiAnZXZlbnQtMScsIG5hbWU6ICdXZWRkaW5nIENlcmVtb255JyB9LFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnW1JlZmVyZW5jZXMgUHJldmlld10nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgcmVmZXJlbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyZWZlcmVuY2VzJyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyByZWZlcmVuY2VzOiBbXSB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrU2VjdGlvbl0gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdbUmVmZXJlbmNlcyBQcmV2aWV3XScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IHdpdGggMS1Db2x1bW4gTGF5b3V0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBzaW5nbGUgY29sdW1uIGluIHByZXZpZXcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+U2luZ2xlIGNvbHVtbiBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gc2NyZWVuLmdldEJ5VGV4dCgnU2luZ2xlIGNvbHVtbiBjb250ZW50Jyk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBpdCdzIGluIGEgc2luZ2xlLWNvbHVtbiBncmlkXG4gICAgICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBwcmV2aWV3LmNsb3Nlc3QoJy5ncmlkJyk7XG4gICAgICAgIGV4cGVjdChncmlkQ29udGFpbmVyKS50b0hhdmVDbGFzcygnZ3JpZC1jb2xzLTEnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGZ1bGwtd2lkdGggY29udGVudCBpbiAxLWNvbHVtbiBsYXlvdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+RnVsbCB3aWR0aCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRnVsbCB3aWR0aCBjb250ZW50JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ByZXZpZXcgd2l0aCAyLUNvbHVtbiBMYXlvdXQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHR3byBjb2x1bW5zIHNpZGUgYnkgc2lkZSBpbiBwcmV2aWV3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb24gPSB7XG4gICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkxlZnQgY29sdW1uPC9wPicgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTInLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAyLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+UmlnaHQgY29sdW1uPC9wPicgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGVmdCBjb2x1bW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1JpZ2h0IGNvbHVtbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBpdCdzIGluIGEgdHdvLWNvbHVtbiBncmlkXG4gICAgICAgIGNvbnN0IGxlZnRDb2x1bW4gPSBzY3JlZW4uZ2V0QnlUZXh0KCdMZWZ0IGNvbHVtbicpO1xuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gbGVmdENvbHVtbi5jbG9zZXN0KCcuZ3JpZCcpO1xuICAgICAgICBleHBlY3QoZ3JpZENvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ2dyaWQtY29scy0yJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBtaXhlZCBjb250ZW50IHR5cGVzIGluIDItY29sdW1uIGxheW91dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5UZXh0IGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMicsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDIsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBwaG90b19pZHM6IFtdLCBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JyB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFttb2NrU2VjdGlvbl0gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXh0IGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ05vIHBob3RvcyBzZWxlY3RlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IHdpdGggTXVsdGlwbGUgU2VjdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGFsbCBzZWN0aW9ucyBpbiBwcmV2aWV3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb25zID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgICB0aXRsZTogJ0ZpcnN0IFNlY3Rpb24nLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkZpcnN0IHNlY3Rpb24gY29udGVudDwvcD4nIH0sXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMicsXG4gICAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAxLFxuICAgICAgICAgIHRpdGxlOiAnU2Vjb25kIFNlY3Rpb24nLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMicsXG4gICAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTInLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPlNlY29uZCBzZWN0aW9uIGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAyJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGaXJzdCBzZWN0aW9uIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY29uZCBzZWN0aW9uIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHNlY3Rpb25zIGluIGNvcnJlY3Qgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrU2VjdGlvbnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJzxwPkZpcnN0PC9wPicgfSxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0yJyxcbiAgICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDEsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0yJyxcbiAgICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMicsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+U2Vjb25kPC9wPicgfSxcbiAgICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2VjdGlvbi0zJyxcbiAgICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IDIsXG4gICAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogJ2NvbC0zJyxcbiAgICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMycsXG4gICAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VGhpcmQ8L3A+JyB9LFxuICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1vY2tTZWN0aW9ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9TZWN0aW9uIFxcZC8pO1xuICAgICAgICBleHBlY3Qoc2VjdGlvbnMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgICAgZXhwZWN0KHNlY3Rpb25zWzBdKS50b0hhdmVUZXh0Q29udGVudCgnU2VjdGlvbiAxJyk7XG4gICAgICAgIGV4cGVjdChzZWN0aW9uc1sxXSkudG9IYXZlVGV4dENvbnRlbnQoJ1NlY3Rpb24gMicpO1xuICAgICAgICBleHBlY3Qoc2VjdGlvbnNbMl0pLnRvSGF2ZVRleHRDb250ZW50KCdTZWN0aW9uIDMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJldmlldyB3aXRoIEVtcHR5IFNlY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBcIk5vIHNlY3Rpb25zIHRvIHByZXZpZXdcIiB3aGVuIG5vIHNlY3Rpb25zIGV4aXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtdIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gc2VjdGlvbnMgdG8gcHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWN0aW9ucyB3aXRoIGVtcHR5IGNvbnRlbnQgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICcnIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tTZWN0aW9uXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWN0aW9ucyB3aXRoIG51bGwgY29udGVudF9kYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1NlY3Rpb24gPSB7XG4gICAgICAgIGlkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgcGFnZV90eXBlOiAnYWN0aXZpdHknLFxuICAgICAgICBwYWdlX2lkOiAnYWN0aXZpdHktMScsXG4gICAgICAgIGRpc3BsYXlfb3JkZXI6IDAsXG4gICAgICAgIGNvbHVtbnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2NvbC0xJyxcbiAgICAgICAgICAgIHNlY3Rpb25faWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IG51bGwsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW21vY2tTZWN0aW9uXSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFNlY3Rpb25FZGl0b3IgcGFnZVR5cGU9XCJhY3Rpdml0eVwiIHBhZ2VJZD1cImFjdGl2aXR5LTFcIiAvPik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NlY3Rpb24gMScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQcmV2aWV3IFVwZGF0ZXMgV2hlbiBDb250ZW50IENoYW5nZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgcHJldmlldyB3aGVuIHNlY3Rpb24gY29udGVudCBpcyBtb2RpZmllZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiB7IGh0bWw6ICc8cD5Jbml0aWFsIGNvbnRlbnQ8L3A+JyB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgdXBkYXRlZFNlY3Rpb24gPSB7XG4gICAgICAgIC4uLmluaXRpYWxTZWN0aW9uLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uaW5pdGlhbFNlY3Rpb24uY29sdW1uc1swXSxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+VXBkYXRlZCBjb250ZW50PC9wPicgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgLy8gSW5pdGlhbCBsb2FkXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IFtpbml0aWFsU2VjdGlvbl0gfSksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxTZWN0aW9uRWRpdG9yIHBhZ2VUeXBlPVwiYWN0aXZpdHlcIiBwYWdlSWQ9XCJhY3Rpdml0eS0xXCIgLz4pO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnR3Vlc3QgUHJldmlldycpKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbml0aWFsIGNvbnRlbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaW11bGF0ZSBjb250ZW50IHVwZGF0ZVxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiB1cGRhdGVkU2VjdGlvbiB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGUgcHJldmlldyBzaG91bGQgcmVmbGVjdCB0aGUgdXBkYXRlZCBjb250ZW50XG4gICAgICAvLyBOb3RlOiBJbiB0aGUgYWN0dWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGhhcHBlbiB0aHJvdWdoIHN0YXRlIHVwZGF0ZXNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHByZXZpZXcgd2hlbiBwaG90b3MgYXJlIGFkZGVkIHRvIGdhbGxlcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uV2l0aG91dFBob3RvcyA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncGhvdG9fZ2FsbGVyeScsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgcGhvdG9faWRzOiBbXSwgZGlzcGxheV9tb2RlOiAnZ2FsbGVyeScgfSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbc2VjdGlvbldpdGhvdXRQaG90b3NdIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTm8gcGhvdG9zIHNlbGVjdGVkJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHByZXZpZXcgd2hlbiBsYXlvdXQgY2hhbmdlcyBmcm9tIDEgdG8gMiBjb2x1bW5zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb25lQ29sdW1uU2VjdGlvbiA9IHtcbiAgICAgICAgaWQ6ICdzZWN0aW9uLTEnLFxuICAgICAgICBwYWdlX3R5cGU6ICdhY3Rpdml0eScsXG4gICAgICAgIHBhZ2VfaWQ6ICdhY3Rpdml0eS0xJyxcbiAgICAgICAgZGlzcGxheV9vcmRlcjogMCxcbiAgICAgICAgY29sdW1uczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29sLTEnLFxuICAgICAgICAgICAgc2VjdGlvbl9pZDogJ3NlY3Rpb24tMScsXG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiAxLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiAncmljaF90ZXh0JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnPHA+U2luZ2xlIGNvbHVtbjwvcD4nIH0sXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogW29uZUNvbHVtblNlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gc2NyZWVuLmdldEJ5VGV4dCgnU2luZ2xlIGNvbHVtbicpO1xuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gY29udGVudC5jbG9zZXN0KCcuZ3JpZCcpO1xuICAgICAgICBleHBlY3QoZ3JpZENvbnRhaW5lcikudG9IYXZlQ2xhc3MoJ2dyaWQtY29scy0xJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ByZXZpZXcgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKTtcblxuICAgICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmFpbGVkIHBob3RvIGZldGNoZXMgaW4gcHJldmlldycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tTZWN0aW9uID0ge1xuICAgICAgICBpZDogJ3NlY3Rpb24tMScsXG4gICAgICAgIHBhZ2VfdHlwZTogJ2FjdGl2aXR5JyxcbiAgICAgICAgcGFnZV9pZDogJ2FjdGl2aXR5LTEnLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiAwLFxuICAgICAgICBjb2x1bW5zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdjb2wtMScsXG4gICAgICAgICAgICBzZWN0aW9uX2lkOiAnc2VjdGlvbi0xJyxcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IDEsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdwaG90b19nYWxsZXJ5JyxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBwaG90b19pZHM6IFsncGhvdG8tMSddLCBkaXNwbGF5X21vZGU6ICdnYWxsZXJ5JyB9LFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBbbW9ja1NlY3Rpb25dIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1Bob3RvIGZldGNoIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgY29uc29sZVNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICAgIHJlbmRlcig8U2VjdGlvbkVkaXRvciBwYWdlVHlwZT1cImFjdGl2aXR5XCIgcGFnZUlkPVwiYWN0aXZpdHktMVwiIC8+KTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdHdWVzdCBQcmV2aWV3JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0d1ZXN0IFByZXZpZXcnKSk7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2VjdGlvbiAxJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwcm9wcyIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsImZuIiwiQ29tcG9uZW50IiwidGhlbiIsIm1vZCIsIlBob3RvUGlja2VyIiwic2VsZWN0ZWRQaG90b0lkcyIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwibGVuZ3RoIiwib25DbGljayIsIlJpY2hUZXh0RWRpdG9yIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsIlBob3RvR2FsbGVyeVNrZWxldG9uIiwiQnV0dG9uIiwiY2hpbGRyZW4iLCJkaXNhYmxlZCIsInJlc3QiLCJkZXNjcmliZSIsIm1vY2tGZXRjaCIsImJlZm9yZUVhY2giLCJnbG9iYWwiLCJmZXRjaCIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwib2siLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJyZW5kZXIiLCJTZWN0aW9uRWRpdG9yIiwicGFnZVR5cGUiLCJwYWdlSWQiLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInByZXZpZXdCdXR0b24iLCJmaXJlRXZlbnQiLCJjbGljayIsInBhcmVudEVsZW1lbnQiLCJ0b0hhdmVUZXh0Q29udGVudCIsIm1vY2tTZWN0aW9uIiwiaWQiLCJwYWdlX3R5cGUiLCJwYWdlX2lkIiwiZGlzcGxheV9vcmRlciIsInRpdGxlIiwiY29sdW1ucyIsInNlY3Rpb25faWQiLCJjb2x1bW5fbnVtYmVyIiwiY29udGVudF90eXBlIiwiY29udGVudF9kYXRhIiwiaHRtbCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGVkX2F0IiwicHJldmlldyIsImlubmVySFRNTCIsInRvQ29udGFpbiIsInBob3RvX2lkcyIsImRpc3BsYXlfbW9kZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInBob3RvX3VybCIsImNhcHRpb24iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInJlZmVyZW5jZXMiLCJ0eXBlIiwibmFtZSIsImdyaWRDb250YWluZXIiLCJjbG9zZXN0IiwidG9IYXZlQ2xhc3MiLCJsZWZ0Q29sdW1uIiwibW9ja1NlY3Rpb25zIiwic2VjdGlvbnMiLCJnZXRBbGxCeVRleHQiLCJ0b0hhdmVMZW5ndGgiLCJpbml0aWFsU2VjdGlvbiIsInVwZGF0ZWRTZWN0aW9uIiwic2VjdGlvbldpdGhvdXRQaG90b3MiLCJvbmVDb2x1bW5TZWN0aW9uIiwiY29udGVudCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJjb25zb2xlU3B5Iiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwibW9ja1Jlc3RvcmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7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