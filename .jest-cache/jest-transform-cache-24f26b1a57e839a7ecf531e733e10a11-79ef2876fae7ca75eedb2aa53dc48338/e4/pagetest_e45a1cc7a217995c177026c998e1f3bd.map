{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/rsvps/page.test.tsx"],"sourcesContent":["import { render, screen, waitFor } from '@testing-library/react';\nimport RSVPsPage from './page';\nimport { useToast } from '@/components/ui/ToastContext';\n\n// Mock the RSVPManager component\njest.mock('@/components/admin/RSVPManager', () => ({\n  RSVPManager: jest.fn(() => <div data-testid=\"rsvp-manager\">RSVP Manager Component</div>),\n}));\n\n// Mock the ToastContext\njest.mock('@/components/ui/ToastContext', () => ({\n  useToast: jest.fn(),\n}));\n\n// Mock the ErrorBoundary component\njest.mock('@/components/ui/ErrorBoundary', () => ({\n  ComponentErrorBoundary: ({ children }: any) => (\n    <div data-testid=\"error-boundary\">{children}</div>\n  ),\n}));\n\ndescribe('RSVPsPage', () => {\n  const mockAddToast = jest.fn();\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useToast as jest.Mock).mockReturnValue({\n      addToast: mockAddToast,\n    });\n  });\n\n  describe('Page Rendering', () => {\n    it('should render page header with title and description', () => {\n      render(<RSVPsPage />);\n\n      expect(screen.getByText('RSVP Management')).toBeInTheDocument();\n      expect(\n        screen.getByText('View and manage all RSVPs across events and activities')\n      ).toBeInTheDocument();\n    });\n\n    it('should render RSVPManager component', () => {\n      render(<RSVPsPage />);\n\n      expect(screen.getByTestId('rsvp-manager')).toBeInTheDocument();\n    });\n\n    it('should wrap RSVPManager in error boundary', () => {\n      render(<RSVPsPage />);\n\n      expect(screen.getByTestId('error-boundary')).toBeInTheDocument();\n    });\n  });\n\n  describe('Page Structure', () => {\n    it('should have proper heading hierarchy', () => {\n      render(<RSVPsPage />);\n\n      const heading = screen.getByRole('heading', { level: 1 });\n      expect(heading).toHaveTextContent('RSVP Management');\n    });\n\n    it('should apply correct styling classes', () => {\n      const { container } = render(<RSVPsPage />);\n\n      // Check for space-y-6 on main container\n      const mainContainer = container.firstChild;\n      expect(mainContainer).toHaveClass('space-y-6');\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should wrap RSVPManager in ComponentErrorBoundary', () => {\n      render(<RSVPsPage />);\n\n      expect(screen.getByTestId('error-boundary')).toBeInTheDocument();\n      expect(screen.getByTestId('rsvp-manager')).toBeInTheDocument();\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('should have accessible page title', () => {\n      render(<RSVPsPage />);\n\n      const heading = screen.getByRole('heading', { level: 1 });\n      expect(heading).toBeInTheDocument();\n      expect(heading).toHaveAccessibleName('RSVP Management');\n    });\n\n    it('should have descriptive text for screen readers', () => {\n      render(<RSVPsPage />);\n\n      const description = screen.getByText(\n        'View and manage all RSVPs across events and activities'\n      );\n      expect(description).toBeInTheDocument();\n    });\n  });\n\n  describe('Component Integration', () => {\n    it('should pass no initial filters to RSVPManager by default', () => {\n      const RSVPManager = require('@/components/admin/RSVPManager').RSVPManager;\n      \n      render(<RSVPsPage />);\n\n      // RSVPManager is called with no props (undefined)\n      expect(RSVPManager).toHaveBeenCalledWith({}, undefined);\n    });\n\n    it('should render without crashing', () => {\n      expect(() => render(<RSVPsPage />)).not.toThrow();\n    });\n  });\n\n  describe('Page Metadata', () => {\n    it('should export dynamic force-dynamic', () => {\n      const module = require('./page');\n      expect(module.dynamic).toBe('force-dynamic');\n    });\n  });\n});\n"],"names":["jest","mock","RSVPManager","fn","div","data-testid","useToast","ComponentErrorBoundary","children","describe","mockAddToast","beforeEach","clearAllMocks","mockReturnValue","addToast","it","render","RSVPsPage","expect","screen","getByText","toBeInTheDocument","getByTestId","heading","getByRole","level","toHaveTextContent","container","mainContainer","firstChild","toHaveClass","toHaveAccessibleName","description","require","toHaveBeenCalledWith","undefined","not","toThrow","module","dynamic","toBe"],"mappings":"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"}