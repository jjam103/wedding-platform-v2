30d33b964e5113111beed1e3fdd6a52d
/**
 * Property-Based Test: Navigation State Persistence
 * 
 * Feature: guest-portal-and-admin-enhancements
 * Property 2: Navigation State Persistence
 * 
 * Validates Requirements: 1.10, 20.1, 20.2, 20.3
 * 
 * Property: For any valid tab and sub-item selection, the navigation state
 * SHALL be persisted in sessionStorage and restored on page refresh.
 * 
 * Test Strategy:
 * - Generate random tab and sub-item combinations
 * - Verify state is saved to sessionStorage
 * - Simulate page refresh by clearing and restoring state
 * - Verify state is correctly restored
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fastcheck = /*#__PURE__*/ _interop_require_wildcard(require("fast-check"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Mock sessionStorage for testing
const mockSessionStorage = (()=>{
    let store = {};
    return {
        getItem: (key)=>store[key] || null,
        setItem: (key, value)=>{
            store[key] = value;
        },
        removeItem: (key)=>{
            delete store[key];
        },
        clear: ()=>{
            store = {};
        }
    };
})();
// Replace global sessionStorage with mock
Object.defineProperty(window, 'sessionStorage', {
    value: mockSessionStorage,
    writable: true
});
// Navigation structure matching TopNavigation component
const NAVIGATION_TABS = [
    {
        id: 'content',
        subItems: [
            'home-page',
            'activities',
            'events',
            'content-pages',
            'locations',
            'photos'
        ]
    },
    {
        id: 'guests',
        subItems: [
            'guest-list',
            'guest-groups',
            'import-export'
        ]
    },
    {
        id: 'rsvps',
        subItems: [
            'rsvp-analytics',
            'activity-rsvps',
            'event-rsvps',
            'deadlines'
        ]
    },
    {
        id: 'logistics',
        subItems: [
            'accommodations',
            'transportation',
            'budget',
            'vendors'
        ]
    },
    {
        id: 'admin',
        subItems: [
            'admin-users',
            'settings',
            'email-templates',
            'audit-logs'
        ]
    }
];
// Arbitrary for generating valid tab IDs
const tabIdArbitrary = _fastcheck.constantFrom('content', 'guests', 'rsvps', 'logistics', 'admin');
// Arbitrary for generating valid sub-item IDs for a given tab
const subItemIdArbitrary = (tabId)=>{
    const tab = NAVIGATION_TABS.find((t)=>t.id === tabId);
    if (!tab) return _fastcheck.constant('');
    return _fastcheck.constantFrom(...tab.subItems);
};
// Arbitrary for generating navigation state
const navigationStateArbitrary = _fastcheck.tuple(tabIdArbitrary, _fastcheck.string()).chain(([tabId])=>_fastcheck.tuple(_fastcheck.constant(tabId), subItemIdArbitrary(tabId))).map(([tabId, subItemId])=>({
        tabId,
        subItemId
    }));
describe('Feature: guest-portal-and-admin-enhancements, Property 2: Navigation State Persistence', ()=>{
    beforeEach(()=>{
        mockSessionStorage.clear();
    });
    it('should persist navigation state to sessionStorage', ()=>{
        _fastcheck.assert(_fastcheck.property(navigationStateArbitrary, ({ tabId, subItemId })=>{
            // Simulate setting navigation state
            sessionStorage.setItem('activeTab', tabId);
            sessionStorage.setItem('activeSubItem', subItemId);
            // Verify state is persisted
            const storedTab = sessionStorage.getItem('activeTab');
            const storedSubItem = sessionStorage.getItem('activeSubItem');
            expect(storedTab).toBe(tabId);
            expect(storedSubItem).toBe(subItemId);
        }), {
            numRuns: 100
        });
    });
    it('should restore navigation state from sessionStorage after page refresh', ()=>{
        _fastcheck.assert(_fastcheck.property(navigationStateArbitrary, ({ tabId, subItemId })=>{
            // Set initial state
            sessionStorage.setItem('activeTab', tabId);
            sessionStorage.setItem('activeSubItem', subItemId);
            // Simulate page refresh by reading state
            const restoredTab = sessionStorage.getItem('activeTab');
            const restoredSubItem = sessionStorage.getItem('activeSubItem');
            // Verify state is correctly restored
            expect(restoredTab).toBe(tabId);
            expect(restoredSubItem).toBe(subItemId);
        }), {
            numRuns: 100
        });
    });
    it('should maintain state consistency across multiple updates', ()=>{
        _fastcheck.assert(_fastcheck.property(_fastcheck.array(navigationStateArbitrary, {
            minLength: 1,
            maxLength: 10
        }), (states)=>{
            // Apply multiple state updates
            states.forEach(({ tabId, subItemId })=>{
                sessionStorage.setItem('activeTab', tabId);
                sessionStorage.setItem('activeSubItem', subItemId);
            });
            // Verify final state matches last update
            const lastState = states[states.length - 1];
            const storedTab = sessionStorage.getItem('activeTab');
            const storedSubItem = sessionStorage.getItem('activeSubItem');
            expect(storedTab).toBe(lastState.tabId);
            expect(storedSubItem).toBe(lastState.subItemId);
        }), {
            numRuns: 50
        });
    });
    it('should handle missing sessionStorage gracefully', ()=>{
        _fastcheck.assert(_fastcheck.property(navigationStateArbitrary, ({ tabId, subItemId })=>{
            // Clear sessionStorage to simulate missing data
            mockSessionStorage.clear();
            // Attempt to read state
            const storedTab = sessionStorage.getItem('activeTab');
            const storedSubItem = sessionStorage.getItem('activeSubItem');
            // Should return null for missing keys
            expect(storedTab).toBeNull();
            expect(storedSubItem).toBeNull();
            // Set state
            sessionStorage.setItem('activeTab', tabId);
            sessionStorage.setItem('activeSubItem', subItemId);
            // Verify state is now available
            expect(sessionStorage.getItem('activeTab')).toBe(tabId);
            expect(sessionStorage.getItem('activeSubItem')).toBe(subItemId);
        }), {
            numRuns: 100
        });
    });
    it('should preserve state when navigating between sub-items within same tab', ()=>{
        _fastcheck.assert(_fastcheck.property(tabIdArbitrary, _fastcheck.array(_fastcheck.string(), {
            minLength: 2,
            maxLength: 5
        }), (tabId, subItemIds)=>{
            const tab = NAVIGATION_TABS.find((t)=>t.id === tabId);
            if (!tab) return true; // Skip if tab not found
            // Filter to valid sub-items for this tab
            const validSubItems = subItemIds.filter((id)=>tab.subItems.includes(id));
            if (validSubItems.length < 2) return true; // Need at least 2 sub-items
            // Navigate through sub-items
            validSubItems.forEach((subItemId)=>{
                sessionStorage.setItem('activeTab', tabId);
                sessionStorage.setItem('activeSubItem', subItemId);
                // Verify tab remains consistent
                expect(sessionStorage.getItem('activeTab')).toBe(tabId);
            });
            // Verify final sub-item is correct
            const lastSubItem = validSubItems[validSubItems.length - 1];
            expect(sessionStorage.getItem('activeSubItem')).toBe(lastSubItem);
        }), {
            numRuns: 50
        });
    });
    it('should update URL state to reflect navigation (simulated)', ()=>{
        _fastcheck.assert(_fastcheck.property(navigationStateArbitrary, ({ tabId, subItemId })=>{
            // Simulate URL update by storing state
            sessionStorage.setItem('activeTab', tabId);
            sessionStorage.setItem('activeSubItem', subItemId);
            // In real implementation, URL would be updated via Next.js router
            // Here we verify state is available for URL construction
            const storedTab = sessionStorage.getItem('activeTab');
            const storedSubItem = sessionStorage.getItem('activeSubItem');
            // Verify state can be used to construct URL
            expect(storedTab).toBeTruthy();
            expect(storedSubItem).toBeTruthy();
            expect(typeof storedTab).toBe('string');
            expect(typeof storedSubItem).toBe('string');
        }), {
            numRuns: 100
        });
    });
    it('should handle browser back/forward navigation state updates', ()=>{
        _fastcheck.assert(_fastcheck.property(_fastcheck.array(navigationStateArbitrary, {
            minLength: 2,
            maxLength: 5
        }), (navigationHistory)=>{
            // Simulate forward navigation
            navigationHistory.forEach(({ tabId, subItemId })=>{
                sessionStorage.setItem('activeTab', tabId);
                sessionStorage.setItem('activeSubItem', subItemId);
            });
            // Verify final state
            const lastState = navigationHistory[navigationHistory.length - 1];
            expect(sessionStorage.getItem('activeTab')).toBe(lastState.tabId);
            expect(sessionStorage.getItem('activeSubItem')).toBe(lastState.subItemId);
            // Simulate back navigation (restore previous state)
            if (navigationHistory.length > 1) {
                const previousState = navigationHistory[navigationHistory.length - 2];
                sessionStorage.setItem('activeTab', previousState.tabId);
                sessionStorage.setItem('activeSubItem', previousState.subItemId);
                expect(sessionStorage.getItem('activeTab')).toBe(previousState.tabId);
                expect(sessionStorage.getItem('activeSubItem')).toBe(previousState.subItemId);
            }
        }), {
            numRuns: 50
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9Ub3BOYXZpZ2F0aW9uLm5hdmlnYXRpb25TdGF0ZVBlcnNpc3RlbmNlLnByb3BlcnR5LnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvcGVydHktQmFzZWQgVGVzdDogTmF2aWdhdGlvbiBTdGF0ZSBQZXJzaXN0ZW5jZVxuICogXG4gKiBGZWF0dXJlOiBndWVzdC1wb3J0YWwtYW5kLWFkbWluLWVuaGFuY2VtZW50c1xuICogUHJvcGVydHkgMjogTmF2aWdhdGlvbiBTdGF0ZSBQZXJzaXN0ZW5jZVxuICogXG4gKiBWYWxpZGF0ZXMgUmVxdWlyZW1lbnRzOiAxLjEwLCAyMC4xLCAyMC4yLCAyMC4zXG4gKiBcbiAqIFByb3BlcnR5OiBGb3IgYW55IHZhbGlkIHRhYiBhbmQgc3ViLWl0ZW0gc2VsZWN0aW9uLCB0aGUgbmF2aWdhdGlvbiBzdGF0ZVxuICogU0hBTEwgYmUgcGVyc2lzdGVkIGluIHNlc3Npb25TdG9yYWdlIGFuZCByZXN0b3JlZCBvbiBwYWdlIHJlZnJlc2guXG4gKiBcbiAqIFRlc3QgU3RyYXRlZ3k6XG4gKiAtIEdlbmVyYXRlIHJhbmRvbSB0YWIgYW5kIHN1Yi1pdGVtIGNvbWJpbmF0aW9uc1xuICogLSBWZXJpZnkgc3RhdGUgaXMgc2F2ZWQgdG8gc2Vzc2lvblN0b3JhZ2VcbiAqIC0gU2ltdWxhdGUgcGFnZSByZWZyZXNoIGJ5IGNsZWFyaW5nIGFuZCByZXN0b3Jpbmcgc3RhdGVcbiAqIC0gVmVyaWZ5IHN0YXRlIGlzIGNvcnJlY3RseSByZXN0b3JlZFxuICovXG5cbmltcG9ydCAqIGFzIGZjIGZyb20gJ2Zhc3QtY2hlY2snO1xuXG4vLyBNb2NrIHNlc3Npb25TdG9yYWdlIGZvciB0ZXN0aW5nXG5jb25zdCBtb2NrU2Vzc2lvblN0b3JhZ2UgPSAoKCkgPT4ge1xuICBsZXQgc3RvcmU6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuICByZXR1cm4ge1xuICAgIGdldEl0ZW06IChrZXk6IHN0cmluZykgPT4gc3RvcmVba2V5XSB8fCBudWxsLFxuICAgIHNldEl0ZW06IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgc3RvcmVba2V5XSA9IHZhbHVlO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBkZWxldGUgc3RvcmVba2V5XTtcbiAgICB9LFxuICAgIGNsZWFyOiAoKSA9PiB7XG4gICAgICBzdG9yZSA9IHt9O1xuICAgIH0sXG4gIH07XG59KSgpO1xuXG4vLyBSZXBsYWNlIGdsb2JhbCBzZXNzaW9uU3RvcmFnZSB3aXRoIG1vY2tcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdzZXNzaW9uU3RvcmFnZScsIHtcbiAgdmFsdWU6IG1vY2tTZXNzaW9uU3RvcmFnZSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gTmF2aWdhdGlvbiBzdHJ1Y3R1cmUgbWF0Y2hpbmcgVG9wTmF2aWdhdGlvbiBjb21wb25lbnRcbmNvbnN0IE5BVklHQVRJT05fVEFCUyA9IFtcbiAge1xuICAgIGlkOiAnY29udGVudCcsXG4gICAgc3ViSXRlbXM6IFsnaG9tZS1wYWdlJywgJ2FjdGl2aXRpZXMnLCAnZXZlbnRzJywgJ2NvbnRlbnQtcGFnZXMnLCAnbG9jYXRpb25zJywgJ3Bob3RvcyddLFxuICB9LFxuICB7XG4gICAgaWQ6ICdndWVzdHMnLFxuICAgIHN1Ykl0ZW1zOiBbJ2d1ZXN0LWxpc3QnLCAnZ3Vlc3QtZ3JvdXBzJywgJ2ltcG9ydC1leHBvcnQnXSxcbiAgfSxcbiAge1xuICAgIGlkOiAncnN2cHMnLFxuICAgIHN1Ykl0ZW1zOiBbJ3JzdnAtYW5hbHl0aWNzJywgJ2FjdGl2aXR5LXJzdnBzJywgJ2V2ZW50LXJzdnBzJywgJ2RlYWRsaW5lcyddLFxuICB9LFxuICB7XG4gICAgaWQ6ICdsb2dpc3RpY3MnLFxuICAgIHN1Ykl0ZW1zOiBbJ2FjY29tbW9kYXRpb25zJywgJ3RyYW5zcG9ydGF0aW9uJywgJ2J1ZGdldCcsICd2ZW5kb3JzJ10sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2FkbWluJyxcbiAgICBzdWJJdGVtczogWydhZG1pbi11c2VycycsICdzZXR0aW5ncycsICdlbWFpbC10ZW1wbGF0ZXMnLCAnYXVkaXQtbG9ncyddLFxuICB9LFxuXTtcblxuLy8gQXJiaXRyYXJ5IGZvciBnZW5lcmF0aW5nIHZhbGlkIHRhYiBJRHNcbmNvbnN0IHRhYklkQXJiaXRyYXJ5ID0gZmMuY29uc3RhbnRGcm9tKFxuICAnY29udGVudCcsXG4gICdndWVzdHMnLFxuICAncnN2cHMnLFxuICAnbG9naXN0aWNzJyxcbiAgJ2FkbWluJ1xuKTtcblxuLy8gQXJiaXRyYXJ5IGZvciBnZW5lcmF0aW5nIHZhbGlkIHN1Yi1pdGVtIElEcyBmb3IgYSBnaXZlbiB0YWJcbmNvbnN0IHN1Ykl0ZW1JZEFyYml0cmFyeSA9ICh0YWJJZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHRhYiA9IE5BVklHQVRJT05fVEFCUy5maW5kKHQgPT4gdC5pZCA9PT0gdGFiSWQpO1xuICBpZiAoIXRhYikgcmV0dXJuIGZjLmNvbnN0YW50KCcnKTtcbiAgcmV0dXJuIGZjLmNvbnN0YW50RnJvbSguLi50YWIuc3ViSXRlbXMpO1xufTtcblxuLy8gQXJiaXRyYXJ5IGZvciBnZW5lcmF0aW5nIG5hdmlnYXRpb24gc3RhdGVcbmNvbnN0IG5hdmlnYXRpb25TdGF0ZUFyYml0cmFyeSA9IGZjXG4gIC50dXBsZSh0YWJJZEFyYml0cmFyeSwgZmMuc3RyaW5nKCkpXG4gIC5jaGFpbigoW3RhYklkXSkgPT5cbiAgICBmYy50dXBsZShmYy5jb25zdGFudCh0YWJJZCksIHN1Ykl0ZW1JZEFyYml0cmFyeSh0YWJJZCkpXG4gIClcbiAgLm1hcCgoW3RhYklkLCBzdWJJdGVtSWRdKSA9PiAoeyB0YWJJZCwgc3ViSXRlbUlkIH0pKTtcblxuZGVzY3JpYmUoJ0ZlYXR1cmU6IGd1ZXN0LXBvcnRhbC1hbmQtYWRtaW4tZW5oYW5jZW1lbnRzLCBQcm9wZXJ0eSAyOiBOYXZpZ2F0aW9uIFN0YXRlIFBlcnNpc3RlbmNlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrU2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBwZXJzaXN0IG5hdmlnYXRpb24gc3RhdGUgdG8gc2Vzc2lvblN0b3JhZ2UnLCAoKSA9PiB7XG4gICAgZmMuYXNzZXJ0KFxuICAgICAgZmMucHJvcGVydHkobmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5LCAoeyB0YWJJZCwgc3ViSXRlbUlkIH0pID0+IHtcbiAgICAgICAgLy8gU2ltdWxhdGUgc2V0dGluZyBuYXZpZ2F0aW9uIHN0YXRlXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYicsIHRhYklkKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsIHN1Ykl0ZW1JZCk7XG5cbiAgICAgICAgLy8gVmVyaWZ5IHN0YXRlIGlzIHBlcnNpc3RlZFxuICAgICAgICBjb25zdCBzdG9yZWRUYWIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKTtcbiAgICAgICAgY29uc3Qgc3RvcmVkU3ViSXRlbSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nKTtcblxuICAgICAgICBleHBlY3Qoc3RvcmVkVGFiKS50b0JlKHRhYklkKTtcbiAgICAgICAgZXhwZWN0KHN0b3JlZFN1Ykl0ZW0pLnRvQmUoc3ViSXRlbUlkKTtcbiAgICAgIH0pLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVzdG9yZSBuYXZpZ2F0aW9uIHN0YXRlIGZyb20gc2Vzc2lvblN0b3JhZ2UgYWZ0ZXIgcGFnZSByZWZyZXNoJywgKCkgPT4ge1xuICAgIGZjLmFzc2VydChcbiAgICAgIGZjLnByb3BlcnR5KG5hdmlnYXRpb25TdGF0ZUFyYml0cmFyeSwgKHsgdGFiSWQsIHN1Ykl0ZW1JZCB9KSA9PiB7XG4gICAgICAgIC8vIFNldCBpbml0aWFsIHN0YXRlXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYicsIHRhYklkKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsIHN1Ykl0ZW1JZCk7XG5cbiAgICAgICAgLy8gU2ltdWxhdGUgcGFnZSByZWZyZXNoIGJ5IHJlYWRpbmcgc3RhdGVcbiAgICAgICAgY29uc3QgcmVzdG9yZWRUYWIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKTtcbiAgICAgICAgY29uc3QgcmVzdG9yZWRTdWJJdGVtID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlU3ViSXRlbScpO1xuXG4gICAgICAgIC8vIFZlcmlmeSBzdGF0ZSBpcyBjb3JyZWN0bHkgcmVzdG9yZWRcbiAgICAgICAgZXhwZWN0KHJlc3RvcmVkVGFiKS50b0JlKHRhYklkKTtcbiAgICAgICAgZXhwZWN0KHJlc3RvcmVkU3ViSXRlbSkudG9CZShzdWJJdGVtSWQpO1xuICAgICAgfSksXG4gICAgICB7IG51bVJ1bnM6IDEwMCB9XG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBtYWludGFpbiBzdGF0ZSBjb25zaXN0ZW5jeSBhY3Jvc3MgbXVsdGlwbGUgdXBkYXRlcycsICgpID0+IHtcbiAgICBmYy5hc3NlcnQoXG4gICAgICBmYy5wcm9wZXJ0eShcbiAgICAgICAgZmMuYXJyYXkobmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5LCB7IG1pbkxlbmd0aDogMSwgbWF4TGVuZ3RoOiAxMCB9KSxcbiAgICAgICAgKHN0YXRlcykgPT4ge1xuICAgICAgICAgIC8vIEFwcGx5IG11bHRpcGxlIHN0YXRlIHVwZGF0ZXNcbiAgICAgICAgICBzdGF0ZXMuZm9yRWFjaCgoeyB0YWJJZCwgc3ViSXRlbUlkIH0pID0+IHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYicsIHRhYklkKTtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nLCBzdWJJdGVtSWQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gVmVyaWZ5IGZpbmFsIHN0YXRlIG1hdGNoZXMgbGFzdCB1cGRhdGVcbiAgICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBzdGF0ZXNbc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFRhYiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVRhYicpO1xuICAgICAgICAgIGNvbnN0IHN0b3JlZFN1Ykl0ZW0gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVTdWJJdGVtJyk7XG5cbiAgICAgICAgICBleHBlY3Qoc3RvcmVkVGFiKS50b0JlKGxhc3RTdGF0ZS50YWJJZCk7XG4gICAgICAgICAgZXhwZWN0KHN0b3JlZFN1Ykl0ZW0pLnRvQmUobGFzdFN0YXRlLnN1Ykl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICB7IG51bVJ1bnM6IDUwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHNlc3Npb25TdG9yYWdlIGdyYWNlZnVsbHknLCAoKSA9PiB7XG4gICAgZmMuYXNzZXJ0KFxuICAgICAgZmMucHJvcGVydHkobmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5LCAoeyB0YWJJZCwgc3ViSXRlbUlkIH0pID0+IHtcbiAgICAgICAgLy8gQ2xlYXIgc2Vzc2lvblN0b3JhZ2UgdG8gc2ltdWxhdGUgbWlzc2luZyBkYXRhXG4gICAgICAgIG1vY2tTZXNzaW9uU3RvcmFnZS5jbGVhcigpO1xuXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gcmVhZCBzdGF0ZVxuICAgICAgICBjb25zdCBzdG9yZWRUYWIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKTtcbiAgICAgICAgY29uc3Qgc3RvcmVkU3ViSXRlbSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nKTtcblxuICAgICAgICAvLyBTaG91bGQgcmV0dXJuIG51bGwgZm9yIG1pc3Npbmcga2V5c1xuICAgICAgICBleHBlY3Qoc3RvcmVkVGFiKS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3Qoc3RvcmVkU3ViSXRlbSkudG9CZU51bGwoKTtcblxuICAgICAgICAvLyBTZXQgc3RhdGVcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlVGFiJywgdGFiSWQpO1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmVTdWJJdGVtJywgc3ViSXRlbUlkKTtcblxuICAgICAgICAvLyBWZXJpZnkgc3RhdGUgaXMgbm93IGF2YWlsYWJsZVxuICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlVGFiJykpLnRvQmUodGFiSWQpO1xuICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlU3ViSXRlbScpKS50b0JlKHN1Ykl0ZW1JZCk7XG4gICAgICB9KSxcbiAgICAgIHsgbnVtUnVuczogMTAwIH1cbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHByZXNlcnZlIHN0YXRlIHdoZW4gbmF2aWdhdGluZyBiZXR3ZWVuIHN1Yi1pdGVtcyB3aXRoaW4gc2FtZSB0YWInLCAoKSA9PiB7XG4gICAgZmMuYXNzZXJ0KFxuICAgICAgZmMucHJvcGVydHkoXG4gICAgICAgIHRhYklkQXJiaXRyYXJ5LFxuICAgICAgICBmYy5hcnJheShmYy5zdHJpbmcoKSwgeyBtaW5MZW5ndGg6IDIsIG1heExlbmd0aDogNSB9KSxcbiAgICAgICAgKHRhYklkLCBzdWJJdGVtSWRzKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGFiID0gTkFWSUdBVElPTl9UQUJTLmZpbmQodCA9PiB0LmlkID09PSB0YWJJZCk7XG4gICAgICAgICAgaWYgKCF0YWIpIHJldHVybiB0cnVlOyAvLyBTa2lwIGlmIHRhYiBub3QgZm91bmRcblxuICAgICAgICAgIC8vIEZpbHRlciB0byB2YWxpZCBzdWItaXRlbXMgZm9yIHRoaXMgdGFiXG4gICAgICAgICAgY29uc3QgdmFsaWRTdWJJdGVtcyA9IHN1Ykl0ZW1JZHMuZmlsdGVyKGlkID0+IHRhYi5zdWJJdGVtcy5pbmNsdWRlcyhpZCkpO1xuICAgICAgICAgIGlmICh2YWxpZFN1Ykl0ZW1zLmxlbmd0aCA8IDIpIHJldHVybiB0cnVlOyAvLyBOZWVkIGF0IGxlYXN0IDIgc3ViLWl0ZW1zXG5cbiAgICAgICAgICAvLyBOYXZpZ2F0ZSB0aHJvdWdoIHN1Yi1pdGVtc1xuICAgICAgICAgIHZhbGlkU3ViSXRlbXMuZm9yRWFjaChzdWJJdGVtSWQgPT4ge1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlVGFiJywgdGFiSWQpO1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsIHN1Ykl0ZW1JZCk7XG5cbiAgICAgICAgICAgIC8vIFZlcmlmeSB0YWIgcmVtYWlucyBjb25zaXN0ZW50XG4gICAgICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlVGFiJykpLnRvQmUodGFiSWQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gVmVyaWZ5IGZpbmFsIHN1Yi1pdGVtIGlzIGNvcnJlY3RcbiAgICAgICAgICBjb25zdCBsYXN0U3ViSXRlbSA9IHZhbGlkU3ViSXRlbXNbdmFsaWRTdWJJdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlU3ViSXRlbScpKS50b0JlKGxhc3RTdWJJdGVtKTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogNTAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdXBkYXRlIFVSTCBzdGF0ZSB0byByZWZsZWN0IG5hdmlnYXRpb24gKHNpbXVsYXRlZCknLCAoKSA9PiB7XG4gICAgZmMuYXNzZXJ0KFxuICAgICAgZmMucHJvcGVydHkobmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5LCAoeyB0YWJJZCwgc3ViSXRlbUlkIH0pID0+IHtcbiAgICAgICAgLy8gU2ltdWxhdGUgVVJMIHVwZGF0ZSBieSBzdG9yaW5nIHN0YXRlXG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVRhYicsIHRhYklkKTtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsIHN1Ykl0ZW1JZCk7XG5cbiAgICAgICAgLy8gSW4gcmVhbCBpbXBsZW1lbnRhdGlvbiwgVVJMIHdvdWxkIGJlIHVwZGF0ZWQgdmlhIE5leHQuanMgcm91dGVyXG4gICAgICAgIC8vIEhlcmUgd2UgdmVyaWZ5IHN0YXRlIGlzIGF2YWlsYWJsZSBmb3IgVVJMIGNvbnN0cnVjdGlvblxuICAgICAgICBjb25zdCBzdG9yZWRUYWIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKTtcbiAgICAgICAgY29uc3Qgc3RvcmVkU3ViSXRlbSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nKTtcblxuICAgICAgICAvLyBWZXJpZnkgc3RhdGUgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IFVSTFxuICAgICAgICBleHBlY3Qoc3RvcmVkVGFiKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdChzdG9yZWRTdWJJdGVtKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2Ygc3RvcmVkVGFiKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBzdG9yZWRTdWJJdGVtKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgIH0pLFxuICAgICAgeyBudW1SdW5zOiAxMDAgfVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGJyb3dzZXIgYmFjay9mb3J3YXJkIG5hdmlnYXRpb24gc3RhdGUgdXBkYXRlcycsICgpID0+IHtcbiAgICBmYy5hc3NlcnQoXG4gICAgICBmYy5wcm9wZXJ0eShcbiAgICAgICAgZmMuYXJyYXkobmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5LCB7IG1pbkxlbmd0aDogMiwgbWF4TGVuZ3RoOiA1IH0pLFxuICAgICAgICAobmF2aWdhdGlvbkhpc3RvcnkpID0+IHtcbiAgICAgICAgICAvLyBTaW11bGF0ZSBmb3J3YXJkIG5hdmlnYXRpb25cbiAgICAgICAgICBuYXZpZ2F0aW9uSGlzdG9yeS5mb3JFYWNoKCh7IHRhYklkLCBzdWJJdGVtSWQgfSkgPT4ge1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlVGFiJywgdGFiSWQpO1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWN0aXZlU3ViSXRlbScsIHN1Ykl0ZW1JZCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBWZXJpZnkgZmluYWwgc3RhdGVcbiAgICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBuYXZpZ2F0aW9uSGlzdG9yeVtuYXZpZ2F0aW9uSGlzdG9yeS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlVGFiJykpLnRvQmUobGFzdFN0YXRlLnRhYklkKTtcbiAgICAgICAgICBleHBlY3Qoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlU3ViSXRlbScpKS50b0JlKGxhc3RTdGF0ZS5zdWJJdGVtSWQpO1xuXG4gICAgICAgICAgLy8gU2ltdWxhdGUgYmFjayBuYXZpZ2F0aW9uIChyZXN0b3JlIHByZXZpb3VzIHN0YXRlKVxuICAgICAgICAgIGlmIChuYXZpZ2F0aW9uSGlzdG9yeS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gbmF2aWdhdGlvbkhpc3RvcnlbbmF2aWdhdGlvbkhpc3RvcnkubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmVUYWInLCBwcmV2aW91c1N0YXRlLnRhYklkKTtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZVN1Ykl0ZW0nLCBwcmV2aW91c1N0YXRlLnN1Ykl0ZW1JZCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVUYWInKSkudG9CZShwcmV2aW91c1N0YXRlLnRhYklkKTtcbiAgICAgICAgICAgIGV4cGVjdChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY3RpdmVTdWJJdGVtJykpLnRvQmUocHJldmlvdXNTdGF0ZS5zdWJJdGVtSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHsgbnVtUnVuczogNTAgfVxuICAgICk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsibW9ja1Nlc3Npb25TdG9yYWdlIiwic3RvcmUiLCJnZXRJdGVtIiwia2V5Iiwic2V0SXRlbSIsInZhbHVlIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ3cml0YWJsZSIsIk5BVklHQVRJT05fVEFCUyIsImlkIiwic3ViSXRlbXMiLCJ0YWJJZEFyYml0cmFyeSIsImZjIiwiY29uc3RhbnRGcm9tIiwic3ViSXRlbUlkQXJiaXRyYXJ5IiwidGFiSWQiLCJ0YWIiLCJmaW5kIiwidCIsImNvbnN0YW50IiwibmF2aWdhdGlvblN0YXRlQXJiaXRyYXJ5IiwidHVwbGUiLCJzdHJpbmciLCJjaGFpbiIsIm1hcCIsInN1Ykl0ZW1JZCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsIml0IiwiYXNzZXJ0IiwicHJvcGVydHkiLCJzZXNzaW9uU3RvcmFnZSIsInN0b3JlZFRhYiIsInN0b3JlZFN1Ykl0ZW0iLCJleHBlY3QiLCJ0b0JlIiwibnVtUnVucyIsInJlc3RvcmVkVGFiIiwicmVzdG9yZWRTdWJJdGVtIiwiYXJyYXkiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJzdGF0ZXMiLCJmb3JFYWNoIiwibGFzdFN0YXRlIiwibGVuZ3RoIiwidG9CZU51bGwiLCJzdWJJdGVtSWRzIiwidmFsaWRTdWJJdGVtcyIsImZpbHRlciIsImluY2x1ZGVzIiwibGFzdFN1Ykl0ZW0iLCJ0b0JlVHJ1dGh5IiwibmF2aWdhdGlvbkhpc3RvcnkiLCJwcmV2aW91c1N0YXRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7OztDQWdCQzs7OzttRUFFbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVwQixrQ0FBa0M7QUFDbEMsTUFBTUEscUJBQXFCLEFBQUMsQ0FBQTtJQUMxQixJQUFJQyxRQUFnQyxDQUFDO0lBRXJDLE9BQU87UUFDTEMsU0FBUyxDQUFDQyxNQUFnQkYsS0FBSyxDQUFDRSxJQUFJLElBQUk7UUFDeENDLFNBQVMsQ0FBQ0QsS0FBYUU7WUFDckJKLEtBQUssQ0FBQ0UsSUFBSSxHQUFHRTtRQUNmO1FBQ0FDLFlBQVksQ0FBQ0g7WUFDWCxPQUFPRixLQUFLLENBQUNFLElBQUk7UUFDbkI7UUFDQUksT0FBTztZQUNMTixRQUFRLENBQUM7UUFDWDtJQUNGO0FBQ0YsQ0FBQTtBQUVBLDBDQUEwQztBQUMxQ08sT0FBT0MsY0FBYyxDQUFDQyxRQUFRLGtCQUFrQjtJQUM5Q0wsT0FBT0w7SUFDUFcsVUFBVTtBQUNaO0FBRUEsd0RBQXdEO0FBQ3hELE1BQU1DLGtCQUFrQjtJQUN0QjtRQUNFQyxJQUFJO1FBQ0pDLFVBQVU7WUFBQztZQUFhO1lBQWM7WUFBVTtZQUFpQjtZQUFhO1NBQVM7SUFDekY7SUFDQTtRQUNFRCxJQUFJO1FBQ0pDLFVBQVU7WUFBQztZQUFjO1lBQWdCO1NBQWdCO0lBQzNEO0lBQ0E7UUFDRUQsSUFBSTtRQUNKQyxVQUFVO1lBQUM7WUFBa0I7WUFBa0I7WUFBZTtTQUFZO0lBQzVFO0lBQ0E7UUFDRUQsSUFBSTtRQUNKQyxVQUFV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