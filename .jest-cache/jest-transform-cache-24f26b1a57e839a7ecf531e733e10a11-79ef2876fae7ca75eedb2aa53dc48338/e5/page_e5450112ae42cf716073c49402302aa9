a52118f562305f8b3560dd2348d82730
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return ContentPagesPage;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _dynamic = /*#__PURE__*/ _interop_require_default(require("next/dynamic"));
const _SectionEditor = require("../../../components/admin/SectionEditor");
const _Button = require("../../../components/ui/Button");
const _StatusBadge = require("../../../components/ui/StatusBadge");
const _useContentPages = require("../../../hooks/useContentPages");
const _ToastContext = require("../../../components/ui/ToastContext");
const _ConfirmDialog = require("../../../components/ui/ConfirmDialog");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Lazy load ContentPageForm
const ContentPageForm = (0, _dynamic.default)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../components/admin/ContentPageForm"))).then((mod)=>({
            default: mod.ContentPageForm
        })), {
    loadableGenerated: {
        webpack: ()=>[
                require.resolveWeak("@/components/admin/ContentPageForm")
            ]
    },
    loading: ()=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "animate-pulse space-y-4 p-4 border border-gray-200 rounded-lg",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "h-10 bg-gray-200 rounded"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "h-10 bg-gray-200 rounded"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "h-10 bg-gray-200 rounded"
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "h-10 w-24 bg-gray-200 rounded"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "h-10 w-24 bg-gray-200 rounded"
                        })
                    ]
                })
            ]
        }),
    ssr: false
});
function ContentPagesPage() {
    const { data: pages, loading, error, refetch, create, update, remove } = (0, _useContentPages.useContentPages)();
    const { showToast } = (0, _ToastContext.useToast)();
    const [isFormOpen, setIsFormOpen] = (0, _react.useState)(false);
    const [editingPage, setEditingPage] = (0, _react.useState)(null);
    const [expandedPageId, setExpandedPageId] = (0, _react.useState)(null);
    const [deleteConfirmPage, setDeleteConfirmPage] = (0, _react.useState)(null);
    const handleCreate = (0, _react.useCallback)(async (data)=>{
        const result = await create(data);
        if (result.success) {
            showToast({
                type: 'success',
                message: 'Content page created successfully'
            });
            setIsFormOpen(false);
            await refetch();
        } else {
            showToast({
                type: 'error',
                message: result.error || 'Failed to create page'
            });
        }
    }, [
        create,
        showToast,
        refetch
    ]);
    const handleUpdate = (0, _react.useCallback)(async (data)=>{
        if (!editingPage) return;
        const result = await update(editingPage.id, data);
        if (result.success) {
            showToast({
                type: 'success',
                message: 'Content page updated successfully'
            });
            setEditingPage(null);
            setIsFormOpen(false);
            await refetch();
        } else {
            showToast({
                type: 'error',
                message: result.error || 'Failed to update page'
            });
        }
    }, [
        editingPage,
        update,
        showToast,
        refetch
    ]);
    const handleDelete = (0, _react.useCallback)(async ()=>{
        if (!deleteConfirmPage) return;
        const result = await remove(deleteConfirmPage.id);
        if (result.success) {
            showToast({
                type: 'success',
                message: 'Content page deleted successfully'
            });
            setDeleteConfirmPage(null);
            await refetch();
        } else {
            showToast({
                type: 'error',
                message: result.error || 'Failed to delete page'
            });
        }
    }, [
        deleteConfirmPage,
        remove,
        showToast,
        refetch
    ]);
    const handleEdit = (0, _react.useCallback)((page)=>{
        setEditingPage(page);
        setIsFormOpen(true);
    }, []);
    const handleCancel = (0, _react.useCallback)(()=>{
        setEditingPage(null);
        setIsFormOpen(false);
    }, []);
    const handleToggleSections = (0, _react.useCallback)((pageId)=>{
        setExpandedPageId((prev)=>prev === pageId ? null : pageId);
    }, []);
    const columns = [
        {
            key: 'title',
            label: 'Title',
            sortable: true
        },
        {
            key: 'slug',
            label: 'Slug',
            sortable: true,
            render: (value)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("code", {
                    className: "text-sm bg-gray-100 px-2 py-1 rounded",
                    children: [
                        "/",
                        value
                    ]
                })
        },
        {
            key: 'status',
            label: 'Status',
            sortable: true,
            render: (value)=>{
                const statusMap = {
                    published: 'page-published',
                    draft: 'page-draft'
                };
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(_StatusBadge.StatusBadge, {
                    status: statusMap[value] || 'page-draft'
                });
            }
        },
        {
            key: 'actions',
            label: 'Actions',
            render: (_, page)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex gap-2",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            size: "sm",
                            variant: "secondary",
                            onClick: ()=>window.location.href = `/${page.slug}`,
                            "aria-label": `View ${page.title} as guest`,
                            children: "View"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            size: "sm",
                            variant: "secondary",
                            onClick: ()=>handleEdit(page),
                            "aria-label": `Edit ${page.title}`,
                            children: "Edit"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            size: "sm",
                            variant: "secondary",
                            onClick: ()=>handleToggleSections(page.id),
                            "aria-label": `${expandedPageId === page.id ? 'Hide' : 'Show'} sections for ${page.title}`,
                            children: expandedPageId === page.id ? 'Hide Sections' : 'Sections'
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            size: "sm",
                            variant: "danger",
                            onClick: ()=>setDeleteConfirmPage(page),
                            "aria-label": `Delete ${page.title}`,
                            children: "Delete"
                        })
                    ]
                })
        }
    ];
    if (loading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "p-6",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "animate-pulse",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "h-8 bg-gray-200 rounded w-1/4 mb-4"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "h-64 bg-gray-200 rounded"
                    })
                ]
            })
        });
    }
    if (error) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "p-6",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        className: "text-red-800",
                        children: [
                            "Error loading content pages: ",
                            error.message
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        onClick: refetch,
                        className: "mt-2",
                        children: "Retry"
                    })
                ]
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "p-6",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "mb-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                        className: "text-2xl font-bold text-gray-900 mb-2",
                        children: "Content Pages"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-600",
                        children: "Manage custom content pages with rich text and sections"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(ContentPageForm, {
                title: editingPage ? 'Edit Content Page' : 'Add Content Page',
                onSubmit: editingPage ? handleUpdate : handleCreate,
                onCancel: handleCancel,
                initialData: editingPage || undefined,
                isOpen: isFormOpen,
                onToggle: ()=>setIsFormOpen(!isFormOpen),
                submitLabel: editingPage ? 'Update' : 'Create'
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "mt-6",
                children: pages && pages.length > 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "space-y-4",
                    children: pages.map((page)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "border border-gray-200 rounded-lg overflow-hidden",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "bg-white p-4 flex items-center justify-between hover:bg-gray-50",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex items-center gap-4 flex-1",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                            className: "font-medium text-gray-900",
                                                            children: page.title
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("code", {
                                                            className: "text-sm bg-gray-100 px-2 py-1 rounded",
                                                            children: [
                                                                "/",
                                                                page.slug
                                                            ]
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_StatusBadge.StatusBadge, {
                                                        status: page.status === 'published' ? 'page-published' : 'page-draft'
                                                    })
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex gap-2",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                    size: "sm",
                                                    variant: "secondary",
                                                    onClick: ()=>window.location.href = `/${page.slug}`,
                                                    "aria-label": `View ${page.title} as guest`,
                                                    children: "View"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                    size: "sm",
                                                    variant: "secondary",
                                                    onClick: ()=>handleEdit(page),
                                                    "aria-label": `Edit ${page.title}`,
                                                    children: "Edit"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                    size: "sm",
                                                    variant: "secondary",
                                                    onClick: ()=>handleToggleSections(page.id),
                                                    "aria-label": `${expandedPageId === page.id ? 'Hide' : 'Show'} sections for ${page.title}`,
                                                    children: expandedPageId === page.id ? '▼ Hide Sections' : '▶ Sections'
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                    size: "sm",
                                                    variant: "danger",
                                                    onClick: ()=>setDeleteConfirmPage(page),
                                                    "aria-label": `Delete ${page.title}`,
                                                    children: "Delete"
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                expandedPageId === page.id && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "border-t border-gray-200 bg-gray-50 p-6",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionEditor.SectionEditor, {
                                        pageType: "custom",
                                        pageId: page.id
                                    })
                                })
                            ]
                        }, page.id))
                }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-gray-500 mb-4",
                            children: "No content pages yet"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                            onClick: ()=>setIsFormOpen(true),
                            variant: "primary",
                            size: "sm",
                            children: "Create First Page"
                        })
                    ]
                })
            }),
            deleteConfirmPage && /*#__PURE__*/ (0, _jsxruntime.jsx)(_ConfirmDialog.ConfirmDialog, {
                isOpen: true,
                title: "Delete Content Page",
                message: `Are you sure you want to delete "${deleteConfirmPage.title}"? This will also delete all associated sections and cannot be undone.`,
                confirmLabel: "Delete",
                cancelLabel: "Cancel",
                onConfirm: handleDelete,
                onClose: ()=>setDeleteConfirmPage(null),
                variant: "danger"
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FkbWluL2NvbnRlbnQtcGFnZXMvcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IHsgRGF0YVRhYmxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0RhdGFUYWJsZSc7XG5pbXBvcnQgeyBTZWN0aW9uRWRpdG9yIH0gZnJvbSAnQC9jb21wb25lbnRzL2FkbWluL1NlY3Rpb25FZGl0b3InO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBTdGF0dXNCYWRnZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9TdGF0dXNCYWRnZSc7XG5pbXBvcnQgeyB1c2VDb250ZW50UGFnZXMgfSBmcm9tICdAL2hvb2tzL3VzZUNvbnRlbnRQYWdlcyc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Ub2FzdENvbnRleHQnO1xuaW1wb3J0IHsgQ29uZmlybURpYWxvZyB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9Db25maXJtRGlhbG9nJztcbmltcG9ydCB0eXBlIHsgQ29udGVudFBhZ2UgfSBmcm9tICdAL3NjaGVtYXMvY21zU2NoZW1hcyc7XG5cbi8vIExhenkgbG9hZCBDb250ZW50UGFnZUZvcm1cbmNvbnN0IENvbnRlbnRQYWdlRm9ybSA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCdAL2NvbXBvbmVudHMvYWRtaW4vQ29udGVudFBhZ2VGb3JtJykudGhlbihtb2QgPT4gKHsgZGVmYXVsdDogbW9kLkNvbnRlbnRQYWdlRm9ybSB9KSksIHtcbiAgbG9hZGluZzogKCkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1wdWxzZSBzcGFjZS15LTQgcC00IGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIGJnLWdyYXktMjAwIHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMCBiZy1ncmF5LTIwMCByb3VuZGVkXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMTAgYmctZ3JheS0yMDAgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMCB3LTI0IGJnLWdyYXktMjAwIHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwIHctMjQgYmctZ3JheS0yMDAgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICksXG4gIHNzcjogZmFsc2UsXG59KTtcblxuaW50ZXJmYWNlIENvbnRlbnRQYWdlRm9ybURhdGEge1xuICB0aXRsZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIHN0YXR1czogJ2RyYWZ0JyB8ICdwdWJsaXNoZWQnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZW50UGFnZXNQYWdlKCkge1xuICBjb25zdCB7IGRhdGE6IHBhZ2VzLCBsb2FkaW5nLCBlcnJvciwgcmVmZXRjaCwgY3JlYXRlLCB1cGRhdGUsIHJlbW92ZSB9ID0gdXNlQ29udGVudFBhZ2VzKCk7XG4gIGNvbnN0IHsgc2hvd1RvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBbaXNGb3JtT3Blbiwgc2V0SXNGb3JtT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0aW5nUGFnZSwgc2V0RWRpdGluZ1BhZ2VdID0gdXNlU3RhdGU8Q29udGVudFBhZ2UgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2V4cGFuZGVkUGFnZUlkLCBzZXRFeHBhbmRlZFBhZ2VJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RlbGV0ZUNvbmZpcm1QYWdlLCBzZXREZWxldGVDb25maXJtUGFnZV0gPSB1c2VTdGF0ZTxDb250ZW50UGFnZSB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChkYXRhOiBDb250ZW50UGFnZUZvcm1EYXRhKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlKGRhdGEpO1xuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2hvd1RvYXN0KHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAnQ29udGVudCBwYWdlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgIHNldElzRm9ybU9wZW4oZmFsc2UpO1xuICAgICAgYXdhaXQgcmVmZXRjaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93VG9hc3QoeyB0eXBlOiAnZXJyb3InLCBtZXNzYWdlOiByZXN1bHQuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgcGFnZScgfSk7XG4gICAgfVxuICB9LCBbY3JlYXRlLCBzaG93VG9hc3QsIHJlZmV0Y2hdKTtcblxuICBjb25zdCBoYW5kbGVVcGRhdGUgPSB1c2VDYWxsYmFjayhhc3luYyAoZGF0YTogQ29udGVudFBhZ2VGb3JtRGF0YSkgPT4ge1xuICAgIGlmICghZWRpdGluZ1BhZ2UpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGRhdGUoZWRpdGluZ1BhZ2UuaWQsIGRhdGEpO1xuICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgc2hvd1RvYXN0KHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAnQ29udGVudCBwYWdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgIHNldEVkaXRpbmdQYWdlKG51bGwpO1xuICAgICAgc2V0SXNGb3JtT3BlbihmYWxzZSk7XG4gICAgICBhd2FpdCByZWZldGNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dUb2FzdCh7IHR5cGU6ICdlcnJvcicsIG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBwYWdlJyB9KTtcbiAgICB9XG4gIH0sIFtlZGl0aW5nUGFnZSwgdXBkYXRlLCBzaG93VG9hc3QsIHJlZmV0Y2hdKTtcblxuICBjb25zdCBoYW5kbGVEZWxldGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFkZWxldGVDb25maXJtUGFnZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlbW92ZShkZWxldGVDb25maXJtUGFnZS5pZCk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBzaG93VG9hc3QoeyB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICdDb250ZW50IHBhZ2UgZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0pO1xuICAgICAgc2V0RGVsZXRlQ29uZmlybVBhZ2UobnVsbCk7XG4gICAgICBhd2FpdCByZWZldGNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dUb2FzdCh7IHR5cGU6ICdlcnJvcicsIG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBwYWdlJyB9KTtcbiAgICB9XG4gIH0sIFtkZWxldGVDb25maXJtUGFnZSwgcmVtb3ZlLCBzaG93VG9hc3QsIHJlZmV0Y2hdKTtcblxuICBjb25zdCBoYW5kbGVFZGl0ID0gdXNlQ2FsbGJhY2soKHBhZ2U6IENvbnRlbnRQYWdlKSA9PiB7XG4gICAgc2V0RWRpdGluZ1BhZ2UocGFnZSk7XG4gICAgc2V0SXNGb3JtT3Blbih0cnVlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFZGl0aW5nUGFnZShudWxsKTtcbiAgICBzZXRJc0Zvcm1PcGVuKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVNlY3Rpb25zID0gdXNlQ2FsbGJhY2soKHBhZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0RXhwYW5kZWRQYWdlSWQocHJldiA9PiBwcmV2ID09PSBwYWdlSWQgPyBudWxsIDogcGFnZUlkKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNvbHVtbnMgPSBbXG4gICAge1xuICAgICAga2V5OiAndGl0bGUnLFxuICAgICAgbGFiZWw6ICdUaXRsZScsXG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ3NsdWcnLFxuICAgICAgbGFiZWw6ICdTbHVnJyxcbiAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgcmVuZGVyOiAodmFsdWU6IHN0cmluZykgPT4gKFxuICAgICAgICA8Y29kZSBjbGFzc05hbWU9XCJ0ZXh0LXNtIGJnLWdyYXktMTAwIHB4LTIgcHktMSByb3VuZGVkXCI+L3t2YWx1ZX08L2NvZGU+XG4gICAgICApLFxuICAgIH0sXG4gICAge1xuICAgICAga2V5OiAnc3RhdHVzJyxcbiAgICAgIGxhYmVsOiAnU3RhdHVzJyxcbiAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgcmVuZGVyOiAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzdGF0dXNNYXA6IFJlY29yZDxzdHJpbmcsICdwYWdlLXB1Ymxpc2hlZCcgfCAncGFnZS1kcmFmdCc+ID0ge1xuICAgICAgICAgIHB1Ymxpc2hlZDogJ3BhZ2UtcHVibGlzaGVkJyxcbiAgICAgICAgICBkcmFmdDogJ3BhZ2UtZHJhZnQnLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gPFN0YXR1c0JhZGdlIHN0YXR1cz17c3RhdHVzTWFwW3ZhbHVlXSB8fCAncGFnZS1kcmFmdCd9IC8+O1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogJ2FjdGlvbnMnLFxuICAgICAgbGFiZWw6ICdBY3Rpb25zJyxcbiAgICAgIHJlbmRlcjogKF86IGFueSwgcGFnZTogQ29udGVudFBhZ2UpID0+IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgLyR7cGFnZS5zbHVnfWB9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtgVmlldyAke3BhZ2UudGl0bGV9IGFzIGd1ZXN0YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBWaWV3XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRWRpdChwYWdlKX1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BFZGl0ICR7cGFnZS50aXRsZX1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEVkaXRcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUb2dnbGVTZWN0aW9ucyhwYWdlLmlkKX1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Ake2V4cGFuZGVkUGFnZUlkID09PSBwYWdlLmlkID8gJ0hpZGUnIDogJ1Nob3cnfSBzZWN0aW9ucyBmb3IgJHtwYWdlLnRpdGxlfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2V4cGFuZGVkUGFnZUlkID09PSBwYWdlLmlkID8gJ0hpZGUgU2VjdGlvbnMnIDogJ1NlY3Rpb25zJ31cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXREZWxldGVDb25maXJtUGFnZShwYWdlKX1cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BEZWxldGUgJHtwYWdlLnRpdGxlfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSxcbiAgICB9LFxuICBdO1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC04IGJnLWdyYXktMjAwIHJvdW5kZWQgdy0xLzQgbWItNFwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02NCBiZy1ncmF5LTIwMCByb3VuZGVkXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC04MDBcIj5FcnJvciBsb2FkaW5nIGNvbnRlbnQgcGFnZXM6IHtlcnJvci5tZXNzYWdlfTwvcD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3JlZmV0Y2h9IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgIFJldHJ5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPkNvbnRlbnQgUGFnZXM8L2gxPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgTWFuYWdlIGN1c3RvbSBjb250ZW50IHBhZ2VzIHdpdGggcmljaCB0ZXh0IGFuZCBzZWN0aW9uc1xuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPENvbnRlbnRQYWdlRm9ybVxuICAgICAgICB0aXRsZT17ZWRpdGluZ1BhZ2UgPyAnRWRpdCBDb250ZW50IFBhZ2UnIDogJ0FkZCBDb250ZW50IFBhZ2UnfVxuICAgICAgICBvblN1Ym1pdD17ZWRpdGluZ1BhZ2UgPyBoYW5kbGVVcGRhdGUgOiBoYW5kbGVDcmVhdGV9XG4gICAgICAgIG9uQ2FuY2VsPXtoYW5kbGVDYW5jZWx9XG4gICAgICAgIGluaXRpYWxEYXRhPXtlZGl0aW5nUGFnZSB8fCB1bmRlZmluZWR9XG4gICAgICAgIGlzT3Blbj17aXNGb3JtT3Blbn1cbiAgICAgICAgb25Ub2dnbGU9eygpID0+IHNldElzRm9ybU9wZW4oIWlzRm9ybU9wZW4pfVxuICAgICAgICBzdWJtaXRMYWJlbD17ZWRpdGluZ1BhZ2UgPyAnVXBkYXRlJyA6ICdDcmVhdGUnfVxuICAgICAgLz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02XCI+XG4gICAgICAgIHtwYWdlcyAmJiBwYWdlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICB7cGFnZXMubWFwKChwYWdlKSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtwYWdlLmlkfSBjbGFzc05hbWU9XCJib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgey8qIFBhZ2Ugcm93ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBob3ZlcjpiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00IGZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPntwYWdlLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cInRleHQtc20gYmctZ3JheS0xMDAgcHgtMiBweS0xIHJvdW5kZWRcIj4ve3BhZ2Uuc2x1Z308L2NvZGU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxTdGF0dXNCYWRnZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17cGFnZS5zdGF0dXMgPT09ICdwdWJsaXNoZWQnID8gJ3BhZ2UtcHVibGlzaGVkJyA6ICdwYWdlLWRyYWZ0J30gXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvJHtwYWdlLnNsdWd9YH1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgVmlldyAke3BhZ2UudGl0bGV9IGFzIGd1ZXN0YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUVkaXQocGFnZSl9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YEVkaXQgJHtwYWdlLnRpdGxlfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBFZGl0XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUb2dnbGVTZWN0aW9ucyhwYWdlLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtleHBhbmRlZFBhZ2VJZCA9PT0gcGFnZS5pZCA/ICdIaWRlJyA6ICdTaG93J30gc2VjdGlvbnMgZm9yICR7cGFnZS50aXRsZX1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2V4cGFuZGVkUGFnZUlkID09PSBwYWdlLmlkID8gJ+KWvCBIaWRlIFNlY3Rpb25zJyA6ICfilrYgU2VjdGlvbnMnfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RGVsZXRlQ29uZmlybVBhZ2UocGFnZSl9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YERlbGV0ZSAke3BhZ2UudGl0bGV9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFNlY3Rpb25zIGVkaXRvciAtIGFwcGVhcnMgaW5saW5lIGJlbG93IHRoZSBwYWdlIHJvdyAqL31cbiAgICAgICAgICAgICAgICB7ZXhwYW5kZWRQYWdlSWQgPT09IHBhZ2UuaWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCBwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb25FZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICBwYWdlVHlwZT1cImN1c3RvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgcGFnZUlkPXtwYWdlLmlkfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyIGJnLWdyYXktNTAgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtYi00XCI+Tm8gY29udGVudCBwYWdlcyB5ZXQ8L3A+XG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldElzRm9ybU9wZW4odHJ1ZSl9IHZhcmlhbnQ9XCJwcmltYXJ5XCIgc2l6ZT1cInNtXCI+XG4gICAgICAgICAgICAgIENyZWF0ZSBGaXJzdCBQYWdlXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7ZGVsZXRlQ29uZmlybVBhZ2UgJiYgKFxuICAgICAgICA8Q29uZmlybURpYWxvZ1xuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICB0aXRsZT1cIkRlbGV0ZSBDb250ZW50IFBhZ2VcIlxuICAgICAgICAgIG1lc3NhZ2U9e2BBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIFwiJHtkZWxldGVDb25maXJtUGFnZS50aXRsZX1cIj8gVGhpcyB3aWxsIGFsc28gZGVsZXRlIGFsbCBhc3NvY2lhdGVkIHNlY3Rpb25zIGFuZCBjYW5ub3QgYmUgdW5kb25lLmB9XG4gICAgICAgICAgY29uZmlybUxhYmVsPVwiRGVsZXRlXCJcbiAgICAgICAgICBjYW5jZWxMYWJlbD1cIkNhbmNlbFwiXG4gICAgICAgICAgb25Db25maXJtPXtoYW5kbGVEZWxldGV9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0RGVsZXRlQ29uZmlybVBhZ2UobnVsbCl9XG4gICAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkNvbnRlbnRQYWdlc1BhZ2UiLCJDb250ZW50UGFnZUZvcm0iLCJkeW5hbWljIiwidGhlbiIsIm1vZCIsImRlZmF1bHQiLCJsb2FkaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwic3NyIiwiZGF0YSIsInBhZ2VzIiwiZXJyb3IiLCJyZWZldGNoIiwiY3JlYXRlIiwidXBkYXRlIiwicmVtb3ZlIiwidXNlQ29udGVudFBhZ2VzIiwic2hvd1RvYXN0IiwidXNlVG9hc3QiLCJpc0Zvcm1PcGVuIiwic2V0SXNGb3JtT3BlbiIsInVzZVN0YXRlIiwiZWRpdGluZ1BhZ2UiLCJzZXRFZGl0aW5nUGFnZSIsImV4cGFuZGVkUGFnZUlkIiwic2V0RXhwYW5kZWRQYWdlSWQiLCJkZWxldGVDb25maXJtUGFnZSIsInNldERlbGV0ZUNvbmZpcm1QYWdlIiwiaGFuZGxlQ3JlYXRlIiwidXNlQ2FsbGJhY2siLCJyZXN1bHQiLCJzdWNjZXNzIiwidHlwZSIsIm1lc3NhZ2UiLCJoYW5kbGVVcGRhdGUiLCJpZCIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUVkaXQiLCJwYWdlIiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlVG9nZ2xlU2VjdGlvbnMiLCJwYWdlSWQiLCJwcmV2IiwiY29sdW1ucyIsImtleSIsImxhYmVsIiwic29ydGFibGUiLCJyZW5kZXIiLCJ2YWx1ZSIsImNvZGUiLCJzdGF0dXNNYXAiLCJwdWJsaXNoZWQiLCJkcmFmdCIsIlN0YXR1c0JhZGdlIiwic3RhdHVzIiwiXyIsIkJ1dHRvbiIsInNpemUiLCJ2YXJpYW50Iiwib25DbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInNsdWciLCJhcmlhLWxhYmVsIiwidGl0bGUiLCJwIiwiaDEiLCJvblN1Ym1pdCIsIm9uQ2FuY2VsIiwiaW5pdGlhbERhdGEiLCJ1bmRlZmluZWQiLCJpc09wZW4iLCJvblRvZ2dsZSIsInN1Ym1pdExhYmVsIiwibGVuZ3RoIiwibWFwIiwiU2VjdGlvbkVkaXRvciIsInBhZ2VUeXBlIiwiQ29uZmlybURpYWxvZyIsImNvbmZpcm1MYWJlbCIsImNhbmNlbExhYmVsIiwib25Db25maXJtIiwib25DbG9zZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQW1DQTs7O2VBQXdCQTs7Ozt1QkFqQ2M7Z0VBQ2xCOytCQUVVO3dCQUNQOzZCQUNLO2lDQUNJOzhCQUNQOytCQUNLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUc5Qiw0QkFBNEI7QUFDNUIsTUFBTUMsa0JBQWtCQyxJQUFBQSxnQkFBTyxFQUFDLElBQU0sbUVBQUEsUUFBTywrQ0FBc0NDLElBQUksQ0FBQ0MsQ0FBQUEsTUFBUSxDQUFBO1lBQUVDLFNBQVNELElBQUlILGVBQWU7UUFBQyxDQUFBOzs7Ozs7SUFDN0hLLFNBQVMsa0JBQ1Asc0JBQUNDO1lBQUlDLFdBQVU7OzhCQUNiLHFCQUFDRDtvQkFBSUMsV0FBVTs7OEJBQ2YscUJBQUNEO29CQUFJQyxXQUFVOzs4QkFDZixxQkFBQ0Q7b0JBQUlDLFdBQVU7OzhCQUNmLHNCQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IscUJBQUNEOzRCQUFJQyxXQUFVOztzQ0FDZixxQkFBQ0Q7NEJBQUlDLFdBQVU7Ozs7OztJQUlyQkMsS0FBSzs7QUFTUSxTQUFTVDtJQUN0QixNQUFNLEVBQUVVLE1BQU1DLEtBQUssRUFBRUwsT0FBTyxFQUFFTSxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxnQ0FBZTtJQUN4RixNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHQyxJQUFBQSxzQkFBUTtJQUM5QixNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR0MsSUFBQUEsZUFBUSxFQUFDO0lBQzdDLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHRixJQUFBQSxlQUFRLEVBQXFCO0lBQ25FLE1BQU0sQ0FBQ0csZ0JBQWdCQyxrQkFBa0IsR0FBR0osSUFBQUEsZUFBUSxFQUFnQjtJ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