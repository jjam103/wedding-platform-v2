2fdc7980af151a92a70770041fe5daf8
"use strict";
// Mock dependencies
jest.mock('@/services/rsvpManagementService');
jest.mock('@/lib/apiHelpers', ()=>({
        ...jest.requireActual('@/lib/apiHelpers'),
        withAuth: jest.fn((handler)=>handler('test-user-id'))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("./route");
const _rsvpManagementService = /*#__PURE__*/ _interop_require_wildcard(require("../../../../services/rsvpManagementService"));
const _apiHelpers = /*#__PURE__*/ _interop_require_wildcard(require("../../../../lib/apiHelpers"));
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
describe('GET /api/admin/rsvps', ()=>{
    const mockListRSVPs = _rsvpManagementService.listRSVPs;
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('Success Cases', ()=>{
        it('should return paginated RSVPs with statistics when called with valid parameters', async ()=>{
            // Arrange
            const mockResponse = {
                data: [
                    {
                        id: 'rsvp-1',
                        guestId: 'guest-1',
                        guestFirstName: 'John',
                        guestLastName: 'Doe',
                        guestEmail: 'john@example.com',
                        eventId: 'event-1',
                        eventName: 'Wedding Ceremony',
                        activityId: null,
                        activityName: null,
                        status: 'attending',
                        guestCount: 2,
                        dietaryNotes: null,
                        specialRequirements: null,
                        notes: null,
                        respondedAt: '2024-01-15T10:00:00Z',
                        createdAt: '2024-01-10T10:00:00Z',
                        updatedAt: '2024-01-15T10:00:00Z'
                    }
                ],
                pagination: {
                    page: 1,
                    limit: 50,
                    total: 1,
                    totalPages: 1
                },
                statistics: {
                    totalRSVPs: 1,
                    byStatus: {
                        attending: 1,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 2
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?page=1&limit=50');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data).toEqual(mockResponse);
            expect(mockListRSVPs).toHaveBeenCalledWith({}, {
                page: 1,
                limit: 50
            });
        });
        it('should apply filters when provided in query parameters', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 1,
                    limit: 50,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?eventId=event-123&status=attending&searchQuery=John');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(mockListRSVPs).toHaveBeenCalledWith({
                eventId: 'event-123',
                status: 'attending',
                searchQuery: 'John'
            }, {
                page: 1,
                limit: 50
            });
        });
        it('should use default pagination values when not provided', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 1,
                    limit: 50,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(mockListRSVPs).toHaveBeenCalledWith({}, {
                page: 1,
                limit: 50
            });
        });
        it('should handle multiple filters simultaneously', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 2,
                    limit: 25,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?eventId=event-123&activityId=activity-456&status=pending&guestId=guest-789&page=2&limit=25');
            // Act
            const response = await (0, _route.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(mockListRSVPs).toHaveBeenCalledWith({
                eventId: 'event-123',
                activityId: 'activity-456',
                status: 'pending',
                guestId: 'guest-789'
            }, {
                page: 2,
                limit: 25
            });
        });
    });
    describe('Validation Errors', ()=>{
        it('should return 400 when eventId is not a valid UUID', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?eventId=invalid-uuid');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toBe('Invalid query parameters');
            expect(mockListRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when status is invalid', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?status=invalid-status');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockListRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when page is not a positive integer', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?page=-1');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockListRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when limit exceeds maximum', async ()=>{
            // Arrange
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?limit=150');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockListRSVPs).not.toHaveBeenCalled();
        });
        it('should return 400 when searchQuery exceeds maximum length', async ()=>{
            // Arrange
            const longQuery = 'a'.repeat(101);
            const request = new _server.NextRequest(`http://localhost:3000/api/admin/rsvps?searchQuery=${longQuery}`);
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(mockListRSVPs).not.toHaveBeenCalled();
        });
    });
    describe('Service Errors', ()=>{
        it('should return 500 when service returns DATABASE_ERROR', async ()=>{
            // Arrange
            mockListRSVPs.mockResolvedValue({
                success: false,
                error: {
                    code: 'DATABASE_ERROR',
                    message: 'Database connection failed'
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('DATABASE_ERROR');
            expect(data.error.message).toBe('Database connection failed');
        });
        it('should return 400 when service returns VALIDATION_ERROR', async ()=>{
            // Arrange
            mockListRSVPs.mockResolvedValue({
                success: false,
                error: {
                    code: 'VALIDATION_ERROR',
                    message: 'Invalid filter parameters',
                    details: [
                        {
                            field: 'eventId',
                            message: 'Invalid UUID'
                        }
                    ]
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(400);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('VALIDATION_ERROR');
        });
        it('should return 500 when service returns UNKNOWN_ERROR', async ()=>{
            // Arrange
            mockListRSVPs.mockResolvedValue({
                success: false,
                error: {
                    code: 'UNKNOWN_ERROR',
                    message: 'An unexpected error occurred'
                }
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('UNKNOWN_ERROR');
        });
    });
    describe('Error Handling', ()=>{
        it('should return 500 when service throws an exception', async ()=>{
            // Arrange
            mockListRSVPs.mockRejectedValue(new Error('Unexpected service error'));
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(500);
            expect(data.success).toBe(false);
            expect(data.error.code).toBe('INTERNAL_ERROR');
            expect(data.error.message).toBe('Failed to fetch RSVPs');
        });
        it('should log error details when exception occurs', async ()=>{
            // Arrange
            const consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation();
            mockListRSVPs.mockRejectedValue(new Error('Test error'));
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            await (0, _route.GET)(request);
            // Assert
            expect(consoleErrorSpy).toHaveBeenCalledWith('GET /api/admin/rsvps error:', expect.objectContaining({
                error: 'Test error',
                stack: expect.any(String)
            }));
            consoleErrorSpy.mockRestore();
        });
    });
    describe('Authentication', ()=>{
        it('should call withAuth wrapper', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 1,
                    limit: 50,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            await (0, _route.GET)(request);
            // Assert
            expect(_apiHelpers.withAuth).toHaveBeenCalled();
        });
    });
    describe('Edge Cases', ()=>{
        it('should handle empty result set', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 1,
                    limit: 50,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps');
            // Act
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            // Assert
            expect(response.status).toBe(200);
            expect(data.success).toBe(true);
            expect(data.data.data).toEqual([]);
            expect(data.data.pagination.total).toBe(0);
        });
        it('should handle large page numbers', async ()=>{
            // Arrange
            const mockResponse = {
                data: [],
                pagination: {
                    page: 999,
                    limit: 50,
                    total: 0,
                    totalPages: 0
                },
                statistics: {
                    totalRSVPs: 0,
                    byStatus: {
                        attending: 0,
                        declined: 0,
                        maybe: 0,
                        pending: 0
                    },
                    totalGuestCount: 0
                }
            };
            mockListRSVPs.mockResolvedValue({
                success: true,
                data: mockResponse
            });
            const request = new _server.NextRequest('http://localhost:3000/api/admin/rsvps?page=999');
            // Act
            const response = await (0, _route.GET)(request);
            // Assert
            expect(response.status).toBe(200);
            expect(mockListRSVPs).toHaveBeenCalledWith({}, {
                page: 999,
                limit: 50
            });
        });
        it('should handle all valid RSVP statuses', async ()=>{
            // Arrange
            const statuses = [
                'pending',
                'attending',
                'declined',
                'maybe'
            ];
            for (const status of statuses){
                mockListRSVPs.mockResolvedValue({
                    success: true,
                    data: {
                        data: [],
                        pagination: {
                            page: 1,
                            limit: 50,
                            total: 0,
                            totalPages: 0
                        },
                        statistics: {
                            totalRSVPs: 0,
                            byStatus: {
                                attending: 0,
                                declined: 0,
                                maybe: 0,
                                pending: 0
                            },
                            totalGuestCount: 0
                        }
                    }
                });
                const request = new _server.NextRequest(`http://localhost:3000/api/admin/rsvps?status=${status}`);
                // Act
                const response = await (0, _route.GET)(request);
                // Assert
                expect(response.status).toBe(200);
                expect(mockListRSVPs).toHaveBeenCalledWith({
                    status
                }, {
                    page: 1,
                    limit: 50
                });
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9yc3Zwcy9yb3V0ZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VUIH0gZnJvbSAnLi9yb3V0ZSc7XG5pbXBvcnQgKiBhcyByc3ZwTWFuYWdlbWVudFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9yc3ZwTWFuYWdlbWVudFNlcnZpY2UnO1xuaW1wb3J0ICogYXMgYXBpSGVscGVycyBmcm9tICdAL2xpYi9hcGlIZWxwZXJzJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnQC9zZXJ2aWNlcy9yc3ZwTWFuYWdlbWVudFNlcnZpY2UnKTtcbmplc3QubW9jaygnQC9saWIvYXBpSGVscGVycycsICgpID0+ICh7XG4gIC4uLmplc3QucmVxdWlyZUFjdHVhbCgnQC9saWIvYXBpSGVscGVycycpLFxuICB3aXRoQXV0aDogamVzdC5mbigoaGFuZGxlcikgPT4gaGFuZGxlcigndGVzdC11c2VyLWlkJykpLFxufSkpO1xuXG5kZXNjcmliZSgnR0VUIC9hcGkvYWRtaW4vcnN2cHMnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tMaXN0UlNWUHMgPSByc3ZwTWFuYWdlbWVudFNlcnZpY2UubGlzdFJTVlBzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248XG4gICAgdHlwZW9mIHJzdnBNYW5hZ2VtZW50U2VydmljZS5saXN0UlNWUHNcbiAgPjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1N1Y2Nlc3MgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcGFnaW5hdGVkIFJTVlBzIHdpdGggc3RhdGlzdGljcyB3aGVuIGNhbGxlZCB3aXRoIHZhbGlkIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3JzdnAtMScsXG4gICAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtMScsXG4gICAgICAgICAgICBndWVzdEZpcnN0TmFtZTogJ0pvaG4nLFxuICAgICAgICAgICAgZ3Vlc3RMYXN0TmFtZTogJ0RvZScsXG4gICAgICAgICAgICBndWVzdEVtYWlsOiAnam9obkBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICBldmVudElkOiAnZXZlbnQtMScsXG4gICAgICAgICAgICBldmVudE5hbWU6ICdXZWRkaW5nIENlcmVtb255JyxcbiAgICAgICAgICAgIGFjdGl2aXR5SWQ6IG51bGwsXG4gICAgICAgICAgICBhY3Rpdml0eU5hbWU6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6ICdhdHRlbmRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgICAgZ3Vlc3RDb3VudDogMixcbiAgICAgICAgICAgIGRpZXRhcnlOb3RlczogbnVsbCxcbiAgICAgICAgICAgIHNwZWNpYWxSZXF1aXJlbWVudHM6IG51bGwsXG4gICAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICAgIHJlc3BvbmRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiAnMjAyNC0wMS0xMFQxMDowMDowMFonLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgIGxpbWl0OiA1MCxcbiAgICAgICAgICB0b3RhbDogMSxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiAxLFxuICAgICAgICB9LFxuICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMSxcbiAgICAgICAgICBieVN0YXR1czoge1xuICAgICAgICAgICAgYXR0ZW5kaW5nOiAxLFxuICAgICAgICAgICAgZGVjbGluZWQ6IDAsXG4gICAgICAgICAgICBtYXliZTogMCxcbiAgICAgICAgICAgIHBlbmRpbmc6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrTGlzdFJTVlBzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/cGFnZT0xJmxpbWl0PTUwJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhKS50b0VxdWFsKG1vY2tSZXNwb25zZSk7XG4gICAgICBleHBlY3QobW9ja0xpc3RSU1ZQcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHt9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhcHBseSBmaWx0ZXJzIHdoZW4gcHJvdmlkZWQgaW4gcXVlcnkgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMSwgbGltaXQ6IDUwLCB0b3RhbDogMCwgdG90YWxQYWdlczogMCB9LFxuICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDAsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tMaXN0UlNWUHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUmVzcG9uc2UsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/ZXZlbnRJZD1ldmVudC0xMjMmc3RhdHVzPWF0dGVuZGluZyZzZWFyY2hRdWVyeT1Kb2huJ1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50SWQ6ICdldmVudC0xMjMnLFxuICAgICAgICAgIHN0YXR1czogJ2F0dGVuZGluZycsXG4gICAgICAgICAgc2VhcmNoUXVlcnk6ICdKb2huJyxcbiAgICAgICAgfSxcbiAgICAgICAgeyBwYWdlOiAxLCBsaW1pdDogNTAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIGRlZmF1bHQgcGFnaW5hdGlvbiB2YWx1ZXMgd2hlbiBub3QgcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiA1MCwgdG90YWw6IDAsIHRvdGFsUGFnZXM6IDAgfSxcbiAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDAsXG4gICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrTGlzdFJTVlBzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QobW9ja0xpc3RSU1ZQcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHt9LFxuICAgICAgICB7IHBhZ2U6IDEsIGxpbWl0OiA1MCB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgZmlsdGVycyBzaW11bHRhbmVvdXNseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHBhZ2luYXRpb246IHsgcGFnZTogMiwgbGltaXQ6IDI1LCB0b3RhbDogMCwgdG90YWxQYWdlczogMCB9LFxuICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDAsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tMaXN0UlNWUHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUmVzcG9uc2UsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/ZXZlbnRJZD1ldmVudC0xMjMmYWN0aXZpdHlJZD1hY3Rpdml0eS00NTYmc3RhdHVzPXBlbmRpbmcmZ3Vlc3RJZD1ndWVzdC03ODkmcGFnZT0yJmxpbWl0PTI1J1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QobW9ja0xpc3RSU1ZQcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudElkOiAnZXZlbnQtMTIzJyxcbiAgICAgICAgICBhY3Rpdml0eUlkOiAnYWN0aXZpdHktNDU2JyxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICBndWVzdElkOiAnZ3Vlc3QtNzg5JyxcbiAgICAgICAgfSxcbiAgICAgICAgeyBwYWdlOiAyLCBsaW1pdDogMjUgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1ZhbGlkYXRpb24gRXJyb3JzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCB3aGVuIGV2ZW50SWQgaXMgbm90IGEgdmFsaWQgVVVJRCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzP2V2ZW50SWQ9aW52YWxpZC11dWlkJ1xuICAgICAgKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0JlKCdJbnZhbGlkIHF1ZXJ5IHBhcmFtZXRlcnMnKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIHdoZW4gc3RhdHVzIGlzIGludmFsaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9zdGF0dXM9aW52YWxpZC1zdGF0dXMnXG4gICAgICApO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIHdoZW4gcGFnZSBpcyBub3QgYSBwb3NpdGl2ZSBpbnRlZ2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHM/cGFnZT0tMSdcbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KG1vY2tMaXN0UlNWUHMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiBsaW1pdCBleGNlZWRzIG1heGltdW0nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9saW1pdD0xNTAnXG4gICAgICApO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDAwIHdoZW4gc2VhcmNoUXVlcnkgZXhjZWVkcyBtYXhpbXVtIGxlbmd0aCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGxvbmdRdWVyeSA9ICdhJy5yZXBlYXQoMTAxKTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoXG4gICAgICAgIGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzP3NlYXJjaFF1ZXJ5PSR7bG9uZ1F1ZXJ5fWBcbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChkYXRhLnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KG1vY2tMaXN0UlNWUHMpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZXJ2aWNlIEVycm9ycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiA1MDAgd2hlbiBzZXJ2aWNlIHJldHVybnMgREFUQUJBU0VfRVJST1InLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBtb2NrTGlzdFJTVlBzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0RBVEFCQVNFX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdEQVRBQkFTRV9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9CZSgnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDQwMCB3aGVuIHNlcnZpY2UgcmV0dXJucyBWQUxJREFUSU9OX0VSUk9SJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0xpc3RSU1ZQcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBmaWx0ZXIgcGFyYW1ldGVycycsXG4gICAgICAgICAgZGV0YWlsczogW3sgZmllbGQ6ICdldmVudElkJywgbWVzc2FnZTogJ0ludmFsaWQgVVVJRCcgfV0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1ZBTElEQVRJT05fRVJST1InKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDUwMCB3aGVuIHNlcnZpY2UgcmV0dXJucyBVTktOT1dOX0VSUk9SJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgbW9ja0xpc3RSU1ZQcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ1VOS05PV05fRVJST1InKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIDUwMCB3aGVuIHNlcnZpY2UgdGhyb3dzIGFuIGV4Y2VwdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIG1vY2tMaXN0UlNWUHMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbmV4cGVjdGVkIHNlcnZpY2UgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdJTlRFUk5BTF9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9CZSgnRmFpbGVkIHRvIGZldGNoIFJTVlBzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBlcnJvciBkZXRhaWxzIHdoZW4gZXhjZXB0aW9uIG9jY3VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGNvbnNvbGVFcnJvclNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG4gICAgICBtb2NrTGlzdFJTVlBzLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignVGVzdCBlcnJvcicpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3ZwcycpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IEdFVChyZXF1ZXN0KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QoY29uc29sZUVycm9yU3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ0dFVCAvYXBpL2FkbWluL3JzdnBzIGVycm9yOicsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBlcnJvcjogJ1Rlc3QgZXJyb3InLFxuICAgICAgICAgIHN0YWNrOiBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBjb25zb2xlRXJyb3JTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0F1dGhlbnRpY2F0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsbCB3aXRoQXV0aCB3cmFwcGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBsaW1pdDogNTAsIHRvdGFsOiAwLCB0b3RhbFBhZ2VzOiAwIH0sXG4gICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICB0b3RhbFJTVlBzOiAwLFxuICAgICAgICAgIGJ5U3RhdHVzOiB7IGF0dGVuZGluZzogMCwgZGVjbGluZWQ6IDAsIG1heWJlOiAwLCBwZW5kaW5nOiAwIH0sXG4gICAgICAgICAgdG90YWxHdWVzdENvdW50OiAwLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja0xpc3RSU1ZQcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tSZXNwb25zZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzJyk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgYXdhaXQgR0VUKHJlcXVlc3QpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChhcGlIZWxwZXJzLndpdGhBdXRoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHJlc3VsdCBzZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiA1MCwgdG90YWw6IDAsIHRvdGFsUGFnZXM6IDAgfSxcbiAgICAgICAgc3RhdGlzdGljczoge1xuICAgICAgICAgIHRvdGFsUlNWUHM6IDAsXG4gICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICB0b3RhbEd1ZXN0Q291bnQ6IDAsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrTGlzdFJTVlBzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWRtaW4vcnN2cHMnKTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KGRhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChkYXRhLmRhdGEuZGF0YSkudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QoZGF0YS5kYXRhLnBhZ2luYXRpb24udG90YWwpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBwYWdlIG51bWJlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDk5OSwgbGltaXQ6IDUwLCB0b3RhbDogMCwgdG90YWxQYWdlczogMCB9LFxuICAgICAgICBzdGF0aXN0aWNzOiB7XG4gICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICBieVN0YXR1czogeyBhdHRlbmRpbmc6IDAsIGRlY2xpbmVkOiAwLCBtYXliZTogMCwgcGVuZGluZzogMCB9LFxuICAgICAgICAgIHRvdGFsR3Vlc3RDb3VudDogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tMaXN0UlNWUHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUmVzcG9uc2UsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZG1pbi9yc3Zwcz9wYWdlPTk5OScpO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAge30sXG4gICAgICAgIHsgcGFnZTogOTk5LCBsaW1pdDogNTAgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFsbCB2YWxpZCBSU1ZQIHN0YXR1c2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3Qgc3RhdHVzZXMgPSBbJ3BlbmRpbmcnLCAnYXR0ZW5kaW5nJywgJ2RlY2xpbmVkJywgJ21heWJlJ10gYXMgY29uc3Q7XG5cbiAgICAgIGZvciAoY29uc3Qgc3RhdHVzIG9mIHN0YXR1c2VzKSB7XG4gICAgICAgIG1vY2tMaXN0UlNWUHMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiB7IHBhZ2U6IDEsIGxpbWl0OiA1MCwgdG90YWw6IDAsIHRvdGFsUGFnZXM6IDAgfSxcbiAgICAgICAgICAgIHN0YXRpc3RpY3M6IHtcbiAgICAgICAgICAgICAgdG90YWxSU1ZQczogMCxcbiAgICAgICAgICAgICAgYnlTdGF0dXM6IHsgYXR0ZW5kaW5nOiAwLCBkZWNsaW5lZDogMCwgbWF5YmU6IDAsIHBlbmRpbmc6IDAgfSxcbiAgICAgICAgICAgICAgdG90YWxHdWVzdENvdW50OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KFxuICAgICAgICAgIGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FkbWluL3JzdnBzP3N0YXR1cz0ke3N0YXR1c31gXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQWN0XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuXG4gICAgICAgIC8vIEFzc2VydFxuICAgICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICAgIGV4cGVjdChtb2NrTGlzdFJTVlBzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICB7IHN0YXR1cyB9LFxuICAgICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDUwIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInJlcXVpcmVBY3R1YWwiLCJ3aXRoQXV0aCIsImZuIiwiaGFuZGxlciIsImRlc2NyaWJlIiwibW9ja0xpc3RSU1ZQcyIsInJzdnBNYW5hZ2VtZW50U2VydmljZSIsImxpc3RSU1ZQcyIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJtb2NrUmVzcG9uc2UiLCJkYXRhIiwiaWQiLCJndWVzdElkIiwiZ3Vlc3RGaXJzdE5hbWUiLCJndWVzdExhc3ROYW1lIiwiZ3Vlc3RFbWFpbCIsImV2ZW50SWQiLCJldmVudE5hbWUiLCJhY3Rpdml0eUlkIiwiYWN0aXZpdHlOYW1lIiwic3RhdHVzIiwiZ3Vlc3RDb3VudCIsImRpZXRhcnlOb3RlcyIsInNwZWNpYWxSZXF1aXJlbWVudHMiLCJub3RlcyIsInJlc3BvbmRlZEF0IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwicGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwidG90YWxQYWdlcyIsInN0YXRpc3RpY3MiLCJ0b3RhbFJTVlBzIiwiYnlTdGF0dXMiLCJhdHRlbmRpbmciLCJkZWNsaW5lZCIsIm1heWJlIiwicGVuZGluZyIsInRvdGFsR3Vlc3RDb3VudCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwic3VjY2VzcyIsInJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInJlc3BvbnNlIiwiR0VUIiwianNvbiIsImV4cGVjdCIsInRvQmUiLCJ0b0VxdWFsIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzZWFyY2hRdWVyeSIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwibG9uZ1F1ZXJ5IiwicmVwZWF0IiwiZGV0YWlscyIsImZpZWxkIiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsImNvbnNvbGVFcnJvclNweSIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm9iamVjdENvbnRhaW5pbmciLCJzdGFjayIsImFueSIsIlN0cmluZyIsIm1vY2tSZXN0b3JlIiwiYXBpSGVscGVycyIsInN0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