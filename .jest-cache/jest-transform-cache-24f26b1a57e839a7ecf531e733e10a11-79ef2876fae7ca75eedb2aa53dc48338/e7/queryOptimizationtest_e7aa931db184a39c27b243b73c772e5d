91e830d5cef1c833e4446fcc7cca8240
/**
 * Tests for query optimization utilities
 * 
 * Validates:
 * - Pagination calculations
 * - Field selection
 * - Query performance monitoring
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _queryOptimization = require("./queryOptimization");
describe('Query Optimization Utilities', ()=>{
    describe('calculatePaginationRange', ()=>{
        it('should calculate correct range for first page', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1, 50);
            expect(result).toEqual({
                from: 0,
                to: 49
            });
        });
        it('should calculate correct range for second page', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(2, 50);
            expect(result).toEqual({
                from: 50,
                to: 99
            });
        });
        it('should calculate correct range for third page', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(3, 50);
            expect(result).toEqual({
                from: 100,
                to: 149
            });
        });
        it('should use default page size when not provided', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1);
            expect(result).toEqual({
                from: 0,
                to: _queryOptimization.DEFAULT_PAGE_SIZE - 1
            });
        });
        it('should handle page size of 25', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1, 25);
            expect(result).toEqual({
                from: 0,
                to: 24
            });
        });
        it('should handle page size of 100', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1, 100);
            expect(result).toEqual({
                from: 0,
                to: 99
            });
        });
        it('should constrain page size to maximum', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1, 200);
            expect(result).toEqual({
                from: 0,
                to: _queryOptimization.MAX_PAGE_SIZE - 1
            });
        });
        it('should handle invalid page numbers', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(0, 50);
            expect(result).toEqual({
                from: 0,
                to: 49
            });
        });
        it('should handle negative page numbers', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(-5, 50);
            expect(result).toEqual({
                from: 0,
                to: 49
            });
        });
        it('should handle invalid page sizes', ()=>{
            const result = (0, _queryOptimization.calculatePaginationRange)(1, 0);
            expect(result).toEqual({
                from: 0,
                to: 0
            });
        });
    });
    describe('buildPaginatedResult', ()=>{
        it('should build correct pagination metadata for first page', ()=>{
            const data = Array.from({
                length: 50
            }, (_, i)=>({
                    id: i + 1
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 150, 1, 50);
            expect(result.data).toEqual(data);
            expect(result.pagination).toEqual({
                page: 1,
                pageSize: 50,
                totalCount: 150,
                totalPages: 3,
                hasNextPage: true,
                hasPreviousPage: false
            });
        });
        it('should build correct pagination metadata for middle page', ()=>{
            const data = Array.from({
                length: 50
            }, (_, i)=>({
                    id: i + 51
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 150, 2, 50);
            expect(result.pagination).toEqual({
                page: 2,
                pageSize: 50,
                totalCount: 150,
                totalPages: 3,
                hasNextPage: true,
                hasPreviousPage: true
            });
        });
        it('should build correct pagination metadata for last page', ()=>{
            const data = Array.from({
                length: 50
            }, (_, i)=>({
                    id: i + 101
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 150, 3, 50);
            expect(result.pagination).toEqual({
                page: 3,
                pageSize: 50,
                totalCount: 150,
                totalPages: 3,
                hasNextPage: false,
                hasPreviousPage: true
            });
        });
        it('should handle partial last page', ()=>{
            const data = Array.from({
                length: 25
            }, (_, i)=>({
                    id: i + 101
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 125, 3, 50);
            expect(result.pagination).toEqual({
                page: 3,
                pageSize: 50,
                totalCount: 125,
                totalPages: 3,
                hasNextPage: false,
                hasPreviousPage: true
            });
        });
        it('should handle single page', ()=>{
            const data = Array.from({
                length: 25
            }, (_, i)=>({
                    id: i + 1
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 25, 1, 50);
            expect(result.pagination).toEqual({
                page: 1,
                pageSize: 50,
                totalCount: 25,
                totalPages: 1,
                hasNextPage: false,
                hasPreviousPage: false
            });
        });
        it('should handle empty results', ()=>{
            const result = (0, _queryOptimization.buildPaginatedResult)([], 0, 1, 50);
            expect(result.data).toEqual([]);
            expect(result.pagination).toEqual({
                page: 1,
                pageSize: 50,
                totalCount: 0,
                totalPages: 0,
                hasNextPage: false,
                hasPreviousPage: false
            });
        });
        it('should use default page size when not provided', ()=>{
            const data = Array.from({
                length: _queryOptimization.DEFAULT_PAGE_SIZE
            }, (_, i)=>({
                    id: i + 1
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 100);
            expect(result.pagination.pageSize).toBe(_queryOptimization.DEFAULT_PAGE_SIZE);
        });
        it('should constrain page size to maximum', ()=>{
            const data = Array.from({
                length: 100
            }, (_, i)=>({
                    id: i + 1
                }));
            const result = (0, _queryOptimization.buildPaginatedResult)(data, 200, 1, 200);
            expect(result.pagination.pageSize).toBe(_queryOptimization.MAX_PAGE_SIZE);
        });
    });
    describe('Query Performance Monitoring', ()=>{
        beforeEach(()=>{
            (0, _queryOptimization.clearQueryMetrics)();
        });
        it('should track query duration', ()=>{
            const startTime = (0, _queryOptimization.startQueryMonitoring)('test-query');
            // Simulate some work
            const sum = Array.from({
                length: 1000
            }, (_, i)=>i).reduce((a, b)=>a + b, 0);
            (0, _queryOptimization.endQueryMonitoring)('test-query', startTime, 100);
            const metrics = (0, _queryOptimization.getQueryMetrics)();
            expect(metrics).toHaveLength(1);
            expect(metrics[0].queryName).toBe('test-query');
            expect(metrics[0].recordCount).toBe(100);
            expect(metrics[0].duration).toBeGreaterThan(0);
        });
        it('should track multiple queries', ()=>{
            const start1 = (0, _queryOptimization.startQueryMonitoring)('query-1');
            (0, _queryOptimization.endQueryMonitoring)('query-1', start1, 50);
            const start2 = (0, _queryOptimization.startQueryMonitoring)('query-2');
            (0, _queryOptimization.endQueryMonitoring)('query-2', start2, 75);
            const start3 = (0, _queryOptimization.startQueryMonitoring)('query-3');
            (0, _queryOptimization.endQueryMonitoring)('query-3', start3, 100);
            const metrics = (0, _queryOptimization.getQueryMetrics)();
            expect(metrics).toHaveLength(3);
            expect(metrics[0].queryName).toBe('query-1');
            expect(metrics[1].queryName).toBe('query-2');
            expect(metrics[2].queryName).toBe('query-3');
        });
        it('should calculate average query duration', ()=>{
            const start1 = (0, _queryOptimization.startQueryMonitoring)('test-query');
            (0, _queryOptimization.endQueryMonitoring)('test-query', start1, 100);
            const start2 = (0, _queryOptimization.startQueryMonitoring)('test-query');
            (0, _queryOptimization.endQueryMonitoring)('test-query', start2, 100);
            const start3 = (0, _queryOptimization.startQueryMonitoring)('test-query');
            (0, _queryOptimization.endQueryMonitoring)('test-query', start3, 100);
            const avgDuration = (0, _queryOptimization.getAverageQueryDuration)('test-query');
            expect(avgDuration).toBeGreaterThan(0);
        });
        it('should return 0 for unknown query', ()=>{
            const avgDuration = (0, _queryOptimization.getAverageQueryDuration)('unknown-query');
            expect(avgDuration).toBe(0);
        });
        it('should clear metrics', ()=>{
            const start = (0, _queryOptimization.startQueryMonitoring)('test-query');
            (0, _queryOptimization.endQueryMonitoring)('test-query', start, 100);
            expect((0, _queryOptimization.getQueryMetrics)()).toHaveLength(1);
            (0, _queryOptimization.clearQueryMetrics)();
            expect((0, _queryOptimization.getQueryMetrics)()).toHaveLength(0);
        });
        it('should limit metrics to 100 entries', ()=>{
            // Add 150 metrics
            for(let i = 0; i < 150; i++){
                const start = (0, _queryOptimization.startQueryMonitoring)(`query-${i}`);
                (0, _queryOptimization.endQueryMonitoring)(`query-${i}`, start, 10);
            }
            const metrics = (0, _queryOptimization.getQueryMetrics)();
            expect(metrics).toHaveLength(100);
            // Should keep the most recent 100
            expect(metrics[0].queryName).toBe('query-50');
            expect(metrics[99].queryName).toBe('query-149');
        });
    });
    describe('Performance Requirements', ()=>{
        it('should calculate pagination range in under 1ms', ()=>{
            const start = performance.now();
            for(let i = 0; i < 1000; i++){
                (0, _queryOptimization.calculatePaginationRange)(i + 1, 50);
            }
            const duration = performance.now() - start;
            // 1000 calculations should take less than 10ms
            expect(duration).toBeLessThan(10);
        });
        it('should build paginated result in under 1ms', ()=>{
            const data = Array.from({
                length: 50
            }, (_, i)=>({
                    id: i + 1
                }));
            const start = performance.now();
            for(let i = 0; i < 1000; i++){
                (0, _queryOptimization.buildPaginatedResult)(data, 150, 1, 50);
            }
            const duration = performance.now() - start;
            // 1000 builds should take less than 10ms
            expect(duration).toBeLessThan(10);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvbGliL3F1ZXJ5T3B0aW1pemF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZXN0cyBmb3IgcXVlcnkgb3B0aW1pemF0aW9uIHV0aWxpdGllc1xuICogXG4gKiBWYWxpZGF0ZXM6XG4gKiAtIFBhZ2luYXRpb24gY2FsY3VsYXRpb25zXG4gKiAtIEZpZWxkIHNlbGVjdGlvblxuICogLSBRdWVyeSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nXG4gKi9cblxuaW1wb3J0IHtcbiAgY2FsY3VsYXRlUGFnaW5hdGlvblJhbmdlLFxuICBidWlsZFBhZ2luYXRlZFJlc3VsdCxcbiAgREVGQVVMVF9QQUdFX1NJWkUsXG4gIE1BWF9QQUdFX1NJWkUsXG4gIHN0YXJ0UXVlcnlNb25pdG9yaW5nLFxuICBlbmRRdWVyeU1vbml0b3JpbmcsXG4gIGdldFF1ZXJ5TWV0cmljcyxcbiAgZ2V0QXZlcmFnZVF1ZXJ5RHVyYXRpb24sXG4gIGNsZWFyUXVlcnlNZXRyaWNzLFxufSBmcm9tICcuL3F1ZXJ5T3B0aW1pemF0aW9uJztcblxuZGVzY3JpYmUoJ1F1ZXJ5IE9wdGltaXphdGlvbiBVdGlsaXRpZXMnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdjYWxjdWxhdGVQYWdpbmF0aW9uUmFuZ2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29ycmVjdCByYW5nZSBmb3IgZmlyc3QgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgxLCA1MCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBmcm9tOiAwLCB0bzogNDkgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBjb3JyZWN0IHJhbmdlIGZvciBzZWNvbmQgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgyLCA1MCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBmcm9tOiA1MCwgdG86IDk5IH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29ycmVjdCByYW5nZSBmb3IgdGhpcmQgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgzLCA1MCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBmcm9tOiAxMDAsIHRvOiAxNDkgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBkZWZhdWx0IHBhZ2Ugc2l6ZSB3aGVuIG5vdCBwcm92aWRlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgxKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7IGZyb206IDAsIHRvOiBERUZBVUxUX1BBR0VfU0laRSAtIDEgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYWdlIHNpemUgb2YgMjUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVQYWdpbmF0aW9uUmFuZ2UoMSwgMjUpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZnJvbTogMCwgdG86IDI0IH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFnZSBzaXplIG9mIDEwMCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgxLCAxMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZnJvbTogMCwgdG86IDk5IH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb25zdHJhaW4gcGFnZSBzaXplIHRvIG1heGltdW0nLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVQYWdpbmF0aW9uUmFuZ2UoMSwgMjAwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7IGZyb206IDAsIHRvOiBNQVhfUEFHRV9TSVpFIC0gMSB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgcGFnZSBudW1iZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlUGFnaW5hdGlvblJhbmdlKDAsIDUwKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7IGZyb206IDAsIHRvOiA0OSB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5lZ2F0aXZlIHBhZ2UgbnVtYmVycycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhZ2luYXRpb25SYW5nZSgtNSwgNTApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZnJvbTogMCwgdG86IDQ5IH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBwYWdlIHNpemVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlUGFnaW5hdGlvblJhbmdlKDEsIDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgZnJvbTogMCwgdG86IDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdidWlsZFBhZ2luYXRlZFJlc3VsdCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJ1aWxkIGNvcnJlY3QgcGFnaW5hdGlvbiBtZXRhZGF0YSBmb3IgZmlyc3QgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1MCB9LCAoXywgaSkgPT4gKHsgaWQ6IGkgKyAxIH0pKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGFnaW5hdGVkUmVzdWx0KGRhdGEsIDE1MCwgMSwgNTApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwoZGF0YSk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2luYXRpb24pLnRvRXF1YWwoe1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBwYWdlU2l6ZTogNTAsXG4gICAgICAgIHRvdGFsQ291bnQ6IDE1MCxcbiAgICAgICAgdG90YWxQYWdlczogMyxcbiAgICAgICAgaGFzTmV4dFBhZ2U6IHRydWUsXG4gICAgICAgIGhhc1ByZXZpb3VzUGFnZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYnVpbGQgY29ycmVjdCBwYWdpbmF0aW9uIG1ldGFkYXRhIGZvciBtaWRkbGUgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1MCB9LCAoXywgaSkgPT4gKHsgaWQ6IGkgKyA1MSB9KSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhZ2luYXRlZFJlc3VsdChkYXRhLCAxNTAsIDIsIDUwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wYWdpbmF0aW9uKS50b0VxdWFsKHtcbiAgICAgICAgcGFnZTogMixcbiAgICAgICAgcGFnZVNpemU6IDUwLFxuICAgICAgICB0b3RhbENvdW50OiAxNTAsXG4gICAgICAgIHRvdGFsUGFnZXM6IDMsXG4gICAgICAgIGhhc05leHRQYWdlOiB0cnVlLFxuICAgICAgICBoYXNQcmV2aW91c1BhZ2U6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYnVpbGQgY29ycmVjdCBwYWdpbmF0aW9uIG1ldGFkYXRhIGZvciBsYXN0IHBhZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNTAgfSwgKF8sIGkpID0+ICh7IGlkOiBpICsgMTAxIH0pKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGFnaW5hdGVkUmVzdWx0KGRhdGEsIDE1MCwgMywgNTApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2luYXRpb24pLnRvRXF1YWwoe1xuICAgICAgICBwYWdlOiAzLFxuICAgICAgICBwYWdlU2l6ZTogNTAsXG4gICAgICAgIHRvdGFsQ291bnQ6IDE1MCxcbiAgICAgICAgdG90YWxQYWdlczogMyxcbiAgICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgICBoYXNQcmV2aW91c1BhZ2U6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBhcnRpYWwgbGFzdCBwYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDI1IH0sIChfLCBpKSA9PiAoeyBpZDogaSArIDEwMSB9KSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhZ2luYXRlZFJlc3VsdChkYXRhLCAxMjUsIDMsIDUwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wYWdpbmF0aW9uKS50b0VxdWFsKHtcbiAgICAgICAgcGFnZTogMyxcbiAgICAgICAgcGFnZVNpemU6IDUwLFxuICAgICAgICB0b3RhbENvdW50OiAxMjUsXG4gICAgICAgIHRvdGFsUGFnZXM6IDMsXG4gICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgaGFzUHJldmlvdXNQYWdlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzaW5nbGUgcGFnZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNSB9LCAoXywgaSkgPT4gKHsgaWQ6IGkgKyAxIH0pKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGFnaW5hdGVkUmVzdWx0KGRhdGEsIDI1LCAxLCA1MCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGFnaW5hdGlvbikudG9FcXVhbCh7XG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIHBhZ2VTaXplOiA1MCxcbiAgICAgICAgdG90YWxDb3VudDogMjUsXG4gICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgaGFzUHJldmlvdXNQYWdlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgcmVzdWx0cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGFnaW5hdGVkUmVzdWx0KFtdLCAwLCAxLCA1MCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2luYXRpb24pLnRvRXF1YWwoe1xuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBwYWdlU2l6ZTogNTAsXG4gICAgICAgIHRvdGFsQ291bnQ6IDAsXG4gICAgICAgIHRvdGFsUGFnZXM6IDAsXG4gICAgICAgIGhhc05leHRQYWdlOiBmYWxzZSxcbiAgICAgICAgaGFzUHJldmlvdXNQYWdlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgZGVmYXVsdCBwYWdlIHNpemUgd2hlbiBub3QgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogREVGQVVMVF9QQUdFX1NJWkUgfSwgKF8sIGkpID0+ICh7IGlkOiBpICsgMSB9KSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhZ2luYXRlZFJlc3VsdChkYXRhLCAxMDApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2luYXRpb24ucGFnZVNpemUpLnRvQmUoREVGQVVMVF9QQUdFX1NJWkUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb25zdHJhaW4gcGFnZSBzaXplIHRvIG1heGltdW0nLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoeyBpZDogaSArIDEgfSkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYWdpbmF0ZWRSZXN1bHQoZGF0YSwgMjAwLCAxLCAyMDApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2luYXRpb24ucGFnZVNpemUpLnRvQmUoTUFYX1BBR0VfU0laRSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdRdWVyeSBQZXJmb3JtYW5jZSBNb25pdG9yaW5nJywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgY2xlYXJRdWVyeU1ldHJpY3MoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHJhY2sgcXVlcnkgZHVyYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBzdGFydFF1ZXJ5TW9uaXRvcmluZygndGVzdC1xdWVyeScpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBzb21lIHdvcmtcbiAgICAgIGNvbnN0IHN1bSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+IGkpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuICAgICAgXG4gICAgICBlbmRRdWVyeU1vbml0b3JpbmcoJ3Rlc3QtcXVlcnknLCBzdGFydFRpbWUsIDEwMCk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBnZXRRdWVyeU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QobWV0cmljc1swXS5xdWVyeU5hbWUpLnRvQmUoJ3Rlc3QtcXVlcnknKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzWzBdLnJlY29yZENvdW50KS50b0JlKDEwMCk7XG4gICAgICBleHBlY3QobWV0cmljc1swXS5kdXJhdGlvbikudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBtdWx0aXBsZSBxdWVyaWVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnQxID0gc3RhcnRRdWVyeU1vbml0b3JpbmcoJ3F1ZXJ5LTEnKTtcbiAgICAgIGVuZFF1ZXJ5TW9uaXRvcmluZygncXVlcnktMScsIHN0YXJ0MSwgNTApO1xuXG4gICAgICBjb25zdCBzdGFydDIgPSBzdGFydFF1ZXJ5TW9uaXRvcmluZygncXVlcnktMicpO1xuICAgICAgZW5kUXVlcnlNb25pdG9yaW5nKCdxdWVyeS0yJywgc3RhcnQyLCA3NSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0MyA9IHN0YXJ0UXVlcnlNb25pdG9yaW5nKCdxdWVyeS0zJyk7XG4gICAgICBlbmRRdWVyeU1vbml0b3JpbmcoJ3F1ZXJ5LTMnLCBzdGFydDMsIDEwMCk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBnZXRRdWVyeU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICBleHBlY3QobWV0cmljc1swXS5xdWVyeU5hbWUpLnRvQmUoJ3F1ZXJ5LTEnKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzWzFdLnF1ZXJ5TmFtZSkudG9CZSgncXVlcnktMicpO1xuICAgICAgZXhwZWN0KG1ldHJpY3NbMl0ucXVlcnlOYW1lKS50b0JlKCdxdWVyeS0zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBhdmVyYWdlIHF1ZXJ5IGR1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnQxID0gc3RhcnRRdWVyeU1vbml0b3JpbmcoJ3Rlc3QtcXVlcnknKTtcbiAgICAgIGVuZFF1ZXJ5TW9uaXRvcmluZygndGVzdC1xdWVyeScsIHN0YXJ0MSwgMTAwKTtcblxuICAgICAgY29uc3Qgc3RhcnQyID0gc3RhcnRRdWVyeU1vbml0b3JpbmcoJ3Rlc3QtcXVlcnknKTtcbiAgICAgIGVuZFF1ZXJ5TW9uaXRvcmluZygndGVzdC1xdWVyeScsIHN0YXJ0MiwgMTAwKTtcblxuICAgICAgY29uc3Qgc3RhcnQzID0gc3RhcnRRdWVyeU1vbml0b3JpbmcoJ3Rlc3QtcXVlcnknKTtcbiAgICAgIGVuZFF1ZXJ5TW9uaXRvcmluZygndGVzdC1xdWVyeScsIHN0YXJ0MywgMTAwKTtcblxuICAgICAgY29uc3QgYXZnRHVyYXRpb24gPSBnZXRBdmVyYWdlUXVlcnlEdXJhdGlvbigndGVzdC1xdWVyeScpO1xuICAgICAgZXhwZWN0KGF2Z0R1cmF0aW9uKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGZvciB1bmtub3duIHF1ZXJ5JywgKCkgPT4ge1xuICAgICAgY29uc3QgYXZnRHVyYXRpb24gPSBnZXRBdmVyYWdlUXVlcnlEdXJhdGlvbigndW5rbm93bi1xdWVyeScpO1xuICAgICAgZXhwZWN0KGF2Z0R1cmF0aW9uKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbGVhciBtZXRyaWNzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnQgPSBzdGFydFF1ZXJ5TW9uaXRvcmluZygndGVzdC1xdWVyeScpO1xuICAgICAgZW5kUXVlcnlNb25pdG9yaW5nKCd0ZXN0LXF1ZXJ5Jywgc3RhcnQsIDEwMCk7XG5cbiAgICAgIGV4cGVjdChnZXRRdWVyeU1ldHJpY3MoKSkudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICBjbGVhclF1ZXJ5TWV0cmljcygpO1xuXG4gICAgICBleHBlY3QoZ2V0UXVlcnlNZXRyaWNzKCkpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbGltaXQgbWV0cmljcyB0byAxMDAgZW50cmllcycsICgpID0+IHtcbiAgICAgIC8vIEFkZCAxNTAgbWV0cmljc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTA7IGkrKykge1xuICAgICAgICBjb25zdCBzdGFydCA9IHN0YXJ0UXVlcnlNb25pdG9yaW5nKGBxdWVyeS0ke2l9YCk7XG4gICAgICAgIGVuZFF1ZXJ5TW9uaXRvcmluZyhgcXVlcnktJHtpfWAsIHN0YXJ0LCAxMCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBnZXRRdWVyeU1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVMZW5ndGgoMTAwKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGtlZXAgdGhlIG1vc3QgcmVjZW50IDEwMFxuICAgICAgZXhwZWN0KG1ldHJpY3NbMF0ucXVlcnlOYW1lKS50b0JlKCdxdWVyeS01MCcpO1xuICAgICAgZXhwZWN0KG1ldHJpY3NbOTldLnF1ZXJ5TmFtZSkudG9CZSgncXVlcnktMTQ5Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBSZXF1aXJlbWVudHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcGFnaW5hdGlvbiByYW5nZSBpbiB1bmRlciAxbXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xuICAgICAgICBjYWxjdWxhdGVQYWdpbmF0aW9uUmFuZ2UoaSArIDEsIDUwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgXG4gICAgICAvLyAxMDAwIGNhbGN1bGF0aW9ucyBzaG91bGQgdGFrZSBsZXNzIHRoYW4gMTBtc1xuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlTGVzc1RoYW4oMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBidWlsZCBwYWdpbmF0ZWQgcmVzdWx0IGluIHVuZGVyIDFtcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1MCB9LCAoXywgaSkgPT4gKHsgaWQ6IGkgKyAxIH0pKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspIHtcbiAgICAgICAgYnVpbGRQYWdpbmF0ZWRSZXN1bHQoZGF0YSwgMTUwLCAxLCA1MCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDtcbiAgICAgIFxuICAgICAgLy8gMTAwMCBidWlsZHMgc2hvdWxkIHRha2UgbGVzcyB0aGFuIDEwbXNcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwicmVzdWx0IiwiY2FsY3VsYXRlUGFnaW5hdGlvblJhbmdlIiwiZXhwZWN0IiwidG9FcXVhbCIsImZyb20iLCJ0byIsIkRFRkFVTFRfUEFHRV9TSVpFIiwiTUFYX1BBR0VfU0laRSIsImRhdGEiLCJBcnJheSIsImxlbmd0aCIsIl8iLCJpIiwiaWQiLCJidWlsZFBhZ2luYXRlZFJlc3VsdCIsInBhZ2luYXRpb24iLCJwYWdlIiwicGFnZVNpemUiLCJ0b3RhbENvdW50IiwidG90YWxQYWdlcyIsImhhc05leHRQYWdlIiwiaGFzUHJldmlvdXNQYWdlIiwidG9CZSIsImJlZm9yZUVhY2giLCJjbGVhclF1ZXJ5TWV0cmljcyIsInN0YXJ0VGltZSIsInN0YXJ0UXVlcnlNb25pdG9yaW5nIiwic3VtIiwicmVkdWNlIiwiYSIsImIiLCJlbmRRdWVyeU1vbml0b3JpbmciLCJtZXRyaWNzIiwiZ2V0UXVlcnlNZXRyaWNzIiwidG9IYXZlTGVuZ3RoIiwicXVlcnlOYW1lIiwicmVjb3JkQ291bnQiLCJkdXJhdGlvbiIsInRvQmVHcmVhdGVyVGhhbiIsInN0YXJ0MSIsInN0YXJ0MiIsInN0YXJ0MyIsImF2Z0R1cmF0aW9uIiwiZ2V0QXZlcmFnZVF1ZXJ5RHVyYXRpb24iLCJzdGFydCIsInBl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