{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/MobileNav.test.tsx"],"sourcesContent":["import { render, screen, fireEvent } from '@testing-library/react';\nimport { MobileNav, GuestMobileNav, AdminMobileNav } from './MobileNav';\nimport { usePathname, useRouter } from 'next/navigation';\n\n// Mock Next.js navigation\njest.mock('next/navigation', () => ({\n  usePathname: jest.fn(),\n  useRouter: jest.fn(),\n}));\n\ndescribe('MobileNav', () => {\n  const mockPush = jest.fn();\n  const mockItems = [\n    {\n      id: 'home',\n      label: 'Home',\n      icon: 'üè†',\n      href: '/home',\n      activePattern: /^\\/home$/,\n    },\n    {\n      id: 'profile',\n      label: 'Profile',\n      icon: 'üë§',\n      href: '/profile',\n      activePattern: /^\\/profile$/,\n    },\n    {\n      id: 'settings',\n      label: 'Settings',\n      icon: '‚öôÔ∏è',\n      href: '/settings',\n      activePattern: /^\\/settings$/,\n    },\n  ];\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useRouter as jest.Mock).mockReturnValue({ push: mockPush });\n    (usePathname as jest.Mock).mockReturnValue('/home');\n  });\n\n  // Test rendering with various props\n  describe('rendering', () => {\n    it('should render all navigation items', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      expect(screen.getByRole('button', { name: 'Home' })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: 'Profile' })).toBeInTheDocument();\n      expect(screen.getByRole('button', { name: 'Settings' })).toBeInTheDocument();\n    });\n\n    it('should render icons for each item', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      expect(screen.getByText('üè†')).toBeInTheDocument();\n      expect(screen.getByText('üë§')).toBeInTheDocument();\n      expect(screen.getByText('‚öôÔ∏è')).toBeInTheDocument();\n    });\n\n    it('should have proper navigation role', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      const nav = screen.getByRole('navigation', { name: 'Mobile navigation' });\n      expect(nav).toBeInTheDocument();\n    });\n\n    it('should highlight active item', () => {\n      (usePathname as jest.Mock).mockReturnValue('/home');\n      render(<MobileNav items={mockItems} />);\n      \n      const homeButton = screen.getByRole('button', { name: 'Home' });\n      expect(homeButton).toHaveClass('text-jungle-600', 'bg-jungle-50');\n      expect(homeButton).toHaveAttribute('aria-current', 'page');\n    });\n\n    it('should not highlight inactive items', () => {\n      (usePathname as jest.Mock).mockReturnValue('/home');\n      render(<MobileNav items={mockItems} />);\n      \n      const profileButton = screen.getByRole('button', { name: 'Profile' });\n      expect(profileButton).toHaveClass('text-sage-600');\n      expect(profileButton).not.toHaveAttribute('aria-current');\n    });\n  });\n\n  // Test event handlers\n  describe('event handlers', () => {\n    it('should navigate when item clicked', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      fireEvent.click(screen.getByRole('button', { name: 'Profile' }));\n      expect(mockPush).toHaveBeenCalledWith('/profile');\n    });\n\n    it('should navigate to correct href for each item', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      fireEvent.click(screen.getByRole('button', { name: 'Home' }));\n      expect(mockPush).toHaveBeenCalledWith('/home');\n      \n      fireEvent.click(screen.getByRole('button', { name: 'Settings' }));\n      expect(mockPush).toHaveBeenCalledWith('/settings');\n    });\n  });\n\n  // Test conditional rendering\n  describe('conditional rendering', () => {\n    it('should update active state when pathname changes', () => {\n      const { rerender } = render(<MobileNav items={mockItems} />);\n      \n      let homeButton = screen.getByRole('button', { name: 'Home' });\n      expect(homeButton).toHaveClass('text-jungle-600');\n      \n      (usePathname as jest.Mock).mockReturnValue('/profile');\n      rerender(<MobileNav items={mockItems} />);\n      \n      homeButton = screen.getByRole('button', { name: 'Home' });\n      const profileButton = screen.getByRole('button', { name: 'Profile' });\n      \n      expect(homeButton).toHaveClass('text-sage-600');\n      expect(profileButton).toHaveClass('text-jungle-600');\n    });\n\n    it('should handle complex active patterns', () => {\n      const complexItems = [\n        {\n          id: 'admin',\n          label: 'Admin',\n          icon: '‚öôÔ∏è',\n          href: '/admin',\n          activePattern: /^\\/admin/,\n        },\n      ];\n      \n      (usePathname as jest.Mock).mockReturnValue('/admin/users');\n      render(<MobileNav items={complexItems} />);\n      \n      const adminButton = screen.getByRole('button', { name: 'Admin' });\n      expect(adminButton).toHaveClass('text-jungle-600');\n      expect(adminButton).toHaveAttribute('aria-current', 'page');\n    });\n  });\n\n  // Test accessibility\n  describe('accessibility', () => {\n    it('should have proper ARIA labels', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      expect(screen.getByRole('button', { name: 'Home' })).toHaveAttribute('aria-label', 'Home');\n      expect(screen.getByRole('button', { name: 'Profile' })).toHaveAttribute('aria-label', 'Profile');\n    });\n\n    it('should have aria-current on active item', () => {\n      (usePathname as jest.Mock).mockReturnValue('/home');\n      render(<MobileNav items={mockItems} />);\n      \n      const homeButton = screen.getByRole('button', { name: 'Home' });\n      expect(homeButton).toHaveAttribute('aria-current', 'page');\n    });\n\n    it('should have touch-friendly tap targets', () => {\n      render(<MobileNav items={mockItems} />);\n      \n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        expect(button).toHaveClass('tap-target');\n      });\n    });\n  });\n});\n\ndescribe('GuestMobileNav', () => {\n  const mockPush = jest.fn();\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useRouter as jest.Mock).mockReturnValue({ push: mockPush });\n    (usePathname as jest.Mock).mockReturnValue('/guest/dashboard');\n  });\n\n  it('should render guest navigation items', () => {\n    render(<GuestMobileNav />);\n    \n    expect(screen.getByRole('button', { name: 'Home' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'RSVP' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Schedule' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Photos' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Family' })).toBeInTheDocument();\n  });\n\n  it('should navigate to guest routes', () => {\n    render(<GuestMobileNav />);\n    \n    fireEvent.click(screen.getByRole('button', { name: 'RSVP' }));\n    expect(mockPush).toHaveBeenCalledWith('/guest/rsvp');\n  });\n});\n\ndescribe('AdminMobileNav', () => {\n  const mockPush = jest.fn();\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (useRouter as jest.Mock).mockReturnValue({ push: mockPush });\n    (usePathname as jest.Mock).mockReturnValue('/admin');\n  });\n\n  it('should render admin navigation items', () => {\n    render(<AdminMobileNav />);\n    \n    expect(screen.getByRole('button', { name: 'Home' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Guests' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Events' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'Photos' })).toBeInTheDocument();\n    expect(screen.getByRole('button', { name: 'More' })).toBeInTheDocument();\n  });\n\n  it('should navigate to admin routes', () => {\n    render(<AdminMobileNav />);\n    \n    fireEvent.click(screen.getByRole('button', { name: 'Guests' }));\n    expect(mockPush).toHaveBeenCalledWith('/admin/guests');\n  });\n\n  it('should highlight More when on vendor/email/activity/budget pages', () => {\n    (usePathname as jest.Mock).mockReturnValue('/admin/vendors');\n    render(<AdminMobileNav />);\n    \n    const moreButton = screen.getByRole('button', { name: 'More' });\n    expect(moreButton).toHaveClass('text-jungle-600');\n    expect(moreButton).toHaveAttribute('aria-current', 'page');\n  });\n});\n"],"names":["jest","mock","usePathname","fn","useRouter","describe","mockPush","mockItems","id","label","icon","href","activePattern","beforeEach","clearAllMocks","mockReturnValue","push","it","render","MobileNav","items","expect","screen","getByRole","name","toBeInTheDocument","getByText","nav","homeButton","toHaveClass","toHaveAttribute","profileButton","not","fireEvent","click","toHaveBeenCalledWith","rerender","complexItems","adminButton","buttons","getAllByRole","forEach","button","GuestMobileNav","AdminMobileNav","moreButton"],"mappings":"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"}