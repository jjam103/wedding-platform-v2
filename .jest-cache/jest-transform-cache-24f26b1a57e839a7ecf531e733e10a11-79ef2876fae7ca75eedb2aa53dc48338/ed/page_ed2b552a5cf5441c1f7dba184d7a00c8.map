{"version":3,"names":["default","cov_src0iicdl","f","s","AccommodationPage","dynamic","supabase","_authhelpersnextjs","createServerComponentClient","cookies","_headers","data","session","error","authError","auth","getSession","b","_navigation","redirect","guest","guestError","from","select","eq","user","email","single","_jsxruntime","jsx","className","jsxs","assignment","assignmentError","id","maybeSingle","_AccommodationViewer","AccommodationViewer"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/guest/accommodation/page.tsx"],"sourcesContent":["export const dynamic = 'force-dynamic';\n\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs';\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { AccommodationViewer } from '@/components/guest/AccommodationViewer';\n\n/**\n * Accommodation Details Page\n * \n * Displays guest's accommodation assignment:\n * - Assigned room information\n * - Accommodation details\n * - Check-in/check-out dates\n * \n * Requirements: 13.8, 9.1-9.14\n */\nexport default async function AccommodationPage() {\n  const supabase = createServerComponentClient({ cookies });\n  \n  // Check authentication\n  const { data: { session }, error: authError } = await supabase.auth.getSession();\n  \n  if (authError || !session) {\n    redirect('/auth/login?redirect=/guest/accommodation');\n  }\n  \n  // Get guest information\n  const { data: guest, error: guestError } = await supabase\n    .from('guests')\n    .select('*')\n    .eq('email', session.user.email)\n    .single();\n  \n  if (guestError || !guest) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 to-ocean-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8 max-w-md w-full\">\n          <h1 className=\"text-2xl font-bold text-volcano-600 mb-4\">Guest Not Found</h1>\n          <p className=\"text-sage-700 mb-4\">\n            We couldn't find your guest information. Please contact the wedding hosts.\n          </p>\n        </div>\n      </div>\n    );\n  }\n  \n  // Get room assignment\n  const { data: assignment, error: assignmentError } = await supabase\n    .from('room_assignments')\n    .select(`\n      *,\n      room_types (\n        *,\n        accommodations (*)\n      )\n    `)\n    .eq('guest_id', guest.id)\n    .maybeSingle();\n  \n  return <AccommodationViewer guest={guest} assignment={assignment} />;\n}\n"],"mappings":"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","ignoreList":[]}