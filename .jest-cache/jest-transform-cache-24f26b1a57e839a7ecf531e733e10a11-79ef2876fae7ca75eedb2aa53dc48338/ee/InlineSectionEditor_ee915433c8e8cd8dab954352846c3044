6f2c98a13285421d39ef36b9cec491d1
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "InlineSectionEditor", {
    enumerable: true,
    get: function() {
        return InlineSectionEditor;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _dynamic = /*#__PURE__*/ _interop_require_default(require("next/dynamic"));
const _RichTextEditor = require("./RichTextEditor");
const _PhotoGallerySkeleton = require("./PhotoGallerySkeleton");
const _Button = require("../ui/Button");
const _SimpleReferenceSelector = require("./SimpleReferenceSelector");
const _ReferencePreview = require("./ReferencePreview");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Lazy load PhotoPicker component
const PhotoPicker = (0, _dynamic.default)(()=>Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./PhotoPicker"))).then((mod)=>({
            default: mod.PhotoPicker
        })), {
    loadableGenerated: {
        webpack: ()=>[
                require.resolveWeak("./PhotoPicker")
            ]
    },
    loading: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_PhotoGallerySkeleton.PhotoGallerySkeleton, {}),
    ssr: false
});
function InlineSectionEditor({ pageType, pageId, onSave, compact = false, entityName, defaultExpanded = false }) {
    const [sections, setSections] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(true);
    const [saving, setSaving] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const [editingSection, setEditingSection] = (0, _react.useState)(null);
    const [draggedSection, setDraggedSection] = (0, _react.useState)(null);
    const [unsavedChanges, setUnsavedChanges] = (0, _react.useState)({});
    const [savingSection, setSavingSection] = (0, _react.useState)(null);
    // Fetch sections on mount
    (0, _react.useEffect)(()=>{
        fetchSections();
    }, [
        pageType,
        pageId
    ]);
    const fetchSections = (0, _react.useCallback)(async ()=>{
        setLoading(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/by-page/${pageType}/${pageId}`);
            const result = await response.json();
            if (result.success) {
                setSections(result.data || []);
            } else {
                setError(result.error?.message || 'Failed to load sections');
            }
        } catch (err) {
            setError('Failed to load sections');
        } finally{
            setLoading(false);
        }
    }, [
        pageType,
        pageId
    ]);
    const handleAddSection = (0, _react.useCallback)(async ()=>{
        const newSection = {
            page_type: pageType === 'home' ? 'custom' : pageType,
            page_id: pageId,
            display_order: sections.length,
            columns: [
                {
                    column_number: 1,
                    content_type: 'rich_text',
                    content_data: {
                        html: ''
                    }
                }
            ]
        };
        setSaving(true);
        setError(null);
        try {
            const response = await fetch('/api/admin/sections', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(newSection)
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>[
                        ...prev,
                        result.data
                    ]);
                setEditingSection(result.data.id);
            } else {
                setError(result.error?.message || 'Failed to create section');
            }
        } catch (err) {
            setError('Failed to create section');
        } finally{
            setSaving(false);
        }
    }, [
        pageType,
        pageId,
        sections.length
    ]);
    const handleDeleteSection = (0, _react.useCallback)(async (sectionId)=>{
        if (!confirm('Are you sure you want to delete this section?')) {
            return;
        }
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'DELETE'
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.filter((s)=>s.id !== sectionId));
            } else {
                setError(result.error?.message || 'Failed to delete section');
            }
        } catch (err) {
            setError('Failed to delete section');
        } finally{
            setSaving(false);
        }
    }, []);
    const handleTitleChange = (0, _react.useCallback)((sectionId, title)=>{
        setSections((prev)=>prev.map((s)=>s.id === sectionId ? {
                    ...s,
                    title
                } : s));
        setUnsavedChanges((prev)=>({
                ...prev,
                [sectionId]: true
            }));
    }, []);
    const handleToggleLayout = (0, _react.useCallback)(async (sectionId)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const currentLayout = section.columns.length === 1 ? 'one-column' : 'two-column';
        const newLayout = currentLayout === 'one-column' ? 'two-column' : 'one-column';
        const updatedColumns = newLayout === 'two-column' ? [
            {
                column_number: section.columns[0].column_number,
                content_type: section.columns[0].content_type,
                content_data: section.columns[0].content_data
            },
            {
                column_number: 2,
                content_type: 'rich_text',
                content_data: {
                    html: ''
                }
            }
        ] : [
            {
                column_number: section.columns[0].column_number,
                content_type: section.columns[0].content_type,
                content_data: section.columns[0].content_data
            }
        ];
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    columns: updatedColumns
                })
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.map((s)=>s.id === sectionId ? result.data : s));
            } else {
                setError(result.error?.message || 'Failed to update layout');
            }
        } catch (err) {
            setError('Failed to update layout');
        } finally{
            setSaving(false);
        }
    }, [
        sections
    ]);
    const handleColumnTypeChange = (0, _react.useCallback)(async (sectionId, columnId, newType)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const updatedColumns = section.columns.map((col)=>{
            if (col.id === columnId) {
                let contentData;
                switch(newType){
                    case 'rich_text':
                        contentData = {
                            html: ''
                        };
                        break;
                    case 'photo_gallery':
                        contentData = {
                            photo_ids: [],
                            display_mode: 'gallery',
                            autoplaySpeed: 3000,
                            showCaptions: true
                        };
                        break;
                    case 'references':
                        contentData = {
                            references: []
                        };
                        break;
                }
                return {
                    column_number: col.column_number,
                    content_type: newType,
                    content_data: contentData
                };
            }
            return {
                column_number: col.column_number,
                content_type: col.content_type,
                content_data: col.content_data
            };
        });
        setSaving(true);
        setError(null);
        try {
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    columns: updatedColumns
                })
            });
            const result = await response.json();
            if (result.success) {
                setSections((prev)=>prev.map((s)=>s.id === sectionId ? result.data : s));
            } else {
                setError(result.error?.message || 'Failed to update column type');
            }
        } catch (err) {
            setError('Failed to update column type');
        } finally{
            setSaving(false);
        }
    }, [
        sections
    ]);
    const handleColumnContentChange = (0, _react.useCallback)((sectionId, columnId, contentData)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        setSections((prev)=>prev.map((s)=>{
                if (s.id === sectionId) {
                    return {
                        ...s,
                        columns: s.columns.map((col)=>{
                            if (col.id === columnId) {
                                return {
                                    ...col,
                                    content_data: contentData
                                };
                            }
                            return col;
                        })
                    };
                }
                return s;
            }));
        setUnsavedChanges((prev)=>({
                ...prev,
                [sectionId]: true
            }));
    }, [
        sections
    ]);
    const handleSaveSection = (0, _react.useCallback)(async (sectionId)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        setSavingSection(sectionId);
        setError(null);
        try {
            const updatedColumns = section.columns.map((col)=>({
                    column_number: col.column_number,
                    content_type: col.content_type,
                    content_data: col.content_data
                }));
            const payload = {
                title: section.title || null,
                columns: updatedColumns
            };
            const response = await fetch(`/api/admin/sections/${sectionId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            if (result.success) {
                setUnsavedChanges((prev)=>{
                    const newState = {
                        ...prev
                    };
                    delete newState[sectionId];
                    return newState;
                });
                setSections((prev)=>prev.map((s)=>s.id === sectionId ? result.data : s));
                if (onSave) {
                    onSave();
                }
            } else {
                setError(result.error?.message || 'Failed to save section');
            }
        } catch (err) {
            setError('Failed to save section');
        } finally{
            setSavingSection(null);
        }
    }, [
        sections,
        onSave
    ]);
    const handleDragStart = (0, _react.useCallback)((sectionId)=>{
        setDraggedSection(sectionId);
    }, []);
    const handleDragOver = (0, _react.useCallback)((e)=>{
        e.preventDefault();
    }, []);
    const handleDrop = (0, _react.useCallback)(async (targetSectionId)=>{
        if (!draggedSection || draggedSection === targetSectionId) {
            setDraggedSection(null);
            return;
        }
        const draggedIndex = sections.findIndex((s)=>s.id === draggedSection);
        const targetIndex = sections.findIndex((s)=>s.id === targetSectionId);
        if (draggedIndex === -1 || targetIndex === -1) {
            setDraggedSection(null);
            return;
        }
        const newSections = [
            ...sections
        ];
        const [removed] = newSections.splice(draggedIndex, 1);
        newSections.splice(targetIndex, 0, removed);
        const updatedSections = newSections.map((s, index)=>({
                ...s,
                display_order: index
            }));
        setSections(updatedSections);
        setDraggedSection(null);
        setSaving(true);
        setError(null);
        try {
            const response = await fetch('/api/admin/sections/reorder', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    pageId,
                    sectionIds: updatedSections.map((s)=>s.id)
                })
            });
            const result = await response.json();
            if (!result.success) {
                setError(result.error?.message || 'Failed to reorder sections');
                fetchSections();
            }
        } catch (err) {
            setError('Failed to reorder sections');
            fetchSections();
        } finally{
            setSaving(false);
        }
    }, [
        draggedSection,
        sections,
        pageId,
        fetchSections
    ]);
    const handleAddReference = (0, _react.useCallback)((sectionId, columnId, reference)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const column = section.columns.find((c)=>c.id === columnId);
        if (!column || column.content_type !== 'references') return;
        const currentReferences = column.content_data.references || [];
        const updatedReferences = [
            ...currentReferences,
            reference
        ];
        handleColumnContentChange(sectionId, columnId, {
            references: updatedReferences
        });
    }, [
        sections,
        handleColumnContentChange
    ]);
    const handleRemoveReference = (0, _react.useCallback)((sectionId, columnId, referenceIndex)=>{
        const section = sections.find((s)=>s.id === sectionId);
        if (!section) return;
        const column = section.columns.find((c)=>c.id === columnId);
        if (!column || column.content_type !== 'references') return;
        const currentReferences = column.content_data.references || [];
        const updatedReferences = currentReferences.filter((_, idx)=>idx !== referenceIndex);
        handleColumnContentChange(sectionId, columnId, {
            references: updatedReferences
        });
    }, [
        sections,
        handleColumnContentChange
    ]);
    if (loading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "flex items-center justify-center p-4",
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "text-gray-600 text-sm",
                children: "Loading sections..."
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `space-y-4 ${compact ? 'text-sm' : ''}`,
        "data-testid": "inline-section-editor",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: `font-semibold text-gray-900 ${compact ? 'text-base' : 'text-lg'}`,
                                children: "Page Sections"
                            }),
                            Object.keys(unsavedChanges).length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-xs text-amber-600 flex items-center gap-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                        className: "w-3 h-3",
                                        fill: "currentColor",
                                        viewBox: "0 0 20 20",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                            cx: "10",
                                            cy: "10",
                                            r: "4"
                                        })
                                    }),
                                    Object.keys(unsavedChanges).length,
                                    " unsaved"
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        onClick: handleAddSection,
                        disabled: saving,
                        size: "sm",
                        variant: "primary",
                        children: "+ Add Section"
                    })
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-3 bg-red-50 border border-red-200 rounded-md text-sm",
                role: "alert",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-red-800",
                    children: error
                })
            }),
            sections.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-500 text-sm mb-3",
                        children: "No sections yet"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                        onClick: handleAddSection,
                        disabled: saving,
                        variant: "primary",
                        size: "sm",
                        children: "Create First Section"
                    })
                ]
            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "space-y-2",
                children: sections.map((section, index)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        draggable: true,
                        onDragStart: ()=>handleDragStart(section.id),
                        onDragOver: handleDragOver,
                        onDrop: ()=>handleDrop(section.id),
                        className: `border border-gray-200 rounded-lg bg-white shadow-sm transition-opacity ${draggedSection === section.id ? 'opacity-50' : ''}`,
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center justify-between p-3 hover:bg-gray-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-2 flex-1",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "cursor-move text-gray-400 hover:text-gray-600",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("svg", {
                                                    width: "12",
                                                    height: "12",
                                                    viewBox: "0 0 16 16",
                                                    fill: "currentColor",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "4",
                                                            cy: "4",
                                                            r: "1.5"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "4",
                                                            cy: "8",
                                                            r: "1.5"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "4",
                                                            cy: "12",
                                                            r: "1.5"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "8",
                                                            cy: "4",
                                                            r: "1.5"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "8",
                                                            cy: "8",
                                                            r: "1.5"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                            cx: "8",
                                                            cy: "12",
                                                            r: "1.5"
                                                        })
                                                    ]
                                                })
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "flex-1",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                            className: "font-semibold text-gray-900 text-sm",
                                                            children: [
                                                                "#",
                                                                index + 1
                                                            ]
                                                        }),
                                                        section.title && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: "text-gray-900 text-sm",
                                                            children: section.title
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                            className: "text-xs text-gray-500",
                                                            children: section.columns.length === 1 ? '1 Col' : '2 Cols'
                                                        }),
                                                        unsavedChanges[section.id] && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                            className: "flex items-center gap-1 text-xs text-amber-600 font-medium",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                                                    className: "w-2.5 h-2.5",
                                                                    fill: "currentColor",
                                                                    viewBox: "0 0 20 20",
                                                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("circle", {
                                                                        cx: "10",
                                                                        cy: "10",
                                                                        r: "4"
                                                                    })
                                                                }),
                                                                "Unsaved"
                                                            ]
                                                        })
                                                    ]
                                                })
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-1.5",
                                        children: [
                                            unsavedChanges[section.id] && /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                size: "sm",
                                                variant: "primary",
                                                onClick: ()=>handleSaveSection(section.id),
                                                disabled: savingSection === section.id,
                                                children: savingSection === section.id ? 'Saving...' : 'Save'
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                size: "sm",
                                                variant: "secondary",
                                                onClick: ()=>setEditingSection(editingSection === section.id ? null : section.id),
                                                children: editingSection === section.id ? 'Close' : 'Edit'
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_Button.Button, {
                                                size: "sm",
                                                variant: "danger",
                                                onClick: ()=>handleDeleteSection(section.id),
                                                disabled: saving,
                                                children: "Delete"
                                            })
                                        ]
                                    })
                                ]
                            }),
                            editingSection === section.id && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "border-t border-gray-200 p-3 bg-white space-y-3",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                className: "block text-xs font-medium text-gray-700 mb-1",
                                                children: "Section Title (optional)"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                type: "text",
                                                value: section.title || '',
                                                onChange: (e)=>handleTitleChange(section.id, e.target.value),
                                                placeholder: "Enter a title...",
                                                className: "w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                disabled: savingSection === section.id
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                className: "text-xs font-medium text-gray-700",
                                                children: "Layout:"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                value: section.columns.length === 1 ? 'one-column' : 'two-column',
                                                onChange: (e)=>handleToggleLayout(section.id),
                                                className: "text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                disabled: savingSection === section.id,
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                        value: "one-column",
                                                        children: "One Column"
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                        value: "two-column",
                                                        children: "Two Columns"
                                                    })
                                                ]
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: `grid gap-3 ${section.columns.length === 2 ? 'grid-cols-2' : 'grid-cols-1'}`,
                                        children: section.columns.map((column)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "border border-gray-200 rounded-lg p-3 bg-gray-50",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex items-center justify-between mb-2",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "text-xs font-medium text-gray-700",
                                                                children: [
                                                                    "Column ",
                                                                    column.column_number
                                                                ]
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                                value: column.content_type,
                                                                onChange: (e)=>handleColumnTypeChange(section.id, column.id, e.target.value),
                                                                className: "text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                                disabled: savingSection === section.id,
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                        value: "rich_text",
                                                                        children: "Rich Text"
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                        value: "photo_gallery",
                                                                        children: "Photo Gallery"
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                        value: "references",
                                                                        children: "References"
                                                                    })
                                                                ]
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "bg-white rounded border border-gray-200 p-2",
                                                        children: [
                                                            column.content_type === 'rich_text' && /*#__PURE__*/ (0, _jsxruntime.jsx)(_RichTextEditor.RichTextEditor, {
                                                                value: column.content_data.html || '',
                                                                onChange: (html)=>handleColumnContentChange(section.id, column.id, {
                                                                        html
                                                                    }),
                                                                placeholder: "Start typing...",
                                                                disabled: savingSection === section.id
                                                            }),
                                                            column.content_type === 'photo_gallery' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "space-y-2",
                                                                children: [
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                                className: "block text-xs font-medium text-gray-700 mb-1",
                                                                                children: "Display Mode"
                                                                            }),
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                                                value: column.content_data.display_mode || 'gallery',
                                                                                onChange: (e)=>{
                                                                                    const currentData = column.content_data;
                                                                                    handleColumnContentChange(section.id, column.id, {
                                                                                        photo_ids: currentData.photo_ids || [],
                                                                                        display_mode: e.target.value,
                                                                                        autoplaySpeed: currentData.autoplaySpeed || 3000,
                                                                                        showCaptions: currentData.showCaptions !== false
                                                                                    });
                                                                                },
                                                                                className: "w-full text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                                                disabled: savingSection === section.id,
                                                                                children: [
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                                        value: "gallery",
                                                                                        children: "Gallery Grid"
                                                                                    }),
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                                        value: "carousel",
                                                                                        children: "Carousel"
                                                                                    }),
                                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                                                        value: "loop",
                                                                                        children: "Auto-play Loop"
                                                                                    })
                                                                                ]
                                                                            })
                                                                        ]
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        className: "flex items-center gap-2",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                                                type: "checkbox",
                                                                                id: `show-captions-${column.id}`,
                                                                                checked: column.content_data.showCaptions !== false,
                                                                                onChange: (e)=>{
                                                                                    const currentData = column.content_data;
                                                                                    handleColumnContentChange(section.id, column.id, {
                                                                                        photo_ids: currentData.photo_ids || [],
                                                                                        display_mode: currentData.display_mode || 'gallery',
                                                                                        autoplaySpeed: currentData.autoplaySpeed || 3000,
                                                                                        showCaptions: e.target.checked
                                                                                    });
                                                                                },
                                                                                className: "rounded border-gray-300 text-blue-600 focus:ring-blue-500",
                                                                                disabled: savingSection === section.id
                                                                            }),
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                                                htmlFor: `show-captions-${column.id}`,
                                                                                className: "text-xs font-medium text-gray-700",
                                                                                children: "Show captions"
                                                                            })
                                                                        ]
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(PhotoPicker, {
                                                                        selectedPhotoIds: column.content_data.photo_ids || [],
                                                                        onSelectionChange: (photoIds)=>{
                                                                            const currentData = column.content_data;
                                                                            handleColumnContentChange(section.id, column.id, {
                                                                                photo_ids: photoIds,
                                                                                display_mode: currentData.display_mode || 'gallery',
                                                                                autoplaySpeed: currentData.autoplaySpeed || 3000,
                                                                                showCaptions: currentData.showCaptions !== false
                                                                            });
                                                                        },
                                                                        pageType: "memory",
                                                                        pageId: pageId,
                                                                        disabled: savingSection === section.id
                                                                    })
                                                                ]
                                                            }),
                                                            column.content_type === 'references' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                className: "space-y-2",
                                                                children: [
                                                                    (column.content_data.references || []).length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                        className: "space-y-1.5 mb-3",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                                                                className: "text-xs font-medium text-gray-700",
                                                                                children: "Selected References"
                                                                            }),
                                                                            (column.content_data.references || []).map((ref, idx)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_ReferencePreview.ReferencePreview, {
                                                                                    reference: ref,
                                                                                    onRemove: ()=>handleRemoveReference(section.id, column.id, idx)
                                                                                }, `${ref.type}-${ref.id}-${idx}`))
                                                                        ]
                                                                    }),
                                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_SimpleReferenceSelector.SimpleReferenceSelector, {
                                                                        onSelect: (reference)=>handleAddReference(section.id, column.id, reference)
                                                                    })
                                                                ]
                                                            })
                                                        ]
                                                    })
                                                ]
                                            }, column.id))
                                    })
                                ]
                            })
                        ]
                    }, section.id))
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9JbmxpbmVTZWN0aW9uRWRpdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB0eXBlIHsgU2VjdGlvbiwgQ29sdW1uLCBDcmVhdGVTZWN0aW9uRFRPLCBSZWZlcmVuY2UgfSBmcm9tICdAL3NjaGVtYXMvY21zU2NoZW1hcyc7XG5pbXBvcnQgeyBSaWNoVGV4dEVkaXRvciB9IGZyb20gJy4vUmljaFRleHRFZGl0b3InO1xuaW1wb3J0IHsgUGhvdG9HYWxsZXJ5U2tlbGV0b24gfSBmcm9tICcuL1Bob3RvR2FsbGVyeVNrZWxldG9uJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9CdXR0b24nO1xuaW1wb3J0IHsgU2ltcGxlUmVmZXJlbmNlU2VsZWN0b3IgfSBmcm9tICcuL1NpbXBsZVJlZmVyZW5jZVNlbGVjdG9yJztcbmltcG9ydCB7IFJlZmVyZW5jZVByZXZpZXcgfSBmcm9tICcuL1JlZmVyZW5jZVByZXZpZXcnO1xuXG4vLyBMYXp5IGxvYWQgUGhvdG9QaWNrZXIgY29tcG9uZW50XG5jb25zdCBQaG90b1BpY2tlciA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCcuL1Bob3RvUGlja2VyJykudGhlbihtb2QgPT4gKHsgZGVmYXVsdDogbW9kLlBob3RvUGlja2VyIH0pKSwge1xuICBsb2FkaW5nOiAoKSA9PiA8UGhvdG9HYWxsZXJ5U2tlbGV0b24gLz4sXG4gIHNzcjogZmFsc2UsXG59KTtcblxuaW50ZXJmYWNlIElubGluZVNlY3Rpb25FZGl0b3JQcm9wcyB7XG4gIHBhZ2VUeXBlOiAnaG9tZScgfCAnYWN0aXZpdHknIHwgJ2V2ZW50JyB8ICdhY2NvbW1vZGF0aW9uJyB8ICdyb29tX3R5cGUnIHwgJ2N1c3RvbSc7XG4gIHBhZ2VJZDogc3RyaW5nO1xuICBvblNhdmU/OiAoKSA9PiB2b2lkO1xuICBjb21wYWN0PzogYm9vbGVhbjtcbiAgZW50aXR5TmFtZT86IHN0cmluZztcbiAgZGVmYXVsdEV4cGFuZGVkPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFNlY3Rpb25XaXRoQ29sdW1ucyBleHRlbmRzIFNlY3Rpb24ge1xuICBjb2x1bW5zOiBDb2x1bW5bXTtcbn1cblxuLyoqXG4gKiBJbmxpbmVTZWN0aW9uRWRpdG9yIGNvbXBvbmVudCBmb3IgbWFuYWdpbmcgcGFnZSBzZWN0aW9ucyBpbmxpbmVcbiAqIFxuICogU2ltcGxpZmllZCB2ZXJzaW9uIG9mIFNlY3Rpb25FZGl0b3IgZGVzaWduZWQgZm9yIGVtYmVkZGluZyBvbiB0aGUgaG9tZSBwYWdlLlxuICogRmVhdHVyZXM6XG4gKiAtIENvbXBhY3QgaW5saW5lIGVkaXRpbmcgaW50ZXJmYWNlXG4gKiAtIEFkZC9lZGl0L2RlbGV0ZSBzZWN0aW9uc1xuICogLSBEcmFnLWFuZC1kcm9wIHJlb3JkZXJpbmdcbiAqIC0gUGhvdG8gcGlja2VyIGludGVncmF0aW9uXG4gKiAtIFJlZmVyZW5jZSBibG9jayBwaWNrZXIgaW50ZWdyYXRpb25cbiAqIC0gQXV0by1zYXZlIGZ1bmN0aW9uYWxpdHkgd2l0aCBkZWJvdW5jaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBJbmxpbmVTZWN0aW9uRWRpdG9yKHsgcGFnZVR5cGUsIHBhZ2VJZCwgb25TYXZlLCBjb21wYWN0ID0gZmFsc2UsIGVudGl0eU5hbWUsIGRlZmF1bHRFeHBhbmRlZCA9IGZhbHNlIH06IElubGluZVNlY3Rpb25FZGl0b3JQcm9wcykge1xuICBjb25zdCBbc2VjdGlvbnMsIHNldFNlY3Rpb25zXSA9IHVzZVN0YXRlPFNlY3Rpb25XaXRoQ29sdW1uc1tdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZWRpdGluZ1NlY3Rpb24sIHNldEVkaXRpbmdTZWN0aW9uXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZHJhZ2dlZFNlY3Rpb24sIHNldERyYWdnZWRTZWN0aW9uXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdW5zYXZlZENoYW5nZXMsIHNldFVuc2F2ZWRDaGFuZ2VzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtzYXZpbmdTZWN0aW9uLCBzZXRTYXZpbmdTZWN0aW9uXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEZldGNoIHNlY3Rpb25zIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hTZWN0aW9ucygpO1xuICB9LCBbcGFnZVR5cGUsIHBhZ2VJZF0pO1xuXG4gIGNvbnN0IGZldGNoU2VjdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9zZWN0aW9ucy9ieS1wYWdlLyR7cGFnZVR5cGV9LyR7cGFnZUlkfWApO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0U2VjdGlvbnMocmVzdWx0LmRhdGEgfHwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBzZWN0aW9ucycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNlY3Rpb25zJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3BhZ2VUeXBlLCBwYWdlSWRdKTtcblxuICBjb25zdCBoYW5kbGVBZGRTZWN0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5ld1NlY3Rpb246IENyZWF0ZVNlY3Rpb25EVE8gPSB7XG4gICAgICBwYWdlX3R5cGU6IHBhZ2VUeXBlID09PSAnaG9tZScgPyAnY3VzdG9tJyA6IHBhZ2VUeXBlLFxuICAgICAgcGFnZV9pZDogcGFnZUlkLFxuICAgICAgZGlzcGxheV9vcmRlcjogc2VjdGlvbnMubGVuZ3RoLFxuICAgICAgY29sdW1uczogW1xuICAgICAgICB7XG4gICAgICAgICAgY29sdW1uX251bWJlcjogMSxcbiAgICAgICAgICBjb250ZW50X3R5cGU6ICdyaWNoX3RleHQnLFxuICAgICAgICAgIGNvbnRlbnRfZGF0YTogeyBodG1sOiAnJyB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vc2VjdGlvbnMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3U2VjdGlvbiksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0U2VjdGlvbnMocHJldiA9PiBbLi4ucHJldiwgcmVzdWx0LmRhdGFdKTtcbiAgICAgICAgc2V0RWRpdGluZ1NlY3Rpb24ocmVzdWx0LmRhdGEuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHNlY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHNlY3Rpb24nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtwYWdlVHlwZSwgcGFnZUlkLCBzZWN0aW9ucy5sZW5ndGhdKTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVTZWN0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKHNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgc2VjdGlvbj8nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL3NlY3Rpb25zLyR7c2VjdGlvbklkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRTZWN0aW9ucyhwcmV2ID0+IHByZXYuZmlsdGVyKHMgPT4gcy5pZCAhPT0gc2VjdGlvbklkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgc2VjdGlvbicpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgc2VjdGlvbicpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRpdGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHNlY3Rpb25JZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VjdGlvbnMocHJldiA9PlxuICAgICAgcHJldi5tYXAocyA9PiAocy5pZCA9PT0gc2VjdGlvbklkID8geyAuLi5zLCB0aXRsZSB9IDogcykpXG4gICAgKTtcbiAgICBzZXRVbnNhdmVkQ2hhbmdlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtzZWN0aW9uSWRdOiB0cnVlIH0pKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZUxheW91dCA9IHVzZUNhbGxiYWNrKGFzeW5jIChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRMYXlvdXQgPSBzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAxID8gJ29uZS1jb2x1bW4nIDogJ3R3by1jb2x1bW4nO1xuICAgIGNvbnN0IG5ld0xheW91dCA9IGN1cnJlbnRMYXlvdXQgPT09ICdvbmUtY29sdW1uJyA/ICd0d28tY29sdW1uJyA6ICdvbmUtY29sdW1uJztcblxuICAgIGNvbnN0IHVwZGF0ZWRDb2x1bW5zID0gbmV3TGF5b3V0ID09PSAndHdvLWNvbHVtbidcbiAgICAgID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbHVtbl9udW1iZXI6IHNlY3Rpb24uY29sdW1uc1swXS5jb2x1bW5fbnVtYmVyLFxuICAgICAgICAgICAgY29udGVudF90eXBlOiBzZWN0aW9uLmNvbHVtbnNbMF0uY29udGVudF90eXBlLFxuICAgICAgICAgICAgY29udGVudF9kYXRhOiBzZWN0aW9uLmNvbHVtbnNbMF0uY29udGVudF9kYXRhLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29sdW1uX251bWJlcjogMiBhcyBjb25zdCxcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ3JpY2hfdGV4dCcgYXMgY29uc3QsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IHsgaHRtbDogJycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdXG4gICAgICA6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb2x1bW5fbnVtYmVyOiBzZWN0aW9uLmNvbHVtbnNbMF0uY29sdW1uX251bWJlcixcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogc2VjdGlvbi5jb2x1bW5zWzBdLmNvbnRlbnRfdHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnRfZGF0YTogc2VjdGlvbi5jb2x1bW5zWzBdLmNvbnRlbnRfZGF0YSxcbiAgICAgICAgICB9LFxuICAgICAgICBdO1xuXG4gICAgc2V0U2F2aW5nKHRydWUpO1xuICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWRtaW4vc2VjdGlvbnMvJHtzZWN0aW9uSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb2x1bW5zOiB1cGRhdGVkQ29sdW1ucyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICBzZXRTZWN0aW9ucyhwcmV2ID0+XG4gICAgICAgICAgcHJldi5tYXAocyA9PiAocy5pZCA9PT0gc2VjdGlvbklkID8gcmVzdWx0LmRhdGEgOiBzKSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEVycm9yKHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBsYXlvdXQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGxheW91dCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3NlY3Rpb25zXSk7XG5cbiAgY29uc3QgaGFuZGxlQ29sdW1uVHlwZUNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChzZWN0aW9uSWQ6IHN0cmluZywgY29sdW1uSWQ6IHN0cmluZywgbmV3VHlwZTogJ3JpY2hfdGV4dCcgfCAncGhvdG9fZ2FsbGVyeScgfCAncmVmZXJlbmNlcycpID0+IHtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICAgIGlmICghc2VjdGlvbikgcmV0dXJuO1xuXG4gICAgICBjb25zdCB1cGRhdGVkQ29sdW1ucyA9IHNlY3Rpb24uY29sdW1ucy5tYXAoY29sID0+IHtcbiAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICBsZXQgY29udGVudERhdGE6IGFueTtcbiAgICAgICAgICBzd2l0Y2ggKG5ld1R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JpY2hfdGV4dCc6XG4gICAgICAgICAgICAgIGNvbnRlbnREYXRhID0geyBodG1sOiAnJyB9O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bob3RvX2dhbGxlcnknOlxuICAgICAgICAgICAgICBjb250ZW50RGF0YSA9IHsgXG4gICAgICAgICAgICAgICAgcGhvdG9faWRzOiBbXSwgXG4gICAgICAgICAgICAgICAgZGlzcGxheV9tb2RlOiAnZ2FsbGVyeScsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgICAgICAgICBzaG93Q2FwdGlvbnM6IHRydWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZWZlcmVuY2VzJzpcbiAgICAgICAgICAgICAgY29udGVudERhdGEgPSB7IHJlZmVyZW5jZXM6IFtdIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29sdW1uX251bWJlcjogY29sLmNvbHVtbl9udW1iZXIsXG4gICAgICAgICAgICBjb250ZW50X3R5cGU6IG5ld1R5cGUsXG4gICAgICAgICAgICBjb250ZW50X2RhdGE6IGNvbnRlbnREYXRhLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb2x1bW5fbnVtYmVyOiBjb2wuY29sdW1uX251bWJlcixcbiAgICAgICAgICBjb250ZW50X3R5cGU6IGNvbC5jb250ZW50X3R5cGUsXG4gICAgICAgICAgY29udGVudF9kYXRhOiBjb2wuY29udGVudF9kYXRhLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHNldFNhdmluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL3NlY3Rpb25zLyR7c2VjdGlvbklkfWAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29sdW1uczogdXBkYXRlZENvbHVtbnMgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzZXRTZWN0aW9ucyhwcmV2ID0+XG4gICAgICAgICAgICBwcmV2Lm1hcChzID0+IChzLmlkID09PSBzZWN0aW9uSWQgPyByZXN1bHQuZGF0YSA6IHMpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0RXJyb3IocmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGNvbHVtbiB0eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBjb2x1bW4gdHlwZScpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZWN0aW9uc11cbiAgKTtcblxuICBjb25zdCBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlY3Rpb25JZDogc3RyaW5nLCBjb2x1bW5JZDogc3RyaW5nLCBjb250ZW50RGF0YTogYW55KSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgICAgc2V0U2VjdGlvbnMocHJldiA9PlxuICAgICAgICBwcmV2Lm1hcChzID0+IHtcbiAgICAgICAgICBpZiAocy5pZCA9PT0gc2VjdGlvbklkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBzLmNvbHVtbnMubWFwKGNvbCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmNvbCwgY29udGVudF9kYXRhOiBjb250ZW50RGF0YSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29sO1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgc2V0VW5zYXZlZENoYW5nZXMocHJldiA9PiAoeyAuLi5wcmV2LCBbc2VjdGlvbklkXTogdHJ1ZSB9KSk7XG4gICAgfSxcbiAgICBbc2VjdGlvbnNdXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlU2F2ZVNlY3Rpb24gPSB1c2VDYWxsYmFjayhhc3luYyAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgaWYgKCFzZWN0aW9uKSByZXR1cm47XG5cbiAgICBzZXRTYXZpbmdTZWN0aW9uKHNlY3Rpb25JZCk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXBkYXRlZENvbHVtbnMgPSBzZWN0aW9uLmNvbHVtbnMubWFwKGNvbCA9PiAoe1xuICAgICAgICBjb2x1bW5fbnVtYmVyOiBjb2wuY29sdW1uX251bWJlcixcbiAgICAgICAgY29udGVudF90eXBlOiBjb2wuY29udGVudF90eXBlLFxuICAgICAgICBjb250ZW50X2RhdGE6IGNvbC5jb250ZW50X2RhdGEsXG4gICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7IFxuICAgICAgICB0aXRsZTogc2VjdGlvbi50aXRsZSB8fCBudWxsLFxuICAgICAgICBjb2x1bW5zOiB1cGRhdGVkQ29sdW1ucyBcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWRtaW4vc2VjdGlvbnMvJHtzZWN0aW9uSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0VW5zYXZlZENoYW5nZXMocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICBkZWxldGUgbmV3U3RhdGVbc2VjdGlvbklkXTtcbiAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0U2VjdGlvbnMocHJldiA9PlxuICAgICAgICAgIHByZXYubWFwKHMgPT4gKHMuaWQgPT09IHNlY3Rpb25JZCA/IHJlc3VsdC5kYXRhIDogcykpXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKG9uU2F2ZSkge1xuICAgICAgICAgIG9uU2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzYXZlIHNlY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzZWN0aW9uJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNhdmluZ1NlY3Rpb24obnVsbCk7XG4gICAgfVxuICB9LCBbc2VjdGlvbnMsIG9uU2F2ZV0pO1xuXG4gIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IHVzZUNhbGxiYWNrKChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldERyYWdnZWRTZWN0aW9uKHNlY3Rpb25JZCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRhcmdldFNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAoIWRyYWdnZWRTZWN0aW9uIHx8IGRyYWdnZWRTZWN0aW9uID09PSB0YXJnZXRTZWN0aW9uSWQpIHtcbiAgICAgICAgc2V0RHJhZ2dlZFNlY3Rpb24obnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZHJhZ2dlZEluZGV4ID0gc2VjdGlvbnMuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gZHJhZ2dlZFNlY3Rpb24pO1xuICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBzZWN0aW9ucy5maW5kSW5kZXgocyA9PiBzLmlkID09PSB0YXJnZXRTZWN0aW9uSWQpO1xuXG4gICAgICBpZiAoZHJhZ2dlZEluZGV4ID09PSAtMSB8fCB0YXJnZXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgc2V0RHJhZ2dlZFNlY3Rpb24obnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3U2VjdGlvbnMgPSBbLi4uc2VjdGlvbnNdO1xuICAgICAgY29uc3QgW3JlbW92ZWRdID0gbmV3U2VjdGlvbnMuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSk7XG4gICAgICBuZXdTZWN0aW9ucy5zcGxpY2UodGFyZ2V0SW5kZXgsIDAsIHJlbW92ZWQpO1xuXG4gICAgICBjb25zdCB1cGRhdGVkU2VjdGlvbnMgPSBuZXdTZWN0aW9ucy5tYXAoKHMsIGluZGV4KSA9PiAoe1xuICAgICAgICAuLi5zLFxuICAgICAgICBkaXNwbGF5X29yZGVyOiBpbmRleCxcbiAgICAgIH0pKTtcblxuICAgICAgc2V0U2VjdGlvbnModXBkYXRlZFNlY3Rpb25zKTtcbiAgICAgIHNldERyYWdnZWRTZWN0aW9uKG51bGwpO1xuXG4gICAgICBzZXRTYXZpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9zZWN0aW9ucy9yZW9yZGVyJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHBhZ2VJZCxcbiAgICAgICAgICAgIHNlY3Rpb25JZHM6IHVwZGF0ZWRTZWN0aW9ucy5tYXAocyA9PiBzLmlkKSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBzZXRFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZW9yZGVyIHNlY3Rpb25zJyk7XG4gICAgICAgICAgZmV0Y2hTZWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byByZW9yZGVyIHNlY3Rpb25zJyk7XG4gICAgICAgIGZldGNoU2VjdGlvbnMoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldFNhdmluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbZHJhZ2dlZFNlY3Rpb24sIHNlY3Rpb25zLCBwYWdlSWQsIGZldGNoU2VjdGlvbnNdXG4gICk7XG5cbiAgY29uc3QgaGFuZGxlQWRkUmVmZXJlbmNlID0gdXNlQ2FsbGJhY2soKHNlY3Rpb25JZDogc3RyaW5nLCBjb2x1bW5JZDogc3RyaW5nLCByZWZlcmVuY2U6IFJlZmVyZW5jZSkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGNvbHVtbiA9IHNlY3Rpb24uY29sdW1ucy5maW5kKGMgPT4gYy5pZCA9PT0gY29sdW1uSWQpO1xuICAgIGlmICghY29sdW1uIHx8IGNvbHVtbi5jb250ZW50X3R5cGUgIT09ICdyZWZlcmVuY2VzJykgcmV0dXJuO1xuXG4gICAgY29uc3QgY3VycmVudFJlZmVyZW5jZXMgPSAoY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnkpLnJlZmVyZW5jZXMgfHwgW107XG4gICAgY29uc3QgdXBkYXRlZFJlZmVyZW5jZXMgPSBbLi4uY3VycmVudFJlZmVyZW5jZXMsIHJlZmVyZW5jZV07XG5cbiAgICBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb25JZCwgY29sdW1uSWQsIHsgcmVmZXJlbmNlczogdXBkYXRlZFJlZmVyZW5jZXMgfSk7XG4gIH0sIFtzZWN0aW9ucywgaGFuZGxlQ29sdW1uQ29udGVudENoYW5nZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVJlbW92ZVJlZmVyZW5jZSA9IHVzZUNhbGxiYWNrKChzZWN0aW9uSWQ6IHN0cmluZywgY29sdW1uSWQ6IHN0cmluZywgcmVmZXJlbmNlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IGNvbHVtbiA9IHNlY3Rpb24uY29sdW1ucy5maW5kKGMgPT4gYy5pZCA9PT0gY29sdW1uSWQpO1xuICAgIGlmICghY29sdW1uIHx8IGNvbHVtbi5jb250ZW50X3R5cGUgIT09ICdyZWZlcmVuY2VzJykgcmV0dXJuO1xuXG4gICAgY29uc3QgY3VycmVudFJlZmVyZW5jZXMgPSAoY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnkpLnJlZmVyZW5jZXMgfHwgW107XG4gICAgY29uc3QgdXBkYXRlZFJlZmVyZW5jZXMgPSBjdXJyZW50UmVmZXJlbmNlcy5maWx0ZXIoKF86IGFueSwgaWR4OiBudW1iZXIpID0+IGlkeCAhPT0gcmVmZXJlbmNlSW5kZXgpO1xuXG4gICAgaGFuZGxlQ29sdW1uQ29udGVudENoYW5nZShzZWN0aW9uSWQsIGNvbHVtbklkLCB7IHJlZmVyZW5jZXM6IHVwZGF0ZWRSZWZlcmVuY2VzIH0pO1xuICB9LCBbc2VjdGlvbnMsIGhhbmRsZUNvbHVtbkNvbnRlbnRDaGFuZ2VdKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgdGV4dC1zbVwiPkxvYWRpbmcgc2VjdGlvbnMuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgc3BhY2UteS00ICR7Y29tcGFjdCA/ICd0ZXh0LXNtJyA6ICcnfWB9IGRhdGEtdGVzdGlkPVwiaW5saW5lLXNlY3Rpb24tZWRpdG9yXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9e2Bmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgJHtjb21wYWN0ID8gJ3RleHQtYmFzZScgOiAndGV4dC1sZyd9YH0+XG4gICAgICAgICAgICBQYWdlIFNlY3Rpb25zXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICB7T2JqZWN0LmtleXModW5zYXZlZENoYW5nZXMpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWFtYmVyLTYwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMyBoLTNcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxuICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMFwiIGN5PVwiMTBcIiByPVwiNFwiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICB7T2JqZWN0LmtleXModW5zYXZlZENoYW5nZXMpLmxlbmd0aH0gdW5zYXZlZFxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkU2VjdGlvbn1cbiAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICA+XG4gICAgICAgICAgKyBBZGQgU2VjdGlvblxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRXJyb3IgbWVzc2FnZSAqL31cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1tZCB0ZXh0LXNtXCIgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtODAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogU2VjdGlvbnMgbGlzdCAqL31cbiAgICAgIHtzZWN0aW9ucy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOCBiZy1ncmF5LTUwIHJvdW5kZWQtbGcgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDBcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc20gbWItM1wiPk5vIHNlY3Rpb25zIHlldDwvcD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUFkZFNlY3Rpb259IGRpc2FibGVkPXtzYXZpbmd9IHZhcmlhbnQ9XCJwcmltYXJ5XCIgc2l6ZT1cInNtXCI+XG4gICAgICAgICAgICBDcmVhdGUgRmlyc3QgU2VjdGlvblxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAge3NlY3Rpb25zLm1hcCgoc2VjdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtzZWN0aW9uLmlkfVxuICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9eygpID0+IGhhbmRsZURyYWdTdGFydChzZWN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgb25EcmFnT3Zlcj17aGFuZGxlRHJhZ092ZXJ9XG4gICAgICAgICAgICAgIG9uRHJvcD17KCkgPT4gaGFuZGxlRHJvcChzZWN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIGJnLXdoaXRlIHNoYWRvdy1zbSB0cmFuc2l0aW9uLW9wYWNpdHkgJHtcbiAgICAgICAgICAgICAgICBkcmFnZ2VkU2VjdGlvbiA9PT0gc2VjdGlvbi5pZCA/ICdvcGFjaXR5LTUwJyA6ICcnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7LyogU2VjdGlvbiBoZWFkZXIgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBob3ZlcjpiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBEcmFnIGhhbmRsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Vyc29yLW1vdmUgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiNFwiIGN5PVwiNFwiIHI9XCIxLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI0XCIgY3k9XCI4XCIgcj1cIjEuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjRcIiBjeT1cIjEyXCIgcj1cIjEuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjhcIiBjeT1cIjRcIiByPVwiMS41XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiOFwiIGN5PVwiOFwiIHI9XCIxLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI4XCIgY3k9XCIxMlwiIHI9XCIxLjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogU2VjdGlvbiBpbmZvICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCB0ZXh0LXNtXCI+I3tpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLnRpdGxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS05MDAgdGV4dC1zbVwiPntzZWN0aW9uLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb24uY29sdW1ucy5sZW5ndGggPT09IDEgPyAnMSBDb2wnIDogJzIgQ29scyd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHt1bnNhdmVkQ2hhbmdlc1tzZWN0aW9uLmlkXSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXhzIHRleHQtYW1iZXItNjAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0yLjUgaC0yLjVcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMFwiIGN5PVwiMTBcIiByPVwiNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBVbnNhdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgICAgIHt1bnNhdmVkQ2hhbmdlc1tzZWN0aW9uLmlkXSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTYXZlU2VjdGlvbihzZWN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nU2VjdGlvbiA9PT0gc2VjdGlvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtzYXZpbmdTZWN0aW9uID09PSBzZWN0aW9uLmlkID8gJ1NhdmluZy4uLicgOiAnU2F2ZSd9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEVkaXRpbmdTZWN0aW9uKGVkaXRpbmdTZWN0aW9uID09PSBzZWN0aW9uLmlkID8gbnVsbCA6IHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ1NlY3Rpb24gPT09IHNlY3Rpb24uaWQgPyAnQ2xvc2UnIDogJ0VkaXQnfVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkYW5nZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVTZWN0aW9uKHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogRWRpdCBtb2RlICovfVxuICAgICAgICAgICAgICB7ZWRpdGluZ1NlY3Rpb24gPT09IHNlY3Rpb24uaWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIHAtMyBiZy13aGl0ZSBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBTZWN0aW9uIHRpdGxlIGlucHV0ICovfVxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgU2VjdGlvbiBUaXRsZSAob3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VjdGlvbi50aXRsZSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZVRpdGxlQ2hhbmdlKHNlY3Rpb24uaWQsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGEgdGl0bGUuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0yIHB5LTEuNSB0ZXh0LXNtIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdTZWN0aW9uID09PSBzZWN0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBMYXlvdXQgc2VsZWN0b3IgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5MYXlvdXQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAxID8gJ29uZS1jb2x1bW4nIDogJ3R3by1jb2x1bW4nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlVG9nZ2xlTGF5b3V0KHNlY3Rpb24uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHB4LTIgcHktMSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdTZWN0aW9uID09PSBzZWN0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9uZS1jb2x1bW5cIj5PbmUgQ29sdW1uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInR3by1jb2x1bW5cIj5Ud28gQ29sdW1uczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICB7LyogQ29sdW1uIGVkaXRvcnMgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyaWQgZ2FwLTMgJHtzZWN0aW9uLmNvbHVtbnMubGVuZ3RoID09PSAyID8gJ2dyaWQtY29scy0yJyA6ICdncmlkLWNvbHMtMSd9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmNvbHVtbnMubWFwKGNvbHVtbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2NvbHVtbi5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIHAtMyBiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29sdW1uIGhlYWRlciB3aXRoIHR5cGUgc2VsZWN0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sdW1uIHtjb2x1bW4uY29sdW1uX251bWJlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y29sdW1uLmNvbnRlbnRfdHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUNvbHVtblR5cGVDaGFuZ2Uoc2VjdGlvbi5pZCwgY29sdW1uLmlkLCBlLnRhcmdldC52YWx1ZSBhcyBhbnkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHB4LTIgcHktMSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmdTZWN0aW9uID09PSBzZWN0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJpY2hfdGV4dFwiPlJpY2ggVGV4dDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwaG90b19nYWxsZXJ5XCI+UGhvdG8gR2FsbGVyeTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJyZWZlcmVuY2VzXCI+UmVmZXJlbmNlczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29sdW1uIGNvbnRlbnQgZWRpdG9yICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4uY29udGVudF90eXBlID09PSAncmljaF90ZXh0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJpY2hUZXh0RWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55KS5odG1sIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhodG1sKSA9PiBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb24uaWQsIGNvbHVtbi5pZCwgeyBodG1sIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdGFydCB0eXBpbmcuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1NlY3Rpb24gPT09IHNlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbHVtbi5jb250ZW50X3R5cGUgPT09ICdwaG90b19nYWxsZXJ5JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXkgTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyhjb2x1bW4uY29udGVudF9kYXRhIGFzIGFueSkuZGlzcGxheV9tb2RlIHx8ICdnYWxsZXJ5J31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRhID0gY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb24uaWQsIGNvbHVtbi5pZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19pZHM6IGN1cnJlbnREYXRhLnBob3RvX2lkcyB8fCBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheV9tb2RlOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogY3VycmVudERhdGEuYXV0b3BsYXlTcGVlZCB8fCAzMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2FwdGlvbnM6IGN1cnJlbnREYXRhLnNob3dDYXB0aW9ucyAhPT0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LXhzIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBweC0yIHB5LTEgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nU2VjdGlvbiA9PT0gc2VjdGlvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJnYWxsZXJ5XCI+R2FsbGVyeSBHcmlkPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNhcm91c2VsXCI+Q2Fyb3VzZWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibG9vcFwiPkF1dG8tcGxheSBMb29wPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YHNob3ctY2FwdGlvbnMtJHtjb2x1bW4uaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXsoY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnkpLnNob3dDYXB0aW9ucyAhPT0gZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IGNvbHVtbi5jb250ZW50X2RhdGEgYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ29sdW1uQ29udGVudENoYW5nZShzZWN0aW9uLmlkLCBjb2x1bW4uaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9faWRzOiBjdXJyZW50RGF0YS5waG90b19pZHMgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbW9kZTogY3VycmVudERhdGEuZGlzcGxheV9tb2RlIHx8ICdnYWxsZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogY3VycmVudERhdGEuYXV0b3BsYXlTcGVlZCB8fCAzMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2FwdGlvbnM6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQgYm9yZGVyLWdyYXktMzAwIHRleHQtYmx1ZS02MDAgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1NlY3Rpb24gPT09IHNlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtgc2hvdy1jYXB0aW9ucy0ke2NvbHVtbi5pZH1gfSBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IGNhcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBob3RvUGlja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGhvdG9JZHM9eyhjb2x1bW4uY29udGVudF9kYXRhIGFzIGFueSkucGhvdG9faWRzIHx8IFtdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17KHBob3RvSWRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGEgPSBjb2x1bW4uY29udGVudF9kYXRhIGFzIGFueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlKHNlY3Rpb24uaWQsIGNvbHVtbi5pZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9faWRzOiBwaG90b0lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfbW9kZTogY3VycmVudERhdGEuZGlzcGxheV9tb2RlIHx8ICdnYWxsZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IGN1cnJlbnREYXRhLmF1dG9wbGF5U3BlZWQgfHwgMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYXB0aW9uczogY3VycmVudERhdGEuc2hvd0NhcHRpb25zICE9PSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVR5cGU9XCJtZW1vcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlSWQ9e3BhZ2VJZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NhdmluZ1NlY3Rpb24gPT09IHNlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29sdW1uLmNvbnRlbnRfdHlwZSA9PT0gJ3JlZmVyZW5jZXMnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnkpLnJlZmVyZW5jZXMgfHwgW10pLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMS41IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+U2VsZWN0ZWQgUmVmZXJlbmNlczwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoY29sdW1uLmNvbnRlbnRfZGF0YSBhcyBhbnkpLnJlZmVyZW5jZXMgfHwgW10pLm1hcCgocmVmOiBSZWZlcmVuY2UsIGlkeDogbnVtYmVyKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVmZXJlbmNlUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3JlZi50eXBlfS0ke3JlZi5pZH0tJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlPXtyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVtb3ZlPXsoKSA9PiBoYW5kbGVSZW1vdmVSZWZlcmVuY2Uoc2VjdGlvbi5pZCwgY29sdW1uLmlkLCBpZHgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2ltcGxlUmVmZXJlbmNlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhyZWZlcmVuY2UpID0+IGhhbmRsZUFkZFJlZmVyZW5jZShzZWN0aW9uLmlkLCBjb2x1bW4uaWQsIHJlZmVyZW5jZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIklubGluZVNlY3Rpb25FZGl0b3IiLCJQaG90b1BpY2tlciIsImR5bmFtaWMiLCJ0aGVuIiwibW9kIiwiZGVmYXVsdCIsImxvYWRpbmciLCJQaG90b0dhbGxlcnlTa2VsZXRvbiIsInNzciIsInBhZ2VUeXBlIiwicGFnZUlkIiwib25TYXZlIiwiY29tcGFjdCIsImVudGl0eU5hbWUiLCJkZWZhdWx0RXhwYW5kZWQiLCJzZWN0aW9ucyIsInNldFNlY3Rpb25zIiwidXNlU3RhdGUiLCJzZXRMb2FkaW5nIiwic2F2aW5nIiwic2V0U2F2aW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImVkaXRpbmdTZWN0aW9uIiwic2V0RWRpdGluZ1NlY3Rpb24iLCJkcmFnZ2VkU2VjdGlvbiIsInNldERyYWdnZWRTZWN0aW9uIiwidW5zYXZlZENoYW5nZXMiLCJzZXRVbnNhdmVkQ2hhbmdlcyIsInNhdmluZ1NlY3Rpb24iLCJzZXRTYXZpbmdTZWN0aW9uIiwidXNlRWZmZWN0IiwiZmV0Y2hTZWN0aW9ucyIsInVzZUNhbGxiYWNrIiwicmVzcG9uc2UiLCJmZXRjaCIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsIm1lc3NhZ2UiLCJlcnIiLCJoYW5kbGVBZGRTZWN0aW9uIiwibmV3U2VjdGlvbiIsInBhZ2VfdHlwZSIsInBhZ2VfaWQiLCJkaXNwbGF5X29yZGVyIiwibGVuZ3RoIiwiY29sdW1ucyIsImNvbHVtbl9udW1iZXIiLCJjb250ZW50X3R5cGUiLCJjb250ZW50X2RhdGEiLCJodG1sIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJldiIsImlkIiwiaGFuZGxlRGVsZXRlU2VjdGlvbiIsInNlY3Rpb25JZCIsImNvbmZpcm0iLCJmaWx0ZXIiLCJzIiwiaGFuZGxlVGl0bGVDaGFuZ2UiLCJ0aXRsZSIsIm1hcCIsImhhbmRsZVRvZ2dsZUxheW91dCIsInNlY3Rpb24iLCJmaW5kIiwiY3VycmVudExheW91dCIsIm5ld0xheW91dCIsInVwZGF0ZWRDb2x1bW5zIiwiaGFuZGxlQ29sdW1uVHlwZUNoYW5nZSIsImNvbHVtbklkIiwibmV3VHlwZSIsImNvbCIsImNvbnRlbnREYXRhIiwicGhvdG9faWRzIiwiZGlzcGxheV9tb2RlIiwiYXV0b3BsYXlTcGVlZCIsInNob3dDYXB0aW9ucyIsInJlZmVyZW5jZXMiLCJoYW5kbGVDb2x1bW5Db250ZW50Q2hhbmdlIiwiaGFuZGxlU2F2ZVNlY3Rpb24iLCJwYXlsb2FkIiwibmV3U3RhdGUiLCJoYW5kbGVEcmFnU3RhcnQiLCJoYW5kbGVEcmFnT3ZlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZURyb3AiLCJ0YXJnZXRTZWN0aW9uSWQiLCJkcmFnZ2VkSW5kZXgiLCJmaW5kSW5kZXgiLCJ0YXJnZXRJbmRleCIsIm5ld1NlY3Rpb25zIiwicmVtb3ZlZCIsInNwbGljZSIsInVwZGF0ZWRTZWN0aW9ucyIsImluZGV4Iiwic2VjdGlvbklkcyIsImhhbmRsZUFkZFJlZmVyZW5jZSIsInJlZmVyZW5jZSIsImNvbHVtbiIsImMiLCJjdXJyZW50UmVmZXJlbmNlcyIsInVwZGF0ZWRSZWZlcmVuY2VzIiwiaGFuZGxlUmVtb3ZlUmVmZXJlbmNlIiwicmVmZXJlbmNlSW5kZXgiLCJfIiwiaWR4IiwiZGl2IiwiY2xhc3NOYW1lIiwiZGF0YS10ZXN0aWQiLCJoMyIsIk9iamVjdCIsImtleXMiLCJzcGFuIiwic3ZnIiwiZmlsbCIsInZpZXdCb3giLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsIkJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInNpemUiLCJ2YXJpYW50Iiwicm9sZSIsInAiLCJkcmFnZ2FibGUiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ092ZXIiLCJvbkRyb3AiLCJ3aWR0aCIsImhlaWdodCIsImxhYmVsIiwiaW5wdXQiLCJ0eXBlIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwic2VsZWN0Iiwib3B0aW9uIiwiUmljaFRleHRFZGl0b3IiLCJjdXJyZW50RGF0YSIsImNoZWNrZWQiLCJodG1sRm9yIiwic2VsZWN0ZWRQaG90b0lkcyIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwicGhvdG9JZHMiLCJoNCIsInJlZiIsIlJlZmVyZW5jZVByZXZpZXciLCJvblJlbW92ZSIsIlNpbXBsZVJlZmVyZW5jZVNlbGVjdG9yIiwib25TZWxlY3QiXSwibWFwcGluZ3MiOiJBQUFBOzs7OzsrQkEyQ2dCQTs7O2VBQUFBOzs7O3VCQXpDaUM7Z0VBQzdCO2dDQUdXO3NDQUNNO3dCQUNkO3lDQUNpQjtrQ0FDUDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFakMsa0NBQWtDO0FBQ2xDLE1BQU1DLGNBQWNDLElBQUFBLGdCQUFPLEVBQUMsSUFBTSxtRUFBQSxRQUFPLG1CQUFpQkMsSUFBSSxDQUFDQyxDQUFBQSxNQUFRLENBQUE7WUFBRUMsU0FBU0QsSUFBSUgsV0FBVztRQUFDLENBQUE7Ozs7OztJQUNoR0ssU0FBUyxrQkFBTSxxQkFBQ0MsMENBQW9CO0lBQ3BDQyxLQUFLOztBQTRCQSxTQUFTUixvQkFBb0IsRUFBRVMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsVUFBVSxLQUFLLEVBQUVDLFVBQVUsRUFBRUMsa0JBQWtCLEtBQUssRUFBNEI7SUFDOUksTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdDLElBQUFBLGVBQVEsRUFBdUIsRUFBRTtJQUNqRSxNQUFNLENBQUNYLFNBQVNZLFdBQVcsR0FBR0QsSUFBQUEs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