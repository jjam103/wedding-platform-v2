bd25e6df564fa982653a0f06678265de
"use strict";
// Mock Next.js navigation
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn()
    }));
jest.mock('next/link', ()=>{
    return ({ children, href, onClick, ...props })=>{
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
            href: href,
            onClick: onClick,
            ...props,
            children: children
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _navigation = require("next/navigation");
const _GuestNavigation = require("./GuestNavigation");
describe('GuestNavigation', ()=>{
    const mockUsePathname = _navigation.usePathname;
    beforeEach(()=>{
        mockUsePathname.mockReturnValue('/guest/dashboard');
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Desktop Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to desktop size
            global.innerWidth = 1024;
        });
        it('should render all navigation tabs', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            expect(_react.screen.getByText('Home')).toBeInTheDocument();
            expect(_react.screen.getByText('Events')).toBeInTheDocument();
            expect(_react.screen.getByText('Activities')).toBeInTheDocument();
            expect(_react.screen.getByText('Itinerary')).toBeInTheDocument();
            expect(_react.screen.getByText('Photos')).toBeInTheDocument();
            expect(_react.screen.getByText('Info')).toBeInTheDocument();
        });
        it('should highlight the active tab', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should render logo with link to dashboard', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logo = _react.screen.getByText('Wedding Portal');
            expect(logo.closest('a')).toHaveAttribute('href', '/guest/dashboard');
        });
        it('should render logout link', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const logoutLink = _react.screen.getByText('Logout');
            expect(logoutLink).toHaveAttribute('href', '/api/auth/logout');
        });
        describe('Dropdown Menu', ()=>{
            it('should toggle dropdown when Info tab is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Initially closed
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'true');
                expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
                expect(_react.screen.getByText('Transportation')).toBeInTheDocument();
                expect(_react.screen.getByText('Family')).toBeInTheDocument();
                expect(_react.screen.getByText('Our Story')).toBeInTheDocument();
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(infoButton).toHaveAttribute('aria-expanded', 'false');
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should close dropdown when a sub-item is clicked', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                _react.fireEvent.click(accommodationLink);
                expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            });
            it('should highlight active sub-item', ()=>{
                mockUsePathname.mockReturnValue('/guest/accommodation');
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                // Info tab should be active because sub-item is active
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                // Open dropdown
                _react.fireEvent.click(infoButton);
                const accommodationLink = _react.screen.getByText('Accommodation');
                expect(accommodationLink).toHaveClass('bg-emerald-50', 'text-emerald-700');
            });
            it('should rotate chevron icon when dropdown is open', ()=>{
                (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                const chevron = infoButton.querySelector('svg:last-child');
                // Initially not rotated
                expect(chevron).not.toHaveClass('rotate-180');
                // Click to open
                _react.fireEvent.click(infoButton);
                expect(chevron).toHaveClass('rotate-180');
                // Click to close
                _react.fireEvent.click(infoButton);
                expect(chevron).not.toHaveClass('rotate-180');
            });
        });
    });
    describe('Mobile Navigation', ()=>{
        beforeEach(()=>{
            // Set viewport to mobile size
            global.innerWidth = 375;
        });
        it('should render hamburger menu button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toBeInTheDocument();
        });
        it('should toggle mobile menu when hamburger is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            // Initially closed
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            expect(_react.screen.getByLabelText('Close menu')).toBeInTheDocument();
            // Click to close
            const closeButton = _react.screen.getByLabelText('Close menu');
            _react.fireEvent.click(closeButton);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when backdrop is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByText('Menu')).toBeInTheDocument();
            // Click backdrop
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toBeInTheDocument();
            _react.fireEvent.click(backdrop);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should close mobile menu when a navigation link is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const eventsLink = _react.screen.getAllByText('Events')[0]; // Get first occurrence (in mobile menu)
            _react.fireEvent.click(eventsLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should have minimum 44px touch targets', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            // Check all navigation items have minimum touch target size
            const navItems = _react.screen.getAllByRole('link').filter((link)=>link.style.minHeight === '44px');
            expect(navItems.length).toBeGreaterThan(0);
        });
        it('should toggle dropdown in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const infoButton = _react.screen.getAllByRole('button').find((btn)=>btn.textContent?.includes('Info'));
            expect(infoButton).toBeInTheDocument();
            // Initially closed
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
            // Click to open
            _react.fireEvent.click(infoButton);
            expect(_react.screen.getByText('Accommodation')).toBeInTheDocument();
            // Click to close
            _react.fireEvent.click(infoButton);
            expect(_react.screen.queryByText('Accommodation')).not.toBeInTheDocument();
        });
        it('should close mobile menu when sub-item is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const infoButton = _react.screen.getAllByRole('button').find((btn)=>btn.textContent?.includes('Info'));
            _react.fireEvent.click(infoButton);
            const accommodationLink = _react.screen.getByText('Accommodation');
            _react.fireEvent.click(accommodationLink);
            expect(_react.screen.queryByText('Menu')).not.toBeInTheDocument();
        });
        it('should render logout button in mobile menu', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const logoutButton = _react.screen.getAllByText('Logout').find((el)=>el.closest('a')?.getAttribute('href') === '/api/auth/logout');
            expect(logoutButton).toBeInTheDocument();
        });
    });
    describe('Active State', ()=>{
        it('should highlight Home tab when on dashboard', ()=>{
            mockUsePathname.mockReturnValue('/guest/dashboard');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            expect(homeLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Events tab when on events page', ()=>{
            mockUsePathname.mockReturnValue('/guest/events');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const eventsLink = _react.screen.getByRole('link', {
                name: /Events/i
            });
            expect(eventsLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Activities tab when on activities page', ()=>{
            mockUsePathname.mockReturnValue('/guest/activities');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const activitiesLink = _react.screen.getByRole('link', {
                name: /Activities/i
            });
            expect(activitiesLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Itinerary tab when on itinerary page', ()=>{
            mockUsePathname.mockReturnValue('/guest/itinerary');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const itineraryLink = _react.screen.getByRole('link', {
                name: /Itinerary/i
            });
            expect(itineraryLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Photos tab when on photos page', ()=>{
            mockUsePathname.mockReturnValue('/guest/photos');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const photosLink = _react.screen.getByRole('link', {
                name: /Photos/i
            });
            expect(photosLink).toHaveClass('bg-emerald-600', 'text-white');
        });
        it('should highlight Info tab when on any sub-item page', ()=>{
            const subItemPaths = [
                '/guest/accommodation',
                '/guest/transportation',
                '/guest/family',
                '/our-story'
            ];
            subItemPaths.forEach((path)=>{
                mockUsePathname.mockReturnValue(path);
                const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
                const infoButton = _react.screen.getByRole('button', {
                    name: /Info/i
                });
                expect(infoButton).toHaveClass('bg-emerald-600', 'text-white');
                unmount();
            });
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper ARIA labels for menu buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            expect(menuButton).toHaveAttribute('aria-expanded', 'false');
            _react.fireEvent.click(menuButton);
            expect(_react.screen.getByLabelText('Close menu')).toBeInTheDocument();
        });
        it('should have proper ARIA attributes for dropdown', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const infoButton = _react.screen.getByRole('button', {
                name: /Info/i
            });
            expect(infoButton).toHaveAttribute('aria-expanded', 'false');
            expect(infoButton).toHaveAttribute('aria-haspopup', 'true');
            _react.fireEvent.click(infoButton);
            expect(infoButton).toHaveAttribute('aria-expanded', 'true');
        });
        it('should be keyboard navigable', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const homeLink = _react.screen.getByRole('link', {
                name: /Home/i
            });
            homeLink.focus();
            expect(document.activeElement).toBe(homeLink);
        });
    });
    describe('Styling', ()=>{
        it('should have sticky positioning', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const nav = _react.screen.getByRole('navigation');
            expect(nav).toHaveClass('sticky', 'top-0', 'z-50');
        });
        it('should have glassmorphism effect', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const nav = _react.screen.getByRole('navigation');
            expect(nav).toHaveClass('bg-white/80', 'backdrop-blur-md');
        });
        it('should have proper z-index for overlay', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_GuestNavigation.GuestNavigation, {}));
            const menuButton = _react.screen.getByLabelText('Open menu');
            _react.fireEvent.click(menuButton);
            const backdrop = document.querySelector('.fixed.inset-0.bg-black\\/50');
            expect(backdrop).toHaveClass('z-40');
            const menuPanel = document.querySelector('.fixed.inset-y-0.right-0');
            expect(menuPanel).toHaveClass('z-50');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9ndWVzdC9HdWVzdE5hdmlnYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgR3Vlc3ROYXZpZ2F0aW9uIH0gZnJvbSAnLi9HdWVzdE5hdmlnYXRpb24nO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VQYXRobmFtZTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJ25leHQvbGluaycsICgpID0+IHtcbiAgcmV0dXJuICh7IGNoaWxkcmVuLCBocmVmLCBvbkNsaWNrLCAuLi5wcm9wcyB9OiBhbnkpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17aHJlZn0gb25DbGljaz17b25DbGlja30gey4uLnByb3BzfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9hPlxuICAgICk7XG4gIH07XG59KTtcblxuZGVzY3JpYmUoJ0d1ZXN0TmF2aWdhdGlvbicsICgpID0+IHtcbiAgY29uc3QgbW9ja1VzZVBhdGhuYW1lID0gdXNlUGF0aG5hbWUgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXNlUGF0aG5hbWU+O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tVc2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9ndWVzdC9kYXNoYm9hcmQnKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Rlc2t0b3AgTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIFNldCB2aWV3cG9ydCB0byBkZXNrdG9wIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMTAyNDtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGFsbCBuYXZpZ2F0aW9uIHRhYnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdIb21lJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXZlbnRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWN0aXZpdGllcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0l0aW5lcmFyeScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Bob3RvcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0luZm8nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IHRoZSBhY3RpdmUgdGFiJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2V2ZW50cycpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBldmVudHNMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0V2ZW50cy9pIH0pO1xuICAgICAgZXhwZWN0KGV2ZW50c0xpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBsb2dvIHdpdGggbGluayB0byBkYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ28gPSBzY3JlZW4uZ2V0QnlUZXh0KCdXZWRkaW5nIFBvcnRhbCcpO1xuICAgICAgZXhwZWN0KGxvZ28uY2xvc2VzdCgnYScpKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2d1ZXN0L2Rhc2hib2FyZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgbG9nb3V0IGxpbmsnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGxvZ291dExpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdMb2dvdXQnKTtcbiAgICAgIGV4cGVjdChsb2dvdXRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2FwaS9hdXRoL2xvZ291dCcpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ0Ryb3Bkb3duIE1lbnUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBkcm9wZG93biB3aGVuIEluZm8gdGFiIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSW5pdGlhbGx5IGNsb3NlZFxuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gb3BlblxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnVHJhbnNwb3J0YXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0ZhbWlseScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnT3VyIFN0b3J5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjbG9zZSBkcm9wZG93biB3aGVuIGEgc3ViLWl0ZW0gaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uKTtcblxuICAgICAgICBjb25zdCBhY2NvbW1vZGF0aW9uTGluayA9IHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjY29tbW9kYXRpb25MaW5rKTtcblxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGFjdGl2ZSBzdWItaXRlbScsICgpID0+IHtcbiAgICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2FjY29tbW9kYXRpb24nKTtcbiAgICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICAgIGNvbnN0IGluZm9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9JbmZvL2kgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbmZvIHRhYiBzaG91bGQgYmUgYWN0aXZlIGJlY2F1c2Ugc3ViLWl0ZW0gaXMgYWN0aXZlXG4gICAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuXG4gICAgICAgIC8vIE9wZW4gZHJvcGRvd25cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuXG4gICAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25MaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpO1xuICAgICAgICBleHBlY3QoYWNjb21tb2RhdGlvbkxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTUwJywgJ3RleHQtZW1lcmFsZC03MDAnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHJvdGF0ZSBjaGV2cm9uIGljb24gd2hlbiBkcm9wZG93biBpcyBvcGVuJywgKCkgPT4ge1xuICAgICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgICAgY29uc3QgaW5mb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL0luZm8vaSB9KTtcbiAgICAgICAgY29uc3QgY2hldnJvbiA9IGluZm9CdXR0b24ucXVlcnlTZWxlY3Rvcignc3ZnOmxhc3QtY2hpbGQnKTtcblxuICAgICAgICAvLyBJbml0aWFsbHkgbm90IHJvdGF0ZWRcbiAgICAgICAgZXhwZWN0KGNoZXZyb24pLm5vdC50b0hhdmVDbGFzcygncm90YXRlLTE4MCcpO1xuXG4gICAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGluZm9CdXR0b24pO1xuICAgICAgICBleHBlY3QoY2hldnJvbikudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcblxuICAgICAgICAvLyBDbGljayB0byBjbG9zZVxuICAgICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbik7XG4gICAgICAgIGV4cGVjdChjaGV2cm9uKS5ub3QudG9IYXZlQ2xhc3MoJ3JvdGF0ZS0xODAnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTW9iaWxlIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAvLyBTZXQgdmlld3BvcnQgdG8gbW9iaWxlIHNpemVcbiAgICAgIGdsb2JhbC5pbm5lcldpZHRoID0gMzc1O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgaGFtYnVyZ2VyIG1lbnUgYnV0dG9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgbW9iaWxlIG1lbnUgd2hlbiBoYW1idXJnZXIgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBcbiAgICAgIC8vIEluaXRpYWxseSBjbG9zZWRcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIG9wZW5cbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdDbG9zZSBtZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIHRvIGNsb3NlXG4gICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ2xvc2UgbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGNsb3NlQnV0dG9uKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYmFja2Ryb3AgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdNZW51JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICAgIC8vIENsaWNrIGJhY2tkcm9wXG4gICAgICBjb25zdCBiYWNrZHJvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maXhlZC5pbnNldC0wLmJnLWJsYWNrXFxcXC81MCcpO1xuICAgICAgZXhwZWN0KGJhY2tkcm9wKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGJhY2tkcm9wISk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ01lbnUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIG1vYmlsZSBtZW51IHdoZW4gYSBuYXZpZ2F0aW9uIGxpbmsgaXMgY2xpY2tlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgbWVudUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnT3BlbiBtZW51Jyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobWVudUJ1dHRvbik7XG5cbiAgICAgIGNvbnN0IGV2ZW50c0xpbmsgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdFdmVudHMnKVswXTsgLy8gR2V0IGZpcnN0IG9jY3VycmVuY2UgKGluIG1vYmlsZSBtZW51KVxuICAgICAgZmlyZUV2ZW50LmNsaWNrKGV2ZW50c0xpbmspO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdNZW51JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIG1pbmltdW0gNDRweCB0b3VjaCB0YXJnZXRzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgLy8gQ2hlY2sgYWxsIG5hdmlnYXRpb24gaXRlbXMgaGF2ZSBtaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplXG4gICAgICBjb25zdCBuYXZJdGVtcyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2xpbmsnKS5maWx0ZXIobGluayA9PiBcbiAgICAgICAgbGluay5zdHlsZS5taW5IZWlnaHQgPT09ICc0NHB4J1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG5hdkl0ZW1zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b2dnbGUgZHJvcGRvd24gaW4gbW9iaWxlIG1lbnUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykuZmluZChidG4gPT4gXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ0luZm8nKVxuICAgICAgKTtcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBJbml0aWFsbHkgY2xvc2VkXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBDbGljayB0byBvcGVuXG4gICAgICBmaXJlRXZlbnQuY2xpY2soaW5mb0J1dHRvbiEpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY29tbW9kYXRpb24nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8gQ2xpY2sgdG8gY2xvc2VcbiAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uISk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBY2NvbW1vZGF0aW9uJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSBtb2JpbGUgbWVudSB3aGVuIHN1Yi1pdGVtIGlzIGNsaWNrZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykuZmluZChidG4gPT4gXG4gICAgICAgIGJ0bi50ZXh0Q29udGVudD8uaW5jbHVkZXMoJ0luZm8nKVxuICAgICAgKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uISk7XG5cbiAgICAgIGNvbnN0IGFjY29tbW9kYXRpb25MaW5rID0gc2NyZWVuLmdldEJ5VGV4dCgnQWNjb21tb2RhdGlvbicpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGFjY29tbW9kYXRpb25MaW5rKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnTWVudScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGxvZ291dCBidXR0b24gaW4gbW9iaWxlIG1lbnUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG1lbnVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ09wZW4gbWVudScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuXG4gICAgICBjb25zdCBsb2dvdXRCdXR0b24gPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KCdMb2dvdXQnKS5maW5kKGVsID0+IFxuICAgICAgICBlbC5jbG9zZXN0KCdhJyk/LmdldEF0dHJpYnV0ZSgnaHJlZicpID09PSAnL2FwaS9hdXRoL2xvZ291dCdcbiAgICAgICk7XG4gICAgICBleHBlY3QobG9nb3V0QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWN0aXZlIFN0YXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEhvbWUgdGFiIHdoZW4gb24gZGFzaGJvYXJkJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2Rhc2hib2FyZCcpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBob21lTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9Ib21lL2kgfSk7XG4gICAgICBleHBlY3QoaG9tZUxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBFdmVudHMgdGFiIHdoZW4gb24gZXZlbnRzIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZ3Vlc3QvZXZlbnRzJyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGV2ZW50c0xpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvRXZlbnRzL2kgfSk7XG4gICAgICBleHBlY3QoZXZlbnRzTGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEFjdGl2aXRpZXMgdGFiIHdoZW4gb24gYWN0aXZpdGllcyBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2FjdGl2aXRpZXMnKTtcbiAgICAgIHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgY29uc3QgYWN0aXZpdGllc0xpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvQWN0aXZpdGllcy9pIH0pO1xuICAgICAgZXhwZWN0KGFjdGl2aXRpZXNMaW5rKS50b0hhdmVDbGFzcygnYmctZW1lcmFsZC02MDAnLCAndGV4dC13aGl0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWdobGlnaHQgSXRpbmVyYXJ5IHRhYiB3aGVuIG9uIGl0aW5lcmFyeSBwYWdlJywgKCkgPT4ge1xuICAgICAgbW9ja1VzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2d1ZXN0L2l0aW5lcmFyeScpO1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBpdGluZXJhcnlMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0l0aW5lcmFyeS9pIH0pO1xuICAgICAgZXhwZWN0KGl0aW5lcmFyeUxpbmspLnRvSGF2ZUNsYXNzKCdiZy1lbWVyYWxkLTYwMCcsICd0ZXh0LXdoaXRlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhpZ2hsaWdodCBQaG90b3MgdGFiIHdoZW4gb24gcGhvdG9zIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKCcvZ3Vlc3QvcGhvdG9zJyk7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IHBob3Rvc0xpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvUGhvdG9zL2kgfSk7XG4gICAgICBleHBlY3QocGhvdG9zTGluaykudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IEluZm8gdGFiIHdoZW4gb24gYW55IHN1Yi1pdGVtIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdWJJdGVtUGF0aHMgPSBbXG4gICAgICAgICcvZ3Vlc3QvYWNjb21tb2RhdGlvbicsXG4gICAgICAgICcvZ3Vlc3QvdHJhbnNwb3J0YXRpb24nLFxuICAgICAgICAnL2d1ZXN0L2ZhbWlseScsXG4gICAgICAgICcvb3VyLXN0b3J5JyxcbiAgICAgIF07XG5cbiAgICAgIHN1Ykl0ZW1QYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICBtb2NrVXNlUGF0aG5hbWUubW9ja1JldHVyblZhbHVlKHBhdGgpO1xuICAgICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlcig8R3Vlc3ROYXZpZ2F0aW9uIC8+KTtcblxuICAgICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgICBleHBlY3QoaW5mb0J1dHRvbikudG9IYXZlQ2xhc3MoJ2JnLWVtZXJhbGQtNjAwJywgJ3RleHQtd2hpdGUnKTtcblxuICAgICAgICB1bm1vdW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0FjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscyBmb3IgbWVudSBidXR0b25zJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGV4cGVjdChtZW51QnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1lbnVCdXR0b24pO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgnQ2xvc2UgbWVudScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGF0dHJpYnV0ZXMgZm9yIGRyb3Bkb3duJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBpbmZvQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvSW5mby9pIH0pO1xuICAgICAgZXhwZWN0KGluZm9CdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgZXhwZWN0KGluZm9CdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1oYXNwb3B1cCcsICd0cnVlJyk7XG5cbiAgICAgIGZpcmVFdmVudC5jbGljayhpbmZvQnV0dG9uKTtcbiAgICAgIGV4cGVjdChpbmZvQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiZSBrZXlib2FyZCBuYXZpZ2FibGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IGhvbWVMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL0hvbWUvaSB9KTtcbiAgICAgIGhvbWVMaW5rLmZvY3VzKCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShob21lTGluayk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTdHlsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBzdGlja3kgcG9zaXRpb25pbmcnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPEd1ZXN0TmF2aWdhdGlvbiAvPik7XG5cbiAgICAgIGNvbnN0IG5hdiA9IHNjcmVlbi5nZXRCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIGV4cGVjdChuYXYpLnRvSGF2ZUNsYXNzKCdzdGlja3knLCAndG9wLTAnLCAnei01MCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGdsYXNzbW9ycGhpc20gZWZmZWN0JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBuYXYgPSBzY3JlZW4uZ2V0QnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBleHBlY3QobmF2KS50b0hhdmVDbGFzcygnYmctd2hpdGUvODAnLCAnYmFja2Ryb3AtYmx1ci1tZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciB6LWluZGV4IGZvciBvdmVybGF5JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxHdWVzdE5hdmlnYXRpb24gLz4pO1xuXG4gICAgICBjb25zdCBtZW51QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCdPcGVuIG1lbnUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtZW51QnV0dG9uKTtcblxuICAgICAgY29uc3QgYmFja2Ryb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZml4ZWQuaW5zZXQtMC5iZy1ibGFja1xcXFwvNTAnKTtcbiAgICAgIGV4cGVjdChiYWNrZHJvcCkudG9IYXZlQ2xhc3MoJ3otNDAnKTtcblxuICAgICAgY29uc3QgbWVudVBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpeGVkLmluc2V0LXktMC5yaWdodC0wJyk7XG4gICAgICBleHBlY3QobWVudVBhbmVsKS50b0hhdmVDbGFzcygnei01MCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUGF0aG5hbWUiLCJmbiIsImNoaWxkcmVuIiwiaHJlZiIsIm9uQ2xpY2siLCJwcm9wcyIsImEiLCJkZXNjcmliZSIsIm1vY2tVc2VQYXRobmFtZSIsImJlZm9yZUVhY2giLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiZ2xvYmFsIiwiaW5uZXJXaWR0aCIsIml0IiwicmVuZGVyIiwiR3Vlc3ROYXZpZ2F0aW9uIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJldmVudHNMaW5rIiwiZ2V0QnlSb2xlIiwibmFtZSIsInRvSGF2ZUNsYXNzIiwibG9nbyIsImNsb3Nlc3QiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJsb2dvdXRMaW5rIiwiaW5mb0J1dHRvbiIsInF1ZXJ5QnlUZXh0Iiwibm90IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJhY2NvbW1vZGF0aW9uTGluayIsImNoZXZyb24iLCJxdWVyeVNlbGVjdG9yIiwibWVudUJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiY2xvc2VCdXR0b24iLCJiYWNrZHJvcCIsImRvY3VtZW50IiwiZ2V0QWxsQnlUZXh0IiwibmF2SXRlbXMiLCJnZXRBbGxCeVJvbGUiLCJmaWx0ZXIiLCJsaW5rIiwic3R5bGUiLCJtaW5IZWlnaHQiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJmaW5kIiwiYnRuIiwidGV4dENvbnRlbnQiLCJpbmNsdWRlcyIsImxvZ291dEJ1dHRvbiIsImVsIiwiZ2V0QXR0cmlidXRlIiwiaG9tZUxpbmsiLCJhY3Rpdml0aWVzTGluayIsIml0aW5lcmFyeUxpbmsiLCJwaG90b3NMaW5rIiwic3ViSXRlbVBhdGhzIiwiZm9yRWFjaCIsInBhdGgiLCJ1bm1vdW50IiwiZm9jdXMiLCJhY3RpdmVFbGVtZW50IiwidG9CZSIsIm5hdiIsIm1lbnVQYW5lbCJdLCJtYXBwaW5ncyI6IjtBQUlBLDBCQUEwQjtBQUMxQkEsS0FBS0Ms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