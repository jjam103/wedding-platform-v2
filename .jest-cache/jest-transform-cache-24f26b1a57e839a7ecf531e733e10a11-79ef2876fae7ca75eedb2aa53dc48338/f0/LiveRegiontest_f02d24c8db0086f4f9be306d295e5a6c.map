{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/ui/LiveRegion.test.tsx"],"sourcesContent":["/**\n * Tests for LiveRegion Component\n * \n * Tests ARIA live region functionality for screen reader announcements.\n */\n\nimport { render, screen, waitFor } from '@testing-library/react';\nimport { LiveRegion, VisuallyHidden } from './LiveRegion';\n\ndescribe('LiveRegion Component', () => {\n  describe('ARIA Attributes', () => {\n    it('should have polite aria-live by default', () => {\n      const { container } = render(<LiveRegion message=\"Test message\" />);\n\n      const liveRegion = container.querySelector('[aria-live=\"polite\"]');\n      expect(liveRegion).toBeInTheDocument();\n      expect(liveRegion).toHaveAttribute('role', 'status');\n    });\n\n    it('should have assertive aria-live when specified', () => {\n      const { container } = render(<LiveRegion message=\"Error message\" priority=\"assertive\" />);\n\n      const liveRegion = container.querySelector('[aria-live=\"assertive\"]');\n      expect(liveRegion).toBeInTheDocument();\n      expect(liveRegion).toHaveAttribute('role', 'alert');\n    });\n\n    it('should have aria-atomic=\"true\"', () => {\n      const { container } = render(<LiveRegion message=\"Test message\" />);\n\n      const liveRegion = container.querySelector('[aria-atomic=\"true\"]');\n      expect(liveRegion).toBeInTheDocument();\n    });\n\n    it('should be visually hidden', () => {\n      const { container } = render(<LiveRegion message=\"Test message\" />);\n\n      const liveRegion = container.querySelector('.sr-only');\n      expect(liveRegion).toBeInTheDocument();\n    });\n  });\n\n  describe('Message Display', () => {\n    it('should display message after delay', async () => {\n      const { container } = render(<LiveRegion message=\"Success message\" />);\n\n      await waitFor(() => {\n        const liveRegion = container.querySelector('[aria-live]');\n        expect(liveRegion?.textContent).toBe('Success message');\n      }, { timeout: 200 });\n    });\n\n    it('should update message when prop changes', async () => {\n      const { container, rerender } = render(<LiveRegion message=\"First message\" />);\n\n      await waitFor(() => {\n        const liveRegion = container.querySelector('[aria-live]');\n        expect(liveRegion?.textContent).toBe('First message');\n      }, { timeout: 200 });\n\n      rerender(<LiveRegion message=\"Second message\" />);\n\n      await waitFor(() => {\n        const liveRegion = container.querySelector('[aria-live]');\n        expect(liveRegion?.textContent).toBe('Second message');\n      }, { timeout: 200 });\n    });\n\n    it('should clear message after specified time', async () => {\n      const { container } = render(<LiveRegion message=\"Temporary message\" clearAfter={500} />);\n\n      await waitFor(() => {\n        const liveRegion = container.querySelector('[aria-live]');\n        expect(liveRegion?.textContent).toBe('Temporary message');\n      }, { timeout: 200 });\n\n      await waitFor(() => {\n        const liveRegion = container.querySelector('[aria-live]');\n        expect(liveRegion?.textContent).toBe('');\n      }, { timeout: 700 });\n    });\n\n    it('should handle empty message', () => {\n      const { container } = render(<LiveRegion message=\"\" />);\n\n      const liveRegion = container.querySelector('[aria-live]');\n      expect(liveRegion).toBeInTheDocument();\n    });\n  });\n\n  describe('Priority Levels', () => {\n    it('should use status role for polite priority', () => {\n      const { container } = render(<LiveRegion message=\"Info\" priority=\"polite\" />);\n\n      const liveRegion = container.querySelector('[role=\"status\"]');\n      expect(liveRegion).toBeInTheDocument();\n    });\n\n    it('should use alert role for assertive priority', () => {\n      const { container } = render(<LiveRegion message=\"Error\" priority=\"assertive\" />);\n\n      const liveRegion = container.querySelector('[role=\"alert\"]');\n      expect(liveRegion).toBeInTheDocument();\n    });\n  });\n});\n\ndescribe('VisuallyHidden Component', () => {\n  it('should render children', () => {\n    render(<VisuallyHidden>Hidden text</VisuallyHidden>);\n\n    expect(screen.getByText('Hidden text')).toBeInTheDocument();\n  });\n\n  it('should have sr-only class', () => {\n    const { container } = render(<VisuallyHidden>Hidden text</VisuallyHidden>);\n\n    const element = container.querySelector('.sr-only');\n    expect(element).toBeInTheDocument();\n    expect(element?.textContent).toBe('Hidden text');\n  });\n\n  it('should render complex children', () => {\n    render(\n      <VisuallyHidden>\n        <span>Part 1</span>\n        <span>Part 2</span>\n      </VisuallyHidden>\n    );\n\n    expect(screen.getByText('Part 1')).toBeInTheDocument();\n    expect(screen.getByText('Part 2')).toBeInTheDocument();\n  });\n});\n"],"names":["describe","it","container","render","LiveRegion","message","liveRegion","querySelector","expect","toBeInTheDocument","toHaveAttribute","priority","waitFor","textContent","toBe","timeout","rerender","clearAfter","VisuallyHidden","screen","getByText","element","span"],"mappings":"AAAA;;;;CAIC;;;;;uBAEuC;4BACG;AAE3CA,SAAS,wBAAwB;IAC/BA,SAAS,mBAAmB;QAC1BC,GAAG,2CAA2C;YAC5C,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAEjD,MAAMC,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;YACpCD,OAAOF,YAAYI,eAAe,CAAC,QAAQ;QAC7C;QAEAT,GAAG,kDAAkD;YACnD,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;gBAAgBM,UAAS;;YAE1E,MAAML,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;YACpCD,OAAOF,YAAYI,eAAe,CAAC,QAAQ;QAC7C;QAEAT,GAAG,kCAAkC;YACnC,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAEjD,MAAMC,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;QACtC;QAEAR,GAAG,6BAA6B;YAC9B,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAEjD,MAAMC,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;QACtC;IACF;IAEAT,SAAS,mBAAmB;QAC1BC,GAAG,sCAAsC;YACvC,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAEjD,MAAMO,IAAAA,cAAO,EAAC;gBACZ,MAAMN,aAAaJ,UAAUK,aAAa,CAAC;gBAC3CC,OAAOF,YAAYO,aAAaC,IAAI,CAAC;YACvC,GAAG;gBAAEC,SAAS;YAAI;QACpB;QAEAd,GAAG,2CAA2C;YAC5C,MAAM,EAAEC,SAAS,EAAEc,QAAQ,EAAE,GAAGb,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAE3D,MAAMO,IAAAA,cAAO,EAAC;gBACZ,MAAMN,aAAaJ,UAAUK,aAAa,CAAC;gBAC3CC,OAAOF,YAAYO,aAAaC,IAAI,CAAC;YACvC,GAAG;gBAAEC,SAAS;YAAI;YAElBC,uBAAS,qBAACZ,sBAAU;gBAACC,SAAQ;;YAE7B,MAAMO,IAAAA,cAAO,EAAC;gBACZ,MAAMN,aAAaJ,UAAUK,aAAa,CAAC;gBAC3CC,OAAOF,YAAYO,aAAaC,IAAI,CAAC;YACvC,GAAG;gBAAEC,SAAS;YAAI;QACpB;QAEAd,GAAG,6CAA6C;YAC9C,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;gBAAoBY,YAAY;;YAEjF,MAAML,IAAAA,cAAO,EAAC;gBACZ,MAAMN,aAAaJ,UAAUK,aAAa,CAAC;gBAC3CC,OAAOF,YAAYO,aAAaC,IAAI,CAAC;YACvC,GAAG;gBAAEC,SAAS;YAAI;YAElB,MAAMH,IAAAA,cAAO,EAAC;gBACZ,MAAMN,aAAaJ,UAAUK,aAAa,CAAC;gBAC3CC,OAAOF,YAAYO,aAAaC,IAAI,CAAC;YACvC,GAAG;gBAAEC,SAAS;YAAI;QACpB;QAEAd,GAAG,+BAA+B;YAChC,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;;YAEjD,MAAMC,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;QACtC;IACF;IAEAT,SAAS,mBAAmB;QAC1BC,GAAG,8CAA8C;YAC/C,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;gBAAOM,UAAS;;YAEjE,MAAML,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;QACtC;QAEAR,GAAG,gDAAgD;YACjD,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACC,sBAAU;gBAACC,SAAQ;gBAAQM,UAAS;;YAElE,MAAML,aAAaJ,UAAUK,aAAa,CAAC;YAC3CC,OAAOF,YAAYG,iBAAiB;QACtC;IACF;AACF;AAEAT,SAAS,4BAA4B;IACnCC,GAAG,0BAA0B;QAC3BE,IAAAA,aAAM,gBAAC,qBAACe,0BAAc;sBAAC;;QAEvBV,OAAOW,aAAM,CAACC,SAAS,CAAC,gBAAgBX,iBAAiB;IAC3D;IAEAR,GAAG,6BAA6B;QAC9B,MAAM,EAAEC,SAAS,EAAE,GAAGC,IAAAA,aAAM,gBAAC,qBAACe,0BAAc;sBAAC;;QAE7C,MAAMG,UAAUnB,UAAUK,aAAa,CAAC;QACxCC,OAAOa,SAASZ,iBAAiB;QACjCD,OAAOa,SAASR,aAAaC,IAAI,CAAC;IACpC;IAEAb,GAAG,kCAAkC;QACnCE,IAAAA,aAAM,gBACJ,sBAACe,0BAAc;;8BACb,qBAACI;8BAAK;;8BACN,qBAACA;8BAAK;;;;QAIVd,OAAOW,aAAM,CAACC,SAAS,CAAC,WAAWX,iBAAiB;QACpDD,OAAOW,aAAM,CAACC,SAAS,CAAC,WAAWX,iBAAiB;IACtD;AACF"}