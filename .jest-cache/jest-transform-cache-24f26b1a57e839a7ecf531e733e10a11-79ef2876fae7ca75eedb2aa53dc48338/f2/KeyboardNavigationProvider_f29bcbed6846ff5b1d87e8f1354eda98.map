{"version":3,"names":["cov_1uv96ox2i6","actualCoverage","s","KeyboardNavigationProvider","f","useKeyboardNavigation","useRegisterShortcuts","KeyboardNavigationContext","_react","createContext","children","shortcuts","setShortcuts","useState","showHelpDialog","setShowHelpDialog","registerShortcuts","useCallback","newShortcuts","prev","unregisterShortcuts","oldShortcuts","filter","some","os","b","key","description","showHelp","hideHelp","globalShortcuts","category","handler","allShortcuts","_useKeyboardShortcuts","useKeyboardShortcuts","contextValue","_jsxruntime","jsxs","Provider","value","jsx","href","className","_KeyboardShortcutsDialog","KeyboardShortcutsDialog","isOpen","onClose","context","useContext","Error","useEffect","length"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/KeyboardNavigationProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useCallback, useEffect } from 'react';\nimport { useKeyboardShortcuts, type KeyboardShortcut } from '@/hooks/useKeyboardShortcuts';\nimport { KeyboardShortcutsDialog } from '@/components/ui/KeyboardShortcutsDialog';\n\ninterface KeyboardNavigationContextValue {\n  registerShortcuts: (shortcuts: KeyboardShortcut[]) => void;\n  unregisterShortcuts: (shortcuts: KeyboardShortcut[]) => void;\n  showHelp: () => void;\n  hideHelp: () => void;\n}\n\nconst KeyboardNavigationContext = createContext<KeyboardNavigationContextValue | null>(null);\n\ninterface KeyboardNavigationProviderProps {\n  children: React.ReactNode;\n}\n\n/**\n * KeyboardNavigationProvider Component\n * \n * Provides global keyboard navigation support for admin interface.\n * Manages keyboard shortcuts and displays help dialog.\n * \n * Features:\n * - Global keyboard shortcuts (Ctrl+S, Esc, ?)\n * - Keyboard shortcuts help dialog\n * - Focus management\n * - Skip to main content link\n */\nexport function KeyboardNavigationProvider({ children }: KeyboardNavigationProviderProps) {\n  const [shortcuts, setShortcuts] = useState<KeyboardShortcut[]>([]);\n  const [showHelpDialog, setShowHelpDialog] = useState(false);\n\n  // Register shortcuts from child components\n  const registerShortcuts = useCallback((newShortcuts: KeyboardShortcut[]) => {\n    setShortcuts((prev) => [...prev, ...newShortcuts]);\n  }, []);\n\n  // Unregister shortcuts when component unmounts\n  const unregisterShortcuts = useCallback((oldShortcuts: KeyboardShortcut[]) => {\n    setShortcuts((prev) =>\n      prev.filter((s) => !oldShortcuts.some((os) => os.key === s.key && os.description === s.description))\n    );\n  }, []);\n\n  const showHelp = useCallback(() => setShowHelpDialog(true), []);\n  const hideHelp = useCallback(() => setShowHelpDialog(false), []);\n\n  // Global shortcuts\n  const globalShortcuts: KeyboardShortcut[] = [\n    {\n      key: '?',\n      description: 'Show keyboard shortcuts',\n      category: 'general',\n      handler: showHelp,\n    },\n    {\n      key: 'Escape',\n      description: 'Close dialogs/modals',\n      category: 'general',\n      handler: () => {\n        // This will be handled by individual components\n      },\n    },\n  ];\n\n  // Combine global and registered shortcuts\n  const allShortcuts = [...globalShortcuts, ...shortcuts];\n\n  // Setup global keyboard shortcuts\n  useKeyboardShortcuts(allShortcuts);\n\n  const contextValue: KeyboardNavigationContextValue = {\n    registerShortcuts,\n    unregisterShortcuts,\n    showHelp,\n    hideHelp,\n  };\n\n  return (\n    <KeyboardNavigationContext.Provider value={contextValue}>\n      {/* Skip to main content link for screen readers */}\n      <a href=\"#main-content\" className=\"skip-to-main\">\n        Skip to main content\n      </a>\n\n      {children}\n\n      {/* Keyboard shortcuts help dialog */}\n      <KeyboardShortcutsDialog\n        isOpen={showHelpDialog}\n        onClose={hideHelp}\n        shortcuts={allShortcuts}\n      />\n    </KeyboardNavigationContext.Provider>\n  );\n}\n\n/**\n * Hook to access keyboard navigation context\n */\nexport function useKeyboardNavigation(): KeyboardNavigationContextValue {\n  const context = useContext(KeyboardNavigationContext);\n  if (!context) {\n    throw new Error('useKeyboardNavigation must be used within KeyboardNavigationProvider');\n  }\n  return context;\n}\n\n/**\n * Hook to register keyboard shortcuts for a component\n * Automatically unregisters on unmount\n */\nexport function useRegisterShortcuts(shortcuts: KeyboardShortcut[]): void {\n  const { registerShortcuts, unregisterShortcuts } = useKeyboardNavigation();\n\n  useEffect(() => {\n    if (shortcuts.length > 0) {\n      registerShortcuts(shortcuts);\n    }\n    return () => {\n      if (shortcuts.length > 0) {\n        unregisterShortcuts(shortcuts);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Only run on mount/unmount\n}\n"],"mappings":"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","ignoreList":[]}