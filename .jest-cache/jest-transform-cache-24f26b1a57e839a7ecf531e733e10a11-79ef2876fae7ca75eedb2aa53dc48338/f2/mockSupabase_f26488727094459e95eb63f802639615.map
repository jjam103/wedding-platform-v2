{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/__tests__/helpers/mockSupabase.ts"],"sourcesContent":["/**\n * Test Helper: Mock Supabase Client\n * \n * Provides properly configured Supabase mock with chainable methods\n * for use in unit and integration tests.\n */\n\nexport interface MockSupabaseClient {\n  from: jest.Mock;\n  select: jest.Mock;\n  insert: jest.Mock;\n  update: jest.Mock;\n  delete: jest.Mock;\n  eq: jest.Mock;\n  in: jest.Mock;\n  neq: jest.Mock;\n  gt: jest.Mock;\n  gte: jest.Mock;\n  lt: jest.Mock;\n  lte: jest.Mock;\n  like: jest.Mock;\n  ilike: jest.Mock;\n  or: jest.Mock;\n  range: jest.Mock;\n  order: jest.Mock;\n  limit: jest.Mock;\n  single: jest.Mock;\n  maybeSingle: jest.Mock;\n  auth: {\n    getSession: jest.Mock;\n    signInWithPassword: jest.Mock;\n    signOut: jest.Mock;\n  };\n  storage: {\n    from: jest.Mock;\n    upload: jest.Mock;\n    getPublicUrl: jest.Mock;\n    remove: jest.Mock;\n  };\n}\n\n/**\n * Creates a mock Supabase client with properly chained methods.\n * All query builder methods return `this` to allow chaining.\n * \n * @returns Mock Supabase client\n * \n * @example\n * const mockSupabase = createMockSupabaseClient();\n * mockSupabase.from.mockReturnValue(mockSupabase);\n * mockSupabase.select.mockReturnValue(mockSupabase);\n * mockSupabase.eq.mockResolvedValue({ data: [...], error: null });\n */\nexport function createMockSupabaseClient(): MockSupabaseClient {\n  const mock: any = {\n    from: jest.fn(),\n    select: jest.fn(),\n    insert: jest.fn(),\n    update: jest.fn(),\n    delete: jest.fn(),\n    eq: jest.fn(),\n    in: jest.fn(),\n    neq: jest.fn(),\n    gt: jest.fn(),\n    gte: jest.fn(),\n    lt: jest.fn(),\n    lte: jest.fn(),\n    like: jest.fn(),\n    ilike: jest.fn(),\n    or: jest.fn(),\n    range: jest.fn(),\n    order: jest.fn(),\n    limit: jest.fn(),\n    single: jest.fn(),\n    maybeSingle: jest.fn(),\n    auth: {\n      getSession: jest.fn(),\n      signInWithPassword: jest.fn(),\n      signOut: jest.fn(),\n    },\n    storage: {\n      from: jest.fn(),\n      upload: jest.fn(),\n      getPublicUrl: jest.fn(),\n      remove: jest.fn(),\n    },\n  };\n\n  // Make all query builder methods chainable by default\n  mock.from.mockReturnValue(mock);\n  mock.select.mockReturnValue(mock);\n  mock.insert.mockReturnValue(mock);\n  mock.update.mockReturnValue(mock);\n  mock.delete.mockReturnValue(mock);\n  mock.eq.mockReturnValue(mock);\n  mock.in.mockReturnValue(mock);\n  mock.neq.mockReturnValue(mock);\n  mock.gt.mockReturnValue(mock);\n  mock.gte.mockReturnValue(mock);\n  mock.lt.mockReturnValue(mock);\n  mock.lte.mockReturnValue(mock);\n  mock.like.mockReturnValue(mock);\n  mock.ilike.mockReturnValue(mock);\n  mock.or.mockReturnValue(mock);\n  mock.range.mockReturnValue(mock);\n  mock.order.mockReturnValue(mock);\n  mock.limit.mockReturnValue(mock);\n  \n  // Storage methods are also chainable\n  mock.storage.from.mockReturnValue(mock.storage);\n\n  return mock;\n}\n\n/**\n * Configures a mock Supabase client to return specific data for a query.\n * \n * @param mock - Mock Supabase client\n * @param data - Data to return\n * @param error - Optional error to return\n * \n * @example\n * const mockSupabase = createMockSupabaseClient();\n * configureMockQuery(mockSupabase, [{ id: '1', name: 'Test' }]);\n * \n * // Now queries will return the configured data\n * const result = await mockSupabase.from('table').select('*').eq('id', '1');\n * // result = { data: [{ id: '1', name: 'Test' }], error: null }\n */\nexport function configureMockQuery(\n  mock: MockSupabaseClient,\n  data: any,\n  error: any = null\n): void {\n  // Configure the final method in the chain to return data\n  mock.single.mockResolvedValue({ data, error });\n  mock.maybeSingle.mockResolvedValue({ data, error });\n  \n  // For queries without single/maybeSingle, configure the last chainable method\n  mock.eq.mockResolvedValue({ data, error, count: Array.isArray(data) ? data.length : null });\n  mock.in.mockResolvedValue({ data, error, count: Array.isArray(data) ? data.length : null });\n  mock.range.mockResolvedValue({ data, error, count: Array.isArray(data) ? data.length : null });\n  mock.order.mockResolvedValue({ data, error, count: Array.isArray(data) ? data.length : null });\n  mock.limit.mockResolvedValue({ data, error, count: Array.isArray(data) ? data.length : null });\n}\n\n/**\n * Resets all mocks on a Supabase client and reconfigures chaining.\n * \n * @param mock - Mock Supabase client to reset\n */\nexport function resetMockSupabaseClient(mock: MockSupabaseClient): void {\n  jest.clearAllMocks();\n  \n  // Reconfigure chaining\n  mock.from.mockReturnValue(mock);\n  mock.select.mockReturnValue(mock);\n  mock.insert.mockReturnValue(mock);\n  mock.update.mockReturnValue(mock);\n  mock.delete.mockReturnValue(mock);\n  mock.eq.mockReturnValue(mock);\n  mock.in.mockReturnValue(mock);\n  mock.neq.mockReturnValue(mock);\n  mock.gt.mockReturnValue(mock);\n  mock.gte.mockReturnValue(mock);\n  mock.lt.mockReturnValue(mock);\n  mock.lte.mockReturnValue(mock);\n  mock.like.mockReturnValue(mock);\n  mock.ilike.mockReturnValue(mock);\n  mock.or.mockReturnValue(mock);\n  mock.range.mockReturnValue(mock);\n  mock.order.mockReturnValue(mock);\n  mock.limit.mockReturnValue(mock);\n  mock.storage.from.mockReturnValue(mock.storage);\n}\n\n/**\n * Builder for common Supabase query patterns.\n * Reduces boilerplate in property-based tests.\n */\nexport class SupabaseMockBuilder {\n  private mock: MockSupabaseClient;\n\n  constructor(mock: MockSupabaseClient) {\n    this.mock = mock;\n  }\n\n  /**\n   * Mock a successful SELECT query returning multiple rows.\n   * \n   * @example\n   * builder.mockSelect('guests', [{ id: '1', name: 'John' }]);\n   * // Mocks: from('guests').select('*') -> { data: [...], error: null }\n   */\n  mockSelect(table: string, data: any[], error: any = null): this {\n    this.mock.from.mockReturnValue(this.mock);\n    this.mock.select.mockReturnValue(this.mock);\n    this.mock.eq.mockResolvedValue({ data, error, count: data.length });\n    return this;\n  }\n\n  /**\n   * Mock a successful SELECT query returning a single row.\n   * \n   * @example\n   * builder.mockSelectSingle('guests', { id: '1', name: 'John' });\n   * // Mocks: from('guests').select('*').eq('id', '1').single() -> { data: {...}, error: null }\n   */\n  mockSelectSingle(table: string, data: any, error: any = null): this {\n    this.mock.from.mockReturnValue(this.mock);\n    this.mock.select.mockReturnValue(this.mock);\n    this.mock.eq.mockReturnValue(this.mock);\n    this.mock.single.mockResolvedValue({ data, error });\n    return this;\n  }\n\n  /**\n   * Mock a successful INSERT query.\n   * \n   * @example\n   * builder.mockInsert('guests', { id: '1', name: 'John' });\n   * // Mocks: from('guests').insert({...}).select().single() -> { data: {...}, error: null }\n   */\n  mockInsert(table: string, data: any, error: any = null): this {\n    this.mock.from.mockReturnValue(this.mock);\n    this.mock.insert.mockReturnValue(this.mock);\n    this.mock.select.mockReturnValue(this.mock);\n    this.mock.single.mockResolvedValue({ data, error });\n    return this;\n  }\n\n  /**\n   * Mock a successful UPDATE query.\n   * \n   * @example\n   * builder.mockUpdate('guests', { id: '1', name: 'Jane' });\n   * // Mocks: from('guests').update({...}).eq('id', '1').select().single() -> { data: {...}, error: null }\n   */\n  mockUpdate(table: string, data: any, error: any = null): this {\n    this.mock.from.mockReturnValue(this.mock);\n    this.mock.update.mockReturnValue(this.mock);\n    this.mock.eq.mockReturnValue(this.mock);\n    this.mock.select.mockReturnValue(this.mock);\n    this.mock.single.mockResolvedValue({ data, error });\n    return this;\n  }\n\n  /**\n   * Mock a successful DELETE query.\n   * \n   * @example\n   * builder.mockDelete('guests');\n   * // Mocks: from('guests').delete().eq('id', '1') -> { data: null, error: null }\n   */\n  mockDelete(table: string, error: any = null): this {\n    this.mock.from.mockReturnValue(this.mock);\n    this.mock.delete.mockReturnValue(this.mock);\n    this.mock.eq.mockResolvedValue({ data: null, error });\n    return this;\n  }\n\n  /**\n   * Mock a database error for any query.\n   * \n   * @example\n   * builder.mockDatabaseError('Connection failed');\n   * // All queries will return { data: null, error: { message: 'Connection failed' } }\n   */\n  mockDatabaseError(message: string): this {\n    const error = { message, code: 'DATABASE_ERROR' };\n    this.mock.single.mockResolvedValue({ data: null, error });\n    this.mock.eq.mockResolvedValue({ data: null, error });\n    this.mock.insert.mockReturnValue(this.mock);\n    this.mock.update.mockReturnValue(this.mock);\n    this.mock.delete.mockReturnValue(this.mock);\n    this.mock.select.mockReturnValue(this.mock);\n    return this;\n  }\n\n  /**\n   * Mock authentication session.\n   * \n   * @example\n   * builder.mockAuthSession({ user: { id: 'user-1', email: 'test@example.com' } });\n   */\n  mockAuthSession(session: any, error: any = null): this {\n    this.mock.auth.getSession.mockResolvedValue({ data: { session }, error });\n    return this;\n  }\n\n  /**\n   * Mock storage upload.\n   * \n   * @example\n   * builder.mockStorageUpload('photos', 'photo.jpg', 'https://cdn.example.com/photo.jpg');\n   */\n  mockStorageUpload(bucket: string, path: string, publicUrl: string, error: any = null): this {\n    this.mock.storage.from.mockReturnValue(this.mock.storage);\n    this.mock.storage.upload.mockResolvedValue({ data: { path }, error });\n    this.mock.storage.getPublicUrl.mockReturnValue({ data: { publicUrl } });\n    return this;\n  }\n\n  /**\n   * Reset all mocks and reconfigure chaining.\n   */\n  reset(): this {\n    resetMockSupabaseClient(this.mock);\n    return this;\n  }\n}\n\n/**\n * Creates a builder for configuring Supabase mocks with less boilerplate.\n * \n * @param mock - Mock Supabase client\n * @returns Builder instance\n * \n * @example\n * const mockSupabase = createMockSupabaseClient();\n * const builder = createMockBuilder(mockSupabase);\n * \n * // Clean, readable mock setup\n * builder\n *   .mockSelectSingle('guests', { id: '1', name: 'John' })\n *   .mockInsert('rsvps', { id: '1', guestId: '1', status: 'attending' });\n */\nexport function createMockBuilder(mock: MockSupabaseClient): SupabaseMockBuilder {\n  return new SupabaseMockBuilder(mock);\n}\n"],"names":["SupabaseMockBuilder","configureMockQuery","createMockBuilder","createMockSupabaseClient","resetMockSupabaseClient","mock","from","jest","fn","select","insert","update","delete","eq","in","neq","gt","gte","lt","lte","like","ilike","or","range","order","limit","single","maybeSingle","auth","getSession","signInWithPassword","signOut","storage","upload","getPublicUrl","remove","mockReturnValue","data","error","mockResolvedValue","count","Array","isArray","length","clearAllMocks","mockSelect","table","mockSelectSingle","mockInsert","mockUpdate","mockDelete","mockDatabaseError","message","code","mockAuthSession","session","mockStorageUpload","bucket","path","publicUrl","reset"],"mappings":"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"}