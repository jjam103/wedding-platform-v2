ce30ab08ad560f9535149a6a13e4f626
'use client';
"use strict";

/* istanbul ignore next */
function cov_102x67e6h() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/admin/deleted-items/page.tsx";
  var hash = "bf061a1198766f6bafbc53112598563441af0476";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/admin/deleted-items/page.tsx",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 22,
          column: 3
        }
      },
      "2": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 32
        }
      },
      "3": {
        start: {
          line: 23,
          column: 20
        },
        end: {
          line: 23,
          column: 48
        }
      },
      "4": {
        start: {
          line: 24,
          column: 29
        },
        end: {
          line: 24,
          column: 85
        }
      },
      "5": {
        start: {
          line: 25,
          column: 22
        },
        end: {
          line: 25,
          column: 68
        }
      },
      "6": {
        start: {
          line: 27,
          column: 25
        },
        end: {
          line: 27,
          column: 54
        }
      },
      "7": {
        start: {
          line: 28,
          column: 26
        },
        end: {
          line: 54,
          column: 5
        }
      },
      "8": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 53,
          column: 9
        }
      },
      "9": {
        start: {
          line: 30,
          column: 29
        },
        end: {
          line: 38,
          column: 14
        }
      },
      "10": {
        start: {
          line: 39,
          column: 27
        },
        end: {
          line: 39,
          column: 48
        }
      },
      "11": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 42,
          column: 13
        }
      },
      "12": {
        start: {
          line: 41,
          column: 16
        },
        end: {
          line: 41,
          column: 83
        }
      },
      "13": {
        start: {
          line: 43,
          column: 12
        },
        end: {
          line: 46,
          column: 15
        }
      },
      "14": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 51,
          column: 15
        }
      },
      "15": {
        start: {
          line: 52,
          column: 12
        },
        end: {
          line: 52,
          column: 24
        }
      },
      "16": {
        start: {
          line: 55,
          column: 34
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "17": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 80,
          column: 9
        }
      },
      "18": {
        start: {
          line: 57,
          column: 29
        },
        end: {
          line: 65,
          column: 14
        }
      },
      "19": {
        start: {
          line: 66,
          column: 27
        },
        end: {
          line: 66,
          column: 48
        }
      },
      "20": {
        start: {
          line: 67,
          column: 12
        },
        end: {
          line: 69,
          column: 13
        }
      },
      "21": {
        start: {
          line: 68,
          column: 16
        },
        end: {
          line: 68,
          column: 94
        }
      },
      "22": {
        start: {
          line: 70,
          column: 12
        },
        end: {
          line: 73,
          column: 15
        }
      },
      "23": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 78,
          column: 15
        }
      },
      "24": {
        start: {
          line: 79,
          column: 12
        },
        end: {
          line: 79,
          column: 24
        }
      },
      "25": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 102,
          column: 7
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 10
          }
        },
        loc: {
          start: {
            line: 19,
            column: 20
          },
          end: {
            line: 21,
            column: 5
          }
        },
        line: 19
      },
      "1": {
        name: "DeletedItemsPage",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 25
          }
        },
        loc: {
          start: {
            line: 26,
            column: 28
          },
          end: {
            line: 103,
            column: 1
          }
        },
        line: 26
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 28,
            column: 26
          },
          end: {
            line: 28,
            column: 27
          }
        },
        loc: {
          start: {
            line: 28,
            column: 44
          },
          end: {
            line: 54,
            column: 5
          }
        },
        line: 28
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 55,
            column: 34
          },
          end: {
            line: 55,
            column: 35
          }
        },
        loc: {
          start: {
            line: 55,
            column: 52
          },
          end: {
            line: 81,
            column: 5
          }
        },
        line: 55
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 42,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 42,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 40
      },
      "1": {
        loc: {
          start: {
            line: 41,
            column: 32
          },
          end: {
            line: 41,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 41,
            column: 32
          },
          end: {
            line: 41,
            column: 53
          }
        }, {
          start: {
            line: 41,
            column: 57
          },
          end: {
            line: 41,
            column: 81
          }
        }],
        line: 41
      },
      "2": {
        loc: {
          start: {
            line: 50,
            column: 25
          },
          end: {
            line: 50,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 50,
            column: 50
          },
          end: {
            line: 50,
            column: 63
          }
        }, {
          start: {
            line: 50,
            column: 66
          },
          end: {
            line: 50,
            column: 90
          }
        }],
        line: 50
      },
      "3": {
        loc: {
          start: {
            line: 67,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "4": {
        loc: {
          start: {
            line: 68,
            column: 32
          },
          end: {
            line: 68,
            column: 92
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 68,
            column: 32
          },
          end: {
            line: 68,
            column: 53
          }
        }, {
          start: {
            line: 68,
            column: 57
          },
          end: {
            line: 68,
            column: 92
          }
        }],
        line: 68
      },
      "5": {
        loc: {
          start: {
            line: 77,
            column: 25
          },
          end: {
            line: 77,
            column: 101
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 77,
            column: 50
          },
          end: {
            line: 77,
            column: 63
          }
        }, {
          start: {
            line: 77,
            column: 66
          },
          end: {
            line: 77,
            column: 101
          }
        }],
        line: 77
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/admin/deleted-items/page.tsx"],
      sourcesContent: ["'use client';\n\nimport { DeletedItemsManager } from '@/components/admin/DeletedItemsManager';\nimport { useToast } from '@/components/ui/ToastContext';\n\n/**\n * Deleted Items Management Page\n * \n * Provides interface for managing soft-deleted items:\n * - View all deleted items across entity types\n * - Filter by entity type\n * - Search by name\n * - Restore items (clears deleted_at)\n * - Permanently delete items (removes from database)\n * \n * Items are automatically purged after 30 days.\n */\nexport default function DeletedItemsPage() {\n  const { addToast } = useToast();\n\n  const handleRestore = async (id: string, type: string) => {\n    try {\n      const response = await fetch(`/api/admin/deleted-items/${id}/restore`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type }),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error?.message || 'Failed to restore item');\n      }\n\n      addToast({\n        type: 'success',\n        message: 'Item restored successfully',\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to restore item',\n      });\n      throw error;\n    }\n  };\n\n  const handlePermanentDelete = async (id: string, type: string) => {\n    try {\n      const response = await fetch(`/api/admin/deleted-items/${id}/permanent`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type }),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error?.message || 'Failed to permanently delete item');\n      }\n\n      addToast({\n        type: 'success',\n        message: 'Item permanently deleted',\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to permanently delete item',\n      });\n      throw error;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-sage-900\">Deleted Items</h1>\n        <p className=\"text-sage-600 mt-1\">\n          Manage soft-deleted items. Items are automatically purged after 30 days.\n        </p>\n      </div>\n\n      {/* Deleted Items Manager */}\n      <DeletedItemsManager\n        onRestore={handleRestore}\n        onPermanentDelete={handlePermanentDelete}\n      />\n    </div>\n  );\n}\n"],
      names: ["DeletedItemsPage", "addToast", "useToast", "handleRestore", "id", "type", "response", "fetch", "method", "headers", "body", "JSON", "stringify", "result", "json", "success", "Error", "error", "message", "handlePermanentDelete", "div", "className", "h1", "p", "DeletedItemsManager", "onRestore", "onPermanentDelete"],
      mappings: "AAAA;;;;;+BAKA;;;;;;;;;;;CAWC,GACD;;;eAAwBA;;;;qCAfY;8BACX;AAcV,SAASA;IACtB,MAAM,EAAEC,QAAQ,EAAE,GAAGC,IAAAA,sBAAQ;IAE7B,MAAMC,gBAAgB,OAAOC,IAAYC;QACvC,IAAI;YACF,MAAMC,WAAW,MAAMC,MAAM,CAAC,yBAAyB,EAAEH,GAAG,QAAQ,CAAC,EAAE;gBACrEI,QAAQ;gBACRC,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9CC,MAAMC,KAAKC,SAAS,CAAC;oBAAEP;gBAAK;YAC9B;YAEA,MAAMQ,SAAS,MAAMP,SAASQ,IAAI;YAElC,IAAI,CAACD,OAAOE,OAAO,EAAE;gBACnB,MAAM,IAAIC,MAAMH,OAAOI,KAAK,EAAEC,WAAW;YAC3C;YAEAjB,SAAS;gBACPI,MAAM;gBACNa,SAAS;YACX;QACF,EAAE,OAAOD,OAAO;YACdhB,SAAS;gBACPI,MAAM;gBACNa,SAASD,iBAAiBD,QAAQC,MAAMC,OAAO,GAAG;YACpD;YACA,MAAMD;QACR;IACF;IAEA,MAAME,wBAAwB,OAAOf,IAAYC;QAC/C,IAAI;YACF,MAAMC,WAAW,MAAMC,MAAM,CAAC,yBAAyB,EAAEH,GAAG,UAAU,CAAC,EAAE;gBACvEI,QAAQ;gBACRC,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9CC,MAAMC,KAAKC,SAAS,CAAC;oBAAEP;gBAAK;YAC9B;YAEA,MAAMQ,SAAS,MAAMP,SAASQ,IAAI;YAElC,IAAI,CAACD,OAAOE,OAAO,EAAE;gBACnB,MAAM,IAAIC,MAAMH,OAAOI,KAAK,EAAEC,WAAW;YAC3C;YAEAjB,SAAS;gBACPI,MAAM;gBACNa,SAAS;YACX;QACF,EAAE,OAAOD,OAAO;YACdhB,SAAS;gBACPI,MAAM;gBACNa,SAASD,iBAAiBD,QAAQC,MAAMC,OAAO,GAAG;YACpD;YACA,MAAMD;QACR;IACF;IAEA,qBACE,sBAACG;QAAIC,WAAU;;0BAEb,sBAACD;;kCACC,qBAACE;wBAAGD,WAAU;kCAAmC;;kCACjD,qBAACE;wBAAEF,WAAU;kCAAqB;;;;0BAMpC,qBAACG,wCAAmB;gBAClBC,WAAWtB;gBACXuB,mBAAmBP;;;;AAI3B"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "bf061a1198766f6bafbc53112598563441af0476"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_102x67e6h = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_102x67e6h();
cov_102x67e6h().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_102x67e6h().s[1]++;
Object.defineProperty(exports,
/**
* Deleted Items Management Page
* 
* Provides interface for managing soft-deleted items:
* - View all deleted items across entity types
* - Filter by entity type
* - Search by name
* - Restore items (clears deleted_at)
* - Permanently delete items (removes from database)
* 
* Items are automatically purged after 30 days.
*/
"default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_102x67e6h().f[0]++;
    cov_102x67e6h().s[2]++;
    return DeletedItemsPage;
  }
});
const _jsxruntime =
/* istanbul ignore next */
(cov_102x67e6h().s[3]++, require("react/jsx-runtime"));
const _DeletedItemsManager =
/* istanbul ignore next */
(cov_102x67e6h().s[4]++, require("../../../components/admin/DeletedItemsManager"));
const _ToastContext =
/* istanbul ignore next */
(cov_102x67e6h().s[5]++, require("../../../components/ui/ToastContext"));
function DeletedItemsPage() {
  /* istanbul ignore next */
  cov_102x67e6h().f[1]++;
  const {
    addToast
  } =
  /* istanbul ignore next */
  (cov_102x67e6h().s[6]++, (0, _ToastContext.useToast)());
  /* istanbul ignore next */
  cov_102x67e6h().s[7]++;
  const handleRestore = async (id, type) => {
    /* istanbul ignore next */
    cov_102x67e6h().f[2]++;
    cov_102x67e6h().s[8]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_102x67e6h().s[9]++, await fetch(`/api/admin/deleted-items/${id}/restore`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          type
        })
      }));
      const result =
      /* istanbul ignore next */
      (cov_102x67e6h().s[10]++, await response.json());
      /* istanbul ignore next */
      cov_102x67e6h().s[11]++;
      if (!result.success) {
        /* istanbul ignore next */
        cov_102x67e6h().b[0][0]++;
        cov_102x67e6h().s[12]++;
        throw new Error(
        /* istanbul ignore next */
        (cov_102x67e6h().b[1][0]++, result.error?.message) ||
        /* istanbul ignore next */
        (cov_102x67e6h().b[1][1]++, 'Failed to restore item'));
      } else
      /* istanbul ignore next */
      {
        cov_102x67e6h().b[0][1]++;
      }
      cov_102x67e6h().s[13]++;
      addToast({
        type: 'success',
        message: 'Item restored successfully'
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_102x67e6h().s[14]++;
      addToast({
        type: 'error',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_102x67e6h().b[2][0]++, error.message) :
        /* istanbul ignore next */
        (cov_102x67e6h().b[2][1]++, 'Failed to restore item')
      });
      /* istanbul ignore next */
      cov_102x67e6h().s[15]++;
      throw error;
    }
  };
  /* istanbul ignore next */
  cov_102x67e6h().s[16]++;
  const handlePermanentDelete = async (id, type) => {
    /* istanbul ignore next */
    cov_102x67e6h().f[3]++;
    cov_102x67e6h().s[17]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_102x67e6h().s[18]++, await fetch(`/api/admin/deleted-items/${id}/permanent`, {
        method: 'DELETE',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          type
        })
      }));
      const result =
      /* istanbul ignore next */
      (cov_102x67e6h().s[19]++, await response.json());
      /* istanbul ignore next */
      cov_102x67e6h().s[20]++;
      if (!result.success) {
        /* istanbul ignore next */
        cov_102x67e6h().b[3][0]++;
        cov_102x67e6h().s[21]++;
        throw new Error(
        /* istanbul ignore next */
        (cov_102x67e6h().b[4][0]++, result.error?.message) ||
        /* istanbul ignore next */
        (cov_102x67e6h().b[4][1]++, 'Failed to permanently delete item'));
      } else
      /* istanbul ignore next */
      {
        cov_102x67e6h().b[3][1]++;
      }
      cov_102x67e6h().s[22]++;
      addToast({
        type: 'success',
        message: 'Item permanently deleted'
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_102x67e6h().s[23]++;
      addToast({
        type: 'error',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_102x67e6h().b[5][0]++, error.message) :
        /* istanbul ignore next */
        (cov_102x67e6h().b[5][1]++, 'Failed to permanently delete item')
      });
      /* istanbul ignore next */
      cov_102x67e6h().s[24]++;
      throw error;
    }
  };
  /* istanbul ignore next */
  cov_102x67e6h().s[25]++;
  return /*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
    className: "space-y-6",
    children: [/*#__PURE__*/(0, _jsxruntime.jsxs)("div", {
      children: [/*#__PURE__*/(0, _jsxruntime.jsx)("h1", {
        className: "text-3xl font-bold text-sage-900",
        children: "Deleted Items"
      }), /*#__PURE__*/(0, _jsxruntime.jsx)("p", {
        className: "text-sage-600 mt-1",
        children: "Manage soft-deleted items. Items are automatically purged after 30 days."
      })]
    }), /*#__PURE__*/(0, _jsxruntime.jsx)(_DeletedItemsManager.DeletedItemsManager, {
      onRestore: handleRestore,
      onPermanentDelete: handlePermanentDelete
    })]
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZWxldGVkSXRlbXNQYWdlIiwiY292XzEwMng2N2U2aCIsImYiLCJhZGRUb2FzdCIsInMiLCJfVG9hc3RDb250ZXh0IiwidXNlVG9hc3QiLCJoYW5kbGVSZXN0b3JlIiwiaWQiLCJ0eXBlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImpzb24iLCJzdWNjZXNzIiwiYiIsIkVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFuZGxlUGVybWFuZW50RGVsZXRlIiwiX2pzeHJ1bnRpbWUiLCJqc3hzIiwiY2xhc3NOYW1lIiwianN4IiwiX0RlbGV0ZWRJdGVtc01hbmFnZXIiLCJEZWxldGVkSXRlbXNNYW5hZ2VyIiwib25SZXN0b3JlIiwib25QZXJtYW5lbnREZWxldGUiXSwic291cmNlcyI6WyIvVXNlcnMvamFyb24vRGVza3RvcC93ZWRkaW5nLXBsYXRmb3JtLXYyL2FwcC9hZG1pbi9kZWxldGVkLWl0ZW1zL3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgRGVsZXRlZEl0ZW1zTWFuYWdlciB9IGZyb20gJ0AvY29tcG9uZW50cy9hZG1pbi9EZWxldGVkSXRlbXNNYW5hZ2VyJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL1RvYXN0Q29udGV4dCc7XG5cbi8qKlxuICogRGVsZXRlZCBJdGVtcyBNYW5hZ2VtZW50IFBhZ2VcbiAqIFxuICogUHJvdmlkZXMgaW50ZXJmYWNlIGZvciBtYW5hZ2luZyBzb2Z0LWRlbGV0ZWQgaXRlbXM6XG4gKiAtIFZpZXcgYWxsIGRlbGV0ZWQgaXRlbXMgYWNyb3NzIGVudGl0eSB0eXBlc1xuICogLSBGaWx0ZXIgYnkgZW50aXR5IHR5cGVcbiAqIC0gU2VhcmNoIGJ5IG5hbWVcbiAqIC0gUmVzdG9yZSBpdGVtcyAoY2xlYXJzIGRlbGV0ZWRfYXQpXG4gKiAtIFBlcm1hbmVudGx5IGRlbGV0ZSBpdGVtcyAocmVtb3ZlcyBmcm9tIGRhdGFiYXNlKVxuICogXG4gKiBJdGVtcyBhcmUgYXV0b21hdGljYWxseSBwdXJnZWQgYWZ0ZXIgMzAgZGF5cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVsZXRlZEl0ZW1zUGFnZSgpIHtcbiAgY29uc3QgeyBhZGRUb2FzdCB9ID0gdXNlVG9hc3QoKTtcblxuICBjb25zdCBoYW5kbGVSZXN0b3JlID0gYXN5bmMgKGlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FkbWluL2RlbGV0ZWQtaXRlbXMvJHtpZH0vcmVzdG9yZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHR5cGUgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3I/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZXN0b3JlIGl0ZW0nKTtcbiAgICAgIH1cblxuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdJdGVtIHJlc3RvcmVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gcmVzdG9yZSBpdGVtJyxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBlcm1hbmVudERlbGV0ZSA9IGFzeW5jIChpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hZG1pbi9kZWxldGVkLWl0ZW1zLyR7aWR9L3Blcm1hbmVudGAsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdHlwZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvcj8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHBlcm1hbmVudGx5IGRlbGV0ZSBpdGVtJyk7XG4gICAgICB9XG5cbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnSXRlbSBwZXJtYW5lbnRseSBkZWxldGVkJyxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBwZXJtYW5lbnRseSBkZWxldGUgaXRlbScsXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICB7LyogUGFnZSBIZWFkZXIgKi99XG4gICAgICA8ZGl2PlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtc2FnZS05MDBcIj5EZWxldGVkIEl0ZW1zPC9oMT5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zYWdlLTYwMCBtdC0xXCI+XG4gICAgICAgICAgTWFuYWdlIHNvZnQtZGVsZXRlZCBpdGVtcy4gSXRlbXMgYXJlIGF1dG9tYXRpY2FsbHkgcHVyZ2VkIGFmdGVyIDMwIGRheXMuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRGVsZXRlZCBJdGVtcyBNYW5hZ2VyICovfVxuICAgICAgPERlbGV0ZWRJdGVtc01hbmFnZXJcbiAgICAgICAgb25SZXN0b3JlPXtoYW5kbGVSZXN0b3JlfVxuICAgICAgICBvblBlcm1hbmVudERlbGV0ZT17aGFuZGxlUGVybWFuZW50RGVsZXRlfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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TVEsTUFBQTtNQUFBO01BQUEsQ0FBQWhCLGFBQUEsR0FBQUcsQ0FBQSxRQUFTLE1BQU1NLFFBQUEsQ0FBU1EsSUFBSTtNQUFBO01BQUFqQixhQUFBLEdBQUFHLENBQUE7TUFFbEMsSUFBSSxDQUFDYSxNQUFBLENBQU9FLE9BQU8sRUFBRTtRQUFBO1FBQUFsQixhQUFBLEdBQUFtQixDQUFBO1FBQUFuQixhQUFBLEdBQUFHLENBQUE7UUFDbkIsTUFBTSxJQUFJaUIsS0FBQTtRQUFNO1FBQUEsQ0FBQXBCLGFBQUEsR0FBQW1CLENBQUEsVUFBQUgsTUFBQSxDQUFPSyxLQUFLLEVBQUVDLE9BQUE7UUFBQTtRQUFBLENBQUF0QixhQUFBLEdBQUFtQixDQUFBLFVBQVc7TUFDM0M7TUFBQTtNQUFBO1FBQUFuQixhQUFBLEdBQUFtQixDQUFBO01BQUE7TUFBQW5CLGFBQUEsR0FBQUcsQ0FBQTtNQUVBRCxRQUFBLENBQVM7UUFDUE0sSUFBQSxFQUFNO1FBQ05jLE9BQUEsRUFBUztNQUNYO0lBQ0YsRUFBRSxPQUFPRCxLQUFBLEVBQU87TUFBQTtNQUFBckIsYUFBQSxHQUFBRyxDQUFBO01BQ2RELFFBQUEsQ0FBUztRQUNQTSxJQUFBLEVBQU07UUFDTmMsT0FBQSxFQUFTRCxLQUFBLFlBQWlCRCxLQUFBO1FBQUE7UUFBQSxDQUFBcEIsYUFBQSxHQUFBbUIsQ0FBQSxVQUFRRSxLQUFBLENBQU1DLE9BQU87UUFBQTtRQUFBLENBQUF0QixhQUFBLEdBQUFtQixDQUFBLFVBQUc7TUFDcEQ7TUFBQTtNQUFBbkIsYUFBQSxHQUFBRyxDQUFBO01BQ0EsTUFBTWtCLEtBQUE7SUFDUjtFQUNGO0VBQUE7RUFBQXJCLGFBQUEsR0FBQUcsQ0FBQTtFQUVBLG9CQUNFLElBQUFxQixXQUFBLENBQUFDLElBQUEsRUFBQztJQUFJQyxTQUFBLEVBQVU7NEJBRWIsSUFBQUYsV0FBQSxDQUFBQyxJQUFBLEVBQUM7OEJBQ0MsSUFBQUQsV0FBQSxDQUFBRyxHQUFBLEVBQUM7UUFBR0QsU0FBQSxFQUFVO2tCQUFtQzt1QkFDakQsSUFBQUYsV0FBQSxDQUFBRyxHQUFBLEVBQUM7UUFBRUQsU0FBQSxFQUFVO2tCQUFxQjs7cUJBTXBDLElBQUFGLFdBQUEsQ0FBQUcsR0FBQSxFQUFDQyxvQkFBQSxDQUFBQyxtQkFBbUI7TUFDbEJDLFNBQUEsRUFBV3hCLGFBQUE7TUFDWHlCLGlCQUFBLEVBQW1CUjs7O0FBSTNCIiwiaWdub3JlTGlzdCI6W119