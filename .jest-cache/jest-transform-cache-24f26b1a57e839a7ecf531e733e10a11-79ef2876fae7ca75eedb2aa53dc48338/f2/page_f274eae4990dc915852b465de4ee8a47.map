{"version":3,"names":["DeletedItemsPage","cov_102x67e6h","f","addToast","s","_ToastContext","useToast","handleRestore","id","type","response","fetch","method","headers","body","JSON","stringify","result","json","success","b","Error","error","message","handlePermanentDelete","_jsxruntime","jsxs","className","jsx","_DeletedItemsManager","DeletedItemsManager","onRestore","onPermanentDelete"],"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/admin/deleted-items/page.tsx"],"sourcesContent":["'use client';\n\nimport { DeletedItemsManager } from '@/components/admin/DeletedItemsManager';\nimport { useToast } from '@/components/ui/ToastContext';\n\n/**\n * Deleted Items Management Page\n * \n * Provides interface for managing soft-deleted items:\n * - View all deleted items across entity types\n * - Filter by entity type\n * - Search by name\n * - Restore items (clears deleted_at)\n * - Permanently delete items (removes from database)\n * \n * Items are automatically purged after 30 days.\n */\nexport default function DeletedItemsPage() {\n  const { addToast } = useToast();\n\n  const handleRestore = async (id: string, type: string) => {\n    try {\n      const response = await fetch(`/api/admin/deleted-items/${id}/restore`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type }),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error?.message || 'Failed to restore item');\n      }\n\n      addToast({\n        type: 'success',\n        message: 'Item restored successfully',\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to restore item',\n      });\n      throw error;\n    }\n  };\n\n  const handlePermanentDelete = async (id: string, type: string) => {\n    try {\n      const response = await fetch(`/api/admin/deleted-items/${id}/permanent`, {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type }),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error?.message || 'Failed to permanently delete item');\n      }\n\n      addToast({\n        type: 'success',\n        message: 'Item permanently deleted',\n      });\n    } catch (error) {\n      addToast({\n        type: 'error',\n        message: error instanceof Error ? error.message : 'Failed to permanently delete item',\n      });\n      throw error;\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-sage-900\">Deleted Items</h1>\n        <p className=\"text-sage-600 mt-1\">\n          Manage soft-deleted items. Items are automatically purged after 30 days.\n        </p>\n      </div>\n\n      {/* Deleted Items Manager */}\n      <DeletedItemsManager\n        onRestore={handleRestore}\n        onPermanentDelete={handlePermanentDelete}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}