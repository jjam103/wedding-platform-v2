{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/hooks/useMemoizedComputation.ts"],"sourcesContent":["import { useMemo } from 'react';\n\n/**\n * Custom hook for memoizing expensive computations\n * \n * Examples:\n * - Sorting large arrays\n * - Filtering large datasets\n * - Complex calculations\n * - Data transformations\n */\n\n/**\n * Memoize sorted data\n */\nexport function useSortedData<T>(\n  data: T[],\n  sortKey: keyof T | null,\n  sortDirection: 'asc' | 'desc'\n): T[] {\n  return useMemo(() => {\n    if (!sortKey) return data;\n\n    return [...data].sort((a, b) => {\n      const aVal = a[sortKey];\n      const bVal = b[sortKey];\n\n      if (aVal === bVal) return 0;\n\n      const comparison = aVal < bVal ? -1 : 1;\n      return sortDirection === 'asc' ? comparison : -comparison;\n    });\n  }, [data, sortKey, sortDirection]);\n}\n\n/**\n * Memoize filtered data\n */\nexport function useFilteredData<T>(\n  data: T[],\n  filters: Record<string, any>\n): T[] {\n  return useMemo(() => {\n    if (Object.keys(filters).length === 0) return data;\n\n    return data.filter((item) => {\n      return Object.entries(filters).every(([key, value]) => {\n        if (value === null || value === undefined || value === '') return true;\n        \n        const itemValue = item[key as keyof T];\n        \n        // Handle array filters (e.g., multiple selections)\n        if (Array.isArray(value)) {\n          return value.includes(itemValue);\n        }\n        \n        // Exact match for all other types\n        return itemValue === value;\n      });\n    });\n  }, [data, filters]);\n}\n\n/**\n * Memoize searched data\n */\nexport function useSearchedData<T>(\n  data: T[],\n  searchQuery: string,\n  searchFields: (keyof T)[]\n): T[] {\n  return useMemo(() => {\n    if (!searchQuery.trim()) return data;\n\n    const query = searchQuery.toLowerCase();\n\n    return data.filter((item) => {\n      return searchFields.some((field) => {\n        const value = item[field];\n        if (value === null || value === undefined) return false;\n        return String(value).toLowerCase().includes(query);\n      });\n    });\n  }, [data, searchQuery, searchFields]);\n}\n\n/**\n * Memoize paginated data\n */\nexport function usePaginatedData<T>(\n  data: T[],\n  page: number,\n  pageSize: number\n): { paginatedData: T[]; totalPages: number } {\n  return useMemo(() => {\n    const totalPages = Math.ceil(data.length / pageSize);\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = startIndex + pageSize;\n    const paginatedData = data.slice(startIndex, endIndex);\n\n    return { paginatedData, totalPages };\n  }, [data, page, pageSize]);\n}\n\n/**\n * Memoize grouped data\n */\nexport function useGroupedData<T>(\n  data: T[],\n  groupBy: keyof T | null\n): Map<any, T[]> {\n  return useMemo(() => {\n    if (!groupBy) return new Map();\n\n    const groups = new Map<any, T[]>();\n\n    data.forEach((item) => {\n      const key = item[groupBy];\n      const existing = groups.get(key) || [];\n      groups.set(key, [...existing, item]);\n    });\n\n    return groups;\n  }, [data, groupBy]);\n}\n\n/**\n * Memoize aggregated statistics\n */\nexport function useAggregatedStats<T>(\n  data: T[],\n  numericFields: (keyof T)[]\n): Record<string, { sum: number; avg: number; min: number; max: number }> {\n  return useMemo(() => {\n    const stats: Record<string, { sum: number; avg: number; min: number; max: number }> = {};\n\n    numericFields.forEach((field) => {\n      const values = data\n        .map((item) => item[field])\n        .filter((val) => typeof val === 'number') as number[];\n\n      if (values.length === 0) {\n        stats[String(field)] = { sum: 0, avg: 0, min: 0, max: 0 };\n        return;\n      }\n\n      const sum = values.reduce((acc, val) => acc + val, 0);\n      const avg = sum / values.length;\n      const min = Math.min(...values);\n      const max = Math.max(...values);\n\n      stats[String(field)] = { sum, avg, min, max };\n    });\n\n    return stats;\n  }, [data, numericFields]);\n}\n\n/**\n * Memoize unique values for a field\n */\nexport function useUniqueValues<T>(\n  data: T[],\n  field: keyof T\n): any[] {\n  return useMemo(() => {\n    const uniqueSet = new Set(data.map((item) => item[field]));\n    return Array.from(uniqueSet).filter((val) => val !== null && val !== undefined);\n  }, [data, field]);\n}\n\n/**\n * Memoize data transformation\n */\nexport function useTransformedData<T, R>(\n  data: T[],\n  transformer: (item: T) => R\n): R[] {\n  return useMemo(() => {\n    return data.map(transformer);\n  }, [data, transformer]);\n}\n"],"names":["useAggregatedStats","useFilteredData","useGroupedData","usePaginatedData","useSearchedData","useSortedData","useTransformedData","useUniqueValues","data","sortKey","sortDirection","useMemo","sort","a","b","aVal","bVal","comparison","filters","Object","keys","length","filter","item","entries","every","key","value","undefined","itemValue","Array","isArray","includes","searchQuery","searchFields","trim","query","toLowerCase","some","field","String","page","pageSize","totalPages","Math","ceil","startIndex","endIndex","paginatedData","slice","groupBy","Map","groups","forEach","existing","get","set","numericFields","stats","values","map","val","sum","avg","min","max","reduce","acc","uniqueSet","Set","from","transformer"],"mappings":"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"}