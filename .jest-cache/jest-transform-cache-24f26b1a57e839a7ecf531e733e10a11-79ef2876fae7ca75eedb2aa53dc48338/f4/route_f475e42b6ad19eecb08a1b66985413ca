e67bd3279e605a65b9da9a7c3d6e67fd
"use strict";

/* istanbul ignore next */
function cov_2398870nt7() {
  var path = "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/guests/[id]/rsvps/[rsvpId]/route.ts";
  var hash = "f09940d3ed9e17d10d44871684497b1166951849";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/guests/[id]/rsvps/[rsvpId]/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 19
        }
      },
      "3": {
        start: {
          line: 11,
          column: 13
        },
        end: {
          line: 11,
          column: 37
        }
      },
      "4": {
        start: {
          line: 12,
          column: 17
        },
        end: {
          line: 12,
          column: 40
        }
      },
      "5": {
        start: {
          line: 13,
          column: 16
        },
        end: {
          line: 13,
          column: 38
        }
      },
      "6": {
        start: {
          line: 14,
          column: 13
        },
        end: {
          line: 14,
          column: 27
        }
      },
      "7": {
        start: {
          line: 15,
          column: 25
        },
        end: {
          line: 24,
          column: 2
        }
      },
      "8": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 220,
          column: 5
        }
      },
      "9": {
        start: {
          line: 28,
          column: 28
        },
        end: {
          line: 28,
          column: 57
        }
      },
      "10": {
        start: {
          line: 29,
          column: 25
        },
        end: {
          line: 38,
          column: 10
        }
      },
      "11": {
        start: {
          line: 32,
          column: 20
        },
        end: {
          line: 32,
          column: 48
        }
      },
      "12": {
        start: {
          line: 35,
          column: 20
        },
        end: {
          line: 35,
          column: 108
        }
      },
      "13": {
        start: {
          line: 35,
          column: 69
        },
        end: {
          line: 35,
          column: 106
        }
      },
      "14": {
        start: {
          line: 39,
          column: 56
        },
        end: {
          line: 39,
          column: 88
        }
      },
      "15": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 50,
          column: 9
        }
      },
      "16": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 49,
          column: 15
        }
      },
      "17": {
        start: {
          line: 52,
          column: 40
        },
        end: {
          line: 52,
          column: 52
        }
      },
      "18": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 63,
          column: 9
        }
      },
      "19": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 62,
          column: 15
        }
      },
      "20": {
        start: {
          line: 65,
          column: 21
        },
        end: {
          line: 65,
          column: 41
        }
      },
      "21": {
        start: {
          line: 66,
          column: 27
        },
        end: {
          line: 66,
          column: 59
        }
      },
      "22": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 78,
          column: 9
        }
      },
      "23": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 77,
          column: 15
        }
      },
      "24": {
        start: {
          line: 79,
          column: 60
        },
        end: {
          line: 79,
          column: 75
        }
      },
      "25": {
        start: {
          line: 82,
          column: 61
        },
        end: {
          line: 82,
          column: 186
        }
      },
      "26": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 158,
          column: 9
        }
      },
      "27": {
        start: {
          line: 85,
          column: 29
        },
        end: {
          line: 85,
          column: 52
        }
      },
      "28": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 118,
          column: 13
        }
      },
      "29": {
        start: {
          line: 89,
          column: 53
        },
        end: {
          line: 92,
          column: 93
        }
      },
      "30": {
        start: {
          line: 93,
          column: 16
        },
        end: {
          line: 105,
          column: 17
        }
      },
      "31": {
        start: {
          line: 94,
          column: 20
        },
        end: {
          line: 94,
          column: 71
        }
      },
      "32": {
        start: {
          line: 95,
          column: 20
        },
        end: {
          line: 104,
          column: 23
        }
      },
      "33": {
        start: {
          line: 106,
          column: 42
        },
        end: {
          line: 106,
          column: 74
        }
      },
      "34": {
        start: {
          line: 107,
          column: 16
        },
        end: {
          line: 117,
          column: 17
        }
      },
      "35": {
        start: {
          line: 108,
          column: 20
        },
        end: {
          line: 116,
          column: 23
        }
      },
      "36": {
        start: {
          line: 120,
          column: 31
        },
        end: {
          line: 120,
          column: 33
        }
      },
      "37": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 65
        }
      },
      "38": {
        start: {
          line: 121,
          column: 38
        },
        end: {
          line: 121,
          column: 65
        }
      },
      "39": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 122,
          column: 78
        }
      },
      "40": {
        start: {
          line: 122,
          column: 42
        },
        end: {
          line: 122,
          column: 78
        }
      },
      "41": {
        start: {
          line: 123,
          column: 12
        },
        end: {
          line: 123,
          column: 105
        }
      },
      "42": {
        start: {
          line: 123,
          column: 51
        },
        end: {
          line: 123,
          column: 105
        }
      },
      "43": {
        start: {
          line: 124,
          column: 62
        },
        end: {
          line: 124,
          column: 213
        }
      },
      "44": {
        start: {
          line: 125,
          column: 12
        },
        end: {
          line: 137,
          column: 13
        }
      },
      "45": {
        start: {
          line: 126,
          column: 16
        },
        end: {
          line: 126,
          column: 76
        }
      },
      "46": {
        start: {
          line: 127,
          column: 16
        },
        end: {
          line: 136,
          column: 19
        }
      },
      "47": {
        start: {
          line: 139,
          column: 62
        },
        end: {
          line: 142,
          column: 85
        }
      },
      "48": {
        start: {
          line: 143,
          column: 12
        },
        end: {
          line: 145,
          column: 13
        }
      },
      "49": {
        start: {
          line: 144,
          column: 16
        },
        end: {
          line: 144,
          column: 70
        }
      },
      "50": {
        start: {
          line: 146,
          column: 38
        },
        end: {
          line: 146,
          column: 133
        }
      },
      "51": {
        start: {
          line: 147,
          column: 12
        },
        end: {
          line: 157,
          column: 15
        }
      },
      "52": {
        start: {
          line: 160,
          column: 55
        },
        end: {
          line: 160,
          column: 151
        }
      },
      "53": {
        start: {
          line: 161,
          column: 8
        },
        end: {
          line: 198,
          column: 9
        }
      },
      "54": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 174,
          column: 13
        }
      },
      "55": {
        start: {
          line: 165,
          column: 16
        },
        end: {
          line: 173,
          column: 19
        }
      },
      "56": {
        start: {
          line: 175,
          column: 62
        },
        end: {
          line: 177,
          column: 73
        }
      },
      "57": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 190,
          column: 13
        }
      },
      "58": {
        start: {
          line: 179,
          column: 16
        },
        end: {
          line: 179,
          column: 73
        }
      },
      "59": {
        start: {
          line: 180,
          column: 16
        },
        end: {
          line: 189,
          column: 19
        }
      },
      "60": {
        start: {
          line: 191,
          column: 12
        },
        end: {
          line: 197,
          column: 15
        }
      },
      "61": {
        start: {
          line: 200,
          column: 8
        },
        end: {
          line: 208,
          column: 11
        }
      },
      "62": {
        start: {
          line: 210,
          column: 8
        },
        end: {
          line: 210,
          column: 84
        }
      },
      "63": {
        start: {
          line: 211,
          column: 8
        },
        end: {
          line: 219,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "PUT",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 18
          }
        },
        loc: {
          start: {
            line: 25,
            column: 40
          },
          end: {
            line: 221,
            column: 1
          }
        },
        line: 25
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 31,
            column: 16
          },
          end: {
            line: 31,
            column: 17
          }
        },
        loc: {
          start: {
            line: 31,
            column: 26
          },
          end: {
            line: 33,
            column: 17
          }
        },
        line: 31
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 34,
            column: 16
          },
          end: {
            line: 34,
            column: 17
          }
        },
        loc: {
          start: {
            line: 34,
            column: 38
          },
          end: {
            line: 36,
            column: 17
          }
        },
        line: 34
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 35,
            column: 41
          },
          end: {
            line: 35,
            column: 42
          }
        },
        loc: {
          start: {
            line: 35,
            column: 69
          },
          end: {
            line: 35,
            column: 106
          }
        },
        line: 35
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 50,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 50,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 40
      },
      "1": {
        loc: {
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 40,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 40,
            column: 21
          }
        }, {
          start: {
            line: 40,
            column: 25
          },
          end: {
            line: 40,
            column: 33
          }
        }],
        line: 40
      },
      "2": {
        loc: {
          start: {
            line: 53,
            column: 8
          },
          end: {
            line: 63,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 53,
            column: 8
          },
          end: {
            line: 63,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 53
      },
      "3": {
        loc: {
          start: {
            line: 53,
            column: 12
          },
          end: {
            line: 53,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 12
          },
          end: {
            line: 53,
            column: 20
          }
        }, {
          start: {
            line: 53,
            column: 24
          },
          end: {
            line: 53,
            column: 31
          }
        }],
        line: 53
      },
      "4": {
        loc: {
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 78,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 8
          },
          end: {
            line: 78,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "5": {
        loc: {
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      },
      "6": {
        loc: {
          start: {
            line: 83,
            column: 12
          },
          end: {
            line: 83,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 83,
            column: 12
          },
          end: {
            line: 83,
            column: 26
          }
        }, {
          start: {
            line: 83,
            column: 30
          },
          end: {
            line: 83,
            column: 42
          }
        }],
        line: 83
      },
      "7": {
        loc: {
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 118,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 118,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 87
      },
      "8": {
        loc: {
          start: {
            line: 87,
            column: 16
          },
          end: {
            line: 87,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 87,
            column: 16
          },
          end: {
            line: 87,
            column: 38
          }
        }, {
          start: {
            line: 87,
            column: 42
          },
          end: {
            line: 87,
            column: 60
          }
        }],
        line: 87
      },
      "9": {
        loc: {
          start: {
            line: 93,
            column: 16
          },
          end: {
            line: 105,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 93,
            column: 16
          },
          end: {
            line: 105,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 93
      },
      "10": {
        loc: {
          start: {
            line: 106,
            column: 63
          },
          end: {
            line: 106,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 106,
            column: 63
          },
          end: {
            line: 106,
            column: 68
          }
        }, {
          start: {
            line: 106,
            column: 72
          },
          end: {
            line: 106,
            column: 73
          }
        }],
        line: 106
      },
      "11": {
        loc: {
          start: {
            line: 107,
            column: 16
          },
          end: {
            line: 117,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 16
          },
          end: {
            line: 117,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "12": {
        loc: {
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 121,
            column: 65
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 121,
            column: 65
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "13": {
        loc: {
          start: {
            line: 122,
            column: 12
          },
          end: {
            line: 122,
            column: 78
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 122,
            column: 12
          },
          end: {
            line: 122,
            column: 78
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 122
      },
      "14": {
        loc: {
          start: {
            line: 123,
            column: 12
          },
          end: {
            line: 123,
            column: 105
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 12
          },
          end: {
            line: 123,
            column: 105
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "15": {
        loc: {
          start: {
            line: 125,
            column: 12
          },
          end: {
            line: 137,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 12
          },
          end: {
            line: 137,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 125
      },
      "16": {
        loc: {
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 145,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 143,
            column: 12
          },
          end: {
            line: 145,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 143
      },
      "17": {
        loc: {
          start: {
            line: 146,
            column: 38
          },
          end: {
            line: 146,
            column: 133
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 146,
            column: 72
          },
          end: {
            line: 146,
            column: 121
          }
        }, {
          start: {
            line: 146,
            column: 124
          },
          end: {
            line: 146,
            column: 133
          }
        }],
        line: 146
      },
      "18": {
        loc: {
          start: {
            line: 146,
            column: 107
          },
          end: {
            line: 146,
            column: 120
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 146,
            column: 107
          },
          end: {
            line: 146,
            column: 115
          }
        }, {
          start: {
            line: 146,
            column: 119
          },
          end: {
            line: 146,
            column: 120
          }
        }],
        line: 146
      },
      "19": {
        loc: {
          start: {
            line: 161,
            column: 8
          },
          end: {
            line: 198,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 161,
            column: 8
          },
          end: {
            line: 198,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 161
      },
      "20": {
        loc: {
          start: {
            line: 161,
            column: 12
          },
          end: {
            line: 161,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 12
          },
          end: {
            line: 161,
            column: 23
          }
        }, {
          start: {
            line: 161,
            column: 27
          },
          end: {
            line: 161,
            column: 36
          }
        }],
        line: 161
      },
      "21": {
        loc: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 174,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 164
      },
      "22": {
        loc: {
          start: {
            line: 178,
            column: 12
          },
          end: {
            line: 190,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 178,
            column: 12
          },
          end: {
            line: 190,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 178
      },
      "23": {
        loc: {
          start: {
            line: 215,
            column: 25
          },
          end: {
            line: 215,
            column: 90
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 215,
            column: 50
          },
          end: {
            line: 215,
            column: 63
          }
        }, {
          start: {
            line: 215,
            column: 66
          },
          end: {
            line: 215,
            column: 90
          }
        }],
        line: 215
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/jaron/Desktop/wedding-platform-v2/app/api/admin/guests/[id]/rsvps/[rsvpId]/route.ts"],
      sourcesContent: ["import { createServerClient } from '@supabase/ssr';\nimport { cookies } from 'next/headers';\nimport { NextResponse } from 'next/server';\nimport { z } from 'zod';\n\nconst updateRSVPSchema = z.object({\n  status: z.enum(['attending', 'declined', 'maybe', 'pending']).optional(),\n  guestCount: z.number().int().min(1).max(10).optional(),\n  dietaryRestrictions: z.string().max(500).optional(),\n});\n\n/**\n * PUT /api/admin/guests/[id]/rsvps/[rsvpId]\n * \n * Update an RSVP status, guest count, or dietary restrictions\n * \n * @param request - Next.js request object\n * @param params - Route parameters containing guest ID and RSVP ID\n * @returns Updated RSVP with capacity information\n */\nexport async function PUT(\n  request: Request,\n  { params }: { params: Promise<{ id: string; rsvpId: string }> }\n) {\n  try {\n    // 1. Auth check\n    const cookieStore = await cookies();\n    const supabase = createServerClient(\n      process.env.NEXT_PUBLIC_SUPABASE_URL!,\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n      {\n        cookies: {\n          getAll() {\n            return cookieStore.getAll();\n          },\n          setAll(cookiesToSet) {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            );\n          },\n        },\n      }\n    );\n    const {\n      data: { session },\n      error: authError,\n    } = await supabase.auth.getSession();\n\n    if (authError || !session) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: { code: 'UNAUTHORIZED', message: 'Authentication required' },\n        },\n        { status: 401 }\n      );\n    }\n\n    // 2. Get params\n    const { id: guestId, rsvpId } = await params;\n\n    if (!guestId || !rsvpId) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: 'VALIDATION_ERROR',\n            message: 'Guest ID and RSVP ID are required',\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    // 3. Parse and validate request body\n    const body = await request.json();\n    const validation = updateRSVPSchema.safeParse(body);\n\n    if (!validation.success) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: {\n            code: 'VALIDATION_ERROR',\n            message: 'Invalid request data',\n            details: validation.error.issues,\n          },\n        },\n        { status: 400 }\n      );\n    }\n\n    const { status, guestCount, dietaryRestrictions } = validation.data;\n\n    // 4. Get the RSVP to determine type (activity or event)\n    // Try activity_rsvps first\n    const { data: activityRSVP, error: activityError } = await supabase\n      .from('activity_rsvps')\n      .select('*, activities(id, capacity)')\n      .eq('id', rsvpId)\n      .eq('guest_id', guestId)\n      .single();\n\n    if (!activityError && activityRSVP) {\n      // This is an activity RSVP\n      const activity = activityRSVP.activities;\n\n      // 5. Capacity validation for activities\n      if (status === 'attending' && activity?.capacity) {\n        // Count current attending RSVPs (excluding this one)\n        const { count, error: countError } = await supabase\n          .from('activity_rsvps')\n          .select('*', { count: 'exact', head: true })\n          .eq('activity_id', activity.id)\n          .eq('status', 'attending')\n          .neq('id', rsvpId);\n\n        if (countError) {\n          console.error('Error counting RSVPs:', countError);\n          return NextResponse.json(\n            {\n              success: false,\n              error: {\n                code: 'DATABASE_ERROR',\n                message: 'Failed to check capacity',\n                details: countError,\n              },\n            },\n            { status: 500 }\n          );\n        }\n\n        const capacityRemaining = activity.capacity - (count || 0);\n\n        if (capacityRemaining <= 0) {\n          return NextResponse.json(\n            {\n              success: false,\n              error: {\n                code: 'CAPACITY_EXCEEDED',\n                message: 'Activity is at full capacity',\n              },\n            },\n            { status: 409 }\n          );\n        }\n      }\n\n      // 6. Update activity RSVP\n      const updateData: any = {};\n      if (status !== undefined) updateData.status = status;\n      if (guestCount !== undefined) updateData.guest_count = guestCount;\n      if (dietaryRestrictions !== undefined)\n        updateData.dietary_restrictions = dietaryRestrictions;\n\n      const { data: updatedRSVP, error: updateError } = await supabase\n        .from('activity_rsvps')\n        .update(updateData)\n        .eq('id', rsvpId)\n        .eq('guest_id', guestId)\n        .select('*, activities(id, title, capacity)')\n        .single();\n\n      if (updateError) {\n        console.error('Error updating activity RSVP:', updateError);\n        return NextResponse.json(\n          {\n            success: false,\n            error: {\n              code: 'DATABASE_ERROR',\n              message: 'Failed to update RSVP',\n              details: updateError,\n            },\n          },\n          { status: 500 }\n        );\n      }\n\n      // 7. Calculate updated capacity\n      const { count: newCount, error: newCountError } = await supabase\n        .from('activity_rsvps')\n        .select('*', { count: 'exact', head: true })\n        .eq('activity_id', updatedRSVP.activities.id)\n        .eq('status', 'attending');\n\n      if (newCountError) {\n        console.error('Error counting RSVPs:', newCountError);\n      }\n\n      const capacityRemaining = updatedRSVP.activities.capacity\n        ? updatedRSVP.activities.capacity - (newCount || 0)\n        : undefined;\n\n      return NextResponse.json({\n        success: true,\n        data: {\n          id: updatedRSVP.id,\n          status: updatedRSVP.status,\n          guestCount: updatedRSVP.guest_count,\n          dietaryRestrictions: updatedRSVP.dietary_restrictions,\n          capacity: updatedRSVP.activities.capacity,\n          capacityRemaining,\n        },\n      });\n    }\n\n    // Try event_rsvps\n    const { data: eventRSVP, error: eventError } = await supabase\n      .from('event_rsvps')\n      .select('*')\n      .eq('id', rsvpId)\n      .eq('guest_id', guestId)\n      .single();\n\n    if (!eventError && eventRSVP) {\n      // This is an event RSVP\n      // Events don't have capacity constraints or guest counts\n\n      if (status === undefined) {\n        return NextResponse.json(\n          {\n            success: false,\n            error: {\n              code: 'VALIDATION_ERROR',\n              message: 'Status is required for event RSVPs',\n            },\n          },\n          { status: 400 }\n        );\n      }\n\n      const { data: updatedRSVP, error: updateError } = await supabase\n        .from('event_rsvps')\n        .update({ status })\n        .eq('id', rsvpId)\n        .eq('guest_id', guestId)\n        .select()\n        .single();\n\n      if (updateError) {\n        console.error('Error updating event RSVP:', updateError);\n        return NextResponse.json(\n          {\n            success: false,\n            error: {\n              code: 'DATABASE_ERROR',\n              message: 'Failed to update RSVP',\n              details: updateError,\n            },\n          },\n          { status: 500 }\n        );\n      }\n\n      return NextResponse.json({\n        success: true,\n        data: {\n          id: updatedRSVP.id,\n          status: updatedRSVP.status,\n        },\n      });\n    }\n\n    // RSVP not found\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: 'NOT_FOUND',\n          message: 'RSVP not found',\n        },\n      },\n      { status: 404 }\n    );\n  } catch (error) {\n    console.error('Error in PUT /api/admin/guests/[id]/rsvps/[rsvpId]:', error);\n    return NextResponse.json(\n      {\n        success: false,\n        error: {\n          code: 'UNKNOWN_ERROR',\n          message: error instanceof Error ? error.message : 'Unknown error occurred',\n        },\n      },\n      { status: 500 }\n    );\n  }\n}\n"],
      names: ["PUT", "updateRSVPSchema", "z", "object", "status", "enum", "optional", "guestCount", "number", "int", "min", "max", "dietaryRestrictions", "string", "request", "params", "cookieStore", "cookies", "supabase", "createServerClient", "process", "env", "NEXT_PUBLIC_SUPABASE_URL", "NEXT_PUBLIC_SUPABASE_ANON_KEY", "getAll", "setAll", "cookiesToSet", "forEach", "name", "value", "options", "set", "data", "session", "error", "authError", "auth", "getSession", "NextResponse", "json", "success", "code", "message", "id", "guestId", "rsvpId", "body", "validation", "safeParse", "details", "issues", "activityRSVP", "activityError", "from", "select", "eq", "single", "activity", "activities", "capacity", "count", "countError", "head", "neq", "console", "capacityRemaining", "updateData", "undefined", "guest_count", "dietary_restrictions", "updatedRSVP", "updateError", "update", "newCount", "newCountError", "eventRSVP", "eventError", "Error"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f09940d3ed9e17d10d44871684497b1166951849"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2398870nt7 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2398870nt7();
cov_2398870nt7().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2398870nt7().s[1]++;
Object.defineProperty(exports, "PUT", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_2398870nt7().f[0]++;
    cov_2398870nt7().s[2]++;
    return PUT;
  }
});
const _ssr =
/* istanbul ignore next */
(cov_2398870nt7().s[3]++, require("@supabase/ssr"));
const _headers =
/* istanbul ignore next */
(cov_2398870nt7().s[4]++, require("next/headers"));
const _server =
/* istanbul ignore next */
(cov_2398870nt7().s[5]++, require("next/server"));
const _zod =
/* istanbul ignore next */
(cov_2398870nt7().s[6]++, require("zod"));
const updateRSVPSchema =
/* istanbul ignore next */
(cov_2398870nt7().s[7]++, _zod.z.object({
  status: _zod.z.enum(['attending', 'declined', 'maybe', 'pending']).optional(),
  guestCount: _zod.z.number().int().min(1).max(10).optional(),
  dietaryRestrictions: _zod.z.string().max(500).optional()
}));
async function PUT(request, {
  params
}) {
  /* istanbul ignore next */
  cov_2398870nt7().f[1]++;
  cov_2398870nt7().s[8]++;
  try {
    // 1. Auth check
    const cookieStore =
    /* istanbul ignore next */
    (cov_2398870nt7().s[9]++, await (0, _headers.cookies)());
    const supabase =
    /* istanbul ignore next */
    (cov_2398870nt7().s[10]++, (0, _ssr.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY, {
      cookies: {
        getAll() {
          /* istanbul ignore next */
          cov_2398870nt7().f[2]++;
          cov_2398870nt7().s[11]++;
          return cookieStore.getAll();
        },
        setAll(cookiesToSet) {
          /* istanbul ignore next */
          cov_2398870nt7().f[3]++;
          cov_2398870nt7().s[12]++;
          cookiesToSet.forEach(({
            name,
            value,
            options
          }) => {
            /* istanbul ignore next */
            cov_2398870nt7().f[4]++;
            cov_2398870nt7().s[13]++;
            return cookieStore.set(name, value, options);
          });
        }
      }
    }));
    const {
      data: {
        session
      },
      error: authError
    } =
    /* istanbul ignore next */
    (cov_2398870nt7().s[14]++, await supabase.auth.getSession());
    /* istanbul ignore next */
    cov_2398870nt7().s[15]++;
    if (
    /* istanbul ignore next */
    (cov_2398870nt7().b[1][0]++, authError) ||
    /* istanbul ignore next */
    (cov_2398870nt7().b[1][1]++, !session)) {
      /* istanbul ignore next */
      cov_2398870nt7().b[0][0]++;
      cov_2398870nt7().s[16]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'UNAUTHORIZED',
          message: 'Authentication required'
        }
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2398870nt7().b[0][1]++;
    }
    // 2. Get params
    const {
      id: guestId,
      rsvpId
    } =
    /* istanbul ignore next */
    (cov_2398870nt7().s[17]++, await params);
    /* istanbul ignore next */
    cov_2398870nt7().s[18]++;
    if (
    /* istanbul ignore next */
    (cov_2398870nt7().b[3][0]++, !guestId) ||
    /* istanbul ignore next */
    (cov_2398870nt7().b[3][1]++, !rsvpId)) {
      /* istanbul ignore next */
      cov_2398870nt7().b[2][0]++;
      cov_2398870nt7().s[19]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Guest ID and RSVP ID are required'
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2398870nt7().b[2][1]++;
    }
    // 3. Parse and validate request body
    const body =
    /* istanbul ignore next */
    (cov_2398870nt7().s[20]++, await request.json());
    const validation =
    /* istanbul ignore next */
    (cov_2398870nt7().s[21]++, updateRSVPSchema.safeParse(body));
    /* istanbul ignore next */
    cov_2398870nt7().s[22]++;
    if (!validation.success) {
      /* istanbul ignore next */
      cov_2398870nt7().b[4][0]++;
      cov_2398870nt7().s[23]++;
      return _server.NextResponse.json({
        success: false,
        error: {
          code: 'VALIDATION_ERROR',
          message: 'Invalid request data',
          details: validation.error.issues
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2398870nt7().b[4][1]++;
    }
    const {
      status,
      guestCount,
      dietaryRestrictions
    } =
    /* istanbul ignore next */
    (cov_2398870nt7().s[24]++, validation.data);
    // 4. Get the RSVP to determine type (activity or event)
    // Try activity_rsvps first
    const {
      data: activityRSVP,
      error: activityError
    } =
    /* istanbul ignore next */
    (cov_2398870nt7().s[25]++, await supabase.from('activity_rsvps').select('*, activities(id, capacity)').eq('id', rsvpId).eq('guest_id', guestId).single());
    /* istanbul ignore next */
    cov_2398870nt7().s[26]++;
    if (
    /* istanbul ignore next */
    (cov_2398870nt7().b[6][0]++, !activityError) &&
    /* istanbul ignore next */
    (cov_2398870nt7().b[6][1]++, activityRSVP)) {
      /* istanbul ignore next */
      cov_2398870nt7().b[5][0]++;
      // This is an activity RSVP
      const activity =
      /* istanbul ignore next */
      (cov_2398870nt7().s[27]++, activityRSVP.activities);
      // 5. Capacity validation for activities
      /* istanbul ignore next */
      cov_2398870nt7().s[28]++;
      if (
      /* istanbul ignore next */
      (cov_2398870nt7().b[8][0]++, status === 'attending') &&
      /* istanbul ignore next */
      (cov_2398870nt7().b[8][1]++, activity?.capacity)) {
        /* istanbul ignore next */
        cov_2398870nt7().b[7][0]++;
        // Count current attending RSVPs (excluding this one)
        const {
          count,
          error: countError
        } =
        /* istanbul ignore next */
        (cov_2398870nt7().s[29]++, await supabase.from('activity_rsvps').select('*', {
          count: 'exact',
          head: true
        }).eq('activity_id', activity.id).eq('status', 'attending').neq('id', rsvpId));
        /* istanbul ignore next */
        cov_2398870nt7().s[30]++;
        if (countError) {
          /* istanbul ignore next */
          cov_2398870nt7().b[9][0]++;
          cov_2398870nt7().s[31]++;
          console.error('Error counting RSVPs:', countError);
          /* istanbul ignore next */
          cov_2398870nt7().s[32]++;
          return _server.NextResponse.json({
            success: false,
            error: {
              code: 'DATABASE_ERROR',
              message: 'Failed to check capacity',
              details: countError
            }
          }, {
            status: 500
          });
        } else
        /* istanbul ignore next */
        {
          cov_2398870nt7().b[9][1]++;
        }
        const capacityRemaining =
        /* istanbul ignore next */
        (cov_2398870nt7().s[33]++, activity.capacity - (
        /* istanbul ignore next */
        (cov_2398870nt7().b[10][0]++, count) ||
        /* istanbul ignore next */
        (cov_2398870nt7().b[10][1]++, 0)));
        /* istanbul ignore next */
        cov_2398870nt7().s[34]++;
        if (capacityRemaining <= 0) {
          /* istanbul ignore next */
          cov_2398870nt7().b[11][0]++;
          cov_2398870nt7().s[35]++;
          return _server.NextResponse.json({
            success: false,
            error: {
              code: 'CAPACITY_EXCEEDED',
              message: 'Activity is at full capacity'
            }
          }, {
            status: 409
          });
        } else
        /* istanbul ignore next */
        {
          cov_2398870nt7().b[11][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[7][1]++;
      }
      // 6. Update activity RSVP
      const updateData =
      /* istanbul ignore next */
      (cov_2398870nt7().s[36]++, {});
      /* istanbul ignore next */
      cov_2398870nt7().s[37]++;
      if (status !== undefined) {
        /* istanbul ignore next */
        cov_2398870nt7().b[12][0]++;
        cov_2398870nt7().s[38]++;
        updateData.status = status;
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[12][1]++;
      }
      cov_2398870nt7().s[39]++;
      if (guestCount !== undefined) {
        /* istanbul ignore next */
        cov_2398870nt7().b[13][0]++;
        cov_2398870nt7().s[40]++;
        updateData.guest_count = guestCount;
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[13][1]++;
      }
      cov_2398870nt7().s[41]++;
      if (dietaryRestrictions !== undefined) {
        /* istanbul ignore next */
        cov_2398870nt7().b[14][0]++;
        cov_2398870nt7().s[42]++;
        updateData.dietary_restrictions = dietaryRestrictions;
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[14][1]++;
      }
      const {
        data: updatedRSVP,
        error: updateError
      } =
      /* istanbul ignore next */
      (cov_2398870nt7().s[43]++, await supabase.from('activity_rsvps').update(updateData).eq('id', rsvpId).eq('guest_id', guestId).select('*, activities(id, title, capacity)').single());
      /* istanbul ignore next */
      cov_2398870nt7().s[44]++;
      if (updateError) {
        /* istanbul ignore next */
        cov_2398870nt7().b[15][0]++;
        cov_2398870nt7().s[45]++;
        console.error('Error updating activity RSVP:', updateError);
        /* istanbul ignore next */
        cov_2398870nt7().s[46]++;
        return _server.NextResponse.json({
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: 'Failed to update RSVP',
            details: updateError
          }
        }, {
          status: 500
        });
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[15][1]++;
      }
      // 7. Calculate updated capacity
      const {
        count: newCount,
        error: newCountError
      } =
      /* istanbul ignore next */
      (cov_2398870nt7().s[47]++, await supabase.from('activity_rsvps').select('*', {
        count: 'exact',
        head: true
      }).eq('activity_id', updatedRSVP.activities.id).eq('status', 'attending'));
      /* istanbul ignore next */
      cov_2398870nt7().s[48]++;
      if (newCountError) {
        /* istanbul ignore next */
        cov_2398870nt7().b[16][0]++;
        cov_2398870nt7().s[49]++;
        console.error('Error counting RSVPs:', newCountError);
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[16][1]++;
      }
      const capacityRemaining =
      /* istanbul ignore next */
      (cov_2398870nt7().s[50]++, updatedRSVP.activities.capacity ?
      /* istanbul ignore next */
      (cov_2398870nt7().b[17][0]++, updatedRSVP.activities.capacity - (
      /* istanbul ignore next */
      (cov_2398870nt7().b[18][0]++, newCount) ||
      /* istanbul ignore next */
      (cov_2398870nt7().b[18][1]++, 0))) :
      /* istanbul ignore next */
      (cov_2398870nt7().b[17][1]++, undefined));
      /* istanbul ignore next */
      cov_2398870nt7().s[51]++;
      return _server.NextResponse.json({
        success: true,
        data: {
          id: updatedRSVP.id,
          status: updatedRSVP.status,
          guestCount: updatedRSVP.guest_count,
          dietaryRestrictions: updatedRSVP.dietary_restrictions,
          capacity: updatedRSVP.activities.capacity,
          capacityRemaining
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_2398870nt7().b[5][1]++;
    }
    // Try event_rsvps
    const {
      data: eventRSVP,
      error: eventError
    } =
    /* istanbul ignore next */
    (cov_2398870nt7().s[52]++, await supabase.from('event_rsvps').select('*').eq('id', rsvpId).eq('guest_id', guestId).single());
    /* istanbul ignore next */
    cov_2398870nt7().s[53]++;
    if (
    /* istanbul ignore next */
    (cov_2398870nt7().b[20][0]++, !eventError) &&
    /* istanbul ignore next */
    (cov_2398870nt7().b[20][1]++, eventRSVP)) {
      /* istanbul ignore next */
      cov_2398870nt7().b[19][0]++;
      cov_2398870nt7().s[54]++;
      // This is an event RSVP
      // Events don't have capacity constraints or guest counts
      if (status === undefined) {
        /* istanbul ignore next */
        cov_2398870nt7().b[21][0]++;
        cov_2398870nt7().s[55]++;
        return _server.NextResponse.json({
          success: false,
          error: {
            code: 'VALIDATION_ERROR',
            message: 'Status is required for event RSVPs'
          }
        }, {
          status: 400
        });
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[21][1]++;
      }
      const {
        data: updatedRSVP,
        error: updateError
      } =
      /* istanbul ignore next */
      (cov_2398870nt7().s[56]++, await supabase.from('event_rsvps').update({
        status
      }).eq('id', rsvpId).eq('guest_id', guestId).select().single());
      /* istanbul ignore next */
      cov_2398870nt7().s[57]++;
      if (updateError) {
        /* istanbul ignore next */
        cov_2398870nt7().b[22][0]++;
        cov_2398870nt7().s[58]++;
        console.error('Error updating event RSVP:', updateError);
        /* istanbul ignore next */
        cov_2398870nt7().s[59]++;
        return _server.NextResponse.json({
          success: false,
          error: {
            code: 'DATABASE_ERROR',
            message: 'Failed to update RSVP',
            details: updateError
          }
        }, {
          status: 500
        });
      } else
      /* istanbul ignore next */
      {
        cov_2398870nt7().b[22][1]++;
      }
      cov_2398870nt7().s[60]++;
      return _server.NextResponse.json({
        success: true,
        data: {
          id: updatedRSVP.id,
          status: updatedRSVP.status
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_2398870nt7().b[19][1]++;
    }
    // RSVP not found
    cov_2398870nt7().s[61]++;
    return _server.NextResponse.json({
      success: false,
      error: {
        code: 'NOT_FOUND',
        message: 'RSVP not found'
      }
    }, {
      status: 404
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2398870nt7().s[62]++;
    console.error('Error in PUT /api/admin/guests/[id]/rsvps/[rsvpId]:', error);
    /* istanbul ignore next */
    cov_2398870nt7().s[63]++;
    return _server.NextResponse.json({
      success: false,
      error: {
        code: 'UNKNOWN_ERROR',
        message: error instanceof Error ?
        /* istanbul ignore next */
        (cov_2398870nt7().b[23][0]++, error.message) :
        /* istanbul ignore next */
        (cov_2398870nt7().b[23][1]++, 'Unknown error occurred')
      }
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjM5ODg3MG50NyIsImFjdHVhbENvdmVyYWdlIiwicyIsIlBVVCIsInVwZGF0ZVJTVlBTY2hlbWEiLCJfem9kIiwieiIsIm9iamVjdCIsInN0YXR1cyIsImVudW0iLCJvcHRpb25hbCIsImd1ZXN0Q291bnQiLCJudW1iZXIiLCJpbnQiLCJtaW4iLCJtYXgiLCJkaWV0YXJ5UmVzdHJpY3Rpb25zIiwic3RyaW5nIiwicmVxdWVzdCIsInBhcmFtcyIsImYiLCJjb29raWVTdG9yZSIsIl9oZWFkZXJzIiwiY29va2llcyIsInN1cGFiYXNlIiwiX3NzciIsImNyZWF0ZVNlcnZlckNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0IiwiZGF0YSIsInNlc3Npb24iLCJlcnJvciIsImF1dGhFcnJvciIsImF1dGgiLCJnZXRTZXNzaW9uIiwiYiIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwic3VjY2VzcyIsImNvZGUiLCJtZXNzYWdlIiwiaWQiLCJndWVzdElkIiwicnN2cElkIiwiYm9keSIsInZhbGlkYXRpb24iLCJzYWZlUGFyc2UiLCJkZXRhaWxzIiwiaXNzdWVzIiwiYWN0aXZpdHlSU1ZQIiwiYWN0aXZpdHlFcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImFjdGl2aXR5IiwiYWN0aXZpdGllcyIsImNhcGFjaXR5IiwiY291bnQiLCJjb3VudEVycm9yIiwiaGVhZCIsIm5lcSIsImNvbnNvbGUiLCJjYXBhY2l0eVJlbWFpbmluZyIsInVwZGF0ZURhdGEiLCJ1bmRlZmluZWQiLCJndWVzdF9jb3VudCIsImRpZXRhcnlfcmVzdHJpY3Rpb25zIiwidXBkYXRlZFJTVlAiLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsIm5ld0NvdW50IiwibmV3Q291bnRFcnJvciIsImV2ZW50UlNWUCIsImV2ZW50RXJyb3IiLCJFcnJvciJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL2FwaS9hZG1pbi9ndWVzdHMvW2lkXS9yc3Zwcy9bcnN2cElkXS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmNvbnN0IHVwZGF0ZVJTVlBTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0YXR1czogei5lbnVtKFsnYXR0ZW5kaW5nJywgJ2RlY2xpbmVkJywgJ21heWJlJywgJ3BlbmRpbmcnXSkub3B0aW9uYWwoKSxcbiAgZ3Vlc3RDb3VudDogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDEwKS5vcHRpb25hbCgpLFxuICBkaWV0YXJ5UmVzdHJpY3Rpb25zOiB6LnN0cmluZygpLm1heCg1MDApLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG4gKiBQVVQgL2FwaS9hZG1pbi9ndWVzdHMvW2lkXS9yc3Zwcy9bcnN2cElkXVxuICogXG4gKiBVcGRhdGUgYW4gUlNWUCBzdGF0dXMsIGd1ZXN0IGNvdW50LCBvciBkaWV0YXJ5IHJlc3RyaWN0aW9uc1xuICogXG4gKiBAcGFyYW0gcmVxdWVzdCAtIE5leHQuanMgcmVxdWVzdCBvYmplY3RcbiAqIEBwYXJhbSBwYXJhbXMgLSBSb3V0ZSBwYXJhbWV0ZXJzIGNvbnRhaW5pbmcgZ3Vlc3QgSUQgYW5kIFJTVlAgSURcbiAqIEByZXR1cm5zIFVwZGF0ZWQgUlNWUCB3aXRoIGNhcGFjaXR5IGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQVVQoXG4gIHJlcXVlc3Q6IFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBQcm9taXNlPHsgaWQ6IHN0cmluZzsgcnN2cElkOiBzdHJpbmcgfT4gfVxuKSB7XG4gIHRyeSB7XG4gICAgLy8gMS4gQXV0aCBjaGVja1xuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmVyQ2xpZW50KFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMISxcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICAgIHtcbiAgICAgICAgY29va2llczoge1xuICAgICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29raWVTdG9yZS5nZXRBbGwoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICAgIGNvb2tpZXNUb1NldC5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0pID0+XG4gICAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGE6IHsgc2Vzc2lvbiB9LFxuICAgICAgZXJyb3I6IGF1dGhFcnJvcixcbiAgICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG5cbiAgICBpZiAoYXV0aEVycm9yIHx8ICFzZXNzaW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMi4gR2V0IHBhcmFtc1xuICAgIGNvbnN0IHsgaWQ6IGd1ZXN0SWQsIHJzdnBJZCB9ID0gYXdhaXQgcGFyYW1zO1xuXG4gICAgaWYgKCFndWVzdElkIHx8ICFyc3ZwSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsXG4gICAgICAgICAgICBtZXNzYWdlOiAnR3Vlc3QgSUQgYW5kIFJTVlAgSUQgYXJlIHJlcXVpcmVkJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMy4gUGFyc2UgYW5kIHZhbGlkYXRlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdXBkYXRlUlNWUFNjaGVtYS5zYWZlUGFyc2UoYm9keSk7XG5cbiAgICBpZiAoIXZhbGlkYXRpb24uc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIHJlcXVlc3QgZGF0YScsXG4gICAgICAgICAgICBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9yLmlzc3VlcyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBzdGF0dXMsIGd1ZXN0Q291bnQsIGRpZXRhcnlSZXN0cmljdGlvbnMgfSA9IHZhbGlkYXRpb24uZGF0YTtcblxuICAgIC8vIDQuIEdldCB0aGUgUlNWUCB0byBkZXRlcm1pbmUgdHlwZSAoYWN0aXZpdHkgb3IgZXZlbnQpXG4gICAgLy8gVHJ5IGFjdGl2aXR5X3JzdnBzIGZpcnN0XG4gICAgY29uc3QgeyBkYXRhOiBhY3Rpdml0eVJTVlAsIGVycm9yOiBhY3Rpdml0eUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2FjdGl2aXR5X3JzdnBzJylcbiAgICAgIC5zZWxlY3QoJyosIGFjdGl2aXRpZXMoaWQsIGNhcGFjaXR5KScpXG4gICAgICAuZXEoJ2lkJywgcnN2cElkKVxuICAgICAgLmVxKCdndWVzdF9pZCcsIGd1ZXN0SWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIWFjdGl2aXR5RXJyb3IgJiYgYWN0aXZpdHlSU1ZQKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGFjdGl2aXR5IFJTVlBcbiAgICAgIGNvbnN0IGFjdGl2aXR5ID0gYWN0aXZpdHlSU1ZQLmFjdGl2aXRpZXM7XG5cbiAgICAgIC8vIDUuIENhcGFjaXR5IHZhbGlkYXRpb24gZm9yIGFjdGl2aXRpZXNcbiAgICAgIGlmIChzdGF0dXMgPT09ICdhdHRlbmRpbmcnICYmIGFjdGl2aXR5Py5jYXBhY2l0eSkge1xuICAgICAgICAvLyBDb3VudCBjdXJyZW50IGF0dGVuZGluZyBSU1ZQcyAoZXhjbHVkaW5nIHRoaXMgb25lKVxuICAgICAgICBjb25zdCB7IGNvdW50LCBlcnJvcjogY291bnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYWN0aXZpdHlfcnN2cHMnKVxuICAgICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgICAgLmVxKCdhY3Rpdml0eV9pZCcsIGFjdGl2aXR5LmlkKVxuICAgICAgICAgIC5lcSgnc3RhdHVzJywgJ2F0dGVuZGluZycpXG4gICAgICAgICAgLm5lcSgnaWQnLCByc3ZwSWQpO1xuXG4gICAgICAgIGlmIChjb3VudEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY291bnRpbmcgUlNWUHM6JywgY291bnRFcnJvcik7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gY2hlY2sgY2FwYWNpdHknLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGNvdW50RXJyb3IsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhcGFjaXR5UmVtYWluaW5nID0gYWN0aXZpdHkuY2FwYWNpdHkgLSAoY291bnQgfHwgMCk7XG5cbiAgICAgICAgaWYgKGNhcGFjaXR5UmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvZGU6ICdDQVBBQ0lUWV9FWENFRURFRCcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0FjdGl2aXR5IGlzIGF0IGZ1bGwgY2FwYWNpdHknLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDkgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gNi4gVXBkYXRlIGFjdGl2aXR5IFJTVlBcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHt9O1xuICAgICAgaWYgKHN0YXR1cyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIGlmIChndWVzdENvdW50ICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuZ3Vlc3RfY291bnQgPSBndWVzdENvdW50O1xuICAgICAgaWYgKGRpZXRhcnlSZXN0cmljdGlvbnMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdXBkYXRlRGF0YS5kaWV0YXJ5X3Jlc3RyaWN0aW9ucyA9IGRpZXRhcnlSZXN0cmljdGlvbnM7XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZFJTVlAsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X3JzdnBzJylcbiAgICAgICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgICAgICAuZXEoJ2lkJywgcnN2cElkKVxuICAgICAgICAuZXEoJ2d1ZXN0X2lkJywgZ3Vlc3RJZClcbiAgICAgICAgLnNlbGVjdCgnKiwgYWN0aXZpdGllcyhpZCwgdGl0bGUsIGNhcGFjaXR5KScpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGFjdGl2aXR5IFJTVlA6JywgdXBkYXRlRXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBSU1ZQJyxcbiAgICAgICAgICAgICAgZGV0YWlsczogdXBkYXRlRXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIDcuIENhbGN1bGF0ZSB1cGRhdGVkIGNhcGFjaXR5XG4gICAgICBjb25zdCB7IGNvdW50OiBuZXdDb3VudCwgZXJyb3I6IG5ld0NvdW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9yc3ZwcycpXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5lcSgnYWN0aXZpdHlfaWQnLCB1cGRhdGVkUlNWUC5hY3Rpdml0aWVzLmlkKVxuICAgICAgICAuZXEoJ3N0YXR1cycsICdhdHRlbmRpbmcnKTtcblxuICAgICAgaWYgKG5ld0NvdW50RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY291bnRpbmcgUlNWUHM6JywgbmV3Q291bnRFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhcGFjaXR5UmVtYWluaW5nID0gdXBkYXRlZFJTVlAuYWN0aXZpdGllcy5jYXBhY2l0eVxuICAgICAgICA/IHVwZGF0ZWRSU1ZQLmFjdGl2aXRpZXMuY2FwYWNpdHkgLSAobmV3Q291bnQgfHwgMClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogdXBkYXRlZFJTVlAuaWQsXG4gICAgICAgICAgc3RhdHVzOiB1cGRhdGVkUlNWUC5zdGF0dXMsXG4gICAgICAgICAgZ3Vlc3RDb3VudDogdXBkYXRlZFJTVlAuZ3Vlc3RfY291bnQsXG4gICAgICAgICAgZGlldGFyeVJlc3RyaWN0aW9uczogdXBkYXRlZFJTVlAuZGlldGFyeV9yZXN0cmljdGlvbnMsXG4gICAgICAgICAgY2FwYWNpdHk6IHVwZGF0ZWRSU1ZQLmFjdGl2aXRpZXMuY2FwYWNpdHksXG4gICAgICAgICAgY2FwYWNpdHlSZW1haW5pbmcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUcnkgZXZlbnRfcnN2cHNcbiAgICBjb25zdCB7IGRhdGE6IGV2ZW50UlNWUCwgZXJyb3I6IGV2ZW50RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZXZlbnRfcnN2cHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgcnN2cElkKVxuICAgICAgLmVxKCdndWVzdF9pZCcsIGd1ZXN0SWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIWV2ZW50RXJyb3IgJiYgZXZlbnRSU1ZQKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGV2ZW50IFJTVlBcbiAgICAgIC8vIEV2ZW50cyBkb24ndCBoYXZlIGNhcGFjaXR5IGNvbnN0cmFpbnRzIG9yIGd1ZXN0IGNvdW50c1xuXG4gICAgICBpZiAoc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnU3RhdHVzIGlzIHJlcXVpcmVkIGZvciBldmVudCBSU1ZQcycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZFJTVlAsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2V2ZW50X3JzdnBzJylcbiAgICAgICAgLnVwZGF0ZSh7IHN0YXR1cyB9KVxuICAgICAgICAuZXEoJ2lkJywgcnN2cElkKVxuICAgICAgICAuZXEoJ2d1ZXN0X2lkJywgZ3Vlc3RJZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGV2ZW50IFJTVlA6JywgdXBkYXRlRXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICBjb2RlOiAnREFUQUJBU0VfRVJST1InLFxuICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHVwZGF0ZSBSU1ZQJyxcbiAgICAgICAgICAgICAgZGV0YWlsczogdXBkYXRlRXJyb3IsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogdXBkYXRlZFJTVlAuaWQsXG4gICAgICAgICAgc3RhdHVzOiB1cGRhdGVkUlNWUC5zdGF0dXMsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSU1ZQIG5vdCBmb3VuZFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ05PVF9GT1VORCcsXG4gICAgICAgICAgbWVzc2FnZTogJ1JTVlAgbm90IGZvdW5kJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNDA0IH1cbiAgICApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIFBVVCAvYXBpL2FkbWluL2d1ZXN0cy9baWRdL3JzdnBzL1tyc3ZwSWRdOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjoge1xuICAgICAgICAgIGNvZGU6ICdVTktOT1dOX0VSUk9SJyxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yIG9jY3VycmVkJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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