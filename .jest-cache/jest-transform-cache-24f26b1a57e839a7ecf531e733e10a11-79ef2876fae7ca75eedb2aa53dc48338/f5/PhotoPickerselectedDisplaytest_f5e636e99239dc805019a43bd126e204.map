{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/components/admin/PhotoPicker.selectedDisplay.test.tsx"],"sourcesContent":["/**\n * PhotoPicker Selected Photos Display Tests\n * \n * Tests the selected photos display functionality in PhotoPicker,\n * including thumbnail display, captions, remove buttons, and clear all.\n */\n\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { PhotoPicker } from './PhotoPicker';\n\n// Mock fetch\nglobal.fetch = jest.fn();\n\ndescribe('PhotoPicker - Selected Photos Display', () => {\n  const mockPhotos = [\n    {\n      id: 'photo-1',\n      photo_url: 'https://example.com/photo1.jpg',\n      caption: 'Beautiful sunset',\n      alt_text: 'Sunset over ocean',\n      moderation_status: 'approved' as const,\n      created_at: '2024-01-01T00:00:00Z',\n    },\n    {\n      id: 'photo-2',\n      photo_url: 'https://example.com/photo2.jpg',\n      caption: 'Mountain view',\n      alt_text: 'Snow-capped mountains',\n      moderation_status: 'approved' as const,\n      created_at: '2024-01-02T00:00:00Z',\n    },\n    {\n      id: 'photo-3',\n      photo_url: 'https://example.com/photo3.jpg',\n      caption: 'Beach scene',\n      moderation_status: 'approved' as const,\n      created_at: '2024-01-03T00:00:00Z',\n    },\n  ];\n\n  beforeEach(() => {\n    // Reset fetch mock\n    (global.fetch as jest.Mock).mockReset();\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Selected Photos Section Display', () => {\n    it('should display selected photos section when photos are selected', async () => {\n      // Mock API responses for selected photos\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      // Wait for photos to load\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalledWith('/api/admin/photos/photo-1');\n        expect(global.fetch).toHaveBeenCalledWith('/api/admin/photos/photo-2');\n      });\n\n      // Should show selected photos section\n      await waitFor(() => {\n        const heading = screen.getByText(/Selected Photos \\(2\\)/i);\n        expect(heading).toBeInTheDocument();\n      });\n    });\n\n    it('should not display selected photos section when no photos selected', () => {\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={[]}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      // Should not show selected photos section\n      const heading = screen.queryByText(/Selected Photos/i);\n      expect(heading).not.toBeInTheDocument();\n    });\n\n    it('should display correct photo count', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[2] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2', 'photo-3']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const heading = screen.getByText(/Selected Photos \\(3\\)/i);\n        expect(heading).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Photo Thumbnails Display', () => {\n    it('should display thumbnails for selected photos', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const images = screen.getAllByRole('img');\n        expect(images.length).toBeGreaterThanOrEqual(2);\n      });\n    });\n\n    it('should use photo_url field for thumbnails', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const image = screen.getByAltText(/Beautiful sunset/i);\n        expect(image).toHaveAttribute('src', 'https://example.com/photo1.jpg');\n      });\n    });\n\n    it('should display photo captions', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const caption = screen.getByText('Beautiful sunset');\n        expect(caption).toBeInTheDocument();\n      });\n    });\n\n    it('should handle photos without captions', async () => {\n      const photoWithoutCaption = {\n        ...mockPhotos[0],\n        caption: undefined,\n      };\n\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: photoWithoutCaption }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const image = screen.getByAltText(/Sunset over ocean/i);\n        expect(image).toBeInTheDocument();\n      });\n\n      // Caption should not be displayed\n      const caption = screen.queryByText('Beautiful sunset');\n      expect(caption).not.toBeInTheDocument();\n    });\n  });\n\n  describe('Remove Individual Photo', () => {\n    it('should display remove button on hover', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const removeButton = screen.getByLabelText('Remove photo');\n        expect(removeButton).toBeInTheDocument();\n      });\n    });\n\n    it('should call onSelectionChange when remove button clicked', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const removeButtons = screen.getAllByLabelText('Remove photo');\n        expect(removeButtons.length).toBe(2);\n      });\n\n      // Click first remove button\n      const removeButtons = screen.getAllByLabelText('Remove photo');\n      fireEvent.click(removeButtons[0]);\n\n      // Should call onSelectionChange with photo-1 removed\n      expect(onSelectionChange).toHaveBeenCalledWith(['photo-2']);\n    });\n\n    it('should remove correct photo when multiple photos selected', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[2] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2', 'photo-3']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const removeButtons = screen.getAllByLabelText('Remove photo');\n        expect(removeButtons.length).toBe(3);\n      });\n\n      // Click second remove button (photo-2)\n      const removeButtons = screen.getAllByLabelText('Remove photo');\n      fireEvent.click(removeButtons[1]);\n\n      // Should call onSelectionChange with photo-2 removed\n      expect(onSelectionChange).toHaveBeenCalledWith(['photo-1', 'photo-3']);\n    });\n\n    it('should disable remove button when disabled prop is true', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n          disabled={true}\n        />\n      );\n\n      await waitFor(() => {\n        const removeButton = screen.getByLabelText('Remove photo');\n        expect(removeButton).toBeDisabled();\n      });\n    });\n  });\n\n  describe('Clear All Functionality', () => {\n    it('should display \"Clear All\" button when photos selected', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const clearButton = screen.getByText('Clear All');\n        expect(clearButton).toBeInTheDocument();\n      });\n    });\n\n    it('should call onSelectionChange with empty array when Clear All clicked', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const clearButton = screen.getByText('Clear All');\n        expect(clearButton).toBeInTheDocument();\n      });\n\n      // Click Clear All button\n      const clearButton = screen.getByText('Clear All');\n      fireEvent.click(clearButton);\n\n      // Should call onSelectionChange with empty array\n      expect(onSelectionChange).toHaveBeenCalledWith([]);\n    });\n\n    it('should disable Clear All button when disabled prop is true', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n          disabled={true}\n        />\n      );\n\n      await waitFor(() => {\n        const clearButton = screen.getByText('Clear All');\n        expect(clearButton).toBeDisabled();\n      });\n    });\n\n    it('should clear all photos regardless of count', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[2] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2', 'photo-3']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const heading = screen.getByText(/Selected Photos \\(3\\)/i);\n        expect(heading).toBeInTheDocument();\n      });\n\n      // Click Clear All\n      const clearButton = screen.getByText('Clear All');\n      fireEvent.click(clearButton);\n\n      // Should clear all 3 photos\n      expect(onSelectionChange).toHaveBeenCalledWith([]);\n    });\n  });\n\n  describe('Grid Layout', () => {\n    it('should display photos in grid layout', async () => {\n      (global.fetch as jest.Mock)\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[0] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[1] }),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: async () => ({ success: true, data: mockPhotos[2] }),\n        });\n\n      const onSelectionChange = jest.fn();\n\n      const { container } = render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1', 'photo-2', 'photo-3']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const grid = container.querySelector('.grid-cols-4');\n        expect(grid).toBeInTheDocument();\n      });\n    });\n\n    it('should maintain aspect ratio for thumbnails', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      const { container } = render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const aspectSquare = container.querySelector('.aspect-square');\n        expect(aspectSquare).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle failed photo fetch gracefully', async () => {\n      (global.fetch as jest.Mock).mockRejectedValue(new Error('Network error'));\n\n      const consoleSpy = jest.spyOn(console, 'error').mockImplementation();\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalled();\n      });\n\n      // Should log error but not crash\n      await waitFor(() => {\n        expect(consoleSpy).toHaveBeenCalledWith(\n          'Failed to fetch selected photos:',\n          expect.any(Error)\n        );\n      });\n\n      consoleSpy.mockRestore();\n    });\n\n    it('should handle 404 responses for photos', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: false,\n        status: 404,\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        expect(global.fetch).toHaveBeenCalled();\n      });\n\n      // Should not crash, just not display the photo\n      const heading = screen.queryByText(/Selected Photos/i);\n      // Heading might not appear if no photos loaded successfully\n      expect(heading).not.toBeInTheDocument();\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('should have accessible labels for buttons', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const removeButton = screen.getByLabelText('Remove photo');\n        expect(removeButton).toBeInTheDocument();\n      });\n\n      const clearButton = screen.getByLabelText('Clear all selected photos');\n      expect(clearButton).toBeInTheDocument();\n    });\n\n    it('should have alt text for images', async () => {\n      (global.fetch as jest.Mock).mockResolvedValue({\n        ok: true,\n        json: async () => ({ success: true, data: mockPhotos[0] }),\n      });\n\n      const onSelectionChange = jest.fn();\n\n      render(\n        <PhotoPicker\n          selectedPhotoIds={['photo-1']}\n          onSelectionChange={onSelectionChange}\n        />\n      );\n\n      await waitFor(() => {\n        const image = screen.getByAltText(/Sunset over ocean/i);\n        expect(image).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["global","fetch","jest","fn","describe","mockPhotos","id","photo_url","caption","alt_text","moderation_status","created_at","beforeEach","mockReset","afterEach","clearAllMocks","it","mockResolvedValueOnce","ok","json","success","data","onSelectionChange","render","PhotoPicker","selectedPhotoIds","waitFor","expect","toHaveBeenCalledWith","heading","screen","getByText","toBeInTheDocument","queryByText","not","images","getAllByRole","length","toBeGreaterThanOrEqual","mockResolvedValue","image","getByAltText","toHaveAttribute","photoWithoutCaption","undefined","removeButton","getByLabelText","removeButtons","getAllByLabelText","toBe","fireEvent","click","disabled","toBeDisabled","clearButton","container","grid","querySelector","aspectSquare","mockRejectedValue","Error","consoleSpy","spyOn","console","mockImplementation","toHaveBeenCalled","any","mockRestore","status"],"mappings":"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"}