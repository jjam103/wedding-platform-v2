9b3df09a5daf1b2b4f7c7e1da84ae2a1
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get /**
 * Dynamic Content Page
 * 
 * Displays custom content pages with sections:
 * - Page title and metadata
 * - Custom sections with rich text, photos, and references
 * - Flexible layout with 1 or 2 columns
 * 
 * Requirements: 4.2 (E2E Critical Path Testing - section management flow)
 */ default () {
        return ContentPage;
    },
    get dynamic () {
        return dynamic;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _navigation = require("next/navigation");
const _SectionRenderer = require("../../../components/guest/SectionRenderer");
const _sectionsService = require("../../../services/sectionsService");
const _contentPagesService = require("../../../services/contentPagesService");
const dynamic = 'force-dynamic';
async function ContentPage({ params }) {
    // Next.js 15: params is a Promise
    const { type, slug } = await params;
    // Only handle 'custom' type for content pages
    if (type !== 'custom') {
        (0, _navigation.notFound)();
    }
    // Fetch content page by slug
    const contentPageResult = await (0, _contentPagesService.getContentPageBySlug)(slug);
    if (!contentPageResult.success) {
        (0, _navigation.notFound)();
    }
    const contentPage = contentPageResult.data;
    // Only show published pages to guests (unless in preview mode)
    if (contentPage.status !== 'published') {
        (0, _navigation.notFound)();
    }
    // Fetch sections for this content page
    const sectionsResult = await (0, _sectionsService.listSections)('custom', contentPage.id);
    const sections = sectionsResult.success ? sectionsResult.data : [];
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-jungle-50 to-ocean-50",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-4xl mx-auto px-4 py-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-white rounded-lg shadow-lg p-8 mb-6",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                        className: "text-3xl font-bold text-jungle-800 mb-4",
                        children: contentPage.title
                    })
                }),
                sections.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "space-y-6",
                    children: sections.map((section)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg shadow-lg p-8",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SectionRenderer.SectionRenderer, {
                                section: section
                            })
                        }, section.id))
                }),
                sections.length === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-white rounded-lg shadow-lg p-8 text-center text-sage-600",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        children: "No content available for this page."
                    })
                })
            ]
        })
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvYXBwL1t0eXBlXS9bc2x1Z10vcGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XG5cbmltcG9ydCB7IGNyZWF0ZVNlcnZlckNvbXBvbmVudENsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9hdXRoLWhlbHBlcnMtbmV4dGpzJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgbm90Rm91bmQgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgU2VjdGlvblJlbmRlcmVyIH0gZnJvbSAnQC9jb21wb25lbnRzL2d1ZXN0L1NlY3Rpb25SZW5kZXJlcic7XG5pbXBvcnQgeyBsaXN0U2VjdGlvbnMgfSBmcm9tICdAL3NlcnZpY2VzL3NlY3Rpb25zU2VydmljZSc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGFnZUJ5U2x1ZyB9IGZyb20gJ0Avc2VydmljZXMvY29udGVudFBhZ2VzU2VydmljZSc7XG5cbmludGVyZmFjZSBDb250ZW50UGFnZVByb3BzIHtcbiAgcGFyYW1zOiBQcm9taXNlPHsgdHlwZTogc3RyaW5nOyBzbHVnOiBzdHJpbmcgfT47XG59XG5cbi8qKlxuICogRHluYW1pYyBDb250ZW50IFBhZ2VcbiAqIFxuICogRGlzcGxheXMgY3VzdG9tIGNvbnRlbnQgcGFnZXMgd2l0aCBzZWN0aW9uczpcbiAqIC0gUGFnZSB0aXRsZSBhbmQgbWV0YWRhdGFcbiAqIC0gQ3VzdG9tIHNlY3Rpb25zIHdpdGggcmljaCB0ZXh0LCBwaG90b3MsIGFuZCByZWZlcmVuY2VzXG4gKiAtIEZsZXhpYmxlIGxheW91dCB3aXRoIDEgb3IgMiBjb2x1bW5zXG4gKiBcbiAqIFJlcXVpcmVtZW50czogNC4yIChFMkUgQ3JpdGljYWwgUGF0aCBUZXN0aW5nIC0gc2VjdGlvbiBtYW5hZ2VtZW50IGZsb3cpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIENvbnRlbnRQYWdlKHsgcGFyYW1zIH06IENvbnRlbnRQYWdlUHJvcHMpIHtcbiAgLy8gTmV4dC5qcyAxNTogcGFyYW1zIGlzIGEgUHJvbWlzZVxuICBjb25zdCB7IHR5cGUsIHNsdWcgfSA9IGF3YWl0IHBhcmFtcztcbiAgXG4gIC8vIE9ubHkgaGFuZGxlICdjdXN0b20nIHR5cGUgZm9yIGNvbnRlbnQgcGFnZXNcbiAgaWYgKHR5cGUgIT09ICdjdXN0b20nKSB7XG4gICAgbm90Rm91bmQoKTtcbiAgfVxuICBcbiAgLy8gRmV0Y2ggY29udGVudCBwYWdlIGJ5IHNsdWdcbiAgY29uc3QgY29udGVudFBhZ2VSZXN1bHQgPSBhd2FpdCBnZXRDb250ZW50UGFnZUJ5U2x1ZyhzbHVnKTtcbiAgXG4gIGlmICghY29udGVudFBhZ2VSZXN1bHQuc3VjY2Vzcykge1xuICAgIG5vdEZvdW5kKCk7XG4gIH1cbiAgXG4gIGNvbnN0IGNvbnRlbnRQYWdlID0gY29udGVudFBhZ2VSZXN1bHQuZGF0YTtcbiAgXG4gIC8vIE9ubHkgc2hvdyBwdWJsaXNoZWQgcGFnZXMgdG8gZ3Vlc3RzICh1bmxlc3MgaW4gcHJldmlldyBtb2RlKVxuICBpZiAoY29udGVudFBhZ2Uuc3RhdHVzICE9PSAncHVibGlzaGVkJykge1xuICAgIG5vdEZvdW5kKCk7XG4gIH1cbiAgXG4gIC8vIEZldGNoIHNlY3Rpb25zIGZvciB0aGlzIGNvbnRlbnQgcGFnZVxuICBjb25zdCBzZWN0aW9uc1Jlc3VsdCA9IGF3YWl0IGxpc3RTZWN0aW9ucygnY3VzdG9tJywgY29udGVudFBhZ2UuaWQpO1xuICBjb25zdCBzZWN0aW9ucyA9IHNlY3Rpb25zUmVzdWx0LnN1Y2Nlc3MgPyBzZWN0aW9uc1Jlc3VsdC5kYXRhIDogW107XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tanVuZ2xlLTUwIHRvLW9jZWFuLTUwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHB4LTQgcHktOFwiPlxuICAgICAgICB7LyogUGFnZSBIZWFkZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04IG1iLTZcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtanVuZ2xlLTgwMCBtYi00XCI+XG4gICAgICAgICAgICB7Y29udGVudFBhZ2UudGl0bGV9XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogU2VjdGlvbnMgKi99XG4gICAgICAgIHtzZWN0aW9ucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAge3NlY3Rpb25zLm1hcCgoc2VjdGlvbikgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17c2VjdGlvbi5pZH0gY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04XCI+XG4gICAgICAgICAgICAgICAgPFNlY3Rpb25SZW5kZXJlciBzZWN0aW9uPXtzZWN0aW9ufSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICBcbiAgICAgICAgey8qIE5vIFNlY3Rpb25zIE1lc3NhZ2UgKi99XG4gICAgICAgIHtzZWN0aW9ucy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04IHRleHQtY2VudGVyIHRleHQtc2FnZS02MDBcIj5cbiAgICAgICAgICAgIDxwPk5vIGNvbnRlbnQgYXZhaWxhYmxlIGZvciB0aGlzIHBhZ2UuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQ29udGVudFBhZ2UiLCJkeW5hbWljIiwicGFyYW1zIiwidHlwZSIsInNsdWciLCJub3RGb3VuZCIsImNvbnRlbnRQYWdlUmVzdWx0IiwiZ2V0Q29udGVudFBhZ2VCeVNsdWciLCJzdWNjZXNzIiwiY29udGVudFBhZ2UiLCJkYXRhIiwic3RhdHVzIiwic2VjdGlvbnNSZXN1bHQiLCJsaXN0U2VjdGlvbnMiLCJpZCIsInNlY3Rpb25zIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJ0aXRsZSIsImxlbmd0aCIsIm1hcCIsInNlY3Rpb24iLCJTZWN0aW9uUmVuZGVyZXIiLCJwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztRQWFBOzs7Ozs7Ozs7Q0FTQyxHQUNEO2VBQThCQTs7UUF2QmpCQztlQUFBQTs7Ozs0QkFJWTtpQ0FDTztpQ0FDSDtxQ0FDUTtBQVA5QixNQUFNQSxVQUFVO0FBdUJSLGVBQWVELFlBQVksRUFBRUUsTUFBTSxFQUFvQjtJQUNwRSxrQ0FBa0M7SUFDbEMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRSxHQUFHLE1BQU1GO0lBRTdCLDhDQUE4QztJQUM5QyxJQUFJQyxTQUFTLFVBQVU7UUFDckJFLElBQUFBLG9CQUFRO0lBQ1Y7SUFFQSw2QkFBNkI7SUFDN0IsTUFBTUMsb0JBQW9CLE1BQU1DLElBQUFBLHlDQUFvQixFQUFDSDtJQUVyRCxJQUFJLENBQUNFLGtCQUFrQkUsT0FBTyxFQUFFO1FBQzlCSCxJQUFBQSxvQkFBUTtJQUNWO0lBRUEsTUFBTUksY0FBY0gsa0JBQWtCSSxJQUFJO0lBRTFDLCtEQUErRDtJQUMvRCxJQUFJRCxZQUFZRSxNQUFNLEtBQUssYUFBYTtRQUN0Q04sSUFBQUEsb0JBQVE7SUFDVjtJQUVBLHVDQUF1QztJQUN2QyxNQUFNTyxpQkFBaUIsTUFBTUMsSUFBQUEsNkJBQVksRUFBQyxVQUFVSixZQUFZSyxFQUFFO0lBQ2xFLE1BQU1DLFdBQVdILGVBQWVKLE9BQU8sR0FBR0ksZUFBZUYsSUFBSSxHQUFHLEVBQUU7SUFFbEUscUJBQ0UscUJBQUNNO1FBQUlDLFdBQVU7a0JBQ2IsY0FBQSxzQkFBQ0Q7WUFBSUMsV0FBVTs7OEJBRWIscUJBQUNEO29CQUFJQyxXQUFVOzhCQUNiLGNBQUEscUJBQUNDO3dCQUFHRCxXQUFVO2tDQUNYUixZQUFZVSxLQUFLOzs7Z0JBS3JCSixTQUFTSyxNQUFNLEdBQUcsbUJBQ2pCLHFCQUFDSjtvQkFBSUMsV0FBVTs4QkFDWkYsU0FBU00sR0FBRyxDQUFDLENBQUNDLHdCQUNiLHFCQUFDTjs0QkFBcUJDLFdBQVU7c0NBQzlCLGNBQUEscUJBQUNNLGdDQUFlO2dDQUFDRCxTQUFTQTs7MkJBRGxCQSxRQUFRUixFQUFFOztnQkFRekJDLFNBQVNLLE1BQU0sS0FBSyxtQkFDbkIscUJBQUNKO29CQUFJQyxXQUFVOzhCQUNiLGNBQUEscUJBQUNPO2tDQUFFOzs7Ozs7QUFNZiJ9