6b293d5388f776603e9155c28dd4e7e4
/**
 * Unit Tests for Sidebar Component
 * 
 * Tests:
 * - Sidebar rendering and layout
 * - Mobile/desktop responsive behavior
 * - Collapse/expand functionality
 * - Pending photos count display
 * - Navigation callbacks
 * - Accessibility features
 * 
 * Requirements: Sidebar navigation functionality
 */ "use strict";
// Mock Next.js hooks
jest.mock('next/navigation', ()=>({
        usePathname: jest.fn(()=>'/admin/guests')
    }));
// Mock child components
jest.mock('./GroupedNavigation', ()=>({
        GroupedNavigation: ({ pendingPhotosCount, isCollapsed, onNavigate })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "grouped-navigation",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                        children: [
                            "Pending: ",
                            pendingPhotosCount
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                        children: [
                            "Collapsed: ",
                            isCollapsed ? 'true' : 'false'
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onNavigate,
                        children: "Navigate"
                    })
                ]
            })
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _Sidebar = require("./Sidebar");
// Mock window.innerWidth for responsive tests
Object.defineProperty(window, 'innerWidth', {
    writable: true,
    configurable: true,
    value: 1024
});
describe('Sidebar', ()=>{
    beforeEach(()=>{
        // Reset window width to desktop
        window.innerWidth = 1024;
        jest.clearAllMocks();
    });
    afterEach(()=>{
        (0, _react.cleanup)();
    });
    describe('Basic Rendering', ()=>{
        it('should render sidebar with header and navigation', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            expect(_react.screen.getByText('ðŸŒ´')).toBeInTheDocument();
            expect(_react.screen.getByText('Admin')).toBeInTheDocument();
            expect(_react.screen.getByTestId('grouped-navigation')).toBeInTheDocument();
        });
        it('should display current section in dashboard link', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "activities"
            }));
            const dashboardLink = _react.screen.getByRole('link', {
                name: /dashboard/i
            });
            expect(dashboardLink).toHaveAttribute('href', '/admin');
        });
        it('should pass pending photos count to GroupedNavigation', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests",
                pendingPhotosCount: 5
            }));
            expect(_react.screen.getByText('Pending: 5')).toBeInTheDocument();
        });
        it('should render footer with Costa Rica message', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            expect(_react.screen.getByText('Pura Vida! â˜€ï¸')).toBeInTheDocument();
        });
    });
    describe('Collapse/Expand Functionality', ()=>{
        it('should start expanded on desktop', ()=>{
            window.innerWidth = 1024;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).not.toHaveClass('-translate-x-full');
            expect(sidebar).toHaveClass('w-64');
            // Header content should be visible
            expect(_react.screen.getByText('Admin')).toBeInTheDocument();
            // GroupedNavigation should not be collapsed
            expect(_react.screen.getByText('Collapsed: false')).toBeInTheDocument();
        });
        it('should toggle sidebar when toggle button is clicked', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            _react.fireEvent.click(toggleButton);
            // Should be collapsed
            expect(_react.screen.getByText('Collapsed: true')).toBeInTheDocument();
            expect(_react.screen.queryByText('Admin')).not.toBeInTheDocument();
            // Button should change to expand
            expect(_react.screen.getByLabelText(/expand sidebar/i)).toBeInTheDocument();
        });
        it('should expand sidebar when clicking expand button', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            // Collapse first
            _react.fireEvent.click(toggleButton);
            expect(_react.screen.getByText('Collapsed: true')).toBeInTheDocument();
            // Then expand
            const expandButton = _react.screen.getByLabelText(/expand sidebar/i);
            _react.fireEvent.click(expandButton);
            expect(_react.screen.getByText('Collapsed: false')).toBeInTheDocument();
            expect(_react.screen.getByText('Admin')).toBeInTheDocument();
        });
        it('should show correct toggle button icons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            expect(toggleButton).toHaveTextContent('â†');
            _react.fireEvent.click(toggleButton);
            const expandButton = _react.screen.getByLabelText(/expand sidebar/i);
            expect(expandButton).toHaveTextContent('â†’');
        });
    });
    describe('Mobile Responsive Behavior', ()=>{
        beforeEach(()=>{
            // Mock mobile viewport
            window.innerWidth = 600;
            // Mock resize event
            const resizeEvent = new Event('resize');
            Object.defineProperty(resizeEvent, 'target', {
                value: {
                    innerWidth: 600
                },
                enumerable: true
            });
        });
        it('should start collapsed on mobile', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize event to simulate mobile detection
            (0, _react.fireEvent)(window, new Event('resize'));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('-translate-x-full');
        });
        it('should show mobile toggle button when collapsed on mobile', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Should show mobile toggle button
            expect(_react.screen.getByLabelText(/open sidebar/i)).toBeInTheDocument();
            expect(_react.screen.getByText('â˜°')).toBeInTheDocument();
        });
        it('should show overlay when expanded on mobile', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar on mobile
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            // Should show overlay
            const overlay = document.querySelector('.bg-black.bg-opacity-50');
            expect(overlay).toBeInTheDocument();
        });
        it('should close sidebar when overlay is clicked on mobile', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            // Click overlay
            const overlay = document.querySelector('.bg-black.bg-opacity-50');
            _react.fireEvent.click(overlay);
            // Sidebar should be closed
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('-translate-x-full');
        });
        it('should close sidebar after navigation on mobile', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            // Trigger navigation
            const navigateButton = _react.screen.getByText('Navigate');
            _react.fireEvent.click(navigateButton);
            // Sidebar should be closed on mobile
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('-translate-x-full');
        });
    });
    describe('Dashboard Link', ()=>{
        it('should highlight dashboard link when on dashboard page', ()=>{
            const { usePathname } = require('next/navigation');
            usePathname.mockReturnValue('/admin');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "dashboard"
            }));
            const dashboardLink = _react.screen.getByRole('link', {
                name: /dashboard/i
            });
            expect(dashboardLink).toHaveClass('bg-jungle-50', 'text-jungle-700');
            expect(dashboardLink).toHaveAttribute('aria-current', 'page');
        });
        it('should not highlight dashboard link when on other pages', ()=>{
            const { usePathname } = require('next/navigation');
            usePathname.mockReturnValue('/admin/guests');
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const dashboardLink = _react.screen.getByRole('link', {
                name: /dashboard/i
            });
            expect(dashboardLink).not.toHaveClass('bg-jungle-50');
            expect(dashboardLink).not.toHaveAttribute('aria-current');
        });
        it('should have proper dashboard link structure', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const dashboardLink = _react.screen.getByRole('link', {
                name: /dashboard/i
            });
            expect(dashboardLink).toHaveAttribute('href', '/admin');
            expect(dashboardLink).toContainHTML('ðŸ ');
            expect(dashboardLink).toHaveTextContent('Dashboard');
        });
    });
    describe('Pending Photos Count', ()=>{
        it('should pass pending count to GroupedNavigation', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests",
                pendingPhotosCount: 10
            }));
            expect(_react.screen.getByText('Pending: 10')).toBeInTheDocument();
        });
        it('should handle zero pending count', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests",
                pendingPhotosCount: 0
            }));
            expect(_react.screen.getByText('Pending: 0')).toBeInTheDocument();
        });
        it('should handle undefined pending count', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            expect(_react.screen.getByText('Pending: 0')).toBeInTheDocument();
        });
    });
    describe('Navigation Callbacks', ()=>{
        it('should pass onNavigate callback to GroupedNavigation', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const navigateButton = _react.screen.getByText('Navigate');
            expect(navigateButton).toBeInTheDocument();
            // Should not throw when clicked
            expect(()=>_react.fireEvent.click(navigateButton)).not.toThrow();
        });
        it('should close sidebar on mobile when navigation occurs', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            // Sidebar should be open
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).not.toHaveClass('-translate-x-full');
            // Navigate
            const navigateButton = _react.screen.getByText('Navigate');
            _react.fireEvent.click(navigateButton);
            // Sidebar should close on mobile
            expect(sidebar).toHaveClass('-translate-x-full');
        });
    });
    describe('Accessibility', ()=>{
        it('should have proper navigation role and label', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveAttribute('aria-label', 'Main navigation');
        });
        it('should have proper toggle button accessibility', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            expect(toggleButton).toHaveAttribute('aria-label', 'Collapse sidebar');
            _react.fireEvent.click(toggleButton);
            const expandButton = _react.screen.getByLabelText(/expand sidebar/i);
            expect(expandButton).toHaveAttribute('aria-label', 'Expand sidebar');
        });
        it('should have minimum touch target size for buttons', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            expect(toggleButton).toHaveClass('min-h-[44px]', 'min-w-[44px]');
        });
        it('should have proper dashboard link accessibility', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const dashboardLink = _react.screen.getByRole('link', {
                name: /dashboard/i
            });
            expect(dashboardLink).toHaveAttribute('aria-label', 'Dashboard');
            expect(dashboardLink).toHaveClass('min-h-[44px]');
        });
        it('should have proper mobile toggle button accessibility', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            expect(mobileToggle).toHaveAttribute('aria-label', 'Open sidebar');
            expect(mobileToggle).toHaveClass('min-h-[44px]', 'min-w-[44px]');
        });
        it('should hide overlay from screen readers', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            const overlay = document.querySelector('.bg-black.bg-opacity-50');
            expect(overlay).toHaveAttribute('aria-hidden', 'true');
        });
    });
    describe('Responsive Design', ()=>{
        it('should apply correct classes for desktop layout', ()=>{
            window.innerWidth = 1024;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('fixed', 'top-0', 'left-0', 'h-full');
            expect(sidebar).toHaveClass('w-64'); // Desktop width
            expect(sidebar).not.toHaveClass('-translate-x-full'); // Not hidden
        });
        it('should apply correct classes for mobile layout', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('-translate-x-full'); // Hidden on mobile
        });
        it('should handle window resize events', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Start desktop
            expect(_react.screen.getByText('Admin')).toBeInTheDocument();
            // Resize to mobile
            window.innerWidth = 600;
            (0, _react.fireEvent)(window, new Event('resize'));
        // Should detect mobile and potentially change behavior
        // (The component should handle this internally)
        });
        it('should clean up resize event listener', ()=>{
            const removeEventListenerSpy = jest.spyOn(window, 'removeEventListener');
            const { unmount } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            unmount();
            expect(removeEventListenerSpy).toHaveBeenCalledWith('resize', expect.any(Function));
            removeEventListenerSpy.mockRestore();
        });
    });
    describe('Layout Structure', ()=>{
        it('should have proper header structure', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const header = _react.screen.getByText('ðŸŒ´').closest('div');
            expect(header).toHaveClass('h-16', 'flex', 'items-center', 'justify-between');
            expect(header).toHaveClass('border-b', 'border-sage-200');
        });
        it('should have proper navigation area structure', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const navArea = _react.screen.getByTestId('grouped-navigation').closest('div');
            expect(navArea).toHaveClass('overflow-y-auto');
        });
        it('should have proper footer structure when expanded', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const footer = _react.screen.getByText('Pura Vida! â˜€ï¸').closest('div');
            expect(footer).toHaveClass('absolute', 'bottom-0', 'left-0', 'right-0');
            expect(footer).toHaveClass('border-t', 'border-sage-200', 'bg-sage-50');
        });
        it('should hide footer when collapsed', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Collapse sidebar
            const toggleButton = _react.screen.getByLabelText(/collapse sidebar/i);
            _react.fireEvent.click(toggleButton);
            // Footer should not be visible
            expect(_react.screen.queryByText('Pura Vida! â˜€ï¸')).not.toBeInTheDocument();
        });
    });
    describe('Z-Index and Layering', ()=>{
        it('should have proper z-index for sidebar', ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            const sidebar = _react.screen.getByRole('navigation');
            expect(sidebar).toHaveClass('z-50');
        });
        it('should have proper z-index for mobile overlay', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            // Open sidebar
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            _react.fireEvent.click(mobileToggle);
            const overlay = document.querySelector('.bg-black.bg-opacity-50');
            expect(overlay).toHaveClass('z-40');
        });
        it('should have proper z-index for mobile toggle button', ()=>{
            window.innerWidth = 600;
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Sidebar.Sidebar, {
                currentSection: "guests"
            }));
            // Trigger resize to detect mobile
            (0, _react.fireEvent)(window, new Event('resize'));
            const mobileToggle = _react.screen.getByLabelText(/open sidebar/i);
            expect(mobileToggle).toHaveClass('z-40');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvY29tcG9uZW50cy9hZG1pbi9TaWRlYmFyLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVW5pdCBUZXN0cyBmb3IgU2lkZWJhciBDb21wb25lbnRcbiAqIFxuICogVGVzdHM6XG4gKiAtIFNpZGViYXIgcmVuZGVyaW5nIGFuZCBsYXlvdXRcbiAqIC0gTW9iaWxlL2Rlc2t0b3AgcmVzcG9uc2l2ZSBiZWhhdmlvclxuICogLSBDb2xsYXBzZS9leHBhbmQgZnVuY3Rpb25hbGl0eVxuICogLSBQZW5kaW5nIHBob3RvcyBjb3VudCBkaXNwbGF5XG4gKiAtIE5hdmlnYXRpb24gY2FsbGJhY2tzXG4gKiAtIEFjY2Vzc2liaWxpdHkgZmVhdHVyZXNcbiAqIFxuICogUmVxdWlyZW1lbnRzOiBTaWRlYmFyIG5hdmlnYXRpb24gZnVuY3Rpb25hbGl0eVxuICovXG5cbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIGNsZWFudXAgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IFNpZGViYXIgfSBmcm9tICcuL1NpZGViYXInO1xuXG4vLyBNb2NrIE5leHQuanMgaG9va3Ncbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUGF0aG5hbWU6IGplc3QuZm4oKCkgPT4gJy9hZG1pbi9ndWVzdHMnKSxcbn0pKTtcblxuLy8gTW9jayBjaGlsZCBjb21wb25lbnRzXG5qZXN0Lm1vY2soJy4vR3JvdXBlZE5hdmlnYXRpb24nLCAoKSA9PiAoe1xuICBHcm91cGVkTmF2aWdhdGlvbjogKHsgcGVuZGluZ1Bob3Rvc0NvdW50LCBpc0NvbGxhcHNlZCwgb25OYXZpZ2F0ZSB9OiBhbnkpID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZ3JvdXBlZC1uYXZpZ2F0aW9uXCI+XG4gICAgICA8c3Bhbj5QZW5kaW5nOiB7cGVuZGluZ1Bob3Rvc0NvdW50fTwvc3Bhbj5cbiAgICAgIDxzcGFuPkNvbGxhcHNlZDoge2lzQ29sbGFwc2VkID8gJ3RydWUnIDogJ2ZhbHNlJ308L3NwYW4+XG4gICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uTmF2aWdhdGV9Pk5hdmlnYXRlPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICksXG59KSk7XG5cbi8vIE1vY2sgd2luZG93LmlubmVyV2lkdGggZm9yIHJlc3BvbnNpdmUgdGVzdHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdpbm5lcldpZHRoJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogMTAyNCxcbn0pO1xuXG5kZXNjcmliZSgnU2lkZWJhcicsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgd2luZG93IHdpZHRoIHRvIGRlc2t0b3BcbiAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDEwMjQ7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY2xlYW51cCgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQmFzaWMgUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHNpZGViYXIgd2l0aCBoZWFkZXIgYW5kIG5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfwn4y0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWRtaW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2dyb3VwZWQtbmF2aWdhdGlvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IGN1cnJlbnQgc2VjdGlvbiBpbiBkYXNoYm9hcmQgbGluaycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImFjdGl2aXRpZXNcIiAvPik7XG5cbiAgICAgIGNvbnN0IGRhc2hib2FyZExpbmsgPSBzY3JlZW4uZ2V0QnlSb2xlKCdsaW5rJywgeyBuYW1lOiAvZGFzaGJvYXJkL2kgfSk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkTGluaykudG9IYXZlQXR0cmlidXRlKCdocmVmJywgJy9hZG1pbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwYXNzIHBlbmRpbmcgcGhvdG9zIGNvdW50IHRvIEdyb3VwZWROYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgcGVuZGluZ1Bob3Rvc0NvdW50PXs1fSAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQZW5kaW5nOiA1JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciBmb290ZXIgd2l0aCBDb3N0YSBSaWNhIG1lc3NhZ2UnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQdXJhIFZpZGEhIOKYgO+4jycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29sbGFwc2UvRXhwYW5kIEZ1bmN0aW9uYWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdGFydCBleHBhbmRlZCBvbiBkZXNrdG9wJywgKCkgPT4ge1xuICAgICAgd2luZG93LmlubmVyV2lkdGggPSAxMDI0O1xuICAgICAgXG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGNvbnN0IHNpZGViYXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBleHBlY3Qoc2lkZWJhcikubm90LnRvSGF2ZUNsYXNzKCctdHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgICAgZXhwZWN0KHNpZGViYXIpLnRvSGF2ZUNsYXNzKCd3LTY0Jyk7XG4gICAgICBcbiAgICAgIC8vIEhlYWRlciBjb250ZW50IHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWRtaW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIFxuICAgICAgLy8gR3JvdXBlZE5hdmlnYXRpb24gc2hvdWxkIG5vdCBiZSBjb2xsYXBzZWRcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb2xsYXBzZWQ6IGZhbHNlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHRvZ2dsZSBzaWRlYmFyIHdoZW4gdG9nZ2xlIGJ1dHRvbiBpcyBjbGlja2VkJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICBjb25zdCB0b2dnbGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2NvbGxhcHNlIHNpZGViYXIvaSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sodG9nZ2xlQnV0dG9uKTtcblxuICAgICAgLy8gU2hvdWxkIGJlIGNvbGxhcHNlZFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0NvbGxhcHNlZDogdHJ1ZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQWRtaW4nKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIC8vIEJ1dHRvbiBzaG91bGQgY2hhbmdlIHRvIGV4cGFuZFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZXhwYW5kIHNpZGViYXIvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGV4cGFuZCBzaWRlYmFyIHdoZW4gY2xpY2tpbmcgZXhwYW5kIGJ1dHRvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jb2xsYXBzZSBzaWRlYmFyL2kpO1xuICAgICAgXG4gICAgICAvLyBDb2xsYXBzZSBmaXJzdFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHRvZ2dsZUJ1dHRvbik7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ29sbGFwc2VkOiB0cnVlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIC8vIFRoZW4gZXhwYW5kXG4gICAgICBjb25zdCBleHBhbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2V4cGFuZCBzaWRlYmFyL2kpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGV4cGFuZEJ1dHRvbik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdDb2xsYXBzZWQ6IGZhbHNlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWRtaW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHRvZ2dsZSBidXR0b24gaWNvbnMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvY29sbGFwc2Ugc2lkZWJhci9pKTtcbiAgICAgIGV4cGVjdCh0b2dnbGVCdXR0b24pLnRvSGF2ZVRleHRDb250ZW50KCfihpAnKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmNsaWNrKHRvZ2dsZUJ1dHRvbik7XG4gICAgICBcbiAgICAgIGNvbnN0IGV4cGFuZEJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvZXhwYW5kIHNpZGViYXIvaSk7XG4gICAgICBleHBlY3QoZXhwYW5kQnV0dG9uKS50b0hhdmVUZXh0Q29udGVudCgn4oaSJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNb2JpbGUgUmVzcG9uc2l2ZSBCZWhhdmlvcicsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIE1vY2sgbW9iaWxlIHZpZXdwb3J0XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgLy8gTW9jayByZXNpemUgZXZlbnRcbiAgICAgIGNvbnN0IHJlc2l6ZUV2ZW50ID0gbmV3IEV2ZW50KCdyZXNpemUnKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNpemVFdmVudCwgJ3RhcmdldCcsIHtcbiAgICAgICAgdmFsdWU6IHsgaW5uZXJXaWR0aDogNjAwIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3RhcnQgY29sbGFwc2VkIG9uIG1vYmlsZScsICgpID0+IHtcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoID0gNjAwO1xuICAgICAgXG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIC8vIFRyaWdnZXIgcmVzaXplIGV2ZW50IHRvIHNpbXVsYXRlIG1vYmlsZSBkZXRlY3Rpb25cbiAgICAgIGZpcmVFdmVudCh3aW5kb3csIG5ldyBFdmVudCgncmVzaXplJykpO1xuXG4gICAgICBjb25zdCBzaWRlYmFyID0gc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KHNpZGViYXIpLnRvSGF2ZUNsYXNzKCctdHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IG1vYmlsZSB0b2dnbGUgYnV0dG9uIHdoZW4gY29sbGFwc2VkIG9uIG1vYmlsZScsICgpID0+IHtcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoID0gNjAwO1xuICAgICAgXG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIC8vIFRyaWdnZXIgcmVzaXplIHRvIGRldGVjdCBtb2JpbGVcbiAgICAgIGZpcmVFdmVudCh3aW5kb3csIG5ldyBFdmVudCgncmVzaXplJykpO1xuXG4gICAgICAvLyBTaG91bGQgc2hvdyBtb2JpbGUgdG9nZ2xlIGJ1dHRvblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvb3BlbiBzaWRlYmFyL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+KYsCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IG92ZXJsYXkgd2hlbiBleHBhbmRlZCBvbiBtb2JpbGUnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgLy8gT3BlbiBzaWRlYmFyIG9uIG1vYmlsZVxuICAgICAgY29uc3QgbW9iaWxlVG9nZ2xlID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9vcGVuIHNpZGViYXIvaSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobW9iaWxlVG9nZ2xlKTtcblxuICAgICAgLy8gU2hvdWxkIHNob3cgb3ZlcmxheVxuICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZy1ibGFjay5iZy1vcGFjaXR5LTUwJyk7XG4gICAgICBleHBlY3Qob3ZlcmxheSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2Ugc2lkZWJhciB3aGVuIG92ZXJsYXkgaXMgY2xpY2tlZCBvbiBtb2JpbGUnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgLy8gT3BlbiBzaWRlYmFyXG4gICAgICBjb25zdCBtb2JpbGVUb2dnbGUgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL29wZW4gc2lkZWJhci9pKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb2JpbGVUb2dnbGUpO1xuXG4gICAgICAvLyBDbGljayBvdmVybGF5XG4gICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnLWJsYWNrLmJnLW9wYWNpdHktNTAnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhvdmVybGF5ISk7XG5cbiAgICAgIC8vIFNpZGViYXIgc2hvdWxkIGJlIGNsb3NlZFxuICAgICAgY29uc3Qgc2lkZWJhciA9IHNjcmVlbi5nZXRCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIGV4cGVjdChzaWRlYmFyKS50b0hhdmVDbGFzcygnLXRyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2Ugc2lkZWJhciBhZnRlciBuYXZpZ2F0aW9uIG9uIG1vYmlsZScsICgpID0+IHtcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoID0gNjAwO1xuICAgICAgXG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIC8vIFRyaWdnZXIgcmVzaXplIHRvIGRldGVjdCBtb2JpbGVcbiAgICAgIGZpcmVFdmVudCh3aW5kb3csIG5ldyBFdmVudCgncmVzaXplJykpO1xuXG4gICAgICAvLyBPcGVuIHNpZGViYXJcbiAgICAgIGNvbnN0IG1vYmlsZVRvZ2dsZSA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvb3BlbiBzaWRlYmFyL2kpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG1vYmlsZVRvZ2dsZSk7XG5cbiAgICAgIC8vIFRyaWdnZXIgbmF2aWdhdGlvblxuICAgICAgY29uc3QgbmF2aWdhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdOYXZpZ2F0ZScpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKG5hdmlnYXRlQnV0dG9uKTtcblxuICAgICAgLy8gU2lkZWJhciBzaG91bGQgYmUgY2xvc2VkIG9uIG1vYmlsZVxuICAgICAgY29uc3Qgc2lkZWJhciA9IHNjcmVlbi5nZXRCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIGV4cGVjdChzaWRlYmFyKS50b0hhdmVDbGFzcygnLXRyYW5zbGF0ZS14LWZ1bGwnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Rhc2hib2FyZCBMaW5rJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGlnaGxpZ2h0IGRhc2hib2FyZCBsaW5rIHdoZW4gb24gZGFzaGJvYXJkIHBhZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHVzZVBhdGhuYW1lIH0gPSByZXF1aXJlKCduZXh0L25hdmlnYXRpb24nKTtcbiAgICAgIHVzZVBhdGhuYW1lLm1vY2tSZXR1cm5WYWx1ZSgnL2FkbWluJyk7XG5cbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImRhc2hib2FyZFwiIC8+KTtcblxuICAgICAgY29uc3QgZGFzaGJvYXJkTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9kYXNoYm9hcmQvaSB9KTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRMaW5rKS50b0hhdmVDbGFzcygnYmctanVuZ2xlLTUwJywgJ3RleHQtanVuZ2xlLTcwMCcpO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZExpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGhpZ2hsaWdodCBkYXNoYm9hcmQgbGluayB3aGVuIG9uIG90aGVyIHBhZ2VzJywgKCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VQYXRobmFtZSB9ID0gcmVxdWlyZSgnbmV4dC9uYXZpZ2F0aW9uJyk7XG4gICAgICB1c2VQYXRobmFtZS5tb2NrUmV0dXJuVmFsdWUoJy9hZG1pbi9ndWVzdHMnKTtcblxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICBjb25zdCBkYXNoYm9hcmRMaW5rID0gc2NyZWVuLmdldEJ5Um9sZSgnbGluaycsIHsgbmFtZTogL2Rhc2hib2FyZC9pIH0pO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZExpbmspLm5vdC50b0hhdmVDbGFzcygnYmctanVuZ2xlLTUwJyk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkTGluaykubm90LnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGRhc2hib2FyZCBsaW5rIHN0cnVjdHVyZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgZGFzaGJvYXJkTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9kYXNoYm9hcmQvaSB9KTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2hyZWYnLCAnL2FkbWluJyk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkTGluaykudG9Db250YWluSFRNTCgn8J+PoCcpO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZExpbmspLnRvSGF2ZVRleHRDb250ZW50KCdEYXNoYm9hcmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlbmRpbmcgUGhvdG9zIENvdW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcGFzcyBwZW5kaW5nIGNvdW50IHRvIEdyb3VwZWROYXZpZ2F0aW9uJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgcGVuZGluZ1Bob3Rvc0NvdW50PXsxMH0gLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGVuZGluZzogMTAnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHplcm8gcGVuZGluZyBjb3VudCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIHBlbmRpbmdQaG90b3NDb3VudD17MH0gLz4pO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUGVuZGluZzogMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5kZWZpbmVkIHBlbmRpbmcgY291bnQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQZW5kaW5nOiAwJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdOYXZpZ2F0aW9uIENhbGxiYWNrcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBhc3Mgb25OYXZpZ2F0ZSBjYWxsYmFjayB0byBHcm91cGVkTmF2aWdhdGlvbicsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgbmF2aWdhdGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCdOYXZpZ2F0ZScpO1xuICAgICAgZXhwZWN0KG5hdmlnYXRlQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IHRocm93IHdoZW4gY2xpY2tlZFxuICAgICAgZXhwZWN0KCgpID0+IGZpcmVFdmVudC5jbGljayhuYXZpZ2F0ZUJ1dHRvbikpLm5vdC50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNsb3NlIHNpZGViYXIgb24gbW9iaWxlIHdoZW4gbmF2aWdhdGlvbiBvY2N1cnMnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgLy8gT3BlbiBzaWRlYmFyXG4gICAgICBjb25zdCBtb2JpbGVUb2dnbGUgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL29wZW4gc2lkZWJhci9pKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb2JpbGVUb2dnbGUpO1xuXG4gICAgICAvLyBTaWRlYmFyIHNob3VsZCBiZSBvcGVuXG4gICAgICBjb25zdCBzaWRlYmFyID0gc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KHNpZGViYXIpLm5vdC50b0hhdmVDbGFzcygnLXRyYW5zbGF0ZS14LWZ1bGwnKTtcblxuICAgICAgLy8gTmF2aWdhdGVcbiAgICAgIGNvbnN0IG5hdmlnYXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTmF2aWdhdGUnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhuYXZpZ2F0ZUJ1dHRvbik7XG5cbiAgICAgIC8vIFNpZGViYXIgc2hvdWxkIGNsb3NlIG9uIG1vYmlsZVxuICAgICAgZXhwZWN0KHNpZGViYXIpLnRvSGF2ZUNsYXNzKCctdHJhbnNsYXRlLXgtZnVsbCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIG5hdmlnYXRpb24gcm9sZSBhbmQgbGFiZWwnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGNvbnN0IHNpZGViYXIgPSBzY3JlZW4uZ2V0QnlSb2xlKCduYXZpZ2F0aW9uJyk7XG4gICAgICBleHBlY3Qoc2lkZWJhcikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ01haW4gbmF2aWdhdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciB0b2dnbGUgYnV0dG9uIGFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvY29sbGFwc2Ugc2lkZWJhci9pKTtcbiAgICAgIGV4cGVjdCh0b2dnbGVCdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDb2xsYXBzZSBzaWRlYmFyJyk7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5jbGljayh0b2dnbGVCdXR0b24pO1xuICAgICAgXG4gICAgICBjb25zdCBleHBhbmRCdXR0b24gPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL2V4cGFuZCBzaWRlYmFyL2kpO1xuICAgICAgZXhwZWN0KGV4cGFuZEJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0V4cGFuZCBzaWRlYmFyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgbWluaW11bSB0b3VjaCB0YXJnZXQgc2l6ZSBmb3IgYnV0dG9ucycsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jb2xsYXBzZSBzaWRlYmFyL2kpO1xuICAgICAgZXhwZWN0KHRvZ2dsZUJ1dHRvbikudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScsICdtaW4tdy1bNDRweF0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgZGFzaGJvYXJkIGxpbmsgYWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgZGFzaGJvYXJkTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9kYXNoYm9hcmQvaSB9KTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRMaW5rKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnRGFzaGJvYXJkJyk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkTGluaykudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBtb2JpbGUgdG9nZ2xlIGJ1dHRvbiBhY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgICAgd2luZG93LmlubmVyV2lkdGggPSA2MDA7XG4gICAgICBcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgLy8gVHJpZ2dlciByZXNpemUgdG8gZGV0ZWN0IG1vYmlsZVxuICAgICAgZmlyZUV2ZW50KHdpbmRvdywgbmV3IEV2ZW50KCdyZXNpemUnKSk7XG5cbiAgICAgIGNvbnN0IG1vYmlsZVRvZ2dsZSA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvb3BlbiBzaWRlYmFyL2kpO1xuICAgICAgZXhwZWN0KG1vYmlsZVRvZ2dsZSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ09wZW4gc2lkZWJhcicpO1xuICAgICAgZXhwZWN0KG1vYmlsZVRvZ2dsZSkudG9IYXZlQ2xhc3MoJ21pbi1oLVs0NHB4XScsICdtaW4tdy1bNDRweF0nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGlkZSBvdmVybGF5IGZyb20gc2NyZWVuIHJlYWRlcnMnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgLy8gT3BlbiBzaWRlYmFyXG4gICAgICBjb25zdCBtb2JpbGVUb2dnbGUgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL29wZW4gc2lkZWJhci9pKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhtb2JpbGVUb2dnbGUpO1xuXG4gICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnLWJsYWNrLmJnLW9wYWNpdHktNTAnKTtcbiAgICAgIGV4cGVjdChvdmVybGF5KS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNpdmUgRGVzaWduJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYXBwbHkgY29ycmVjdCBjbGFzc2VzIGZvciBkZXNrdG9wIGxheW91dCcsICgpID0+IHtcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoID0gMTAyNDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICBjb25zdCBzaWRlYmFyID0gc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KHNpZGViYXIpLnRvSGF2ZUNsYXNzKCdmaXhlZCcsICd0b3AtMCcsICdsZWZ0LTAnLCAnaC1mdWxsJyk7XG4gICAgICBleHBlY3Qoc2lkZWJhcikudG9IYXZlQ2xhc3MoJ3ctNjQnKTsgLy8gRGVza3RvcCB3aWR0aFxuICAgICAgZXhwZWN0KHNpZGViYXIpLm5vdC50b0hhdmVDbGFzcygnLXRyYW5zbGF0ZS14LWZ1bGwnKTsgLy8gTm90IGhpZGRlblxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhcHBseSBjb3JyZWN0IGNsYXNzZXMgZm9yIG1vYmlsZSBsYXlvdXQnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgY29uc3Qgc2lkZWJhciA9IHNjcmVlbi5nZXRCeVJvbGUoJ25hdmlnYXRpb24nKTtcbiAgICAgIGV4cGVjdChzaWRlYmFyKS50b0hhdmVDbGFzcygnLXRyYW5zbGF0ZS14LWZ1bGwnKTsgLy8gSGlkZGVuIG9uIG1vYmlsZVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgd2luZG93IHJlc2l6ZSBldmVudHMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIC8vIFN0YXJ0IGRlc2t0b3BcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBZG1pbicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyBSZXNpemUgdG8gbW9iaWxlXG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIGZpcmVFdmVudCh3aW5kb3csIG5ldyBFdmVudCgncmVzaXplJykpO1xuXG4gICAgICAvLyBTaG91bGQgZGV0ZWN0IG1vYmlsZSBhbmQgcG90ZW50aWFsbHkgY2hhbmdlIGJlaGF2aW9yXG4gICAgICAvLyAoVGhlIGNvbXBvbmVudCBzaG91bGQgaGFuZGxlIHRoaXMgaW50ZXJuYWxseSlcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYW4gdXAgcmVzaXplIGV2ZW50IGxpc3RlbmVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lclNweSA9IGplc3Quc3B5T24od2luZG93LCAncmVtb3ZlRXZlbnRMaXN0ZW5lcicpO1xuICAgICAgXG4gICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcbiAgICAgIHVubW91bnQoKTtcblxuICAgICAgZXhwZWN0KHJlbW92ZUV2ZW50TGlzdGVuZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdyZXNpemUnLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG4gICAgICBcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJTcHkubW9ja1Jlc3RvcmUoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0xheW91dCBTdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBoZWFkZXIgc3RydWN0dXJlJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICBjb25zdCBoZWFkZXIgPSBzY3JlZW4uZ2V0QnlUZXh0KCfwn4y0JykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBleHBlY3QoaGVhZGVyKS50b0hhdmVDbGFzcygnaC0xNicsICdmbGV4JywgJ2l0ZW1zLWNlbnRlcicsICdqdXN0aWZ5LWJldHdlZW4nKTtcbiAgICAgIGV4cGVjdChoZWFkZXIpLnRvSGF2ZUNsYXNzKCdib3JkZXItYicsICdib3JkZXItc2FnZS0yMDAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgbmF2aWdhdGlvbiBhcmVhIHN0cnVjdHVyZScsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgY29uc3QgbmF2QXJlYSA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnZ3JvdXBlZC1uYXZpZ2F0aW9uJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBleHBlY3QobmF2QXJlYSkudG9IYXZlQ2xhc3MoJ292ZXJmbG93LXktYXV0bycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBmb290ZXIgc3RydWN0dXJlIHdoZW4gZXhwYW5kZWQnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoPFNpZGViYXIgY3VycmVudFNlY3Rpb249XCJndWVzdHNcIiAvPik7XG5cbiAgICAgIGNvbnN0IGZvb3RlciA9IHNjcmVlbi5nZXRCeVRleHQoJ1B1cmEgVmlkYSEg4piA77iPJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgICBleHBlY3QoZm9vdGVyKS50b0hhdmVDbGFzcygnYWJzb2x1dGUnLCAnYm90dG9tLTAnLCAnbGVmdC0wJywgJ3JpZ2h0LTAnKTtcbiAgICAgIGV4cGVjdChmb290ZXIpLnRvSGF2ZUNsYXNzKCdib3JkZXItdCcsICdib3JkZXItc2FnZS0yMDAnLCAnYmctc2FnZS01MCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoaWRlIGZvb3RlciB3aGVuIGNvbGxhcHNlZCcsICgpID0+IHtcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgLy8gQ29sbGFwc2Ugc2lkZWJhclxuICAgICAgY29uc3QgdG9nZ2xlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jb2xsYXBzZSBzaWRlYmFyL2kpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHRvZ2dsZUJ1dHRvbik7XG5cbiAgICAgIC8vIEZvb3RlciBzaG91bGQgbm90IGJlIHZpc2libGVcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1B1cmEgVmlkYSEg4piA77iPJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnWi1JbmRleCBhbmQgTGF5ZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciB6LWluZGV4IGZvciBzaWRlYmFyJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICBjb25zdCBzaWRlYmFyID0gc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KHNpZGViYXIpLnRvSGF2ZUNsYXNzKCd6LTUwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHotaW5kZXggZm9yIG1vYmlsZSBvdmVybGF5JywgKCkgPT4ge1xuICAgICAgd2luZG93LmlubmVyV2lkdGggPSA2MDA7XG4gICAgICBcbiAgICAgIHJlbmRlcig8U2lkZWJhciBjdXJyZW50U2VjdGlvbj1cImd1ZXN0c1wiIC8+KTtcblxuICAgICAgLy8gVHJpZ2dlciByZXNpemUgdG8gZGV0ZWN0IG1vYmlsZVxuICAgICAgZmlyZUV2ZW50KHdpbmRvdywgbmV3IEV2ZW50KCdyZXNpemUnKSk7XG5cbiAgICAgIC8vIE9wZW4gc2lkZWJhclxuICAgICAgY29uc3QgbW9iaWxlVG9nZ2xlID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9vcGVuIHNpZGViYXIvaSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobW9iaWxlVG9nZ2xlKTtcblxuICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZy1ibGFjay5iZy1vcGFjaXR5LTUwJyk7XG4gICAgICBleHBlY3Qob3ZlcmxheSkudG9IYXZlQ2xhc3MoJ3otNDAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgei1pbmRleCBmb3IgbW9iaWxlIHRvZ2dsZSBidXR0b24nLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuaW5uZXJXaWR0aCA9IDYwMDtcbiAgICAgIFxuICAgICAgcmVuZGVyKDxTaWRlYmFyIGN1cnJlbnRTZWN0aW9uPVwiZ3Vlc3RzXCIgLz4pO1xuXG4gICAgICAvLyBUcmlnZ2VyIHJlc2l6ZSB0byBkZXRlY3QgbW9iaWxlXG4gICAgICBmaXJlRXZlbnQod2luZG93LCBuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcblxuICAgICAgY29uc3QgbW9iaWxlVG9nZ2xlID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9vcGVuIHNpZGViYXIvaSk7XG4gICAgICBleHBlY3QobW9iaWxlVG9nZ2xlKS50b0hhdmVDbGFzcygnei00MCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVBhdGhuYW1lIiwiZm4iLCJHcm91cGVkTmF2aWdhdGlvbiIsInBlbmRpbmdQaG90b3NDb3VudCIsImlzQ29sbGFwc2VkIiwib25OYXZpZ2F0ZSIsImRpdiIsImRhdGEtdGVzdGlkIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwidmFsdWUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJpbm5lcldpZHRoIiwiY2xlYXJBbGxNb2NrcyIsImFmdGVyRWFjaCIsImNsZWFudXAiLCJpdCIsInJlbmRlciIsIlNpZGViYXIiLCJjdXJyZW50U2VjdGlvbiIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QnlUZXN0SWQiLCJkYXNoYm9hcmRMaW5rIiwiZ2V0QnlSb2xlIiwibmFtZSIsInRvSGF2ZUF0dHJpYnV0ZSIsInNpZGViYXIiLCJub3QiLCJ0b0hhdmVDbGFzcyIsInRvZ2dsZUJ1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJxdWVyeUJ5VGV4dCIsImV4cGFuZEJ1dHRvbiIsInRvSGF2ZVRleHRDb250ZW50IiwicmVzaXplRXZlbnQiLCJFdmVudCIsImVudW1lcmFibGUiLCJtb2JpbGVUb2dnbGUiLCJvdmVybGF5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2aWdhdGVCdXR0b24iLCJyZXF1aXJlIiwibW9ja1JldHVyblZhbHVlIiwidG9Db250YWluSFRNTCIsInRvVGhyb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyU3B5Iiwic3B5T24iLCJ1bm1vdW50IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJhbnkiLCJGdW5jdGlvbiIsIm1vY2tSZXN0b3JlIiwiaGVhZGVyIiwiY2xvc2VzdCIsIm5hdkFyZWEiLCJmb290ZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Q0FZQztBQUtELHFCQUFxQjtBQUNyQkEsS0FBS0MsSUFBSSxDQUFDLG1CQUFtQixJQUFPLENBQUE7UUFDbENDLGFBQWFGLEtBQUtHLEVBQUUsQ0FBQyxJQUFNO0lBQzdCLENBQUE7QUFFQSx3QkFBd0I7QUFDeEJILEtBQUtDLElBQUksQ0FBQyx1QkFBdUIsSUFBTyxD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