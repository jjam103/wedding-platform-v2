9290ab22808ccce17db69d4166f585f9
/**
 * Helper utilities for mocking fetch in tests
 * 
 * This module provides standardized mock implementations for the global fetch API
 * to ensure consistent behavior across all tests.
 */ /**
 * Creates a mock Response object with all required properties
 * 
 * @param data - The data to return from response.json()
 * @param options - Optional response configuration
 * @returns A mock Response object
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get clearFetchMock () {
        return clearFetchMock;
    },
    get createMockResponse () {
        return createMockResponse;
    },
    get mockFetchError () {
        return mockFetchError;
    },
    get mockFetchNetworkError () {
        return mockFetchNetworkError;
    },
    get mockFetchSuccess () {
        return mockFetchSuccess;
    },
    get resetFetchMock () {
        return resetFetchMock;
    },
    get setupFetchMock () {
        return setupFetchMock;
    }
});
function createMockResponse(data, options = {}) {
    const { ok = true, status = 200, statusText = 'OK', headers = {} } = options;
    const headersObj = new Headers(headers);
    return {
        ok,
        status,
        statusText,
        headers: headersObj,
        redirected: false,
        type: 'basic',
        url: '',
        body: null,
        bodyUsed: false,
        json: ()=>Promise.resolve(data),
        text: ()=>Promise.resolve(JSON.stringify(data)),
        blob: ()=>Promise.resolve(new Blob([
                JSON.stringify(data)
            ], {
                type: 'application/json'
            })),
        arrayBuffer: ()=>Promise.resolve(new TextEncoder().encode(JSON.stringify(data)).buffer),
        formData: ()=>Promise.resolve(new FormData()),
        clone: ()=>createMockResponse(data, options)
    };
}
function mockFetchSuccess(data) {
    return jest.fn().mockImplementation(()=>Promise.resolve(createMockResponse(data)));
}
function mockFetchError(error, status = 500) {
    return jest.fn().mockImplementation(()=>Promise.resolve(createMockResponse({
            success: false,
            error
        }, {
            ok: false,
            status,
            statusText: 'Error'
        })));
}
function mockFetchNetworkError(message = 'Network error') {
    return jest.fn().mockImplementation(()=>Promise.reject(new Error(message)));
}
function setupFetchMock() {
    if (!global.fetch) {
        global.fetch = jest.fn();
    }
}
function resetFetchMock() {
    if (global.fetch && jest.isMockFunction(global.fetch)) {
        global.fetch.mockReset();
    }
}
function clearFetchMock() {
    if (global.fetch && jest.isMockFunction(global.fetch)) {
        global.fetch.mockClear();
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXJvbi9EZXNrdG9wL3dlZGRpbmctcGxhdGZvcm0tdjIvX190ZXN0c19fL2hlbHBlcnMvbW9ja0ZldGNoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSGVscGVyIHV0aWxpdGllcyBmb3IgbW9ja2luZyBmZXRjaCBpbiB0ZXN0c1xuICogXG4gKiBUaGlzIG1vZHVsZSBwcm92aWRlcyBzdGFuZGFyZGl6ZWQgbW9jayBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBnbG9iYWwgZmV0Y2ggQVBJXG4gKiB0byBlbnN1cmUgY29uc2lzdGVudCBiZWhhdmlvciBhY3Jvc3MgYWxsIHRlc3RzLlxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG1vY2sgUmVzcG9uc2Ugb2JqZWN0IHdpdGggYWxsIHJlcXVpcmVkIHByb3BlcnRpZXNcbiAqIFxuICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byByZXR1cm4gZnJvbSByZXNwb25zZS5qc29uKClcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgcmVzcG9uc2UgY29uZmlndXJhdGlvblxuICogQHJldHVybnMgQSBtb2NrIFJlc3BvbnNlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTW9ja1Jlc3BvbnNlPFQgPSBhbnk+KFxuICBkYXRhOiBULFxuICBvcHRpb25zOiB7XG4gICAgb2s/OiBib29sZWFuO1xuICAgIHN0YXR1cz86IG51bWJlcjtcbiAgICBzdGF0dXNUZXh0Pzogc3RyaW5nO1xuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICB9ID0ge31cbik6IFJlc3BvbnNlIHtcbiAgY29uc3Qge1xuICAgIG9rID0gdHJ1ZSxcbiAgICBzdGF0dXMgPSAyMDAsXG4gICAgc3RhdHVzVGV4dCA9ICdPSycsXG4gICAgaGVhZGVycyA9IHt9LFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBoZWFkZXJzT2JqID0gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG5cbiAgcmV0dXJuIHtcbiAgICBvayxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBoZWFkZXJzT2JqLFxuICAgIHJlZGlyZWN0ZWQ6IGZhbHNlLFxuICAgIHR5cGU6ICdiYXNpYycgYXMgUmVzcG9uc2VUeXBlLFxuICAgIHVybDogJycsXG4gICAgYm9keTogbnVsbCxcbiAgICBib2R5VXNlZDogZmFsc2UsXG4gICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpLFxuICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZShKU09OLnN0cmluZ2lmeShkYXRhKSksXG4gICAgYmxvYjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKSxcbiAgICBhcnJheUJ1ZmZlcjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShKU09OLnN0cmluZ2lmeShkYXRhKSkuYnVmZmVyKSxcbiAgICBmb3JtRGF0YTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG5ldyBGb3JtRGF0YSgpKSxcbiAgICBjbG9uZTogKCkgPT4gY3JlYXRlTW9ja1Jlc3BvbnNlKGRhdGEsIG9wdGlvbnMpLFxuICB9IGFzIFJlc3BvbnNlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIGZldGNoIGltcGxlbWVudGF0aW9uIHRoYXQgcmV0dXJucyBhIHN1Y2Nlc3MgcmVzcG9uc2VcbiAqIFxuICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byByZXR1cm4gZnJvbSB0aGUgQVBJXG4gKiBAcmV0dXJucyBBIG1vY2sgZmV0Y2ggZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tGZXRjaFN1Y2Nlc3M8VCA9IGFueT4oZGF0YTogVCkge1xuICByZXR1cm4gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBcbiAgICBQcm9taXNlLnJlc29sdmUoY3JlYXRlTW9ja1Jlc3BvbnNlKGRhdGEpKVxuICApO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2NrIGZldGNoIGltcGxlbWVudGF0aW9uIHRoYXQgcmV0dXJucyBhbiBlcnJvciByZXNwb25zZVxuICogXG4gKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgdG8gcmV0dXJuXG4gKiBAcGFyYW0gc3RhdHVzIC0gSFRUUCBzdGF0dXMgY29kZSAoZGVmYXVsdDogNTAwKVxuICogQHJldHVybnMgQSBtb2NrIGZldGNoIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2NrRmV0Y2hFcnJvcihlcnJvcjogeyBjb2RlOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9LCBzdGF0dXMgPSA1MDApIHtcbiAgcmV0dXJuIGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT5cbiAgICBQcm9taXNlLnJlc29sdmUoXG4gICAgICBjcmVhdGVNb2NrUmVzcG9uc2UoXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH0sXG4gICAgICAgIHsgb2s6IGZhbHNlLCBzdGF0dXMsIHN0YXR1c1RleHQ6ICdFcnJvcicgfVxuICAgICAgKVxuICAgIClcbiAgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbW9jayBmZXRjaCBpbXBsZW1lbnRhdGlvbiB0aGF0IHJlamVjdHMgd2l0aCBhIG5ldHdvcmsgZXJyb3JcbiAqIFxuICogQHBhcmFtIG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlXG4gKiBAcmV0dXJucyBBIG1vY2sgZmV0Y2ggZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vY2tGZXRjaE5ldHdvcmtFcnJvcihtZXNzYWdlID0gJ05ldHdvcmsgZXJyb3InKSB7XG4gIHJldHVybiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+XG4gICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKVxuICApO1xufVxuXG4vKipcbiAqIFNldHMgdXAgZ2xvYmFsLmZldGNoIHdpdGggYSBtb2NrIGltcGxlbWVudGF0aW9uXG4gKiBDYWxsIHRoaXMgaW4gYmVmb3JlRWFjaCgpIHRvIGVuc3VyZSBmZXRjaCBpcyBtb2NrZWQgZm9yIGFsbCB0ZXN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBGZXRjaE1vY2soKSB7XG4gIGlmICghZ2xvYmFsLmZldGNoKSB7XG4gICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHRoZSBnbG9iYWwuZmV0Y2ggbW9ja1xuICogQ2FsbCB0aGlzIGluIGFmdGVyRWFjaCgpIHRvIGNsZWFuIHVwIGJldHdlZW4gdGVzdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RmV0Y2hNb2NrKCkge1xuICBpZiAoZ2xvYmFsLmZldGNoICYmIGplc3QuaXNNb2NrRnVuY3Rpb24oZ2xvYmFsLmZldGNoKSkge1xuICAgIChnbG9iYWwuZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzZXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyBhbGwgY2FsbHMgdG8gdGhlIGdsb2JhbC5mZXRjaCBtb2NrXG4gKiBVc2VmdWwgd2hlbiB5b3Ugd2FudCB0byB2ZXJpZnkgZmV0Y2ggY2FsbHMgaW4gYSBzcGVjaWZpYyB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckZldGNoTW9jaygpIHtcbiAgaWYgKGdsb2JhbC5mZXRjaCAmJiBqZXN0LmlzTW9ja0Z1bmN0aW9uKGdsb2JhbC5mZXRjaCkpIHtcbiAgICAoZ2xvYmFsLmZldGNoIGFzIGplc3QuTW9jaykubW9ja0NsZWFyKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjbGVhckZldGNoTW9jayIsImNyZWF0ZU1vY2tSZXNwb25zZSIsIm1vY2tGZXRjaEVycm9yIiwibW9ja0ZldGNoTmV0d29ya0Vycm9yIiwibW9ja0ZldGNoU3VjY2VzcyIsInJlc2V0RmV0Y2hNb2NrIiwic2V0dXBGZXRjaE1vY2siLCJkYXRhIiwib3B0aW9ucyIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImhlYWRlcnMiLCJoZWFkZXJzT2JqIiwiSGVhZGVycyIsInJlZGlyZWN0ZWQiLCJ0eXBlIiwidXJsIiwiYm9keSIsImJvZHlVc2VkIiwianNvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwidGV4dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJibG9iIiwiQmxvYiIsImFycmF5QnVmZmVyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJidWZmZXIiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiY2xvbmUiLCJqZXN0IiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJlcnJvciIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicmVqZWN0IiwiRXJyb3IiLCJnbG9iYWwiLCJmZXRjaCIsImlzTW9ja0Z1bmN0aW9uIiwibW9ja1Jlc2V0IiwibW9ja0NsZWFyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQyxHQUVEOzs7Ozs7Q0FNQzs7Ozs7Ozs7Ozs7UUF3R2VBO2VBQUFBOztRQXZHQUM7ZUFBQUE7O1FBd0RBQztlQUFBQTs7UUFpQkFDO2VBQUFBOztRQTlCQUM7ZUFBQUE7O1FBa0RBQztlQUFBQTs7UUFWQUM7ZUFBQUE7OztBQW5GVCxTQUFTTCxtQkFDZE0sSUFBTyxFQUNQQyxVQUtJLENBQUMsQ0FBQztJQUVOLE1BQU0sRUFDSkMsS0FBSyxJQUFJLEVBQ1RDLFNBQVMsR0FBRyxFQUNaQyxhQUFhLElBQUksRUFDakJDLFVBQVUsQ0FBQyxDQUFDLEVBQ2IsR0FBR0o7SUFFSixNQUFNSyxhQUFhLElBQUlDLFFBQVFGO0lBRS9CLE9BQU87UUFDTEg7UUFDQUM7UUFDQUM7UUFDQUMsU0FBU0M7UUFDVEUsWUFBWTtRQUNaQyxNQUFNO1FBQ05DLEtBQUs7UUFDTEMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLE1BQU0sSUFBTUMsUUFBUUMsT0FBTyxDQUFDZjtRQUM1QmdCLE1BQU0sSUFBTUYsUUFBUUMsT0FBTyxDQUFDRSxLQUFLQyxTQUFTLENBQUNsQjtRQUMzQ21CLE1BQU0sSUFBTUwsUUFBUUMsT0FBTyxDQUFDLElBQUlLLEtBQUs7Z0JBQUNILEtBQUtDLFNBQVMsQ0FBQ2xCO2FBQU0sRUFBRTtnQkFBRVMsTUFBTTtZQUFtQjtRQUN4RlksYUFBYSxJQUFNUCxRQUFRQyxPQUFPLENBQUMsSUFBSU8sY0FBY0MsTUFBTSxDQUFDTixLQUFLQyxTQUFTLENBQUNsQixPQUFPd0IsTUFBTTtRQUN4RkMsVUFBVSxJQUFNWCxRQUFRQyxPQUFPLENBQUMsSUFBSVc7UUFDcENDLE9BQU8sSUFBTWpDLG1CQUFtQk0sTUFBTUM7SUFDeEM7QUFDRjtBQVFPLFNBQVNKLGlCQUEwQkcsSUFBTztJQUMvQyxPQUFPNEIsS0FBS0MsRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxJQUNsQ2hCLFFBQVFDLE9BQU8sQ0FBQ3JCLG1CQUFtQk07QUFFdkM7QUFTTyxTQUFTTCxlQUFlb0MsS0FBd0MsRUFBRTVCLFNBQVMsR0FBRztJQUNuRixPQUFPeUIsS0FBS0MsRUFBRSxHQUFHQyxrQkFBa0IsQ0FBQyxJQUNsQ2hCLFFBQVFDLE9BQU8sQ0FDYnJCLG1CQUNFO1lBQUVzQyxTQUFTO1lBQU9EO1FBQU0sR0FDeEI7WUFBRTdCLElBQUk7WUFBT0M7WUFBUUMsWUFBWTtRQUFRO0FBSWpEO0FBUU8sU0FBU1Isc0JBQXNCcUMsVUFBVSxlQUFlO0lBQzdELE9BQU9MLEtBQUtDLEVBQUUsR0FBR0Msa0JBQWtCLENBQUMsSUFDbENoQixRQUFRb0IsTUFBTSxDQUFDLElBQUlDLE1BQU1GO0FBRTdCO0FBTU8sU0FBU2xDO0lBQ2QsSUFBSSxDQUFDcUMsT0FBT0MsS0FBSyxFQUFFO1FBQ2pCRCxPQUFPQyxLQUFLLEdBQUdULEtBQUtDLEVBQUU7SUFDeEI7QUFDRjtBQU1PLFNBQVMvQjtJQUNkLElBQUlzQyxPQUFPQyxLQUFLLElBQUlULEtBQUtVLGNBQWMsQ0FBQ0YsT0FBT0MsS0FBSyxHQUFHO1FBQ3BERCxPQUFPQyxLQUFLLENBQWVFLFNBQVM7SUFDdkM7QUFDRjtBQU1PLFNBQVM5QztJQUNkLElBQUkyQyxPQUFPQyxLQUFLLElBQUlULEtBQUtVLGNBQWMsQ0FBQ0YsT0FBT0MsS0FBSyxHQUFHO1FBQ3BERCxPQUFPQyxLQUFLLENBQWVHLFNBQVM7SUFDdkM7QUFDRiJ9