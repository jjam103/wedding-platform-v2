{"version":3,"sources":["/Users/jaron/Desktop/wedding-platform-v2/app/event/[id]/page.tsx"],"sourcesContent":["export const dynamic = 'force-dynamic';\n\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs';\nimport { cookies } from 'next/headers';\nimport { notFound } from 'next/navigation';\nimport { SectionRenderer } from '@/components/guest/SectionRenderer';\nimport { listSections } from '@/services/sectionsService';\n\ninterface EventPageProps {\n  params: Promise<{ id: string }>;\n}\n\n/**\n * Event Details Page\n * \n * Displays event information with sections:\n * - Event name, description, dates, location\n * - Custom sections with rich text, photos, and references\n * - RSVP information and deadline\n * \n * Requirements: 4.2 (E2E Critical Path Testing - section management flow)\n */\nexport default async function EventPage({ params }: EventPageProps) {\n  // Next.js 15: params is a Promise\n  const { id } = await params;\n  \n  const supabase = createServerComponentClient({ cookies });\n  \n  // Fetch event data\n  const { data: event, error: eventError } = await supabase\n    .from('events')\n    .select(`\n      *,\n      locations (\n        id,\n        name,\n        location_type\n      )\n    `)\n    .eq('id', id)\n    .single();\n  \n  if (eventError || !event) {\n    notFound();\n  }\n  \n  // Fetch sections for this event\n  const sectionsResult = await listSections('event', id);\n  const sections = sectionsResult.success ? sectionsResult.data : [];\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-jungle-50 to-ocean-50\">\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        {/* Event Header */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <h1 className=\"text-3xl font-bold text-jungle-800 mb-4\">\n            {event.name}\n          </h1>\n          \n          {/* Event Details */}\n          <div className=\"space-y-3 text-sage-700\">\n            {event.event_type && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Type:</span>\n                <span className=\"px-3 py-1 bg-sage-100 text-sage-800 rounded-full text-sm\">\n                  {event.event_type.replace('_', ' ')}\n                </span>\n              </div>\n            )}\n            \n            {event.start_date && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Start Date:</span>\n                <span>{new Date(event.start_date).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.end_date && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">End Date:</span>\n                <span>{new Date(event.end_date).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.locations && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Location:</span>\n                <span>{event.locations.name}</span>\n              </div>\n            )}\n            \n            {event.rsvp_required && event.rsvp_deadline && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">RSVP Deadline:</span>\n                <span>{new Date(event.rsvp_deadline).toLocaleDateString()}</span>\n              </div>\n            )}\n            \n            {event.status && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">Status:</span>\n                <span className=\"px-3 py-1 bg-ocean-100 text-ocean-800 rounded-full text-sm\">\n                  {event.status}\n                </span>\n              </div>\n            )}\n          </div>\n          \n          {/* Event Description */}\n          {event.description && (\n            <div \n              className=\"mt-6 prose prose-lg max-w-none text-gray-700\"\n              dangerouslySetInnerHTML={{ __html: event.description }}\n            />\n          )}\n        </div>\n        \n        {/* Sections */}\n        {sections.length > 0 && (\n          <div className=\"space-y-6\">\n            {sections.map((section) => (\n              <div key={section.id} className=\"bg-white rounded-lg shadow-lg p-8\">\n                <SectionRenderer section={section} />\n              </div>\n            ))}\n          </div>\n        )}\n        \n        {/* No Sections Message */}\n        {sections.length === 0 && (\n          <div className=\"bg-white rounded-lg shadow-lg p-8 text-center text-sage-600\">\n            <p>No additional information available for this event.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["EventPage","dynamic","params","id","supabase","createServerComponentClient","cookies","data","event","error","eventError","from","select","eq","single","notFound","sectionsResult","listSections","sections","success","div","className","h1","name","event_type","span","replace","start_date","Date","toLocaleDateString","end_date","locations","rsvp_required","rsvp_deadline","status","description","dangerouslySetInnerHTML","__html","length","map","section","SectionRenderer","p"],"mappings":";;;;;;;;;;;QAYA;;;;;;;;;CASC,GACD;eAA8BA;;QAtBjBC;eAAAA;;;;mCAE+B;yBACpB;4BACC;iCACO;iCACH;AANtB,MAAMA,UAAU;AAsBR,eAAeD,UAAU,EAAEE,MAAM,EAAkB;IAChE,kCAAkC;IAClC,MAAM,EAAEC,EAAE,EAAE,GAAG,MAAMD;IAErB,MAAME,WAAWC,IAAAA,8CAA2B,EAAC;QAAEC,SAAAA,gBAAO;IAAC;IAEvD,mBAAmB;IACnB,MAAM,EAAEC,MAAMC,KAAK,EAAEC,OAAOC,UAAU,EAAE,GAAG,MAAMN,SAC9CO,IAAI,CAAC,UACLC,MAAM,CAAC,CAAC;;;;;;;IAOT,CAAC,EACAC,EAAE,CAAC,MAAMV,IACTW,MAAM;IAET,IAAIJ,cAAc,CAACF,OAAO;QACxBO,IAAAA,oBAAQ;IACV;IAEA,gCAAgC;IAChC,MAAMC,iBAAiB,MAAMC,IAAAA,6BAAY,EAAC,SAASd;IACnD,MAAMe,WAAWF,eAAeG,OAAO,GAAGH,eAAeT,IAAI,GAAG,EAAE;IAElE,qBACE,qBAACa;QAAIC,WAAU;kBACb,cAAA,sBAACD;YAAIC,WAAU;;8BAEb,sBAACD;oBAAIC,WAAU;;sCACb,qBAACC;4BAAGD,WAAU;sCACXb,MAAMe,IAAI;;sCAIb,sBAACH;4BAAIC,WAAU;;gCACZb,MAAMgB,UAAU,kBACf,sBAACJ;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;4CAAKJ,WAAU;sDACbb,MAAMgB,UAAU,CAACE,OAAO,CAAC,KAAK;;;;gCAKpClB,MAAMmB,UAAU,kBACf,sBAACP;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;sDAAM,IAAIG,KAAKpB,MAAMmB,UAAU,EAAEE,kBAAkB;;;;gCAIvDrB,MAAMsB,QAAQ,kBACb,sBAACV;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;sDAAM,IAAIG,KAAKpB,MAAMsB,QAAQ,EAAED,kBAAkB;;;;gCAIrDrB,MAAMuB,SAAS,kBACd,sBAACX;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;sDAAMjB,MAAMuB,SAAS,CAACR,IAAI;;;;gCAI9Bf,MAAMwB,aAAa,IAAIxB,MAAMyB,aAAa,kBACzC,sBAACb;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;sDAAM,IAAIG,KAAKpB,MAAMyB,aAAa,EAAEJ,kBAAkB;;;;gCAI1DrB,MAAM0B,MAAM,kBACX,sBAACd;oCAAIC,WAAU;;sDACb,qBAACI;4CAAKJ,WAAU;sDAAgB;;sDAChC,qBAACI;4CAAKJ,WAAU;sDACbb,MAAM0B,MAAM;;;;;;wBAOpB1B,MAAM2B,WAAW,kBAChB,qBAACf;4BACCC,WAAU;4BACVe,yBAAyB;gCAAEC,QAAQ7B,MAAM2B,WAAW;4BAAC;;;;gBAM1DjB,SAASoB,MAAM,GAAG,mBACjB,qBAAClB;oBAAIC,WAAU;8BACZH,SAASqB,GAAG,CAAC,CAACC,wBACb,qBAACpB;4BAAqBC,WAAU;sCAC9B,cAAA,qBAACoB,gCAAe;gCAACD,SAASA;;2BADlBA,QAAQrC,EAAE;;gBAQzBe,SAASoB,MAAM,KAAK,mBACnB,qBAAClB;oBAAIC,WAAU;8BACb,cAAA,qBAACqB;kCAAE;;;;;;AAMf"}