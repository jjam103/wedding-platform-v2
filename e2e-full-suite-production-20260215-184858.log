
> destination-wedding-platform@0.1.0 test:e2e
> playwright test

[dotenv@17.2.4] injecting env (29) from .env.e2e -- tip: ğŸ”‘ add access controls to secrets: https://dotenvx.com/ops

ğŸš€ E2E Global Setup Starting...

ğŸ“Š Verifying test database connection...
âœ… Test database connected

ğŸ§¹ Cleaning up test data...
ğŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ğŸŒ Verifying Next.js server...
âœ… Next.js server is running

ğŸ” Setting up admin authentication...
   Admin user already exists: admin@example.com (role: host)
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Creating storage state from API session...
   âœ… Storage state created from API session
   Auth state saved to: .auth/admin.json
   Verifying authentication...
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   âœ… Authentication verified
   Logged in as: admin@example.com
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 362 tests using 1 worker

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ğŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
  âœ“    1 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:101:7 â€º Keyboard Navigation â€º should navigate through page with Tab and Shift+Tab (340ms)
  âœ˜    2 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:118:7 â€º Keyboard Navigation â€º should activate buttons with Enter and Space keys (15.7s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ğŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
  âœ˜    3 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:118:7 â€º Keyboard Navigation â€º should activate buttons with Enter and Space keys (retry #1) (15.7s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  suppress all logs with { quiet: true }
  âœ“    4 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:130:7 â€º Keyboard Navigation â€º should show visible focus indicators (1.1s)
  âœ“    5 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:149:7 â€º Keyboard Navigation â€º should support skip navigation link (272ms)
  âœ“    6 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:169:7 â€º Keyboard Navigation â€º should trap focus in modal dialogs and close with Escape (476ms)
[E2E Test] Creating guest session: {
  guestId: [32m'63f36066-ce01-4bc4-8d5b-2970248b471d'[39m,
  tokenPrefix: [32m'480439de'[39m,
  expiresAt: [32m'2026-02-17T02:49:43.666Z'[39m
}
[E2E Test] Guest session created in database
[E2E Test] Guest session cookie set in browser
[E2E Test] Guest session verified: {
  guestId: [32m'63f36066-ce01-4bc4-8d5b-2970248b471d'[39m,
  tokenPrefix: [32m'480439de'[39m,
  cookieSet: [33mtrue[39m
}
[E2E Test] Guest authentication setup complete
[E2E Test] Navigating to guest dashboard
[E2E Test] Successfully navigated to guest dashboard
  âœ“    7 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:195:7 â€º Keyboard Navigation â€º should navigate form fields and dropdowns with keyboard (3.6s)
  âœ“    8 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:231:7 â€º Keyboard Navigation â€º should support Home and End keys in text inputs (194ms)
  âœ“    9 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:252:7 â€º Keyboard Navigation â€º should not trap focus on disabled elements (175ms)
  âœ“   10 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:265:7 â€º Keyboard Navigation â€º should restore focus after modal closes (176ms)
  âœ˜   11 [chromium] â€º __tests__/e2e/accessibility/suite.spec.ts:283:7 â€º Keyboard Navigation â€º should navigate admin dashboard and guest management with keyboard (34.8s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  suppress all logs with { quiet: true }
