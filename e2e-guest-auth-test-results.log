
> destination-wedding-platform@0.1.0 test:e2e
> playwright test __tests__/e2e/auth/guestAuth.spec.ts

[dotenv@17.2.4] injecting env (29) from .env.e2e -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

ðŸš€ E2E Global Setup Starting...

ðŸ“Š Verifying test database connection...
âœ… Test database connected

ðŸ§¹ Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸŒ Verifying Next.js server...
âœ… Next.js server is running

ðŸ” Setting up admin authentication...
   Admin user already exists: admin@example.com (role: host)
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Creating storage state from API session...
   âœ… Storage state created from API session
   Auth state saved to: .auth/admin.json
   Verifying authentication...
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   âœ… Authentication verified
   Logged in as: admin@example.com
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 15 tests using 1 worker

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[Worker 0] Created test guest: {
  email: [32m'test-w0-1771217781220-p661c6kw@example.com'[39m,
  id: [32m'c4268cc3-8213-4c9d-9e5c-a3798248afd3'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'ba7c9e19-2e83-4a85-abdf-d61010c4968e'[39m
}
[Worker 0] âœ… Verified guest exists: {
  email: [32m'test-w0-1771217781220-p661c6kw@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
[Test] About to click submit button
=== Navigation failed, dumping console logs ===
=== Current URL === http://localhost:3000/auth/guest-login
[Browser warning] Cookie not set yet, waiting additional time...
  âœ˜   1 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:157:7 â€º Guest Authentication â€º should successfully authenticate with email matching (10.1s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[Worker 1] Created test guest: {
  email: [32m'test-w1-1771217792408-7ndfvcq6@example.com'[39m,
  id: [32m'fa72cff7-be4e-4750-b61b-b28c99a4aa87'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'9f78ce87-5274-4a76-bfbc-96a133779842'[39m
}
[Worker 1] âœ… Verified guest exists: {
  email: [32m'test-w1-1771217792408-7ndfvcq6@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
[Test] About to click submit button
=== Navigation failed, dumping console logs ===
=== Current URL === http://localhost:3000/auth/guest-login
[Browser warning] Cookie not set yet, waiting additional time...
  âœ˜   2 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:157:7 â€º Guest Authentication â€º should successfully authenticate with email matching (retry #1) (10.1s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[Worker 2] Created test guest: {
  email: [32m'test-w2-1771217803728-jt7hiqwr@example.com'[39m,
  id: [32m'09e1f295-135b-4b0c-b8fd-be0f1793bd28'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'ac4e91d7-b9c4-4737-82d1-85452f8bfcde'[39m
}
[Worker 2] âœ… Verified guest exists: {
  email: [32m'test-w2-1771217803728-jt7hiqwr@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“   3 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:215:7 â€º Guest Authentication â€º should show error for non-existent email (10.5s)
[Worker 2] Created test guest: {
  email: [32m'test-w2-1771217814421-pbvd7tn6@example.com'[39m,
  id: [32m'5550f961-3fed-4528-b68f-464056cc17a8'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'fa4ef892-4975-4e61-952f-a4d7c8456282'[39m
}
[Worker 2] âœ… Verified guest exists: {
  email: [32m'test-w2-1771217814421-pbvd7tn6@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“   4 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:230:7 â€º Guest Authentication â€º should show error for invalid email format (9.5s)
  -   5 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:243:8 â€º Guest Authentication â€º should show loading state during authentication
[Worker 2] Created test guest: {
  email: [32m'test-w2-1771217823946-qgx1es83@example.com'[39m,
  id: [32m'b0a5be6a-ba06-4e4c-ab54-dbda29829584'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'7e2c5a63-9d43-44fc-a6f6-8c65328d313d'[39m
}
[Worker 2] âœ… Verified guest exists: {
  email: [32m'test-w2-1771217823946-qgx1es83@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
=== Current URL === http://localhost:3000/auth/guest-login
  âœ˜   6 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:269:7 â€º Guest Authentication â€º should create session cookie on successful authentication (9.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  override existing env vars with { override: true }
[Worker 3] Created test guest: {
  email: [32m'test-w3-1771217834234-n6epn5us@example.com'[39m,
  id: [32m'3a0fc568-8d42-433d-bb50-5e1a4375fa21'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'ab4ee4a1-583c-401e-9736-4dd25b7fe76c'[39m
}
[Worker 3] âœ… Verified guest exists: {
  email: [32m'test-w3-1771217834234-n6epn5us@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
=== Current URL === http://localhost:3000/auth/guest-login
  âœ˜   7 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:269:7 â€º Guest Authentication â€º should create session cookie on successful authentication (retry #1) (9.9s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217845067-lbi14x3d@example.com'[39m,
  id: [32m'3cdc6ddd-b115-4de6-9731-54206513e21f'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'1c2a0ca3-b371-4c85-b092-3820bb6e8d77'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217845067-lbi14x3d@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“   8 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:309:7 â€º Guest Authentication â€º should successfully request and verify magic link (12.8s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217858067-k6j5y9rp@example.com'[39m,
  id: [32m'fcb790f5-bcec-4d87-83bf-650c04563ebb'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'5809cc43-db55-44a4-a5c0-1a492fccbf44'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217858067-k6j5y9rp@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“   9 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:379:7 â€º Guest Authentication â€º should show success message after requesting magic link (12.3s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217870376-uvu8k6r0@example.com'[39m,
  id: [32m'4a5ab244-a550-4299-8cda-b02cbfca940b'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'261f5899-7684-4efd-9aa2-412b5555cf09'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217870376-uvu8k6r0@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“  10 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:452:7 â€º Guest Authentication â€º should show error for expired magic link (10.4s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217880786-qojhu01e@example.com'[39m,
  id: [32m'7c3be159-8474-4aba-9eb9-29d840a1f223'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'91f874b5-56e8-4e6f-b0ba-3f07ba471580'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217880786-qojhu01e@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“  11 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:486:7 â€º Guest Authentication â€º should show error for already used magic link (12.8s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217893636-8ygdet1s@example.com'[39m,
  id: [32m'03d990a4-e53b-48cb-aa10-90e1cbe66e2b'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'1b29f14e-b4c3-47b3-a87c-f4b8c174aac9'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217893636-8ygdet1s@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“  12 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:548:7 â€º Guest Authentication â€º should show error for invalid or missing token (10.1s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217903732-aw4mqx02@example.com'[39m,
  id: [32m'742e50b9-afc4-408a-a4f7-2bfe9c5671e4'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'c890a458-f678-40db-a300-04d97255e6a0'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217903732-aw4mqx02@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
[Browser warning] Cookie not set yet, waiting additional time...
[Test] About to click logout button
[Request] POST http://localhost:3000/api/guest-auth/logout
[Test] Clicked logout button, waiting for navigation...
[Response] 200 http://localhost:3000/api/guest-auth/logout - (could not read body)
  âœ“  13 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:577:7 â€º Guest Authentication â€º should complete logout flow (13.9s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217917638-6ax8rv10@example.com'[39m,
  id: [32m'c9fe2481-78ef-42ed-9fc3-61a974137022'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'dcaa833e-7041-4f30-abe7-7f59fc06bbd2'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217917638-6ax8rv10@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“  14 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:695:7 â€º Guest Authentication â€º should persist authentication across page refreshes (15.4s)
[Worker 4] Created test guest: {
  email: [32m'test-w4-1771217933037-w0roc42o@example.com'[39m,
  id: [32m'96b15df4-a681-4bc3-a7df-d68c70b91dd8'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'7df9fde1-34ab-415d-b17c-0999ed4727d4'[39m
}
[Worker 4] âœ… Verified guest exists: {
  email: [32m'test-w4-1771217933037-w0roc42o@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ˜  15 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:742:7 â€º Guest Authentication â€º should switch between authentication tabs (19.9s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[Worker 5] Created test guest: {
  email: [32m'test-w5-1771217953605-msfmlnv5@example.com'[39m,
  id: [32m'a15c3d6f-9fa4-4d88-a2c4-bac4848ceada'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'b2d960db-7d64-4d55-864c-f3d18a21973c'[39m
}
[Worker 5] âœ… Verified guest exists: {
  email: [32m'test-w5-1771217953605-msfmlnv5@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ˜  16 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:742:7 â€º Guest Authentication â€º should switch between authentication tabs (retry #1) (20.0s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
[Worker 6] Created test guest: {
  email: [32m'test-w6-1771217974606-q1ja8kzt@example.com'[39m,
  id: [32m'4dbfe05a-85a5-4621-888f-432c02586c7c'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'81a543c3-2ec2-4a0c-91dd-78a3cd9b190c'[39m
}
[Worker 6] âœ… Verified guest exists: {
  email: [32m'test-w6-1771217974606-q1ja8kzt@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
  âœ“  17 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:785:7 â€º Guest Authentication â€º should handle authentication errors gracefully (11.7s)
[Worker 6] Created test guest: {
  email: [32m'test-w6-1771217986562-9wlxihly@example.com'[39m,
  id: [32m'7eda297b-ef3e-48ff-8d15-4d2f775ec090'[39m,
  authMethod: [32m'email_matching'[39m,
  groupId: [32m'82e1868d-46b3-42aa-a04b-0ba8e17c7c6e'[39m
}
[Worker 6] âœ… Verified guest exists: {
  email: [32m'test-w6-1771217986562-9wlxihly@example.com'[39m,
  authMethod: [32m'email_matching'[39m
}
Audit log query result: {
  found: [33m0[39m,
  guestId: [32m'7eda297b-ef3e-48ff-8d15-4d2f775ec090'[39m,
  error: [90mundefined[39m
}
âš ï¸  No audit logs found - migration 053 may not be applied to E2E database
   This is not a critical failure - audit logging is a nice-to-have feature
  âœ“  18 [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:842:7 â€º Guest Authentication â€º should log authentication events in audit log (16.9s)

ðŸ§¹ E2E Global Teardown Starting...

ðŸ—‘ï¸  Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸ”“ Keeping authentication state for debugging...
   Auth files preserved in .auth/ directory
   Run "rm -rf .auth" to clean up manually

ðŸ“Š Execution Summary:
   Duration: 2.08s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



  1) [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:157:7 â€º Guest Authentication â€º should successfully authenticate with email matching 

    Error: Authentication failed: 

      199 |       if (!page.url().includes('/guest/dashboard')) {
      200 |         const errorMessage = await page.locator('[role="alert"]').textContent().catch(() => 'No error message');
    > 201 |         throw new Error(`Authentication failed: ${errorMessage}`);
          |               ^
      202 |       }
      203 |     } catch (error) {
      204 |       console.log('=== Navigation failed, dumping console logs ===');
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:201:15

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: Authentication failed: 

      199 |       if (!page.url().includes('/guest/dashboard')) {
      200 |         const errorMessage = await page.locator('[role="alert"]').textContent().catch(() => 'No error message');
    > 201 |         throw new Error(`Authentication failed: ${errorMessage}`);
          |               ^
      202 |       }
      203 |     } catch (error) {
      204 |       console.log('=== Navigation failed, dumping console logs ===');
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:201:15

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/auth-guestAuth-Guest-Authe-1ea91-nticate-with-email-matching-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  2) [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:269:7 â€º Guest Authentication â€º should create session cookie on successful authentication 

    Error: Authentication failed: 

      287 |       if (!page.url().includes('/guest/dashboard')) {
      288 |         const errorMessage = await page.locator('[role="alert"]').textContent().catch(() => 'No error message');
    > 289 |         throw new Error(`Authentication failed: ${errorMessage}`);
          |               ^
      290 |       }
      291 |     } catch (error) {
      292 |       console.log('=== Current URL ===', page.url());
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:289:15

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: Authentication failed: 

      287 |       if (!page.url().includes('/guest/dashboard')) {
      288 |         const errorMessage = await page.locator('[role="alert"]').textContent().catch(() => 'No error message');
    > 289 |         throw new Error(`Authentication failed: ${errorMessage}`);
          |               ^
      290 |       }
      291 |     } catch (error) {
      292 |       console.log('=== Current URL ===', page.url());
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:289:15

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/auth-guestAuth-Guest-Authe-8c77d-n-successful-authentication-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3) [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:742:7 â€º Guest Authentication â€º should switch between authentication tabs 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoHaveValue[2m([22m[32mexpected[39m[2m)[22m failed

    Locator:  locator('#email-matching-input')
    Expected: [32m""[39m
    Received: [31m"test@example.com"[39m
    Timeout:  10000ms

    Call log:
    [2m  - Expect "toHaveValue" with timeout 10000ms[22m
    [2m  - waiting for locator('#email-matching-input')[22m
    [2m    14 Ã— locator resolved to <input required="" type="email" name="email" aria-required="true" aria-invalid="false" id="email-matching-input" placeholder="your.email@example.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-100 disabled:cursor-not-allowed"/>[22m
    [2m       - unexpected value "test@example.com"[22m


      776 |     await expect(page.locator('#email-matching-input')).toBeVisible();
      777 |     const emailInput = page.locator('#email-matching-input');
    > 778 |     await expect(emailInput).toHaveValue('');
          |                              ^
      779 |   });
      780 |
      781 |   // ============================================================================
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:778:30

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoHaveValue[2m([22m[32mexpected[39m[2m)[22m failed

    Locator:  locator('#email-matching-input')
    Expected: [32m""[39m
    Received: [31m"test@example.com"[39m
    Timeout:  10000ms

    Call log:
    [2m  - Expect "toHaveValue" with timeout 10000ms[22m
    [2m  - waiting for locator('#email-matching-input')[22m
    [2m    14 Ã— locator resolved to <input required="" type="email" name="email" aria-required="true" aria-invalid="false" id="email-matching-input" placeholder="your.email@example.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-gray-100 disabled:cursor-not-allowed"/>[22m
    [2m       - unexpected value "test@example.com"[22m


      776 |     await expect(page.locator('#email-matching-input')).toBeVisible();
      777 |     const emailInput = page.locator('#email-matching-input');
    > 778 |     await expect(emailInput).toHaveValue('');
          |                              ^
      779 |   });
      780 |
      781 |   // ============================================================================
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/auth/guestAuth.spec.ts:778:30

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/auth-guestAuth-Guest-Authe-942a7-between-authentication-tabs-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3 failed
    [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:157:7 â€º Guest Authentication â€º should successfully authenticate with email matching 
    [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:269:7 â€º Guest Authentication â€º should create session cookie on successful authentication 
    [chromium] â€º __tests__/e2e/auth/guestAuth.spec.ts:742:7 â€º Guest Authentication â€º should switch between authentication tabs 
  1 skipped
  11 passed (3.9m)

[36m  Serving HTML report at http://localhost:60290. Press Ctrl+C to quit.[39m
