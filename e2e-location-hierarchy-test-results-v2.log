
> destination-wedding-platform@0.1.0 test:e2e
> playwright test --grep Location Hierarchy Management

[dotenv@17.2.4] injecting env (25) from .env.e2e -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
[2m[WebServer] [22m
[2m[WebServer] [22m> destination-wedding-platform@0.1.0 dev
[2m[WebServer] [22m> next dev --webpack
[2m[WebServer] [22m
[2m[WebServer] [22m[1m[38;2;173;127;168mâ–² Next.js 16.1.1[39m[22m (webpack)
[2m[WebServer] [22m- Local:         http://localhost:3000
[2m[WebServer] [22m- Network:       http://192.168.7.243:3000
[2m[WebServer] [22m- Environments: .env.test
[2m[WebServer] [22m
[2m[WebServer] [22m[32m[1mâœ“[22m[39m Starting...
[2m[WebServer] [22m[33m[1mâš [22m[39m The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
[2m[WebServer] [22mðŸš€ Initializing application services...
[2m[WebServer] [22mâœ… B2 client initialized successfully {
[2m[WebServer] [22m  endpoint: [32m'https://s3.us-west-004.backblazeb2.com'[39m,
[2m[WebServer] [22m  region: [32m'us-west-004'[39m,
[2m[WebServer] [22m  bucket: [32m'test-bucket'[39m,
[2m[WebServer] [22m  cdnDomain: [32m'https://test-cdn.example.com'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22mâœ… Application services initialized successfully
[2m[WebServer] [22m[32m[1mâœ“[22m[39m Ready in 2.1s

ðŸš€ E2E Global Setup Starting...

ðŸ“Š Verifying test database connection...
[2m[WebServer] [22m GET / [32m200[39m in 2.2s[2m (compile: 1873ms, proxy.ts: 159ms, render: 171ms)[22m
âœ… Test database connected

ðŸ§¹ Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸŒ Verifying Next.js server...
âœ… Next.js server is running

ðŸ” Setting up admin authentication...
[2m[WebServer] [22m GET / [32m200[39m in 54ms[2m (compile: 4ms, proxy.ts: 22ms, render: 28ms)[22m
   Warning: Could not ensure admin user exists: Failed to create auth user: A user with this email address has already been registered
   Continuing with setup - login may fail if user does not exist
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Injecting session cookies...
   âœ… Session cookies set (3 cookies)
   Navigating to http://localhost:3000/admin...
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /admin [32m200[39m in 1619ms[2m (compile: 912ms, proxy.ts: 590ms, render: 116ms)[22m
   âœ… Page loaded successfully
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   Logged in as: admin@example.com
   Auth state saved to: .auth/admin.json
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 4 tests using 4 workers

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1149ms[2m (compile: 480ms, proxy.ts: 426ms, render: 243ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1238ms[2m (compile: 467ms, proxy.ts: 505ms, render: 266ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1167ms[2m (compile: 352ms, proxy.ts: 548ms, render: 267ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1239ms[2m (compile: 520ms, proxy.ts: 453ms, render: 267ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1182ms[2m (compile: 481ms, proxy.ts: 504ms, render: 197ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1216ms[2m (compile: 297ms, proxy.ts: 688ms, render: 230ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1249ms[2m (compile: 436ms, proxy.ts: 549ms, render: 264ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1343ms[2m (compile: 496ms, proxy.ts: 490ms, render: 358ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
  âœ˜  3 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:445:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations (5.6s)
[2m[WebServer] [22m POST /api/admin/locations [32m201[39m in 605ms[2m (compile: 24ms, proxy.ts: 350ms, render: 232ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 522ms[2m (compile: 2ms, proxy.ts: 326ms, render: 193ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/api/admin/locations/route.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/api/admin/locations/route.js'[39m,
[2m[WebServer] [22m  page: [32m'/api/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 2.1s[2m (compile: 1476ms, proxy.ts: 338ms, render: 274ms)[22m
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 1532ms[2m (compile: 961ms, proxy.ts: 533ms, render: 39ms)[22m
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 1533ms[2m (compile: 960ms, proxy.ts: 534ms, render: 40ms)[22m
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 1533ms[2m (compile: 956ms, proxy.ts: 537ms, render: 40ms)[22m
[2m[WebServer] [22m POST /api/admin/locations [31m500[39m in 1833ms[2m (compile: 1306ms, proxy.ts: 480ms, render: 47ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 542ms[2m (compile: 38ms, proxy.ts: 499ms, render: 6ms)[22m
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 635ms[2m (compile: 90ms, proxy.ts: 530ms, render: 15ms)[22m
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 635ms[2m (compile: 88ms, proxy.ts: 533ms, render: 15ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 427ms[2m (compile: 28ms, proxy.ts: 388ms, render: 12ms)[22m
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 515ms[2m (compile: 65ms, proxy.ts: 444ms, render: 6ms)[22m
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 743ms[2m (compile: 26ms, proxy.ts: 710ms, render: 6ms)[22m
  âœ˜  2 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure (14.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 518ms[2m (compile: 42ms, proxy.ts: 466ms, render: 9ms)[22m
  âœ˜  4 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:486:7 â€º Location Hierarchy Management â€º should delete location and validate required fields (20.5s)
  âœ˜  1 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:371:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy (20.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 408ms[2m (compile: 20ms, proxy.ts: 382ms, render: 6ms)[22m
[2m[WebServer] [22m[31m[1mâ¨¯[22m[39m Error: ENOENT: no such file or directory, open '/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'
[2m[WebServer] [22m    at [3mignore-listed frames[23m {
[2m[WebServer] [22m  errno: [33m-2[39m,
[2m[WebServer] [22m  code: [32m'ENOENT'[39m,
[2m[WebServer] [22m  syscall: [32m'open'[39m,
[2m[WebServer] [22m  path: [32m'/Users/jaron/Desktop/wedding-platform-v2/.next/dev/server/app/admin/locations/page.js'[39m,
[2m[WebServer] [22m  page: [32m'/admin/locations'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [31m500[39m in 473ms[2m (compile: 30ms, proxy.ts: 434ms, render: 9ms)[22m
  âœ˜  5 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:445:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations (retry #1) (19.5s)
  âœ˜  6 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure (retry #1) (17.1s)
  âœ˜  7 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:486:7 â€º Location Hierarchy Management â€º should delete location and validate required fields (retry #1) (17.2s)
  âœ˜  8 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:371:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy (retry #1) (17.1s)

ðŸ§¹ E2E Global Teardown Starting...

ðŸ—‘ï¸  Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸ”“ Removing authentication state...
   Removed: .auth/admin.json
   Removed empty .auth directory
âœ… Authentication state removed

ðŸ“Š Execution Summary:
   Duration: 2.32s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



  1) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure 

    TimeoutError: page.waitForResponse: Timeout 5000ms exceeded while waiting for event "response"

      290 |     // Wait for the tree to reload (the component calls loadLocations after creation)
      291 |     // We need to wait for the GET request that reloads the locations
    > 292 |     await page.waitForResponse(
          |                ^
      293 |       response => response.url().includes('/api/admin/locations') && response.request().method() === 'GET',
      294 |       { timeout: 5000 }
      295 |     );
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:292:16

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.click: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for getByTestId('add-location-button')[22m


      231 |     
      232 |     // Create country
    > 233 |     await addButton.click();
          |                     ^
      234 |     await expect(nameInput).toBeVisible();
      235 |     await nameInput.fill(countryName);
      236 |     
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:233:21

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  2) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:371:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy 

    TimeoutError: page.waitForResponse: Timeout 15000ms exceeded while waiting for event "response"

      385 |     
      386 |     // Set up API response listener BEFORE clicking
    > 387 |     const create1Promise = page.waitForResponse(
          |                                 ^
      388 |       response => response.url().includes('/api/admin/locations') && response.request().method() === 'POST'
      389 |     );
      390 |     
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:387:33

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.click: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('button:has-text("Add Location"), button:has-text("Add New")').first()[22m


      379 |     
      380 |     // Create first location
    > 381 |     await addButton.click();
          |                     ^
      382 |     await page.waitForTimeout(500);
      383 |     await nameInput.fill(location1Name);
      384 |     await waitForButtonEnabled(page, 'button[type="submit"]');
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:381:21

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:445:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"[7mtru[27me"[39m
    Received: [31m"[7mfals[27me"[39m

      456 |       // Verify it's now expanded
      457 |       const isExpanded = await firstCollapsedButton.getAttribute('aria-expanded');
    > 458 |       expect(isExpanded).toBe('true');
          |                          ^
      459 |       
      460 |       // Click again to collapse
      461 |       await firstCollapsedButton.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:458:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.getAttribute: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('button[aria-expanded="false"]').first()[22m


      455 |       
      456 |       // Verify it's now expanded
    > 457 |       const isExpanded = await firstCollapsedButton.getAttribute('aria-expanded');
          |                                                     ^
      458 |       expect(isExpanded).toBe('true');
      459 |       
      460 |       // Click again to collapse
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:457:53

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  4) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:486:7 â€º Location Hierarchy Management â€º should delete location and validate required fields 

    TimeoutError: page.waitForResponse: Timeout 15000ms exceeded while waiting for event "response"

      499 |     
      500 |     // Set up API response listener BEFORE clicking
    > 501 |     const createParentPromise = page.waitForResponse(
          |                                      ^
      502 |       response => response.url().includes('/api/admin/locations') && response.request().method() === 'POST'
      503 |     );
      504 |     
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:501:38

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.click: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('button:has-text("Add Location"), button:has-text("Add New")').first()[22m


      494 |     
      495 |     // Create parent
    > 496 |     await addButton.click();
          |                     ^
      497 |     await page.waitForTimeout(500);
      498 |     await nameInput.fill(parentName);
      499 |     
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:496:21

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  4 failed
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:371:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:445:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:486:7 â€º Location Hierarchy Management â€º should delete location and validate required fields 

[36m  Serving HTML report at http://localhost:9323. Press Ctrl+C to quit.[39m
