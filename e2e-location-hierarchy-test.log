
> destination-wedding-platform@0.1.0 test:e2e
> playwright test __tests__/e2e/admin/dataManagement.spec.ts --grep=Location Hierarchy

[dotenv@17.2.4] injecting env (25) from .env.e2e -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com
[2m[WebServer] [22m
[2m[WebServer] [22m> destination-wedding-platform@0.1.0 dev
[2m[WebServer] [22m> next dev --webpack
[2m[WebServer] [22m
[2m[WebServer] [22m[1m[38;2;173;127;168mâ–² Next.js 16.1.1[39m[22m (webpack)
[2m[WebServer] [22m- Local:         http://localhost:3000
[2m[WebServer] [22m- Network:       http://192.168.180.84:3000
[2m[WebServer] [22m- Environments: .env.test
[2m[WebServer] [22m
[2m[WebServer] [22m[32m[1mâœ“[22m[39m Starting...
[2m[WebServer] [22m[33m[1mâš [22m[39m The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
[2m[WebServer] [22mðŸš€ Initializing application services...
[2m[WebServer] [22mâœ… B2 client initialized successfully {
[2m[WebServer] [22m  endpoint: [32m'https://s3.us-west-004.backblazeb2.com'[39m,
[2m[WebServer] [22m  region: [32m'us-west-004'[39m,
[2m[WebServer] [22m  bucket: [32m'test-bucket'[39m,
[2m[WebServer] [22m  cdnDomain: [32m'https://test-cdn.example.com'[39m
[2m[WebServer] [22m}
[2m[WebServer] [22mâœ… Application services initialized successfully
[2m[WebServer] [22m[32m[1mâœ“[22m[39m Ready in 2.3s

ðŸš€ E2E Global Setup Starting...

ðŸ“Š Verifying test database connection...
[2m[WebServer] [22m GET / [32m200[39m in 2.5s[2m (compile: 2.1s, proxy.ts: 198ms, render: 175ms)[22m
âœ… Test database connected

ðŸ§¹ Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸŒ Verifying Next.js server...
âœ… Next.js server is running

ðŸ” Setting up admin authentication...
[2m[WebServer] [22m GET / [32m200[39m in 49ms[2m (compile: 4ms, proxy.ts: 20ms, render: 25ms)[22m
   Warning: Could not ensure admin user exists: Failed to create auth user: A user with this email address has already been registered
   Continuing with setup - login may fail if user does not exist
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Injecting session cookies...
   âœ… Session cookies set (3 cookies)
   Navigating to http://localhost:3000/admin...
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /admin [32m200[39m in 1559ms[2m (compile: 869ms, proxy.ts: 569ms, render: 121ms)[22m
   âœ… Page loaded successfully
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
   Current URL: http://localhost:3000/admin
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
   âœ… Admin UI is visible
   Logged in as: admin@example.com
   Auth state saved to: .auth/admin.json
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 4 tests using 4 workers

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1056ms[2m (compile: 325ms, proxy.ts: 472ms, render: 258ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1020ms[2m (compile: 154ms, proxy.ts: 601ms, render: 266ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1002ms[2m (compile: 401ms, proxy.ts: 330ms, render: 271ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 1033ms[2m (compile: 443ms, proxy.ts: 312ms, render: 278ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1072ms[2m (compile: 413ms, proxy.ts: 468ms, render: 191ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1097ms[2m (compile: 410ms, proxy.ts: 470ms, render: 216ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1121ms[2m (compile: 414ms, proxy.ts: 466ms, render: 241ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 1155ms[2m (compile: 424ms, proxy.ts: 456ms, render: 274ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m POST /api/admin/locations [32m201[39m in 409ms[2m (compile: 5ms, proxy.ts: 279ms, render: 126ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
  âœ˜  2 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:368:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations (4.6s)
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 434ms[2m (compile: 1574Âµs, proxy.ts: 228ms, render: 204ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  write to custom object with { processEnv: myObject }
[2m[WebServer] [22m POST /api/admin/locations [32m201[39m in 481ms[2m (compile: 1379Âµs, proxy.ts: 226ms, render: 253ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 364ms[2m (compile: 2ms, proxy.ts: 249ms, render: 114ms)[22m
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 395ms[2m (compile: 47ms, proxy.ts: 230ms, render: 118ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 389ms[2m (compile: 1994Âµs, proxy.ts: 220ms, render: 167ms)[22m
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 554ms[2m (compile: 64ms, proxy.ts: 262ms, render: 227ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 610ms[2m (compile: 55ms, proxy.ts: 385ms, render: 170ms)[22m
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 499ms[2m (compile: 3ms, proxy.ts: 376ms, render: 120ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
  âœ˜  5 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:368:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations (retry #1) (2.5s)
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 376ms[2m (compile: 1957Âµs, proxy.ts: 262ms, render: 112ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 394ms[2m (compile: 1625Âµs, proxy.ts: 270ms, render: 123ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 559ms[2m (compile: 4ms, proxy.ts: 268ms, render: 288ms)[22m
  âœ˜  3 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:311:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy (21.6s)
  âœ˜  4 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:400:7 â€º Location Hierarchy Management â€º should delete location and validate required fields (21.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 407ms[2m (compile: 4ms, proxy.ts: 328ms, render: 74ms)[22m
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 410ms[2m (compile: 5ms, proxy.ts: 327ms, render: 78ms)[22m
  âœ˜  1 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure (23.8s)
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 384ms[2m (compile: 5ms, proxy.ts: 253ms, render: 126ms)[22m
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 410ms[2m (compile: 5ms, proxy.ts: 268ms, render: 137ms)[22m
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  specify custom .env file path with { path: '/custom/path/.env' }
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m[LocationPage] Recalculating formFields: {
[2m[WebServer] [22m  locationsCount: [33m0[39m,
[2m[WebServer] [22m  flatLocationsCount: [33m0[39m,
[2m[WebServer] [22m  parentOptionsCount: [33m1[39m,
[2m[WebServer] [22m  locationNames: [],
[2m[WebServer] [22m  editingLocationId: [90mundefined[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /admin/locations [32m200[39m in 294ms[2m (compile: 4ms, proxy.ts: 232ms, render: 58ms)[22m
[2m[WebServer] [22m[Middleware] User authenticated: e7f5ae65-376e-4d05-a18c-10a91295727a
[2m[WebServer] [22m[Middleware] Admin user data query result: { userData: { role: 'owner', status: 'active' }, userError: null }
[2m[WebServer] [22m[Middleware] Access granted for admin role: owner
[2m[WebServer] [22m GET /api/admin/locations [32m200[39m in 491ms[2m (compile: 5ms, proxy.ts: 365ms, render: 122ms)[22m
  âœ˜  6 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:311:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy (retry #1) (19.1s)
  âœ˜  7 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:400:7 â€º Location Hierarchy Management â€º should delete location and validate required fields (retry #1) (19.3s)
  âœ˜  8 [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure (retry #1) (17.2s)

ðŸ§¹ E2E Global Teardown Starting...

ðŸ—‘ï¸  Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸ”“ Removing authentication state...
   Removed: .auth/admin.json
   Removed empty .auth directory
âœ… Authentication state removed

ðŸ“Š Execution Summary:
   Duration: 1.47s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



  1) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('div.mt-6.bg-white.rounded-lg.shadow').locator('text=Test Region 1770689527530')
    Expected: visible
    Timeout: 15000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 15000ms[22m
    [2m  - waiting for locator('div.mt-6.bg-white.rounded-lg.shadow').locator('text=Test Region 1770689527530')[22m


      273 |     // Wait for the region to appear in the tree (now visible after expanding)
      274 |     const regionRow = treeContainer.locator(`text=${regionName}`);
    > 275 |     await expect(regionRow).toBeVisible({ timeout: 15000 });
          |                             ^
      276 |     
      277 |     // Create city
      278 |     await addButton.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:275:29

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('div.mt-6.bg-white.rounded-lg.shadow').locator('text=Test Country 1770689549905')
    Expected: visible
    Timeout: 15000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 15000ms[22m
    [2m  - waiting for locator('div.mt-6.bg-white.rounded-lg.shadow').locator('text=Test Country 1770689549905')[22m


      243 |     const treeContainer = page.locator('div.mt-6.bg-white.rounded-lg.shadow');
      244 |     const countryRow = treeContainer.locator(`text=${countryName}`);
    > 245 |     await expect(countryRow).toBeVisible({ timeout: 15000 });
          |                              ^
      246 |     
      247 |     // Create region
      248 |     await addButton.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:245:30

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-3802d-archical-location-structure-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  2) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:311:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy 

    TimeoutError: locator.selectOption: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('select[name="parentLocationId"], select[name="parent"]').first()[22m
    [2m    - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m  - attempting select option action[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m    - waiting 20ms[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m    - waiting for element to be visible and enabled[22m
    [2m    - did not find some options[22m
    [2m  - retrying select option action[22m
    [2m    - waiting 500ms[22m
    [2m    - waiting for" http://localhost:3000/admin/locations" navigation to finish...[22m
    [2m    - navigated to "http://localhost:3000/admin/locations"[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m    - element was detached from the DOM, retrying[22m
    [2m      - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m    - attempting select option action[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 20ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 500ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 500ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 500ms[22m
    [2m    21 Ã— waiting for element to be visible and enabled[22m
    [2m       - did not find some options[22m
    [2m     - retrying select option action[22m
    [2m       - waiting 500ms[22m


      334 |       // Wait for dropdown to populate with location1
      335 |       await waitForDropdownOptions(page, 'select[name="parentLocationId"], select[name="parent"]', 1);
    > 336 |       await parentSelect.selectOption({ label: location1Name });
          |                          ^
      337 |     }
      338 |     
      339 |     await waitForButtonEnabled(page, 'button[type="submit"]');
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:336:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.selectOption: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('select[name="parentLocationId"], select[name="parent"]').first()[22m
    [2m    - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m  - attempting select option action[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m    - waiting 20ms[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m    30 Ã— waiting for element to be visible and enabled[22m
    [2m       - did not find some options[22m
    [2m     - retrying select option action[22m
    [2m       - waiting 500ms[22m


      334 |       // Wait for dropdown to populate with location1
      335 |       await waitForDropdownOptions(page, 'select[name="parentLocationId"], select[name="parent"]', 1);
    > 336 |       await parentSelect.selectOption({ label: location1Name });
          |                          ^
      337 |     }
      338 |     
      339 |     await waitForButtonEnabled(page, 'button[type="submit"]');
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:336:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-bb845-rence-in-location-hierarchy-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:368:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: not [32m"true"[39m

      378 |       
      379 |       const newExpanded = await firstExpandButton.getAttribute('aria-expanded');
    > 380 |       expect(newExpanded).not.toBe(initialExpanded);
          |                               ^
      381 |     }
      382 |     
      383 |     // Test search
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:380:31

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: not [32m"true"[39m

      378 |       
      379 |       const newExpanded = await firstExpandButton.getAttribute('aria-expanded');
    > 380 |       expect(newExpanded).not.toBe(initialExpanded);
          |                               ^
      381 |     }
      382 |     
      383 |     // Test search
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:380:31

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-0ff6c-e-tree-and-search-locations-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  4) [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:400:7 â€º Location Hierarchy Management â€º should delete location and validate required fields 

    TimeoutError: locator.selectOption: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('select[name="parentLocationId"], select[name="parent"]').first()[22m
    [2m    - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m  - attempting select option action[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m    - waiting 20ms[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m    - waiting for element to be visible and enabled[22m
    [2m    - did not find some options[22m
    [2m  - retrying select option action[22m
    [2m    - waiting 500ms[22m
    [2m    - waiting for" http://localhost:3000/admin/locations" navigation to finish...[22m
    [2m    - navigated to "http://localhost:3000/admin/locations"[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m    - element was detached from the DOM, retrying[22m
    [2m      - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m    - attempting select option action[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 20ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 500ms[22m
    [2m      - waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 500ms[22m
    [2m    23 Ã— waiting for element to be visible and enabled[22m
    [2m       - did not find some options[22m
    [2m     - retrying select option action[22m
    [2m       - waiting 500ms[22m


      420 |     
      421 |     if (await parentSelect.count() > 0) {
    > 422 |       await parentSelect.selectOption({ label: parentName });
          |                          ^
      423 |     }
      424 |     
      425 |     await createButton.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:422:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    TimeoutError: locator.selectOption: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('select[name="parentLocationId"], select[name="parent"]').first()[22m
    [2m    - locator resolved to <select aria-invalid="false" name="parentLocationId" id="field-parentLocationId" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300">â€¦</select>[22m
    [2m  - attempting select option action[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m    - waiting 20ms[22m
    [2m    2 Ã— waiting for element to be visible and enabled[22m
    [2m      - did not find some options[22m
    [2m    - retrying select option action[22m
    [2m      - waiting 100ms[22m
    [2m    30 Ã— waiting for element to be visible and enabled[22m
    [2m       - did not find some options[22m
    [2m     - retrying select option action[22m
    [2m       - waiting 500ms[22m


      420 |     
      421 |     if (await parentSelect.count() > 0) {
    > 422 |       await parentSelect.selectOption({ label: parentName });
          |                          ^
      423 |     }
      424 |     
      425 |     await createButton.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/dataManagement.spec.ts:422:26

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-dataManagement-Locat-4944e-nd-validate-required-fields-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  4 failed
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:220:7 â€º Location Hierarchy Management â€º should create hierarchical location structure 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:311:7 â€º Location Hierarchy Management â€º should prevent circular reference in location hierarchy 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:368:7 â€º Location Hierarchy Management â€º should expand/collapse tree and search locations 
    [chromium] â€º __tests__/e2e/admin/dataManagement.spec.ts:400:7 â€º Location Hierarchy Management â€º should delete location and validate required fields 

[36m  Serving HTML report at http://localhost:50799. Press Ctrl+C to quit.[39m
