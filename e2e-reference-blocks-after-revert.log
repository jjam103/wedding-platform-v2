
> destination-wedding-platform@0.1.0 test:e2e
> playwright test __tests__/e2e/admin/referenceBlocks.spec.ts

[dotenv@17.2.4] injecting env (29) from .env.e2e -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops

ðŸš€ E2E Global Setup Starting...

ðŸ“Š Verifying test database connection...
âœ… Test database connected

ðŸ§¹ Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸŒ Verifying Next.js server...
âœ… Next.js server is running

ðŸ” Setting up admin authentication...
   Admin user already exists: admin@example.com (role: host)
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Creating storage state from API session...
   âœ… Storage state created from API session
   Auth state saved to: .auth/admin.json
   Verifying authentication...
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   âœ… Authentication verified
   Logged in as: admin@example.com
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 8 tests using 1 worker

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âš™ï¸  suppress all logs with { quiet: true }
âœ“ Created test data: {
  eventId: [32m'29f044ac-197b-42ac-9f8e-f9a51145bb39'[39m,
  activityId: [32m'9f6060cc-55ec-44ef-b3eb-b5528a66144a'[39m,
  contentPageId: [32m'2e9f3b83-e4c2-4ac6-a140-0af8705b7f52'[39m,
  sectionId: [32m'9af5c09b-57a5-486d-bfc4-1e07d1b56a01'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 9af5c09b-57a5-486d-bfc4-1e07d1b56a01
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
âœ“ SimpleReferenceSelector loaded
API Response: {
  "success": true,
  "data": {
    "events": [
      {
        "id": "29f044ac-197b-42ac-9f8e-f9a51145bb39",
        "name": "Test Event for References",
        "description": "Test event for reference blocks",
        "eventType": "ceremony",
        "locationId": null,
        "startDate": "2026-02-22T01:57:09.361+00:00",
        "endDate": null,
        "rsvpRequired": true,
        "rsvpDeadline": null,
        "visibility": [],
        "status": "published",
        "createdAt": "2026-02-15T01:57:09.716458+00:00",
        "updatedAt": "2026-02-15T01:57:09.716458+00:00",
        "contentSections": [],
        "slug": "test-event-ref-1771120629360-yogkjc",
        "deletedAt": null,
        "deletedBy": null
      }
    ],
    "total": 1,
    "page": 1,
    "pageSize": 50,
    "totalPages": 1
  }
}
âœ“ Reference items rendered
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  1 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:266:7 â€º Reference Blocks Management â€º should create event reference block (39.5s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'49d830dc-772f-40be-91eb-a9f2d689a89c'[39m,
  activityId: [32m'793d9eb5-aa77-4036-a62d-bb1d6ceb1231'[39m,
  contentPageId: [32m'edcaf98d-f7f1-4aa8-b7f9-b4f57ccefcf8'[39m,
  sectionId: [32m'8bad3a0f-ff06-4279-a6a0-affa8b112599'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ“ Test content page is visible and editable in UI
âœ… Comprehensive cleanup complete
  âœ˜  2 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:266:7 â€º Reference Blocks Management â€º should create event reference block (retry #1) (34.5s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ” prevent committing .env to code: https://dotenvx.com/precommit
âœ“ Created test data: {
  eventId: [32m'8275180f-4388-4565-9fdf-ea3a769cec79'[39m,
  activityId: [32m'c211ca28-d596-4833-bb2c-f3fe5edd1b95'[39m,
  contentPageId: [32m'709ac0d0-6565-46fa-b672-a860bbbfb138'[39m,
  sectionId: [32m'82b74991-23a6-4e65-93e7-4b0e27e0fe03'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 82b74991-23a6-4e65-93e7-4b0e27e0fe03
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  3 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:394:7 â€º Reference Blocks Management â€º should create activity reference block (17.7s)
âœ“ Created test data: {
  eventId: [32m'f52ad098-3d02-4615-a0da-79fa29ba9094'[39m,
  activityId: [32m'1aae8bc6-b1c9-403c-8f77-d204f0cf6242'[39m,
  contentPageId: [32m'ff1cd7ad-d936-4075-b582-17ac96f09886'[39m,
  sectionId: [32m'80a1b5a3-adee-4f4c-82d1-c1b23ecab9fd'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 80a1b5a3-adee-4f4c-82d1-c1b23ecab9fd
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  4 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:442:7 â€º Reference Blocks Management â€º should create multiple reference types in one section (17.6s)
âœ“ Created test data: {
  eventId: [32m'029aec28-cdc5-4802-90c1-61c8a2615c91'[39m,
  activityId: [32m'27ed74d4-70a9-4ec9-a823-04cce4608a4c'[39m,
  contentPageId: [32m'0e02c936-3e9b-4593-9664-091329e073de'[39m,
  sectionId: [32m'27e12253-ba33-4afd-b5ec-43bec946bfdb'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Found 1 column(s) for section 27e12253-ba33-4afd-b5ec-43bec946bfdb
âœ“ Using column ID: 7fe5f499-7a19-4a75-8a69-92e524560bb4
âœ“ Reference added to column: {
  "content_type": "references",
  "content_data": {
    "references": [
      {
        "id": "029aec28-cdc5-4802-90c1-61c8a2615c91",
        "name": "Test Event for References",
        "type": "event",
        "metadata": {}
      }
    ]
  }
}
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 27e12253-ba33-4afd-b5ec-43bec946bfdb
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
âœ“ Section editor opened
âœ“ Reference preview visible
âœ“ Remove button clicked
âœ“ Database verification successful on attempt 1
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  5 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:515:7 â€º Reference Blocks Management â€º should remove reference from section (18.8s)
âœ“ Created test data: {
  eventId: [32m'61b0f249-7b7b-4a64-b368-6ea370925e68'[39m,
  activityId: [32m'e3a7cbe6-ec92-4426-abca-68498a53f56f'[39m,
  contentPageId: [32m'24336d59-9ed9-4876-b251-5b2232bc6557'[39m,
  sectionId: [32m'43f601b5-2f39-458a-8bd2-a5e3d549bef3'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 43f601b5-2f39-458a-8bd2-a5e3d549bef3
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  6 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:652:7 â€º Reference Blocks Management â€º should filter references by type in picker (15.7s)
âœ“ Created test data: {
  eventId: [32m'8cce85dc-ef13-4601-ae8f-d6c857ca417d'[39m,
  activityId: [32m'02f6c823-ebcf-4c0f-aa61-284524dc12ad'[39m,
  contentPageId: [32m'1a028582-ba5f-440b-bbc3-e448bb71de33'[39m,
  sectionId: [32m'5d31c3fc-bb50-49d1-9560-3c275dbd4b0b'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Created circular reference scenario: Page A â†’ Page B
âœ“ Content Page B card visible
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  7 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:691:7 â€º Reference Blocks Management â€º should prevent circular references (21.0s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'667cfcd3-aa20-45e3-a3c8-377ec10ce2b0'[39m,
  activityId: [32m'573bef13-26e0-4712-9ef0-33107ac8982e'[39m,
  contentPageId: [32m'57e821be-4cfc-4a2c-acbd-74318f7033a5'[39m,
  sectionId: [32m'03dd6cb2-fcab-41a2-9225-9e9d88acd001'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  8 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:691:7 â€º Reference Blocks Management â€º should prevent circular references (retry #1) (35.7s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'd292fb53-752b-4bc8-88a8-7de141c184c1'[39m,
  activityId: [32m'943015fc-c41d-492a-a8e9-5813b951532b'[39m,
  contentPageId: [32m'2ed63158-04f2-469a-94e7-a6ff0d8e6a13'[39m,
  sectionId: [32m'38433c64-2461-4ae1-b776-f686c45db61c'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 38433c64-2461-4ae1-b776-f686c45db61c
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  9 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:858:7 â€º Reference Blocks Management â€º should detect broken references (14.3s)
âœ“ Created test data: {
  eventId: [32m'62fca1c6-b2ec-47b6-80c0-e1141ec7aab2'[39m,
  activityId: [32m'df6a3616-4c8d-4bd9-bb9a-143e068cd544'[39m,
  contentPageId: [32m'500bdcc3-f051-43e0-b5d3-03c49c560ec2'[39m,
  sectionId: [32m'897796eb-f94d-422b-a20c-f9b92e169f77'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ References added to column: {
  "content_data": {
    "references": [
      {
        "id": "62fca1c6-b2ec-47b6-80c0-e1141ec7aab2",
        "name": "Test Event for References",
        "type": "event",
        "metadata": {}
      },
      {
        "id": "df6a3616-4c8d-4bd9-bb9a-143e068cd544",
        "name": "Test Activity for References",
        "type": "activity",
        "metadata": {}
      }
    ]
  }
}
âœ“ Section data: {
  "id": "897796eb-f94d-422b-a20c-f9b92e169f77",
  "page_type": "custom",
  "page_id": "500bdcc3-f051-43e0-b5d3-03c49c560ec2",
  "display_order": 0,
  "created_at": "2026-02-15T02:00:49.416107+00:00",
  "updated_at": "2026-02-15T02:00:49.416107+00:00",
  "title": null,
  "deleted_at": null,
  "deleted_by": null,
  "columns": [
    {
      "id": "454a5b28-74fe-40c9-8664-56f86440a68e",
      "created_at": "2026-02-15T02:00:49.560693+00:00",
      "deleted_at": null,
      "deleted_by": null,
      "section_id": "897796eb-f94d-422b-a20c-f9b92e169f77",
      "updated_at": "2026-02-15T02:00:52.764692+00:00",
      "content_data": {
        "references": [
          {
            "id": "62fca1c6-b2ec-47b6-80c0-e1141ec7aab2",
            "name": "Test Event for References",
            "type": "event",
            "metadata": {}
          },
          {
            "id": "df6a3616-4c8d-4bd9-bb9a-143e068cd544",
            "name": "Test Activity for References",
            "type": "activity",
            "metadata": {}
          }
        ]
      },
      "content_type": "references",
      "column_number": 1
    }
  ]
}
âœ“ Navigating to guest view: /custom/test-page-ref-1771120848673-h1ymhm
âœ“ Guest view page container loaded
âœ“ Page title visible
âœ“ References container visible
âœ“ Event reference card visible
âœ“ Activity reference card visible
âœ“ Clicked event reference card
âœ“ Event details expanded
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  10 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:891:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals (23.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ‘¥ sync secrets across teammates & machines: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'079fa3fe-5954-4a9b-b8af-586658b6c328'[39m,
  activityId: [32m'6230a7c1-365d-4226-a24e-7540b2e3d26c'[39m,
  contentPageId: [32m'b3dae155-0d5a-453c-9843-0ce474aadde3'[39m,
  sectionId: [32m'78b1bd98-b0f4-46ae-8550-4726af168187'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  11 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:891:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals (retry #1) (35.1s)

ðŸ§¹ E2E Global Teardown Starting...

ðŸ—‘ï¸  Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸ”“ Keeping authentication state for debugging...
   Auth files preserved in .auth/ directory
   Run "rm -rf .auth" to clean up manually

ðŸ“Š Execution Summary:
   Duration: 2.64s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



  1) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:266:7 â€º Reference Blocks Management â€º should create event reference block 

    Error: locator.click: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('[data-testid="reference-item-29f044ac-197b-42ac-9f8e-f9a51145bb39"]')[22m


    Call Log:
    - Timeout 20000ms exceeded while waiting on the predicate

      335 |       const referencePreview = page.locator('text=Test Event for References').first();
      336 |       await expect(referencePreview).toBeVisible({ timeout: 2000 });
    > 337 |     }).toPass({ timeout: 20000, intervals: [1000, 2000, 3000, 5000] });
          |        ^
      338 |
      339 |     // Verify reference appears in section editor
      340 |     const referencePreview = page.locator('text=Test Event for References').first();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:337:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('.space-y-4, .text-center.py-12').first()
    Expected: visible
    Timeout: 3000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 3000ms[22m
    [2m  - waiting for locator('.space-y-4, .text-center.py-12').first()[22m
    [2m    - waiting for" http://localhost:3000/admin/content-pages" navigation to finish...[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      250 |       
      251 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 252 |     }).toPass({ 
          |        ^
      253 |       timeout: 30000, 
      254 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      255 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:252:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-25730-reate-event-reference-block-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  2) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:691:7 â€º Reference Blocks Management â€º should prevent circular references 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('text=Test Content Page B').first().locator('..').locator('..').locator('button:has-text("Edit")').first()
    Expected: visible
    Timeout: 10000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 10000ms[22m
    [2m  - waiting for locator('text=Test Content Page B').first().locator('..').locator('..').locator('button:has-text("Edit")').first()[22m


      790 |       : editButtonBFallback;
      791 |     
    > 792 |     await expect(editButton).toBeVisible({ timeout: 10000 });
          |                              ^
      793 |     await editButton.click();
      794 |     await page.waitForTimeout(1500);
      795 |
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:792:30

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: page.goto: net::ERR_ABORTED at http://localhost:3000/admin/content-pages
    Call log:
    [2m  - navigating to "http://localhost:3000/admin/content-pages", waiting until "load"[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      250 |       
      251 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 252 |     }).toPass({ 
          |        ^
      253 |       timeout: 30000, 
      254 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      255 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:252:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:891:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoContainText[2m([22m[32mexpected[39m[2m)[22m failed

    Locator: locator('.border-2.border-sage-200').filter({ hasText: 'Test Event for References' }).first().locator('.border-t.border-sage-200').first()
    Expected substring: [32m"Test Event for References"[39m
    Timeout: 10000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toContainText" with timeout 10000ms[22m
    [2m  - waiting for locator('.border-2.border-sage-200').filter({ hasText: 'Test Event for References' }).first().locator('.border-t.border-sage-200').first()[22m
    [2m    6 Ã— locator resolved to <div class="mt-3 pt-3 border-t border-sage-200">â€¦</div>[22m
    [2m      - unexpected value "Loading details..."[22m


      1010 |
      1011 |     // Verify expanded content shows event details
    > 1012 |     await expect(expandedDetails).toContainText('Test Event for References');
           |                                   ^
      1013 |
      1014 |     // Click again to collapse
      1015 |     await eventReferenceCard.click();
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:1012:35

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('.space-y-4, .text-center.py-12').first()
    Expected: visible
    Timeout: 3000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 3000ms[22m
    [2m  - waiting for locator('.space-y-4, .text-center.py-12').first()[22m
    [2m    - waiting for" http://localhost:3000/admin/content-pages" navigation to finish...[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      250 |       
      251 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 252 |     }).toPass({ 
          |        ^
      253 |       timeout: 30000, 
      254 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      255 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:252:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3 failed
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:266:7 â€º Reference Blocks Management â€º should create event reference block 
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:691:7 â€º Reference Blocks Management â€º should prevent circular references 
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:891:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals 
  5 passed (4.9m)

[36m  Serving HTML report at http://localhost:59090. Press Ctrl+C to quit.[39m
