
> destination-wedding-platform@0.1.0 test:e2e
> playwright test __tests__/e2e/admin/referenceBlocks.spec.ts

[dotenv@17.2.4] injecting env (29) from .env.e2e -- tip: ğŸ” encrypt with Dotenvx: https://dotenvx.com

ğŸš€ E2E Global Setup Starting...

ğŸ“Š Verifying test database connection...
âœ… Test database connected

ğŸ§¹ Cleaning up test data...
ğŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ğŸŒ Verifying Next.js server...
âœ… Next.js server is running

ğŸ” Setting up admin authentication...
   Admin user already exists: admin@example.com (role: host)
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Creating storage state from API session...
   âœ… Storage state created from API session
   Auth state saved to: .auth/admin.json
   Verifying authentication...
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   âœ… Authentication verified
   Logged in as: admin@example.com
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!

SyntaxError: /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts: Identifier 'referencePreview' has already been declared. (351:10)

  349 |
  350 |     // Verify reference appears in section editor
> 351 |     const referencePreview = page.locator('text=Test Event for References').first();
      |           ^
  352 |     await expect(referencePreview).toBeVisible();
  353 |
  354 |     // Save section

   at admin/referenceBlocks.spec.ts:351

  349 |
  350 |     // Verify reference appears in section editor
> 351 |     const referencePreview = page.locator('text=Test Event for References').first();
      |          ^
  352 |     await expect(referencePreview).toBeVisible();
  353 |
  354 |     // Save section
Error: No tests found.
Make sure that arguments are regular expressions matching test files.
You may need to escape symbols like "$" or "*" and quote the arguments.

ğŸ§¹ E2E Global Teardown Starting...

ğŸ—‘ï¸  Cleaning up test data...
ğŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ğŸ”“ Keeping authentication state for debugging...
   Auth files preserved in .auth/ directory
   Run "rm -rf .auth" to clean up manually

ğŸ“Š Execution Summary:
   Duration: 2.23s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m
