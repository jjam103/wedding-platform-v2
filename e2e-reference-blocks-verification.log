
> destination-wedding-platform@0.1.0 test:e2e
> playwright test __tests__/e2e/admin/referenceBlocks.spec.ts

[dotenv@17.2.4] injecting env (29) from .env.e2e -- tip: âš™ï¸  enable debug logging with { debug: true }

ðŸš€ E2E Global Setup Starting...

ðŸ“Š Verifying test database connection...
âœ… Test database connected

ðŸ§¹ Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸŒ Verifying Next.js server...
âœ… Next.js server is running

ðŸ” Setting up admin authentication...
   Admin user already exists: admin@example.com (role: host)
   Authenticating via Supabase API...
   âœ… API authentication successful (User ID: e7f5ae65-376e-4d05-a18c-10a91295727a)
   Creating storage state from API session...
   âœ… Storage state created from API session
   Auth state saved to: .auth/admin.json
   Verifying authentication...
   Current URL: http://localhost:3000/admin
   âœ… Admin UI is visible
   âœ… Authentication verified
   Logged in as: admin@example.com
âœ… Admin authentication saved

âœ¨ E2E Global Setup Complete!


Running 8 tests using 1 worker

[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'fb83f6c4-64d1-45a2-be8e-41328895fa3c'[39m,
  activityId: [32m'94b86f37-4aaa-457e-9f1b-83a3eefdfcb9'[39m,
  contentPageId: [32m'13ffb23c-612c-44f8-ab5e-69d13ec27c58'[39m,
  sectionId: [32m'76466f03-1672-43f5-8d22-348eb18215b5'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 76466f03-1672-43f5-8d22-348eb18215b5
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
âœ“ SimpleReferenceSelector loaded
API Response: {
  "success": true,
  "data": {
    "events": [
      {
        "id": "fb83f6c4-64d1-45a2-be8e-41328895fa3c",
        "name": "Test Event for References",
        "description": "Test event for reference blocks",
        "eventType": "ceremony",
        "locationId": null,
        "startDate": "2026-02-22T04:11:20.793+00:00",
        "endDate": null,
        "rsvpRequired": true,
        "rsvpDeadline": null,
        "visibility": [],
        "status": "published",
        "createdAt": "2026-02-15T04:11:21.171142+00:00",
        "updatedAt": "2026-02-15T04:11:21.171142+00:00",
        "contentSections": [],
        "slug": "test-event-ref-1771128680792-mf2xus",
        "deletedAt": null,
        "deletedBy": null
      }
    ],
    "total": 1,
    "page": 1,
    "pageSize": 50,
    "totalPages": 1
  }
}
âœ“ Reference items rendered
â†’ Attempting to click event by text...
âœ“ Event button found by text
âœ“ Event reference clicked (by text)
â†’ Found 1 instances of "Test Event for References"
âœ“ Event reference added to selection
âœ“ Database verification successful on attempt 1
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  1 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:274:7 â€º Reference Blocks Management â€º should create event reference block (22.9s)
âœ“ Created test data: {
  eventId: [32m'211fdd99-1c93-4045-a9ed-b8bfa3bd8796'[39m,
  activityId: [32m'2dd855c4-3f8e-4d33-a5c3-45e5cb2fb443'[39m,
  contentPageId: [32m'46282c24-a80f-4ac3-b0e5-74c463351e6e'[39m,
  sectionId: [32m'd9c2d1d2-7f81-44e1-a188-9f49043d51a2'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: d9c2d1d2-7f81-44e1-a188-9f49043d51a2
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  2 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:429:7 â€º Reference Blocks Management â€º should create activity reference block (17.5s)
âœ“ Created test data: {
  eventId: [32m'b1ff0142-4090-4ae0-8da9-21fc2a8d8b28'[39m,
  activityId: [32m'f714f2d9-9722-4796-8c89-83fd61852b1f'[39m,
  contentPageId: [32m'ecdfed14-0d94-4026-ac37-acb295d42a85'[39m,
  sectionId: [32m'd2af5768-3fcd-41a9-9734-11dbf4df4d0a'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: d2af5768-3fcd-41a9-9734-11dbf4df4d0a
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  3 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:477:7 â€º Reference Blocks Management â€º should create multiple reference types in one section (32.7s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'd3d5994c-884c-4221-8f5f-d4378f6f8223'[39m,
  activityId: [32m'7989d78c-cce1-476f-bbef-3ea45ff3460d'[39m,
  contentPageId: [32m'822850ea-62f1-48bb-a330-34b47d78485f'[39m,
  sectionId: [32m'7d28d405-5504-480b-9f8d-fece2a65bbed'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  4 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:477:7 â€º Reference Blocks Management â€º should create multiple reference types in one section (retry #1) (35.1s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'2d7c3f4e-55ad-4332-bd97-ea94198fc85c'[39m,
  activityId: [32m'f88bc0a0-134e-42c9-be40-c12e3e3e5244'[39m,
  contentPageId: [32m'1f882a7f-0d42-4bce-b544-bf44829220b3'[39m,
  sectionId: [32m'872aed82-a4cd-4290-98d8-8e52c17e5bda'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Found 1 column(s) for section 872aed82-a4cd-4290-98d8-8e52c17e5bda
âœ“ Using column ID: a87e30e4-fc86-4a23-b32a-e5e7b74bf1dd
âœ“ Reference added to column: {
  "content_type": "references",
  "content_data": {
    "references": [
      {
        "id": "2d7c3f4e-55ad-4332-bd97-ea94198fc85c",
        "name": "Test Event for References",
        "type": "event",
        "metadata": {}
      }
    ]
  }
}
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 872aed82-a4cd-4290-98d8-8e52c17e5bda
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
âœ“ Section editor opened
âœ“ Reference preview visible
âœ“ Remove button clicked
â³ Database check attempt 1/10 - waiting for save to complete...
   Current data: [
  {
    "content_data": {
      "references": [
        {
          "id": "2d7c3f4e-55ad-4332-bd97-ea94198fc85c",
          "name": "Test Event for References",
          "type": "event",
          "metadata": {}
        }
      ]
    }
  }
]
âœ“ Database verification successful on attempt 2
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  5 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:562:7 â€º Reference Blocks Management â€º should remove reference from section (21.7s)
âœ“ Created test data: {
  eventId: [32m'dbc5ca4e-1552-4ef2-b119-9c03883b6b58'[39m,
  activityId: [32m'8988e729-69e5-4366-979c-8c86c98553e6'[39m,
  contentPageId: [32m'0eeaf615-993d-4b69-8e78-e2eed4c93c47'[39m,
  sectionId: [32m'01ce416d-5052-4268-9ce3-a57318c24b54'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 01ce416d-5052-4268-9ce3-a57318c24b54
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  6 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:699:7 â€º Reference Blocks Management â€º should filter references by type in picker (15.8s)
âœ“ Created test data: {
  eventId: [32m'fd91e295-5906-49eb-97b1-ae98acf5843a'[39m,
  activityId: [32m'3842d2c1-f276-4895-9c67-739e005a21c2'[39m,
  contentPageId: [32m'9b5673f1-9183-4ea1-8148-7cfc118cb397'[39m,
  sectionId: [32m'4b9a07bc-5373-4310-a4c0-8cbce2c0433f'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Created circular reference scenario: Page A â†’ Page B
âœ“ Content Page B card visible
â†’ Found 3 Edit buttons
â†’ Clicking Edit button for page B
âœ“ Content page B edit form loaded
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: ea37317f-b4bc-488d-af05-6d24b745ce8b
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
âœ“ Section editor opened for page B
âœ“ Selected References column type
âœ“ Selected content_page type
â†’ Found 1 reference items after selecting content_page type
â†’ Found 0 buttons containing "Test Content Page"
â†’ Button texts: []
â†’ Loading spinner visible: false
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  7 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:738:7 â€º Reference Blocks Management â€º should prevent circular references (30.2s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ› ï¸  run anywhere with `dotenvx run -- yourcommand`
âœ“ Created test data: {
  eventId: [32m'eb3f1ff1-d001-4b0a-9a94-f713e34a7b09'[39m,
  activityId: [32m'a360b951-8f8f-4792-9c63-bae5e63519ba'[39m,
  contentPageId: [32m'0463df14-97ce-44eb-b6e5-979264a872d4'[39m,
  sectionId: [32m'08da0c22-30b2-47fc-980a-7bbe7c6990ce'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  8 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:738:7 â€º Reference Blocks Management â€º should prevent circular references (retry #1) (34.6s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ—‚ï¸ backup and recover secrets: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'8ea60b47-3fd3-4637-b20d-e3882de569d4'[39m,
  activityId: [32m'33a96b37-8a73-4f54-a1d8-0d4e0285ddce'[39m,
  contentPageId: [32m'35755b44-68b7-47ba-8c35-0caaac8274bb'[39m,
  sectionId: [32m'0da2496b-6cdd-457d-9a73-3e1c9cf1f6fe'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ Section editor container is visible
âœ“ No sections exist, creating first section
âœ“ Section fully rendered and ready for interaction
âœ“ Found section with ID: 0da2496b-6cdd-457d-9a73-3e1c9cf1f6fe
âœ“ Clicking Edit button to open editing interface
âœ“ Editing interface appeared after Edit button click
âœ“ All editing interface elements verified
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ“  9 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:939:7 â€º Reference Blocks Management â€º should detect broken references (15.3s)
âœ“ Created test data: {
  eventId: [32m'946341fb-09af-41e5-beea-3cda89af431f'[39m,
  activityId: [32m'03a345aa-9e50-43a6-aabe-549e5ffb0f1c'[39m,
  contentPageId: [32m'82d5600f-8298-4059-b9f4-779defeaf337'[39m,
  sectionId: [32m'45df7686-a0e5-4f6c-8d1d-22b8fab61329'[39m
}
âœ“ Verify content page exists in DB: YES 
âœ“ Test content page is visible and editable in UI
âœ“ References added to column: {
  "content_data": {
    "references": [
      {
        "id": "946341fb-09af-41e5-beea-3cda89af431f",
        "name": "Test Event for References",
        "type": "event",
        "metadata": {}
      },
      {
        "id": "03a345aa-9e50-43a6-aabe-549e5ffb0f1c",
        "name": "Test Activity for References",
        "type": "activity",
        "metadata": {}
      }
    ]
  }
}
âœ“ Section data: {
  "id": "45df7686-a0e5-4f6c-8d1d-22b8fab61329",
  "page_type": "custom",
  "page_id": "82d5600f-8298-4059-b9f4-779defeaf337",
  "display_order": 0,
  "created_at": "2026-02-15T04:15:11.55501+00:00",
  "updated_at": "2026-02-15T04:15:11.55501+00:00",
  "title": null,
  "deleted_at": null,
  "deleted_by": null,
  "columns": [
    {
      "id": "0b3c0ee3-931b-41d2-a4aa-38fb96058a22",
      "created_at": "2026-02-15T04:15:11.74006+00:00",
      "deleted_at": null,
      "deleted_by": null,
      "section_id": "45df7686-a0e5-4f6c-8d1d-22b8fab61329",
      "updated_at": "2026-02-15T04:15:15.165374+00:00",
      "content_data": {
        "references": [
          {
            "id": "946341fb-09af-41e5-beea-3cda89af431f",
            "name": "Test Event for References",
            "type": "event",
            "metadata": {}
          },
          {
            "id": "03a345aa-9e50-43a6-aabe-549e5ffb0f1c",
            "name": "Test Activity for References",
            "type": "activity",
            "metadata": {}
          }
        ]
      },
      "content_type": "references",
      "column_number": 1
    }
  ]
}
âœ“ Navigating to guest view: /custom/test-page-ref-1771128910849-lff5w
âœ“ Guest view page container loaded
âœ“ Page title visible
âœ“ References container visible
âœ“ Event reference card visible
âœ“ Activity reference card visible
âœ“ Clicked event reference card
âœ“ Event details expanded
â†’ Expanded details text: Loading details......
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
â†’ Expanded details text: DescriptionDetails could not be loaded...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  10 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:972:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals (21.7s)
[dotenv@17.2.4] injecting env (0) from .env.e2e -- tip: ðŸ”„ add secrets lifecycle management: https://dotenvx.com/ops
âœ“ Created test data: {
  eventId: [32m'570dd139-e885-45da-a8c9-44685d493d0b'[39m,
  activityId: [32m'a417b576-f623-472e-ab21-7cf386e91be8'[39m,
  contentPageId: [32m'c290b6c9-a05d-44b3-8d8e-2c923a0a035b'[39m,
  sectionId: [32m'971f9c04-87da-418e-b984-4d3fe56524e8'[39m
}
âœ“ Verify content page exists in DB: YES 
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
  âœ˜  11 [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:972:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals (retry #1) (34.6s)

ðŸ§¹ E2E Global Teardown Starting...

ðŸ—‘ï¸  Cleaning up test data...
ðŸ§¹ Running comprehensive test cleanup...
âœ… Comprehensive cleanup complete
âœ… Test data cleaned

ðŸ”“ Keeping authentication state for debugging...
   Auth files preserved in .auth/ directory
   Run "rm -rf .auth" to clean up manually

ðŸ“Š Execution Summary:
   Duration: 2.35s
   Errors: 0
   Status: âœ… Clean teardown

âœ¨ E2E Global Teardown Complete!



  1) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:477:7 â€º Reference Blocks Management â€º should create multiple reference types in one section 

    TimeoutError: locator.click: Timeout 15000ms exceeded.
    Call log:
    [2m  - waiting for locator('button:has-text("Test Event for References")').first()[22m


      516 |     await page.waitForTimeout(2000);
      517 |     
    > 518 |     await eventItem.click({ force: true });
          |                     ^
      519 |     await page.waitForTimeout(1000);
      520 |
      521 |     // Add activity reference with improved waiting
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:518:21

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: page.goto: net::ERR_ABORTED at http://localhost:3000/admin/content-pages
    Call log:
    [2m  - navigating to "http://localhost:3000/admin/content-pages", waiting until "load"[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      258 |       
      259 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 260 |     }).toPass({ 
          |        ^
      261 |       timeout: 30000, 
      262 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      263 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:260:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-4d6a7-erence-types-in-one-section-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  2) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:738:7 â€º Reference Blocks Management â€º should prevent circular references 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('button:has-text("Test Content Page")').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('button:has-text("Test Content Page")').first()[22m


      898 |     // Click on content page A
      899 |     const contentPageAItem = page.locator('button:has-text("Test Content Page")').first();
    > 900 |     await expect(contentPageAItem).toBeVisible({ timeout: 5000 });
          |                                    ^
      901 |     
      902 |     // Wait for element to be stable
      903 |     await contentPageAItem.waitFor({ state: 'attached', timeout: 5000 });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:900:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('h1:has-text("Content Pages")').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('h1:has-text("Content Pages")').first()[22m
    [2m    - waiting for" http://localhost:3000/admin/content-pages" navigation to finish...[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      258 |       
      259 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 260 |     }).toPass({ 
          |        ^
      261 |       timeout: 30000, 
      262 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      263 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:260:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-76f8e-prevent-circular-references-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3) [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:972:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Test Event"[39m
    Received string:    [31m"DescriptionDetails could not be loaded"[39m

    Call Log:
    - Timeout 10000ms exceeded while waiting on the predicate

      1096 |       console.log(`â†’ Expanded details text: ${text?.substring(0, 100)}...`);
      1097 |       expect(text).toContain('Test Event');
    > 1098 |     }).toPass({ timeout: 10000, intervals: [500, 1000] });
           |        ^
      1099 |     
      1100 |     console.log('âœ“ Event details content verified');
      1101 |
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:1098:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium/error-context.md

    Retry #1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('h1:has-text("Content Pages")').first()
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('h1:has-text("Content Pages")').first()[22m
    [2m    - waiting for" http://localhost:3000/admin/content-pages" navigation to finish...[22m
    [2m    - navigated to "http://localhost:3000/admin/content-pages"[22m


    Call Log:
    - Timeout 30000ms exceeded while waiting on the predicate

      258 |       
      259 |       console.log('âœ“ Test content page is visible and editable in UI');
    > 260 |     }).toPass({ 
          |        ^
      261 |       timeout: 30000, 
      262 |       intervals: [1000, 2000, 3000, 5000] // Retry with exponential backoff
      263 |     });
        at /Users/jaron/Desktop/wedding-platform-v2/__tests__/e2e/admin/referenceBlocks.spec.ts:260:8

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/error-context.md

    attachment #4: trace (application/zip) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/trace.zip
    Usage:

        npx playwright show-trace test-results/admin-referenceBlocks-Refe-0abdf-st-view-with-preview-modals-chromium-retry1/trace.zip

    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  3 failed
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:477:7 â€º Reference Blocks Management â€º should create multiple reference types in one section 
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:738:7 â€º Reference Blocks Management â€º should prevent circular references 
    [chromium] â€º __tests__/e2e/admin/referenceBlocks.spec.ts:972:7 â€º Reference Blocks Management â€º should display reference blocks in guest view with preview modals 
  5 passed (5.0m)

[36m  Serving HTML report at http://localhost:50690. Press Ctrl+C to quit.[39m
