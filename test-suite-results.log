
> destination-wedding-platform@0.1.0 test
> npm run build && jest


> destination-wedding-platform@0.1.0 build
> next build

‚ñ≤ Next.js 16.1.1 (Turbopack)
- Environments: .env.local

‚ö† The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
  Creating an optimized production build ...
‚úì Compiled successfully in 12.4s
  Running TypeScript ...
  Collecting page data using 7 workers ...
  Generating static pages using 7 workers (0/76) ...
  Generating static pages using 7 workers (19/76) 
  Generating static pages using 7 workers (38/76) 
  Generating static pages using 7 workers (57/76) 
‚úì Generating static pages using 7 workers (76/76) in 735.0ms
  Finalizing page optimization ...

Route (app)
‚îå ‚óã /
‚îú ‚óã /_not-found
‚îú ‚óã /admin
‚îú ‚óã /admin/accommodations
‚îú ∆í /admin/accommodations/[id]/room-types
‚îú ‚óã /admin/activities
‚îú ‚óã /admin/audit-logs
‚îú ‚óã /admin/budget
‚îú ‚óã /admin/content-pages
‚îú ‚óã /admin/debug-click
‚îú ‚óã /admin/design-system-demo
‚îú ‚óã /admin/emails
‚îú ‚óã /admin/events
‚îú ‚óã /admin/form-modal-demo
‚îú ‚óã /admin/guests
‚îú ‚óã /admin/home-page
‚îú ‚óã /admin/locations
‚îú ‚óã /admin/photos
‚îú ‚óã /admin/rsvp-analytics
‚îú ∆í /admin/settings
‚îú ‚óã /admin/simple-test
‚îú ‚óã /admin/test-buttons
‚îú ‚óã /admin/test-form
‚îú ‚óã /admin/transportation
‚îú ‚óã /admin/vendors
‚îú ∆í /api/admin/accommodations
‚îú ∆í /api/admin/accommodations/[id]
‚îú ∆í /api/admin/accommodations/[id]/room-types
‚îú ∆í /api/admin/activities
‚îú ∆í /api/admin/activities/[id]
‚îú ∆í /api/admin/activities/[id]/capacity
‚îú ∆í /api/admin/alerts
‚îú ∆í /api/admin/audit-logs
‚îú ∆í /api/admin/audit-logs/export
‚îú ∆í /api/admin/budget/breakdown
‚îú ∆í /api/admin/budget/payment-status
‚îú ∆í /api/admin/budget/subsidies
‚îú ∆í /api/admin/content-pages
‚îú ∆í /api/admin/content-pages/[id]
‚îú ∆í /api/admin/emails
‚îú ∆í /api/admin/emails/send
‚îú ∆í /api/admin/emails/templates
‚îú ∆í /api/admin/events
‚îú ∆í /api/admin/events/[id]
‚îú ∆í /api/admin/example
‚îú ∆í /api/admin/groups
‚îú ∆í /api/admin/guests
‚îú ∆í /api/admin/guests/[id]
‚îú ∆í /api/admin/home-page
‚îú ∆í /api/admin/home-page/sections
‚îú ∆í /api/admin/locations
‚îú ∆í /api/admin/locations/[id]
‚îú ∆í /api/admin/locations/[id]/validate-parent
‚îú ∆í /api/admin/metrics
‚îú ∆í /api/admin/photos
‚îú ∆í /api/admin/photos/[id]
‚îú ∆í /api/admin/photos/[id]/moderate
‚îú ∆í /api/admin/photos/pending-count
‚îú ∆í /api/admin/references/[type]/[id]
‚îú ∆í /api/admin/references/search
‚îú ∆í /api/admin/room-types
‚îú ∆í /api/admin/room-types/[id]
‚îú ∆í /api/admin/room-types/[id]/sections
‚îú ∆í /api/admin/rsvp-analytics
‚îú ∆í /api/admin/rsvps
‚îú ∆í /api/admin/rsvps/[id]
‚îú ∆í /api/admin/sections
‚îú ∆í /api/admin/sections/[id]
‚îú ∆í /api/admin/sections/by-page/[pageType]/[pageId]
‚îú ∆í /api/admin/sections/check-circular
‚îú ∆í /api/admin/sections/reorder
‚îú ∆í /api/admin/sections/validate-refs
‚îú ∆í /api/admin/settings
‚îú ∆í /api/admin/transportation/arrivals
‚îú ∆í /api/admin/transportation/assign-shuttle
‚îú ∆í /api/admin/transportation/departures
‚îú ∆í /api/admin/transportation/driver-sheets
‚îú ∆í /api/admin/transportation/vehicle-requirements
‚îú ∆í /api/admin/vendors
‚îú ∆í /api/admin/vendors/[id]
‚îú ∆í /api/auth/create-user
‚îú ∆í /api/auth/logout
‚îú ∆í /api/guest/activities/list
‚îú ∆í /api/guest/events
‚îú ∆í /api/guest/events/list
‚îú ∆í /api/guest/family/[id]
‚îú ∆í /api/guest/photos/upload
‚îú ∆í /api/guest/rsvp
‚îú ∆í /api/guest/rsvps
‚îú ∆í /api/guest/transportation
‚îú ∆í /api/webhooks/resend
‚îú ∆í /auth/callback
‚îú ‚óã /auth/login
‚îú ‚óã /auth/signup
‚îú ‚óã /auth/unauthorized
‚îú ∆í /guest/accommodation
‚îú ∆í /guest/dashboard
‚îú ∆í /guest/family
‚îú ∆í /guest/itinerary
‚îú ∆í /guest/photos
‚îú ∆í /guest/rsvp
‚îú ∆í /guest/transportation
‚îî ‚óã /offline


∆í Proxy (Middleware)

‚óã  (Static)   prerendered as static content
∆í  (Dynamic)  server-rendered on demand

FAIL app/admin/guests/page.property.test.tsx (19.109 s)
  ‚óè Console

    console.error
      Failed to fetch activities: Error: Unknown URL
          at /Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:135:29
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:397:39
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:404:13
          at mockConstructor (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:148:19)
          at fetch (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:173:30)
          at fetchActivities (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:194:5)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at commitHookEffectListMount (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
          at commitHookPassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
          at flushPassiveEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
          at flushActQueue (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:590:34)
          at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:884:10)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:291:10)
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:141:11)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      184 |     } catch (error) {
      185 |       // Silently fail for activities - not critical
    > 186 |       console.error('Failed to fetch activities:', error);
          |               ^
      187 |     }
      188 |   }, []);
      189 |

      at error (app/admin/guests/page.tsx:186:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:07.216Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.property.test.tsx:175:11)

    console.error
      Failed to fetch activities: Error: Unknown URL
          at /Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:135:29
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:397:39
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:404:13
          at mockConstructor (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:148:19)
          at fetch (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:173:30)
          at fetchActivities (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:194:5)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at commitHookEffectListMount (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
          at commitHookPassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
          at flushPassiveEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
          at flushActQueue (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:590:34)
          at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:884:10)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:291:10)
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:175:11)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      184 |     } catch (error) {
      185 |       // Silently fail for activities - not critical
    > 186 |       console.error('Failed to fetch activities:', error);
          |               ^
      187 |     }
      188 |   }, []);
      189 |

      at error (app/admin/guests/page.tsx:186:15)

    console.error
      An update to CollapsibleForm inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      52 |   useEffect(() => {
      53 |     if (initialData) {
    > 54 |       setFormData(initialData);
         |       ^
      55 |       setIsDirty(false);
      56 |     }
      57 |   }, [initialData]);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setFormData (components/admin/CollapsibleForm.tsx:54:7)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to CollapsibleForm inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      53 |     if (initialData) {
      54 |       setFormData(initialData);
    > 55 |       setIsDirty(false);
         |       ^
      56 |     }
      57 |   }, [initialData]);
      58 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsDirty (components/admin/CollapsibleForm.tsx:55:7)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:12.011Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.property.test.tsx:207:11)

    console.error
      Failed to fetch activities: Error: Unknown URL
          at /Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:135:29
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:397:39
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:404:13
          at mockConstructor (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:148:19)
          at fetch (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:173:30)
          at fetchActivities (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:194:5)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at commitHookEffectListMount (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
          at commitHookPassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
          at flushPassiveEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
          at flushActQueue (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:590:34)
          at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:884:10)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:291:10)
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:207:11)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      184 |     } catch (error) {
      185 |       // Silently fail for activities - not critical
    > 186 |       console.error('Failed to fetch activities:', error);
          |               ^
      187 |     }
      188 |   }, []);
      189 |

      at error (app/admin/guests/page.tsx:186:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:39:17.197Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.property.test.tsx:239:11)

    console.error
      Failed to fetch activities: Error: Unknown URL
          at /Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:135:29
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:397:39
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:404:13
          at mockConstructor (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-mock/build/index.js:148:19)
          at fetch (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:173:30)
          at fetchActivities (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.tsx:194:5)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at commitHookEffectListMount (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
          at commitHookPassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
          at recursivelyTraversePassiveMountEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
          at commitPassiveMountOnFiber (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
          at flushPassiveEffects (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
          at flushActQueue (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:590:34)
          at Object.<anonymous>.process.env.NODE_ENV.exports.act (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react/cjs/react.development.js:884:10)
          at /Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/jaron/Desktop/wedding-platform-v2/node_modules/@testing-library/react/dist/pure.js:291:10)
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/app/admin/guests/page.property.test.tsx:239:11)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      184 |     } catch (error) {
      185 |       // Silently fail for activities - not critical
    > 186 |       console.error('Failed to fetch activities:', error);
          |               ^
      187 |     }
      188 |   }, []);
      189 |

      at error (app/admin/guests/page.tsx:186:15)

  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal with guest data when guest row is clicked

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      137 |   });
      138 |
    > 139 |   it('should open edit modal with guest data when guest row is clicked', async () => {
          |   ^
      140 |     // Render component
      141 |     render(
      142 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:139:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal with correct data for different guest types

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      171 |   });
      172 |
    > 173 |   it('should open edit modal with correct data for different guest types', async () => {
          |   ^
      174 |     // Render component
      175 |     render(
      176 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:173:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal for guest with minimal data (child guest)

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      203 |   });
      204 |
    > 205 |   it('should open edit modal for guest with minimal data (child guest)', async () => {
          |   ^
      206 |     // Render component
      207 |     render(
      208 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:205:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

FAIL app/admin/events/page.guestView.test.tsx (22.276 s)
  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each event

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      121 |
      122 |       // Wait for events to load
    > 123 |       await waitFor(() => {
          |                    ^
      124 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      125 |       }, { timeout: 3000 });
      126 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:123:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing event page when View button is clicked

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      132 |       render(<EventsPage />);
      133 |
    > 134 |       await waitFor(() => {
          |                    ^
      135 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      136 |       }, { timeout: 3000 });
      137 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:134:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each event ID

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      145 |       render(<EventsPage />);
      146 |
    > 147 |       await waitFor(() => {
          |                    ^
      148 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      149 |       }, { timeout: 3000 });
      150 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:147:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      167 |       render(<EventsPage />);
      168 |
    > 169 |       await waitFor(() => {
          |                    ^
      170 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      171 |       }, { timeout: 3000 });
      172 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:169:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/events/ prefix

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      185 |       render(<EventsPage />);
      186 |
    > 187 |       await waitFor(() => {
          |                    ^
      188 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      189 |       }, { timeout: 3000 });
      190 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:187:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use event ID in URL

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      198 |       render(<EventsPage />);
      199 |
    > 200 |       await waitFor(() => {
          |                    ^
      201 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      202 |       }, { timeout: 3000 });
      203 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:200:20)

FAIL app/admin/activities/page.property.test.tsx (24.747 s)
  ‚óè Console

    console.error
      An update to CollapsibleForm inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      52 |   useEffect(() => {
      53 |     if (initialData) {
    > 54 |       setFormData(initialData);
         |       ^
      55 |       setIsDirty(false);
      56 |     }
      57 |   }, [initialData]);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setFormData (components/admin/CollapsibleForm.tsx:54:7)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18945:11)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to CollapsibleForm inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      53 |     if (initialData) {
      54 |       setFormData(initialData);
    > 55 |       setIsDirty(false);
         |       ^
      56 |     }
      57 |   }, [initialData]);
      58 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsDirty (components/admin/CollapsibleForm.tsx:55:7)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18945:11)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to ActivitiesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      64 |   const fetchActivities = useCallback(async () => {
      65 |     try {
    > 66 |       setLoading(true);
         |       ^
      67 |       
      68 |       // Fetch activities
      69 |       const response = await fetch('/api/admin/activities');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/activities/page.tsx:66:7)
      at fetchActivities (app/admin/activities/page.tsx:160:5)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18945:11)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to ActivitiesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      128 |       const result = await response.json();
      129 |       if (result.success) {
    > 130 |         setEvents(result.data.events || []);
          |         ^
      131 |       }
      132 |     } catch (error) {
      133 |       // Silently fail for events - not critical

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setEvents (app/admin/activities/page.tsx:130:9)

    console.error
      An update to ActivitiesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       const result = await response.json();
      149 |       if (result.success) {
    > 150 |         setLocations(result.data.locations || []);
          |         ^
      151 |       }
      152 |     } catch (error) {
      153 |       // Silently fail for locations - not critical

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLocations (app/admin/activities/page.tsx:150:9)

    console.error
      An update to ActivitiesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

       99 |         );
      100 |         
    > 101 |         setActivities(activitiesWithCapacity);
          |         ^
      102 |       } else {
      103 |         addToast({
      104 |           type: 'error',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setActivities (app/admin/activities/page.tsx:101:9)

    console.error
      An update to ActivitiesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      112 |       });
      113 |     } finally {
    > 114 |       setLoading(false);
          |       ^
      115 |     }
      116 |   }, [addToast]);
      117 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/activities/page.tsx:114:7)

  ‚óè Feature: admin-ui-modernization, Property 10: Capacity warning highlighting ‚Ä∫ should highlight activities at 90%+ capacity with warning colors

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      133 |    * Validates: Requirements 5.3
      134 |    */
    > 135 |   it('should highlight activities at 90%+ capacity with warning colors', async () => {
          |   ^
      136 |     await fc.assert(
      137 |       fc.asyncProperty(
      138 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:135:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:122:1)

  ‚óè Feature: admin-ui-modernization, Property 10: Capacity warning highlighting ‚Ä∫ should NOT highlight activities below 90% capacity

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      180 |   });
      181 |
    > 182 |   it('should NOT highlight activities below 90% capacity', async () => {
          |   ^
      183 |     await fc.assert(
      184 |       fc.asyncProperty(
      185 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:182:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:122:1)

  ‚óè Feature: admin-ui-modernization, Property 11: Capacity utilization display ‚Ä∫ should display capacity utilization percentage in edit form for activities with RSVPs

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      241 |    * Validates: Requirements 5.7
      242 |    */
    > 243 |   it('should display capacity utilization percentage in edit form for activities with RSVPs', async () => {
          |   ^
      244 |     await fc.assert(
      245 |       fc.asyncProperty(
      246 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:243:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:230:1)

  ‚óè Feature: admin-ui-modernization, Property 11: Capacity utilization display ‚Ä∫ should display "Unlimited" for activities without capacity limits

    Unable to find an element with the text: Unlimited Activity. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      308 |
      309 |     // Wait for the activity to appear
    > 310 |     await waitFor(() => {
          |                  ^
      311 |       expect(screen.getByText(activity.name)).toBeInTheDocument();
      312 |     });
      313 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.property.test.tsx:310:18)

FAIL app/admin/audit-logs/page.test.tsx (29.543 s)
  ‚óè Console

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 |       }
      71 |
    > 72 |       setLogs(filteredLogs);
         |       ^
      73 |       setTotal(data.total);
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLogs (app/admin/audit-logs/page.tsx:72:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      71 |
      72 |       setLogs(filteredLogs);
    > 73 |       setTotal(data.total);
         |       ^
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotal (app/admin/audit-logs/page.tsx:73:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      72 |       setLogs(filteredLogs);
      73 |       setTotal(data.total);
    > 74 |       setTotalPages(data.total_pages);
         |       ^
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotalPages (app/admin/audit-logs/page.tsx:74:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {
    > 78 |       setLoading(false);
         |       ^
      79 |     }
      80 |   }, [filters, page]);
      81 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/audit-logs/page.tsx:78:7)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 |       }
      71 |
    > 72 |       setLogs(filteredLogs);
         |       ^
      73 |       setTotal(data.total);
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLogs (app/admin/audit-logs/page.tsx:72:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      71 |
      72 |       setLogs(filteredLogs);
    > 73 |       setTotal(data.total);
         |       ^
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotal (app/admin/audit-logs/page.tsx:73:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      72 |       setLogs(filteredLogs);
      73 |       setTotal(data.total);
    > 74 |       setTotalPages(data.total_pages);
         |       ^
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotalPages (app/admin/audit-logs/page.tsx:74:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {
    > 78 |       setLoading(false);
         |       ^
      79 |     }
      80 |   }, [filters, page]);
      81 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/audit-logs/page.tsx:78:7)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 |       }
      71 |
    > 72 |       setLogs(filteredLogs);
         |       ^
      73 |       setTotal(data.total);
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLogs (app/admin/audit-logs/page.tsx:72:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      71 |
      72 |       setLogs(filteredLogs);
    > 73 |       setTotal(data.total);
         |       ^
      74 |       setTotalPages(data.total_pages);
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotal (app/admin/audit-logs/page.tsx:73:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      72 |       setLogs(filteredLogs);
      73 |       setTotal(data.total);
    > 74 |       setTotalPages(data.total_pages);
         |       ^
      75 |     } catch (err) {
      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotalPages (app/admin/audit-logs/page.tsx:74:7)

    console.error
      An update to AuditLogsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      76 |       setError(err instanceof Error ? err.message : 'Failed to fetch audit logs');
      77 |     } finally {
    > 78 |       setLoading(false);
         |       ^
      79 |     }
      80 |   }, [filters, page]);
      81 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/audit-logs/page.tsx:78:7)

    console.error
      RangeError: Invalid time value
          at format (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:132:8)
          at Object.formatDate [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/audit-logs/page.tsx:158:41)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display audit logs after loading

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display audit logs after loading

    Unable to find an element with the text: admin@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      94 |       render(<AuditLogsPage />);
      95 |
    > 96 |       await waitFor(
         |                    ^
      97 |         () => {
      98 |           expect(screen.getByText('admin@example.com')).toBeInTheDocument();
      99 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:96:20)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display action badges

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display action badges

    Unable to find an element with the text: CREATE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      107 |       render(<AuditLogsPage />);
      108 |
    > 109 |       await waitFor(
          |                    ^
      110 |         () => {
      111 |           expect(screen.getByText('CREATE')).toBeInTheDocument();
      112 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:109:20)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should highlight critical actions

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should highlight critical actions

    Unable to find an element with the text: ‚ö†Ô∏è Critical Action. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      121 |       render(<AuditLogsPage />);
      122 |
    > 123 |       await waitFor(
          |                    ^
      124 |         () => {
      125 |           expect(screen.getByText('‚ö†Ô∏è Critical Action')).toBeInTheDocument();
      126 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:123:20)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should call API with filters when action type changes

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should call API with filters when action type changes

    TestingLibraryElementError: Unable to find a label with the text of: Action Type

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      147 |       });
      148 |
    > 149 |       const actionSelect = screen.getByLabelText('Action Type');
          |                                   ^
      150 |       fireEvent.change(actionSelect, { target: { value: 'create' } });
      151 |
      152 |       await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/audit-logs/page.test.tsx:149:35)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should clear filters when clear button clicked

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should clear filters when clear button clicked

    TestingLibraryElementError: Unable to find a label with the text of: Action Type

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      164 |       });
      165 |
    > 166 |       const actionSelect = screen.getByLabelText('Action Type');
          |                                   ^
      167 |       fireEvent.change(actionSelect, { target: { value: 'create' } });
      168 |
      169 |       const clearButton = screen.getByText('Clear Filters');

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/audit-logs/page.test.tsx:166:35)

  ‚óè AuditLogsPage ‚Ä∫ Search ‚Ä∫ should filter logs client-side when searching

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Search ‚Ä∫ should filter logs client-side when searching

    Unable to find an element with the text: admin@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      178 |       render(<AuditLogsPage />);
      179 |
    > 180 |       await waitFor(
          |                    ^
      181 |         () => {
      182 |           expect(screen.getByText('admin@example.com')).toBeInTheDocument();
      183 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:180:20)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should display pagination when multiple pages exist

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should display pagination when multiple pages exist

    Unable to find an element with the text: /Showing page 1 of 3/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      213 |       render(<AuditLogsPage />);
      214 |
    > 215 |       await waitFor(
          |                    ^
      216 |         () => {
      217 |           expect(screen.getByText(/Showing page 1 of 3/)).toBeInTheDocument();
      218 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:215:20)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should disable Previous button on first page

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should disable Previous button on first page

    Unable to find an element with the text: Previous. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      241 |       render(<AuditLogsPage />);
      242 |
    > 243 |       await waitFor(
          |                    ^
      244 |         () => {
      245 |           const prevButton = screen.getByText('Previous');
      246 |           expect(prevButton).toBeDisabled();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:243:20)

  ‚óè AuditLogsPage ‚Ä∫ CSV Export ‚Ä∫ should call export API when export button clicked

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ CSV Export ‚Ä∫ should call export API when export button clicked

    TestingLibraryElementError: Unable to find an element with the text: Export CSV. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      279 |       });
      280 |
    > 281 |       const exportButton = screen.getByText('Export CSV');
          |                                   ^
      282 |       fireEvent.click(exportButton);
      283 |
      284 |       await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/audit-logs/page.test.tsx:281:35)

  ‚óè AuditLogsPage ‚Ä∫ Error Handling ‚Ä∫ should display error message on API error

    Unable to find an element with the text: Database connection failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mAudit Logs[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-500"[39m
            [36m>[39m
              [0mView and search system audit logs for accountability[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 bg-white p-4 rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"search"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"search"[39m
                  [33mplaceholder[39m=[32m"Search descriptions..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"operation_type"[39m
                [36m>[39m
                  [0mAction Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"operation_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Actions[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"update"[39m
                  [36m>[39m
                    [0mUpdate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"delete"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"entity_type"[39m
                [36m>[39m
                  [0mEntity Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"entity_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Entities[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"guest"[39m
                  [36m>[39m
                    [0mGuest[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"event"[39m
                  [36m>[39m
                    [0mEvent[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"vendor"[39m
                  [36m>[39m
                    [0mVendor[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"accommodation"[39m
                  [36m>[39m
                    [0mAccommodation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_page"[39m
                  [36m>[39m
                    [0mContent Page[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"location"[39m
                  [36m>[39m
                    [0mLocation[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"start_date"[39m
                [36m>[39m
                  [0mDate Range[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"start_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"end_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-4 flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"[39m
              [36m>[39m
                [0mClear Filters[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-red-800"[39m
            [36m>[39m
              [0mresponse.json is not a function[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col md:flex-row gap-3 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full md:w-auto"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-busy[39m=[32m"false"[39m
                      [33maria-disabled[39m=[32m"false"[39m
                      [33maria-label[39m=[32m"Export items to CSV"[39m
                      [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]  w-full md:w-auto cursor-pointer"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mExport[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-md overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"hidden md:block overflow-x-auto"[39m
                [36m>[39m
                  [36m<table[39m
                    [33maria-label[39m=[32m"items data table"[39m
                    [33mclass[39m=[32m"w-full"[39m
                    [33mrole[39m=[32m"table"[39m
                  [36m>[39m
                    [36m<thead[39m
                      [33mclass[39m=[32m"bg-sage-50 border-b border-sage-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mTimestamp[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mUser[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mAction[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mEntity Type[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mDetails[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                      [36m</tr>[39m
                    [36m</thead>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-sage-100"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-8 text-center text-sage-500"[39m
                          [33mcolspan[39m=[32m"5"[39m
                        [36m>[39m
                          [0mNo [0m
                          [0mitems[0m
                          [0m found[0m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:hidden divide-y divide-sage-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-8 text-center text-sage-500"[39m
                  [36m>[39m
                    [0mNo [0m
                    [0mitems[0m
                    [0m found[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      305 |       render(<AuditLogsPage />);
      306 |
    > 307 |       await waitFor(
          |                    ^
      308 |         () => {
      309 |           expect(screen.getByText('Database connection failed')).toBeInTheDocument();
      310 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:307:20)

  ‚óè AuditLogsPage ‚Ä∫ Error Handling ‚Ä∫ should display empty message when no logs found

    Unable to find an element with the text: No audit logs found. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mAudit Logs[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-500"[39m
            [36m>[39m
              [0mView and search system audit logs for accountability[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 bg-white p-4 rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"search"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"search"[39m
                  [33mplaceholder[39m=[32m"Search descriptions..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"operation_type"[39m
                [36m>[39m
                  [0mAction Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"operation_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Actions[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"update"[39m
                  [36m>[39m
                    [0mUpdate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"delete"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"entity_type"[39m
                [36m>[39m
                  [0mEntity Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"entity_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Entities[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"guest"[39m
                  [36m>[39m
                    [0mGuest[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"event"[39m
                  [36m>[39m
                    [0mEvent[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"vendor"[39m
                  [36m>[39m
                    [0mVendor[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"accommodation"[39m
                  [36m>[39m
                    [0mAccommodation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_page"[39m
                  [36m>[39m
                    [0mContent Page[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"location"[39m
                  [36m>[39m
                    [0mLocation[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"start_date"[39m
                [36m>[39m
                  [0mDate Range[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"start_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"end_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-4 flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"[39m
              [36m>[39m
                [0mClear Filters[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-red-800"[39m
            [36m>[39m
              [0mDatabase connection failed[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col md:flex-row gap-3 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full md:w-auto"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-busy[39m=[32m"false"[39m
                      [33maria-disabled[39m=[32m"false"[39m
                      [33maria-label[39m=[32m"Export items to CSV"[39m
                      [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]  w-full md:w-auto cursor-pointer"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mExport[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-md overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"hidden md:block overflow-x-auto"[39m
                [36m>[39m
                  [36m<table[39m
                    [33maria-label[39m=[32m"items data table"[39m
                    [33mclass[39m=[32m"w-full"[39m
                    [33mrole[39m=[32m"table"[39m
                  [36m>[39m
                    [36m<thead[39m
                      [33mclass[39m=[32m"bg-sage-50 border-b border-sage-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mTimestamp[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mUser[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mAction[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mEntity Type[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mDetails[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                      [36m</tr>[39m
                    [36m</thead>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-sage-100"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-8 text-center text-sage-500"[39m
                          [33mcolspan[39m=[32m"5"[39m
                        [36m>[39m
                          [0mNo [0m
                          [0mitems[0m
                          [0m found[0m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:hidden divide-y divide-sage-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-8 text-center text-sage-500"[39m
                  [36m>[39m
                    [0mNo [0m
                    [0mitems[0m
                    [0m found[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      330 |       render(<AuditLogsPage />);
      331 |
    > 332 |       await waitFor(
          |                    ^
      333 |         () => {
      334 |           expect(screen.getByText('No audit logs found')).toBeInTheDocument();
      335 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:332:20)

FAIL app/admin/accommodations/page.guestView.test.tsx (8.443 s)
  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each accommodation

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>]

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mAccommodation Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage wedding accommodations and lodging[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new accommodation"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Accommodation[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Accommodation[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mAccommodation Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-address"[39m
                      [36m>[39m
                        [0mAddress[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-address"[39m
                        [33mname[39m=[32m"address"[39m
                        [33mplaceholder[39m=[32m"Enter address"[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-checkInDate"[39m
                      [36m>[39m
                        [0mCheck-in Date[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-c...

      118 |       await waitFor(() => {
      119 |         const viewButtons = screen.getAllByRole('button', { name: /^view$/i });
    > 120 |         expect(viewButtons).toHaveLength(mockAccommodations.length);
          |                             ^
      121 |       });
      122 |     });
      123 |

      at toHaveLength (app/admin/accommodations/page.guestView.test.tsx:120:29)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing accommodation page when View button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      125 |       render(<AccommodationsPage />);
      126 |
    > 127 |       await waitFor(() => {
          |                    ^
      128 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      129 |       });
      130 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:127:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each accommodation ID

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      138 |       render(<AccommodationsPage />);
      139 |
    > 140 |       await waitFor(() => {
          |                    ^
      141 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      142 |       });
      143 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:140:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      158 |       render(<AccommodationsPage />);
      159 |
    > 160 |       await waitFor(() => {
          |                    ^
      161 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      162 |       });
      163 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:160:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/accommodation/ prefix

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      176 |       render(<AccommodationsPage />);
      177 |
    > 178 |       await waitFor(() => {
          |                    ^
      179 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      180 |       });
      181 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:178:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use accommodation ID in URL

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      189 |       render(<AccommodationsPage />);
      190 |
    > 191 |       await waitFor(() => {
          |                    ^
      192 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      193 |       });
      194 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:191:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use singular "accommodation" not plural in URL

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      202 |       render(<AccommodationsPage />);
      203 |
    > 204 |       await waitFor(() => {
          |                    ^
      205 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      206 |       });
      207 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:204:20)

FAIL app/admin/accommodations/page.test.tsx (13.226 s)
  ‚óè Console

    console.error
      An update to AccommodationsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       const result = await response.json();
      69 |       if (result.success) {
    > 70 |         setAccommodations(result.data.accommodations || []);
         |         ^
      71 |       } else {
      72 |         addToast({
      73 |           type: 'error',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setAccommodations (app/admin/accommodations/page.tsx:70:9)

    console.error
      An update to AccommodationsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      81 |       });
      82 |     } finally {
    > 83 |       setLoading(false);
         |       ^
      84 |     }
      85 |   }, [addToast]);
      86 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/accommodations/page.tsx:83:7)

    console.error
      An update to AccommodationsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

       97 |       const result = await response.json();
       98 |       if (result.success) {
    >  99 |         setLocations(result.data.locations || []);
          |         ^
      100 |       }
      101 |     } catch (error) {
      102 |       // Silently fail for locations - not critical

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLocations (app/admin/accommodations/page.tsx:99:9)

  ‚óè AccommodationsPage ‚Ä∫ Room types navigation ‚Ä∫ should navigate to room types page when Room Types button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      300 |       });
      301 |
    > 302 |       await waitFor(() => {
          |                    ^
      303 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      304 |       });
      305 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:302:20)

  ‚óè AccommodationsPage ‚Ä∫ Room types navigation ‚Ä∫ should navigate to correct accommodation room types page

    Found multiple elements with the text: Hotel Capitan Suizo

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      315 |       render(<AccommodationsPage />);
      316 |
    > 317 |       await waitFor(() => {
          |                    ^
      318 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      319 |       });
      320 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:317:20)

  ‚óè AccommodationsPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to section editor when Manage Sections button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      336 |       });
      337 |
    > 338 |       await waitFor(() => {
          |                    ^
      339 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      340 |       });
      341 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:338:20)

  ‚óè AccommodationsPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to correct accommodation sections page

    Found multiple elements with the text: Hotel Capitan Suizo

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      351 |       render(<AccommodationsPage />);
      352 |
    > 353 |       await waitFor(() => {
          |                    ^
      354 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      355 |       });
      356 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:353:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation editing ‚Ä∫ should open edit form when accommodation row is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      368 |       render(<AccommodationsPage />);
      369 |
    > 370 |       await waitFor(() => {
          |                    ^
      371 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      372 |       });
      373 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:370:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation editing ‚Ä∫ should populate form with accommodation data when editing

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      384 |       render(<AccommodationsPage />);
      385 |
    > 386 |       await waitFor(() => {
          |                    ^
      387 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      388 |       });
      389 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:386:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation deletion ‚Ä∫ should show delete confirmation dialog when delete button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      405 |       render(<AccommodationsPage />);
      406 |
    > 407 |       await waitFor(() => {
          |                    ^
      408 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      409 |       });
      410 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:407:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation deletion ‚Ä∫ should delete accommodation after confirmation

    Unable to find an element with the text: Tamarindo Diria Beach Resort. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      444 |       render(<AccommodationsPage />);
      445 |
    > 446 |       await waitFor(() => {
          |                    ^
      447 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      448 |       });
      449 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:446:20)

  ‚óè AccommodationsPage ‚Ä∫ Data loading ‚Ä∫ should display accommodations after loading

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      461 |       render(<AccommodationsPage />);
      462 |
    > 463 |       await waitFor(() => {
          |                    ^
      464 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      465 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      466 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:463:20)

  ‚óè AccommodationsPage ‚Ä∫ Status display ‚Ä∫ should apply correct styling to status badges

    Found multiple elements with the text: Available

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<option[39m
      [33mvalue[39m=[32m"available"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</option>[39m

    Ignored nodes: comments, script, style
    [36m<option[39m
      [33mvalue[39m=[32m"available"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</option>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-jungle-100 text-jungle-800"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-jungle-100 text-jungle-800"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      511 |       render(<AccommodationsPage />);
      512 |
    > 513 |       await waitFor(() => {
          |                    ^
      514 |         const availableBadge = screen.getByText('Available');
      515 |         expect(availableBadge).toHaveClass('bg-jungle-100', 'text-jungle-800');
      516 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:513:20)

FAIL app/admin/accommodations/[id]/room-types/page.test.tsx (15.543 s)
  ‚óè Console

    console.error
      An update to RoomTypesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      59 |       const result = await response.json();
      60 |       if (result.success) {
    > 61 |         setAccommodationName(result.data.name || 'Accommodation');
         |         ^
      62 |       }
      63 |     } catch (error) {
      64 |       console.error('Failed to fetch accommodation:', error);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setAccommodationName (app/admin/accommodations/[id]/room-types/page.tsx:61:9)

    console.error
      An update to RoomTypesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      80 |       const result = await response.json();
      81 |       if (result.success) {
    > 82 |         setRoomTypes(result.data || []);
         |         ^
      83 |       } else {
      84 |         addToast({
      85 |           type: 'error',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setRoomTypes (app/admin/accommodations/[id]/room-types/page.tsx:82:9)

    console.error
      An update to RoomTypesPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      93 |       });
      94 |     } finally {
    > 95 |       setLoading(false);
         |       ^
      96 |     }
      97 |   }, [accommodationId, addToast]);
      98 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/accommodations/[id]/room-types/page.tsx:95:7)

  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display capacity information for each room type

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      221 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      222 |
    > 223 |       await waitFor(() => {
          |                    ^
      224 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      225 |       });
      226 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:223:20)

  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display total rooms for each room type

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      232 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      233 |
    > 234 |       await waitFor(() => {
          |                    ^
      235 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      236 |       });
      237 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:234:20)

  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should calculate and display occupancy percentage

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      243 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      244 |
    > 245 |       await waitFor(() => {
          |                    ^
      246 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      247 |       });
      248 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:245:20)

  ‚óè RoomTypesPage ‚Ä∫ Guest assignment ‚Ä∫ should display guest assignment interface

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      256 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      257 |
    > 258 |       await waitFor(() => {
          |                    ^
      259 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      260 |       });
      261 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:258:20)

  ‚óè RoomTypesPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to section editor when Manage Sections button is clicked

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      269 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      270 |
    > 271 |       await waitFor(() => {
          |                    ^
      272 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      273 |       });
      274 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:271:20)

  ‚óè RoomTypesPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to correct room type sections page

    Found multiple elements with the text: Standard Room

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mStandard Room[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mStandard Room[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      284 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      285 |
    > 286 |       await waitFor(() => {
          |                    ^
      287 |         expect(screen.getByText('Standard Room')).toBeInTheDocument();
      288 |       });
      289 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:286:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type editing ‚Ä∫ should open edit form when room type row is clicked

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      301 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      302 |
    > 303 |       await waitFor(() => {
          |                    ^
      304 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      305 |       });
      306 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:303:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type editing ‚Ä∫ should populate form with room type data when editing

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      317 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      318 |
    > 319 |       await waitFor(() => {
          |                    ^
      320 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      321 |       });
      322 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:319:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type deletion ‚Ä∫ should delete room type after confirmation

    Unable to find an element with the text: Ocean View Suite. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      366 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      367 |
    > 368 |       await waitFor(() => {
          |                    ^
      369 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      370 |       });
      371 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:368:20)

  ‚óè RoomTypesPage ‚Ä∫ Data loading ‚Ä∫ should display room types after loading

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      406 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      407 |
    > 408 |       await waitFor(() => {
          |                    ^
      409 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      410 |         expect(screen.getByText('Standard Room')).toBeInTheDocument();
      411 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:408:20)

  ‚óè RoomTypesPage ‚Ä∫ Price display ‚Ä∫ should format prices as currency

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      447 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      448 |
    > 449 |       await waitFor(() => {
          |                    ^
      450 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      451 |       });
      452 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:449:20)

FAIL app/admin/activities/page.guestView.test.tsx (7.171 s)
  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each activity

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>]

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                   ...

      161 |       await waitFor(() => {
      162 |         const viewButtons = screen.getAllByRole('button', { name: /^view$/i });
    > 163 |         expect(viewButtons).toHaveLength(mockActivities.length);
          |                             ^
      164 |       });
      165 |     });
      166 |

      at toHaveLength (app/admin/activities/page.guestView.test.tsx:163:29)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing activity page when View button is clicked

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      168 |       render(<ActivitiesPage />);
      169 |
    > 170 |       await waitFor(() => {
          |                    ^
      171 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      172 |       });
      173 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:170:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each activity ID

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      181 |       render(<ActivitiesPage />);
      182 |
    > 183 |       await waitFor(() => {
          |                    ^
      184 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      185 |       });
      186 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:183:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      201 |       render(<ActivitiesPage />);
      202 |
    > 203 |       await waitFor(() => {
          |                    ^
      204 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      205 |       });
      206 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:203:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/activities/ prefix

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      219 |       render(<ActivitiesPage />);
      220 |
    > 221 |       await waitFor(() => {
          |                    ^
      222 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      223 |       });
      224 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:221:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use activity ID in URL

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      232 |       render(<ActivitiesPage />);
      233 |
    > 234 |       await waitFor(() => {
          |                    ^
      235 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      236 |       });
      237 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:234:20)

FAIL app/admin/events/page.test.tsx (7.764 s)
  ‚óè EventsPage ‚Ä∫ Event creation with collapsible form ‚Ä∫ should create event with collapsible form

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/admin/events", ObjectContaining {"headers": {"Content-Type": "application/json"}, "method": "POST"}
    Received
           1: "/api/admin/events"
           2: "/api/admin/locations"
           3: "/api/admin/events"

    Number of calls: 106

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mEvent Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding events[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new event"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Event[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Event[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mEvent Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter event name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-eventType"[39m
                      [36m>[39m
                        [0mEvent Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-eventType"[39m
                        [33mname[39m=[32m"eventType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mEvent Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"pre_wedding"[39m
                        [36m>[39m
                          [0mPre-wedding[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"post_wedding"[39m
                        [36m>[39m
                          [0mPost-wedding[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m...

      170 |
      171 |       await waitFor(() => {
    > 172 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      173 |           '/api/admin/events',
      174 |           expect.objectContaining({
      175 |             method: 'POST',

      at toHaveBeenCalledWith (app/admin/events/page.test.tsx:172:30)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè EventsPage ‚Ä∫ Event creation with collapsible form ‚Ä∫ should close form and clear fields after successful creation

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <span class="font-medium text-sage-900">Add New Event</span> instead

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mEvent Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding events[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new event"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Event[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Event[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mEvent Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter event name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-eventType"[39m
                      [36m>[39m
                        [0mEvent Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-eventType"[39m
                        [33mname[39m=[32m"eventType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mEvent Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"pre_wedding"[39m
                        [36m>[39m
                          [0mPre-wedding[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"post_wedding"[39m
                        [36m>[39m
                          [0mPost-wedding[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m...

      237 |       // Form should close after successful creation
      238 |       await waitFor(() => {
    > 239 |         expect(screen.queryByText('Add New Event')).not.toBeInTheDocument();
          |                                                         ^
      240 |       });
      241 |     });
      242 |   });

      at toBeInTheDocument (app/admin/events/page.test.tsx:239:57)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè EventsPage ‚Ä∫ Location selection ‚Ä∫ should display LocationSelector in the form

    Found multiple elements with the text: Location

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<label[39m
      [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-2"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</label>[39m

    Ignored nodes: comments, script, style
    [36m<span>[39m
      [0mLocation[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-xs font-medium text-sage-600 uppercase tracking-wider"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-xs font-medium text-sage-600 uppercase tracking-wider"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      254 |       fireEvent.click(addButton);
      255 |
    > 256 |       await waitFor(() => {
          |                    ^
      257 |         expect(screen.getByText('Location')).toBeInTheDocument();
      258 |         expect(screen.getByPlaceholderText(/select event location/i)).toBeInTheDocument();
      259 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:256:20)

  ‚óè EventsPage ‚Ä∫ Conflict detection ‚Ä∫ should display conflict error when scheduling conflict occurs

    Unable to find an element with the text: /scheduling conflict/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      363 |
      364 |       // Should display conflict error
    > 365 |       await waitFor(() => {
          |                    ^
      366 |         expect(screen.getByText(/scheduling conflict/i)).toBeInTheDocument();
      367 |       });
      368 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:365:20)

  ‚óè EventsPage ‚Ä∫ Conflict detection ‚Ä∫ should clear conflict error when form is reopened

    Unable to find an element with the text: /scheduling conflict/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      430 |       fireEvent.click(submitButton);
      431 |
    > 432 |       await waitFor(() => {
          |                    ^
      433 |         expect(screen.getByText(/scheduling conflict/i)).toBeInTheDocument();
      434 |       });
      435 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:432:20)

FAIL app/admin/vendors/page.test.tsx (5.222 s)
  ‚óè Console

    console.error
      An update to VendorsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      62 |       const result = await response.json();
      63 |       if (result.success) {
    > 64 |         setVendors(result.data.vendors || []);
         |         ^
      65 |       } else {
      66 |         addToast({
      67 |           type: 'error',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVendors (app/admin/vendors/page.tsx:64:9)

    console.error
      An update to VendorsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      75 |       });
      76 |     } finally {
    > 77 |       setLoading(false);
         |       ^
      78 |     }
      79 |   }, [addToast]);
      80 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/vendors/page.tsx:77:7)

  ‚óè VendorsPage - Payment Status Display ‚Ä∫ should display payment status badges correctly

    Found multiple elements with the text: UNPAID

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33maria-label[39m=[32m"Status: UNPAID"[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-red-100 text-red-800 border-red-200 "[39m
      [33mrole[39m=[32m"status"[39m
    [36m>[39m
      [0mUNPAID[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33maria-label[39m=[32m"Status: UNPAID"[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-red-100 text-red-800 border-red-200 "[39m
      [33mrole[39m=[32m"status"[39m
    [36m>[39m
      [0mUNPAID[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      153 |
      154 |     // Check for payment status badges
    > 155 |     await waitFor(() => {
          |                  ^
      156 |       expect(screen.getByText('UNPAID')).toBeInTheDocument();
      157 |       expect(screen.getByText('PARTIAL')).toBeInTheDocument();
      158 |       expect(screen.getByText('PAID')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:155:18)

  ‚óè VendorsPage - Payment Status Display ‚Ä∫ should display vendor categories correctly

    Found multiple elements with the text: Photographer

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPhotographer[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPhotographer[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      177 |
      178 |     // Check that all vendors are displayed
    > 179 |     await waitFor(() => {
          |                  ^
      180 |       expect(screen.getByText('Photographer')).toBeInTheDocument();
      181 |       expect(screen.getByText('Caterer')).toBeInTheDocument();
      182 |       expect(screen.getByText('Florist')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:179:18)

  ‚óè VendorsPage - Collapsible Form Integration ‚Ä∫ should toggle form visibility when clicking add vendor button

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <input aria-invalid="false" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300" id="field-name" name="name" placeholder="Enter vendor name" required="" type="text" value="" /> instead

      205 |
      206 |     // Initially form fields should not be visible
    > 207 |     expect(screen.queryByLabelText(/Vendor Name/i)).not.toBeInTheDocument();
          |                                                         ^
      208 |
      209 |     // Click the toggle to open form
      210 |     const addButton = screen.getByText('Add Vendor');

      at Object.toBeInTheDocument (app/admin/vendors/page.test.tsx:207:57)

  ‚óè VendorsPage - Collapsible Form Integration ‚Ä∫ should display form fields for vendor creation

    TestingLibraryElementError: Found multiple elements with the text of: /Category/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-category"[39m
      [33mname[39m=[32m"category"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mCategory[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"photography"[39m
      [36m>[39m
        [0mPhotography[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"flowers"[39m
      [36m>[39m
        [0mFlowers[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"catering"[39m
      [36m>[39m
        [0mCatering[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"music"[39m
      [36m>[39m
        [0mMusic[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"transportation"[39m
      [36m>[39m
        [0mTransportation[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"decoration"[39m
      [36m>[39m
        [0mDecoration[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Category"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-category"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mCategory[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"photography"[39m
      [36m>[39m
        [0mPhotography[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"flowers"[39m
      [36m>[39m
        [0mFlowers[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"catering"[39m
      [36m>[39m
        [0mCatering[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"music"[39m
      [36m>[39m
        [0mMusic[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"transportation"[39m
      [36m>[39m
        [0mTransportation[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"decoration"[39m
      [36m>[39m
        [0mDecoration[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
        ...

      236 |     // Check that all required fields are present
      237 |     expect(screen.getByLabelText(/Vendor Name/i)).toBeInTheDocument();
    > 238 |     expect(screen.getByLabelText(/Category/i)).toBeInTheDocument();
          |                   ^
      239 |     expect(screen.getByLabelText(/Pricing Model/i)).toBeInTheDocument();
      240 |     expect(screen.getByLabelText(/Base Cost/i)).toBeInTheDocument();
      241 |   });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/vendors/page.test.tsx:238:19)

  ‚óè VendorsPage - Vendor Data Display ‚Ä∫ should display vendor list with correct data

    Found multiple elements with the text: Test Photographer

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Photographer[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Photographer[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      269 |
      270 |     // Check vendor data is displayed
    > 271 |     await waitFor(() => {
          |                  ^
      272 |       expect(screen.getByText('Test Photographer')).toBeInTheDocument();
      273 |       expect(screen.getByText('Photography')).toBeInTheDocument();
      274 |       expect(screen.getByText('PARTIAL')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:271:18)

  ‚óè VendorsPage - Payment Validation ‚Ä∫ should validate that amount paid does not exceed base cost

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"message": StringContaining "Amount paid cannot exceed base cost", "type": "error"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mVendor Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding vendors and track payments[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Vendor[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mVendor Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter vendor name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m"Test Vendor"[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-category"[39m
                      [36m>[39m
                        [0mCategory[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-category"[39m
                        [33mname[39m=[32m"category"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mCategory[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"photography"[39m
                        [36m>[39m
                          [0mPhotography[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"flowers"[39m
                        [36m>[39m
                          [0mFlowers[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"catering"[39m
                        [36m>[39m
                          [0mCatering[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"music"[39m
                        [36m>[39m
                          [0mMusic[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transportation"[39m
                        [36m>[39m
                          [0mTransportation[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"decoration"[39m
                        [36m>[39m
                          [0mDecoration[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"other"[39m
                        [36m>[39m
                          [0mOther[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-contactName"[39m
                      [36m>[39m
                        [0mContact Name[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:ou...

      343 |     // Should show error toast
      344 |     await waitFor(() => {
    > 345 |       expect(mockAddToast).toHaveBeenCalledWith(
          |                            ^
      346 |         expect.objectContaining({
      347 |           type: 'error',
      348 |           message: expect.stringContaining('Amount paid cannot exceed base cost'),

      at toHaveBeenCalledWith (app/admin/vendors/page.test.tsx:345:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

FAIL app/admin/activities/page.test.tsx (7.245 s)
  ‚óè Console

    console.error
      Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.

      128 |       const result = await response.json();
      129 |       if (result.success) {
    > 130 |         setEvents(result.data.events || []);
          |         ^
      131 |       }
      132 |     } catch (error) {
      133 |       // Silently fail for events - not critical

      at getRootForUpdatedFiber (node_modules/react-dom/cjs/react-dom-client.development.js:4631:17)
      at enqueueConcurrentHookUpdate (node_modules/react-dom/cjs/react-dom-client.development.js:4584:14)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9167:18)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setEvents (app/admin/activities/page.tsx:130:9)

  ‚óè ActivitiesPage ‚Ä∫ Activity creation with collapsible form ‚Ä∫ should create activity with collapsible form

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36...

      228 |
      229 |       await waitFor(() => {
    > 230 |         expect(postCalled).toBe(true);
          |                            ^
      231 |       });
      232 |     });
      233 |

      at toBe (app/admin/activities/page.test.tsx:230:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage ‚Ä∫ Activity creation with collapsible form ‚Ä∫ should close form and clear fields after successful creation

    expect(element).toHaveAttribute("aria-expanded", "false") // element.getAttribute("aria-expanded") === "false"

    Expected the element to have attribute:
      aria-expanded="false"
    Received:
      aria-expanded="true"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36...

      308 |       await waitFor(() => {
      309 |         const formToggleAfter = screen.getByRole('button', { name: /add activity/i });
    > 310 |         expect(formToggleAfter).toHaveAttribute('aria-expanded', 'false');
          |                                 ^
      311 |       });
      312 |     });
      313 |   });

      at toHaveAttribute (app/admin/activities/page.test.tsx:310:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display warning indicator for 90%+ capacity

    Unable to find an element with the text: /‚ö†Ô∏è/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      388 |
      389 |       // Should display warning emoji for 90%+ capacity
    > 390 |       await waitFor(() => {
          |                    ^
      391 |         const warningElements = screen.getAllByText(/‚ö†Ô∏è/);
      392 |         expect(warningElements.length).toBeGreaterThan(0);
      393 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:390:20)

  ‚óè ActivitiesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display alert indicator for 100% capacity

    Unable to find an element with the text: /üî¥/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      454 |
      455 |       // Should display alert emoji for 100% capacity
    > 456 |       await waitFor(() => {
          |                    ^
      457 |         const alertElements = screen.getAllByText(/üî¥/);
      458 |         expect(alertElements.length).toBeGreaterThan(0);
      459 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:456:20)

  ‚óè ActivitiesPage ‚Ä∫ Capacity warnings ‚Ä∫ should display capacity utilization in form help text when editing

    Unable to find an element with the text: /current utilization/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mEdit Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"Beach Day"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m"Fun beach activities"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
               ...

      575 |
      576 |       // Should display capacity utilization in help text
    > 577 |       await waitFor(() => {
          |                    ^
      578 |         const helpText = screen.getByText(/current utilization/i);
      579 |         expect(helpText).toBeInTheDocument();
      580 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:577:20)

FAIL components/admin/CollapsibleForm.test.tsx (7.507 s)
  ‚óè Console

    console.error
      Form submission error: Error: Server error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/components/admin/CollapsibleForm.test.tsx:417:57)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      129 |       onToggle(); // Collapse form
      130 |     } catch (error) {
    > 131 |       console.error('Form submission error:', error);
          |               ^
      132 |       setErrors({ _form: error instanceof Error ? error.message : 'Submission failed' });
      133 |     } finally {
      134 |       setIsSubmitting(false);

      at error (components/admin/CollapsibleForm.tsx:131:15)

    console.error
      Form submission error: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/components/admin/CollapsibleForm.test.tsx:1274:55)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      129 |       onToggle(); // Collapse form
      130 |     } catch (error) {
    > 131 |       console.error('Form submission error:', error);
          |               ^
      132 |       setErrors({ _form: error instanceof Error ? error.message : 'Submission failed' });
      133 |     } finally {
      134 |       setIsSubmitting(false);

      at error (components/admin/CollapsibleForm.tsx:131:15)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should display validation errors for invalid email format

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John Doe"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"not-an-email"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      244 |
      245 |       // Wait for Zod validation error
    > 246 |       await waitFor(() => {
          |                    ^
      247 |         expect(screen.getByText('Invalid email')).toBeInTheDocument();
      248 |       });
      249 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:246:20)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should clear field error when user starts typing

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid-email"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      309 |       fireEvent.click(submitButton);
      310 |
    > 311 |       await waitFor(() => {
          |                    ^
      312 |         expect(screen.getByText('Invalid email')).toBeInTheDocument();
      313 |       });
      314 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:311:20)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should link error messages with aria-describedby

    expect(element).toHaveAttribute("aria-describedby", "field-email-error") // element.getAttribute("aria-describedby") === "field-email-error"

    Expected the element to have attribute:
      aria-describedby="field-email-error"
    Received:
      null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Item[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mName[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"John"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-email"[39m
                    [36m>[39m
                      [0mEmail[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-email"[39m
                      [33mname[39m=[32m"email"[39m
                      [33mplaceholder[39m=[32m"Enter email"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"email"[39m
                      [33mvalue[39m=[32m"invalid"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-age"[39m
                    [36m>[39m
                      [0mAge[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-age"[39m
                      [33mname[39m=[32m"age"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m"25"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      407 |       await waitFor(() => {
      408 |         const emailInputElement = screen.getByLabelText(/email/i);
    > 409 |         expect(emailInputElement).toHaveAttribute('aria-describedby', 'field-email-error');
          |                                   ^
      410 |         
      411 |         const errorMessage = screen.getByText('Invalid email');
      412 |         expect(errorMessage).toHaveAttribute('id', 'field-email-error');

      at toHaveAttribute (components/admin/CollapsibleForm.test.tsx:409:35)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should apply error styling to fields with validation errors

    expect(received).toContain(expected) // indexOf

    Expected substring: "border-volcano-500"
    Received string:    "w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Item[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mName[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-name-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-name-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-email"[39m
                    [36m>[39m
                      [0mEmail[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-email-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-email"[39m
                      [33mname[39m=[32m"email"[39m
                      [33mplaceholder[39m=[32m"Enter email"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"email"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-email-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-age"[39m
                    [36m>[39m
                      [0mAge[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-age-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-age"[39m
                      [33mname[39m=[32m"age"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-age-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      464 |       await waitFor(() => {
      465 |         const nameInput = screen.getByLabelText(/name/i);
    > 466 |         expect(nameInput.className).toContain('border-volcano-500');
          |                                     ^
      467 |       });
      468 |     });
      469 |   });

      at toContain (components/admin/CollapsibleForm.test.tsx:466:37)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm ‚Ä∫ Field Rendering ‚Ä∫ should mark required fields with asterisk

    expect(received).toContain(expected) // indexOf

    Expected substring: "text-volcano-500"
    Received string:    "text-red-500 ml-1"

      964 |       // Verify asterisks have the correct styling
      965 |       asterisks.forEach(asterisk => {
    > 966 |         expect(asterisk.className).toContain('text-volcano-500');
          |                                    ^
      967 |       });
      968 |     });
      969 |

      at toContain (components/admin/CollapsibleForm.test.tsx:966:36)
          at Array.forEach (<anonymous>)
      at Object.forEach (components/admin/CollapsibleForm.test.tsx:965:17)

  ‚óè CollapsibleForm ‚Ä∫ Accessibility ‚Ä∫ should have proper role on error messages

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      1179 |       fireEvent.click(submitButton);
      1180 |
    > 1181 |       await waitFor(() => {
           |                    ^
      1182 |         const errorMessage = screen.getByText('Invalid email');
      1183 |         expect(errorMessage).toHaveAttribute('role', 'alert');
      1184 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:1181:20)

FAIL app/admin/guests/page.collapsibleForm.test.tsx (5.716 s)
  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Expansion and Collapse ‚Ä∫ should expand form when Add Guest button is clicked

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <label class="block text-sm font-medium text-gray-700" for="field-firstName">First Name<span class="text-red-500 ml-1">*</span></label> instead

      146 |
      147 |       // Form should not be visible initially
    > 148 |       expect(screen.queryByText('First Name')).not.toBeInTheDocument();
          |                                                    ^
      149 |
      150 |       // Click Add Guest button
      151 |       const addButton = screen.getByRole('button', { name: /add guest/i });

      at Object.toBeInTheDocument (app/admin/guests/page.collapsibleForm.test.tsx:148:52)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Expansion and Collapse ‚Ä∫ should collapse form when Cancel button is clicked

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <input aria-invalid="false" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300" id="field-firstName" name="firstName" placeholder="Enter first name" required="" type="text" value="" /> instead

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mGuest Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding guest list[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"cursor-pointer"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-busy[39m=[32m"false"[39m
                    [33maria-disabled[39m=[32m"false"[39m
                    [33maria-label[39m=[32m"Import guests from CSV"[39m
                    [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mImport CSV[0m
                  [36m</button>[39m
                  [36m<input[39m
                    [33maccept[39m=[32m".csv"[39m
                    [33mclass[39m=[32m"hidden"[39m
                    [33mid[39m=[32m"csv-import-input"[39m
                    [33mtype[39m=[32m"file"[39m
                  [36m/>[39m
                [36m</label>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Export guests to CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mExport CSV[0m
                [36m</button>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Add new guest"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mdata-action[39m=[32m"add-new"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m+ Add Guest[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
              [36m>[39m
                [0mFilters[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"rsvpStatus"[39m
                  [36m>[39m
                    [0mRSVP Status[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"rsvpStatus"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"pending"[39m
                    [36m>[39m
                      [0mPending[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"attending"[39m
                    [36m>[39m
                      [0mAttending[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"declined"[39m
                    [36m>[39m
                      [0mDeclined[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"maybe"[39m
                    [36m>[39m
                      [0mMaybe[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"activity"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"transportation"[39m
                  [36m>[39m
                    [0mTransportation[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"transportation"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
              ...

      185 |       // Form should be collapsed
      186 |       await waitFor(() => {
    > 187 |         expect(screen.queryByLabelText(/first name/i)).not.toBeInTheDocument();
          |                                                            ^
      188 |       });
      189 |     });
      190 |

      at toBeInTheDocument (app/admin/guests/page.collapsibleForm.test.tsx:187:60)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should submit form and create guest successfully

    TestingLibraryElementError: Found multiple elements with the role "combobox" and name `/group/i`

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"ageGroup"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"adult"[39m
      [36m>[39m
        [0mAdult[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"child"[39m
      [36m>[39m
        [0mChild[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"senior"[39m
      [36m>[39m
        [0mSenior[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full md:w-64 px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"grouping"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mNone[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"groupId"[39m
      [36m>[39m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"guestType"[39m
      [36m>[39m
        [0mGuest Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"ageType"[39m
      [36m>[39m
        [0mAge Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"airportCode"[39m
      [36m>[39m
        [0mAirport[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Group"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-groupId"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-groupId"[39m
      [33mname[39m=[32m"groupId"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      281 |       
      282 |       // Select group using the form field ID
    > 283 |       const groupSelect = screen.getByRole('combobox', { name: /group/i });
          |                                  ^
      284 |       fireEvent.change(groupSelect, {
      285 |         target: { value: mockGroup.id },
      286 |       });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (app/admin/guests/page.collapsibleForm.test.tsx:283:34)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should display validation errors for invalid input

    Unable to find an element with the text: /required/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      346 |
      347 |       // Verify validation errors are displayed
    > 348 |       await waitFor(() => {
          |                    ^
      349 |         const errorMessages = screen.getAllByText(/required/i);
      350 |         expect(errorMessages.length).toBeGreaterThan(0);
      351 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.collapsibleForm.test.tsx:348:20)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should update existing guest when editing

    Found multiple elements with the text: John

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mJohn[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mJohn[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      393 |
      394 |       // Wait for page to load with guest data
    > 395 |       await waitFor(() => {
          |                    ^
      396 |         expect(screen.getByText('John')).toBeInTheDocument();
      397 |       });
      398 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.collapsibleForm.test.tsx:395:20)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form State Management ‚Ä∫ should clear form fields after successful submission

    TestingLibraryElementError: Found multiple elements with the text of: /group/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"ageGroup"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"adult"[39m
      [36m>[39m
        [0mAdult[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"child"[39m
      [36m>[39m
        [0mChild[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"senior"[39m
      [36m>[39m
        [0mSenior[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full md:w-64 px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"grouping"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mNone[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"groupId"[39m
      [36m>[39m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"guestType"[39m
      [36m>[39m
        [0mGuest Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"ageType"[39m
      [36m>[39m
        [0mAge Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"airportCode"[39m
      [36m>[39m
        [0mAirport[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Group"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-groupId"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-groupId"[39m
      [33mname[39m=[32m"groupId"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      543 |       });
      544 |       
    > 545 |       const groupSelect = screen.getByLabelText(/group/i);
          |                                  ^
      546 |       fireEvent.change(groupSelect, {
      547 |         target: { value: mockGroup.id },
      548 |       });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.collapsibleForm.test.tsx:545:34)

FAIL __tests__/build/typescript.build.test.ts (47.07 s)
  ‚óè Console

    console.warn
      Warning: Found 436 instances of 'as any'. Consider reducing type assertions.

      62 |       
      63 |       if (count > 10) {
    > 64 |         console.warn(`Warning: Found ${count} instances of 'as any'. Consider reducing type assertions.`);
         |                 ^
      65 |       }
      66 |       
      67 |       // This is a soft check - we don't fail the test, just warn

      at Object.warn (__tests__/build/typescript.build.test.ts:64:17)

  ‚óè TypeScript Compilation ‚Ä∫ should compile without errors

    expect(received).not.toThrow()

    Error name:    "Error"
    Error message: "Command failed: npx tsc --noEmit"

          16 |   it('should compile without errors', () => {
          17 |     expect(() => {
        > 18 |       execSync('npx tsc --noEmit', { 
             |               ^
          19 |         stdio: 'pipe',
          20 |         encoding: 'utf-8' 
          21 |       });

      at __tests__/build/typescript.build.test.ts:18:15
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.toThrow (__tests__/build/typescript.build.test.ts:22:12)
      at Object.toThrow (__tests__/build/typescript.build.test.ts:22:12)

  ‚óè TypeScript Compilation ‚Ä∫ should have 0 TypeScript errors

    ReferenceError: fail is not defined

      35 |     } catch (error: any) {
      36 |       // If tsc exits with error code, fail the test with the output
    > 37 |       fail(`TypeScript compilation failed:\n${error.stdout || error.message}`);
         |       ^
      38 |     }
      39 |   }, 30000);
      40 |

      at Object.fail (__tests__/build/typescript.build.test.ts:37:7)

FAIL app/admin/transportation/page.test.tsx
  ‚óè Console

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      69 |       // Group guests by time windows
      70 |       const windows = groupGuestsByTimeWindow(result.data.guests || []);
    > 71 |       setTimeWindows(windows);
         |       ^
      72 |
      73 |       // Calculate vehicle requirements
      74 |       const totalGuests = result.data.guests?.length || 0;

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTimeWindows (app/admin/transportation/page.tsx:71:7)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      88 |         }
      89 |       } else {
    > 90 |         setVehicleRequirements([]);
         |         ^
      91 |         setTotalCost(0);
      92 |       }
      93 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVehicleRequirements (app/admin/transportation/page.tsx:90:9)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      89 |       } else {
      90 |         setVehicleRequirements([]);
    > 91 |         setTotalCost(0);
         |         ^
      92 |       }
      93 |     } catch (err) {
      94 |       setError(err instanceof Error ? err.message : 'Unknown error');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotalCost (app/admin/transportation/page.tsx:91:9)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      94 |       setError(err instanceof Error ? err.message : 'Unknown error');
      95 |     } finally {
    > 96 |       setLoading(false);
         |       ^
      97 |     }
      98 |   }, [activeTab, selectedDate, selectedAirport]);
      99 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/transportation/page.tsx:96:7)

    console.error
      TypeError: Cannot read properties of undefined (reading 'first_name')
          at Object.first_name [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/transportation/page.tsx:289:52)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      TypeError: Cannot read properties of undefined (reading 'first_name')
          at Object.first_name [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/transportation/page.tsx:289:52)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      TypeError: Cannot read properties of undefined (reading 'first_name')
          at Object.first_name [as render] (/Users/jaron/Desktop/wedding-platform-v2/app/admin/transportation/page.tsx:289:52)
          at render (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
          at map (/Users/jaron/Desktop/wedding-platform-v2/components/ui/DataTable.tsx:550:22)
          at Object.react_stack_bottom_frame (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
          at renderWithHooks (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
          at updateFunctionComponent (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
          at beginWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
          at runWithFiberInDEV (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
          at performUnitOfWork (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
          at workLoopSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
          at renderRootSync (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
          at performWorkOnRoot (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
          at performWorkOnRootViaSchedulerTask (/Users/jaron/Desktop/wedding-platform-v2/node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
          at performWorkUntilDeadline (/Users/jaron/Desktop/wedding-platform-v2/node_modules/scheduler/cjs/scheduler.development.js:45:48)
          at Timeout.task [as _onTimeout] (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-environment-jsdom/node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)
          at listOnTimeout (node:internal/timers:573:17)
          at processTimers (node:internal/timers:514:7)

      at Object.<anonymous>.process.env.NODE_ENV.reportGlobalError (node_modules/react-dom/cjs/react-dom-client.development.js:25513:23)
      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9361:7)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.warn
      An error occurred in the <DataTable> component.
      
      Consider adding an error boundary to your tree to customize error handling behavior.
      Visit https://react.dev/link/error-boundaries to learn more about error boundaries.

      at defaultOnUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9362:15)
      at logUncaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:9431:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at lane.callback (node_modules/react-dom/cjs/react-dom-client.development.js:9461:9)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:7423:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:7443:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14047:15)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18138:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17954:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      69 |       // Group guests by time windows
      70 |       const windows = groupGuestsByTimeWindow(result.data.guests || []);
    > 71 |       setTimeWindows(windows);
         |       ^
      72 |
      73 |       // Calculate vehicle requirements
      74 |       const totalGuests = result.data.guests?.length || 0;

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTimeWindows (app/admin/transportation/page.tsx:71:7)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      88 |         }
      89 |       } else {
    > 90 |         setVehicleRequirements([]);
         |         ^
      91 |         setTotalCost(0);
      92 |       }
      93 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVehicleRequirements (app/admin/transportation/page.tsx:90:9)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      89 |       } else {
      90 |         setVehicleRequirements([]);
    > 91 |         setTotalCost(0);
         |         ^
      92 |       }
      93 |     } catch (err) {
      94 |       setError(err instanceof Error ? err.message : 'Unknown error');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setTotalCost (app/admin/transportation/page.tsx:91:9)

    console.error
      An update to TransportationPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      94 |       setError(err instanceof Error ? err.message : 'Unknown error');
      95 |     } finally {
    > 96 |       setLoading(false);
         |       ^
      97 |     }
      98 |   }, [activeTab, selectedDate, selectedAirport]);
      99 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/transportation/page.tsx:96:7)

  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      78 |         // Check that the time window header is displayed
      79 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 80 |         expect(timeWindowText).toBeInTheDocument();
         |                                ^
      81 |       });
      82 |     });
      83 |

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:80:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      164 |       await waitFor(() => {
      165 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 166 |         expect(timeWindowText).toBeInTheDocument();
          |                                ^
      167 |       });
      168 |
      169 |       // Find shuttle input and change it

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:166:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Vehicle Calculations ‚Ä∫ should calculate and display vehicle requirements

    Unable to find an element with the text: /vehicle requirements/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold"[39m
            [36m>[39m
              [0mTransportation Management[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGenerate Driver Sheets[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPrint Manifest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-4 border-b"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium border-b-2 border-blue-500 text-blue-600"[39m
            [36m>[39m
              [0mArrivals[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium text-gray-600 hover:text-gray-900"[39m
            [36m>[39m
              [0mDepartures[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"date-filter"[39m
                [36m>[39m
                  [0mDate[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"date-filter"[39m
                  [33mtype[39m=[32m"date"[39m
                  [33mvalue[39m=[32m"2026-01-29"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [0mAirport[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Airports[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"SJO"[39m
                  [36m>[39m
                    [0mSJO - San Jos√©[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"LIR"[39m
                  [36m>[39m
                    [0mLIR - Liberia[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"Other"[39m
                  [36m>[39m
                    [0mOther[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"[39m
          [36m>[39m
            [0mCannot read properties of undefined (reading 'guests')[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-8 text-center text-gray-500"[39m
          [36m>[39m
            [0mNo guests scheduled for [0m
            [0marrivals[0m
            [0m on [0m
            [0m2026-01-29[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      209 |       render(<TransportationPage />);
      210 |
    > 211 |       await waitFor(() => {
          |                    ^
      212 |         expect(screen.getByText(/vehicle requirements/i)).toBeInTheDocument();
      213 |       });
      214 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/transportation/page.test.tsx:211:20)

  ‚óè TransportationPage ‚Ä∫ Driver Sheets ‚Ä∫ should generate driver sheets

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

FAIL app/admin/guests/page.filtering.test.tsx (6.618 s)
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:42.088Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:186:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:42.453Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:202:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:39:42.696Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:218:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:4 (2.91.1) 2026-01-29T00:39:42.974Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:234:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:5 (2.91.1) 2026-01-29T00:39:44.100Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:250:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:6 (2.91.1) 2026-01-29T00:39:44.256Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:266:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:7 (2.91.1) 2026-01-29T00:39:44.593Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:279:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:8 (2.91.1) 2026-01-29T00:39:44.715Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:290:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:9 (2.91.1) 2026-01-29T00:39:44.996Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:303:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:10 (2.91.1) 2026-01-29T00:39:45.168Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:314:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:11 (2.91.1) 2026-01-29T00:39:45.374Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:327:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:12 (2.91.1) 2026-01-29T00:39:45.507Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:338:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:13 (2.91.1) 2026-01-29T00:39:45.730Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:351:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:14 (2.91.1) 2026-01-29T00:39:45.831Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:362:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:15 (2.91.1) 2026-01-29T00:39:46.893Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:386:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:16 (2.91.1) 2026-01-29T00:39:47.032Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:406:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:17 (2.91.1) 2026-01-29T00:39:47.506Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:421:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:18 (2.91.1) 2026-01-29T00:39:47.620Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at flushSyncWork$1 (node_modules/react-dom/cjs/react-dom-client.development.js:16898:12)
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3263:14)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at node_modules/@testing-library/dom/dist/events.js:19:20
      at node_modules/@testing-library/react/dist/pure.js:107:16
      at node_modules/@testing-library/react/dist/act-compat.js:47:24
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as change] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.change (app/admin/guests/page.filtering.test.tsx:422:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:19 (2.91.1) 2026-01-29T00:39:47.728Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16667:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:18853:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:18982:11
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:106:28)
      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)
      at Function.fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)
      at Function.fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)
      at Object.click (app/admin/guests/page.filtering.test.tsx:432:15)

    console.warn
      GoTrueClient@sb-localhost-auth-token:20 (2.91.1) 2026-01-29T00:39:47.924Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:443:11)

  ‚óè Guest Management Page - Advanced Filtering ‚Ä∫ should render airport filter dropdown

    Found multiple elements with the text of: /Airport/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"airport"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-airportCode"[39m
      [33mname[39m=[32m"airportCode"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mAirport[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-1"[39m
                  [36m>[39m
                    [0mBeach Day[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-2"[39m
                  [36m>[39m
                    [0mWelcome Dinner[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m...

      238 |     );
      239 |
    > 240 |     await waitFor(() => {
          |                  ^
      241 |       expect(screen.getByLabelText(/Airport/i)).toBeInTheDocument();
      242 |     });
      243 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:240:18)

  ‚óè Guest Management Page - Advanced Filtering ‚Ä∫ should fetch guests with airport filter when changed

    Found multiple elements with the text of: /Airport/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"airport"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-airportCode"[39m
      [33mname[39m=[32m"airportCode"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mAirport[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-1"[39m
                  [36m>[39m
                    [0mBeach Day[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-2"[39m
                  [36m>[39m
                    [0mWelcome Dinner[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m...

      366 |     );
      367 |
    > 368 |     await waitFor(() => {
          |                  ^
      369 |       expect(screen.getByLabelText(/Airport/i)).toBeInTheDocument();
      370 |     });
      371 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:368:18)

FAIL components/ui/ConfirmDialog.property.test.tsx (6.032 s)
  ‚óè ConfirmDialog Property Tests ‚Ä∫ Feature: admin-ui-modernization, Property 36: Confirmed delete execution ‚Ä∫ should disable buttons during confirmation to prevent double-submission

    Property failed after 1 tests
    { seed: -1165907922, path: "0:0:0", endOnFailure: true }
    Counterexample: [{"entityName":" "}]
    Shrunk 2 time(s)
    Got TestingLibraryElementError: Unable to find an element with the text: /loading/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body[39m
      [33mstyle[39m=[32m"position: fixed; top: -0px; width: 100%;"[39m
    [36m>[39m
      [36m<div />[39m
      [36m<div />[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-describedby[39m=[32m"confirm-dialog-message"[39m
          [33maria-labelledby[39m=[32m"confirm-dialog-title"[39m
          [33maria-modal[39m=[32m"true"[39m
          [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in"[39m
          [33mrole[39m=[32m"dialog"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4 border-b border-sage-200"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-sage-900"[39m
                [33mid[39m=[32m"confirm-dialog-title"[39m
              [36m>[39m
                [0mDelete Item[0m
              [36m</h2>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-700 text-base leading-relaxed"[39m
                [33mid[39m=[32m"confirm-dialog-message"[39m
              [36m>[39m
                [0mDelete " "?[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4 border-t border-sage-200 flex items-center justify-end gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"true"[39m
                [33maria-label[39m=[32m"Cancel"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   opacity-50 cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"true"[39m
                [33maria-disabled[39m=[32m"true"[39m
                [33maria-label[39m=[32m"Confirm"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-volcano-500 hover:bg-volcano-600 text-white focus:ring-volcano-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   opacity-50 cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<div[39m
                  [33maria-label[39m=[32m"Loading"[39m
                  [33mclass[39m=[32m"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"[39m
                  [33mrole[39m=[32m"status"[39m
                [36m/>[39m
                [0mConfirm[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |
      373 |               // Verify loading state is shown
    > 374 |               expect(screen.getByText(/loading/i)).toBeInTheDocument();
          |                             ^
      375 |
      376 |               // Try to click again (should not trigger another call)
      377 |               fireEvent.click(confirmButton);

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at getByText (components/ui/ConfirmDialog.property.test.tsx:374:29)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (components/ui/ConfirmDialog.property.test.tsx:333:7)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL app/admin/locations/page.test.tsx
  ‚óè LocationManagementPage ‚Ä∫ Search Functionality ‚Ä∫ should filter locations by search query

    Unable to find an element with the text: Costa Rica. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-800"[39m
          [36m>[39m
            [0mThis would create a circular reference[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mNo locations yet. Add your first location above.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      256 |       render(<LocationManagementPage />);
      257 |
    > 258 |       await waitFor(() => {
          |                    ^
      259 |         expect(screen.getAllByText('Costa Rica').length).toBeGreaterThan(0);
      260 |       });
      261 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/locations/page.test.tsx:258:20)

  ‚óè LocationManagementPage ‚Ä∫ Location Deletion ‚Ä∫ should not delete if confirmation cancelled

    Unable to find an element with the text: Costa Rica. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mNo locations yet. Add your first location above.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      343 |       render(<LocationManagementPage />);
      344 |
    > 345 |       await waitFor(() => {
          |                    ^
      346 |         expect(screen.getAllByText('Costa Rica').length).toBeGreaterThan(0);
      347 |       });
      348 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/locations/page.test.tsx:345:20)

  ‚óè LocationManagementPage ‚Ä∫ Error Handling ‚Ä∫ should display error message on load failure

    TestingLibraryElementError: Unable to find an element with the text: /Failed to load locations/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-1"[39m
                      [36m>[39m
                        [0mCosta Rica[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-2"[39m
                      [36m>[39m
                        [0mGuanacaste[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-3"[39m
                      [36m>[39m
                        [0mTamarindo[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border-b border-gray-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center py-3 px-4 hover:bg-gray-50"[39m
                  [33mstyle[39m=[32m"padding-left: 16px;"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Expand"[39m
                    [33mclass[39m=[32m"mr-2 text-gray-500 hover:text-gray-700"[39m
                  [36m>[39m
                    [0m‚ñ∂[0m
                  [36m</button>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"mr-2"[39m
                  [36m>[39m
                    [0müìç[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mCosta Rica[0m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-3 py-1 text-sm text-blue-600 hover:text-blue-800"[39m
                    [36m>[39m
                      [0mEdit[0m
                    [36m</button>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-3 py-1 text-sm text-red-600 hover:text-red-800"[39m
                    [36m>[39m
                      [0mDelete[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |
      373 |       // Error should be displayed
    > 374 |       expect(screen.getByText(/Failed to load locations/i)).toBeInTheDocument();
          |                     ^
      375 |     });
      376 |
      377 |     it('should show empty state when no locations', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/locations/page.test.tsx:374:21)

FAIL hooks/useRoomTypes.test.ts
  ‚óè Console

    console.error
      Failed to fetch room types: Error: Failed to fetch
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useRoomTypes.ts:60:15

      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);
    > 67 |       console.error('Failed to fetch room types:', errorObj);
         |               ^
      68 |     } finally {
      69 |       setLoading(false);
      70 |     }

      at error (hooks/useRoomTypes.ts:67:15)

    console.error
      Failed to fetch room types: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useRoomTypes.test.ts:100:9)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);
    > 67 |       console.error('Failed to fetch room types:', errorObj);
         |               ^
      68 |     } finally {
      69 |       setLoading(false);
      70 |     }

      at error (hooks/useRoomTypes.ts:67:15)

    console.error
      Failed to fetch room types: Error: Not found
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useRoomTypes.ts:60:15

      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);
    > 67 |       console.error('Failed to fetch room types:', errorObj);
         |               ^
      68 |     } finally {
      69 |       setLoading(false);
      70 |     }

      at error (hooks/useRoomTypes.ts:67:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |     }
      51 |
    > 52 |     setLoading(true);
         |     ^
      53 |     setError(null);
      54 |
      55 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useRoomTypes.ts:52:5)
      at Object.refetch (hooks/useRoomTypes.test.ts:186:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      51 |
      52 |     setLoading(true);
    > 53 |     setError(null);
         |     ^
      54 |
      55 |     try {
      56 |       const response = await fetch(`/api/admin/accommodations/${accommodationId}/room-types`);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useRoomTypes.ts:53:5)
      at Object.refetch (hooks/useRoomTypes.test.ts:186:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      61 |       }
      62 |
    > 63 |       setData(result.data || []);
         |       ^
      64 |     } catch (err) {
      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useRoomTypes.ts:63:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:186:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      67 |       console.error('Failed to fetch room types:', errorObj);
      68 |     } finally {
    > 69 |       setLoading(false);
         |       ^
      70 |     }
      71 |   }, [accommodationId]);
      72 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useRoomTypes.ts:69:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:186:7)

    console.error
      Failed to fetch room types: Error: Initial error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useRoomTypes.test.ts:195:32)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);
    > 67 |       console.error('Failed to fetch room types:', errorObj);
         |               ^
      68 |     } finally {
      69 |       setLoading(false);
      70 |     }

      at error (hooks/useRoomTypes.ts:67:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |     }
      51 |
    > 52 |     setLoading(true);
         |     ^
      53 |     setError(null);
      54 |
      55 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useRoomTypes.ts:52:5)
      at Object.refetch (hooks/useRoomTypes.test.ts:209:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      51 |
      52 |     setLoading(true);
    > 53 |     setError(null);
         |     ^
      54 |
      55 |     try {
      56 |       const response = await fetch(`/api/admin/accommodations/${accommodationId}/room-types`);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useRoomTypes.ts:53:5)
      at Object.refetch (hooks/useRoomTypes.test.ts:209:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      61 |       }
      62 |
    > 63 |       setData(result.data || []);
         |       ^
      64 |     } catch (err) {
      65 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      66 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useRoomTypes.ts:63:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:209:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      67 |       console.error('Failed to fetch room types:', errorObj);
      68 |     } finally {
    > 69 |       setLoading(false);
         |       ^
      70 |     }
      71 |   }, [accommodationId]);
      72 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useRoomTypes.ts:69:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:209:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      92 |
      93 |       // Optimistic update
    > 94 |       setData((prev) => [...prev, result.data]);
         |       ^
      95 |
      96 |       return { success: true, data: result.data };
      97 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as create] (hooks/useRoomTypes.ts:94:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:263:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      92 |
      93 |       // Optimistic update
    > 94 |       setData((prev) => [...prev, result.data]);
         |       ^
      95 |
      96 |       return { success: true, data: result.data };
      97 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as create] (hooks/useRoomTypes.ts:94:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:312:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      120 |
      121 |       // Optimistic update
    > 122 |       setData((prev) =>
          |       ^
      123 |         prev.map((roomType) => (roomType.id === id ? { ...roomType, ...result.data } : roomType))
      124 |       );
      125 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as update] (hooks/useRoomTypes.ts:122:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:366:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |
      149 |       // Optimistic update
    > 150 |       setData((prev) => prev.filter((roomType) => roomType.id !== id));
          |       ^
      151 |
      152 |       return { success: true };
      153 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as remove] (hooks/useRoomTypes.ts:150:7)
      at Object.<anonymous> (hooks/useRoomTypes.test.ts:418:28)

  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically add new room type on create

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 1
    Received array:  [{"accommodationId": "acc-1", "capacity": 2, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-01T00:00:00Z", "id": "room-1", "name": "Ocean View", "pricePerNight": 150, "updatedAt": "2025-01-01T00:00:00Z"}]

      270 |
      271 |       expect(createResult.success).toBe(true);
    > 272 |       expect(result.current.data).toHaveLength(2);
          |                                   ^
      273 |       expect(result.current.data[1]).toEqual(newRoomType);
      274 |     });
      275 |

      at Object.toHaveLength (hooks/useRoomTypes.test.ts:272:35)

  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically update existing room type

    expect(received).toBe(expected) // Object.is equality

    Expected: 175
    Received: 150

      369 |
      370 |       expect(updateResult.success).toBe(true);
    > 371 |       expect(result.current.data[0].pricePerNight).toBe(175);
          |                                                    ^
      372 |     });
      373 |
      374 |     it('should optimistically remove room type on delete', async () => {

      at Object.toBe (hooks/useRoomTypes.test.ts:371:52)

  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically remove room type on delete

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [{"accommodationId": "acc-1", "capacity": 2, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-01T00:00:00Z", "id": "room-1", "name": "Ocean View", "pricePerNight": 150, "updatedAt": "2025-01-01T00:00:00Z"}, {"accommodationId": "acc-1", "capacity": 4, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-02T00:00:00Z", "id": "room-2", "name": "Suite", "pricePerNight": 250, "updatedAt": "2025-01-02T00:00:00Z"}]

      419 |
      420 |       expect(deleteResult.success).toBe(true);
    > 421 |       expect(result.current.data).toHaveLength(1);
          |                                   ^
      422 |       expect(result.current.data[0].id).toBe('room-2');
      423 |     });
      424 |

      at Object.toHaveLength (hooks/useRoomTypes.test.ts:421:35)

FAIL app/admin/vendors/page.property.test.tsx (50.769 s)
  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should correctly calculate and display vendor balance as (baseCost - amountPaid)

    Property failed after 1 tests
    { seed: -1953806313, path: "0:0:0", endOnFailure: true }
    Counterexample: [100,0]
    Shrunk 2 time(s)
    Got error: Found multiple elements with the text: Vendor 100-0

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mVendor 100-0[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mVendor 100-0[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      116 |
      117 |           // Wait for the vendor to appear
    > 118 |           await waitFor(() => {
          |                        ^
      119 |             expect(screen.getByText(vendor.name)).toBeInTheDocument();
      120 |           }, { timeout: 3000 });
      121 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at app/admin/vendors/page.property.test.tsx:118:24
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:91:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should show zero balance when fully paid

    Found multiple elements with the text: Fully Paid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mFully Paid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mFully Paid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      153 |
      154 |     // Wait for the vendor to appear
    > 155 |     await waitFor(() => {
          |                  ^
      156 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      157 |     });
      158 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:155:18)

  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should show full base cost as balance when unpaid

    Found multiple elements with the text: Unpaid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mUnpaid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mUnpaid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      183 |
      184 |     // Wait for the vendor to appear
    > 185 |     await waitFor(() => {
          |                  ^
      186 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      187 |     });
      188 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:185:18)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should highlight unpaid vendors with warning colors

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      208 |    * Validates: Requirements 6.4
      209 |    */
    > 210 |   it('should highlight unpaid vendors with warning colors', async () => {
          |   ^
      211 |     await fc.assert(
      212 |       fc.asyncProperty(
      213 |         // Generate vendor name (alphanumeric only, no whitespace-only strings)

      at it (app/admin/vendors/page.property.test.tsx:210:3)
      at Object.describe (app/admin/vendors/page.property.test.tsx:197:1)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should NOT highlight paid vendors

    Found multiple elements with the text: Paid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPaid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPaid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      271 |
      272 |     // Find the row for this vendor
    > 273 |     await waitFor(() => {
          |                  ^
      274 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      275 |     });
      276 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:273:18)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should NOT highlight partially paid vendors

    Found multiple elements with the text: Partial Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPartial Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPartial Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      303 |
      304 |     // Find the row for this vendor
    > 305 |     await waitFor(() => {
          |                  ^
      306 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      307 |     });
      308 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:305:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should allow submission when amountPaid equals baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      390 |
      391 |     // Click on the vendor to open edit modal
    > 392 |     await waitFor(() => {
          |                  ^
      393 |       const vendorElement = screen.getByText(vendor.name);
      394 |       fireEvent.click(vendorElement);
      395 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:392:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should allow submission when amountPaid is less than baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      452 |
      453 |     // Click on the vendor to open edit modal
    > 454 |     await waitFor(() => {
          |                  ^
      455 |       const vendorElement = screen.getByText(vendor.name);
      456 |       fireEvent.click(vendorElement);
      457 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:454:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should show error toast when amountPaid exceeds baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      502 |
      503 |     // Click on the vendor to open edit modal
    > 504 |     await waitFor(() => {
          |                  ^
      505 |       const vendorElement = screen.getByText(vendor.name);
      506 |       fireEvent.click(vendorElement);
      507 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:504:18)

FAIL __tests__/contracts/apiRoutes.contract.test.ts
  ‚óè Console

    console.warn
      Route app/api/admin/activities/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

    console.warn
      Route app/api/admin/events/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

    console.warn
      Route app/api/admin/guests/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

    console.warn
      Route app/api/admin/photos/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

    console.warn
      Route app/api/admin/vendors/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

    console.warn
      Route app/api/guest/family/[id]/route.ts should use 'resolvedParams' pattern for clarity

      51 |           
      52 |           if (!hasResolvedParams) {
    > 53 |             console.warn(`Route ${routePath} should use 'resolvedParams' pattern for clarity`);
         |                     ^
      54 |           }
      55 |         }
      56 |       }

      at Object.warn (__tests__/contracts/apiRoutes.contract.test.ts:53:21)

  ‚óè API Route Contracts ‚Ä∫ Authentication ‚Ä∫ all admin routes should call verifyAuth

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      73 |           content.includes('auth.getUser()');
      74 |         
    > 75 |         expect(hasAuth).toBe(true);
         |                         ^
      76 |         
      77 |         if (!hasAuth) {
      78 |           fail(`Admin route ${routePath} is missing authentication check`);

      at Object.toBe (__tests__/contracts/apiRoutes.contract.test.ts:75:25)

  ‚óè API Route Contracts ‚Ä∫ Response Format ‚Ä∫ all routes should return Result<T> format

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      116 |           content.includes('success: false');
      117 |         
    > 118 |         expect(hasResultType).toBe(true);
          |                               ^
      119 |         
      120 |         if (!hasResultType) {
      121 |           console.warn(`Route ${routePath} should return Result<T> format`);

      at Object.toBe (__tests__/contracts/apiRoutes.contract.test.ts:118:31)

FAIL hooks/useSections.test.ts
  ‚óè Console

    console.error
      Failed to fetch sections: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useSections.test.ts:78:9)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      68 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      69 |       setError(errorObj);
    > 70 |       console.error('Failed to fetch sections:', errorObj);
         |               ^
      71 |     } finally {
      72 |       setLoading(false);
      73 |     }

      at error (hooks/useSections.ts:70:15)

    console.error
      Failed to fetch sections: Error: Not found
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useSections.ts:63:15

      68 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      69 |       setError(errorObj);
    > 70 |       console.error('Failed to fetch sections:', errorObj);
         |               ^
      71 |     } finally {
      72 |       setLoading(false);
      73 |     }

      at error (hooks/useSections.ts:70:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      53 |     }
      54 |
    > 55 |     setLoading(true);
         |     ^
      56 |     setError(null);
      57 |
      58 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useSections.ts:55:5)
      at Object.refetch (hooks/useSections.test.ts:157:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      54 |
      55 |     setLoading(true);
    > 56 |     setError(null);
         |     ^
      57 |
      58 |     try {
      59 |       const response = await fetch(`/api/admin/sections/by-page/${pageType}/${pageId}`);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useSections.ts:56:5)
      at Object.refetch (hooks/useSections.test.ts:157:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      64 |       }
      65 |
    > 66 |       setData(result.data || []);
         |       ^
      67 |     } catch (err) {
      68 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      69 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useSections.ts:66:7)
      at Object.<anonymous> (hooks/useSections.test.ts:157:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 |       console.error('Failed to fetch sections:', errorObj);
      71 |     } finally {
    > 72 |       setLoading(false);
         |       ^
      73 |     }
      74 |   }, [pageType, pageId]);
      75 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useSections.ts:72:7)
      at Object.<anonymous> (hooks/useSections.test.ts:157:7)

    console.error
      Failed to fetch sections: Error: Initial error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useSections.test.ts:166:32)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      68 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      69 |       setError(errorObj);
    > 70 |       console.error('Failed to fetch sections:', errorObj);
         |               ^
      71 |     } finally {
      72 |       setLoading(false);
      73 |     }

      at error (hooks/useSections.ts:70:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      53 |     }
      54 |
    > 55 |     setLoading(true);
         |     ^
      56 |     setError(null);
      57 |
      58 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useSections.ts:55:5)
      at Object.refetch (hooks/useSections.test.ts:180:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      54 |
      55 |     setLoading(true);
    > 56 |     setError(null);
         |     ^
      57 |
      58 |     try {
      59 |       const response = await fetch(`/api/admin/sections/by-page/${pageType}/${pageId}`);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useSections.ts:56:5)
      at Object.refetch (hooks/useSections.test.ts:180:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      64 |       }
      65 |
    > 66 |       setData(result.data || []);
         |       ^
      67 |     } catch (err) {
      68 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      69 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useSections.ts:66:7)
      at Object.<anonymous> (hooks/useSections.test.ts:180:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 |       console.error('Failed to fetch sections:', errorObj);
      71 |     } finally {
    > 72 |       setLoading(false);
         |       ^
      73 |     }
      74 |   }, [pageType, pageId]);
      75 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useSections.ts:72:7)
      at Object.<anonymous> (hooks/useSections.test.ts:180:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

       96 |
       97 |       // Optimistic update
    >  98 |       setData((prev) => [...prev, result.data].sort((a, b) => a.displayOrder - b.displayOrder));
          |       ^
       99 |
      100 |       return { success: true, data: result.data };
      101 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as create] (hooks/useSections.ts:98:7)
      at Object.<anonymous> (hooks/useSections.test.ts:228:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

       96 |
       97 |       // Optimistic update
    >  98 |       setData((prev) => [...prev, result.data].sort((a, b) => a.displayOrder - b.displayOrder));
          |       ^
       99 |
      100 |       return { success: true, data: result.data };
      101 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as create] (hooks/useSections.ts:98:7)
      at Object.<anonymous> (hooks/useSections.test.ts:277:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      124 |
      125 |       // Optimistic update
    > 126 |       setData((prev) =>
          |       ^
      127 |         prev.map((section) => (section.id === id ? { ...section, ...result.data } : section))
      128 |       );
      129 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as update] (hooks/useSections.ts:126:7)
      at Object.<anonymous> (hooks/useSections.test.ts:321:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      152 |
      153 |       // Optimistic update
    > 154 |       setData((prev) => prev.filter((section) => section.id !== id));
          |       ^
      155 |
      156 |       return { success: true };
      157 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as remove] (hooks/useSections.ts:154:7)
      at Object.<anonymous> (hooks/useSections.test.ts:367:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      180 |
      181 |       // Optimistic update
    > 182 |       setData((prev) => {
          |       ^
      183 |         const ordered = sectionIds
      184 |           .map((id) => prev.find((s) => s.id === id))
      185 |           .filter((s): s is Section => s !== undefined);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useSections.ts:182:7)
      at Object.<anonymous> (hooks/useSections.test.ts:420:29)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically add new section on create

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 1
    Received array:  [{"columns": [], "displayOrder": 1, "id": "section-1", "layout": "one-column", "pageId": "page-1", "pageType": "custom"}]

      232 |
      233 |       expect(createResult.success).toBe(true);
    > 234 |       expect(result.current.data).toHaveLength(2);
          |                                   ^
      235 |       expect(result.current.data[1]).toEqual(newSection);
      236 |     });
      237 |

      at Object.toHaveLength (hooks/useSections.test.ts:234:35)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should sort sections by displayOrder after create

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

      280 |       });
      281 |
    > 282 |       expect(result.current.data[0].displayOrder).toBe(1);
          |                                                   ^
      283 |       expect(result.current.data[1].displayOrder).toBe(2);
      284 |     });
      285 |

      at Object.toBe (hooks/useSections.test.ts:282:51)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically update existing section

    expect(received).toBe(expected) // Object.is equality

    Expected: "two-column"
    Received: "one-column"

      324 |
      325 |       expect(updateResult.success).toBe(true);
    > 326 |       expect(result.current.data[0].layout).toBe('two-column');
          |                                             ^
      327 |     });
      328 |
      329 |     it('should optimistically remove section on delete', async () => {

      at Object.toBe (hooks/useSections.test.ts:326:45)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically remove section on delete

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [{"columns": [], "displayOrder": 1, "id": "section-1", "layout": "one-column", "pageId": "page-1", "pageType": "custom"}, {"columns": [], "displayOrder": 2, "id": "section-2", "layout": "two-column", "pageId": "page-1", "pageType": "custom"}]

      368 |
      369 |       expect(deleteResult.success).toBe(true);
    > 370 |       expect(result.current.data).toHaveLength(1);
          |                                   ^
      371 |       expect(result.current.data[0].id).toBe('section-2');
      372 |     });
      373 |

      at Object.toHaveLength (hooks/useSections.test.ts:370:35)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically reorder sections

    expect(received).toBe(expected) // Object.is equality

    Expected: "section-3"
    Received: "section-1"

      425 |
      426 |       expect(reorderResult.success).toBe(true);
    > 427 |       expect(result.current.data[0].id).toBe('section-3');
          |                                         ^
      428 |       expect(result.current.data[1].id).toBe('section-1');
      429 |       expect(result.current.data[2].id).toBe('section-2');
      430 |     });

      at Object.toBe (hooks/useSections.test.ts:427:41)

FAIL __tests__/accessibility/admin-components.accessibility.test.tsx
  ‚óè Console

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      An update to ForwardRef(LinkComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVisible (node_modules/next/src/client/use-intersection.tsx:125:56)
      at cb (node_modules/next/src/client/request-idle-callback.ts:8:7)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:366:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      364 |       );
      365 |
    > 366 |       const results = await axe(container, {
          |                                ^
      367 |         rules: {
      368 |           'color-contrast': { enabled: true },
      369 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:366:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:381:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      379 |       );
      380 |
    > 381 |       const results = await axe(container, {
          |                                ^
      382 |         rules: {
      383 |           'color-contrast': { enabled: true },
      384 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:381:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:396:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      394 |       );
      395 |
    > 396 |       const results = await axe(container, {
          |                                ^
      397 |         rules: {
      398 |           'color-contrast': { enabled: true },
      399 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:396:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:413:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      411 |       );
      412 |
    > 413 |       const results = await axe(container, {
          |                                ^
      414 |         rules: {
      415 |           'color-contrast': { enabled: true },
      416 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:413:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:436:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      434 |       );
      435 |
    > 436 |       const results = await axe(container, {
          |                                ^
      437 |         rules: {
      438 |           'color-contrast': { enabled: true },
      439 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:436:32)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ PhotoPicker ‚Ä∫ should have no accessibility violations

    TypeError: Cannot read properties of undefined (reading 'map')

      106 |   // Get selected photos in order
      107 |   const selectedPhotos = selectedPhotoIds
    > 108 |     .map(id => photos.find(p => p.id === id))
          |      ^
      109 |     .filter((p): p is Photo => p !== undefined);
      110 |
      111 |   return (

      at map (components/admin/PhotoPicker.tsx:108:6)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:269:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ PhotoPicker ‚Ä∫ should have proper alt text for all images

    TypeError: Cannot read properties of undefined (reading 'map')

      106 |   // Get selected photos in order
      107 |   const selectedPhotos = selectedPhotoIds
    > 108 |     .map(id => photos.find(p => p.id === id))
          |      ^
      109 |     .filter((p): p is Photo => p !== undefined);
      110 |
      111 |   return (

      at map (components/admin/PhotoPicker.tsx:108:6)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:282:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ BudgetDashboard ‚Ä∫ should have no accessibility violations

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      295 |   describe('BudgetDashboard', () => {
      296 |     it('should have no accessibility violations', async () => {
    > 297 |       const { container } = render(<BudgetDashboard />);
          |                                   ^
      298 |
      299 |       const results = await axe(container);
      300 |       expect(results).toHaveNoViolations();

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:297:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ BudgetDashboard ‚Ä∫ should have accessible table structure

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      302 |
      303 |     it('should have accessible table structure', async () => {
    > 304 |       const { container } = render(<BudgetDashboard />);
          |                                   ^
      305 |
      306 |       const results = await axe(container, {
      307 |         rules: {

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:304:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ EmailComposer ‚Ä∫ should have no accessibility violations

    useToast must be used within a ToastProvider

      108 |   
      109 |   if (context === undefined) {
    > 110 |     throw new Error('useToast must be used within a ToastProvider');
          |           ^
      111 |   }
      112 |   
      113 |   return context;

      at useToast (components/ui/ToastContext.tsx:110:11)
      at EmailComposer (components/admin/EmailComposer.tsx:32:32)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:318:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ EmailComposer ‚Ä∫ should have proper form field labels

    useToast must be used within a ToastProvider

      108 |   
      109 |   if (context === undefined) {
    > 110 |     throw new Error('useToast must be used within a ToastProvider');
          |           ^
      111 |   }
      112 |   
      113 |   return context;

      at useToast (components/ui/ToastContext.tsx:110:11)
      at EmailComposer (components/admin/EmailComposer.tsx:32:32)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:325:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ SettingsForm ‚Ä∫ should have no accessibility violations

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      337 |   describe('SettingsForm', () => {
      338 |     it('should have no accessibility violations', async () => {
    > 339 |       const { container } = render(<SettingsForm />);
          |                                   ^
      340 |
      341 |       const results = await axe(container);
      342 |       expect(results).toHaveNoViolations();

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:339:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ SettingsForm ‚Ä∫ should have accessible form controls

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      344 |
      345 |     it('should have accessible form controls', async () => {
    > 346 |       const { container } = render(<SettingsForm />);
          |                                   ^
      347 |
      348 |       const results = await axe(container, {
      349 |         rules: {

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:346:35)

FAIL app/admin/guests/page.modal.test.tsx
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:48.331Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:142:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:48.555Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:168:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:39:48.726Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:194:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:4 (2.91.1) 2026-01-29T00:39:49.044Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:220:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:5 (2.91.1) 2026-01-29T00:39:49.268Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:246:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:6 (2.91.1) 2026-01-29T00:39:49.536Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:329:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:7 (2.91.1) 2026-01-29T00:39:49.847Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:369:11)

    console.warn
      GoTrueClient@sb-localhost-auth-token:8 (2.91.1) 2026-01-29T00:39:50.064Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      208 |     }
      209 |
    > 210 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      211 |
      212 |     // Subscribe to guest table changes
      213 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/guests/page.tsx:210:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (app/admin/guests/page.modal.test.tsx:394:11)

  ‚óè Guest Edit Modal - Extended Fields ‚Ä∫ should display plus-one attending checkbox in edit modal

    TestingLibraryElementError: Unable to find a label with the text of: /Plus-One Attending/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      263 |
      264 |       // Verify plus-one attending checkbox exists
    > 265 |       const plusOneAttendingField = screen.getByLabelText(/Plus-One Attending/i);
          |                                            ^
      266 |       expect(plusOneAttendingField).toBeInTheDocument();
      267 |       expect((plusOneAttendingField as HTMLInputElement).checked).toBe(true);
      268 |     }

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.modal.test.tsx:265:44)

  ‚óè Guest Edit Modal - Extended Fields ‚Ä∫ should display all field groups logically organized

    TestingLibraryElementError: Unable to find a label with the text of: /Plus-One Attending/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      437 |       // Verify Plus-One Info fields
      438 |       expect(screen.getByLabelText(/Plus-One Name/i)).toBeInTheDocument();
    > 439 |       expect(screen.getByLabelText(/Plus-One Attending/i)).toBeInTheDocument();
          |                     ^
      440 |
      441 |       // Verify Notes field
      442 |       expect(screen.getByLabelText(/Notes/i)).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.modal.test.tsx:439:21)

FAIL app/admin/home-page/page.test.tsx
  ‚óè Console

    console.log
      Home page saved successfully

      at log (app/admin/home-page/page.tsx:98:19)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      78 |   const saveConfig = useCallback(async (showToast = true) => {
      79 |     try {
    > 80 |       setSaving(true);
         |       ^
      81 |       setError(null);
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:80:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      79 |     try {
      80 |       setSaving(true);
    > 81 |       setError(null);
         |       ^
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {
      84 |         method: 'PUT',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:81:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      102 |       }
      103 |     } catch (err) {
    > 104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
          |       ^
      105 |     } finally {
      106 |       setSaving(false);
      107 |     }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:104:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
      105 |     } finally {
    > 106 |       setSaving(false);
          |       ^
      107 |     }
      108 |   }, [config]);
      109 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:106:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      78 |   const saveConfig = useCallback(async (showToast = true) => {
      79 |     try {
    > 80 |       setSaving(true);
         |       ^
      81 |       setError(null);
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:80:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      79 |     try {
      80 |       setSaving(true);
    > 81 |       setError(null);
         |       ^
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {
      84 |         method: 'PUT',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:81:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      102 |       }
      103 |     } catch (err) {
    > 104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
          |       ^
      105 |     } finally {
      106 |       setSaving(false);
      107 |     }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:104:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
      105 |     } finally {
    > 106 |       setSaving(false);
          |       ^
      107 |     }
      108 |   }, [config]);
      109 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:106:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      78 |   const saveConfig = useCallback(async (showToast = true) => {
      79 |     try {
    > 80 |       setSaving(true);
         |       ^
      81 |       setError(null);
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:80:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      79 |     try {
      80 |       setSaving(true);
    > 81 |       setError(null);
         |       ^
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {
      84 |         method: 'PUT',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:81:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      90 |       
      91 |       if (result.success) {
    > 92 |         setConfig(result.data);
         |         ^
      93 |         setIsDirty(false);
      94 |         setLastSaved(new Date());
      95 |         

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setConfig (app/admin/home-page/page.tsx:92:9)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      91 |       if (result.success) {
      92 |         setConfig(result.data);
    > 93 |         setIsDirty(false);
         |         ^
      94 |         setLastSaved(new Date());
      95 |         
      96 |         if (showToast) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsDirty (app/admin/home-page/page.tsx:93:9)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      92 |         setConfig(result.data);
      93 |         setIsDirty(false);
    > 94 |         setLastSaved(new Date());
         |         ^
      95 |         
      96 |         if (showToast) {
      97 |           // Show success toast (would use toast context in real implementation)

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLastSaved (app/admin/home-page/page.tsx:94:9)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
      105 |     } finally {
    > 106 |       setSaving(false);
          |       ^
      107 |     }
      108 |   }, [config]);
      109 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:106:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      78 |   const saveConfig = useCallback(async (showToast = true) => {
      79 |     try {
    > 80 |       setSaving(true);
         |       ^
      81 |       setError(null);
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:80:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (app/admin/home-page/page.test.tsx:377:12)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      79 |     try {
      80 |       setSaving(true);
    > 81 |       setError(null);
         |       ^
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {
      84 |         method: 'PUT',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:81:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (app/admin/home-page/page.test.tsx:377:12)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      78 |   const saveConfig = useCallback(async (showToast = true) => {
      79 |     try {
    > 80 |       setSaving(true);
         |       ^
      81 |       setError(null);
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:80:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      79 |     try {
      80 |       setSaving(true);
    > 81 |       setError(null);
         |       ^
      82 |       
      83 |       const response = await fetch('/api/admin/home-page', {
      84 |         method: 'PUT',

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:81:7)
      at saveConfig (app/admin/home-page/page.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at Object.runToLast (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1558:26)
      at FakeTimers.runOnlyPendingTimers (node_modules/@jest/fake-timers/build/modernFakeTimers.js:60:19)
      at Object.runOnlyPendingTimers (app/admin/home-page/page.test.tsx:57:10)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      102 |       }
      103 |     } catch (err) {
    > 104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
          |       ^
      105 |     } finally {
      106 |       setSaving(false);
      107 |     }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (app/admin/home-page/page.tsx:104:7)

    console.error
      An update to HomePageEditorPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      104 |       setError(err instanceof Error ? err.message : 'Failed to save home page config');
      105 |     } finally {
    > 106 |       setSaving(false);
          |       ^
      107 |     }
      108 |   }, [config]);
      109 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (app/admin/home-page/page.tsx:106:7)

  ‚óè HomePageEditorPage ‚Ä∫ Loading State ‚Ä∫ should display loading skeleton while fetching config

    TestingLibraryElementError: Unable to find an element with the text: /home page editor/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-8 bg-gray-200 rounded w-1/4 mb-6"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-10 bg-gray-200 rounded"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-10 bg-gray-200 rounded"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-32 bg-gray-200 rounded"[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      65 |       render(<HomePageEditorPage />);
      66 |       
    > 67 |       expect(screen.getByText(/home page editor/i)).toBeInTheDocument();
         |                     ^
      68 |     });
      69 |   });
      70 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/home-page/page.test.tsx:67:21)

FAIL __tests__/regression/performance.regression.test.ts
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:50.632Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at Object.list (__tests__/regression/performance.regression.test.ts:87:22)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:50.682Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at Object.list (__tests__/regression/performance.regression.test.ts:182:22)

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:39:50.683Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at Object.list (__tests__/regression/performance.regression.test.ts:183:25)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Guest Portal Performance ‚Ä∫ should load itinerary data within 150ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      110 |
      111 |       // Simulate itinerary loading
    > 112 |       await mockSupabase.from('itineraries').select('*').eq('guest_id', 'guest-1').single();
          |                                                          ^
      113 |
      114 |       const endTime = performance.now();
      115 |       const duration = endTime - startTime;

      at Object.eq (__tests__/regression/performance.regression.test.ts:112:58)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Admin Dashboard (Logistics) Performance ‚Ä∫ should calculate capacity metrics within 100ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      209 |         .from('rsvps')
      210 |         .select('*')
    > 211 |         .eq('activity_id', 'activity-1');
          |          ^
      212 |
      213 |       const totalAttendees = rsvps.data.reduce(
      214 |         (sum: number, rsvp: any) => sum + (rsvp.guestCount || 0),

      at Object.eq (__tests__/regression/performance.regression.test.ts:211:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Admin Dashboard (Logistics) Performance ‚Ä∫ should generate transportation manifest within 200ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      243 |         .from('guests')
      244 |         .select('*')
    > 245 |         .eq('airport_code', 'SJO');
          |          ^
      246 |
      247 |       // Group by time windows (simplified)
      248 |       const grouped = guests.data.reduce((acc: any, guest: any) => {

      at Object.eq (__tests__/regression/performance.regression.test.ts:245:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Database Query Performance ‚Ä∫ should execute paginated query within 100ms

    TypeError: mockSupabase.from(...).select(...).range is not a function

      293 |         .from('guests')
      294 |         .select('*', { count: 'exact' })
    > 295 |         .range(0, 49);
          |          ^
      296 |
      297 |       const endTime = performance.now();
      298 |       const duration = endTime - startTime;

      at Object.range (__tests__/regression/performance.regression.test.ts:295:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Database Query Performance ‚Ä∫ should execute filtered query within 75ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      313 |       const startTime = performance.now();
      314 |
    > 315 |       await mockSupabase.from('guests').select('*').eq('group_id', 'group-1');
          |                                                     ^
      316 |
      317 |       const endTime = performance.now();
      318 |       const duration = endTime - startTime;

      at Object.eq (__tests__/regression/performance.regression.test.ts:315:53)

FAIL __tests__/regression/emailDelivery.regression.test.ts
  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should validate template with valid syntax

    ReferenceError: mockSupabase is not defined

      67 |       };
      68 |
    > 69 |       mockSupabase.single.mockResolvedValue({
         |       ^
      70 |         data: { id: 'template-1', ...template },
      71 |         error: null,
      72 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:69:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should reject template with undefined variables

    TypeError: Cannot read properties of undefined (reading 'createTemplate')

      90 |       };
      91 |
    > 92 |       const result = await emailService.createTemplate(template);
         |                                         ^
      93 |
      94 |       expect(result.success).toBe(false);
      95 |       if (!result.success) {

      at Object.createTemplate (__tests__/regression/emailDelivery.regression.test.ts:92:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should reject template with malformed HTML

    TypeError: Cannot read properties of undefined (reading 'createTemplate')

      108 |       };
      109 |
    > 110 |       const result = await emailService.createTemplate(template);
          |                                         ^
      111 |
      112 |       expect(result.success).toBe(false);
      113 |       if (!result.success) {

      at Object.createTemplate (__tests__/regression/emailDelivery.regression.test.ts:110:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should substitute all variables correctly

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      131 |       };
      132 |
    > 133 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      134 |
      135 |       expect(result.subject).toBe('RSVP for Wedding Ceremony');
      136 |       expect(result.bodyHtml).toContain('Hi John Doe');

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:133:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should handle missing variables gracefully

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      151 |       };
      152 |
    > 153 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      154 |
      155 |       expect(result.subject).toBe('Hello John Doe');
      156 |       // Missing variables should remain as placeholders or be empty

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:153:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should escape HTML in variable values

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      170 |       };
      171 |
    > 172 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      173 |
      174 |       expect(result.bodyHtml).not.toContain('<script>');
      175 |       expect(result.bodyHtml).toContain('&lt;script&gt;');

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:172:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should send single email successfully

    ReferenceError: mockSupabase is not defined

      183 |       });
      184 |
    > 185 |       mockSupabase.single.mockResolvedValue({
          |       ^
      186 |         data: {
      187 |           id: 'log-1',
      188 |           deliveryStatus: 'sent',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:185:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should handle email service failure

    TypeError: Cannot read properties of undefined (reading 'send')

      209 |       );
      210 |
    > 211 |       const result = await emailService.send({
          |                                         ^
      212 |         to: 'guest@example.com',
      213 |         subject: 'Test Email',
      214 |         html: '<p>Test</p>',

      at Object.send (__tests__/regression/emailDelivery.regression.test.ts:211:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should validate email addresses

    TypeError: Cannot read properties of undefined (reading 'send')

      223 |
      224 |     it('should validate email addresses', async () => {
    > 225 |       const result = await emailService.send({
          |                                         ^
      226 |         to: 'invalid-email',
      227 |         subject: 'Test',
      228 |         html: '<p>Test</p>',

      at Object.send (__tests__/regression/emailDelivery.regression.test.ts:225:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should send bulk emails successfully

    ReferenceError: mockSupabase is not defined

      249 |       });
      250 |
    > 251 |       mockSupabase.single.mockResolvedValue({
          |       ^
      252 |         data: { id: 'log-1' },
      253 |         error: null,
      254 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:251:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should handle partial failures in bulk send

    ReferenceError: mockSupabase is not defined

      280 |         .mockResolvedValueOnce({ id: 'email-3' });
      281 |
    > 282 |       mockSupabase.single.mockResolvedValue({
          |       ^
      283 |         data: { id: 'log-1' },
      284 |         error: null,
      285 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:282:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should respect rate limits

    ReferenceError: mockSupabase is not defined

      306 |       });
      307 |
    > 308 |       mockSupabase.single.mockResolvedValue({
          |       ^
      309 |         data: { id: 'log-1' },
      310 |         error: null,
      311 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:308:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should log email delivery status

    ReferenceError: mockSupabase is not defined

      331 |       });
      332 |
    > 333 |       mockSupabase.single.mockResolvedValue({
          |       ^
      334 |         data: {
      335 |           id: 'log-1',
      336 |           deliveryStatus: 'sent',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:333:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should update delivery status via webhook

    ReferenceError: mockSupabase is not defined

      360 |       };
      361 |
    > 362 |       mockSupabase.single.mockResolvedValue({
          |       ^
      363 |         data: {
      364 |           id: 'log-1',
      365 |           deliveryStatus: 'delivered',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:362:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should track bounce events

    ReferenceError: mockSupabase is not defined

      384 |       };
      385 |
    > 386 |       mockSupabase.single.mockResolvedValue({
          |       ^
      387 |         data: {
      388 |           id: 'log-1',
      389 |           deliveryStatus: 'bounced',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:386:7)

  ‚óè Regression: Email Delivery ‚Ä∫ SMS Fallback ‚Ä∫ should send SMS when email fails

    TypeError: Cannot read properties of undefined (reading 'sendWithFallback')

      413 |       });
      414 |
    > 415 |       const result = await emailService.sendWithFallback({
          |                                         ^
      416 |         to: 'guest@example.com',
      417 |         phone: '+1234567890',
      418 |         subject: 'Test',

      at Object.sendWithFallback (__tests__/regression/emailDelivery.regression.test.ts:415:41)

  ‚óè Regression: Email Delivery ‚Ä∫ SMS Fallback ‚Ä∫ should not attempt SMS if no phone number

    TypeError: Cannot read properties of undefined (reading 'sendWithFallback')

      432 |       );
      433 |
    > 434 |       const result = await emailService.sendWithFallback({
          |                                         ^
      435 |         to: 'guest@example.com',
      436 |         subject: 'Test',
      437 |         html: '<p>Test</p>',

      at Object.sendWithFallback (__tests__/regression/emailDelivery.regression.test.ts:434:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Scheduling ‚Ä∫ should schedule email for future delivery

    ReferenceError: mockSupabase is not defined

      448 |       const scheduledTime = new Date(Date.now() + 3600000); // 1 hour from now
      449 |
    > 450 |       mockSupabase.single.mockResolvedValue({
          |       ^
      451 |         data: {
      452 |           id: 'scheduled-1',
      453 |           scheduledFor: scheduledTime.toISOString(),

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:450:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Scheduling ‚Ä∫ should reject scheduling in the past

    TypeError: Cannot read properties of undefined (reading 'schedule')

      474 |       const pastTime = new Date(Date.now() - 3600000); // 1 hour ago
      475 |
    > 476 |       const result = await emailService.schedule({
          |                                         ^
      477 |         to: 'guest@example.com',
      478 |         subject: 'Scheduled Email',
      479 |         html: '<p>Test</p>',

      at Object.schedule (__tests__/regression/emailDelivery.regression.test.ts:476:41)

FAIL services/gallerySettingsPersistence.property.test.ts
  ‚óè Feature: destination-wedding-platform, Property 35: Gallery Settings Persistence ‚Ä∫ should persist gallery settings and retrieve updated values

    Property failed after 1 tests
    { seed: 162652459, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","displayMode":"gallery","photosPerRow":null,"showCaptions":false,"autoplayInterval":null,"transitionEffect":null,"settingsId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 13 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      100 |
      101 |           // Property: Get should succeed
    > 102 |           expect(getResult.success).toBe(true);
          |                                     ^
      103 |
      104 |           if (!getResult.success) {
      105 |             return true;

      at toBe (services/gallerySettingsPersistence.property.test.ts:102:37)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/gallerySettingsPersistence.property.test.ts:23:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: destination-wedding-platform, Property 35: Gallery Settings Persistence ‚Ä∫ should return default settings when none exist for a page

    Property failed after 1 tests
    { seed: -1807803013, path: "0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 5 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      241 |
      242 |           // Property: Get should succeed even when settings don't exist
    > 243 |           expect(result.success).toBe(true);
          |                                  ^
      244 |
      245 |           if (!result.success) {
      246 |             return true;

      at toBe (services/gallerySettingsPersistence.property.test.ts:243:34)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/gallerySettingsPersistence.property.test.ts:223:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL services/contentVersionHistory.property.test.ts
  ‚óè Feature: destination-wedding-platform, Property 20: Content Version History ‚Ä∫ should create version entry with timestamp for any content update

    Property failed after 1 tests
    { seed: 226788192, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","userId":null,"displayOrder":0,"sectionId":"00000000-0000-1000-8000-000000000000","versionId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 15 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      104 |
      105 |           // Property: Version creation should succeed
    > 106 |           expect(versionResult.success).toBe(true);
          |                                         ^
      107 |           
      108 |           if (!versionResult.success) {
      109 |             return true;

      at toBe (services/contentVersionHistory.property.test.ts:106:41)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/contentVersionHistory.property.test.ts:27:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: destination-wedding-platform, Property 20: Content Version History ‚Ä∫ should preserve previous version when creating new version

    Property failed after 1 tests
    { seed: 456302325, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","userId":null,"version1Id":"00000000-0000-1000-8000-000000000000","version2Id":"00000000-0000-1000-8000-000000000000","sectionId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 17 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      268 |
      269 |           // Property: Both versions should be created successfully
    > 270 |           expect(version1Result.success).toBe(true);
          |                                          ^
      271 |           expect(version2Result.success).toBe(true);
      272 |
      273 |           if (!version1Result.success || !version2Result.success) {

      at toBe (services/contentVersionHistory.property.test.ts:270:42)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/contentVersionHistory.property.test.ts:139:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL __tests__/security/xssPrevention.security.test.ts
  ‚óè Security: XSS Prevention ‚Ä∫ sanitizeRichText ‚Ä∫ should remove javascript: protocol from links

    expect(received).not.toContain(expected) // indexOf

    Expected substring: not "alert"
    Received string:        "<a href=\"alert(1)\">Click</a>"

      148 |       const sanitized = sanitizeRichText(jsLink);
      149 |       expect(sanitized).not.toContain('javascript:');
    > 150 |       expect(sanitized).not.toContain('alert');
          |                             ^
      151 |     });
      152 |
      153 |     it('should allow lists', () => {

      at Object.toContain (__tests__/security/xssPrevention.security.test.ts:150:29)

  ‚óè Security: XSS Prevention ‚Ä∫ Edge cases ‚Ä∫ should handle malformed HTML

    expect(received).not.toContain(expected) // indexOf

    Expected substring: not "alert"
    Received string:        "Unclosed paragraphalert(1)"

      235 |       const sanitized = sanitizeInput(malformed);
      236 |       expect(sanitized).not.toContain('<script>');
    > 237 |       expect(sanitized).not.toContain('alert');
          |                             ^
      238 |     });
      239 |   });
      240 | });

      at Object.toContain (__tests__/security/xssPrevention.security.test.ts:237:29)

FAIL __tests__/performance/loadTest.performance.test.ts
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:50.587Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:50.667Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:39:50.670Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:4 (2.91.1) 2026-01-29T00:39:50.672Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:5 (2.91.1) 2026-01-29T00:39:50.677Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:6 (2.91.1) 2026-01-29T00:39:50.679Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:7 (2.91.1) 2026-01-29T00:39:50.680Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:8 (2.91.1) 2026-01-29T00:39:50.682Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:9 (2.91.1) 2026-01-29T00:39:50.684Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:10 (2.91.1) 2026-01-29T00:39:50.690Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:11 (2.91.1) 2026-01-29T00:39:50.697Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:12 (2.91.1) 2026-01-29T00:39:50.700Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:13 (2.91.1) 2026-01-29T00:39:50.705Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:14 (2.91.1) 2026-01-29T00:39:50.710Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:15 (2.91.1) 2026-01-29T00:39:50.713Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:16 (2.91.1) 2026-01-29T00:39:50.715Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:17 (2.91.1) 2026-01-29T00:39:50.716Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:18 (2.91.1) 2026-01-29T00:39:50.739Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:19 (2.91.1) 2026-01-29T00:39:50.742Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:20 (2.91.1) 2026-01-29T00:39:50.746Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:21 (2.91.1) 2026-01-29T00:39:50.747Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:22 (2.91.1) 2026-01-29T00:39:50.749Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:23 (2.91.1) 2026-01-29T00:39:50.753Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:24 (2.91.1) 2026-01-29T00:39:50.756Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:25 (2.91.1) 2026-01-29T00:39:50.758Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:26 (2.91.1) 2026-01-29T00:39:50.762Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:27 (2.91.1) 2026-01-29T00:39:50.766Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:28 (2.91.1) 2026-01-29T00:39:50.767Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:29 (2.91.1) 2026-01-29T00:39:50.769Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:30 (2.91.1) 2026-01-29T00:39:50.773Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:31 (2.91.1) 2026-01-29T00:39:50.774Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:32 (2.91.1) 2026-01-29T00:39:50.777Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:33 (2.91.1) 2026-01-29T00:39:50.779Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:34 (2.91.1) 2026-01-29T00:39:50.780Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:35 (2.91.1) 2026-01-29T00:39:50.782Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:36 (2.91.1) 2026-01-29T00:39:50.783Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:37 (2.91.1) 2026-01-29T00:39:50.784Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:38 (2.91.1) 2026-01-29T00:39:50.784Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:39 (2.91.1) 2026-01-29T00:39:50.785Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:40 (2.91.1) 2026-01-29T00:39:50.787Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:41 (2.91.1) 2026-01-29T00:39:50.788Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:42 (2.91.1) 2026-01-29T00:39:50.789Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:43 (2.91.1) 2026-01-29T00:39:50.801Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:44 (2.91.1) 2026-01-29T00:39:50.803Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:45 (2.91.1) 2026-01-29T00:39:50.803Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:46 (2.91.1) 2026-01-29T00:39:50.804Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:47 (2.91.1) 2026-01-29T00:39:50.805Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:48 (2.91.1) 2026-01-29T00:39:50.806Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:49 (2.91.1) 2026-01-29T00:39:50.809Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:50 (2.91.1) 2026-01-29T00:39:50.812Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:51 (2.91.1) 2026-01-29T00:39:50.817Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:52 (2.91.1) 2026-01-29T00:39:50.819Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:53 (2.91.1) 2026-01-29T00:39:50.821Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:54 (2.91.1) 2026-01-29T00:39:50.823Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:55 (2.91.1) 2026-01-29T00:39:50.824Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:56 (2.91.1) 2026-01-29T00:39:50.827Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:57 (2.91.1) 2026-01-29T00:39:50.828Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:58 (2.91.1) 2026-01-29T00:39:50.829Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:59 (2.91.1) 2026-01-29T00:39:50.830Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:60 (2.91.1) 2026-01-29T00:39:50.831Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:61 (2.91.1) 2026-01-29T00:39:50.832Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:62 (2.91.1) 2026-01-29T00:39:50.832Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:63 (2.91.1) 2026-01-29T00:39:50.833Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:64 (2.91.1) 2026-01-29T00:39:50.834Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:65 (2.91.1) 2026-01-29T00:39:50.835Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:66 (2.91.1) 2026-01-29T00:39:50.836Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:67 (2.91.1) 2026-01-29T00:39:50.837Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:68 (2.91.1) 2026-01-29T00:39:50.840Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:69 (2.91.1) 2026-01-29T00:39:50.853Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:70 (2.91.1) 2026-01-29T00:39:50.857Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:71 (2.91.1) 2026-01-29T00:39:50.859Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:72 (2.91.1) 2026-01-29T00:39:50.861Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:73 (2.91.1) 2026-01-29T00:39:50.862Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:74 (2.91.1) 2026-01-29T00:39:50.863Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:75 (2.91.1) 2026-01-29T00:39:50.865Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:76 (2.91.1) 2026-01-29T00:39:50.867Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:77 (2.91.1) 2026-01-29T00:39:50.868Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:78 (2.91.1) 2026-01-29T00:39:50.870Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:79 (2.91.1) 2026-01-29T00:39:50.875Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:80 (2.91.1) 2026-01-29T00:39:50.878Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:81 (2.91.1) 2026-01-29T00:39:50.880Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:82 (2.91.1) 2026-01-29T00:39:50.881Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:83 (2.91.1) 2026-01-29T00:39:50.886Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:84 (2.91.1) 2026-01-29T00:39:50.887Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:85 (2.91.1) 2026-01-29T00:39:50.887Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:86 (2.91.1) 2026-01-29T00:39:50.888Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:87 (2.91.1) 2026-01-29T00:39:50.888Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:88 (2.91.1) 2026-01-29T00:39:50.890Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:89 (2.91.1) 2026-01-29T00:39:50.890Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:90 (2.91.1) 2026-01-29T00:39:50.894Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:91 (2.91.1) 2026-01-29T00:39:50.895Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:92 (2.91.1) 2026-01-29T00:39:50.895Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:93 (2.91.1) 2026-01-29T00:39:50.896Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:94 (2.91.1) 2026-01-29T00:39:50.913Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:95 (2.91.1) 2026-01-29T00:39:50.915Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:96 (2.91.1) 2026-01-29T00:39:50.915Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:97 (2.91.1) 2026-01-29T00:39:50.916Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:98 (2.91.1) 2026-01-29T00:39:50.916Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:99 (2.91.1) 2026-01-29T00:39:50.929Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:100 (2.91.1) 2026-01-29T00:39:50.933Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:159:33)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:159:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:101 (2.91.1) 2026-01-29T00:39:50.987Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:102 (2.91.1) 2026-01-29T00:39:50.988Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:103 (2.91.1) 2026-01-29T00:39:51.000Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:104 (2.91.1) 2026-01-29T00:39:51.002Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:105 (2.91.1) 2026-01-29T00:39:51.004Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:106 (2.91.1) 2026-01-29T00:39:51.014Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:107 (2.91.1) 2026-01-29T00:39:51.016Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:108 (2.91.1) 2026-01-29T00:39:51.018Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:109 (2.91.1) 2026-01-29T00:39:51.023Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:110 (2.91.1) 2026-01-29T00:39:51.026Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:111 (2.91.1) 2026-01-29T00:39:51.028Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:112 (2.91.1) 2026-01-29T00:39:51.029Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:113 (2.91.1) 2026-01-29T00:39:51.030Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:114 (2.91.1) 2026-01-29T00:39:51.032Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:115 (2.91.1) 2026-01-29T00:39:51.037Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:116 (2.91.1) 2026-01-29T00:39:51.039Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:117 (2.91.1) 2026-01-29T00:39:51.042Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:118 (2.91.1) 2026-01-29T00:39:51.045Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:119 (2.91.1) 2026-01-29T00:39:51.046Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:120 (2.91.1) 2026-01-29T00:39:51.047Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:121 (2.91.1) 2026-01-29T00:39:51.048Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:122 (2.91.1) 2026-01-29T00:39:51.049Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:123 (2.91.1) 2026-01-29T00:39:51.052Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:124 (2.91.1) 2026-01-29T00:39:51.058Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:125 (2.91.1) 2026-01-29T00:39:51.060Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:126 (2.91.1) 2026-01-29T00:39:51.062Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:127 (2.91.1) 2026-01-29T00:39:51.063Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:128 (2.91.1) 2026-01-29T00:39:51.077Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:129 (2.91.1) 2026-01-29T00:39:51.080Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:130 (2.91.1) 2026-01-29T00:39:51.081Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:131 (2.91.1) 2026-01-29T00:39:51.082Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:132 (2.91.1) 2026-01-29T00:39:51.083Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:133 (2.91.1) 2026-01-29T00:39:51.084Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:134 (2.91.1) 2026-01-29T00:39:51.085Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:135 (2.91.1) 2026-01-29T00:39:51.093Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:136 (2.91.1) 2026-01-29T00:39:51.096Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:137 (2.91.1) 2026-01-29T00:39:51.099Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:138 (2.91.1) 2026-01-29T00:39:51.100Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:139 (2.91.1) 2026-01-29T00:39:51.100Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:140 (2.91.1) 2026-01-29T00:39:51.108Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:141 (2.91.1) 2026-01-29T00:39:51.112Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:142 (2.91.1) 2026-01-29T00:39:51.116Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:143 (2.91.1) 2026-01-29T00:39:51.130Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:144 (2.91.1) 2026-01-29T00:39:51.134Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:145 (2.91.1) 2026-01-29T00:39:51.136Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:146 (2.91.1) 2026-01-29T00:39:51.140Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:147 (2.91.1) 2026-01-29T00:39:51.149Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:148 (2.91.1) 2026-01-29T00:39:51.155Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:149 (2.91.1) 2026-01-29T00:39:51.172Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      352 |
      353 |     // 2. Database operation
    > 354 |     const supabase = createClient(
          |                                  ^
      355 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      356 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      357 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/eventService.ts:354:34)
      at list (__tests__/performance/loadTest.performance.test.ts:193:35)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

    console.warn
      GoTrueClient@sb-localhost-auth-token:150 (2.91.1) 2026-01-29T00:39:51.180Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      292 |
      293 |     // 2. Database operation
    > 294 |     const supabase = createClient(
          |                                  ^
      295 |       process.env.NEXT_PUBLIC_SUPABASE_URL!,
      296 |       process.env.SUPABASE_SERVICE_ROLE_KEY!
      297 |     );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.list (services/activityService.ts:294:34)
      at list (__tests__/performance/loadTest.performance.test.ts:195:38)
          at Array.map (<anonymous>)
      at Object.map (__tests__/performance/loadTest.performance.test.ts:187:10)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent guest reads within 2 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

       96 |
       97 |       expect(duration).toBeLessThan(2000);
    >  98 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
       99 |       expect(results).toHaveLength(100);
      100 |     });
      101 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:98:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent RSVP submissions within 3 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      132 |
      133 |       expect(duration).toBeLessThan(3000);
    > 134 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      135 |       expect(results).toHaveLength(100);
      136 |     });
      137 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:134:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent event list requests within 2.5 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      165 |
      166 |       expect(duration).toBeLessThan(2500);
    > 167 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      168 |       expect(results).toHaveLength(100);
      169 |     });
      170 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:167:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle mixed concurrent operations within 3 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      207 |
      208 |       expect(duration).toBeLessThan(3000);
    > 209 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      210 |       expect(results).toHaveLength(100);
      211 |     });
      212 |   });

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:209:47)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should create 100 guests within 1 second

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      238 |
      239 |       expect(duration).toBeLessThan(1000);
    > 240 |       expect(result.success).toBe(true);
          |                              ^
      241 |       if (result.success) {
      242 |         expect(result.data).toHaveLength(100);
      243 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:240:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should update 150 guests within 1.5 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      265 |
      266 |       expect(duration).toBeLessThan(1500);
    > 267 |       expect(result.success).toBe(true);
          |                              ^
      268 |       if (result.success) {
      269 |         expect(result.data).toHaveLength(150);
      270 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:267:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should delete 100 guests within 800ms

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      289 |
      290 |       expect(duration).toBeLessThan(800);
    > 291 |       expect(result.success).toBe(true);
          |                              ^
      292 |     });
      293 |
      294 |     it('should export 200 guests to CSV within 500ms', async () => {

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:291:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should export 200 guests to CSV within 500ms

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      318 |
      319 |       expect(duration).toBeLessThan(500);
    > 320 |       expect(result.success).toBe(true);
          |                              ^
      321 |       if (result.success) {
      322 |         expect(result.data.split('\n').length).toBeGreaterThan(200);
      323 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:320:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should import 100 guests from CSV within 1.2 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      350 |
      351 |       expect(duration).toBeLessThan(1200);
    > 352 |       expect(result.success).toBe(true);
          |                              ^
      353 |       if (result.success) {
      354 |         expect(result.data).toHaveLength(100);
      355 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:352:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should handle bulk RSVP creation for 120 guests within 1 second

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      381 |
      382 |       expect(duration).toBeLessThan(1000);
    > 383 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      384 |       expect(results).toHaveLength(120);
      385 |     });
      386 |   });

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:383:47)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute simple SELECT query within 30ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      573 |       for (let i = 0; i < 20; i++) {
      574 |         const startTime = performance.now();
    > 575 |         await mockSupabase.from('guests').select('*').eq('id', 'guest-1').single();
          |                                                       ^
      576 |         const endTime = performance.now();
      577 |         measurements.push(endTime - startTime);
      578 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:575:55)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute filtered SELECT query within 50ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      598 |       for (let i = 0; i < 20; i++) {
      599 |         const startTime = performance.now();
    > 600 |         await mockSupabase.from('guests').select('*').eq('group_id', 'group-1');
          |                                                       ^
      601 |         const endTime = performance.now();
      602 |         measurements.push(endTime - startTime);
      603 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:600:55)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute paginated query within 80ms

    TypeError: mockSupabase.from(...).select(...).range is not a function

      627 |           .from('guests')
      628 |           .select('*', { count: 'exact' })
    > 629 |           .range(0, 49);
          |            ^
      630 |         const endTime = performance.now();
      631 |         measurements.push(endTime - startTime);
      632 |       }

      at Object.range (__tests__/performance/loadTest.performance.test.ts:629:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute JOIN query within 100ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      659 |           .from('rsvps')
      660 |           .select('*, guests(*), events(*)')
    > 661 |           .eq('event_id', 'event-1');
          |            ^
      662 |         const endTime = performance.now();
      663 |         measurements.push(endTime - startTime);
      664 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:661:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute aggregate query within 60ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      683 |           .from('guests')
      684 |           .select('*', { count: 'exact', head: true })
    > 685 |           .eq('group_id', 'group-1');
          |            ^
      686 |         const endTime = performance.now();
      687 |         measurements.push(endTime - startTime);
      688 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:685:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute INSERT query within 40ms

    TypeError: mockSupabase.from(...).insert(...).select(...).single is not a function

      708 |           .insert({ firstName: 'John', lastName: 'Doe' })
      709 |           .select()
    > 710 |           .single();
          |            ^
      711 |         const endTime = performance.now();
      712 |         measurements.push(endTime - startTime);
      713 |       }

      at Object.single (__tests__/performance/loadTest.performance.test.ts:710:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute UPDATE query within 35ms

    TypeError: mockSupabase.from(...).update(...).eq(...).select(...).single is not a function

      734 |           .eq('id', 'guest-1')
      735 |           .select()
    > 736 |           .single();
          |            ^
      737 |         const endTime = performance.now();
      738 |         measurements.push(endTime - startTime);
      739 |       }

      at Object.single (__tests__/performance/loadTest.performance.test.ts:736:12)

FAIL services/externalServiceGracefulDegradation.test.ts
  ‚óè External Service Graceful Degradation ‚Ä∫ B2 Storage Failover to Supabase ‚Ä∫ should fallback to Supabase storage when B2 is unavailable

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      114 |
      115 |       // Upload should succeed using Supabase
    > 116 |       expect(uploadResult.success).toBe(true);
          |                                    ^
      117 |       if (uploadResult.success) {
      118 |         expect(uploadResult.data.storage_type).toBe('supabase');
      119 |         expect(mockSupabase.storage.from).toHaveBeenCalled();

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:116:36)

  ‚óè External Service Graceful Degradation ‚Ä∫ B2 Storage Failover to Supabase ‚Ä∫ should use B2 when available and healthy

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      161 |
      162 |       // Upload should succeed using B2
    > 163 |       expect(uploadResult.success).toBe(true);
          |                                    ^
      164 |       if (uploadResult.success) {
      165 |         expect(uploadResult.data.storage_type).toBe('b2');
      166 |       }

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:163:36)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should fallback to SMS when email delivery fails

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      239 |
      240 |       // SMS should succeed
    > 241 |       expect(smsResult.success).toBe(true);
          |                                 ^
      242 |       expect(global.fetch).toHaveBeenCalledTimes(2);
      243 |     });
      244 |

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:241:33)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should use email when available

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      268 |
      269 |       // Email should succeed
    > 270 |       expect(emailResult.success).toBe(true);
          |                                   ^
      271 |       expect(global.fetch).toHaveBeenCalledTimes(1);
      272 |     });
      273 |

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:270:35)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should handle both email and SMS failures gracefully

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 2
    Received number of calls: 1

      313 |
      314 |       // Both services attempted
    > 315 |       expect(global.fetch).toHaveBeenCalledTimes(2);
          |                            ^
      316 |     });
      317 |   });
      318 |

      at Object.toHaveBeenCalledTimes (services/externalServiceGracefulDegradation.test.ts:315:28)

  ‚óè External Service Graceful Degradation ‚Ä∫ Graceful Degradation Patterns ‚Ä∫ should continue operation when non-critical services fail

    TypeError: Cannot read properties of undefined (reading 'value')

      321 |       // Mock B2 to fail
      322 |       const { S3Client } = require('@aws-sdk/client-s3');
    > 323 |       const mockSend = S3Client.mock.results[0].value.send;
          |                                                 ^
      324 |       mockSend.mockRejectedValue(new Error('B2 unavailable'));
      325 |
      326 |       // Mock Supabase storage to succeed

      at Object.value (services/externalServiceGracefulDegradation.test.ts:323:49)

  ‚óè External Service Graceful Degradation ‚Ä∫ Graceful Degradation Patterns ‚Ä∫ should provide meaningful error messages when all fallbacks fail

    TypeError: Cannot read properties of undefined (reading 'value')

      352 |       // Mock both B2 and Supabase to fail
      353 |       const { S3Client } = require('@aws-sdk/client-s3');
    > 354 |       const mockSend = S3Client.mock.results[0].value.send;
          |                                                 ^
      355 |       mockSend.mockRejectedValue(new Error('B2 unavailable'));
      356 |
      357 |       const { createClient } = require('@supabase/supabase-js');

      at Object.value (services/externalServiceGracefulDegradation.test.ts:354:49)

FAIL services/vendorBookingService.test.ts
  ‚óè vendorBookingService.create ‚Ä∫ should create a vendor booking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      66 |     const result = await vendorBookingService.create(bookingData);
      67 |
    > 68 |     expect(result.success).toBe(true);
         |                            ^
      69 |     if (result.success) {
      70 |       expect(result.data.id).toBe('booking-1');
      71 |       expect(result.data.vendorId).toBe(bookingData.vendorId);

      at Object.toBe (services/vendorBookingService.test.ts:68:28)

  ‚óè vendorBookingService.create ‚Ä∫ should return DATABASE_ERROR when insert fails

    expect(received).toBe(expected) // Object.is equality

    Expected: "DATABASE_ERROR"
    Received: "VALIDATION_ERROR"

      104 |     expect(result.success).toBe(false);
      105 |     if (!result.success) {
    > 106 |       expect(result.error.code).toBe('DATABASE_ERROR');
          |                                 ^
      107 |     }
      108 |   });
      109 |

      at Object.toBe (services/vendorBookingService.test.ts:106:33)

  ‚óè vendorBookingService.create ‚Ä∫ should sanitize notes input

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      133 |     const result = await vendorBookingService.create(bookingData);
      134 |
    > 135 |     expect(result.success).toBe(true);
          |                            ^
      136 |     // Sanitization is mocked, but in real implementation it would remove script tags
      137 |   });
      138 | });

      at Object.toBe (services/vendorBookingService.test.ts:135:28)

  ‚óè vendorBookingService.get ‚Ä∫ should retrieve a vendor booking by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      172 |     const result = await vendorBookingService.get('booking-1');
      173 |
    > 174 |     expect(result.success).toBe(true);
          |                            ^
      175 |     if (result.success) {
      176 |       expect(result.data.id).toBe('booking-1');
      177 |       expect(result.data.vendorId).toBe('vendor-1');

      at Object.toBe (services/vendorBookingService.test.ts:174:28)

  ‚óè vendorBookingService.get ‚Ä∫ should return NOT_FOUND when booking does not exist

    expect(received).toBe(expected) // Object.is equality

    Expected: "NOT_FOUND"
    Received: "UNKNOWN_ERROR"

      189 |     expect(result.success).toBe(false);
      190 |     if (!result.success) {
    > 191 |       expect(result.error.code).toBe('NOT_FOUND');
          |                                 ^
      192 |     }
      193 |   });
      194 | });

      at Object.toBe (services/vendorBookingService.test.ts:191:33)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should retrieve bookings with vendor and activity details

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      243 |     const result = await vendorBookingService.listWithDetails({});
      244 |
    > 245 |     expect(result.success).toBe(true);
          |                            ^
      246 |     if (result.success) {
      247 |       expect(result.data).toHaveLength(1);
      248 |       expect(result.data[0].vendorName).toBe('Test Photographer');

      at Object.toBe (services/vendorBookingService.test.ts:245:28)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should filter bookings by vendor ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      259 |     const result = await vendorBookingService.listWithDetails({ vendorId: 'vendor-1' });
      260 |
    > 261 |     expect(result.success).toBe(true);
          |                            ^
      262 |     expect(mockSupabase.eq).toHaveBeenCalledWith('vendor_id', 'vendor-1');
      263 |   });
      264 |

      at Object.toBe (services/vendorBookingService.test.ts:261:28)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should filter bookings by activity ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      271 |     const result = await vendorBookingService.listWithDetails({ activityId: 'activity-1' });
      272 |
    > 273 |     expect(result.success).toBe(true);
          |                            ^
      274 |     expect(mockSupabase.eq).toHaveBeenCalledWith('activity_id', 'activity-1');
      275 |   });
      276 | });

      at Object.toBe (services/vendorBookingService.test.ts:273:28)

  ‚óè vendorBookingService.getVendorBookings ‚Ä∫ should retrieve all bookings for a specific vendor

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      344 |     const result = await vendorBookingService.getVendorBookings('vendor-1');
      345 |
    > 346 |     expect(result.success).toBe(true);
          |                            ^
      347 |     if (result.success) {
      348 |       expect(result.data).toHaveLength(2);
      349 |       expect(result.data[0].vendorId).toBe('vendor-1');

      at Object.toBe (services/vendorBookingService.test.ts:346:28)

  ‚óè vendorBookingService.getActivityBookings ‚Ä∫ should retrieve all bookings for a specific activity

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      421 |     const result = await vendorBookingService.getActivityBookings('activity-1');
      422 |
    > 423 |     expect(result.success).toBe(true);
          |                            ^
      424 |     if (result.success) {
      425 |       expect(result.data).toHaveLength(2);
      426 |       expect(result.data[0].activityId).toBe('activity-1');

      at Object.toBe (services/vendorBookingService.test.ts:423:28)

  ‚óè vendorBookingService.deleteBooking ‚Ä∫ should delete a vendor booking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      452 |     const result = await vendorBookingService.deleteBooking('booking-1');
      453 |
    > 454 |     expect(result.success).toBe(true);
          |                            ^
      455 |     expect(mockSupabase.from).toHaveBeenCalledWith('vendor_bookings');
      456 |     expect(mockSupabase.delete).toHaveBeenCalled();
      457 |     expect(mockSupabase.eq).toHaveBeenCalledWith('id', 'booking-1');

      at Object.toBe (services/vendorBookingService.test.ts:454:28)

  ‚óè vendorBookingService.deleteBooking ‚Ä∫ should return DATABASE_ERROR when delete fails

    expect(received).toBe(expected) // Object.is equality

    Expected: "DATABASE_ERROR"
    Received: "UNKNOWN_ERROR"

      467 |     expect(result.success).toBe(false);
      468 |     if (!result.success) {
    > 469 |       expect(result.error.code).toBe('DATABASE_ERROR');
          |                                 ^
      470 |     }
      471 |   });
      472 | });

      at Object.toBe (services/vendorBookingService.test.ts:469:33)

  ‚óè vendorBookingService.propagateVendorCostChange ‚Ä∫ should propagate vendor cost changes successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      521 |     const result = await vendorBookingService.propagateVendorCostChange('vendor-1');
      522 |
    > 523 |     expect(result.success).toBe(true);
          |                            ^
      524 |     // In real implementation, this would trigger budget recalculation
      525 |   });
      526 | });

      at Object.toBe (services/vendorBookingService.test.ts:523:28)

FAIL __tests__/regression/financialCalculations.regression.test.ts
  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should calculate total budget correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      57 |       });
      58 |
    > 59 |       const result = await budgetService.calculateTotal();
         |                                          ^
      60 |
      61 |       expect(result.success).toBe(true);
      62 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:59:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should handle zero costs

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      81 |       });
      82 |
    > 83 |       const result = await budgetService.calculateTotal();
         |                                          ^
      84 |
      85 |       expect(result.success).toBe(true);
      86 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:83:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should handle subsidies exceeding costs

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      103 |       });
      104 |
    > 105 |       const result = await budgetService.calculateTotal();
          |                                          ^
      106 |
      107 |       expect(result.success).toBe(true);
      108 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:105:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should calculate per-guest vendor costs correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      126 |       });
      127 |
    > 128 |       const result = await budgetService.calculateTotal();
          |                                          ^
      129 |
      130 |       expect(result.success).toBe(true);
      131 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:128:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should update balance correctly on payment

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      159 |         });
      160 |
    > 161 |       const result = await vendorService.recordPayment('vendor-1', 2000);
          |                                          ^
      162 |
      163 |       expect(result.success).toBe(true);
      164 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:161:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should mark as paid when full amount received

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      192 |         });
      193 |
    > 194 |       const result = await vendorService.recordPayment('vendor-1', 1000);
          |                                          ^
      195 |
      196 |       expect(result.success).toBe(true);
      197 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:194:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should handle overpayment

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      223 |         });
      224 |
    > 225 |       const result = await vendorService.recordPayment('vendor-1', 6000);
          |                                          ^
      226 |
      227 |       expect(result.success).toBe(true);
      228 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:225:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should reject negative payment amounts

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      233 |
      234 |     it('should reject negative payment amounts', async () => {
    > 235 |       const result = await vendorService.recordPayment('vendor-1', -100);
          |                                          ^
      236 |
      237 |       expect(result.success).toBe(false);
      238 |       if (!result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:235:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Accommodation Cost Calculations ‚Ä∫ should calculate room costs with subsidies

    TypeError: Cannot read properties of undefined (reading 'calculateRoomCost')

      259 |       });
      260 |
    > 261 |       const result = await accommodationService.calculateRoomCost(
          |                                                 ^
      262 |         'room-1',
      263 |         'assignment-1'
      264 |       );

      at Object.calculateRoomCost (__tests__/regression/financialCalculations.regression.test.ts:261:49)

  ‚óè Regression: Financial Calculations ‚Ä∫ Accommodation Cost Calculations ‚Ä∫ should handle same-day checkout

    TypeError: Cannot read properties of undefined (reading 'calculateRoomCost')

      289 |       });
      290 |
    > 291 |       const result = await accommodationService.calculateRoomCost(
          |                                                 ^
      292 |         'room-1',
      293 |         'assignment-1'
      294 |       );

      at Object.calculateRoomCost (__tests__/regression/financialCalculations.regression.test.ts:291:49)

  ‚óè Regression: Financial Calculations ‚Ä∫ Precision and Rounding ‚Ä∫ should handle decimal amounts correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      363 |       });
      364 |
    > 365 |       const result = await budgetService.calculateTotal();
          |                                          ^
      366 |
      367 |       expect(result.success).toBe(true);
      368 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:365:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Precision and Rounding ‚Ä∫ should not accumulate rounding errors

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      388 |       });
      389 |
    > 390 |       const result = await budgetService.calculateTotal();
          |                                          ^
      391 |
      392 |       expect(result.success).toBe(true);
      393 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:390:42)

FAIL components/admin/SectionEditor.test.tsx (5.046 s)
  ‚óè Console

    console.error
      An update to SectionEditor inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      138 |       }
      139 |     } catch (err) {
    > 140 |       setError('Failed to delete section');
          |       ^
      141 |     } finally {
      142 |       setSaving(false);
      143 |     }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (components/admin/SectionEditor.tsx:140:7)

    console.error
      An update to SectionEditor inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      140 |       setError('Failed to delete section');
      141 |     } finally {
    > 142 |       setSaving(false);
          |       ^
      143 |     }
      144 |   }, []);
      145 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSaving (components/admin/SectionEditor.tsx:142:7)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display column content for rich text

    TestingLibraryElementError: Unable to find an element with the text: /<p>Test content<\/p>/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative "[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-1 p-2 border border-gray-300 rounded-t-md bg-gray-50"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bold"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bold (Ctrl+B)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<strong>[39m
                            [0mB[0m
                          [36m</strong>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Italic"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Italic (Ctrl+I)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<em>[39m
                            [0mI[0m
                          [36m</em>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Underline"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Underline (Ctrl+U)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<u>[39m
                            [0mU[0m
                          [36m</u>[39m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bullet list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bullet List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Ä¢[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Numbered list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Numbered List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m1.[0m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert link"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Link (Ctrl+K)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0müîó[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert table"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Table"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚äû[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert divider"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Divider"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Äï[0m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33maria-label[39m=[32m"Rich text editor"[39m
                        [33maria-multiline[39m=[32m"true"[39m
                        [33mclass[39m=[32m"min-h-[200px] p-4 border border-t-0 border-gray-300 rounded-b-md focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-sm max-w-none bg-white false"[39m
                        [33mcontenteditable[39m=[32m"true"[39m
                        [33mdata-placeholder[39m=[32m"Start typing or use / for commands..."[39m
                        [33mrole[39m=[32m"textbox"[39m
                      [36m>[39m
                        [36m<p>[39m
                          [0mTest content[0m
                        [36m</p>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      774 |
      775 |       // Rich text content should be displayed (as escaped HTML)
    > 776 |       expect(screen.getByText(/<p>Test content<\/p>/)).toBeInTheDocument();
          |                     ^
      777 |     });
      778 |
      779 |     it('should display column number label', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:776:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display column number label

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<div class="text-xs font-medium text-gray-600">Column 1</div>, <p>Column 1</p>, <div class="text-xs font-medium text-gray-600">Column 2</div>, <p>Column 2</p>]

      795 |       // Check for column labels specifically (not content)
      796 |       const columnLabels = screen.getAllByText(/^Column \d$/);
    > 797 |       expect(columnLabels).toHaveLength(2);
          |                            ^
      798 |       expect(columnLabels[0]).toHaveTextContent('Column 1');
      799 |       expect(columnLabels[1]).toHaveTextContent('Column 2');
      800 |     });

      at Object.toHaveLength (components/admin/SectionEditor.test.tsx:797:28)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display empty content placeholder for empty rich text

    TestingLibraryElementError: Unable to find an element with the text: Empty content. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative "[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-1 p-2 border border-gray-300 rounded-t-md bg-gray-50"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bold"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bold (Ctrl+B)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<strong>[39m
                            [0mB[0m
                          [36m</strong>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Italic"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Italic (Ctrl+I)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<em>[39m
                            [0mI[0m
                          [36m</em>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Underline"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Underline (Ctrl+U)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<u>[39m
                            [0mU[0m
                          [36m</u>[39m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bullet list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bullet List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Ä¢[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Numbered list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Numbered List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m1.[0m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert link"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Link (Ctrl+K)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0müîó[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert table"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Table"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚äû[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert divider"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Divider"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Äï[0m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33maria-label[39m=[32m"Rich text editor"[39m
                        [33maria-multiline[39m=[32m"true"[39m
                        [33mclass[39m=[32m"min-h-[200px] p-4 border border-t-0 border-gray-300 rounded-b-md focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-sm max-w-none bg-white empty-editor"[39m
                        [33mcontenteditable[39m=[32m"true"[39m
                        [33mdata-placeholder[39m=[32m"Start typing or use / for commands..."[39m
                        [33mrole[39m=[32m"textbox"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      823 |       });
      824 |
    > 825 |       expect(screen.getByText('Empty content')).toBeInTheDocument();
          |                     ^
      826 |     });
      827 |
      828 |     it('should display photo gallery content type', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:825:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display photo gallery content type

    TestingLibraryElementError: Unable to find an element with the text: Photo Gallery (3 photos). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-4"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"border border-gray-200 rounded-lg p-4 bg-gray-50"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
                        [36m>[39m
                          [36m<h4[39m
                            [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mSelected Photos ([0m
                            [0m3[0m
                            [0m)[0m
                          [36m</h4>[39m
                          [36m<button[39m
                            [33maria-label[39m=[32m"Clear all selected photos"[39m
                            [33mclass[39m=[32m"text-xs text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [36m>[39m
                            [0mClear All[0m
                          [36m</button>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"grid grid-cols-4 gap-3"[39m
                        [36m/>[39m
                      [36m</div>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Add photos from gallery"[39m
                        [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                      [36m>[39m
                        [0m+ Add Photos from Gallery[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      850 |       });
      851 |
    > 852 |       expect(screen.getByText('Photo Gallery (3 photos)')).toBeInTheDocument();
          |                     ^
      853 |     });
      854 |
      855 |     it('should display references content type', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:852:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display zero count for empty photo gallery

    TestingLibraryElementError: Unable to find an element with the text: Photo Gallery (0 photos). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-4"[39m
                    [36m>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Add photos from gallery"[39m
                        [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                      [36m>[39m
                        [0m+ Add Photos from Gallery[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      904 |       });
      905 |
    > 906 |       expect(screen.getByText('Photo Gallery (0 photos)')).toBeInTheDocument();
          |                     ^
      907 |     });
      908 |   });
      909 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:906:21)

FAIL __tests__/regression/authentication.regression.test.ts
  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should successfully authenticate valid credentials

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      50 |       });
      51 |
    > 52 |       const result = await authService.signInWithPassword(
         |                                        ^
      53 |         'test@example.com',
      54 |         'password123'
      55 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:52:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should reject invalid credentials

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      68 |       });
      69 |
    > 70 |       const result = await authService.signInWithPassword(
         |                                        ^
      71 |         'test@example.com',
      72 |         'wrongpassword'
      73 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:70:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should handle missing email

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      80 |
      81 |     it('should handle missing email', async () => {
    > 82 |       const result = await authService.signInWithPassword('', 'password123');
         |                                        ^
      83 |
      84 |       expect(result.success).toBe(false);
      85 |       if (!result.success) {

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:82:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should handle missing password

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      89 |
      90 |     it('should handle missing password', async () => {
    > 91 |       const result = await authService.signInWithPassword(
         |                                        ^
      92 |         'test@example.com',
      93 |         ''
      94 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:91:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should send magic link to valid email

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      108 |       });
      109 |
    > 110 |       const result = await authService.signInWithMagicLink('test@example.com');
          |                                        ^
      111 |
      112 |       expect(result.success).toBe(true);
      113 |       expect(mockSupabase.auth.signInWithOtp).toHaveBeenCalledWith({

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:110:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should reject invalid email format

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      117 |
      118 |     it('should reject invalid email format', async () => {
    > 119 |       const result = await authService.signInWithMagicLink('invalid-email');
          |                                        ^
      120 |
      121 |       expect(result.success).toBe(false);
      122 |       if (!result.success) {

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:119:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should handle email service failure

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      131 |       });
      132 |
    > 133 |       const result = await authService.signInWithMagicLink('test@example.com');
          |                                        ^
      134 |
      135 |       expect(result.success).toBe(false);
      136 |       if (!result.success) {

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:133:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should retrieve active session

    TypeError: Cannot read properties of undefined (reading 'getSession')

      152 |       });
      153 |
    > 154 |       const result = await authService.getSession();
          |                                        ^
      155 |
      156 |       expect(result.success).toBe(true);
      157 |       if (result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:154:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should handle expired session

    TypeError: Cannot read properties of undefined (reading 'getSession')

      166 |       });
      167 |
    > 168 |       const result = await authService.getSession();
          |                                        ^
      169 |
      170 |       expect(result.success).toBe(false);
      171 |       if (!result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:168:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should successfully sign out

    TypeError: Cannot read properties of undefined (reading 'signOut')

      179 |       });
      180 |
    > 181 |       const result = await authService.signOut();
          |                                        ^
      182 |
      183 |       expect(result.success).toBe(true);
      184 |       expect(mockSupabase.auth.signOut).toHaveBeenCalled();

      at Object.signOut (__tests__/regression/authentication.regression.test.ts:181:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow super_admin to access all resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      193 |       });
      194 |
    > 195 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      196 |         'user-1',
      197 |         'admin',
      198 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:195:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow host to access admin resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      211 |       });
      212 |
    > 213 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      214 |         'user-2',
      215 |         'admin',
      216 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:213:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should deny guest access to admin resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      229 |       });
      230 |
    > 231 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      232 |         'user-3',
      233 |         'admin',
      234 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:231:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow guest to read their own data

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      247 |       });
      248 |
    > 249 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      250 |         'user-3',
      251 |         'guest',
      252 |         'read'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:249:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Security ‚Ä∫ should not expose sensitive session data

    TypeError: Cannot read properties of undefined (reading 'getSession')

      273 |       });
      274 |
    > 275 |       const result = await authService.getSession();
          |                                        ^
      276 |
      277 |       expect(result.success).toBe(true);
      278 |       if (result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:275:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Security ‚Ä∫ should handle concurrent session requests

    TypeError: Cannot read properties of undefined (reading 'getSession')

      298 |       // Simulate concurrent requests
      299 |       const results = await Promise.all([
    > 300 |         authService.getSession(),
          |                     ^
      301 |         authService.getSession(),
      302 |         authService.getSession(),
      303 |       ]);

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:300:21)

FAIL __tests__/integration/database-rls.integration.test.ts
  ‚óè Database RLS Policies ‚Ä∫ guests table ‚Ä∫ should query guests with filters without infinite recursion

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      33 |       
      34 |       expect(error).toBeNull();
    > 35 |       expect(Array.isArray(data)).toBe(true);
         |                                   ^
      36 |     });
      37 |   });
      38 |

      at Object.toBe (__tests__/integration/database-rls.integration.test.ts:35:35)

  ‚óè Database RLS Policies ‚Ä∫ groups table ‚Ä∫ should query groups with select without infinite recursion

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      52 |       
      53 |       expect(error).toBeNull();
    > 54 |       expect(Array.isArray(data)).toBe(true);
         |                                   ^
      55 |     });
      56 |   });
      57 |

      at Object.toBe (__tests__/integration/database-rls.integration.test.ts:54:35)

FAIL __tests__/regression/rsvpCapacity.regression.test.ts
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:51.719Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

       5 | const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
       6 | const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
    >  7 | const supabase = createClient(supabaseUrl, supabaseKey);
         |                              ^
       8 |
       9 | /**
      10 |  * Response rate statistics for RSVPs.

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.<anonymous> (services/rsvpAnalyticsService.ts:7:30)
      at Object.<anonymous> (__tests__/regression/rsvpCapacity.regression.test.ts:20:31)

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:39:51.772Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      13 | const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;
      14 | const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;
    > 15 | const supabase = createClient(supabaseUrl, supabaseKey);
         |                              ^
      16 |
      17 | /**
      18 |  * Activity capacity utilization data.

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.<anonymous> (services/capacityReportService.ts:15:30)
      at Object.<anonymous> (__tests__/regression/rsvpCapacity.regression.test.ts:21:32)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should calculate current capacity correctly

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      56 |       });
      57 |
    > 58 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      59 |         'activity-1'
      60 |       );
      61 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:58:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle activities without capacity limits

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      86 |       });
      87 |
    > 88 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      89 |         'activity-1'
      90 |       );
      91 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:88:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle zero attendees

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      109 |       });
      110 |
    > 111 |       const result = await rsvpAnalyticsService.calculateCapacity(
          |                                                 ^
      112 |         'activity-1'
      113 |       );
      114 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:111:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate alert at 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      137 |       });
      138 |
    > 139 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      140 |         'activity-1'
      141 |       );
      142 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:139:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate critical alert at 100% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      163 |       });
      164 |
    > 165 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      166 |         'activity-1'
      167 |       );
      168 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:165:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should not alert below 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      188 |       });
      189 |
    > 190 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      191 |         'activity-1'
      192 |       );
      193 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:190:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should handle over-capacity situations

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      212 |       });
      213 |
    > 214 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      215 |         'activity-1'
      216 |       );
      217 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:214:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should prevent RSVP when at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      238 |       });
      239 |
    > 240 |       const result = await rsvpService.create({
          |                                        ^
      241 |         guestId: 'guest-1',
      242 |         activityId: 'activity-1',
      243 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:240:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow RSVP when capacity available

    TypeError: Cannot read properties of undefined (reading 'create')

      274 |       });
      275 |
    > 276 |       const result = await rsvpService.create({
          |                                        ^
      277 |         guestId: 'guest-1',
      278 |         activityId: 'activity-1',
      279 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:276:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow declining RSVP even at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      306 |       });
      307 |
    > 308 |       const result = await rsvpService.create({
          |                                        ^
      309 |         guestId: 'guest-1',
      310 |         activityId: 'activity-1',
      311 |         status: 'declined',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:308:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should update capacity when RSVP status changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      331 |
      332 |       // Check initial capacity
    > 333 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      334 |         'activity-1'
      335 |       );
      336 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:333:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should handle guest count changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      380 |
      381 |       // Initial: 2 + 3 = 5
    > 382 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      383 |         'activity-1'
      384 |       );
      385 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:382:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Multiple Activities Capacity ‚Ä∫ should track capacity across multiple activities

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      433 |       const results = await Promise.all(
      434 |         activities.map((activity) =>
    > 435 |           rsvpAnalyticsService.calculateCapacity(activity.id)
          |                                ^
      436 |         )
      437 |       );
      438 |

      at calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:435:32)
          at Array.map (<anonymous>)
      at Object.map (__tests__/regression/rsvpCapacity.regression.test.ts:434:20)

FAIL __tests__/regression/dataServices.regression.test.ts
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:39:51.730Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      32 |
      33 | // Initialize Supabase client
    > 34 | const supabase = createClient(
         |                              ^
      35 |   process.env.NEXT_PUBLIC_SUPABASE_URL!,
      36 |   process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
      37 | );

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at Object.<anonymous> (services/vendorService.ts:34:30)
      at Object.<anonymous> (__tests__/regression/dataServices.regression.test.ts:24:24)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should create guest with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |       });
      59 |
    > 60 |       const result = await guestService.create(validGuest);
         |                                         ^
      61 |
      62 |       expect(result.success).toBe(true);
      63 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:60:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should retrieve guest by ID

    TypeError: Cannot read properties of undefined (reading 'get')

      73 |       });
      74 |
    > 75 |       const result = await guestService.get('guest-1');
         |                                         ^
      76 |
      77 |       expect(result.success).toBe(true);
      78 |       if (result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:75:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should update guest data

    TypeError: Cannot read properties of undefined (reading 'update')

      87 |       });
      88 |
    > 89 |       const result = await guestService.update('guest-1', {
         |                                         ^
      90 |         firstName: 'Jane',
      91 |       });
      92 |

      at Object.update (__tests__/regression/dataServices.regression.test.ts:89:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should delete guest

    TypeError: Cannot read properties of undefined (reading 'delete')

      103 |       });
      104 |
    > 105 |       const result = await guestService.delete('guest-1');
          |                                         ^
      106 |
      107 |       expect(result.success).toBe(true);
      108 |     });

      at Object.delete (__tests__/regression/dataServices.regression.test.ts:105:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should list guests with pagination

    TypeError: Cannot read properties of undefined (reading 'list')

      119 |       });
      120 |
    > 121 |       const result = await guestService.list({ page: 1, pageSize: 10 });
          |                                         ^
      122 |
      123 |       expect(result.success).toBe(true);
      124 |       if (result.success) {

      at Object.list (__tests__/regression/dataServices.regression.test.ts:121:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Event Service CRUD ‚Ä∫ should create event with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      144 |       });
      145 |
    > 146 |       const result = await eventService.create(validEvent);
          |                                         ^
      147 |
      148 |       expect(result.success).toBe(true);
      149 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:146:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Event Service CRUD ‚Ä∫ should detect scheduling conflicts

    TypeError: Cannot read properties of undefined (reading 'checkSchedulingConflict')

      165 |       });
      166 |
    > 167 |       const result = await eventService.checkSchedulingConflict(
          |                                         ^
      168 |         conflictingEvent
      169 |       );
      170 |

      at Object.checkSchedulingConflict (__tests__/regression/dataServices.regression.test.ts:167:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Activity Service CRUD ‚Ä∫ should create activity with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      197 |       });
      198 |
    > 199 |       const result = await activityService.create(validActivity);
          |                                            ^
      200 |
      201 |       expect(result.success).toBe(true);
      202 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:199:44)

  ‚óè Regression: Data Service Operations ‚Ä∫ Activity Service CRUD ‚Ä∫ should validate required fields

    TypeError: Cannot read properties of undefined (reading 'create')

      212 |       };
      213 |
    > 214 |       const result = await activityService.create(invalidActivity as any);
          |                                            ^
      215 |
      216 |       expect(result.success).toBe(false);
      217 |       if (!result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:214:44)

  ‚óè Regression: Data Service Operations ‚Ä∫ RSVP Service CRUD ‚Ä∫ should create RSVP with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      236 |       });
      237 |
    > 238 |       const result = await rsvpService.create(validRSVP);
          |                                        ^
      239 |
      240 |       expect(result.success).toBe(true);
      241 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:238:40)

  ‚óè Regression: Data Service Operations ‚Ä∫ RSVP Service CRUD ‚Ä∫ should update RSVP status

    TypeError: Cannot read properties of undefined (reading 'update')

      250 |       });
      251 |
    > 252 |       const result = await rsvpService.update('rsvp-1', {
          |                                        ^
      253 |         status: 'declined',
      254 |       });
      255 |

      at Object.update (__tests__/regression/dataServices.regression.test.ts:252:40)

  ‚óè Regression: Data Service Operations ‚Ä∫ Vendor Service CRUD ‚Ä∫ should create vendor with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      277 |       });
      278 |
    > 279 |       const result = await vendorService.create(validVendor);
          |                                          ^
      280 |
      281 |       expect(result.success).toBe(true);
      282 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:279:42)

  ‚óè Regression: Data Service Operations ‚Ä∫ Vendor Service CRUD ‚Ä∫ should update payment status

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      296 |       });
      297 |
    > 298 |       const result = await vendorService.recordPayment('vendor-1', 1000);
          |                                          ^
      299 |
      300 |       expect(result.success).toBe(true);
      301 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/dataServices.regression.test.ts:298:42)

  ‚óè Regression: Data Service Operations ‚Ä∫ Accommodation Service CRUD ‚Ä∫ should create accommodation with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      319 |       });
      320 |
    > 321 |       const result = await accommodationService.create(validAccommodation);
          |                                                 ^
      322 |
      323 |       expect(result.success).toBe(true);
      324 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:321:49)

  ‚óè Regression: Data Service Operations ‚Ä∫ Data Integrity ‚Ä∫ should maintain referential integrity on delete

    TypeError: Cannot read properties of undefined (reading 'delete')

      342 |
      343 |       // Deleting event should not cascade to independent activities
    > 344 |       const result = await eventService.delete('event-1');
          |                                         ^
      345 |
      346 |       expect(result.success).toBe(true);
      347 |     });

      at Object.delete (__tests__/regression/dataServices.regression.test.ts:344:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Data Integrity ‚Ä∫ should handle concurrent updates

    TypeError: Cannot read properties of undefined (reading 'update')

      355 |       // Simulate concurrent updates
      356 |       const results = await Promise.all([
    > 357 |         guestService.update('guest-1', { firstName: 'Update1' }),
          |                      ^
      358 |         guestService.update('guest-1', { firstName: 'Update2' }),
      359 |         guestService.update('guest-1', { firstName: 'Update3' }),
      360 |       ]);

      at Object.update (__tests__/regression/dataServices.regression.test.ts:357:22)

  ‚óè Regression: Data Service Operations ‚Ä∫ Error Handling ‚Ä∫ should handle database connection errors

    TypeError: Cannot read properties of undefined (reading 'get')

      374 |       });
      375 |
    > 376 |       const result = await guestService.get('guest-1');
          |                                         ^
      377 |
      378 |       expect(result.success).toBe(false);
      379 |       if (!result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:376:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Error Handling ‚Ä∫ should handle not found errors

    TypeError: Cannot read properties of undefined (reading 'get')

      388 |       });
      389 |
    > 390 |       const result = await guestService.get('nonexistent-id');
          |                                         ^
      391 |
      392 |       expect(result.success).toBe(false);
      393 |       if (!result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:390:41)

FAIL __tests__/integration/guestsApi.integration.test.ts
  ‚óè GET /api/admin/guests ‚Ä∫ query parameter handling ‚Ä∫ should handle request with no query parameters

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: undefined

      20 |       if (response.status === 200) {
      21 |         const data = await response.json();
    > 22 |         expect(data.success).toBe(true);
         |                              ^
      23 |         expect(data.data).toBeDefined();
      24 |       }
      25 |     });

      at Object.toBe (__tests__/integration/guestsApi.integration.test.ts:22:30)

FAIL __tests__/integration/realApi.integration.test.ts
  ‚óè Console

    console.log
      ‚ÑπÔ∏è  Using existing server at http://localhost:3000

      at Object.log (__tests__/integration/realApi.integration.test.ts:62:15)

  ‚óè Real API Integration Tests ‚Ä∫ Authentication Endpoints ‚Ä∫ logout endpoint should exist and respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      124 |       
      125 |       const data = await response.json();
    > 126 |       expect(data).toHaveProperty('success');
          |                    ^
      127 |     }, TEST_TIMEOUT);
      128 |   });
      129 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:126:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ locations endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      136 |       
      137 |       const data = await response.json();
    > 138 |       expect(data).toHaveProperty('success');
          |                    ^
      139 |       
      140 |       if (!data.success) {
      141 |         expect(data).toHaveProperty('error');

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:138:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ content-pages endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      151 |       
      152 |       const data = await response.json();
    > 153 |       expect(data).toHaveProperty('success');
          |                    ^
      154 |     }, TEST_TIMEOUT);
      155 |
      156 |     test('guests endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:153:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ guests endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      161 |       
      162 |       const data = await response.json();
    > 163 |       expect(data).toHaveProperty('success');
          |                    ^
      164 |     }, TEST_TIMEOUT);
      165 |
      166 |     test('activities endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:163:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ activities endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      171 |       
      172 |       const data = await response.json();
    > 173 |       expect(data).toHaveProperty('success');
          |                    ^
      174 |     }, TEST_TIMEOUT);
      175 |   });
      176 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:173:20)

  ‚óè Real API Integration Tests ‚Ä∫ API Response Format ‚Ä∫ all API responses should have consistent format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      188 |         
      189 |         // All responses should have success field
    > 190 |         expect(data).toHaveProperty('success');
          |                      ^
      191 |         expect(typeof data.success).toBe('boolean');
      192 |         
      193 |         // If success is false, should have error object

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:190:22)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid endpoints should return 404

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 200

      209 |     test('invalid endpoints should return 404', async () => {
      210 |       const response = await fetch(`${API_BASE_URL}/api/admin/nonexistent-endpoint`);
    > 211 |       expect(response.status).toBe(404);
          |                               ^
      212 |     }, TEST_TIMEOUT);
      213 |
      214 |     test('invalid methods should return 405', async () => {

      at Object.toBe (__tests__/integration/realApi.integration.test.ts:211:31)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid methods should return 405

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [401, 405]

      218 |       
      219 |       // Should be 405 (Method Not Allowed) or 401 (Unauthorized)
    > 220 |       expect([401, 405]).toContain(response.status);
          |                          ^
      221 |     }, TEST_TIMEOUT);
      222 |   });
      223 |

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:220:26)

  ‚óè Real API Integration Tests ‚Ä∫ CORS and Headers ‚Ä∫ API should set proper content-type headers

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      227 |       
      228 |       const contentType = response.headers.get('content-type');
    > 229 |       expect(contentType).toContain('application/json');
          |                           ^
      230 |     }, TEST_TIMEOUT);
      231 |   });
      232 | });

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:229:27)

FAIL services/rsvpReminderService.test.ts
  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should trigger reminder when deadline is within threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      107 |
      108 |       // Assert: Guest should be included in reminder list
    > 109 |       expect(result.success).toBe(true);
          |                              ^
      110 |       if (result.success) {
      111 |         expect(result.data.length).toBe(1);
      112 |         expect(result.data[0].guest_id).toBe('guest-1');

      at Object.toBe (services/rsvpReminderService.test.ts:109:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when deadline is beyond threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      153 |
      154 |       // Assert: No guests should be included (deadline too far away)
    > 155 |       expect(result.success).toBe(true);
          |                              ^
      156 |       if (result.success) {
      157 |         expect(result.data.length).toBe(0);
      158 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:155:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when guest has already responded

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      228 |
      229 |       // Assert: No guests should be included (already responded)
    > 230 |       expect(result.success).toBe(true);
          |                              ^
      231 |       if (result.success) {
      232 |         expect(result.data.length).toBe(0);
      233 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:230:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should send reminder email when deadline is approaching

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      265 |
      266 |       // Assert: Reminder should be sent successfully
    > 267 |       expect(result.success).toBe(true);
          |                              ^
      268 |       expect(emailService.sendEmail).toHaveBeenCalledWith(
      269 |         expect.objectContaining({
      270 |           to: 'john@example.com',

      at Object.toBe (services/rsvpReminderService.test.ts:267:30)

FAIL __tests__/regression/photoStorage.regression.test.ts
  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should use B2 when healthy

    ReferenceError: mockSupabase is not defined

      114 |       });
      115 |
    > 116 |       mockSupabase.single.mockResolvedValue({
          |       ^
      117 |         data: {
      118 |           id: 'photo-1',
      119 |           photoUrl: 'https://cdn.example.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:116:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should failover to Supabase when B2 unhealthy

    ReferenceError: mockSupabase is not defined

      144 |       });
      145 |
    > 146 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      147 |         data: { path: 'photos/photo.jpg' },
      148 |         error: null,
      149 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:146:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should retry B2 upload on transient failure

    ReferenceError: mockSupabase is not defined

      196 |         });
      197 |
    > 198 |       mockSupabase.single.mockResolvedValue({
          |       ^
      199 |         data: {
      200 |           id: 'photo-1',
      201 |           photoUrl: 'https://cdn.example.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:198:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ URL Consistency ‚Ä∫ should use CDN URL for B2 storage

    ReferenceError: mockSupabase is not defined

      235 |       });
      236 |
    > 237 |       mockSupabase.single.mockResolvedValue({
          |       ^
      238 |         data: {
      239 |           id: 'photo-1',
      240 |           photoUrl: 'https://cdn.cloudflare.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:237:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ URL Consistency ‚Ä∫ should use Supabase URL for Supabase storage

    ReferenceError: mockSupabase is not defined

      264 |       });
      265 |
    > 266 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      267 |         data: { path: 'photos/photo.jpg' },
      268 |         error: null,
      269 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:266:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Storage Type Tracking ‚Ä∫ should track B2 storage type in database

    ReferenceError: mockSupabase is not defined

      312 |       });
      313 |
    > 314 |       mockSupabase.single.mockResolvedValue({
          |       ^
      315 |         data: {
      316 |           id: 'photo-1',
      317 |           storageType: 'b2',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:314:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Storage Type Tracking ‚Ä∫ should track Supabase storage type in database

    ReferenceError: mockSupabase is not defined

      340 |       });
      341 |
    > 342 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      343 |         data: { path: 'photos/photo.jpg' },
      344 |         error: null,
      345 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:342:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Fallback Recovery ‚Ä∫ should recover to B2 when it becomes healthy again

    ReferenceError: mockSupabase is not defined

      380 |       });
      381 |
    > 382 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      383 |         data: { path: 'photos/photo1.jpg' },
      384 |         error: null,
      385 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:382:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Error Handling ‚Ä∫ should handle both storage systems failing

    ReferenceError: mockSupabase is not defined

      448 |       });
      449 |
    > 450 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      451 |         data: null,
      452 |         error: { message: 'Supabase storage unavailable' },
      453 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:450:7)

FAIL __tests__/regression/dynamicRoutes.regression.test.ts
  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should resolve custom page by slug

    ReferenceError: sectionsService is not defined

      48 |       });
      49 |
    > 50 |       const result = await sectionsService.getPageBySlug('our-story');
         |                      ^
      51 |
      52 |       expect(result.success).toBe(true);
      53 |       if (result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:50:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should return 404 for non-existent slug

    ReferenceError: sectionsService is not defined

      63 |       });
      64 |
    > 65 |       const result = await sectionsService.getPageBySlug('non-existent');
         |                      ^
      66 |
      67 |       expect(result.success).toBe(false);
      68 |       if (!result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:65:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should handle slugs with special characters

    ReferenceError: sectionsService is not defined

      85 |       });
      86 |
    > 87 |       const result = await sectionsService.getPageBySlug(
         |                      ^
      88 |         'costa-rica-travel-tips'
      89 |       );
      90 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:87:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should resolve activity by ID

    ReferenceError: sectionsService is not defined

      110 |       });
      111 |
    > 112 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      113 |         'activity',
      114 |         'activity-1'
      115 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:112:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should return 404 for non-existent activity

    ReferenceError: sectionsService is not defined

      128 |       });
      129 |
    > 130 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      131 |         'activity',
      132 |         'non-existent'
      133 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:130:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should only return published activities

    ReferenceError: sectionsService is not defined

      152 |       });
      153 |
    > 154 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      155 |         'activity',
      156 |         'activity-1',
      157 |         { publishedOnly: true }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:154:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should resolve event by ID

    ReferenceError: sectionsService is not defined

      179 |       });
      180 |
    > 181 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      182 |         'event',
      183 |         'event-1'
      184 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:181:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should handle event visibility restrictions

    ReferenceError: sectionsService is not defined

      204 |       });
      205 |
    > 206 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      207 |         'event',
      208 |         'event-1',
      209 |         { guestType: 'wedding_guest' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:206:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve accommodation by ID

    ReferenceError: sectionsService is not defined

      230 |       });
      231 |
    > 232 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      233 |         'accommodation',
      234 |         'accommodation-1'
      235 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:232:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve room type by ID

    ReferenceError: sectionsService is not defined

      255 |       });
      256 |
    > 257 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      258 |         'room_type',
      259 |         'room-type-1'
      260 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:257:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should handle special characters in slug

    expect(received).toBe(expected) // Object.is equality

    Expected: "costa-ricas-best-beaches"
    Received: "costa-rica-s-best-beaches"

      280 |       const slug = generateSlug(title);
      281 |
    > 282 |       expect(slug).toBe('costa-ricas-best-beaches');
          |                    ^
      283 |     });
      284 |
      285 |     it('should handle multiple spaces', () => {

      at Object.toBe (__tests__/regression/dynamicRoutes.regression.test.ts:282:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should ensure unique slugs

    ReferenceError: sectionsService is not defined

      313 |       });
      314 |
    > 315 |       const slug = await sectionsService.generateUniqueSlug(title);
          |                    ^
      316 |
      317 |       expect(slug).toBe('our-story-2');
      318 |     });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:315:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate page type parameter

    ReferenceError: sectionsService is not defined

      321 |   describe('Route Parameter Validation', () => {
      322 |     it('should validate page type parameter', async () => {
    > 323 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      324 |         'invalid_type' as any,
      325 |         'page-1'
      326 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:323:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate UUID format for IDs

    ReferenceError: sectionsService is not defined

      333 |
      334 |     it('should validate UUID format for IDs', async () => {
    > 335 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      336 |         'activity',
      337 |         'not-a-uuid'
      338 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:335:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate slug format

    ReferenceError: sectionsService is not defined

      345 |
      346 |     it('should validate slug format', async () => {
    > 347 |       const result = await sectionsService.getPageBySlug(
          |                      ^
      348 |         'invalid slug with spaces'
      349 |       );
      350 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:347:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve nested activity within event

    ReferenceError: sectionsService is not defined

      370 |       });
      371 |
    > 372 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      373 |         'activity',
      374 |         'activity-1',
      375 |         { parentEventId: 'event-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:372:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve room type within accommodation

    ReferenceError: sectionsService is not defined

      395 |       });
      396 |
    > 397 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      398 |         'room_type',
      399 |         'room-type-1',
      400 |         { parentAccommodationId: 'accommodation-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:397:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should cache resolved routes

    ReferenceError: sectionsService is not defined

      422 |
      423 |       // First call
    > 424 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      425 |
      426 |       // Second call should use cache
      427 |       await sectionsService.getPageBySlug('our-story');

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:424:7)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should invalidate cache on update

    ReferenceError: sectionsService is not defined

      444 |
      445 |       // Initial load
    > 446 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      447 |
      448 |       // Update page
      449 |       await sectionsService.updatePage('page-1', { title: 'Updated' });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:446:7)

FAIL __tests__/smoke/apiRoutes.smoke.test.ts
  ‚óè API Smoke Tests ‚Ä∫ POST /api/auth/logout ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/room-types ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvps ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/photos ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ PUT /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvp-analytics ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/audit-logs ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/arrivals ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/departures ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/vehicle-requirements ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/breakdown ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/subsidies ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/payment-status ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/references/search ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ Response Format Consistency ‚Ä∫ all endpoints should return consistent error format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      144 |
      145 |         // Should have success field
    > 146 |         expect(data).toHaveProperty('success');
          |                      ^
      147 |         expect(typeof data.success).toBe('boolean');
      148 |
      149 |         // If error, should have proper error structure

      at Object.toHaveProperty (__tests__/smoke/apiRoutes.smoke.test.ts:146:22)

PASS app/admin/settings/page.property.test.tsx (9.195 s)
PASS components/ui/Toast.property.test.tsx (14.885 s)
PASS components/ui/KeyboardNavigation.property.test.tsx (7.099 s)
PASS app/admin/photos/page.property.test.tsx
  ‚óè Console

    console.warn
      GoTrueClient@sb-localhost-auth-token:1 (2.91.1) 2026-01-29T00:40:08.155Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:2 (2.91.1) 2026-01-29T00:40:08.221Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:3 (2.91.1) 2026-01-29T00:40:08.270Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:4 (2.91.1) 2026-01-29T00:40:08.352Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:5 (2.91.1) 2026-01-29T00:40:08.404Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:6 (2.91.1) 2026-01-29T00:40:08.428Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:7 (2.91.1) 2026-01-29T00:40:08.441Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:8 (2.91.1) 2026-01-29T00:40:08.458Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:9 (2.91.1) 2026-01-29T00:40:08.473Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:10 (2.91.1) 2026-01-29T00:40:08.509Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:11 (2.91.1) 2026-01-29T00:40:08.532Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:12 (2.91.1) 2026-01-29T00:40:08.547Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:13 (2.91.1) 2026-01-29T00:40:08.583Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:14 (2.91.1) 2026-01-29T00:40:08.606Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:15 (2.91.1) 2026-01-29T00:40:08.631Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:16 (2.91.1) 2026-01-29T00:40:08.648Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:17 (2.91.1) 2026-01-29T00:40:08.663Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:18 (2.91.1) 2026-01-29T00:40:08.685Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:19 (2.91.1) 2026-01-29T00:40:08.719Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:20 (2.91.1) 2026-01-29T00:40:08.771Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:21 (2.91.1) 2026-01-29T00:40:08.796Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:22 (2.91.1) 2026-01-29T00:40:08.811Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:23 (2.91.1) 2026-01-29T00:40:08.838Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:24 (2.91.1) 2026-01-29T00:40:08.852Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:25 (2.91.1) 2026-01-29T00:40:08.883Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:26 (2.91.1) 2026-01-29T00:40:08.924Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:27 (2.91.1) 2026-01-29T00:40:08.989Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:28 (2.91.1) 2026-01-29T00:40:09.013Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:29 (2.91.1) 2026-01-29T00:40:09.033Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:30 (2.91.1) 2026-01-29T00:40:09.049Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:31 (2.91.1) 2026-01-29T00:40:09.088Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:32 (2.91.1) 2026-01-29T00:40:09.103Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:33 (2.91.1) 2026-01-29T00:40:09.113Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:34 (2.91.1) 2026-01-29T00:40:09.132Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:35 (2.91.1) 2026-01-29T00:40:09.146Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:36 (2.91.1) 2026-01-29T00:40:09.177Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:37 (2.91.1) 2026-01-29T00:40:09.189Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:38 (2.91.1) 2026-01-29T00:40:09.209Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:39 (2.91.1) 2026-01-29T00:40:09.219Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:40 (2.91.1) 2026-01-29T00:40:09.248Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:41 (2.91.1) 2026-01-29T00:40:09.265Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:42 (2.91.1) 2026-01-29T00:40:09.285Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:43 (2.91.1) 2026-01-29T00:40:09.306Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:44 (2.91.1) 2026-01-29T00:40:09.330Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:45 (2.91.1) 2026-01-29T00:40:09.353Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:46 (2.91.1) 2026-01-29T00:40:09.366Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:47 (2.91.1) 2026-01-29T00:40:09.382Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:48 (2.91.1) 2026-01-29T00:40:09.390Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:49 (2.91.1) 2026-01-29T00:40:09.410Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:50 (2.91.1) 2026-01-29T00:40:09.419Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:51 (2.91.1) 2026-01-29T00:40:09.431Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:52 (2.91.1) 2026-01-29T00:40:09.448Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:53 (2.91.1) 2026-01-29T00:40:09.461Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:54 (2.91.1) 2026-01-29T00:40:09.481Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:55 (2.91.1) 2026-01-29T00:40:09.497Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:56 (2.91.1) 2026-01-29T00:40:09.507Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:57 (2.91.1) 2026-01-29T00:40:09.522Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:58 (2.91.1) 2026-01-29T00:40:09.545Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:59 (2.91.1) 2026-01-29T00:40:09.562Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:60 (2.91.1) 2026-01-29T00:40:09.580Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:61 (2.91.1) 2026-01-29T00:40:09.591Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:62 (2.91.1) 2026-01-29T00:40:09.608Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:63 (2.91.1) 2026-01-29T00:40:09.628Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:64 (2.91.1) 2026-01-29T00:40:09.642Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:65 (2.91.1) 2026-01-29T00:40:09.659Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:66 (2.91.1) 2026-01-29T00:40:09.677Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:67 (2.91.1) 2026-01-29T00:40:09.700Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:68 (2.91.1) 2026-01-29T00:40:09.711Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:69 (2.91.1) 2026-01-29T00:40:09.723Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:70 (2.91.1) 2026-01-29T00:40:09.738Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:71 (2.91.1) 2026-01-29T00:40:09.757Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:72 (2.91.1) 2026-01-29T00:40:09.777Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:73 (2.91.1) 2026-01-29T00:40:09.784Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:74 (2.91.1) 2026-01-29T00:40:09.799Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:75 (2.91.1) 2026-01-29T00:40:09.810Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:76 (2.91.1) 2026-01-29T00:40:09.821Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:77 (2.91.1) 2026-01-29T00:40:09.835Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:78 (2.91.1) 2026-01-29T00:40:09.845Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:79 (2.91.1) 2026-01-29T00:40:09.861Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:80 (2.91.1) 2026-01-29T00:40:09.873Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:81 (2.91.1) 2026-01-29T00:40:09.881Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:82 (2.91.1) 2026-01-29T00:40:09.888Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:83 (2.91.1) 2026-01-29T00:40:09.905Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:84 (2.91.1) 2026-01-29T00:40:09.916Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:85 (2.91.1) 2026-01-29T00:40:09.930Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:86 (2.91.1) 2026-01-29T00:40:09.940Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:87 (2.91.1) 2026-01-29T00:40:09.960Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:88 (2.91.1) 2026-01-29T00:40:09.969Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:89 (2.91.1) 2026-01-29T00:40:09.977Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:90 (2.91.1) 2026-01-29T00:40:09.990Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:91 (2.91.1) 2026-01-29T00:40:10.003Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:92 (2.91.1) 2026-01-29T00:40:10.020Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:93 (2.91.1) 2026-01-29T00:40:10.031Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:94 (2.91.1) 2026-01-29T00:40:10.043Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:95 (2.91.1) 2026-01-29T00:40:10.070Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:96 (2.91.1) 2026-01-29T00:40:10.082Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:97 (2.91.1) 2026-01-29T00:40:10.091Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:98 (2.91.1) 2026-01-29T00:40:10.101Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

    console.warn
      GoTrueClient@sb-localhost-auth-token:99 (2.91.1) 2026-01-29T00:40:10.115Z Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.

      253 |     }
      254 |
    > 255 |     const supabase = createClient(supabaseUrl, supabaseAnonKey);
          |                                  ^
      256 |
      257 |     // Subscribe to photo table changes
      258 |     const channel = supabase

      at new GoTrueClient (node_modules/@supabase/auth-js/src/GoTrueClient.ts:312:15)
      at new SupabaseAuthClient (node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts:6:5)
      at SupabaseClient._initSupabaseAuthClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:367:12)
      at new SupabaseClient (node_modules/@supabase/supabase-js/src/SupabaseClient.ts:141:24)
      at createClient (node_modules/@supabase/supabase-js/src/index.ts:60:10)
      at app/admin/photos/page.tsx:255:34
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:17923:15
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at node_modules/react/cjs/react.development.js:847:21

PASS services/csvExportValidity.property.test.ts (5.443 s)
PASS components/ui/FormModal.property.test.tsx (7.606 s)
PASS services/itineraryCacheRetrieval.property.test.ts
PASS components/admin/ReferenceLookup.test.tsx
  ‚óè Console

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:102:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:131:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      81 |             (result: SearchResult) => !excludeIds.includes(result.id)
      82 |           );
    > 83 |           setResults(filteredResults);
         |           ^
      84 |           setIsOpen(filteredResults.length > 0);
      85 |           setSelectedIndex(-1);
      86 |         } else {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setResults (components/admin/ReferenceLookup.tsx:83:11)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      82 |           );
      83 |           setResults(filteredResults);
    > 84 |           setIsOpen(filteredResults.length > 0);
         |           ^
      85 |           setSelectedIndex(-1);
      86 |         } else {
      87 |           setResults([]);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsOpen (components/admin/ReferenceLookup.tsx:84:11)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      83 |           setResults(filteredResults);
      84 |           setIsOpen(filteredResults.length > 0);
    > 85 |           setSelectedIndex(-1);
         |           ^
      86 |         } else {
      87 |           setResults([]);
      88 |           setIsOpen(false);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSelectedIndex (components/admin/ReferenceLookup.tsx:85:11)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      93 |         setIsOpen(false);
      94 |       } finally {
    > 95 |         setLoading(false);
         |         ^
      96 |       }
      97 |     },
      98 |     [entityTypes, excludeIds]

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:95:9)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:153:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      63 |     async (searchQuery: string) => {
      64 |       if (!searchQuery.trim()) {
    > 65 |         setResults([]);
         |         ^
      66 |         setIsOpen(false);
      67 |         return;
      68 |       }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setResults (components/admin/ReferenceLookup.tsx:65:9)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:209:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      64 |       if (!searchQuery.trim()) {
      65 |         setResults([]);
    > 66 |         setIsOpen(false);
         |         ^
      67 |         return;
      68 |       }
      69 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsOpen (components/admin/ReferenceLookup.tsx:66:9)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:209:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:246:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:263:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      63 |     async (searchQuery: string) => {
      64 |       if (!searchQuery.trim()) {
    > 65 |         setResults([]);
         |         ^
      66 |         setIsOpen(false);
      67 |         return;
      68 |       }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setResults (components/admin/ReferenceLookup.tsx:65:9)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:273:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      64 |       if (!searchQuery.trim()) {
      65 |         setResults([]);
    > 66 |         setIsOpen(false);
         |         ^
      67 |         return;
      68 |       }
      69 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setIsOpen (components/admin/ReferenceLookup.tsx:66:9)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:273:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:292:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:310:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:328:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:346:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:384:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:416:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:432:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:453:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:471:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:491:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:521:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:548:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:578:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:606:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:635:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:656:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:681:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      150 |         case 'ArrowDown':
      151 |           e.preventDefault();
    > 152 |           setSelectedIndex((prev) => (prev < results.length - 1 ? prev + 1 : prev));
          |           ^
      153 |           break;
      154 |         case 'ArrowUp':
      155 |           e.preventDefault();

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSelectedIndex (components/admin/ReferenceLookup.tsx:152:11)
      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
      at node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at Object.dispatchEvent (components/admin/ReferenceLookup.test.tsx:690:13)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:704:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      154 |         case 'ArrowUp':
      155 |           e.preventDefault();
    > 156 |           setSelectedIndex((prev) => (prev > 0 ? prev - 1 : -1));
          |           ^
      157 |           break;
      158 |         case 'Enter':
      159 |           e.preventDefault();

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSelectedIndex (components/admin/ReferenceLookup.tsx:156:11)
      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
      at node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at Object.dispatchEvent (components/admin/ReferenceLookup.test.tsx:716:13)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:733:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:762:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:789:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:812:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:835:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:850:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:872:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:915:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:942:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:966:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1000:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1023:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1052:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1068:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1101:12)

    console.error
      An update to ReferenceLookup inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      68 |       }
      69 |
    > 70 |       setLoading(true);
         |       ^
      71 |       try {
      72 |         const typeParam = entityTypes.join(',');
      73 |         const response = await fetch(

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/admin/ReferenceLookup.tsx:70:7)
      at performSearch (components/admin/ReferenceLookup.tsx:114:9)
      at callTimer (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:744:24)
      at doTickInner (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1312:29)
      at doTick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1393:20)
      at Object.tick (node_modules/@sinonjs/fake-timers/src/fake-timers-src.js:1401:20)
      at FakeTimers.advanceTimersByTime (node_modules/@jest/fake-timers/build/modernFakeTimers.js:94:19)
      at Object.advanceTimersByTime (components/admin/ReferenceLookup.test.tsx:1119:12)

PASS app/admin/budget/page.test.tsx
  ‚óè Console

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      41 |         throw new Error(vendorsData.error?.message || 'Failed to fetch vendors');
      42 |       }
    > 43 |       setVendors(vendorsData.data.vendors);
         |       ^
      44 |
      45 |       // Fetch activities
      46 |       const activitiesResponse = await fetch('/api/admin/activities?pageSize=1000');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVendors (app/admin/budget/page.tsx:43:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      49 |         throw new Error(activitiesData.error?.message || 'Failed to fetch activities');
      50 |       }
    > 51 |       setActivities(activitiesData.data.activities);
         |       ^
      52 |
      53 |       // Fetch accommodations
      54 |       const accommodationsResponse = await fetch('/api/admin/accommodations?page=1&pageSize=1000');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setActivities (app/admin/budget/page.tsx:51:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      57 |         throw new Error(accommodationsData.error?.message || 'Failed to fetch accommodations');
      58 |       }
    > 59 |       setAccommodations(accommodationsData.data.accommodations);
         |       ^
      60 |
      61 |       // Fetch budget breakdown
      62 |       const breakdownResponse = await fetch('/api/admin/budget/breakdown');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setAccommodations (app/admin/budget/page.tsx:59:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      65 |         throw new Error(breakdownData.error?.message || 'Failed to fetch budget breakdown');
      66 |       }
    > 67 |       setBudgetBreakdown(breakdownData.data);
         |       ^
      68 |
      69 |       // Fetch payment status report
      70 |       const paymentResponse = await fetch('/api/admin/budget/payment-status');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setBudgetBreakdown (app/admin/budget/page.tsx:67:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      73 |         throw new Error(paymentData.error?.message || 'Failed to fetch payment status');
      74 |       }
    > 75 |       setPaymentStatusReport(paymentData.data);
         |       ^
      76 |
      77 |       // Fetch subsidy tracking
      78 |       const subsidyResponse = await fetch('/api/admin/budget/subsidies');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setPaymentStatusReport (app/admin/budget/page.tsx:75:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      81 |         throw new Error(subsidyData.error?.message || 'Failed to fetch subsidy tracking');
      82 |       }
    > 83 |       setSubsidyTracking(subsidyData.data);
         |       ^
      84 |     } catch (err) {
      85 |       setError(err instanceof Error ? err.message : 'Failed to load budget data');
      86 |     } finally {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSubsidyTracking (app/admin/budget/page.tsx:83:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      85 |       setError(err instanceof Error ? err.message : 'Failed to load budget data');
      86 |     } finally {
    > 87 |       setLoading(false);
         |       ^
      88 |     }
      89 |   }, []);
      90 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/budget/page.tsx:87:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      41 |         throw new Error(vendorsData.error?.message || 'Failed to fetch vendors');
      42 |       }
    > 43 |       setVendors(vendorsData.data.vendors);
         |       ^
      44 |
      45 |       // Fetch activities
      46 |       const activitiesResponse = await fetch('/api/admin/activities?pageSize=1000');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setVendors (app/admin/budget/page.tsx:43:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      49 |         throw new Error(activitiesData.error?.message || 'Failed to fetch activities');
      50 |       }
    > 51 |       setActivities(activitiesData.data.activities);
         |       ^
      52 |
      53 |       // Fetch accommodations
      54 |       const accommodationsResponse = await fetch('/api/admin/accommodations?page=1&pageSize=1000');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setActivities (app/admin/budget/page.tsx:51:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      57 |         throw new Error(accommodationsData.error?.message || 'Failed to fetch accommodations');
      58 |       }
    > 59 |       setAccommodations(accommodationsData.data.accommodations);
         |       ^
      60 |
      61 |       // Fetch budget breakdown
      62 |       const breakdownResponse = await fetch('/api/admin/budget/breakdown');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setAccommodations (app/admin/budget/page.tsx:59:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      65 |         throw new Error(breakdownData.error?.message || 'Failed to fetch budget breakdown');
      66 |       }
    > 67 |       setBudgetBreakdown(breakdownData.data);
         |       ^
      68 |
      69 |       // Fetch payment status report
      70 |       const paymentResponse = await fetch('/api/admin/budget/payment-status');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setBudgetBreakdown (app/admin/budget/page.tsx:67:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      73 |         throw new Error(paymentData.error?.message || 'Failed to fetch payment status');
      74 |       }
    > 75 |       setPaymentStatusReport(paymentData.data);
         |       ^
      76 |
      77 |       // Fetch subsidy tracking
      78 |       const subsidyResponse = await fetch('/api/admin/budget/subsidies');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setPaymentStatusReport (app/admin/budget/page.tsx:75:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      81 |         throw new Error(subsidyData.error?.message || 'Failed to fetch subsidy tracking');
      82 |       }
    > 83 |       setSubsidyTracking(subsidyData.data);
         |       ^
      84 |     } catch (err) {
      85 |       setError(err instanceof Error ? err.message : 'Failed to load budget data');
      86 |     } finally {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setSubsidyTracking (app/admin/budget/page.tsx:83:7)

    console.error
      An update to BudgetPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      85 |       setError(err instanceof Error ? err.message : 'Failed to load budget data');
      86 |     } finally {
    > 87 |       setLoading(false);
         |       ^
      88 |     }
      89 |   }, []);
      90 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/budget/page.tsx:87:7)

PASS components/admin/GroupedNavigation.test.tsx
  ‚óè Console

    console.error
      An update to GroupedNavigation inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      193 |
      194 |   const toggleGroup = useCallback((groupId: string) => {
    > 195 |     setExpandedGroups((prev) => {
          |     ^
      196 |       const next = new Set(prev);
      197 |       if (next.has(groupId)) {
      198 |         next.delete(groupId);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setExpandedGroups (components/admin/GroupedNavigation.tsx:195:5)
      at toggleGroup (components/admin/GroupedNavigation.tsx:220:7)
      at handleKeyDown (components/admin/GroupedNavigation.tsx:268:33)
      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:19116:9)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:19166:19)
      at node_modules/react-dom/cjs/react-dom-client.development.js:19767:9
      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3255:40)
      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:19320:7)
      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23585:11)
      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:23553:11)
      at Object.dispatchEvent (components/admin/GroupedNavigation.test.tsx:340:29)

PASS app/admin/content-pages/page.guestView.test.tsx
  ‚óè Console

    console.error
      An update to ForwardRef(LoadableComponent) inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:8262:24)
      at node_modules/react-dom/cjs/react-dom-client.development.js:8247:11
      at callback (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:48)
          at Set.forEach (<anonymous>)
      at LoadableSubscription.forEach (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:235:21)
      at _update (node_modules/next/src/shared/lib/loadable.shared-runtime.tsx:217:14)

    console.error
      An update to ContentPageForm inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      66 |       setSlugManuallyEdited(false);
      67 |       setIsDirty(false);
    > 68 |       setErrors({});
         |       ^
      69 |     }
      70 |   }, [initialData, isOpen]);
      71 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setErrors (components/admin/ContentPageForm.tsx:68:7)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25989:20)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:13249:29)
      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13336:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15484:13)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15718:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15476:11)
      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15439:11)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:15519:11)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18432:9)
      at flushPendingEffects (node_modules/react-dom/cjs/react-dom-client.development.js:18358:14)
      at flushSpawnedWork (node_modules/react-dom/cjs/react-dom-client.development.js:18323:44)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:17955:9)
      at commitRootWhenReady (node_modules/react-dom/cjs/react-dom-client.development.js:16824:7)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16722:15)
      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:18972:7)
      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:18814:21)
      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:18853:9)
      at node_modules/react-dom/cjs/react-dom-client.development.js:18991:13

PASS components/admin/SectionEditor.photoIntegration.test.tsx
PASS utils/accessibility.test.ts
PASS __tests__/accessibility/admin-ui.accessibility.test.tsx
  ‚óè Console

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:236:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      234 |       );
      235 |
    > 236 |       const results = await axe(container, {
          |                                ^
      237 |         rules: {
      238 |           'color-contrast': { enabled: true },
      239 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:236:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:251:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      249 |       );
      250 |
    > 251 |       const results = await axe(container, {
          |                                ^
      252 |         rules: {
      253 |           'color-contrast': { enabled: true },
      254 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:251:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:268:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      266 |       );
      267 |
    > 268 |       const results = await axe(container, {
          |                                ^
      269 |         rules: {
      270 |           'color-contrast': { enabled: true },
      271 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:268:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:283:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      281 |       );
      282 |
    > 283 |       const results = await axe(container, {
          |                                ^
      284 |         rules: {
      285 |           'color-contrast': { enabled: true },
      286 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:283:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:298:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      296 |       );
      297 |
    > 298 |       const results = await axe(container, {
          |                                ^
      299 |         rules: {
      300 |           'color-contrast': { enabled: true },
      301 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/admin-ui.accessibility.test.tsx:298:32)

PASS services/activityCapacityWarning.property.test.ts
PASS utils/sanitization.property.test.ts
PASS components/ui/LiveRegion.test.tsx
PASS hooks/useLocations.test.ts
  ‚óè Console

    console.error
      Failed to fetch locations: Error: Failed to fetch
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useLocations.ts:49:15

      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);
    > 56 |       console.error('Failed to fetch locations:', errorObj);
         |               ^
      57 |     } finally {
      58 |       setLoading(false);
      59 |     }

      at error (hooks/useLocations.ts:56:15)

    console.error
      Failed to fetch locations: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useLocations.test.ts:81:9)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);
    > 56 |       console.error('Failed to fetch locations:', errorObj);
         |               ^
      57 |     } finally {
      58 |       setLoading(false);
      59 |     }

      at error (hooks/useLocations.ts:56:15)

    console.error
      Failed to fetch locations: Error: Unauthorized
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useLocations.ts:49:15

      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);
    > 56 |       console.error('Failed to fetch locations:', errorObj);
         |               ^
      57 |     } finally {
      58 |       setLoading(false);
      59 |     }

      at error (hooks/useLocations.ts:56:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      39 |
      40 |   const refetch = useCallback(async () => {
    > 41 |     setLoading(true);
         |     ^
      42 |     setError(null);
      43 |
      44 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useLocations.ts:41:5)
      at Object.refetch (hooks/useLocations.test.ts:154:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |   const refetch = useCallback(async () => {
      41 |     setLoading(true);
    > 42 |     setError(null);
         |     ^
      43 |
      44 |     try {
      45 |       const response = await fetch('/api/admin/locations');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useLocations.ts:42:5)
      at Object.refetch (hooks/useLocations.test.ts:154:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |       }
      51 |
    > 52 |       setData(result.data || []);
         |       ^
      53 |     } catch (err) {
      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useLocations.ts:52:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:154:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      56 |       console.error('Failed to fetch locations:', errorObj);
      57 |     } finally {
    > 58 |       setLoading(false);
         |       ^
      59 |     }
      60 |   }, []);
      61 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useLocations.ts:58:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:154:7)

    console.error
      Failed to fetch locations: Error: Initial error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useLocations.test.ts:163:32)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);
    > 56 |       console.error('Failed to fetch locations:', errorObj);
         |               ^
      57 |     } finally {
      58 |       setLoading(false);
      59 |     }

      at error (hooks/useLocations.ts:56:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      39 |
      40 |   const refetch = useCallback(async () => {
    > 41 |     setLoading(true);
         |     ^
      42 |     setError(null);
      43 |
      44 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useLocations.ts:41:5)
      at Object.refetch (hooks/useLocations.test.ts:175:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |   const refetch = useCallback(async () => {
      41 |     setLoading(true);
    > 42 |     setError(null);
         |     ^
      43 |
      44 |     try {
      45 |       const response = await fetch('/api/admin/locations');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useLocations.ts:42:5)
      at Object.refetch (hooks/useLocations.test.ts:175:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |       }
      51 |
    > 52 |       setData(result.data || []);
         |       ^
      53 |     } catch (err) {
      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useLocations.ts:52:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:175:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      56 |       console.error('Failed to fetch locations:', errorObj);
      57 |     } finally {
    > 58 |       setLoading(false);
         |       ^
      59 |     }
      60 |   }, []);
      61 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useLocations.ts:58:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:175:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      39 |
      40 |   const refetch = useCallback(async () => {
    > 41 |     setLoading(true);
         |     ^
      42 |     setError(null);
      43 |
      44 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:41:5)
      at Object.refetch [as create] (hooks/useLocations.ts:80:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:232:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |   const refetch = useCallback(async () => {
      41 |     setLoading(true);
    > 42 |     setError(null);
         |     ^
      43 |
      44 |     try {
      45 |       const response = await fetch('/api/admin/locations');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (hooks/useLocations.ts:42:5)
      at Object.refetch [as create] (hooks/useLocations.ts:80:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:232:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |       }
      51 |
    > 52 |       setData(result.data || []);
         |       ^
      53 |     } catch (err) {
      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setData (hooks/useLocations.ts:52:7)
      at Object.create (hooks/useLocations.ts:80:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:232:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      56 |       console.error('Failed to fetch locations:', errorObj);
      57 |     } finally {
    > 58 |       setLoading(false);
         |       ^
      59 |     }
      60 |   }, []);
      61 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:58:7)
      at Object.create (hooks/useLocations.ts:80:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:232:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      39 |
      40 |   const refetch = useCallback(async () => {
    > 41 |     setLoading(true);
         |     ^
      42 |     setError(null);
      43 |
      44 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:41:5)
      at Object.refetch [as update] (hooks/useLocations.ts:108:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:286:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |   const refetch = useCallback(async () => {
      41 |     setLoading(true);
    > 42 |     setError(null);
         |     ^
      43 |
      44 |     try {
      45 |       const response = await fetch('/api/admin/locations');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (hooks/useLocations.ts:42:5)
      at Object.refetch [as update] (hooks/useLocations.ts:108:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:286:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |       }
      51 |
    > 52 |       setData(result.data || []);
         |       ^
      53 |     } catch (err) {
      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setData (hooks/useLocations.ts:52:7)
      at Object.update (hooks/useLocations.ts:108:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:286:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      56 |       console.error('Failed to fetch locations:', errorObj);
      57 |     } finally {
    > 58 |       setLoading(false);
         |       ^
      59 |     }
      60 |   }, []);
      61 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:58:7)
      at Object.update (hooks/useLocations.ts:108:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:286:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      39 |
      40 |   const refetch = useCallback(async () => {
    > 41 |     setLoading(true);
         |     ^
      42 |     setError(null);
      43 |
      44 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:41:5)
      at Object.refetch [as remove] (hooks/useLocations.ts:134:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:344:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      40 |   const refetch = useCallback(async () => {
      41 |     setLoading(true);
    > 42 |     setError(null);
         |     ^
      43 |
      44 |     try {
      45 |       const response = await fetch('/api/admin/locations');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (hooks/useLocations.ts:42:5)
      at Object.refetch [as remove] (hooks/useLocations.ts:134:13)
      at Object.<anonymous> (hooks/useLocations.test.ts:344:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      50 |       }
      51 |
    > 52 |       setData(result.data || []);
         |       ^
      53 |     } catch (err) {
      54 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      55 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setData (hooks/useLocations.ts:52:7)
      at Object.remove (hooks/useLocations.ts:134:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:344:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      56 |       console.error('Failed to fetch locations:', errorObj);
      57 |     } finally {
    > 58 |       setLoading(false);
         |       ^
      59 |     }
      60 |   }, []);
      61 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (hooks/useLocations.ts:58:7)
      at Object.remove (hooks/useLocations.ts:134:7)
      at Object.<anonymous> (hooks/useLocations.test.ts:344:28)

    console.error
      Failed to validate parent location: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useLocations.test.ts:452:32)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      162 |     } catch (err) {
      163 |       const errorMsg = err instanceof Error ? err.message : 'Unknown error';
    > 164 |       console.error('Failed to validate parent location:', err);
          |               ^
      165 |       return { success: false, error: errorMsg };
      166 |     }
      167 |   }, []);

      at Object.error [as validateParent] (hooks/useLocations.ts:164:15)
      at Object.<anonymous> (hooks/useLocations.test.ts:460:32)

PASS hooks/useContentPages.test.ts
  ‚óè Console

    console.error
      Failed to fetch content pages: Error: Failed to fetch
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useContentPages.ts:37:15

      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);
    > 44 |       console.error('Failed to fetch content pages:', errorObj);
         |               ^
      45 |     } finally {
      46 |       setLoading(false);
      47 |     }

      at error (hooks/useContentPages.ts:44:15)

    console.error
      Failed to fetch content pages: Error: Network error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useContentPages.test.ts:80:9)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);
    > 44 |       console.error('Failed to fetch content pages:', errorObj);
         |               ^
      45 |     } finally {
      46 |       setLoading(false);
      47 |     }

      at error (hooks/useContentPages.ts:44:15)

    console.error
      Failed to fetch content pages: Error: Unauthorized
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useContentPages.ts:37:15

      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);
    > 44 |       console.error('Failed to fetch content pages:', errorObj);
         |               ^
      45 |     } finally {
      46 |       setLoading(false);
      47 |     }

      at error (hooks/useContentPages.ts:44:15)

    console.error
      Failed to fetch content pages: Error: Failed to fetch content pages
          at /Users/jaron/Desktop/wedding-platform-v2/hooks/useContentPages.ts:37:15

      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);
    > 44 |       console.error('Failed to fetch content pages:', errorObj);
         |               ^
      45 |     } finally {
      46 |       setLoading(false);
      47 |     }

      at error (hooks/useContentPages.ts:44:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      27 |
      28 |   const refetch = useCallback(async () => {
    > 29 |     setLoading(true);
         |     ^
      30 |     setError(null);
      31 |
      32 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useContentPages.ts:29:5)
      at Object.refetch (hooks/useContentPages.test.ts:169:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      28 |   const refetch = useCallback(async () => {
      29 |     setLoading(true);
    > 30 |     setError(null);
         |     ^
      31 |
      32 |     try {
      33 |       const response = await fetch('/api/admin/content-pages');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useContentPages.ts:30:5)
      at Object.refetch (hooks/useContentPages.test.ts:169:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      38 |       }
      39 |
    > 40 |       setData(result.data.items || result.data || []);
         |       ^
      41 |     } catch (err) {
      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useContentPages.ts:40:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:169:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      44 |       console.error('Failed to fetch content pages:', errorObj);
      45 |     } finally {
    > 46 |       setLoading(false);
         |       ^
      47 |     }
      48 |   }, []);
      49 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useContentPages.ts:46:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:169:7)

    console.error
      Failed to fetch content pages: Error: Initial error
          at Object.<anonymous> (/Users/jaron/Desktop/wedding-platform-v2/hooks/useContentPages.test.ts:178:32)
          at Promise.then.completed (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:316:40)
          at _runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at _runTestsForDescribeBlock (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/jaron/Desktop/wedding-platform-v2/node_modules/jest-runner/build/testWorker.js:106:12)

      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);
    > 44 |       console.error('Failed to fetch content pages:', errorObj);
         |               ^
      45 |     } finally {
      46 |       setLoading(false);
      47 |     }

      at error (hooks/useContentPages.ts:44:15)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      27 |
      28 |   const refetch = useCallback(async () => {
    > 29 |     setLoading(true);
         |     ^
      30 |     setError(null);
      31 |
      32 |     try {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useContentPages.ts:29:5)
      at Object.refetch (hooks/useContentPages.test.ts:190:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      28 |   const refetch = useCallback(async () => {
      29 |     setLoading(true);
    > 30 |     setError(null);
         |     ^
      31 |
      32 |     try {
      33 |       const response = await fetch('/api/admin/content-pages');

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setError [as refetch] (hooks/useContentPages.ts:30:5)
      at Object.refetch (hooks/useContentPages.test.ts:190:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      38 |       }
      39 |
    > 40 |       setData(result.data.items || result.data || []);
         |       ^
      41 |     } catch (err) {
      42 |       const errorObj = err instanceof Error ? err : new Error('Unknown error');
      43 |       setError(errorObj);

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData (hooks/useContentPages.ts:40:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:190:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      44 |       console.error('Failed to fetch content pages:', errorObj);
      45 |     } finally {
    > 46 |       setLoading(false);
         |       ^
      47 |     }
      48 |   }, []);
      49 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as refetch] (hooks/useContentPages.ts:46:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:190:7)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      66 |
      67 |       // Optimistic update
    > 68 |       setData((prev) => [...prev, result.data]);
         |       ^
      69 |
      70 |       return { success: true, data: result.data };
      71 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as create] (hooks/useContentPages.ts:68:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:236:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      94 |
      95 |       // Optimistic update
    > 96 |       setData((prev) =>
         |       ^
      97 |         prev.map((page) => (page.id === id ? { ...page, ...result.data } : page))
      98 |       );
      99 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as update] (hooks/useContentPages.ts:96:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:284:28)

    console.error
      An update to TestComponent inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      122 |
      123 |       // Optimistic update
    > 124 |       setData((prev) => prev.filter((page) => page.id !== id));
          |       ^
      125 |
      126 |       return { success: true };
      127 |     } catch (err) {

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setData [as remove] (hooks/useContentPages.ts:124:7)
      at Object.<anonymous> (hooks/useContentPages.test.ts:331:28)

PASS services/activityCapacityAlert.property.test.ts
PASS components/admin/RichTextEditor.test.tsx
PASS services/adultFamilyMemberAccess.property.test.ts
PASS services/sectionsService.referenceValidationAPI.property.test.ts
PASS services/contentPagesService.cascadeDeletion.property.test.ts
PASS __tests__/accessibility/axe.accessibility.test.tsx
  ‚óè Console

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:225:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      223 |       );
      224 |
    > 225 |       const results = await axe(container, {
          |                                ^
      226 |         rules: {
      227 |           'color-contrast': { enabled: true },
      228 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:225:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:241:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      239 |       );
      240 |
    > 241 |       const results = await axe(container, {
          |                                ^
      242 |         rules: {
      243 |           'color-contrast': { enabled: true },
      244 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:241:32)

    console.error
      Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
          at new Promise (<anonymous>)
          at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:256:32)
          at new Promise (<anonymous>) {
        type: 'not implemented'
      }

      254 |       );
      255 |
    > 256 |       const results = await axe(container, {
          |                                ^
      257 |         rules: {
      258 |           'color-contrast': { enabled: true },
      259 |         },

      at VirtualConsole.<anonymous> (node_modules/jest-environment-jsdom/build/index.js:63:23)
          at Array.some (<anonymous>)
          at Array.filter (<anonymous>)
          at Array.forEach (<anonymous>)
      at node_modules/jest-axe/index.js:79:15
      at axe (node_modules/jest-axe/index.js:78:12)
      at Object.<anonymous> (__tests__/accessibility/axe.accessibility.test.tsx:256:32)

PASS services/emailTemplateRoundTrip.property.test.ts
PASS services/guestService.property.test.ts
PASS services/transportationManifestTimeWindowGrouping.property.test.ts
PASS services/aiContentSchemaValidation.property.test.ts
PASS services/webhookRetryExponentialBackoff.property.test.ts
PASS lib/apiHelpers.validationErrorResponse.property.test.ts
PASS services/sectionReferenceValidation.property.test.ts
PASS services/contentPagesService.uniqueSlug.property.test.ts
PASS services/contentPagesService.slugPreservation.property.test.ts
PASS services/aiContentSanitization.property.test.ts
PASS services/sectionsService.brokenReferenceDetection.property.test.ts
PASS services/sectionsService.richTextSanitization.property.test.ts
PASS app/admin/budget/page.property.test.tsx
PASS services/manifestAssignmentUpdates.property.test.ts
PASS services/emailTemplateValidation.property.test.ts
PASS services/vehicleCapacityCalculation.property.test.ts
PASS services/sectionsService.referenceValidation.property.test.ts
PASS services/bulkOperationValidation.property.test.ts
PASS app/admin/rsvp-analytics/page.test.tsx
  ‚óè Console

    console.error
      An update to RSVPAnalyticsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

       96 |
       97 |       if (result.success) {
    >  98 |         setAnalytics(result.data);
          |         ^
       99 |       } else {
      100 |         setError(result.error.message);
      101 |       }

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setAnalytics (app/admin/rsvp-analytics/page.tsx:98:9)

    console.error
      An update to RSVPAnalyticsPage inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      103 |       setError(err instanceof Error ? err.message : 'Failed to fetch analytics');
      104 |     } finally {
    > 105 |       setLoading(false);
          |       ^
      106 |     }
      107 |   }, [guestTypeFilter, dateRange]);
      108 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (app/admin/rsvp-analytics/page.tsx:105:7)

PASS components/ui/DataTable.bulkOperations.property.test.tsx (46.758 s)
PASS services/photoStorageURLConsistency.property.test.ts
PASS __tests__/regression/uiComponents.regression.test.tsx
PASS utils/errors.test.ts
PASS services/childAccessRestriction.property.test.ts
PASS services/contentPagesService.slugConflictResolution.property.test.ts
PASS services/capacityAlertGeneration.property.test.ts
PASS utils/slugs.property.test.ts
PASS services/eventSchedulingConflict.property.test.ts
PASS components/ui/ErrorFeedback.test.tsx
PASS services/auditLogCreation.property.test.ts
PASS services/sectionsService.circularReferenceDetectionAPI.property.test.ts
PASS components/ui/StatusBadge.test.tsx
PASS components/admin/LocationSelector.test.tsx
PASS services/roomAssignmentCostUpdates.property.test.ts
PASS components/admin/PhotoPicker.test.tsx
PASS services/budgetTotalCalculation.property.test.ts
PASS services/paymentBalanceUpdates.property.test.ts
PASS services/vendorChangePropagation.property.test.ts
PASS services/test-mock.test.ts
  ‚óè Console

    console.log
      Result: {
        "success": true,
        "data": []
      }

      at Object.log (services/test-mock.test.ts:45:13)

PASS services/circularReferenceDetection.property.test.ts
PASS services/sectionsService.displayOrder.property.test.ts
PASS __tests__/security/sqlInjection.security.test.ts
PASS lib/queryOptimization.test.ts
PASS components/ui/TropicalLoading.test.tsx
PASS services/referenceSearch.searchResultOrdering.property.test.ts
PASS utils/colorContrast.property.test.ts
PASS components/ui/ConfirmDialog.accessibility.test.tsx
PASS services/emailSMSFallback.test.ts
PASS components/admin/KeyboardNavigationProvider.test.tsx
PASS services/contentPagesService.test.ts
PASS hooks/useMemoizedComputation.test.ts
PASS services/auditLogService.test.ts
PASS hooks/useDebouncedSearch.test.ts
PASS services/sectionsService.versionHistory.test.ts
PASS utils/fileValidation.test.ts
PASS services/authService.test.ts
PASS services/accessControlService.test.ts
PASS services/guestService.test.ts
PASS __tests__/performance/performance.test.ts
PASS services/guestEngagementService.test.ts
PASS __tests__/performance/adminPages.performance.test.ts
PASS __tests__/security/rlsBypass.security.test.ts
PASS lib/rateLimit.test.ts
PASS services/csvImportExport.test.ts
PASS __tests__/security/csrf.security.test.ts
PASS services/csvIntegration.test.ts
PASS __tests__/security/sessionHijacking.security.test.ts
PASS services/photoStorageFailover.test.ts
PASS services/capacityReportService.test.ts
PASS __tests__/unit/realtime-subscriptions.test.ts
PASS components/ui/LoadingStates.property.test.tsx (74.13 s)
FAIL __tests__/integration/locationsApi.integration.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      19 |           getAll() {
      20 |             return cookieStore.getAll();
    > 21 |           },
         |             ^
      22 |           setAll(cookiesToSet) {
      23 |             cookiesToSet.forEach(({ name, value }) => {
      24 |               cookieStore.set(name, value);

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:14:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (app/api/admin/locations/route.ts:21:17)
      at Object.<anonymous> (__tests__/integration/locationsApi.integration.test.ts:36:16)

PASS __tests__/build/nextjs.build.test.ts (690.466 s)

<--- Last few GCs --->

[95028:0x128008000]  1466599 ms: Scavenge 4010.5 (4099.2) -> 4004.7 (4104.0) MB, 588.17 / 0.00 ms  (average mu = 0.301, current mu = 0.294) allocation failure; 
[95028:0x128008000]  1467140 ms: Scavenge 4015.2 (4104.0) -> 4009.4 (4108.7) MB, 492.12 / 0.00 ms  (average mu = 0.301, current mu = 0.294) allocation failure; 
[95028:0x128008000]  1596369 ms: Scavenge (reduce) 4019.9 (4108.7) -> 4014.1 (4092.2) MB, 13461.92 / 0.00 ms  (average mu = 0.301, current mu = 0.294) allocation failure; 


<--- JS stacktrace --->

FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x100b64b44 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 2: 0x100cec3ec v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 3: 0x100ec0ac0 v8::internal::Heap::GarbageCollectionReasonToString(v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 4: 0x100ec4974 v8::internal::Heap::CollectGarbageShared(v8::internal::LocalHeap*, v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 5: 0x100ec13d8 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::internal::GarbageCollectionReason, char const*) [/usr/local/bin/node]
 6: 0x100ebf160 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node]
 7: 0x100ebe784 v8::internal::Heap::HandleGCRequest() [/usr/local/bin/node]
 8: 0x100e571a4 v8::internal::StackGuard::HandleInterrupts() [/usr/local/bin/node]
 9: 0x10128310c v8::internal::Runtime_StackGuardWithGap(int, unsigned long*, v8::internal::Isolate*) [/usr/local/bin/node]
10: 0x1015e0c44 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/usr/local/bin/node]
11: 0x107367a84 
12: 0x10736825c 
13: 0x107367fcc 
14: 0x107367fcc 
15: 0x107367fcc 
16: 0x107367fcc 
17: 0x107367fcc 
18: 0x107367fcc 
19: 0x107367fcc 
20: 0x107367fcc 
21: 0x107367fcc 
22: 0x107367fcc 
23: 0x107367fcc 
24: 0x107367fcc 
25: 0x107367fcc 
26: 0x107367fcc 
27: 0x107367fcc 
28: 0x107367fcc 
29: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
30: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
31: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
32: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
33: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
34: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
35: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
36: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
37: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
38: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
39: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
40: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
41: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
42: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
43: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
44: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
45: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
46: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
47: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
48: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
49: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
50: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
51: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
52: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
53: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
54: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
55: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
56: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
57: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
58: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
59: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
60: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
61: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
62: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
63: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
64: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
65: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
66: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
67: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
68: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
69: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
70: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
71: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
72: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
73: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
74: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
75: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
76: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
77: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
78: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
79: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
80: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
81: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
82: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
83: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
84: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
85: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
86: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
87: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
88: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
89: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
90: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
91: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
92: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
93: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
94: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
95: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
96: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
97: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
98: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
99: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
100: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
101: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
102: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
103: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
104: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
105: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
106: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
107: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
108: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
109: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
110: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
111: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
112: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
113: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
114: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
115: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
116: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
117: 0x1015583e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
FAIL __tests__/integration/contentPagesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95028) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95022:0x110008000]  1548569 ms: Scavenge 3981.9 (4070.3) -> 3973.5 (4073.8) MB, 248.58 / 0.04 ms  (average mu = 0.306, current mu = 0.285) allocation failure; 
[95022:0x110008000]  1548753 ms: Scavenge 3985.3 (4073.8) -> 3977.0 (4077.6) MB, 164.04 / 0.04 ms  (average mu = 0.306, current mu = 0.285) allocation failure; 
[95022:0x110008000]  1549033 ms: Scavenge 3988.8 (4077.6) -> 3980.5 (4081.1) MB, 251.00 / 0.04 ms  (average mu = 0.306, current mu = 0.285) allocation failure; 


<--- JS stacktrace --->

FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

FAIL __tests__/integration/homePageApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95022) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95025:0x150008000]  1656874 ms: Scavenge 4027.2 (4119.0) -> 4018.6 (4122.0) MB, 277.04 / 0.00 ms  (average mu = 0.337, current mu = 0.281) allocation failure; 
[95025:0x150008000]  1657183 ms: Scavenge 4030.5 (4122.0) -> 4021.9 (4125.2) MB, 291.21 / 0.00 ms  (average mu = 0.337, current mu = 0.281) allocation failure; 
[95025:0x150008000]  1657540 ms: Scavenge 4033.9 (4125.2) -> 4025.3 (4129.0) MB, 330.21 / 0.00 ms  (average mu = 0.337, current mu = 0.281) allocation failure; 


<--- JS stacktrace --->

FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x100c54b44 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 2: 0x100ddc3ec v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 3: 0x100fb0ac0 v8::internal::Heap::GarbageCollectionReasonToString(v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 4: 0x100fb4974 v8::internal::Heap::CollectGarbageShared(v8::internal::LocalHeap*, v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 5: 0x100fb13d8 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::internal::GarbageCollectionReason, char const*) [/usr/local/bin/node]
 6: 0x100faf160 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node]
 7: 0x100fa5db4 v8::internal::HeapAllocator::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/usr/local/bin/node]
 8: 0x100fa6614 v8::internal::HeapAllocator::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/usr/local/bin/node]
 9: 0x100f8b684 v8::internal::Factory::NewFillerObject(int, v8::internal::AllocationAlignment, v8::internal::AllocationType, v8::internal::AllocationOrigin) [/usr/local/bin/node]
10: 0x101373394 v8::internal::Runtime_AllocateInYoungGeneration(int, unsigned long*, v8::internal::Isolate*) [/usr/local/bin/node]
11: 0x1016d0c44 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/usr/local/bin/node]
12: 0x101679cfc Builtins_CloneFastJSArrayFillingHoles [/usr/local/bin/node]
13: 0x1016e90cc Builtins_ArrayFrom [/usr/local/bin/node]
14: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
15: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
16: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
17: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
18: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
19: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
20: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
21: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
22: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
23: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
24: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
25: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
26: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
27: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
28: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
29: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
30: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
31: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
32: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
33: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
34: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
35: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
36: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
37: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
38: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
39: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
40: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
41: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
42: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
43: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
44: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
45: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
46: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
47: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
48: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
49: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
50: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
51: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
52: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
53: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
54: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
55: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
56: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
57: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
58: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
59: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
60: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
61: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
62: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
63: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
64: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
65: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
66: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
67: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
68: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
69: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
70: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
71: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
72: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
73: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
74: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
75: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
76: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
77: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
78: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
79: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
80: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
81: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
82: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
83: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
84: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
85: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
86: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
87: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
88: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
89: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
90: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
91: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
92: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
93: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
94: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
95: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
96: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
97: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
98: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
99: 0x1016483e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
FAIL __tests__/integration/roomTypesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95025) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95026:0x120008000]  1670211 ms: Scavenge 4021.5 (4113.0) -> 4012.9 (4116.2) MB, 304.88 / 0.00 ms  (average mu = 0.312, current mu = 0.276) allocation failure; 
[95026:0x120008000]  1670506 ms: Scavenge 4024.8 (4116.2) -> 4016.3 (4120.0) MB, 273.04 / 0.00 ms  (average mu = 0.312, current mu = 0.276) allocation failure; 
[95026:0x120008000]  1748249 ms: Scavenge (reduce) 4028.2 (4120.0) -> 4019.6 (4099.2) MB, 902.25 / 0.00 ms  (average mu = 0.312, current mu = 0.276) allocation failure; 


<--- JS stacktrace --->

FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

FAIL __tests__/integration/referenceSearchApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95026) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95024:0x140008000]  1900201 ms: Scavenge 4016.3 (4105.9) -> 4007.9 (4109.1) MB, 297.38 / 0.00 ms  (average mu = 0.384, current mu = 0.457) allocation failure; 
[95024:0x140008000]  1900400 ms: Scavenge 4019.8 (4109.1) -> 4011.4 (4112.6) MB, 57.54 / 0.00 ms  (average mu = 0.384, current mu = 0.457) allocation failure; 
[95024:0x140008000]  1900558 ms: Scavenge 4023.2 (4112.6) -> 4014.8 (4116.1) MB, 121.17 / 0.00 ms  (average mu = 0.384, current mu = 0.457) allocation failure; 


<--- JS stacktrace --->

FATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x102598b44 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 2: 0x1027203ec v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 3: 0x1028f4ac0 v8::internal::Heap::GarbageCollectionReasonToString(v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 4: 0x1028f8974 v8::internal::Heap::CollectGarbageShared(v8::internal::LocalHeap*, v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
 5: 0x1028f53d8 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::internal::GarbageCollectionReason, char const*) [/usr/local/bin/node]
 6: 0x1028f3160 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node]
 7: 0x1028f2784 v8::internal::Heap::HandleGCRequest() [/usr/local/bin/node]
 8: 0x10288b1a4 v8::internal::StackGuard::HandleInterrupts() [/usr/local/bin/node]
 9: 0x102cb710c v8::internal::Runtime_StackGuardWithGap(int, unsigned long*, v8::internal::Isolate*) [/usr/local/bin/node]
10: 0x103014c44 Builtins_CEntry_Return1_ArgvOnStack_NoBuiltinExit [/usr/local/bin/node]
11: 0x108fb9490 
12: 0x102f8cf44 Builtins_InterpreterEnterAtBytecode [/usr/local/bin/node]
13: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
14: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
15: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
16: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
17: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
18: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
19: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
20: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
21: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
22: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
23: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
24: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
25: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
26: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
27: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
28: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
29: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
30: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
31: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
32: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
33: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
34: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
35: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
36: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
37: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
38: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
39: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
40: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
41: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
42: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
43: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
44: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
45: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
46: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
47: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
48: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
49: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
50: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
51: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
52: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
53: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
54: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
55: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
56: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
57: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
58: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
59: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
60: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
61: 0x102f8c3e4 Builtins_InterpreterEntryTrampoline [/usr/local/bin/node]
FAIL __tests__/integration/apiRoutes.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95024) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95027:0x120008000]  1968890 ms: Mark-Compact 4049.1 (4139.9) -> 4035.8 (4142.9) MB, 32611.12 / 0.00 ms  (average mu = 0.379, current mu = 0.040) allocation failure; scavenge might not succeed
[95027:0x120008000]  1980428 ms: Mark-Compact 4051.5 (4142.9) -> 4040.3 (4146.9) MB, 11398.33 / 0.00 ms  (average mu = 0.345, current mu = 0.012) allocation failure; scavenge might not succeed


<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x1002c4b44 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
FAIL __tests__/integration/sectionsApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95027) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


<--- Last few GCs --->

[95023:0x128008000]  2109905 ms: Mark-Compact 4056.0 (4141.6) -> 4042.4 (4143.8) MB, 3462.12 / 0.00 ms  (average mu = 0.186, current mu = 0.012) allocation failure; scavenge might not succeed
[95023:0x128008000]  2112160 ms: Mark-Compact 4043.0 (4143.8) -> 4042.5 (4144.1) MB, 2056.79 / 0.00 ms  (average mu = 0.159, current mu = 0.088) allocation failure; GC in old space requested


<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
----- Native stack trace -----

 1: 0x1027a4b44 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 2: 0x10292c3ec v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [/usr/local/bin/node]
 3: 0x102b00ac0 v8::internal::Heap::GarbageCollectionReasonToString(v8::internal::GarbageCollectionReason) [/usr/local/bin/node]
FAIL services/guestDataRoundTrip.property.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95023) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

Summary of all failing tests
FAIL app/admin/guests/page.property.test.tsx (19.109 s)
  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal with guest data when guest row is clicked

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      137 |   });
      138 |
    > 139 |   it('should open edit modal with guest data when guest row is clicked', async () => {
          |   ^
      140 |     // Render component
      141 |     render(
      142 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:139:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal with correct data for different guest types

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      171 |   });
      172 |
    > 173 |   it('should open edit modal with correct data for different guest types', async () => {
          |   ^
      174 |     // Render component
      175 |     render(
      176 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:173:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

  ‚óè Feature: admin-ui-modernization, Property 3: Row click opens edit modal ‚Ä∫ should open edit modal for guest with minimal data (child guest)

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      203 |   });
      204 |
    > 205 |   it('should open edit modal for guest with minimal data (child guest)', async () => {
          |   ^
      206 |     // Render component
      207 |     render(
      208 |       <ToastProvider>

      at it (app/admin/guests/page.property.test.tsx:205:3)
      at Object.describe (app/admin/guests/page.property.test.tsx:105:1)

FAIL app/admin/events/page.guestView.test.tsx (22.276 s)
  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each event

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      121 |
      122 |       // Wait for events to load
    > 123 |       await waitFor(() => {
          |                    ^
      124 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      125 |       }, { timeout: 3000 });
      126 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:123:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing event page when View button is clicked

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      132 |       render(<EventsPage />);
      133 |
    > 134 |       await waitFor(() => {
          |                    ^
      135 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      136 |       }, { timeout: 3000 });
      137 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:134:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each event ID

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      145 |       render(<EventsPage />);
      146 |
    > 147 |       await waitFor(() => {
          |                    ^
      148 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      149 |       }, { timeout: 3000 });
      150 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:147:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      167 |       render(<EventsPage />);
      168 |
    > 169 |       await waitFor(() => {
          |                    ^
      170 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      171 |       }, { timeout: 3000 });
      172 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:169:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/events/ prefix

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      185 |       render(<EventsPage />);
      186 |
    > 187 |       await waitFor(() => {
          |                    ^
      188 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      189 |       }, { timeout: 3000 });
      190 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:187:20)

  ‚óè EventsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use event ID in URL

    Found multiple elements with the text: Ceremony on the Beach

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mCeremony on the Beach[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceho...

      198 |       render(<EventsPage />);
      199 |
    > 200 |       await waitFor(() => {
          |                    ^
      201 |         expect(screen.queryByText('Ceremony on the Beach')).toBeInTheDocument();
      202 |       }, { timeout: 3000 });
      203 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.guestView.test.tsx:200:20)

FAIL app/admin/activities/page.property.test.tsx (24.747 s)
  ‚óè Feature: admin-ui-modernization, Property 10: Capacity warning highlighting ‚Ä∫ should highlight activities at 90%+ capacity with warning colors

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      133 |    * Validates: Requirements 5.3
      134 |    */
    > 135 |   it('should highlight activities at 90%+ capacity with warning colors', async () => {
          |   ^
      136 |     await fc.assert(
      137 |       fc.asyncProperty(
      138 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:135:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:122:1)

  ‚óè Feature: admin-ui-modernization, Property 10: Capacity warning highlighting ‚Ä∫ should NOT highlight activities below 90% capacity

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      180 |   });
      181 |
    > 182 |   it('should NOT highlight activities below 90% capacity', async () => {
          |   ^
      183 |     await fc.assert(
      184 |       fc.asyncProperty(
      185 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:182:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:122:1)

  ‚óè Feature: admin-ui-modernization, Property 11: Capacity utilization display ‚Ä∫ should display capacity utilization percentage in edit form for activities with RSVPs

    thrown: "Exceeded timeout of 5000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      241 |    * Validates: Requirements 5.7
      242 |    */
    > 243 |   it('should display capacity utilization percentage in edit form for activities with RSVPs', async () => {
          |   ^
      244 |     await fc.assert(
      245 |       fc.asyncProperty(
      246 |         // Generate capacity between 1 and 100

      at it (app/admin/activities/page.property.test.tsx:243:3)
      at Object.describe (app/admin/activities/page.property.test.tsx:230:1)

  ‚óè Feature: admin-ui-modernization, Property 11: Capacity utilization display ‚Ä∫ should display "Unlimited" for activities without capacity limits

    Unable to find an element with the text: Unlimited Activity. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      308 |
      309 |     // Wait for the activity to appear
    > 310 |     await waitFor(() => {
          |                  ^
      311 |       expect(screen.getByText(activity.name)).toBeInTheDocument();
      312 |     });
      313 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.property.test.tsx:310:18)

FAIL app/admin/audit-logs/page.test.tsx (29.543 s)
  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display audit logs after loading

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display audit logs after loading

    Unable to find an element with the text: admin@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      94 |       render(<AuditLogsPage />);
      95 |
    > 96 |       await waitFor(
         |                    ^
      97 |         () => {
      98 |           expect(screen.getByText('admin@example.com')).toBeInTheDocument();
      99 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:96:20)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display action badges

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should display action badges

    Unable to find an element with the text: CREATE. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      107 |       render(<AuditLogsPage />);
      108 |
    > 109 |       await waitFor(
          |                    ^
      110 |         () => {
      111 |           expect(screen.getByText('CREATE')).toBeInTheDocument();
      112 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:109:20)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should highlight critical actions

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Log Display ‚Ä∫ should highlight critical actions

    Unable to find an element with the text: ‚ö†Ô∏è Critical Action. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      121 |       render(<AuditLogsPage />);
      122 |
    > 123 |       await waitFor(
          |                    ^
      124 |         () => {
      125 |           expect(screen.getByText('‚ö†Ô∏è Critical Action')).toBeInTheDocument();
      126 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:123:20)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should call API with filters when action type changes

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should call API with filters when action type changes

    TestingLibraryElementError: Unable to find a label with the text of: Action Type

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      147 |       });
      148 |
    > 149 |       const actionSelect = screen.getByLabelText('Action Type');
          |                                   ^
      150 |       fireEvent.change(actionSelect, { target: { value: 'create' } });
      151 |
      152 |       await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/audit-logs/page.test.tsx:149:35)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should clear filters when clear button clicked

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Filtering ‚Ä∫ should clear filters when clear button clicked

    TestingLibraryElementError: Unable to find a label with the text of: Action Type

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      164 |       });
      165 |
    > 166 |       const actionSelect = screen.getByLabelText('Action Type');
          |                                   ^
      167 |       fireEvent.change(actionSelect, { target: { value: 'create' } });
      168 |
      169 |       const clearButton = screen.getByText('Clear Filters');

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/audit-logs/page.test.tsx:166:35)

  ‚óè AuditLogsPage ‚Ä∫ Search ‚Ä∫ should filter logs client-side when searching

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Search ‚Ä∫ should filter logs client-side when searching

    Unable to find an element with the text: admin@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      178 |       render(<AuditLogsPage />);
      179 |
    > 180 |       await waitFor(
          |                    ^
      181 |         () => {
      182 |           expect(screen.getByText('admin@example.com')).toBeInTheDocument();
      183 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:180:20)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should display pagination when multiple pages exist

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should display pagination when multiple pages exist

    Unable to find an element with the text: /Showing page 1 of 3/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      213 |       render(<AuditLogsPage />);
      214 |
    > 215 |       await waitFor(
          |                    ^
      216 |         () => {
      217 |           expect(screen.getByText(/Showing page 1 of 3/)).toBeInTheDocument();
      218 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:215:20)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should disable Previous button on first page

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ Pagination ‚Ä∫ should disable Previous button on first page

    Unable to find an element with the text: Previous. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      241 |       render(<AuditLogsPage />);
      242 |
    > 243 |       await waitFor(
          |                    ^
      244 |         () => {
      245 |           const prevButton = screen.getByText('Previous');
      246 |           expect(prevButton).toBeDisabled();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:243:20)

  ‚óè AuditLogsPage ‚Ä∫ CSV Export ‚Ä∫ should call export API when export button clicked

    RangeError: Invalid time value

      130 |       minute: '2-digit',
      131 |       hour12: true,
    > 132 |     }).format(date);
          |        ^
      133 |   };
      134 |
      135 |   const getActionBadgeColor = (action: string) => {

      at format (app/admin/audit-logs/page.tsx:132:8)
      at Object.formatDate [as render] (app/admin/audit-logs/page.tsx:158:41)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè AuditLogsPage ‚Ä∫ CSV Export ‚Ä∫ should call export API when export button clicked

    TestingLibraryElementError: Unable to find an element with the text: Export CSV. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div />[39m
    [36m</body>[39m

      279 |       });
      280 |
    > 281 |       const exportButton = screen.getByText('Export CSV');
          |                                   ^
      282 |       fireEvent.click(exportButton);
      283 |
      284 |       await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/audit-logs/page.test.tsx:281:35)

  ‚óè AuditLogsPage ‚Ä∫ Error Handling ‚Ä∫ should display error message on API error

    Unable to find an element with the text: Database connection failed. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mAudit Logs[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-500"[39m
            [36m>[39m
              [0mView and search system audit logs for accountability[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 bg-white p-4 rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"search"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"search"[39m
                  [33mplaceholder[39m=[32m"Search descriptions..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"operation_type"[39m
                [36m>[39m
                  [0mAction Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"operation_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Actions[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"update"[39m
                  [36m>[39m
                    [0mUpdate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"delete"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"entity_type"[39m
                [36m>[39m
                  [0mEntity Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"entity_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Entities[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"guest"[39m
                  [36m>[39m
                    [0mGuest[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"event"[39m
                  [36m>[39m
                    [0mEvent[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"vendor"[39m
                  [36m>[39m
                    [0mVendor[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"accommodation"[39m
                  [36m>[39m
                    [0mAccommodation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_page"[39m
                  [36m>[39m
                    [0mContent Page[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"location"[39m
                  [36m>[39m
                    [0mLocation[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"start_date"[39m
                [36m>[39m
                  [0mDate Range[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"start_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"end_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-4 flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"[39m
              [36m>[39m
                [0mClear Filters[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-red-800"[39m
            [36m>[39m
              [0mresponse.json is not a function[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col md:flex-row gap-3 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full md:w-auto"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-busy[39m=[32m"false"[39m
                      [33maria-disabled[39m=[32m"false"[39m
                      [33maria-label[39m=[32m"Export items to CSV"[39m
                      [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]  w-full md:w-auto cursor-pointer"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mExport[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-md overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"hidden md:block overflow-x-auto"[39m
                [36m>[39m
                  [36m<table[39m
                    [33maria-label[39m=[32m"items data table"[39m
                    [33mclass[39m=[32m"w-full"[39m
                    [33mrole[39m=[32m"table"[39m
                  [36m>[39m
                    [36m<thead[39m
                      [33mclass[39m=[32m"bg-sage-50 border-b border-sage-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mTimestamp[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mUser[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mAction[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mEntity Type[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mDetails[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                      [36m</tr>[39m
                    [36m</thead>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-sage-100"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-8 text-center text-sage-500"[39m
                          [33mcolspan[39m=[32m"5"[39m
                        [36m>[39m
                          [0mNo [0m
                          [0mitems[0m
                          [0m found[0m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:hidden divide-y divide-sage-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-8 text-center text-sage-500"[39m
                  [36m>[39m
                    [0mNo [0m
                    [0mitems[0m
                    [0m found[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      305 |       render(<AuditLogsPage />);
      306 |
    > 307 |       await waitFor(
          |                    ^
      308 |         () => {
      309 |           expect(screen.getByText('Database connection failed')).toBeInTheDocument();
      310 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:307:20)

  ‚óè AuditLogsPage ‚Ä∫ Error Handling ‚Ä∫ should display empty message when no logs found

    Unable to find an element with the text: No audit logs found. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mAudit Logs[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-sm text-gray-500"[39m
            [36m>[39m
              [0mView and search system audit logs for accountability[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6 bg-white p-4 rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"search"[39m
                [36m>[39m
                  [0mSearch[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"search"[39m
                  [33mplaceholder[39m=[32m"Search descriptions..."[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"operation_type"[39m
                [36m>[39m
                  [0mAction Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"operation_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Actions[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"update"[39m
                  [36m>[39m
                    [0mUpdate[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"delete"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"entity_type"[39m
                [36m>[39m
                  [0mEntity Type[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                  [33mid[39m=[32m"entity_type"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll Entities[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"guest"[39m
                  [36m>[39m
                    [0mGuest[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"event"[39m
                  [36m>[39m
                    [0mEvent[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"vendor"[39m
                  [36m>[39m
                    [0mVendor[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"accommodation"[39m
                  [36m>[39m
                    [0mAccommodation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"content_page"[39m
                  [36m>[39m
                    [0mContent Page[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"location"[39m
                  [36m>[39m
                    [0mLocation[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"start_date"[39m
                [36m>[39m
                  [0mDate Range[0m
                [36m</label>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"start_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
                    [33mid[39m=[32m"end_date"[39m
                    [33mtype[39m=[32m"date"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-4 flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"[39m
              [36m>[39m
                [0mClear Filters[0m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md"[39m
          [36m>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-red-800"[39m
            [36m>[39m
              [0mDatabase connection failed[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex flex-col gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-col md:flex-row gap-3 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-full md:w-auto"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-busy[39m=[32m"false"[39m
                      [33maria-disabled[39m=[32m"false"[39m
                      [33maria-label[39m=[32m"Export items to CSV"[39m
                      [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]  w-full md:w-auto cursor-pointer"[39m
                      [33mtype[39m=[32m"button"[39m
                    [36m>[39m
                      [0mExport[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"bg-white rounded-lg shadow-md overflow-hidden"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"hidden md:block overflow-x-auto"[39m
                [36m>[39m
                  [36m<table[39m
                    [33maria-label[39m=[32m"items data table"[39m
                    [33mclass[39m=[32m"w-full"[39m
                    [33mrole[39m=[32m"table"[39m
                  [36m>[39m
                    [36m<thead[39m
                      [33mclass[39m=[32m"bg-sage-50 border-b border-sage-200"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mTimestamp[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mUser[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mAction[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mEntity Type[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                        [36m<th[39m
                          [33mclass[39m=[32m"px-6 py-3 text-left text-xs font-medium text-sage-700 uppercase tracking-wider "[39m
                          [33mscope[39m=[32m"col"[39m
                        [36m>[39m
                          [36m<div[39m
                            [33mclass[39m=[32m"flex items-center gap-2"[39m
                          [36m>[39m
                            [36m<span>[39m
                              [0mDetails[0m
                            [36m</span>[39m
                          [36m</div>[39m
                        [36m</th>[39m
                      [36m</tr>[39m
                    [36m</thead>[39m
                    [36m<tbody[39m
                      [33mclass[39m=[32m"divide-y divide-sage-100"[39m
                    [36m>[39m
                      [36m<tr>[39m
                        [36m<td[39m
                          [33mclass[39m=[32m"px-6 py-8 text-center text-sage-500"[39m
                          [33mcolspan[39m=[32m"5"[39m
                        [36m>[39m
                          [0mNo [0m
                          [0mitems[0m
                          [0m found[0m
                        [36m</td>[39m
                      [36m</tr>[39m
                    [36m</tbody>[39m
                  [36m</table>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:hidden divide-y divide-sage-100"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-4 py-8 text-center text-sage-500"[39m
                  [36m>[39m
                    [0mNo [0m
                    [0mitems[0m
                    [0m found[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      330 |       render(<AuditLogsPage />);
      331 |
    > 332 |       await waitFor(
          |                    ^
      333 |         () => {
      334 |           expect(screen.getByText('No audit logs found')).toBeInTheDocument();
      335 |         },

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/audit-logs/page.test.tsx:332:20)

FAIL app/admin/accommodations/page.guestView.test.tsx (8.443 s)
  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each accommodation

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>]

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mAccommodation Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage wedding accommodations and lodging[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new accommodation"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Accommodation[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Accommodation[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mAccommodation Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-address"[39m
                      [36m>[39m
                        [0mAddress[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-address"[39m
                        [33mname[39m=[32m"address"[39m
                        [33mplaceholder[39m=[32m"Enter address"[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-checkInDate"[39m
                      [36m>[39m
                        [0mCheck-in Date[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-c...

      118 |       await waitFor(() => {
      119 |         const viewButtons = screen.getAllByRole('button', { name: /^view$/i });
    > 120 |         expect(viewButtons).toHaveLength(mockAccommodations.length);
          |                             ^
      121 |       });
      122 |     });
      123 |

      at toHaveLength (app/admin/accommodations/page.guestView.test.tsx:120:29)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing accommodation page when View button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      125 |       render(<AccommodationsPage />);
      126 |
    > 127 |       await waitFor(() => {
          |                    ^
      128 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      129 |       });
      130 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:127:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each accommodation ID

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      138 |       render(<AccommodationsPage />);
      139 |
    > 140 |       await waitFor(() => {
          |                    ^
      141 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      142 |       });
      143 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:140:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      158 |       render(<AccommodationsPage />);
      159 |
    > 160 |       await waitFor(() => {
          |                    ^
      161 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      162 |       });
      163 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:160:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/accommodation/ prefix

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      176 |       render(<AccommodationsPage />);
      177 |
    > 178 |       await waitFor(() => {
          |                    ^
      179 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      180 |       });
      181 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:178:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use accommodation ID in URL

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      189 |       render(<AccommodationsPage />);
      190 |
    > 191 |       await waitFor(() => {
          |                    ^
      192 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      193 |       });
      194 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:191:20)

  ‚óè AccommodationsPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use singular "accommodation" not plural in URL

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      202 |       render(<AccommodationsPage />);
      203 |
    > 204 |       await waitFor(() => {
          |                    ^
      205 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      206 |       });
      207 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.guestView.test.tsx:204:20)

FAIL app/admin/accommodations/page.test.tsx (13.226 s)
  ‚óè AccommodationsPage ‚Ä∫ Room types navigation ‚Ä∫ should navigate to room types page when Room Types button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      300 |       });
      301 |
    > 302 |       await waitFor(() => {
          |                    ^
      303 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      304 |       });
      305 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:302:20)

  ‚óè AccommodationsPage ‚Ä∫ Room types navigation ‚Ä∫ should navigate to correct accommodation room types page

    Found multiple elements with the text: Hotel Capitan Suizo

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      315 |       render(<AccommodationsPage />);
      316 |
    > 317 |       await waitFor(() => {
          |                    ^
      318 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      319 |       });
      320 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:317:20)

  ‚óè AccommodationsPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to section editor when Manage Sections button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      336 |       });
      337 |
    > 338 |       await waitFor(() => {
          |                    ^
      339 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      340 |       });
      341 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:338:20)

  ‚óè AccommodationsPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to correct accommodation sections page

    Found multiple elements with the text: Hotel Capitan Suizo

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mHotel Capitan Suizo[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      351 |       render(<AccommodationsPage />);
      352 |
    > 353 |       await waitFor(() => {
          |                    ^
      354 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      355 |       });
      356 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:353:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation editing ‚Ä∫ should open edit form when accommodation row is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      368 |       render(<AccommodationsPage />);
      369 |
    > 370 |       await waitFor(() => {
          |                    ^
      371 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      372 |       });
      373 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:370:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation editing ‚Ä∫ should populate form with accommodation data when editing

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      384 |       render(<AccommodationsPage />);
      385 |
    > 386 |       await waitFor(() => {
          |                    ^
      387 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      388 |       });
      389 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:386:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation deletion ‚Ä∫ should show delete confirmation dialog when delete button is clicked

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      405 |       render(<AccommodationsPage />);
      406 |
    > 407 |       await waitFor(() => {
          |                    ^
      408 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      409 |       });
      410 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:407:20)

  ‚óè AccommodationsPage ‚Ä∫ Accommodation deletion ‚Ä∫ should delete accommodation after confirmation

    Unable to find an element with the text: Tamarindo Diria Beach Resort. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      444 |       render(<AccommodationsPage />);
      445 |
    > 446 |       await waitFor(() => {
          |                    ^
      447 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      448 |       });
      449 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:446:20)

  ‚óè AccommodationsPage ‚Ä∫ Data loading ‚Ä∫ should display accommodations after loading

    Found multiple elements with the text: Tamarindo Diria Beach Resort

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTamarindo Diria Beach Resort[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      461 |       render(<AccommodationsPage />);
      462 |
    > 463 |       await waitFor(() => {
          |                    ^
      464 |         expect(screen.getByText('Tamarindo Diria Beach Resort')).toBeInTheDocument();
      465 |         expect(screen.getByText('Hotel Capitan Suizo')).toBeInTheDocument();
      466 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:463:20)

  ‚óè AccommodationsPage ‚Ä∫ Status display ‚Ä∫ should apply correct styling to status badges

    Found multiple elements with the text: Available

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<option[39m
      [33mvalue[39m=[32m"available"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</option>[39m

    Ignored nodes: comments, script, style
    [36m<option[39m
      [33mvalue[39m=[32m"available"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</option>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-jungle-100 text-jungle-800"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-jungle-100 text-jungle-800"[39m
    [36m>[39m
      [0mAvailable[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mAccommodation Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage wedding accommodations and lodging[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new accommodation"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Accommodation[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Accommodation[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mAccommodation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"Enter address"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter accommodation description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-checkInDate"[39m
                    [36m>[39m
                      [0mCheck-in Date[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-checkInDate"[39m
                      [33mname[39m=[32m"checkInDate"[39m
                      [33mtype[39m=[32m"date"[39m
                      [33mvalue[39m=[32m""[39m
                    [...

      511 |       render(<AccommodationsPage />);
      512 |
    > 513 |       await waitFor(() => {
          |                    ^
      514 |         const availableBadge = screen.getByText('Available');
      515 |         expect(availableBadge).toHaveClass('bg-jungle-100', 'text-jungle-800');
      516 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/page.test.tsx:513:20)

FAIL app/admin/accommodations/[id]/room-types/page.test.tsx (15.543 s)
  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display capacity information for each room type

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      221 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      222 |
    > 223 |       await waitFor(() => {
          |                    ^
      224 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      225 |       });
      226 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:223:20)

  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display total rooms for each room type

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      232 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      233 |
    > 234 |       await waitFor(() => {
          |                    ^
      235 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      236 |       });
      237 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:234:20)

  ‚óè RoomTypesPage ‚Ä∫ Capacity tracking ‚Ä∫ should calculate and display occupancy percentage

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      243 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      244 |
    > 245 |       await waitFor(() => {
          |                    ^
      246 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      247 |       });
      248 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:245:20)

  ‚óè RoomTypesPage ‚Ä∫ Guest assignment ‚Ä∫ should display guest assignment interface

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      256 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      257 |
    > 258 |       await waitFor(() => {
          |                    ^
      259 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      260 |       });
      261 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:258:20)

  ‚óè RoomTypesPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to section editor when Manage Sections button is clicked

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      269 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      270 |
    > 271 |       await waitFor(() => {
          |                    ^
      272 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      273 |       });
      274 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:271:20)

  ‚óè RoomTypesPage ‚Ä∫ Section editor integration ‚Ä∫ should navigate to correct room type sections page

    Found multiple elements with the text: Standard Room

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mStandard Room[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mStandard Room[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      284 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      285 |
    > 286 |       await waitFor(() => {
          |                    ^
      287 |         expect(screen.getByText('Standard Room')).toBeInTheDocument();
      288 |       });
      289 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:286:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type editing ‚Ä∫ should open edit form when room type row is clicked

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      301 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      302 |
    > 303 |       await waitFor(() => {
          |                    ^
      304 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      305 |       });
      306 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:303:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type editing ‚Ä∫ should populate form with room type data when editing

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      317 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      318 |
    > 319 |       await waitFor(() => {
          |                    ^
      320 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      321 |       });
      322 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:319:20)

  ‚óè RoomTypesPage ‚Ä∫ Room type deletion ‚Ä∫ should delete room type after confirmation

    Unable to find an element with the text: Ocean View Suite. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      366 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      367 |
    > 368 |       await waitFor(() => {
          |                    ^
      369 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      370 |       });
      371 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:368:20)

  ‚óè RoomTypesPage ‚Ä∫ Data loading ‚Ä∫ should display room types after loading

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      406 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      407 |
    > 408 |       await waitFor(() => {
          |                    ^
      409 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      410 |         expect(screen.getByText('Standard Room')).toBeInTheDocument();
      411 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:408:20)

  ‚óè RoomTypesPage ‚Ä∫ Price display ‚Ä∫ should format prices as currency

    Found multiple elements with the text: Ocean View Suite

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mOcean View Suite[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 mb-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m‚Üê Back to Accommodations[0m
                [36m</button>[39m
              [36m</div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mRoom Types: [0m
                [0mTamarindo Diria Beach Resort[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage room types and guest assignments[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new room type"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Room Type[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Room Type[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mRoom Type Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter room type name (e.g., Ocean View Suite)"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-capacity"[39m
                    [36m>[39m
                      [0mCapacity[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-capacity"[39m
                      [33mname[39m=[32m"capacity"[39m
                      [33mplaceholder[39m=[32m"Maximum guests per room"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-totalRooms"[39m
                    [36m>[39m
                      [0mTotal Rooms[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:...

      447 |       render(<RoomTypesPage params={{ id: 'accommodation-1' }} />);
      448 |
    > 449 |       await waitFor(() => {
          |                    ^
      450 |         expect(screen.getByText('Ocean View Suite')).toBeInTheDocument();
      451 |       });
      452 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/accommodations/[id]/room-types/page.test.tsx:449:20)

FAIL app/admin/activities/page.guestView.test.tsx (7.171 s)
  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should render View button for each activity

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>, <button aria-busy="false" aria-disabled="false" class="font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-3 py-1.5 text-sm min-h-[44px] md:min-h-0   cursor-pointer" type="button">View</button>]

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"false"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                   ...

      161 |       await waitFor(() => {
      162 |         const viewButtons = screen.getAllByRole('button', { name: /^view$/i });
    > 163 |         expect(viewButtons).toHaveLength(mockActivities.length);
          |                             ^
      164 |       });
      165 |     });
      166 |

      at toHaveLength (app/admin/activities/page.guestView.test.tsx:163:29)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should navigate to guest-facing activity page when View button is clicked

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      168 |       render(<ActivitiesPage />);
      169 |
    > 170 |       await waitFor(() => {
          |                    ^
      171 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      172 |       });
      173 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:170:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should generate correct URL for each activity ID

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      181 |       render(<ActivitiesPage />);
      182 |
    > 183 |       await waitFor(() => {
          |                    ^
      184 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      185 |       });
      186 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:183:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ View Button ‚Ä∫ should not propagate click event to row

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      201 |       render(<ActivitiesPage />);
      202 |
    > 203 |       await waitFor(() => {
          |                    ^
      204 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      205 |       });
      206 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:203:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should generate URL with /guest/activities/ prefix

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      219 |       render(<ActivitiesPage />);
      220 |
    > 221 |       await waitFor(() => {
          |                    ^
      222 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      223 |       });
      224 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:221:20)

  ‚óè ActivitiesPage - Guest View Navigation ‚Ä∫ Link Generation ‚Ä∫ should use activity ID in URL

    Found multiple elements with the text: Beach Day

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mBeach Day[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      232 |       render(<ActivitiesPage />);
      233 |
    > 234 |       await waitFor(() => {
          |                    ^
      235 |         expect(screen.getByText('Beach Day')).toBeInTheDocument();
      236 |       });
      237 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.guestView.test.tsx:234:20)

FAIL app/admin/events/page.test.tsx (7.764 s)
  ‚óè EventsPage ‚Ä∫ Event creation with collapsible form ‚Ä∫ should create event with collapsible form

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/api/admin/events", ObjectContaining {"headers": {"Content-Type": "application/json"}, "method": "POST"}
    Received
           1: "/api/admin/events"
           2: "/api/admin/locations"
           3: "/api/admin/events"

    Number of calls: 106

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mEvent Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding events[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new event"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Event[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Event[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mEvent Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter event name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-eventType"[39m
                      [36m>[39m
                        [0mEvent Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-eventType"[39m
                        [33mname[39m=[32m"eventType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mEvent Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"pre_wedding"[39m
                        [36m>[39m
                          [0mPre-wedding[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"post_wedding"[39m
                        [36m>[39m
                          [0mPost-wedding[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m...

      170 |
      171 |       await waitFor(() => {
    > 172 |         expect(global.fetch).toHaveBeenCalledWith(
          |                              ^
      173 |           '/api/admin/events',
      174 |           expect.objectContaining({
      175 |             method: 'POST',

      at toHaveBeenCalledWith (app/admin/events/page.test.tsx:172:30)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè EventsPage ‚Ä∫ Event creation with collapsible form ‚Ä∫ should close form and clear fields after successful creation

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <span class="font-medium text-sage-900">Add New Event</span> instead

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mEvent Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding events[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Create new event"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Event[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd New Event[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mEvent Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter event name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-eventType"[39m
                      [36m>[39m
                        [0mEvent Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-eventType"[39m
                        [33mname[39m=[32m"eventType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mEvent Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"pre_wedding"[39m
                        [36m>[39m
                          [0mPre-wedding[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"post_wedding"[39m
                        [36m>[39m
                          [0mPost-wedding[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m...

      237 |       // Form should close after successful creation
      238 |       await waitFor(() => {
    > 239 |         expect(screen.queryByText('Add New Event')).not.toBeInTheDocument();
          |                                                         ^
      240 |       });
      241 |     });
      242 |   });

      at toBeInTheDocument (app/admin/events/page.test.tsx:239:57)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè EventsPage ‚Ä∫ Location selection ‚Ä∫ should display LocationSelector in the form

    Found multiple elements with the text: Location

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<label[39m
      [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-2"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</label>[39m

    Ignored nodes: comments, script, style
    [36m<span>[39m
      [0mLocation[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-xs font-medium text-sage-600 uppercase tracking-wider"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-xs font-medium text-sage-600 uppercase tracking-wider"[39m
    [36m>[39m
      [0mLocation[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      254 |       fireEvent.click(addButton);
      255 |
    > 256 |       await waitFor(() => {
          |                    ^
      257 |         expect(screen.getByText('Location')).toBeInTheDocument();
      258 |         expect(screen.getByPlaceholderText(/select event location/i)).toBeInTheDocument();
      259 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:256:20)

  ‚óè EventsPage ‚Ä∫ Conflict detection ‚Ä∫ should display conflict error when scheduling conflict occurs

    Unable to find an element with the text: /scheduling conflict/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      363 |
      364 |       // Should display conflict error
    > 365 |       await waitFor(() => {
          |                    ^
      366 |         expect(screen.getByText(/scheduling conflict/i)).toBeInTheDocument();
      367 |       });
      368 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:365:20)

  ‚óè EventsPage ‚Ä∫ Conflict detection ‚Ä∫ should clear conflict error when form is reopened

    Unable to find an element with the text: /scheduling conflict/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mEvent Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding events[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<button[39m
              [33maria-busy[39m=[32m"false"[39m
              [33maria-disabled[39m=[32m"false"[39m
              [33maria-label[39m=[32m"Create new event"[39m
              [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
              [33mdata-action[39m=[32m"add-new"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0m+ Add Event[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Event[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mEvent Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter event name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventType"[39m
                    [36m>[39m
                      [0mEvent Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-eventType"[39m
                      [33mname[39m=[32m"eventType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mEvent Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"pre_wedding"[39m
                      [36m>[39m
                        [0mPre-wedding[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"post_wedding"[39m
                      [36m>[39m
                        [0mPost-wedding[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder...

      430 |       fireEvent.click(submitButton);
      431 |
    > 432 |       await waitFor(() => {
          |                    ^
      433 |         expect(screen.getByText(/scheduling conflict/i)).toBeInTheDocument();
      434 |       });
      435 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/events/page.test.tsx:432:20)

FAIL app/admin/vendors/page.test.tsx (5.222 s)
  ‚óè VendorsPage - Payment Status Display ‚Ä∫ should display payment status badges correctly

    Found multiple elements with the text: UNPAID

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33maria-label[39m=[32m"Status: UNPAID"[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-red-100 text-red-800 border-red-200 "[39m
      [33mrole[39m=[32m"status"[39m
    [36m>[39m
      [0mUNPAID[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33maria-label[39m=[32m"Status: UNPAID"[39m
      [33mclass[39m=[32m"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-red-100 text-red-800 border-red-200 "[39m
      [33mrole[39m=[32m"status"[39m
    [36m>[39m
      [0mUNPAID[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      153 |
      154 |     // Check for payment status badges
    > 155 |     await waitFor(() => {
          |                  ^
      156 |       expect(screen.getByText('UNPAID')).toBeInTheDocument();
      157 |       expect(screen.getByText('PARTIAL')).toBeInTheDocument();
      158 |       expect(screen.getByText('PAID')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:155:18)

  ‚óè VendorsPage - Payment Status Display ‚Ä∫ should display vendor categories correctly

    Found multiple elements with the text: Photographer

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPhotographer[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPhotographer[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      177 |
      178 |     // Check that all vendors are displayed
    > 179 |     await waitFor(() => {
          |                  ^
      180 |       expect(screen.getByText('Photographer')).toBeInTheDocument();
      181 |       expect(screen.getByText('Caterer')).toBeInTheDocument();
      182 |       expect(screen.getByText('Florist')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:179:18)

  ‚óè VendorsPage - Collapsible Form Integration ‚Ä∫ should toggle form visibility when clicking add vendor button

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <input aria-invalid="false" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300" id="field-name" name="name" placeholder="Enter vendor name" required="" type="text" value="" /> instead

      205 |
      206 |     // Initially form fields should not be visible
    > 207 |     expect(screen.queryByLabelText(/Vendor Name/i)).not.toBeInTheDocument();
          |                                                         ^
      208 |
      209 |     // Click the toggle to open form
      210 |     const addButton = screen.getByText('Add Vendor');

      at Object.toBeInTheDocument (app/admin/vendors/page.test.tsx:207:57)

  ‚óè VendorsPage - Collapsible Form Integration ‚Ä∫ should display form fields for vendor creation

    TestingLibraryElementError: Found multiple elements with the text of: /Category/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-category"[39m
      [33mname[39m=[32m"category"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mCategory[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"photography"[39m
      [36m>[39m
        [0mPhotography[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"flowers"[39m
      [36m>[39m
        [0mFlowers[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"catering"[39m
      [36m>[39m
        [0mCatering[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"music"[39m
      [36m>[39m
        [0mMusic[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"transportation"[39m
      [36m>[39m
        [0mTransportation[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"decoration"[39m
      [36m>[39m
        [0mDecoration[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Category"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-category"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mCategory[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"photography"[39m
      [36m>[39m
        [0mPhotography[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"flowers"[39m
      [36m>[39m
        [0mFlowers[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"catering"[39m
      [36m>[39m
        [0mCatering[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"music"[39m
      [36m>[39m
        [0mMusic[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"transportation"[39m
      [36m>[39m
        [0mTransportation[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"decoration"[39m
      [36m>[39m
        [0mDecoration[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
        ...

      236 |     // Check that all required fields are present
      237 |     expect(screen.getByLabelText(/Vendor Name/i)).toBeInTheDocument();
    > 238 |     expect(screen.getByLabelText(/Category/i)).toBeInTheDocument();
          |                   ^
      239 |     expect(screen.getByLabelText(/Pricing Model/i)).toBeInTheDocument();
      240 |     expect(screen.getByLabelText(/Base Cost/i)).toBeInTheDocument();
      241 |   });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/vendors/page.test.tsx:238:19)

  ‚óè VendorsPage - Vendor Data Display ‚Ä∫ should display vendor list with correct data

    Found multiple elements with the text: Test Photographer

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Photographer[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Photographer[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      269 |
      270 |     // Check vendor data is displayed
    > 271 |     await waitFor(() => {
          |                  ^
      272 |       expect(screen.getByText('Test Photographer')).toBeInTheDocument();
      273 |       expect(screen.getByText('Photography')).toBeInTheDocument();
      274 |       expect(screen.getByText('PARTIAL')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.test.tsx:271:18)

  ‚óè VendorsPage - Payment Validation ‚Ä∫ should validate that amount paid does not exceed base cost

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"message": StringContaining "Amount paid cannot exceed base cost", "type": "error"}

    Number of calls: 0

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mVendor Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding vendors and track payments[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Vendor[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mVendor Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter vendor name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m"Test Vendor"[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-category"[39m
                      [36m>[39m
                        [0mCategory[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-category"[39m
                        [33mname[39m=[32m"category"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mCategory[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"photography"[39m
                        [36m>[39m
                          [0mPhotography[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"flowers"[39m
                        [36m>[39m
                          [0mFlowers[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"catering"[39m
                        [36m>[39m
                          [0mCatering[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"music"[39m
                        [36m>[39m
                          [0mMusic[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transportation"[39m
                        [36m>[39m
                          [0mTransportation[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"decoration"[39m
                        [36m>[39m
                          [0mDecoration[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"other"[39m
                        [36m>[39m
                          [0mOther[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-contactName"[39m
                      [36m>[39m
                        [0mContact Name[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:ou...

      343 |     // Should show error toast
      344 |     await waitFor(() => {
    > 345 |       expect(mockAddToast).toHaveBeenCalledWith(
          |                            ^
      346 |         expect.objectContaining({
      347 |           type: 'error',
      348 |           message: expect.stringContaining('Amount paid cannot exceed base cost'),

      at toHaveBeenCalledWith (app/admin/vendors/page.test.tsx:345:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

FAIL app/admin/activities/page.test.tsx (7.245 s)
  ‚óè ActivitiesPage ‚Ä∫ Activity creation with collapsible form ‚Ä∫ should create activity with collapsible form

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36...

      228 |
      229 |       await waitFor(() => {
    > 230 |         expect(postCalled).toBe(true);
          |                            ^
      231 |       });
      232 |     });
      233 |

      at toBe (app/admin/activities/page.test.tsx:230:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage ‚Ä∫ Activity creation with collapsible form ‚Ä∫ should close form and clear fields after successful creation

    expect(element).toHaveAttribute("aria-expanded", "false") // element.getAttribute("aria-expanded") === "false"

    Expected the element to have attribute:
      aria-expanded="false"
    Received:
      aria-expanded="true"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mActivity Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding activities[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"collapsible-form-content"[39m
                [33maria-expanded[39m=[32m"true"[39m
                [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
              [36m>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium text-sage-900"[39m
                [36m>[39m
                  [0mAdd Activity[0m
                [36m</span>[39m
                [36m<span[39m
                  [33maria-hidden[39m=[32m"true"[39m
                  [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
                [36m>[39m
                  [0m‚ñº[0m
                [36m</span>[39m
              [36m</button>[39m
              [36m<div[39m
                [33maria-hidden[39m=[32m"false"[39m
                [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
                [33mid[39m=[32m"collapsible-form-content"[39m
                [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
              [36m>[39m
                [36m<form[39m
                  [33mclass[39m=[32m"p-4 space-y-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-name"[39m
                      [36m>[39m
                        [0mActivity Name[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-name"[39m
                        [33mname[39m=[32m"name"[39m
                        [33mplaceholder[39m=[32m"Enter activity name"[39m
                        [33mrequired[39m=[32m""[39m
                        [33mtype[39m=[32m"text"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-activityType"[39m
                      [36m>[39m
                        [0mActivity Type[0m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-red-500 ml-1"[39m
                        [36m>[39m
                          [0m*[0m
                        [36m</span>[39m
                      [36m</label>[39m
                      [36m<select[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-activityType"[39m
                        [33mname[39m=[32m"activityType"[39m
                        [33mrequired[39m=[32m""[39m
                      [36m>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m""[39m
                        [36m>[39m
                          [0mSelect [0m
                          [0mActivity Type[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"ceremony"[39m
                        [36m>[39m
                          [0mCeremony[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"reception"[39m
                        [36m>[39m
                          [0mReception[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"meal"[39m
                        [36m>[39m
                          [0mMeal[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"transport"[39m
                        [36m>[39m
                          [0mTransport[0m
                        [36m</option>[39m
                        [36m<option[39m
                          [33mvalue[39m=[32m"activity"[39m
                        [36m>[39m
                          [0mActivity[0m
                        [36m</option>[39m
                      [36m</select>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<input[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Enter activity description"[39m
                        [33mtype[39m=[32m"richtext"[39m
                        [33mvalue[39m=[32m""[39m
                      [36m/>[39m
                    [36...

      308 |       await waitFor(() => {
      309 |         const formToggleAfter = screen.getByRole('button', { name: /add activity/i });
    > 310 |         expect(formToggleAfter).toHaveAttribute('aria-expanded', 'false');
          |                                 ^
      311 |       });
      312 |     });
      313 |   });

      at toHaveAttribute (app/admin/activities/page.test.tsx:310:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at MutationObserver.checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè ActivitiesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display warning indicator for 90%+ capacity

    Unable to find an element with the text: /‚ö†Ô∏è/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      388 |
      389 |       // Should display warning emoji for 90%+ capacity
    > 390 |       await waitFor(() => {
          |                    ^
      391 |         const warningElements = screen.getAllByText(/‚ö†Ô∏è/);
      392 |         expect(warningElements.length).toBeGreaterThan(0);
      393 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:390:20)

  ‚óè ActivitiesPage ‚Ä∫ Capacity tracking ‚Ä∫ should display alert indicator for 100% capacity

    Unable to find an element with the text: /ÔøΩÔøΩ/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
                    [36m>[39m
            ...

      454 |
      455 |       // Should display alert emoji for 100% capacity
    > 456 |       await waitFor(() => {
          |                    ^
      457 |         const alertElements = screen.getAllByText(/ÔøΩÔøΩ/);
      458 |         expect(alertElements.length).toBeGreaterThan(0);
      459 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:456:20)

  ‚óè ActivitiesPage ‚Ä∫ Capacity warnings ‚Ä∫ should display capacity utilization in form help text when editing

    Unable to find an element with the text: /current utilization/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mActivity Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding activities[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mEdit Activity[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mActivity Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter activity name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"Beach Day"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-activityType"[39m
                    [36m>[39m
                      [0mActivity Type[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-activityType"[39m
                      [33mname[39m=[32m"activityType"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mActivity Type[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"ceremony"[39m
                      [36m>[39m
                        [0mCeremony[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"reception"[39m
                      [36m>[39m
                        [0mReception[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"meal"[39m
                      [36m>[39m
                        [0mMeal[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transport"[39m
                      [36m>[39m
                        [0mTransport[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"activity"[39m
                      [36m>[39m
                        [0mActivity[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mplaceholder[39m=[32m"Enter activity description"[39m
                      [33mtype[39m=[32m"richtext"[39m
                      [33mvalue[39m=[32m"Fun beach activities"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-eventId"[39m
               ...

      575 |
      576 |       // Should display capacity utilization in help text
    > 577 |       await waitFor(() => {
          |                    ^
      578 |         const helpText = screen.getByText(/current utilization/i);
      579 |         expect(helpText).toBeInTheDocument();
      580 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/activities/page.test.tsx:577:20)

FAIL components/admin/CollapsibleForm.test.tsx (7.507 s)
  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should display validation errors for invalid email format

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John Doe"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"not-an-email"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      244 |
      245 |       // Wait for Zod validation error
    > 246 |       await waitFor(() => {
          |                    ^
      247 |         expect(screen.getByText('Invalid email')).toBeInTheDocument();
      248 |       });
      249 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:246:20)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should clear field error when user starts typing

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid-email"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      309 |       fireEvent.click(submitButton);
      310 |
    > 311 |       await waitFor(() => {
          |                    ^
      312 |         expect(screen.getByText('Invalid email')).toBeInTheDocument();
      313 |       });
      314 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:311:20)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should link error messages with aria-describedby

    expect(element).toHaveAttribute("aria-describedby", "field-email-error") // element.getAttribute("aria-describedby") === "field-email-error"

    Expected the element to have attribute:
      aria-describedby="field-email-error"
    Received:
      null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Item[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mName[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m"John"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-email"[39m
                    [36m>[39m
                      [0mEmail[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-email"[39m
                      [33mname[39m=[32m"email"[39m
                      [33mplaceholder[39m=[32m"Enter email"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"email"[39m
                      [33mvalue[39m=[32m"invalid"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-age"[39m
                    [36m>[39m
                      [0mAge[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-age"[39m
                      [33mname[39m=[32m"age"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m"25"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      407 |       await waitFor(() => {
      408 |         const emailInputElement = screen.getByLabelText(/email/i);
    > 409 |         expect(emailInputElement).toHaveAttribute('aria-describedby', 'field-email-error');
          |                                   ^
      410 |         
      411 |         const errorMessage = screen.getByText('Invalid email');
      412 |         expect(errorMessage).toHaveAttribute('id', 'field-email-error');

      at toHaveAttribute (components/admin/CollapsibleForm.test.tsx:409:35)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm ‚Ä∫ Form Validation ‚Ä∫ should apply error styling to fields with validation errors

    expect(received).toContain(expected) // indexOf

    Expected substring: "border-volcano-500"
    Received string:    "w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"true"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Item[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"false"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mName[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-name-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-name-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-email"[39m
                    [36m>[39m
                      [0mEmail[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-email-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-email"[39m
                      [33mname[39m=[32m"email"[39m
                      [33mplaceholder[39m=[32m"Enter email"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"email"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-email-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-age"[39m
                    [36m>[39m
                      [0mAge[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-describedby[39m=[32m"field-age-error"[39m
                      [33maria-invalid[39m=[32m"true"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-red-500"[39m
                      [33mid[39m=[32m"field-age"[39m
                      [33mname[39m=[32m"age"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"number"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm text-red-600"[39m
                      [33mid[39m=[32m"field-age-error"[39m
                      [33mrole[39m=[32m"alert"[39m
                    [36m>[39m
                      [0mRequired[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      464 |       await waitFor(() => {
      465 |         const nameInput = screen.getByLabelText(/name/i);
    > 466 |         expect(nameInput.className).toContain('border-volcano-500');
          |                                     ^
      467 |       });
      468 |     });
      469 |   });

      at toContain (components/admin/CollapsibleForm.test.tsx:466:37)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm ‚Ä∫ Field Rendering ‚Ä∫ should mark required fields with asterisk

    expect(received).toContain(expected) // indexOf

    Expected substring: "text-volcano-500"
    Received string:    "text-red-500 ml-1"

      964 |       // Verify asterisks have the correct styling
      965 |       asterisks.forEach(asterisk => {
    > 966 |         expect(asterisk.className).toContain('text-volcano-500');
          |                                    ^
      967 |       });
      968 |     });
      969 |

      at toContain (components/admin/CollapsibleForm.test.tsx:966:36)
          at Array.forEach (<anonymous>)
      at Object.forEach (components/admin/CollapsibleForm.test.tsx:965:17)

  ‚óè CollapsibleForm ‚Ä∫ Accessibility ‚Ä∫ should have proper role on error messages

    Unable to find an element with the text: Invalid email. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
        [36m>[39m
          [36m<button[39m
            [33maria-controls[39m=[32m"collapsible-form-content"[39m
            [33maria-expanded[39m=[32m"true"[39m
            [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
          [36m>[39m
            [36m<span[39m
              [33mclass[39m=[32m"font-medium text-sage-900"[39m
            [36m>[39m
              [0mAdd New Item[0m
            [36m</span>[39m
            [36m<span[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 rotate-180"[39m
            [36m>[39m
              [0m‚ñº[0m
            [36m</span>[39m
          [36m</button>[39m
          [36m<div[39m
            [33maria-hidden[39m=[32m"false"[39m
            [33mclass[39m=[32m"transition-all duration-300 ease-in-out "[39m
            [33mid[39m=[32m"collapsible-form-content"[39m
            [33mstyle[39m=[32m"max-height: 0px; opacity: 1;"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"p-4 space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-name"[39m
                  [36m>[39m
                    [0mName[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-name"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mplaceholder[39m=[32m"Enter name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m"John"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-email"[39m
                  [36m>[39m
                    [0mEmail[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-email"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mplaceholder[39m=[32m"Enter email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m"invalid"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-1"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                    [33mfor[39m=[32m"field-age"[39m
                  [36m>[39m
                    [0mAge[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-red-500 ml-1"[39m
                    [36m>[39m
                      [0m*[0m
                    [36m</span>[39m
                  [36m</label>[39m
                  [36m<input[39m
                    [33maria-invalid[39m=[32m"false"[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                    [33mid[39m=[32m"field-age"[39m
                    [33mname[39m=[32m"age"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"number"[39m
                    [33mvalue[39m=[32m"25"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-description"[39m
                    [36m>[39m
                      [0mDescription[0m
                    [36m</label>[39m
                    [36m<textarea[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-description"[39m
                      [33mname[39m=[32m"description"[39m
                      [33mrows[39m=[32m"4"[39m
                    [36m/>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-3 pt-2"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"submit"[39m
                [36m>[39m
                  [0mCreate[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mCancel[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      1179 |       fireEvent.click(submitButton);
      1180 |
    > 1181 |       await waitFor(() => {
           |                    ^
      1182 |         const errorMessage = screen.getByText('Invalid email');
      1183 |         expect(errorMessage).toHaveAttribute('role', 'alert');
      1184 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (components/admin/CollapsibleForm.test.tsx:1181:20)

FAIL app/admin/guests/page.collapsibleForm.test.tsx (5.716 s)
  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Expansion and Collapse ‚Ä∫ should expand form when Add Guest button is clicked

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <label class="block text-sm font-medium text-gray-700" for="field-firstName">First Name<span class="text-red-500 ml-1">*</span></label> instead

      146 |
      147 |       // Form should not be visible initially
    > 148 |       expect(screen.queryByText('First Name')).not.toBeInTheDocument();
          |                                                    ^
      149 |
      150 |       // Click Add Guest button
      151 |       const addButton = screen.getByRole('button', { name: /add guest/i });

      at Object.toBeInTheDocument (app/admin/guests/page.collapsibleForm.test.tsx:148:52)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Expansion and Collapse ‚Ä∫ should collapse form when Cancel button is clicked

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <input aria-invalid="false" class="w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300" id="field-firstName" name="firstName" placeholder="Enter first name" required="" type="text" value="" /> instead

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
                [36m>[39m
                  [0mGuest Management[0m
                [36m</h1>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"text-sage-600 mt-1"[39m
                [36m>[39m
                  [0mManage your wedding guest list[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"cursor-pointer"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-busy[39m=[32m"false"[39m
                    [33maria-disabled[39m=[32m"false"[39m
                    [33maria-label[39m=[32m"Import guests from CSV"[39m
                    [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mImport CSV[0m
                  [36m</button>[39m
                  [36m<input[39m
                    [33maccept[39m=[32m".csv"[39m
                    [33mclass[39m=[32m"hidden"[39m
                    [33mid[39m=[32m"csv-import-input"[39m
                    [33mtype[39m=[32m"file"[39m
                  [36m/>[39m
                [36m</label>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Export guests to CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mExport CSV[0m
                [36m</button>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Add new guest"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mdata-action[39m=[32m"add-new"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0m+ Add Guest[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
              [36m>[39m
                [0mFilters[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"rsvpStatus"[39m
                  [36m>[39m
                    [0mRSVP Status[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"rsvpStatus"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"pending"[39m
                    [36m>[39m
                      [0mPending[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"attending"[39m
                    [36m>[39m
                      [0mAttending[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"declined"[39m
                    [36m>[39m
                      [0mDeclined[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"maybe"[39m
                    [36m>[39m
                      [0mMaybe[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"activity"[39m
                  [36m>[39m
                    [0mActivity[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"activity"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                    [33mfor[39m=[32m"transportation"[39m
                  [36m>[39m
                    [0mTransportation[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                    [33mid[39m=[32m"transportation"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m""[39m
                    [36m>[39m
                      [0mAll[0m
              ...

      185 |       // Form should be collapsed
      186 |       await waitFor(() => {
    > 187 |         expect(screen.queryByLabelText(/first name/i)).not.toBeInTheDocument();
          |                                                            ^
      188 |       });
      189 |     });
      190 |

      at toBeInTheDocument (app/admin/guests/page.collapsibleForm.test.tsx:187:60)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should submit form and create guest successfully

    TestingLibraryElementError: Found multiple elements with the role "combobox" and name `/group/i`

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"ageGroup"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"adult"[39m
      [36m>[39m
        [0mAdult[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"child"[39m
      [36m>[39m
        [0mChild[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"senior"[39m
      [36m>[39m
        [0mSenior[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full md:w-64 px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"grouping"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mNone[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"groupId"[39m
      [36m>[39m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"guestType"[39m
      [36m>[39m
        [0mGuest Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"ageType"[39m
      [36m>[39m
        [0mAge Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"airportCode"[39m
      [36m>[39m
        [0mAirport[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Group"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-groupId"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-groupId"[39m
      [33mname[39m=[32m"groupId"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      281 |       
      282 |       // Select group using the form field ID
    > 283 |       const groupSelect = screen.getByRole('combobox', { name: /group/i });
          |                                  ^
      284 |       fireEvent.change(groupSelect, {
      285 |         target: { value: mockGroup.id },
      286 |       });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (app/admin/guests/page.collapsibleForm.test.tsx:283:34)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should display validation errors for invalid input

    Unable to find an element with the text: /required/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      346 |
      347 |       // Verify validation errors are displayed
    > 348 |       await waitFor(() => {
          |                    ^
      349 |         const errorMessages = screen.getAllByText(/required/i);
      350 |         expect(errorMessages.length).toBeGreaterThan(0);
      351 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.collapsibleForm.test.tsx:348:20)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form Submission ‚Ä∫ should update existing guest when editing

    Found multiple elements with the text: John

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mJohn[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mJohn[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      393 |
      394 |       // Wait for page to load with guest data
    > 395 |       await waitFor(() => {
          |                    ^
      396 |         expect(screen.getByText('John')).toBeInTheDocument();
      397 |       });
      398 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.collapsibleForm.test.tsx:395:20)

  ‚óè CollapsibleForm Migration - Guests Page ‚Ä∫ Form State Management ‚Ä∫ should clear form fields after successful submission

    TestingLibraryElementError: Found multiple elements with the text of: /group/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"ageGroup"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"adult"[39m
      [36m>[39m
        [0mAdult[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"child"[39m
      [36m>[39m
        [0mChild[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"senior"[39m
      [36m>[39m
        [0mSenior[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full md:w-64 px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"grouping"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mNone[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"groupId"[39m
      [36m>[39m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"guestType"[39m
      [36m>[39m
        [0mGuest Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"ageType"[39m
      [36m>[39m
        [0mAge Type[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"airportCode"[39m
      [36m>[39m
        [0mAirport[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-label[39m=[32m"Filter by Group"[39m
      [33mclass[39m=[32m"w-full px-3 py-3 md:py-2 border border-sage-300 rounded-lg text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-jungle-500 min-h-[44px]"[39m
      [33mid[39m=[32m"filter-groupId"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-groupId"[39m
      [33mname[39m=[32m"groupId"[39m
      [33mrequired[39m=[32m""[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mGroup[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"123e4567-e89b-12d3-a456-426614174001"[39m
      [36m>[39m
        [0mTest Group[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      543 |       });
      544 |       
    > 545 |       const groupSelect = screen.getByLabelText(/group/i);
          |                                  ^
      546 |       fireEvent.change(groupSelect, {
      547 |         target: { value: mockGroup.id },
      548 |       });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.collapsibleForm.test.tsx:545:34)

FAIL __tests__/build/typescript.build.test.ts (47.07 s)
  ‚óè TypeScript Compilation ‚Ä∫ should compile without errors

    expect(received).not.toThrow()

    Error name:    "Error"
    Error message: "Command failed: npx tsc --noEmit"

          16 |   it('should compile without errors', () => {
          17 |     expect(() => {
        > 18 |       execSync('npx tsc --noEmit', { 
             |               ^
          19 |         stdio: 'pipe',
          20 |         encoding: 'utf-8' 
          21 |       });

      at __tests__/build/typescript.build.test.ts:18:15
      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)
      at Object.toThrow (__tests__/build/typescript.build.test.ts:22:12)
      at Object.toThrow (__tests__/build/typescript.build.test.ts:22:12)

  ‚óè TypeScript Compilation ‚Ä∫ should have 0 TypeScript errors

    ReferenceError: fail is not defined

      35 |     } catch (error: any) {
      36 |       // If tsc exits with error code, fail the test with the output
    > 37 |       fail(`TypeScript compilation failed:\n${error.stdout || error.message}`);
         |       ^
      38 |     }
      39 |   }, 30000);
      40 |

      at Object.fail (__tests__/build/typescript.build.test.ts:37:7)

FAIL app/admin/transportation/page.test.tsx
  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      78 |         // Check that the time window header is displayed
      79 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 80 |         expect(timeWindowText).toBeInTheDocument();
         |                                ^
      81 |       });
      82 |     });
      83 |

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:80:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      164 |       await waitFor(() => {
      165 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 166 |         expect(timeWindowText).toBeInTheDocument();
          |                                ^
      167 |       });
      168 |
      169 |       // Find shuttle input and change it

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:166:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Vehicle Calculations ‚Ä∫ should calculate and display vehicle requirements

    Unable to find an element with the text: /vehicle requirements/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold"[39m
            [36m>[39m
              [0mTransportation Management[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGenerate Driver Sheets[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPrint Manifest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-4 border-b"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium border-b-2 border-blue-500 text-blue-600"[39m
            [36m>[39m
              [0mArrivals[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium text-gray-600 hover:text-gray-900"[39m
            [36m>[39m
              [0mDepartures[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"date-filter"[39m
                [36m>[39m
                  [0mDate[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"date-filter"[39m
                  [33mtype[39m=[32m"date"[39m
                  [33mvalue[39m=[32m"2026-01-29"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [0mAirport[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Airports[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"SJO"[39m
                  [36m>[39m
                    [0mSJO - San Jos√©[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"LIR"[39m
                  [36m>[39m
                    [0mLIR - Liberia[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"Other"[39m
                  [36m>[39m
                    [0mOther[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"[39m
          [36m>[39m
            [0mCannot read properties of undefined (reading 'guests')[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-8 text-center text-gray-500"[39m
          [36m>[39m
            [0mNo guests scheduled for [0m
            [0marrivals[0m
            [0m on [0m
            [0m2026-01-29[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      209 |       render(<TransportationPage />);
      210 |
    > 211 |       await waitFor(() => {
          |                    ^
      212 |         expect(screen.getByText(/vehicle requirements/i)).toBeInTheDocument();
      213 |       });
      214 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/transportation/page.test.tsx:211:20)

  ‚óè TransportationPage ‚Ä∫ Driver Sheets ‚Ä∫ should generate driver sheets

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

FAIL app/admin/guests/page.filtering.test.tsx (6.618 s)
  ‚óè Guest Management Page - Advanced Filtering ‚Ä∫ should render airport filter dropdown

    Found multiple elements with the text of: /Airport/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"airport"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-airportCode"[39m
      [33mname[39m=[32m"airportCode"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mAirport[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-1"[39m
                  [36m>[39m
                    [0mBeach Day[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-2"[39m
                  [36m>[39m
                    [0mWelcome Dinner[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m...

      238 |     );
      239 |
    > 240 |     await waitFor(() => {
          |                  ^
      241 |       expect(screen.getByLabelText(/Airport/i)).toBeInTheDocument();
      242 |     });
      243 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:240:18)

  ‚óè Guest Management Page - Advanced Filtering ‚Ä∫ should fetch guests with airport filter when changed

    Found multiple elements with the text of: /Airport/i

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
      [33mid[39m=[32m"airport"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mAll[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    Ignored nodes: comments, script, style
    [36m<select[39m
      [33maria-invalid[39m=[32m"false"[39m
      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
      [33mid[39m=[32m"field-airportCode"[39m
      [33mname[39m=[32m"airportCode"[39m
    [36m>[39m
      [36m<option[39m
        [33mvalue[39m=[32m""[39m
      [36m>[39m
        [0mSelect [0m
        [0mAirport[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"SJO"[39m
      [36m>[39m
        [0mSJO (San Jos√©)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"LIR"[39m
      [36m>[39m
        [0mLIR (Liberia)[0m
      [36m</option>[39m
      [36m<option[39m
        [33mvalue[39m=[32m"Other"[39m
      [36m>[39m
        [0mOther[0m
      [36m</option>[39m
    [36m</select>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-1"[39m
                  [36m>[39m
                    [0mBeach Day[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"activity-2"[39m
                  [36m>[39m
                    [0mWelcome Dinner[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m...

      366 |     );
      367 |
    > 368 |     await waitFor(() => {
          |                  ^
      369 |       expect(screen.getByLabelText(/Airport/i)).toBeInTheDocument();
      370 |     });
      371 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/guests/page.filtering.test.tsx:368:18)

FAIL components/ui/ConfirmDialog.property.test.tsx (6.032 s)
  ‚óè ConfirmDialog Property Tests ‚Ä∫ Feature: admin-ui-modernization, Property 36: Confirmed delete execution ‚Ä∫ should disable buttons during confirmation to prevent double-submission

    Property failed after 1 tests
    { seed: -1165907922, path: "0:0:0", endOnFailure: true }
    Counterexample: [{"entityName":" "}]
    Shrunk 2 time(s)
    Got TestingLibraryElementError: Unable to find an element with the text: /loading/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body[39m
      [33mstyle[39m=[32m"position: fixed; top: -0px; width: 100%;"[39m
    [36m>[39m
      [36m<div />[39m
      [36m<div />[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-describedby[39m=[32m"confirm-dialog-message"[39m
          [33maria-labelledby[39m=[32m"confirm-dialog-title"[39m
          [33maria-modal[39m=[32m"true"[39m
          [33mclass[39m=[32m"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fade-in"[39m
          [33mrole[39m=[32m"dialog"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-xl shadow-2xl max-w-md w-full animate-scale-in"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4 border-b border-sage-200"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-xl font-semibold text-sage-900"[39m
                [33mid[39m=[32m"confirm-dialog-title"[39m
              [36m>[39m
                [0mDelete Item[0m
              [36m</h2>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4"[39m
            [36m>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-700 text-base leading-relaxed"[39m
                [33mid[39m=[32m"confirm-dialog-message"[39m
              [36m>[39m
                [0mDelete " "?[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"px-6 py-4 border-t border-sage-200 flex items-center justify-end gap-3"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"true"[39m
                [33maria-label[39m=[32m"Cancel"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   opacity-50 cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mCancel[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"true"[39m
                [33maria-disabled[39m=[32m"true"[39m
                [33maria-label[39m=[32m"Confirm"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-volcano-500 hover:bg-volcano-600 text-white focus:ring-volcano-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   opacity-50 cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [36m<div[39m
                  [33maria-label[39m=[32m"Loading"[39m
                  [33mclass[39m=[32m"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"[39m
                  [33mrole[39m=[32m"status"[39m
                [36m/>[39m
                [0mConfirm[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |
      373 |               // Verify loading state is shown
    > 374 |               expect(screen.getByText(/loading/i)).toBeInTheDocument();
          |                             ^
      375 |
      376 |               // Try to click again (should not trigger another call)
      377 |               fireEvent.click(confirmButton);

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at getByText (components/ui/ConfirmDialog.property.test.tsx:374:29)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (components/ui/ConfirmDialog.property.test.tsx:333:7)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL app/admin/locations/page.test.tsx
  ‚óè LocationManagementPage ‚Ä∫ Search Functionality ‚Ä∫ should filter locations by search query

    Unable to find an element with the text: Costa Rica. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-800"[39m
          [36m>[39m
            [0mThis would create a circular reference[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mNo locations yet. Add your first location above.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      256 |       render(<LocationManagementPage />);
      257 |
    > 258 |       await waitFor(() => {
          |                    ^
      259 |         expect(screen.getAllByText('Costa Rica').length).toBeGreaterThan(0);
      260 |       });
      261 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/locations/page.test.tsx:258:20)

  ‚óè LocationManagementPage ‚Ä∫ Location Deletion ‚Ä∫ should not delete if confirmation cancelled

    Unable to find an element with the text: Costa Rica. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-8 text-center text-gray-500"[39m
            [36m>[39m
              [0mNo locations yet. Add your first location above.[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      343 |       render(<LocationManagementPage />);
      344 |
    > 345 |       await waitFor(() => {
          |                    ^
      346 |         expect(screen.getAllByText('Costa Rica').length).toBeGreaterThan(0);
      347 |       });
      348 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/locations/page.test.tsx:345:20)

  ‚óè LocationManagementPage ‚Ä∫ Error Handling ‚Ä∫ should display error message on load failure

    TestingLibraryElementError: Unable to find an element with the text: /Failed to load locations/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-6"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold text-gray-900"[39m
            [36m>[39m
              [0mLocations[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-gray-600"[39m
            [36m>[39m
              [0mManage location hierarchy[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-4 flex gap-4"[39m
          [36m>[39m
            [36m<input[39m
              [33mclass[39m=[32m"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"[39m
              [33mplaceholder[39m=[32m"Search locations..."[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"[39m
            [36m>[39m
              [0m+ Add Location[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd New Location[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mLocation Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo Beach"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-parentLocationId"[39m
                    [36m>[39m
                      [0mParent Location[0m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-parentLocationId"[39m
                      [33mname[39m=[32m"parentLocationId"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mParent Location[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mNone (Root Location)[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-1"[39m
                      [36m>[39m
                        [0mCosta Rica[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-2"[39m
                      [36m>[39m
                        [0mGuanacaste[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"loc-3"[39m
                      [36m>[39m
                        [0mTamarindo[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-address"[39m
                    [36m>[39m
                      [0mAddress[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-address"[39m
                      [33mname[39m=[32m"address"[39m
                      [33mplaceholder[39m=[32m"e.g., Tamarindo, Guanacaste, Costa Rica"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"md:col-span-2 lg:col-span-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-1"[39m
                    [36m>[39m
                      [36m<label[39m
                        [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                        [33mfor[39m=[32m"field-description"[39m
                      [36m>[39m
                        [0mDescription[0m
                      [36m</label>[39m
                      [36m<textarea[39m
                        [33maria-invalid[39m=[32m"false"[39m
                        [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                        [33mid[39m=[32m"field-description"[39m
                        [33mname[39m=[32m"description"[39m
                        [33mplaceholder[39m=[32m"Optional description"[39m
                        [33mrows[39m=[32m"4"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex gap-3 pt-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"submit"[39m
                  [36m>[39m
                    [0mCreate[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [0mCancel[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</form>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-6 bg-white rounded-lg shadow"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"border-b border-gray-200"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center py-3 px-4 hover:bg-gray-50"[39m
                  [33mstyle[39m=[32m"padding-left: 16px;"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Expand"[39m
                    [33mclass[39m=[32m"mr-2 text-gray-500 hover:text-gray-700"[39m
                  [36m>[39m
                    [0m‚ñ∂[0m
                  [36m</button>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"mr-2"[39m
                  [36m>[39m
                    [0mÔøΩÔøΩ[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"font-medium text-gray-900"[39m
                    [36m>[39m
                      [0mCosta Rica[0m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex gap-2"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-3 py-1 text-sm text-blue-600 hover:text-blue-800"[39m
                    [36m>[39m
                      [0mEdit[0m
                    [36m</button>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"px-3 py-1 text-sm text-red-600 hover:text-red-800"[39m
                    [36m>[39m
                      [0mDelete[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      372 |
      373 |       // Error should be displayed
    > 374 |       expect(screen.getByText(/Failed to load locations/i)).toBeInTheDocument();
          |                     ^
      375 |     });
      376 |
      377 |     it('should show empty state when no locations', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/locations/page.test.tsx:374:21)

FAIL hooks/useRoomTypes.test.ts
  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically add new room type on create

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 1
    Received array:  [{"accommodationId": "acc-1", "capacity": 2, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-01T00:00:00Z", "id": "room-1", "name": "Ocean View", "pricePerNight": 150, "updatedAt": "2025-01-01T00:00:00Z"}]

      270 |
      271 |       expect(createResult.success).toBe(true);
    > 272 |       expect(result.current.data).toHaveLength(2);
          |                                   ^
      273 |       expect(result.current.data[1]).toEqual(newRoomType);
      274 |     });
      275 |

      at Object.toHaveLength (hooks/useRoomTypes.test.ts:272:35)

  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically update existing room type

    expect(received).toBe(expected) // Object.is equality

    Expected: 175
    Received: 150

      369 |
      370 |       expect(updateResult.success).toBe(true);
    > 371 |       expect(result.current.data[0].pricePerNight).toBe(175);
          |                                                    ^
      372 |     });
      373 |
      374 |     it('should optimistically remove room type on delete', async () => {

      at Object.toBe (hooks/useRoomTypes.test.ts:371:52)

  ‚óè useRoomTypes ‚Ä∫ optimistic updates ‚Ä∫ should optimistically remove room type on delete

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [{"accommodationId": "acc-1", "capacity": 2, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-01T00:00:00Z", "id": "room-1", "name": "Ocean View", "pricePerNight": 150, "updatedAt": "2025-01-01T00:00:00Z"}, {"accommodationId": "acc-1", "capacity": 4, "checkInDate": "2025-06-14", "checkOutDate": "2025-06-16", "createdAt": "2025-01-02T00:00:00Z", "id": "room-2", "name": "Suite", "pricePerNight": 250, "updatedAt": "2025-01-02T00:00:00Z"}]

      419 |
      420 |       expect(deleteResult.success).toBe(true);
    > 421 |       expect(result.current.data).toHaveLength(1);
          |                                   ^
      422 |       expect(result.current.data[0].id).toBe('room-2');
      423 |     });
      424 |

      at Object.toHaveLength (hooks/useRoomTypes.test.ts:421:35)

FAIL app/admin/vendors/page.property.test.tsx (50.769 s)
  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should correctly calculate and display vendor balance as (baseCost - amountPaid)

    Property failed after 1 tests
    { seed: -1953806313, path: "0:0:0", endOnFailure: true }
    Counterexample: [100,0]
    Shrunk 2 time(s)
    Got error: Found multiple elements with the text: Vendor 100-0

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mVendor 100-0[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mVendor 100-0[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      116 |
      117 |           // Wait for the vendor to appear
    > 118 |           await waitFor(() => {
          |                        ^
      119 |             expect(screen.getByText(vendor.name)).toBeInTheDocument();
      120 |           }, { timeout: 3000 });
      121 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at app/admin/vendors/page.property.test.tsx:118:24
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:91:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should show zero balance when fully paid

    Found multiple elements with the text: Fully Paid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mFully Paid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mFully Paid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      153 |
      154 |     // Wait for the vendor to appear
    > 155 |     await waitFor(() => {
          |                  ^
      156 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      157 |     });
      158 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:155:18)

  ‚óè Feature: admin-ui-modernization, Property 12: Vendor balance calculation ‚Ä∫ should show full base cost as balance when unpaid

    Found multiple elements with the text: Unpaid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mUnpaid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mUnpaid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      183 |
      184 |     // Wait for the vendor to appear
    > 185 |     await waitFor(() => {
          |                  ^
      186 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      187 |     });
      188 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:185:18)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should highlight unpaid vendors with warning colors

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      208 |    * Validates: Requirements 6.4
      209 |    */
    > 210 |   it('should highlight unpaid vendors with warning colors', async () => {
          |   ^
      211 |     await fc.assert(
      212 |       fc.asyncProperty(
      213 |         // Generate vendor name (alphanumeric only, no whitespace-only strings)

      at it (app/admin/vendors/page.property.test.tsx:210:3)
      at Object.describe (app/admin/vendors/page.property.test.tsx:197:1)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should NOT highlight paid vendors

    Found multiple elements with the text: Paid Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPaid Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPaid Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      271 |
      272 |     // Find the row for this vendor
    > 273 |     await waitFor(() => {
          |                  ^
      274 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      275 |     });
      276 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:273:18)

  ‚óè Feature: admin-ui-modernization, Property 13: Unpaid vendor highlighting ‚Ä∫ should NOT highlight partially paid vendors

    Found multiple elements with the text: Partial Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPartial Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mPartial Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      303 |
      304 |     // Find the row for this vendor
    > 305 |     await waitFor(() => {
          |                  ^
      306 |       expect(screen.getByText(vendor.name)).toBeInTheDocument();
      307 |     });
      308 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:305:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should allow submission when amountPaid equals baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      390 |
      391 |     // Click on the vendor to open edit modal
    > 392 |     await waitFor(() => {
          |                  ^
      393 |       const vendorElement = screen.getByText(vendor.name);
      394 |       fireEvent.click(vendorElement);
      395 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:392:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should allow submission when amountPaid is less than baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      452 |
      453 |     // Click on the vendor to open edit modal
    > 454 |     await waitFor(() => {
          |                  ^
      455 |       const vendorElement = screen.getByText(vendor.name);
      456 |       fireEvent.click(vendorElement);
      457 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:454:18)

  ‚óè Feature: admin-ui-modernization, Property 14: Vendor payment validation ‚Ä∫ should show error toast when amountPaid exceeds baseCost

    Found multiple elements with the text: Test Vendor

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<td[39m
      [33mclass[39m=[32m"px-6 py-4 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</td>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"mt-1 text-sm text-sage-900"[39m
    [36m>[39m
      [0mTest Vendor[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mVendor Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding vendors and track payments[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border border-sage-200 rounded-lg overflow-hidden bg-white shadow-sm"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"collapsible-form-content"[39m
              [33maria-expanded[39m=[32m"false"[39m
              [33mclass[39m=[32m"w-full flex items-center justify-between px-4 py-3 bg-sage-50 hover:bg-sage-100 transition-colors"[39m
            [36m>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium text-sage-900"[39m
              [36m>[39m
                [0mAdd Vendor[0m
              [36m</span>[39m
              [36m<span[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"text-sage-600 transition-transform duration-300 "[39m
              [36m>[39m
                [0m‚ñº[0m
              [36m</span>[39m
            [36m</button>[39m
            [36m<div[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"transition-all duration-300 ease-in-out overflow-hidden"[39m
              [33mid[39m=[32m"collapsible-form-content"[39m
              [33mstyle[39m=[32m"max-height: 0px; opacity: 0;"[39m
            [36m>[39m
              [36m<form[39m
                [33mclass[39m=[32m"p-4 space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-name"[39m
                    [36m>[39m
                      [0mVendor Name[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-name"[39m
                      [33mname[39m=[32m"name"[39m
                      [33mplaceholder[39m=[32m"Enter vendor name"[39m
                      [33mrequired[39m=[32m""[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-category"[39m
                    [36m>[39m
                      [0mCategory[0m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-red-500 ml-1"[39m
                      [36m>[39m
                        [0m*[0m
                      [36m</span>[39m
                    [36m</label>[39m
                    [36m<select[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-category"[39m
                      [33mname[39m=[32m"category"[39m
                      [33mrequired[39m=[32m""[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m""[39m
                      [36m>[39m
                        [0mSelect [0m
                        [0mCategory[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photography"[39m
                      [36m>[39m
                        [0mPhotography[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"flowers"[39m
                      [36m>[39m
                        [0mFlowers[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"catering"[39m
                      [36m>[39m
                        [0mCatering[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"music"[39m
                      [36m>[39m
                        [0mMusic[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"transportation"[39m
                      [36m>[39m
                        [0mTransportation[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"decoration"[39m
                      [36m>[39m
                        [0mDecoration[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"other"[39m
                      [36m>[39m
                        [0mOther[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-1"[39m
                  [36m>[39m
                    [36m<label[39m
                      [33mclass[39m=[32m"block text-sm font-medium text-gray-700"[39m
                      [33mfor[39m=[32m"field-contactName"[39m
                    [36m>[39m
                      [0mContact Name[0m
                    [36m</label>[39m
                    [36m<input[39m
                      [33maria-invalid[39m=[32m"false"[39m
                      [33mclass[39m=[32m"w-full px-3 py-2 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 border-gray-300"[39m
                      [33mid[39m=[32m"field-contactName"[39m
                      [33mname[39m=[32m"contactName"[39m
                      [33mplaceholder[39m=[32m"Enter contact name"[39m
                      [33mtype[39m=[32m"text"[39m
                      [33mvalue[39m=[32m""[39m...

      502 |
      503 |     // Click on the vendor to open edit modal
    > 504 |     await waitFor(() => {
          |                  ^
      505 |       const vendorElement = screen.getByText(vendor.name);
      506 |       fireEvent.click(vendorElement);
      507 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/vendors/page.property.test.tsx:504:18)

FAIL __tests__/contracts/apiRoutes.contract.test.ts
  ‚óè API Route Contracts ‚Ä∫ Authentication ‚Ä∫ all admin routes should call verifyAuth

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      73 |           content.includes('auth.getUser()');
      74 |         
    > 75 |         expect(hasAuth).toBe(true);
         |                         ^
      76 |         
      77 |         if (!hasAuth) {
      78 |           fail(`Admin route ${routePath} is missing authentication check`);

      at Object.toBe (__tests__/contracts/apiRoutes.contract.test.ts:75:25)

  ‚óè API Route Contracts ‚Ä∫ Response Format ‚Ä∫ all routes should return Result<T> format

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      116 |           content.includes('success: false');
      117 |         
    > 118 |         expect(hasResultType).toBe(true);
          |                               ^
      119 |         
      120 |         if (!hasResultType) {
      121 |           console.warn(`Route ${routePath} should return Result<T> format`);

      at Object.toBe (__tests__/contracts/apiRoutes.contract.test.ts:118:31)

FAIL hooks/useSections.test.ts
  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically add new section on create

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 1
    Received array:  [{"columns": [], "displayOrder": 1, "id": "section-1", "layout": "one-column", "pageId": "page-1", "pageType": "custom"}]

      232 |
      233 |       expect(createResult.success).toBe(true);
    > 234 |       expect(result.current.data).toHaveLength(2);
          |                                   ^
      235 |       expect(result.current.data[1]).toEqual(newSection);
      236 |     });
      237 |

      at Object.toHaveLength (hooks/useSections.test.ts:234:35)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should sort sections by displayOrder after create

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

      280 |       });
      281 |
    > 282 |       expect(result.current.data[0].displayOrder).toBe(1);
          |                                                   ^
      283 |       expect(result.current.data[1].displayOrder).toBe(2);
      284 |     });
      285 |

      at Object.toBe (hooks/useSections.test.ts:282:51)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically update existing section

    expect(received).toBe(expected) // Object.is equality

    Expected: "two-column"
    Received: "one-column"

      324 |
      325 |       expect(updateResult.success).toBe(true);
    > 326 |       expect(result.current.data[0].layout).toBe('two-column');
          |                                             ^
      327 |     });
      328 |
      329 |     it('should optimistically remove section on delete', async () => {

      at Object.toBe (hooks/useSections.test.ts:326:45)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically remove section on delete

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 2
    Received array:  [{"columns": [], "displayOrder": 1, "id": "section-1", "layout": "one-column", "pageId": "page-1", "pageType": "custom"}, {"columns": [], "displayOrder": 2, "id": "section-2", "layout": "two-column", "pageId": "page-1", "pageType": "custom"}]

      368 |
      369 |       expect(deleteResult.success).toBe(true);
    > 370 |       expect(result.current.data).toHaveLength(1);
          |                                   ^
      371 |       expect(result.current.data[0].id).toBe('section-2');
      372 |     });
      373 |

      at Object.toHaveLength (hooks/useSections.test.ts:370:35)

  ‚óè useSections ‚Ä∫ optimistic updates ‚Ä∫ should optimistically reorder sections

    expect(received).toBe(expected) // Object.is equality

    Expected: "section-3"
    Received: "section-1"

      425 |
      426 |       expect(reorderResult.success).toBe(true);
    > 427 |       expect(result.current.data[0].id).toBe('section-3');
          |                                         ^
      428 |       expect(result.current.data[1].id).toBe('section-1');
      429 |       expect(result.current.data[2].id).toBe('section-2');
      430 |     });

      at Object.toBe (hooks/useSections.test.ts:427:41)

FAIL __tests__/accessibility/admin-components.accessibility.test.tsx
  ‚óè Admin Components Accessibility Tests ‚Ä∫ PhotoPicker ‚Ä∫ should have no accessibility violations

    TypeError: Cannot read properties of undefined (reading 'map')

      106 |   // Get selected photos in order
      107 |   const selectedPhotos = selectedPhotoIds
    > 108 |     .map(id => photos.find(p => p.id === id))
          |      ^
      109 |     .filter((p): p is Photo => p !== undefined);
      110 |
      111 |   return (

      at map (components/admin/PhotoPicker.tsx:108:6)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:269:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ PhotoPicker ‚Ä∫ should have proper alt text for all images

    TypeError: Cannot read properties of undefined (reading 'map')

      106 |   // Get selected photos in order
      107 |   const selectedPhotos = selectedPhotoIds
    > 108 |     .map(id => photos.find(p => p.id === id))
          |      ^
      109 |     .filter((p): p is Photo => p !== undefined);
      110 |
      111 |   return (

      at map (components/admin/PhotoPicker.tsx:108:6)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:282:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ BudgetDashboard ‚Ä∫ should have no accessibility violations

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      295 |   describe('BudgetDashboard', () => {
      296 |     it('should have no accessibility violations', async () => {
    > 297 |       const { container } = render(<BudgetDashboard />);
          |                                   ^
      298 |
      299 |       const results = await axe(container);
      300 |       expect(results).toHaveNoViolations();

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:297:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ BudgetDashboard ‚Ä∫ should have accessible table structure

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      302 |
      303 |     it('should have accessible table structure', async () => {
    > 304 |       const { container } = render(<BudgetDashboard />);
          |                                   ^
      305 |
      306 |       const results = await axe(container, {
      307 |         rules: {

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:304:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ EmailComposer ‚Ä∫ should have no accessibility violations

    useToast must be used within a ToastProvider

      108 |   
      109 |   if (context === undefined) {
    > 110 |     throw new Error('useToast must be used within a ToastProvider');
          |           ^
      111 |   }
      112 |   
      113 |   return context;

      at useToast (components/ui/ToastContext.tsx:110:11)
      at EmailComposer (components/admin/EmailComposer.tsx:32:32)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:318:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ EmailComposer ‚Ä∫ should have proper form field labels

    useToast must be used within a ToastProvider

      108 |   
      109 |   if (context === undefined) {
    > 110 |     throw new Error('useToast must be used within a ToastProvider');
          |           ^
      111 |   }
      112 |   
      113 |   return context;

      at useToast (components/ui/ToastContext.tsx:110:11)
      at EmailComposer (components/admin/EmailComposer.tsx:32:32)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:325:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ SettingsForm ‚Ä∫ should have no accessibility violations

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      337 |   describe('SettingsForm', () => {
      338 |     it('should have no accessibility violations', async () => {
    > 339 |       const { container } = render(<SettingsForm />);
          |                                   ^
      340 |
      341 |       const results = await axe(container);
      342 |       expect(results).toHaveNoViolations();

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:339:35)

  ‚óè Admin Components Accessibility Tests ‚Ä∫ SettingsForm ‚Ä∫ should have accessible form controls

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      344 |
      345 |     it('should have accessible form controls', async () => {
    > 346 |       const { container } = render(<SettingsForm />);
          |                                   ^
      347 |
      348 |       const results = await axe(container, {
      349 |         rules: {

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (__tests__/accessibility/admin-components.accessibility.test.tsx:346:35)

FAIL app/admin/guests/page.modal.test.tsx
  ‚óè Guest Edit Modal - Extended Fields ‚Ä∫ should display plus-one attending checkbox in edit modal

    TestingLibraryElementError: Unable to find a label with the text of: /Plus-One Attending/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      263 |
      264 |       // Verify plus-one attending checkbox exists
    > 265 |       const plusOneAttendingField = screen.getByLabelText(/Plus-One Attending/i);
          |                                            ^
      266 |       expect(plusOneAttendingField).toBeInTheDocument();
      267 |       expect((plusOneAttendingField as HTMLInputElement).checked).toBe(true);
      268 |     }

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.modal.test.tsx:265:44)

  ‚óè Guest Edit Modal - Extended Fields ‚Ä∫ should display all field groups logically organized

    TestingLibraryElementError: Unable to find a label with the text of: /Plus-One Attending/i

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-3xl font-bold text-sage-900"[39m
              [36m>[39m
                [0mGuest Management[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mclass[39m=[32m"text-sage-600 mt-1"[39m
              [36m>[39m
                [0mManage your wedding guest list[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"cursor-pointer"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-busy[39m=[32m"false"[39m
                  [33maria-disabled[39m=[32m"false"[39m
                  [33maria-label[39m=[32m"Import guests from CSV"[39m
                  [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mImport CSV[0m
                [36m</button>[39m
                [36m<input[39m
                  [33maccept[39m=[32m".csv"[39m
                  [33mclass[39m=[32m"hidden"[39m
                  [33mid[39m=[32m"csv-import-input"[39m
                  [33mtype[39m=[32m"file"[39m
                [36m/>[39m
              [36m</label>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Export guests to CSV"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mExport CSV[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33maria-label[39m=[32m"Add new guest"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-jungle-500 hover:bg-jungle-600 text-white focus:ring-jungle-500 disabled:bg-sage-300 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mdata-action[39m=[32m"add-new"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0m+ Add Guest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white p-4 rounded-lg shadow-sm border border-sage-200"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg font-semibold text-sage-900 mb-4"[39m
            [36m>[39m
              [0mFilters[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [0mRSVP Status[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"rsvpStatus"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"pending"[39m
                  [36m>[39m
                    [0mPending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"attending"[39m
                  [36m>[39m
                    [0mAttending[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"declined"[39m
                  [36m>[39m
                    [0mDeclined[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"maybe"[39m
                  [36m>[39m
                    [0mMaybe[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"activity"[39m
                [36m>[39m
                  [0mActivity[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"activity"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-sage-700 mb-1"[39m
                  [33mfor[39m=[32m"transportation"[39m
                [36m>[39m
                  [0mTransportation[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-sage-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500"[39m
                  [33mid[39m=[32m"transportation"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m""[39m
                  [36m>[39m
                    [0mAll[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"true"[39m
                  [36m>[39m
                    [0mHas Transportation[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"false"[39m
                  [36m>[39m
                ...

      437 |       // Verify Plus-One Info fields
      438 |       expect(screen.getByLabelText(/Plus-One Name/i)).toBeInTheDocument();
    > 439 |       expect(screen.getByLabelText(/Plus-One Attending/i)).toBeInTheDocument();
          |                     ^
      440 |
      441 |       // Verify Notes field
      442 |       expect(screen.getByLabelText(/Notes/i)).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (app/admin/guests/page.modal.test.tsx:439:21)

FAIL app/admin/home-page/page.test.tsx
  ‚óè HomePageEditorPage ‚Ä∫ Loading State ‚Ä∫ should display loading skeleton while fetching config

    TestingLibraryElementError: Unable to find an element with the text: /home page editor/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"animate-pulse"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"h-8 bg-gray-200 rounded w-1/4 mb-6"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-10 bg-gray-200 rounded"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-10 bg-gray-200 rounded"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"h-32 bg-gray-200 rounded"[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      65 |       render(<HomePageEditorPage />);
      66 |       
    > 67 |       expect(screen.getByText(/home page editor/i)).toBeInTheDocument();
         |                     ^
      68 |     });
      69 |   });
      70 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (app/admin/home-page/page.test.tsx:67:21)

FAIL __tests__/regression/performance.regression.test.ts
  ‚óè Regression: Performance Monitoring ‚Ä∫ Guest Portal Performance ‚Ä∫ should load itinerary data within 150ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      110 |
      111 |       // Simulate itinerary loading
    > 112 |       await mockSupabase.from('itineraries').select('*').eq('guest_id', 'guest-1').single();
          |                                                          ^
      113 |
      114 |       const endTime = performance.now();
      115 |       const duration = endTime - startTime;

      at Object.eq (__tests__/regression/performance.regression.test.ts:112:58)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Admin Dashboard (Logistics) Performance ‚Ä∫ should calculate capacity metrics within 100ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      209 |         .from('rsvps')
      210 |         .select('*')
    > 211 |         .eq('activity_id', 'activity-1');
          |          ^
      212 |
      213 |       const totalAttendees = rsvps.data.reduce(
      214 |         (sum: number, rsvp: any) => sum + (rsvp.guestCount || 0),

      at Object.eq (__tests__/regression/performance.regression.test.ts:211:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Admin Dashboard (Logistics) Performance ‚Ä∫ should generate transportation manifest within 200ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      243 |         .from('guests')
      244 |         .select('*')
    > 245 |         .eq('airport_code', 'SJO');
          |          ^
      246 |
      247 |       // Group by time windows (simplified)
      248 |       const grouped = guests.data.reduce((acc: any, guest: any) => {

      at Object.eq (__tests__/regression/performance.regression.test.ts:245:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Database Query Performance ‚Ä∫ should execute paginated query within 100ms

    TypeError: mockSupabase.from(...).select(...).range is not a function

      293 |         .from('guests')
      294 |         .select('*', { count: 'exact' })
    > 295 |         .range(0, 49);
          |          ^
      296 |
      297 |       const endTime = performance.now();
      298 |       const duration = endTime - startTime;

      at Object.range (__tests__/regression/performance.regression.test.ts:295:10)

  ‚óè Regression: Performance Monitoring ‚Ä∫ Database Query Performance ‚Ä∫ should execute filtered query within 75ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      313 |       const startTime = performance.now();
      314 |
    > 315 |       await mockSupabase.from('guests').select('*').eq('group_id', 'group-1');
          |                                                     ^
      316 |
      317 |       const endTime = performance.now();
      318 |       const duration = endTime - startTime;

      at Object.eq (__tests__/regression/performance.regression.test.ts:315:53)

FAIL __tests__/regression/emailDelivery.regression.test.ts
  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should validate template with valid syntax

    ReferenceError: mockSupabase is not defined

      67 |       };
      68 |
    > 69 |       mockSupabase.single.mockResolvedValue({
         |       ^
      70 |         data: { id: 'template-1', ...template },
      71 |         error: null,
      72 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:69:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should reject template with undefined variables

    TypeError: Cannot read properties of undefined (reading 'createTemplate')

      90 |       };
      91 |
    > 92 |       const result = await emailService.createTemplate(template);
         |                                         ^
      93 |
      94 |       expect(result.success).toBe(false);
      95 |       if (!result.success) {

      at Object.createTemplate (__tests__/regression/emailDelivery.regression.test.ts:92:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Template Validation ‚Ä∫ should reject template with malformed HTML

    TypeError: Cannot read properties of undefined (reading 'createTemplate')

      108 |       };
      109 |
    > 110 |       const result = await emailService.createTemplate(template);
          |                                         ^
      111 |
      112 |       expect(result.success).toBe(false);
      113 |       if (!result.success) {

      at Object.createTemplate (__tests__/regression/emailDelivery.regression.test.ts:110:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should substitute all variables correctly

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      131 |       };
      132 |
    > 133 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      134 |
      135 |       expect(result.subject).toBe('RSVP for Wedding Ceremony');
      136 |       expect(result.bodyHtml).toContain('Hi John Doe');

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:133:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should handle missing variables gracefully

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      151 |       };
      152 |
    > 153 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      154 |
      155 |       expect(result.subject).toBe('Hello John Doe');
      156 |       // Missing variables should remain as placeholders or be empty

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:153:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Variable Substitution ‚Ä∫ should escape HTML in variable values

    TypeError: Cannot read properties of undefined (reading 'substituteVariables')

      170 |       };
      171 |
    > 172 |       const result = emailService.substituteVariables(template, variables);
          |                                   ^
      173 |
      174 |       expect(result.bodyHtml).not.toContain('<script>');
      175 |       expect(result.bodyHtml).toContain('&lt;script&gt;');

      at Object.substituteVariables (__tests__/regression/emailDelivery.regression.test.ts:172:35)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should send single email successfully

    ReferenceError: mockSupabase is not defined

      183 |       });
      184 |
    > 185 |       mockSupabase.single.mockResolvedValue({
          |       ^
      186 |         data: {
      187 |           id: 'log-1',
      188 |           deliveryStatus: 'sent',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:185:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should handle email service failure

    TypeError: Cannot read properties of undefined (reading 'send')

      209 |       );
      210 |
    > 211 |       const result = await emailService.send({
          |                                         ^
      212 |         to: 'guest@example.com',
      213 |         subject: 'Test Email',
      214 |         html: '<p>Test</p>',

      at Object.send (__tests__/regression/emailDelivery.regression.test.ts:211:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Sending ‚Ä∫ should validate email addresses

    TypeError: Cannot read properties of undefined (reading 'send')

      223 |
      224 |     it('should validate email addresses', async () => {
    > 225 |       const result = await emailService.send({
          |                                         ^
      226 |         to: 'invalid-email',
      227 |         subject: 'Test',
      228 |         html: '<p>Test</p>',

      at Object.send (__tests__/regression/emailDelivery.regression.test.ts:225:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should send bulk emails successfully

    ReferenceError: mockSupabase is not defined

      249 |       });
      250 |
    > 251 |       mockSupabase.single.mockResolvedValue({
          |       ^
      252 |         data: { id: 'log-1' },
      253 |         error: null,
      254 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:251:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should handle partial failures in bulk send

    ReferenceError: mockSupabase is not defined

      280 |         .mockResolvedValueOnce({ id: 'email-3' });
      281 |
    > 282 |       mockSupabase.single.mockResolvedValue({
          |       ^
      283 |         data: { id: 'log-1' },
      284 |         error: null,
      285 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:282:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Bulk Email Sending ‚Ä∫ should respect rate limits

    ReferenceError: mockSupabase is not defined

      306 |       });
      307 |
    > 308 |       mockSupabase.single.mockResolvedValue({
          |       ^
      309 |         data: { id: 'log-1' },
      310 |         error: null,
      311 |       });

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:308:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should log email delivery status

    ReferenceError: mockSupabase is not defined

      331 |       });
      332 |
    > 333 |       mockSupabase.single.mockResolvedValue({
          |       ^
      334 |         data: {
      335 |           id: 'log-1',
      336 |           deliveryStatus: 'sent',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:333:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should update delivery status via webhook

    ReferenceError: mockSupabase is not defined

      360 |       };
      361 |
    > 362 |       mockSupabase.single.mockResolvedValue({
          |       ^
      363 |         data: {
      364 |           id: 'log-1',
      365 |           deliveryStatus: 'delivered',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:362:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Delivery Tracking ‚Ä∫ should track bounce events

    ReferenceError: mockSupabase is not defined

      384 |       };
      385 |
    > 386 |       mockSupabase.single.mockResolvedValue({
          |       ^
      387 |         data: {
      388 |           id: 'log-1',
      389 |           deliveryStatus: 'bounced',

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:386:7)

  ‚óè Regression: Email Delivery ‚Ä∫ SMS Fallback ‚Ä∫ should send SMS when email fails

    TypeError: Cannot read properties of undefined (reading 'sendWithFallback')

      413 |       });
      414 |
    > 415 |       const result = await emailService.sendWithFallback({
          |                                         ^
      416 |         to: 'guest@example.com',
      417 |         phone: '+1234567890',
      418 |         subject: 'Test',

      at Object.sendWithFallback (__tests__/regression/emailDelivery.regression.test.ts:415:41)

  ‚óè Regression: Email Delivery ‚Ä∫ SMS Fallback ‚Ä∫ should not attempt SMS if no phone number

    TypeError: Cannot read properties of undefined (reading 'sendWithFallback')

      432 |       );
      433 |
    > 434 |       const result = await emailService.sendWithFallback({
          |                                         ^
      435 |         to: 'guest@example.com',
      436 |         subject: 'Test',
      437 |         html: '<p>Test</p>',

      at Object.sendWithFallback (__tests__/regression/emailDelivery.regression.test.ts:434:41)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Scheduling ‚Ä∫ should schedule email for future delivery

    ReferenceError: mockSupabase is not defined

      448 |       const scheduledTime = new Date(Date.now() + 3600000); // 1 hour from now
      449 |
    > 450 |       mockSupabase.single.mockResolvedValue({
          |       ^
      451 |         data: {
      452 |           id: 'scheduled-1',
      453 |           scheduledFor: scheduledTime.toISOString(),

      at Object.mockSupabase (__tests__/regression/emailDelivery.regression.test.ts:450:7)

  ‚óè Regression: Email Delivery ‚Ä∫ Email Scheduling ‚Ä∫ should reject scheduling in the past

    TypeError: Cannot read properties of undefined (reading 'schedule')

      474 |       const pastTime = new Date(Date.now() - 3600000); // 1 hour ago
      475 |
    > 476 |       const result = await emailService.schedule({
          |                                         ^
      477 |         to: 'guest@example.com',
      478 |         subject: 'Scheduled Email',
      479 |         html: '<p>Test</p>',

      at Object.schedule (__tests__/regression/emailDelivery.regression.test.ts:476:41)

FAIL services/gallerySettingsPersistence.property.test.ts
  ‚óè Feature: destination-wedding-platform, Property 35: Gallery Settings Persistence ‚Ä∫ should persist gallery settings and retrieve updated values

    Property failed after 1 tests
    { seed: 162652459, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","displayMode":"gallery","photosPerRow":null,"showCaptions":false,"autoplayInterval":null,"transitionEffect":null,"settingsId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 13 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      100 |
      101 |           // Property: Get should succeed
    > 102 |           expect(getResult.success).toBe(true);
          |                                     ^
      103 |
      104 |           if (!getResult.success) {
      105 |             return true;

      at toBe (services/gallerySettingsPersistence.property.test.ts:102:37)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/gallerySettingsPersistence.property.test.ts:23:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: destination-wedding-platform, Property 35: Gallery Settings Persistence ‚Ä∫ should return default settings when none exist for a page

    Property failed after 1 tests
    { seed: -1807803013, path: "0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 5 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      241 |
      242 |           // Property: Get should succeed even when settings don't exist
    > 243 |           expect(result.success).toBe(true);
          |                                  ^
      244 |
      245 |           if (!result.success) {
      246 |             return true;

      at toBe (services/gallerySettingsPersistence.property.test.ts:243:34)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/gallerySettingsPersistence.property.test.ts:223:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL services/contentVersionHistory.property.test.ts
  ‚óè Feature: destination-wedding-platform, Property 20: Content Version History ‚Ä∫ should create version entry with timestamp for any content update

    Property failed after 1 tests
    { seed: 226788192, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","userId":null,"displayOrder":0,"sectionId":"00000000-0000-1000-8000-000000000000","versionId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 15 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      104 |
      105 |           // Property: Version creation should succeed
    > 106 |           expect(versionResult.success).toBe(true);
          |                                         ^
      107 |           
      108 |           if (!versionResult.success) {
      109 |             return true;

      at toBe (services/contentVersionHistory.property.test.ts:106:41)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/contentVersionHistory.property.test.ts:27:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

  ‚óè Feature: destination-wedding-platform, Property 20: Content Version History ‚Ä∫ should preserve previous version when creating new version

    Property failed after 1 tests
    { seed: 456302325, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
    Counterexample: [{"pageType":"activity","pageId":"00000000-0000-1000-8000-000000000000","userId":null,"version1Id":"00000000-0000-1000-8000-000000000000","version2Id":"00000000-0000-1000-8000-000000000000","sectionId":"00000000-0000-1000-8000-000000000000"}]
    Shrunk 17 time(s)
    Got error: expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      268 |
      269 |           // Property: Both versions should be created successfully
    > 270 |           expect(version1Result.success).toBe(true);
          |                                          ^
      271 |           expect(version2Result.success).toBe(true);
      272 |
      273 |           if (!version1Result.success || !version2Result.success) {

      at toBe (services/contentVersionHistory.property.test.ts:270:42)
      at AsyncProperty.run (node_modules/fast-check/lib/check/property/AsyncProperty.generic.js:49:28)
      at asyncRunIt (node_modules/fast-check/lib/check/runner/Runner.js:37:21)
      at Object.<anonymous> (services/contentVersionHistory.property.test.ts:139:5)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:132:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/check/runner/utils/RunDetailsFormatter.js:149:11)

FAIL __tests__/security/xssPrevention.security.test.ts
  ‚óè Security: XSS Prevention ‚Ä∫ sanitizeRichText ‚Ä∫ should remove javascript: protocol from links

    expect(received).not.toContain(expected) // indexOf

    Expected substring: not "alert"
    Received string:        "<a href=\"alert(1)\">Click</a>"

      148 |       const sanitized = sanitizeRichText(jsLink);
      149 |       expect(sanitized).not.toContain('javascript:');
    > 150 |       expect(sanitized).not.toContain('alert');
          |                             ^
      151 |     });
      152 |
      153 |     it('should allow lists', () => {

      at Object.toContain (__tests__/security/xssPrevention.security.test.ts:150:29)

  ‚óè Security: XSS Prevention ‚Ä∫ Edge cases ‚Ä∫ should handle malformed HTML

    expect(received).not.toContain(expected) // indexOf

    Expected substring: not "alert"
    Received string:        "Unclosed paragraphalert(1)"

      235 |       const sanitized = sanitizeInput(malformed);
      236 |       expect(sanitized).not.toContain('<script>');
    > 237 |       expect(sanitized).not.toContain('alert');
          |                             ^
      238 |     });
      239 |   });
      240 | });

      at Object.toContain (__tests__/security/xssPrevention.security.test.ts:237:29)

FAIL __tests__/performance/loadTest.performance.test.ts
  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent guest reads within 2 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

       96 |
       97 |       expect(duration).toBeLessThan(2000);
    >  98 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
       99 |       expect(results).toHaveLength(100);
      100 |     });
      101 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:98:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent RSVP submissions within 3 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      132 |
      133 |       expect(duration).toBeLessThan(3000);
    > 134 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      135 |       expect(results).toHaveLength(100);
      136 |     });
      137 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:134:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle 100 concurrent event list requests within 2.5 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      165 |
      166 |       expect(duration).toBeLessThan(2500);
    > 167 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      168 |       expect(results).toHaveLength(100);
      169 |     });
      170 |

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:167:47)

  ‚óè Performance: Load Testing ‚Ä∫ Concurrent User Load (100 users) ‚Ä∫ should handle mixed concurrent operations within 3 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      207 |
      208 |       expect(duration).toBeLessThan(3000);
    > 209 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      210 |       expect(results).toHaveLength(100);
      211 |     });
      212 |   });

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:209:47)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should create 100 guests within 1 second

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      238 |
      239 |       expect(duration).toBeLessThan(1000);
    > 240 |       expect(result.success).toBe(true);
          |                              ^
      241 |       if (result.success) {
      242 |         expect(result.data).toHaveLength(100);
      243 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:240:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should update 150 guests within 1.5 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      265 |
      266 |       expect(duration).toBeLessThan(1500);
    > 267 |       expect(result.success).toBe(true);
          |                              ^
      268 |       if (result.success) {
      269 |         expect(result.data).toHaveLength(150);
      270 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:267:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should delete 100 guests within 800ms

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      289 |
      290 |       expect(duration).toBeLessThan(800);
    > 291 |       expect(result.success).toBe(true);
          |                              ^
      292 |     });
      293 |
      294 |     it('should export 200 guests to CSV within 500ms', async () => {

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:291:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should export 200 guests to CSV within 500ms

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      318 |
      319 |       expect(duration).toBeLessThan(500);
    > 320 |       expect(result.success).toBe(true);
          |                              ^
      321 |       if (result.success) {
      322 |         expect(result.data.split('\n').length).toBeGreaterThan(200);
      323 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:320:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should import 100 guests from CSV within 1.2 seconds

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      350 |
      351 |       expect(duration).toBeLessThan(1200);
    > 352 |       expect(result.success).toBe(true);
          |                              ^
      353 |       if (result.success) {
      354 |         expect(result.data).toHaveLength(100);
      355 |       }

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:352:30)

  ‚óè Performance: Load Testing ‚Ä∫ Bulk Operations (100+ guests) ‚Ä∫ should handle bulk RSVP creation for 120 guests within 1 second

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      381 |
      382 |       expect(duration).toBeLessThan(1000);
    > 383 |       expect(results.every((r) => r.success)).toBe(true);
          |                                               ^
      384 |       expect(results).toHaveLength(120);
      385 |     });
      386 |   });

      at Object.toBe (__tests__/performance/loadTest.performance.test.ts:383:47)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute simple SELECT query within 30ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      573 |       for (let i = 0; i < 20; i++) {
      574 |         const startTime = performance.now();
    > 575 |         await mockSupabase.from('guests').select('*').eq('id', 'guest-1').single();
          |                                                       ^
      576 |         const endTime = performance.now();
      577 |         measurements.push(endTime - startTime);
      578 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:575:55)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute filtered SELECT query within 50ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      598 |       for (let i = 0; i < 20; i++) {
      599 |         const startTime = performance.now();
    > 600 |         await mockSupabase.from('guests').select('*').eq('group_id', 'group-1');
          |                                                       ^
      601 |         const endTime = performance.now();
      602 |         measurements.push(endTime - startTime);
      603 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:600:55)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute paginated query within 80ms

    TypeError: mockSupabase.from(...).select(...).range is not a function

      627 |           .from('guests')
      628 |           .select('*', { count: 'exact' })
    > 629 |           .range(0, 49);
          |            ^
      630 |         const endTime = performance.now();
      631 |         measurements.push(endTime - startTime);
      632 |       }

      at Object.range (__tests__/performance/loadTest.performance.test.ts:629:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute JOIN query within 100ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      659 |           .from('rsvps')
      660 |           .select('*, guests(*), events(*)')
    > 661 |           .eq('event_id', 'event-1');
          |            ^
      662 |         const endTime = performance.now();
      663 |         measurements.push(endTime - startTime);
      664 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:661:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute aggregate query within 60ms

    TypeError: mockSupabase.from(...).select(...).eq is not a function

      683 |           .from('guests')
      684 |           .select('*', { count: 'exact', head: true })
    > 685 |           .eq('group_id', 'group-1');
          |            ^
      686 |         const endTime = performance.now();
      687 |         measurements.push(endTime - startTime);
      688 |       }

      at Object.eq (__tests__/performance/loadTest.performance.test.ts:685:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute INSERT query within 40ms

    TypeError: mockSupabase.from(...).insert(...).select(...).single is not a function

      708 |           .insert({ firstName: 'John', lastName: 'Doe' })
      709 |           .select()
    > 710 |           .single();
          |            ^
      711 |         const endTime = performance.now();
      712 |         measurements.push(endTime - startTime);
      713 |       }

      at Object.single (__tests__/performance/loadTest.performance.test.ts:710:12)

  ‚óè Performance: Load Testing ‚Ä∫ Database Query Performance ‚Ä∫ should execute UPDATE query within 35ms

    TypeError: mockSupabase.from(...).update(...).eq(...).select(...).single is not a function

      734 |           .eq('id', 'guest-1')
      735 |           .select()
    > 736 |           .single();
          |            ^
      737 |         const endTime = performance.now();
      738 |         measurements.push(endTime - startTime);
      739 |       }

      at Object.single (__tests__/performance/loadTest.performance.test.ts:736:12)

FAIL services/externalServiceGracefulDegradation.test.ts
  ‚óè External Service Graceful Degradation ‚Ä∫ B2 Storage Failover to Supabase ‚Ä∫ should fallback to Supabase storage when B2 is unavailable

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      114 |
      115 |       // Upload should succeed using Supabase
    > 116 |       expect(uploadResult.success).toBe(true);
          |                                    ^
      117 |       if (uploadResult.success) {
      118 |         expect(uploadResult.data.storage_type).toBe('supabase');
      119 |         expect(mockSupabase.storage.from).toHaveBeenCalled();

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:116:36)

  ‚óè External Service Graceful Degradation ‚Ä∫ B2 Storage Failover to Supabase ‚Ä∫ should use B2 when available and healthy

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      161 |
      162 |       // Upload should succeed using B2
    > 163 |       expect(uploadResult.success).toBe(true);
          |                                    ^
      164 |       if (uploadResult.success) {
      165 |         expect(uploadResult.data.storage_type).toBe('b2');
      166 |       }

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:163:36)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should fallback to SMS when email delivery fails

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      239 |
      240 |       // SMS should succeed
    > 241 |       expect(smsResult.success).toBe(true);
          |                                 ^
      242 |       expect(global.fetch).toHaveBeenCalledTimes(2);
      243 |     });
      244 |

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:241:33)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should use email when available

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      268 |
      269 |       // Email should succeed
    > 270 |       expect(emailResult.success).toBe(true);
          |                                   ^
      271 |       expect(global.fetch).toHaveBeenCalledTimes(1);
      272 |     });
      273 |

      at Object.toBe (services/externalServiceGracefulDegradation.test.ts:270:35)

  ‚óè External Service Graceful Degradation ‚Ä∫ Email to SMS Fallback ‚Ä∫ should handle both email and SMS failures gracefully

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 2
    Received number of calls: 1

      313 |
      314 |       // Both services attempted
    > 315 |       expect(global.fetch).toHaveBeenCalledTimes(2);
          |                            ^
      316 |     });
      317 |   });
      318 |

      at Object.toHaveBeenCalledTimes (services/externalServiceGracefulDegradation.test.ts:315:28)

  ‚óè External Service Graceful Degradation ‚Ä∫ Graceful Degradation Patterns ‚Ä∫ should continue operation when non-critical services fail

    TypeError: Cannot read properties of undefined (reading 'value')

      321 |       // Mock B2 to fail
      322 |       const { S3Client } = require('@aws-sdk/client-s3');
    > 323 |       const mockSend = S3Client.mock.results[0].value.send;
          |                                                 ^
      324 |       mockSend.mockRejectedValue(new Error('B2 unavailable'));
      325 |
      326 |       // Mock Supabase storage to succeed

      at Object.value (services/externalServiceGracefulDegradation.test.ts:323:49)

  ‚óè External Service Graceful Degradation ‚Ä∫ Graceful Degradation Patterns ‚Ä∫ should provide meaningful error messages when all fallbacks fail

    TypeError: Cannot read properties of undefined (reading 'value')

      352 |       // Mock both B2 and Supabase to fail
      353 |       const { S3Client } = require('@aws-sdk/client-s3');
    > 354 |       const mockSend = S3Client.mock.results[0].value.send;
          |                                                 ^
      355 |       mockSend.mockRejectedValue(new Error('B2 unavailable'));
      356 |
      357 |       const { createClient } = require('@supabase/supabase-js');

      at Object.value (services/externalServiceGracefulDegradation.test.ts:354:49)

FAIL services/vendorBookingService.test.ts
  ‚óè vendorBookingService.create ‚Ä∫ should create a vendor booking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      66 |     const result = await vendorBookingService.create(bookingData);
      67 |
    > 68 |     expect(result.success).toBe(true);
         |                            ^
      69 |     if (result.success) {
      70 |       expect(result.data.id).toBe('booking-1');
      71 |       expect(result.data.vendorId).toBe(bookingData.vendorId);

      at Object.toBe (services/vendorBookingService.test.ts:68:28)

  ‚óè vendorBookingService.create ‚Ä∫ should return DATABASE_ERROR when insert fails

    expect(received).toBe(expected) // Object.is equality

    Expected: "DATABASE_ERROR"
    Received: "VALIDATION_ERROR"

      104 |     expect(result.success).toBe(false);
      105 |     if (!result.success) {
    > 106 |       expect(result.error.code).toBe('DATABASE_ERROR');
          |                                 ^
      107 |     }
      108 |   });
      109 |

      at Object.toBe (services/vendorBookingService.test.ts:106:33)

  ‚óè vendorBookingService.create ‚Ä∫ should sanitize notes input

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      133 |     const result = await vendorBookingService.create(bookingData);
      134 |
    > 135 |     expect(result.success).toBe(true);
          |                            ^
      136 |     // Sanitization is mocked, but in real implementation it would remove script tags
      137 |   });
      138 | });

      at Object.toBe (services/vendorBookingService.test.ts:135:28)

  ‚óè vendorBookingService.get ‚Ä∫ should retrieve a vendor booking by ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      172 |     const result = await vendorBookingService.get('booking-1');
      173 |
    > 174 |     expect(result.success).toBe(true);
          |                            ^
      175 |     if (result.success) {
      176 |       expect(result.data.id).toBe('booking-1');
      177 |       expect(result.data.vendorId).toBe('vendor-1');

      at Object.toBe (services/vendorBookingService.test.ts:174:28)

  ‚óè vendorBookingService.get ‚Ä∫ should return NOT_FOUND when booking does not exist

    expect(received).toBe(expected) // Object.is equality

    Expected: "NOT_FOUND"
    Received: "UNKNOWN_ERROR"

      189 |     expect(result.success).toBe(false);
      190 |     if (!result.success) {
    > 191 |       expect(result.error.code).toBe('NOT_FOUND');
          |                                 ^
      192 |     }
      193 |   });
      194 | });

      at Object.toBe (services/vendorBookingService.test.ts:191:33)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should retrieve bookings with vendor and activity details

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      243 |     const result = await vendorBookingService.listWithDetails({});
      244 |
    > 245 |     expect(result.success).toBe(true);
          |                            ^
      246 |     if (result.success) {
      247 |       expect(result.data).toHaveLength(1);
      248 |       expect(result.data[0].vendorName).toBe('Test Photographer');

      at Object.toBe (services/vendorBookingService.test.ts:245:28)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should filter bookings by vendor ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      259 |     const result = await vendorBookingService.listWithDetails({ vendorId: 'vendor-1' });
      260 |
    > 261 |     expect(result.success).toBe(true);
          |                            ^
      262 |     expect(mockSupabase.eq).toHaveBeenCalledWith('vendor_id', 'vendor-1');
      263 |   });
      264 |

      at Object.toBe (services/vendorBookingService.test.ts:261:28)

  ‚óè vendorBookingService.listWithDetails ‚Ä∫ should filter bookings by activity ID

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      271 |     const result = await vendorBookingService.listWithDetails({ activityId: 'activity-1' });
      272 |
    > 273 |     expect(result.success).toBe(true);
          |                            ^
      274 |     expect(mockSupabase.eq).toHaveBeenCalledWith('activity_id', 'activity-1');
      275 |   });
      276 | });

      at Object.toBe (services/vendorBookingService.test.ts:273:28)

  ‚óè vendorBookingService.getVendorBookings ‚Ä∫ should retrieve all bookings for a specific vendor

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      344 |     const result = await vendorBookingService.getVendorBookings('vendor-1');
      345 |
    > 346 |     expect(result.success).toBe(true);
          |                            ^
      347 |     if (result.success) {
      348 |       expect(result.data).toHaveLength(2);
      349 |       expect(result.data[0].vendorId).toBe('vendor-1');

      at Object.toBe (services/vendorBookingService.test.ts:346:28)

  ‚óè vendorBookingService.getActivityBookings ‚Ä∫ should retrieve all bookings for a specific activity

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      421 |     const result = await vendorBookingService.getActivityBookings('activity-1');
      422 |
    > 423 |     expect(result.success).toBe(true);
          |                            ^
      424 |     if (result.success) {
      425 |       expect(result.data).toHaveLength(2);
      426 |       expect(result.data[0].activityId).toBe('activity-1');

      at Object.toBe (services/vendorBookingService.test.ts:423:28)

  ‚óè vendorBookingService.deleteBooking ‚Ä∫ should delete a vendor booking successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      452 |     const result = await vendorBookingService.deleteBooking('booking-1');
      453 |
    > 454 |     expect(result.success).toBe(true);
          |                            ^
      455 |     expect(mockSupabase.from).toHaveBeenCalledWith('vendor_bookings');
      456 |     expect(mockSupabase.delete).toHaveBeenCalled();
      457 |     expect(mockSupabase.eq).toHaveBeenCalledWith('id', 'booking-1');

      at Object.toBe (services/vendorBookingService.test.ts:454:28)

  ‚óè vendorBookingService.deleteBooking ‚Ä∫ should return DATABASE_ERROR when delete fails

    expect(received).toBe(expected) // Object.is equality

    Expected: "DATABASE_ERROR"
    Received: "UNKNOWN_ERROR"

      467 |     expect(result.success).toBe(false);
      468 |     if (!result.success) {
    > 469 |       expect(result.error.code).toBe('DATABASE_ERROR');
          |                                 ^
      470 |     }
      471 |   });
      472 | });

      at Object.toBe (services/vendorBookingService.test.ts:469:33)

  ‚óè vendorBookingService.propagateVendorCostChange ‚Ä∫ should propagate vendor cost changes successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      521 |     const result = await vendorBookingService.propagateVendorCostChange('vendor-1');
      522 |
    > 523 |     expect(result.success).toBe(true);
          |                            ^
      524 |     // In real implementation, this would trigger budget recalculation
      525 |   });
      526 | });

      at Object.toBe (services/vendorBookingService.test.ts:523:28)

FAIL __tests__/regression/financialCalculations.regression.test.ts
  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should calculate total budget correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      57 |       });
      58 |
    > 59 |       const result = await budgetService.calculateTotal();
         |                                          ^
      60 |
      61 |       expect(result.success).toBe(true);
      62 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:59:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should handle zero costs

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      81 |       });
      82 |
    > 83 |       const result = await budgetService.calculateTotal();
         |                                          ^
      84 |
      85 |       expect(result.success).toBe(true);
      86 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:83:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should handle subsidies exceeding costs

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      103 |       });
      104 |
    > 105 |       const result = await budgetService.calculateTotal();
          |                                          ^
      106 |
      107 |       expect(result.success).toBe(true);
      108 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:105:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Budget Total Calculations ‚Ä∫ should calculate per-guest vendor costs correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      126 |       });
      127 |
    > 128 |       const result = await budgetService.calculateTotal();
          |                                          ^
      129 |
      130 |       expect(result.success).toBe(true);
      131 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:128:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should update balance correctly on payment

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      159 |         });
      160 |
    > 161 |       const result = await vendorService.recordPayment('vendor-1', 2000);
          |                                          ^
      162 |
      163 |       expect(result.success).toBe(true);
      164 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:161:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should mark as paid when full amount received

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      192 |         });
      193 |
    > 194 |       const result = await vendorService.recordPayment('vendor-1', 1000);
          |                                          ^
      195 |
      196 |       expect(result.success).toBe(true);
      197 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:194:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should handle overpayment

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      223 |         });
      224 |
    > 225 |       const result = await vendorService.recordPayment('vendor-1', 6000);
          |                                          ^
      226 |
      227 |       expect(result.success).toBe(true);
      228 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:225:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Payment Balance Updates ‚Ä∫ should reject negative payment amounts

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      233 |
      234 |     it('should reject negative payment amounts', async () => {
    > 235 |       const result = await vendorService.recordPayment('vendor-1', -100);
          |                                          ^
      236 |
      237 |       expect(result.success).toBe(false);
      238 |       if (!result.success) {

      at Object.recordPayment (__tests__/regression/financialCalculations.regression.test.ts:235:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Accommodation Cost Calculations ‚Ä∫ should calculate room costs with subsidies

    TypeError: Cannot read properties of undefined (reading 'calculateRoomCost')

      259 |       });
      260 |
    > 261 |       const result = await accommodationService.calculateRoomCost(
          |                                                 ^
      262 |         'room-1',
      263 |         'assignment-1'
      264 |       );

      at Object.calculateRoomCost (__tests__/regression/financialCalculations.regression.test.ts:261:49)

  ‚óè Regression: Financial Calculations ‚Ä∫ Accommodation Cost Calculations ‚Ä∫ should handle same-day checkout

    TypeError: Cannot read properties of undefined (reading 'calculateRoomCost')

      289 |       });
      290 |
    > 291 |       const result = await accommodationService.calculateRoomCost(
          |                                                 ^
      292 |         'room-1',
      293 |         'assignment-1'
      294 |       );

      at Object.calculateRoomCost (__tests__/regression/financialCalculations.regression.test.ts:291:49)

  ‚óè Regression: Financial Calculations ‚Ä∫ Precision and Rounding ‚Ä∫ should handle decimal amounts correctly

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      363 |       });
      364 |
    > 365 |       const result = await budgetService.calculateTotal();
          |                                          ^
      366 |
      367 |       expect(result.success).toBe(true);
      368 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:365:42)

  ‚óè Regression: Financial Calculations ‚Ä∫ Precision and Rounding ‚Ä∫ should not accumulate rounding errors

    TypeError: Cannot read properties of undefined (reading 'calculateTotal')

      388 |       });
      389 |
    > 390 |       const result = await budgetService.calculateTotal();
          |                                          ^
      391 |
      392 |       expect(result.success).toBe(true);
      393 |       if (result.success) {

      at Object.calculateTotal (__tests__/regression/financialCalculations.regression.test.ts:390:42)

FAIL components/admin/SectionEditor.test.tsx (5.046 s)
  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display column content for rich text

    TestingLibraryElementError: Unable to find an element with the text: /<p>Test content<\/p>/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative "[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-1 p-2 border border-gray-300 rounded-t-md bg-gray-50"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bold"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bold (Ctrl+B)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<strong>[39m
                            [0mB[0m
                          [36m</strong>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Italic"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Italic (Ctrl+I)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<em>[39m
                            [0mI[0m
                          [36m</em>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Underline"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Underline (Ctrl+U)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<u>[39m
                            [0mU[0m
                          [36m</u>[39m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bullet list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bullet List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Ä¢[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Numbered list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Numbered List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m1.[0m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert link"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Link (Ctrl+K)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0mÔøΩÔøΩ[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert table"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Table"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚äû[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert divider"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Divider"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Äï[0m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33maria-label[39m=[32m"Rich text editor"[39m
                        [33maria-multiline[39m=[32m"true"[39m
                        [33mclass[39m=[32m"min-h-[200px] p-4 border border-t-0 border-gray-300 rounded-b-md focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-sm max-w-none bg-white false"[39m
                        [33mcontenteditable[39m=[32m"true"[39m
                        [33mdata-placeholder[39m=[32m"Start typing or use / for commands..."[39m
                        [33mrole[39m=[32m"textbox"[39m
                      [36m>[39m
                        [36m<p>[39m
                          [0mTest content[0m
                        [36m</p>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      774 |
      775 |       // Rich text content should be displayed (as escaped HTML)
    > 776 |       expect(screen.getByText(/<p>Test content<\/p>/)).toBeInTheDocument();
          |                     ^
      777 |     });
      778 |
      779 |     it('should display column number label', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:776:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display column number label

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 4
    Received array:  [<div class="text-xs font-medium text-gray-600">Column 1</div>, <p>Column 1</p>, <div class="text-xs font-medium text-gray-600">Column 2</div>, <p>Column 2</p>]

      795 |       // Check for column labels specifically (not content)
      796 |       const columnLabels = screen.getAllByText(/^Column \d$/);
    > 797 |       expect(columnLabels).toHaveLength(2);
          |                            ^
      798 |       expect(columnLabels[0]).toHaveTextContent('Column 1');
      799 |       expect(columnLabels[1]).toHaveTextContent('Column 2');
      800 |     });

      at Object.toHaveLength (components/admin/SectionEditor.test.tsx:797:28)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display empty content placeholder for empty rich text

    TestingLibraryElementError: Unable to find an element with the text: Empty content. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"relative "[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-1 p-2 border border-gray-300 rounded-t-md bg-gray-50"[39m
                      [36m>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bold"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bold (Ctrl+B)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<strong>[39m
                            [0mB[0m
                          [36m</strong>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Italic"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Italic (Ctrl+I)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<em>[39m
                            [0mI[0m
                          [36m</em>[39m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Underline"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Underline (Ctrl+U)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [36m<u>[39m
                            [0mU[0m
                          [36m</u>[39m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Bullet list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Bullet List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Ä¢[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Numbered list"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Numbered List"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m1.[0m
                        [36m</button>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"w-px h-6 bg-gray-300 mx-1"[39m
                        [36m/>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert link"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Link (Ctrl+K)"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0mÔøΩÔøΩ[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert table"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Table"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚äû[0m
                        [36m</button>[39m
                        [36m<button[39m
                          [33maria-label[39m=[32m"Insert divider"[39m
                          [33mclass[39m=[32m"p-2 text-gray-700 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [33mtitle[39m=[32m"Insert Divider"[39m
                          [33mtype[39m=[32m"button"[39m
                        [36m>[39m
                          [0m‚Äï[0m
                        [36m</button>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33maria-label[39m=[32m"Rich text editor"[39m
                        [33maria-multiline[39m=[32m"true"[39m
                        [33mclass[39m=[32m"min-h-[200px] p-4 border border-t-0 border-gray-300 rounded-b-md focus:outline-none focus:ring-2 focus:ring-blue-500 prose prose-sm max-w-none bg-white empty-editor"[39m
                        [33mcontenteditable[39m=[32m"true"[39m
                        [33mdata-placeholder[39m=[32m"Start typing or use / for commands..."[39m
                        [33mrole[39m=[32m"textbox"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      823 |       });
      824 |
    > 825 |       expect(screen.getByText('Empty content')).toBeInTheDocument();
          |                     ^
      826 |     });
      827 |
      828 |     it('should display photo gallery content type', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:825:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display photo gallery content type

    TestingLibraryElementError: Unable to find an element with the text: Photo Gallery (3 photos). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-4"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"border border-gray-200 rounded-lg p-4 bg-gray-50"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center justify-between mb-3"[39m
                        [36m>[39m
                          [36m<h4[39m
                            [33mclass[39m=[32m"text-sm font-medium text-gray-900"[39m
                          [36m>[39m
                            [0mSelected Photos ([0m
                            [0m3[0m
                            [0m)[0m
                          [36m</h4>[39m
                          [36m<button[39m
                            [33maria-label[39m=[32m"Clear all selected photos"[39m
                            [33mclass[39m=[32m"text-xs text-red-600 hover:text-red-800 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                          [36m>[39m
                            [0mClear All[0m
                          [36m</button>[39m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"grid grid-cols-4 gap-3"[39m
                        [36m/>[39m
                      [36m</div>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Add photos from gallery"[39m
                        [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                      [36m>[39m
                        [0m+ Add Photos from Gallery[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      850 |       });
      851 |
    > 852 |       expect(screen.getByText('Photo Gallery (3 photos)')).toBeInTheDocument();
          |                     ^
      853 |     });
      854 |
      855 |     it('should display references content type', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:852:21)

  ‚óè SectionEditor ‚Ä∫ Column Editing ‚Ä∫ should display zero count for empty photo gallery

    TestingLibraryElementError: Unable to find an element with the text: Photo Gallery (0 photos). This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center justify-between border-b border-gray-200 pb-4"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900"[39m
            [36m>[39m
              [0mSection Editor[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Preview as guest"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"[39m
              [36m>[39m
                [0mPreview as Guest[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Save all sections"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [36m>[39m
                [0mSave All[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Close section editor"[39m
                [33mclass[39m=[32m"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [36m>[39m
                [0mClose[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<button[39m
            [33maria-label[39m=[32m"Add new section"[39m
            [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
          [36m>[39m
            [0m+ Add Section[0m
          [36m</button>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border border-gray-200 rounded-lg bg-white shadow-sm "[39m
              [33mdraggable[39m=[32m"true"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-3"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mSection [0m
                    [0m1[0m
                  [36m</span>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33maria-label[39m=[32m"Toggle to two column layout"[39m
                      [33mclass[39m=[32m"px-3 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50"[39m
                    [36m>[39m
                      [0m1 Col[0m
                    [36m</button>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section up"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üë[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Move section down"[39m
                    [33mclass[39m=[32m"p-1 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                    [33mdisabled[39m=[32m""[39m
                  [36m>[39m
                    [0m‚Üì[0m
                  [36m</button>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Delete section"[39m
                    [33mclass[39m=[32m"p-1 text-red-600 hover:text-red-900 disabled:opacity-30 disabled:cursor-not-allowed"[39m
                  [36m>[39m
                    [0mDelete[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"p-4 grid gap-4 grid-cols-1"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"border border-gray-200 rounded p-4 bg-white"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center justify-between mb-2"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"text-xs font-medium text-gray-600"[39m
                    [36m>[39m
                      [0mColumn [0m
                      [0m1[0m
                    [36m</div>[39m
                    [36m<select[39m
                      [33mclass[39m=[32m"text-xs border border-gray-300 rounded px-2 py-1"[39m
                    [36m>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"rich_text"[39m
                      [36m>[39m
                        [0mRich Text[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"photo_gallery"[39m
                      [36m>[39m
                        [0mPhoto Gallery[0m
                      [36m</option>[39m
                      [36m<option[39m
                        [33mvalue[39m=[32m"references"[39m
                      [36m>[39m
                        [0mReferences[0m
                      [36m</option>[39m
                    [36m</select>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm text-gray-700"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-4"[39m
                    [36m>[39m
                      [36m<button[39m
                        [33maria-label[39m=[32m"Add photos from gallery"[39m
                        [33mclass[39m=[32m"w-full px-4 py-3 text-sm font-medium text-blue-600 bg-blue-50 border-2 border-dashed border-blue-300 rounded-md hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                      [36m>[39m
                        [0m+ Add Photos from Gallery[0m
                      [36m</button>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      904 |       });
      905 |
    > 906 |       expect(screen.getByText('Photo Gallery (0 photos)')).toBeInTheDocument();
          |                     ^
      907 |     });
      908 |   });
      909 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (components/admin/SectionEditor.test.tsx:906:21)

FAIL __tests__/regression/authentication.regression.test.ts
  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should successfully authenticate valid credentials

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      50 |       });
      51 |
    > 52 |       const result = await authService.signInWithPassword(
         |                                        ^
      53 |         'test@example.com',
      54 |         'password123'
      55 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:52:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should reject invalid credentials

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      68 |       });
      69 |
    > 70 |       const result = await authService.signInWithPassword(
         |                                        ^
      71 |         'test@example.com',
      72 |         'wrongpassword'
      73 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:70:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should handle missing email

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      80 |
      81 |     it('should handle missing email', async () => {
    > 82 |       const result = await authService.signInWithPassword('', 'password123');
         |                                        ^
      83 |
      84 |       expect(result.success).toBe(false);
      85 |       if (!result.success) {

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:82:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Login with Email/Password ‚Ä∫ should handle missing password

    TypeError: Cannot read properties of undefined (reading 'signInWithPassword')

      89 |
      90 |     it('should handle missing password', async () => {
    > 91 |       const result = await authService.signInWithPassword(
         |                                        ^
      92 |         'test@example.com',
      93 |         ''
      94 |       );

      at Object.signInWithPassword (__tests__/regression/authentication.regression.test.ts:91:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should send magic link to valid email

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      108 |       });
      109 |
    > 110 |       const result = await authService.signInWithMagicLink('test@example.com');
          |                                        ^
      111 |
      112 |       expect(result.success).toBe(true);
      113 |       expect(mockSupabase.auth.signInWithOtp).toHaveBeenCalledWith({

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:110:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should reject invalid email format

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      117 |
      118 |     it('should reject invalid email format', async () => {
    > 119 |       const result = await authService.signInWithMagicLink('invalid-email');
          |                                        ^
      120 |
      121 |       expect(result.success).toBe(false);
      122 |       if (!result.success) {

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:119:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Magic Link Authentication ‚Ä∫ should handle email service failure

    TypeError: Cannot read properties of undefined (reading 'signInWithMagicLink')

      131 |       });
      132 |
    > 133 |       const result = await authService.signInWithMagicLink('test@example.com');
          |                                        ^
      134 |
      135 |       expect(result.success).toBe(false);
      136 |       if (!result.success) {

      at Object.signInWithMagicLink (__tests__/regression/authentication.regression.test.ts:133:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should retrieve active session

    TypeError: Cannot read properties of undefined (reading 'getSession')

      152 |       });
      153 |
    > 154 |       const result = await authService.getSession();
          |                                        ^
      155 |
      156 |       expect(result.success).toBe(true);
      157 |       if (result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:154:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should handle expired session

    TypeError: Cannot read properties of undefined (reading 'getSession')

      166 |       });
      167 |
    > 168 |       const result = await authService.getSession();
          |                                        ^
      169 |
      170 |       expect(result.success).toBe(false);
      171 |       if (!result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:168:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Management ‚Ä∫ should successfully sign out

    TypeError: Cannot read properties of undefined (reading 'signOut')

      179 |       });
      180 |
    > 181 |       const result = await authService.signOut();
          |                                        ^
      182 |
      183 |       expect(result.success).toBe(true);
      184 |       expect(mockSupabase.auth.signOut).toHaveBeenCalled();

      at Object.signOut (__tests__/regression/authentication.regression.test.ts:181:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow super_admin to access all resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      193 |       });
      194 |
    > 195 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      196 |         'user-1',
      197 |         'admin',
      198 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:195:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow host to access admin resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      211 |       });
      212 |
    > 213 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      214 |         'user-2',
      215 |         'admin',
      216 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:213:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should deny guest access to admin resources

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      229 |       });
      230 |
    > 231 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      232 |         'user-3',
      233 |         'admin',
      234 |         'write'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:231:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Role-Based Access Control ‚Ä∫ should allow guest to read their own data

    TypeError: Cannot read properties of undefined (reading 'checkPermission')

      247 |       });
      248 |
    > 249 |       const result = await accessControlService.checkPermission(
          |                                                 ^
      250 |         'user-3',
      251 |         'guest',
      252 |         'read'

      at Object.checkPermission (__tests__/regression/authentication.regression.test.ts:249:49)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Security ‚Ä∫ should not expose sensitive session data

    TypeError: Cannot read properties of undefined (reading 'getSession')

      273 |       });
      274 |
    > 275 |       const result = await authService.getSession();
          |                                        ^
      276 |
      277 |       expect(result.success).toBe(true);
      278 |       if (result.success) {

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:275:40)

  ‚óè Regression: Authentication Flows ‚Ä∫ Session Security ‚Ä∫ should handle concurrent session requests

    TypeError: Cannot read properties of undefined (reading 'getSession')

      298 |       // Simulate concurrent requests
      299 |       const results = await Promise.all([
    > 300 |         authService.getSession(),
          |                     ^
      301 |         authService.getSession(),
      302 |         authService.getSession(),
      303 |       ]);

      at Object.getSession (__tests__/regression/authentication.regression.test.ts:300:21)

FAIL __tests__/integration/database-rls.integration.test.ts
  ‚óè Database RLS Policies ‚Ä∫ guests table ‚Ä∫ should query guests with filters without infinite recursion

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      33 |       
      34 |       expect(error).toBeNull();
    > 35 |       expect(Array.isArray(data)).toBe(true);
         |                                   ^
      36 |     });
      37 |   });
      38 |

      at Object.toBe (__tests__/integration/database-rls.integration.test.ts:35:35)

  ‚óè Database RLS Policies ‚Ä∫ groups table ‚Ä∫ should query groups with select without infinite recursion

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      52 |       
      53 |       expect(error).toBeNull();
    > 54 |       expect(Array.isArray(data)).toBe(true);
         |                                   ^
      55 |     });
      56 |   });
      57 |

      at Object.toBe (__tests__/integration/database-rls.integration.test.ts:54:35)

FAIL __tests__/regression/rsvpCapacity.regression.test.ts
  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should calculate current capacity correctly

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      56 |       });
      57 |
    > 58 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      59 |         'activity-1'
      60 |       );
      61 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:58:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle activities without capacity limits

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      86 |       });
      87 |
    > 88 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      89 |         'activity-1'
      90 |       );
      91 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:88:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle zero attendees

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      109 |       });
      110 |
    > 111 |       const result = await rsvpAnalyticsService.calculateCapacity(
          |                                                 ^
      112 |         'activity-1'
      113 |       );
      114 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:111:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate alert at 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      137 |       });
      138 |
    > 139 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      140 |         'activity-1'
      141 |       );
      142 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:139:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate critical alert at 100% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      163 |       });
      164 |
    > 165 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      166 |         'activity-1'
      167 |       );
      168 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:165:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should not alert below 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      188 |       });
      189 |
    > 190 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      191 |         'activity-1'
      192 |       );
      193 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:190:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should handle over-capacity situations

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      212 |       });
      213 |
    > 214 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      215 |         'activity-1'
      216 |       );
      217 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:214:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should prevent RSVP when at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      238 |       });
      239 |
    > 240 |       const result = await rsvpService.create({
          |                                        ^
      241 |         guestId: 'guest-1',
      242 |         activityId: 'activity-1',
      243 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:240:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow RSVP when capacity available

    TypeError: Cannot read properties of undefined (reading 'create')

      274 |       });
      275 |
    > 276 |       const result = await rsvpService.create({
          |                                        ^
      277 |         guestId: 'guest-1',
      278 |         activityId: 'activity-1',
      279 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:276:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow declining RSVP even at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      306 |       });
      307 |
    > 308 |       const result = await rsvpService.create({
          |                                        ^
      309 |         guestId: 'guest-1',
      310 |         activityId: 'activity-1',
      311 |         status: 'declined',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:308:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should update capacity when RSVP status changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      331 |
      332 |       // Check initial capacity
    > 333 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      334 |         'activity-1'
      335 |       );
      336 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:333:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should handle guest count changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      380 |
      381 |       // Initial: 2 + 3 = 5
    > 382 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      383 |         'activity-1'
      384 |       );
      385 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:382:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Multiple Activities Capacity ‚Ä∫ should track capacity across multiple activities

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      433 |       const results = await Promise.all(
      434 |         activities.map((activity) =>
    > 435 |           rsvpAnalyticsService.calculateCapacity(activity.id)
          |                                ^
      436 |         )
      437 |       );
      438 |

      at calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:435:32)
          at Array.map (<anonymous>)
      at Object.map (__tests__/regression/rsvpCapacity.regression.test.ts:434:20)

FAIL __tests__/regression/dataServices.regression.test.ts
  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should create guest with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      58 |       });
      59 |
    > 60 |       const result = await guestService.create(validGuest);
         |                                         ^
      61 |
      62 |       expect(result.success).toBe(true);
      63 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:60:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should retrieve guest by ID

    TypeError: Cannot read properties of undefined (reading 'get')

      73 |       });
      74 |
    > 75 |       const result = await guestService.get('guest-1');
         |                                         ^
      76 |
      77 |       expect(result.success).toBe(true);
      78 |       if (result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:75:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should update guest data

    TypeError: Cannot read properties of undefined (reading 'update')

      87 |       });
      88 |
    > 89 |       const result = await guestService.update('guest-1', {
         |                                         ^
      90 |         firstName: 'Jane',
      91 |       });
      92 |

      at Object.update (__tests__/regression/dataServices.regression.test.ts:89:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should delete guest

    TypeError: Cannot read properties of undefined (reading 'delete')

      103 |       });
      104 |
    > 105 |       const result = await guestService.delete('guest-1');
          |                                         ^
      106 |
      107 |       expect(result.success).toBe(true);
      108 |     });

      at Object.delete (__tests__/regression/dataServices.regression.test.ts:105:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Guest Service CRUD ‚Ä∫ should list guests with pagination

    TypeError: Cannot read properties of undefined (reading 'list')

      119 |       });
      120 |
    > 121 |       const result = await guestService.list({ page: 1, pageSize: 10 });
          |                                         ^
      122 |
      123 |       expect(result.success).toBe(true);
      124 |       if (result.success) {

      at Object.list (__tests__/regression/dataServices.regression.test.ts:121:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Event Service CRUD ‚Ä∫ should create event with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      144 |       });
      145 |
    > 146 |       const result = await eventService.create(validEvent);
          |                                         ^
      147 |
      148 |       expect(result.success).toBe(true);
      149 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:146:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Event Service CRUD ‚Ä∫ should detect scheduling conflicts

    TypeError: Cannot read properties of undefined (reading 'checkSchedulingConflict')

      165 |       });
      166 |
    > 167 |       const result = await eventService.checkSchedulingConflict(
          |                                         ^
      168 |         conflictingEvent
      169 |       );
      170 |

      at Object.checkSchedulingConflict (__tests__/regression/dataServices.regression.test.ts:167:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Activity Service CRUD ‚Ä∫ should create activity with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      197 |       });
      198 |
    > 199 |       const result = await activityService.create(validActivity);
          |                                            ^
      200 |
      201 |       expect(result.success).toBe(true);
      202 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:199:44)

  ‚óè Regression: Data Service Operations ‚Ä∫ Activity Service CRUD ‚Ä∫ should validate required fields

    TypeError: Cannot read properties of undefined (reading 'create')

      212 |       };
      213 |
    > 214 |       const result = await activityService.create(invalidActivity as any);
          |                                            ^
      215 |
      216 |       expect(result.success).toBe(false);
      217 |       if (!result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:214:44)

  ‚óè Regression: Data Service Operations ‚Ä∫ RSVP Service CRUD ‚Ä∫ should create RSVP with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      236 |       });
      237 |
    > 238 |       const result = await rsvpService.create(validRSVP);
          |                                        ^
      239 |
      240 |       expect(result.success).toBe(true);
      241 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:238:40)

  ‚óè Regression: Data Service Operations ‚Ä∫ RSVP Service CRUD ‚Ä∫ should update RSVP status

    TypeError: Cannot read properties of undefined (reading 'update')

      250 |       });
      251 |
    > 252 |       const result = await rsvpService.update('rsvp-1', {
          |                                        ^
      253 |         status: 'declined',
      254 |       });
      255 |

      at Object.update (__tests__/regression/dataServices.regression.test.ts:252:40)

  ‚óè Regression: Data Service Operations ‚Ä∫ Vendor Service CRUD ‚Ä∫ should create vendor with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      277 |       });
      278 |
    > 279 |       const result = await vendorService.create(validVendor);
          |                                          ^
      280 |
      281 |       expect(result.success).toBe(true);
      282 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:279:42)

  ‚óè Regression: Data Service Operations ‚Ä∫ Vendor Service CRUD ‚Ä∫ should update payment status

    TypeError: Cannot read properties of undefined (reading 'recordPayment')

      296 |       });
      297 |
    > 298 |       const result = await vendorService.recordPayment('vendor-1', 1000);
          |                                          ^
      299 |
      300 |       expect(result.success).toBe(true);
      301 |       if (result.success) {

      at Object.recordPayment (__tests__/regression/dataServices.regression.test.ts:298:42)

  ‚óè Regression: Data Service Operations ‚Ä∫ Accommodation Service CRUD ‚Ä∫ should create accommodation with valid data

    TypeError: Cannot read properties of undefined (reading 'create')

      319 |       });
      320 |
    > 321 |       const result = await accommodationService.create(validAccommodation);
          |                                                 ^
      322 |
      323 |       expect(result.success).toBe(true);
      324 |       if (result.success) {

      at Object.create (__tests__/regression/dataServices.regression.test.ts:321:49)

  ‚óè Regression: Data Service Operations ‚Ä∫ Data Integrity ‚Ä∫ should maintain referential integrity on delete

    TypeError: Cannot read properties of undefined (reading 'delete')

      342 |
      343 |       // Deleting event should not cascade to independent activities
    > 344 |       const result = await eventService.delete('event-1');
          |                                         ^
      345 |
      346 |       expect(result.success).toBe(true);
      347 |     });

      at Object.delete (__tests__/regression/dataServices.regression.test.ts:344:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Data Integrity ‚Ä∫ should handle concurrent updates

    TypeError: Cannot read properties of undefined (reading 'update')

      355 |       // Simulate concurrent updates
      356 |       const results = await Promise.all([
    > 357 |         guestService.update('guest-1', { firstName: 'Update1' }),
          |                      ^
      358 |         guestService.update('guest-1', { firstName: 'Update2' }),
      359 |         guestService.update('guest-1', { firstName: 'Update3' }),
      360 |       ]);

      at Object.update (__tests__/regression/dataServices.regression.test.ts:357:22)

  ‚óè Regression: Data Service Operations ‚Ä∫ Error Handling ‚Ä∫ should handle database connection errors

    TypeError: Cannot read properties of undefined (reading 'get')

      374 |       });
      375 |
    > 376 |       const result = await guestService.get('guest-1');
          |                                         ^
      377 |
      378 |       expect(result.success).toBe(false);
      379 |       if (!result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:376:41)

  ‚óè Regression: Data Service Operations ‚Ä∫ Error Handling ‚Ä∫ should handle not found errors

    TypeError: Cannot read properties of undefined (reading 'get')

      388 |       });
      389 |
    > 390 |       const result = await guestService.get('nonexistent-id');
          |                                         ^
      391 |
      392 |       expect(result.success).toBe(false);
      393 |       if (!result.success) {

      at Object.get (__tests__/regression/dataServices.regression.test.ts:390:41)

FAIL __tests__/integration/guestsApi.integration.test.ts
  ‚óè GET /api/admin/guests ‚Ä∫ query parameter handling ‚Ä∫ should handle request with no query parameters

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: undefined

      20 |       if (response.status === 200) {
      21 |         const data = await response.json();
    > 22 |         expect(data.success).toBe(true);
         |                              ^
      23 |         expect(data.data).toBeDefined();
      24 |       }
      25 |     });

      at Object.toBe (__tests__/integration/guestsApi.integration.test.ts:22:30)

FAIL __tests__/integration/realApi.integration.test.ts
  ‚óè Real API Integration Tests ‚Ä∫ Authentication Endpoints ‚Ä∫ logout endpoint should exist and respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      124 |       
      125 |       const data = await response.json();
    > 126 |       expect(data).toHaveProperty('success');
          |                    ^
      127 |     }, TEST_TIMEOUT);
      128 |   });
      129 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:126:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ locations endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      136 |       
      137 |       const data = await response.json();
    > 138 |       expect(data).toHaveProperty('success');
          |                    ^
      139 |       
      140 |       if (!data.success) {
      141 |         expect(data).toHaveProperty('error');

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:138:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ content-pages endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      151 |       
      152 |       const data = await response.json();
    > 153 |       expect(data).toHaveProperty('success');
          |                    ^
      154 |     }, TEST_TIMEOUT);
      155 |
      156 |     test('guests endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:153:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ guests endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      161 |       
      162 |       const data = await response.json();
    > 163 |       expect(data).toHaveProperty('success');
          |                    ^
      164 |     }, TEST_TIMEOUT);
      165 |
      166 |     test('activities endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:163:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ activities endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      171 |       
      172 |       const data = await response.json();
    > 173 |       expect(data).toHaveProperty('success');
          |                    ^
      174 |     }, TEST_TIMEOUT);
      175 |   });
      176 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:173:20)

  ‚óè Real API Integration Tests ‚Ä∫ API Response Format ‚Ä∫ all API responses should have consistent format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      188 |         
      189 |         // All responses should have success field
    > 190 |         expect(data).toHaveProperty('success');
          |                      ^
      191 |         expect(typeof data.success).toBe('boolean');
      192 |         
      193 |         // If success is false, should have error object

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:190:22)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid endpoints should return 404

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 200

      209 |     test('invalid endpoints should return 404', async () => {
      210 |       const response = await fetch(`${API_BASE_URL}/api/admin/nonexistent-endpoint`);
    > 211 |       expect(response.status).toBe(404);
          |                               ^
      212 |     }, TEST_TIMEOUT);
      213 |
      214 |     test('invalid methods should return 405', async () => {

      at Object.toBe (__tests__/integration/realApi.integration.test.ts:211:31)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid methods should return 405

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [401, 405]

      218 |       
      219 |       // Should be 405 (Method Not Allowed) or 401 (Unauthorized)
    > 220 |       expect([401, 405]).toContain(response.status);
          |                          ^
      221 |     }, TEST_TIMEOUT);
      222 |   });
      223 |

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:220:26)

  ‚óè Real API Integration Tests ‚Ä∫ CORS and Headers ‚Ä∫ API should set proper content-type headers

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      227 |       
      228 |       const contentType = response.headers.get('content-type');
    > 229 |       expect(contentType).toContain('application/json');
          |                           ^
      230 |     }, TEST_TIMEOUT);
      231 |   });
      232 | });

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:229:27)

FAIL services/rsvpReminderService.test.ts
  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should trigger reminder when deadline is within threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      107 |
      108 |       // Assert: Guest should be included in reminder list
    > 109 |       expect(result.success).toBe(true);
          |                              ^
      110 |       if (result.success) {
      111 |         expect(result.data.length).toBe(1);
      112 |         expect(result.data[0].guest_id).toBe('guest-1');

      at Object.toBe (services/rsvpReminderService.test.ts:109:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when deadline is beyond threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      153 |
      154 |       // Assert: No guests should be included (deadline too far away)
    > 155 |       expect(result.success).toBe(true);
          |                              ^
      156 |       if (result.success) {
      157 |         expect(result.data.length).toBe(0);
      158 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:155:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when guest has already responded

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      228 |
      229 |       // Assert: No guests should be included (already responded)
    > 230 |       expect(result.success).toBe(true);
          |                              ^
      231 |       if (result.success) {
      232 |         expect(result.data.length).toBe(0);
      233 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:230:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should send reminder email when deadline is approaching

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      265 |
      266 |       // Assert: Reminder should be sent successfully
    > 267 |       expect(result.success).toBe(true);
          |                              ^
      268 |       expect(emailService.sendEmail).toHaveBeenCalledWith(
      269 |         expect.objectContaining({
      270 |           to: 'john@example.com',

      at Object.toBe (services/rsvpReminderService.test.ts:267:30)

FAIL __tests__/regression/photoStorage.regression.test.ts
  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should use B2 when healthy

    ReferenceError: mockSupabase is not defined

      114 |       });
      115 |
    > 116 |       mockSupabase.single.mockResolvedValue({
          |       ^
      117 |         data: {
      118 |           id: 'photo-1',
      119 |           photoUrl: 'https://cdn.example.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:116:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should failover to Supabase when B2 unhealthy

    ReferenceError: mockSupabase is not defined

      144 |       });
      145 |
    > 146 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      147 |         data: { path: 'photos/photo.jpg' },
      148 |         error: null,
      149 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:146:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Automatic Failover to Supabase ‚Ä∫ should retry B2 upload on transient failure

    ReferenceError: mockSupabase is not defined

      196 |         });
      197 |
    > 198 |       mockSupabase.single.mockResolvedValue({
          |       ^
      199 |         data: {
      200 |           id: 'photo-1',
      201 |           photoUrl: 'https://cdn.example.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:198:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ URL Consistency ‚Ä∫ should use CDN URL for B2 storage

    ReferenceError: mockSupabase is not defined

      235 |       });
      236 |
    > 237 |       mockSupabase.single.mockResolvedValue({
          |       ^
      238 |         data: {
      239 |           id: 'photo-1',
      240 |           photoUrl: 'https://cdn.cloudflare.com/photo.jpg',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:237:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ URL Consistency ‚Ä∫ should use Supabase URL for Supabase storage

    ReferenceError: mockSupabase is not defined

      264 |       });
      265 |
    > 266 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      267 |         data: { path: 'photos/photo.jpg' },
      268 |         error: null,
      269 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:266:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Storage Type Tracking ‚Ä∫ should track B2 storage type in database

    ReferenceError: mockSupabase is not defined

      312 |       });
      313 |
    > 314 |       mockSupabase.single.mockResolvedValue({
          |       ^
      315 |         data: {
      316 |           id: 'photo-1',
      317 |           storageType: 'b2',

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:314:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Storage Type Tracking ‚Ä∫ should track Supabase storage type in database

    ReferenceError: mockSupabase is not defined

      340 |       });
      341 |
    > 342 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      343 |         data: { path: 'photos/photo.jpg' },
      344 |         error: null,
      345 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:342:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Fallback Recovery ‚Ä∫ should recover to B2 when it becomes healthy again

    ReferenceError: mockSupabase is not defined

      380 |       });
      381 |
    > 382 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      383 |         data: { path: 'photos/photo1.jpg' },
      384 |         error: null,
      385 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:382:7)

  ‚óè Regression: Photo Storage Failover ‚Ä∫ Error Handling ‚Ä∫ should handle both storage systems failing

    ReferenceError: mockSupabase is not defined

      448 |       });
      449 |
    > 450 |       mockSupabase.storage.upload.mockResolvedValue({
          |       ^
      451 |         data: null,
      452 |         error: { message: 'Supabase storage unavailable' },
      453 |       });

      at Object.mockSupabase (__tests__/regression/photoStorage.regression.test.ts:450:7)

FAIL __tests__/regression/dynamicRoutes.regression.test.ts
  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should resolve custom page by slug

    ReferenceError: sectionsService is not defined

      48 |       });
      49 |
    > 50 |       const result = await sectionsService.getPageBySlug('our-story');
         |                      ^
      51 |
      52 |       expect(result.success).toBe(true);
      53 |       if (result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:50:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should return 404 for non-existent slug

    ReferenceError: sectionsService is not defined

      63 |       });
      64 |
    > 65 |       const result = await sectionsService.getPageBySlug('non-existent');
         |                      ^
      66 |
      67 |       expect(result.success).toBe(false);
      68 |       if (!result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:65:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should handle slugs with special characters

    ReferenceError: sectionsService is not defined

      85 |       });
      86 |
    > 87 |       const result = await sectionsService.getPageBySlug(
         |                      ^
      88 |         'costa-rica-travel-tips'
      89 |       );
      90 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:87:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should resolve activity by ID

    ReferenceError: sectionsService is not defined

      110 |       });
      111 |
    > 112 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      113 |         'activity',
      114 |         'activity-1'
      115 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:112:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should return 404 for non-existent activity

    ReferenceError: sectionsService is not defined

      128 |       });
      129 |
    > 130 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      131 |         'activity',
      132 |         'non-existent'
      133 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:130:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should only return published activities

    ReferenceError: sectionsService is not defined

      152 |       });
      153 |
    > 154 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      155 |         'activity',
      156 |         'activity-1',
      157 |         { publishedOnly: true }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:154:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should resolve event by ID

    ReferenceError: sectionsService is not defined

      179 |       });
      180 |
    > 181 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      182 |         'event',
      183 |         'event-1'
      184 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:181:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should handle event visibility restrictions

    ReferenceError: sectionsService is not defined

      204 |       });
      205 |
    > 206 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      207 |         'event',
      208 |         'event-1',
      209 |         { guestType: 'wedding_guest' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:206:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve accommodation by ID

    ReferenceError: sectionsService is not defined

      230 |       });
      231 |
    > 232 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      233 |         'accommodation',
      234 |         'accommodation-1'
      235 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:232:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve room type by ID

    ReferenceError: sectionsService is not defined

      255 |       });
      256 |
    > 257 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      258 |         'room_type',
      259 |         'room-type-1'
      260 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:257:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should handle special characters in slug

    expect(received).toBe(expected) // Object.is equality

    Expected: "costa-ricas-best-beaches"
    Received: "costa-rica-s-best-beaches"

      280 |       const slug = generateSlug(title);
      281 |
    > 282 |       expect(slug).toBe('costa-ricas-best-beaches');
          |                    ^
      283 |     });
      284 |
      285 |     it('should handle multiple spaces', () => {

      at Object.toBe (__tests__/regression/dynamicRoutes.regression.test.ts:282:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should ensure unique slugs

    ReferenceError: sectionsService is not defined

      313 |       });
      314 |
    > 315 |       const slug = await sectionsService.generateUniqueSlug(title);
          |                    ^
      316 |
      317 |       expect(slug).toBe('our-story-2');
      318 |     });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:315:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate page type parameter

    ReferenceError: sectionsService is not defined

      321 |   describe('Route Parameter Validation', () => {
      322 |     it('should validate page type parameter', async () => {
    > 323 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      324 |         'invalid_type' as any,
      325 |         'page-1'
      326 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:323:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate UUID format for IDs

    ReferenceError: sectionsService is not defined

      333 |
      334 |     it('should validate UUID format for IDs', async () => {
    > 335 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      336 |         'activity',
      337 |         'not-a-uuid'
      338 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:335:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate slug format

    ReferenceError: sectionsService is not defined

      345 |
      346 |     it('should validate slug format', async () => {
    > 347 |       const result = await sectionsService.getPageBySlug(
          |                      ^
      348 |         'invalid slug with spaces'
      349 |       );
      350 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:347:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve nested activity within event

    ReferenceError: sectionsService is not defined

      370 |       });
      371 |
    > 372 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      373 |         'activity',
      374 |         'activity-1',
      375 |         { parentEventId: 'event-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:372:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve room type within accommodation

    ReferenceError: sectionsService is not defined

      395 |       });
      396 |
    > 397 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      398 |         'room_type',
      399 |         'room-type-1',
      400 |         { parentAccommodationId: 'accommodation-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:397:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should cache resolved routes

    ReferenceError: sectionsService is not defined

      422 |
      423 |       // First call
    > 424 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      425 |
      426 |       // Second call should use cache
      427 |       await sectionsService.getPageBySlug('our-story');

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:424:7)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should invalidate cache on update

    ReferenceError: sectionsService is not defined

      444 |
      445 |       // Initial load
    > 446 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      447 |
      448 |       // Update page
      449 |       await sectionsService.updatePage('page-1', { title: 'Updated' });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:446:7)

FAIL __tests__/smoke/apiRoutes.smoke.test.ts
  ‚óè API Smoke Tests ‚Ä∫ POST /api/auth/logout ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/room-types ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvps ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/photos ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ PUT /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvp-analytics ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/audit-logs ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/arrivals ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/departures ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/vehicle-requirements ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/breakdown ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/subsidies ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/payment-status ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/references/search ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ Response Format Consistency ‚Ä∫ all endpoints should return consistent error format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      144 |
      145 |         // Should have success field
    > 146 |         expect(data).toHaveProperty('success');
          |                      ^
      147 |         expect(typeof data.success).toBe('boolean');
      148 |
      149 |         // If error, should have proper error structure

      at Object.toHaveProperty (__tests__/smoke/apiRoutes.smoke.test.ts:146:22)

FAIL __tests__/integration/locationsApi.integration.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      19 |           getAll() {
      20 |             return cookieStore.getAll();
    > 21 |           },
         |             ^
      22 |           setAll(cookiesToSet) {
      23 |             cookiesToSet.forEach(({ name, value }) => {
      24 |               cookieStore.set(name, value);

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:14:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (app/api/admin/locations/route.ts:21:17)
      at Object.<anonymous> (__tests__/integration/locationsApi.integration.test.ts:36:16)

FAIL __tests__/integration/contentPagesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95028) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/homePageApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95022) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/roomTypesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95025) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/referenceSearchApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95026) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/apiRoutes.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95024) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/sectionsApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95027) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL services/guestDataRoundTrip.property.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=95023) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


Test Suites: 53 failed, 3 skipped, 97 passed, 150 of 153 total
Tests:       331 failed, 25 skipped, 1687 passed, 2043 total
Snapshots:   0 total
Time:        2112.98 s
Ran all test suites.
anagement ‚Ä∫ Capacity Calculations ‚Ä∫ should calculate current capacity correctly

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      56 |       });
      57 |
    > 58 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      59 |         'activity-1'
      60 |       );
      61 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:58:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle activities without capacity limits

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      86 |       });
      87 |
    > 88 |       const result = await rsvpAnalyticsService.calculateCapacity(
         |                                                 ^
      89 |         'activity-1'
      90 |       );
      91 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:88:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Calculations ‚Ä∫ should handle zero attendees

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      109 |       });
      110 |
    > 111 |       const result = await rsvpAnalyticsService.calculateCapacity(
          |                                                 ^
      112 |         'activity-1'
      113 |       );
      114 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:111:49)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate alert at 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      137 |       });
      138 |
    > 139 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      140 |         'activity-1'
      141 |       );
      142 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:139:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should generate critical alert at 100% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      163 |       });
      164 |
    > 165 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      166 |         'activity-1'
      167 |       );
      168 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:165:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should not alert below 90% capacity

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      188 |       });
      189 |
    > 190 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      191 |         'activity-1'
      192 |       );
      193 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:190:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Alert Generation ‚Ä∫ should handle over-capacity situations

    TypeError: Cannot read properties of undefined (reading 'checkCapacityAlerts')

      212 |       });
      213 |
    > 214 |       const result = await capacityReportService.checkCapacityAlerts(
          |                                                  ^
      215 |         'activity-1'
      216 |       );
      217 |

      at Object.checkCapacityAlerts (__tests__/regression/rsvpCapacity.regression.test.ts:214:50)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should prevent RSVP when at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      238 |       });
      239 |
    > 240 |       const result = await rsvpService.create({
          |                                        ^
      241 |         guestId: 'guest-1',
      242 |         activityId: 'activity-1',
      243 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:240:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow RSVP when capacity available

    TypeError: Cannot read properties of undefined (reading 'create')

      274 |       });
      275 |
    > 276 |       const result = await rsvpService.create({
          |                                        ^
      277 |         guestId: 'guest-1',
      278 |         activityId: 'activity-1',
      279 |         status: 'attending',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:276:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Capacity Limit Enforcement ‚Ä∫ should allow declining RSVP even at capacity

    TypeError: Cannot read properties of undefined (reading 'create')

      306 |       });
      307 |
    > 308 |       const result = await rsvpService.create({
          |                                        ^
      309 |         guestId: 'guest-1',
      310 |         activityId: 'activity-1',
      311 |         status: 'declined',

      at Object.create (__tests__/regression/rsvpCapacity.regression.test.ts:308:40)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should update capacity when RSVP status changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      331 |
      332 |       // Check initial capacity
    > 333 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      334 |         'activity-1'
      335 |       );
      336 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:333:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Real-Time Capacity Updates ‚Ä∫ should handle guest count changes

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      380 |
      381 |       // Initial: 2 + 3 = 5
    > 382 |       const initialResult = await rsvpAnalyticsService.calculateCapacity(
          |                                                        ^
      383 |         'activity-1'
      384 |       );
      385 |

      at Object.calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:382:56)

  ‚óè Regression: RSVP Capacity Management ‚Ä∫ Multiple Activities Capacity ‚Ä∫ should track capacity across multiple activities

    TypeError: Cannot read properties of undefined (reading 'calculateCapacity')

      433 |       const results = await Promise.all(
      434 |         activities.map((activity) =>
    > 435 |           rsvpAnalyticsService.calculateCapacity(activity.id)
          |                                ^
      436 |         )
      437 |       );
      438 |

      at calculateCapacity (__tests__/regression/rsvpCapacity.regression.test.ts:435:32)
          at Array.map (<anonymous>)
      at Object.map (__tests__/regression/rsvpCapacity.regression.test.ts:434:20)

FAIL app/admin/transportation/page.test.tsx
  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Manifest Display ‚Ä∫ should display guests grouped by time windows

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      78 |         // Check that the time window header is displayed
      79 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 80 |         expect(timeWindowText).toBeInTheDocument();
         |                                ^
      81 |       });
      82 |     });
      83 |

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:80:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

  ‚óè TransportationPage ‚Ä∫ Shuttle Assignment ‚Ä∫ should call assign shuttle API when shuttle input changes

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      164 |       await waitFor(() => {
      165 |         const timeWindowText = screen.queryByText(/08:00 - 10:00/i);
    > 166 |         expect(timeWindowText).toBeInTheDocument();
          |                                ^
      167 |       });
      168 |
      169 |       // Find shuttle input and change it

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:325:30)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:326:15)
      at toBeInTheDocument (app/admin/transportation/page.test.tsx:166:32)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)

  ‚óè TransportationPage ‚Ä∫ Vehicle Calculations ‚Ä∫ should calculate and display vehicle requirements

    Unable to find an element with the text: /vehicle requirements/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-between items-center"[39m
          [36m>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-3xl font-bold"[39m
            [36m>[39m
              [0mTransportation Management[0m
            [36m</h1>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-2"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGenerate Driver Sheets[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-busy[39m=[32m"false"[39m
                [33maria-disabled[39m=[32m"false"[39m
                [33mclass[39m=[32m"font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 hover:shadow-md active:scale-95 bg-sage-200 hover:bg-sage-300 text-sage-900 focus:ring-sage-400 disabled:bg-sage-100 disabled:hover:shadow-none px-4 py-2 text-base min-h-[44px]   cursor-pointer"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPrint Manifest[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex gap-4 border-b"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium border-b-2 border-blue-500 text-blue-600"[39m
            [36m>[39m
              [0mArrivals[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 font-medium text-gray-600 hover:text-gray-900"[39m
            [36m>[39m
              [0mDepartures[0m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"date-filter"[39m
                [36m>[39m
                  [0mDate[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"date-filter"[39m
                  [33mtype[39m=[32m"date"[39m
                  [33mvalue[39m=[32m"2026-01-29"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [0mAirport[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md"[39m
                  [33mid[39m=[32m"airport-filter"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"all"[39m
                  [36m>[39m
                    [0mAll Airports[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"SJO"[39m
                  [36m>[39m
                    [0mSJO - San Jos√©[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"LIR"[39m
                  [36m>[39m
                    [0mLIR - Liberia[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"Other"[39m
                  [36m>[39m
                    [0mOther[0m
                  [36m</option>[39m
                [36m</select>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded"[39m
          [36m>[39m
            [0mCannot read properties of undefined (reading 'guests')[0m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white rounded-lg shadow-md border border-sage-200 overflow-hidden transition-all duration-200  p-8 text-center text-gray-500"[39m
          [36m>[39m
            [0mNo guests scheduled for [0m
            [0marrivals[0m
            [0m on [0m
            [0m2026-01-29[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      209 |       render(<TransportationPage />);
      210 |
    > 211 |       await waitFor(() => {
          |                    ^
      212 |         expect(screen.getByText(/vehicle requirements/i)).toBeInTheDocument();
      213 |       });
      214 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (app/admin/transportation/page.test.tsx:211:20)

  ‚óè TransportationPage ‚Ä∫ Driver Sheets ‚Ä∫ should generate driver sheets

    TypeError: Cannot read properties of undefined (reading 'first_name')

      287 |                 key: 'name',
      288 |                 label: 'Guest Name',
    > 289 |                 render: (guest: Guest) => `${guest.first_name} ${guest.last_name}`,
          |                                                    ^
      290 |               },
      291 |               {
      292 |                 key: 'flight_number',

      at Object.first_name [as render] (app/admin/transportation/page.tsx:289:52)
      at render (components/ui/DataTable.tsx:581:35)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:575:32)
          at Array.map (<anonymous>)
      at map (components/ui/DataTable.tsx:550:22)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at performWorkUntilDeadline (node_modules/scheduler/cjs/scheduler.development.js:45:48)

FAIL services/rsvpReminderService.test.ts
  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should trigger reminder when deadline is within threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      107 |
      108 |       // Assert: Guest should be included in reminder list
    > 109 |       expect(result.success).toBe(true);
          |                              ^
      110 |       if (result.success) {
      111 |         expect(result.data.length).toBe(1);
      112 |         expect(result.data[0].guest_id).toBe('guest-1');

      at Object.toBe (services/rsvpReminderService.test.ts:109:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when deadline is beyond threshold

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      153 |
      154 |       // Assert: No guests should be included (deadline too far away)
    > 155 |       expect(result.success).toBe(true);
          |                              ^
      156 |       if (result.success) {
      157 |         expect(result.data.length).toBe(0);
      158 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:155:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should not trigger reminder when guest has already responded

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      228 |
      229 |       // Assert: No guests should be included (already responded)
    > 230 |       expect(result.success).toBe(true);
          |                              ^
      231 |       if (result.success) {
      232 |         expect(result.data.length).toBe(0);
      233 |       }

      at Object.toBe (services/rsvpReminderService.test.ts:230:30)

  ‚óè rsvpReminderService - Automated RSVP Reminders ‚Ä∫ deadline approaching triggers reminder ‚Ä∫ should send reminder email when deadline is approaching

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      265 |
      266 |       // Assert: Reminder should be sent successfully
    > 267 |       expect(result.success).toBe(true);
          |                              ^
      268 |       expect(emailService.sendEmail).toHaveBeenCalledWith(
      269 |         expect.objectContaining({
      270 |           to: 'john@example.com',

      at Object.toBe (services/rsvpReminderService.test.ts:267:30)

FAIL __tests__/integration/guestsApi.integration.test.ts
  ‚óè GET /api/admin/guests ‚Ä∫ query parameter handling ‚Ä∫ should handle request with no query parameters

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: undefined

      20 |       if (response.status === 200) {
      21 |         const data = await response.json();
    > 22 |         expect(data.success).toBe(true);
         |                              ^
      23 |         expect(data.data).toBeDefined();
      24 |       }
      25 |     });

      at Object.toBe (__tests__/integration/guestsApi.integration.test.ts:22:30)

FAIL __tests__/regression/dynamicRoutes.regression.test.ts
  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should resolve custom page by slug

    ReferenceError: sectionsService is not defined

      48 |       });
      49 |
    > 50 |       const result = await sectionsService.getPageBySlug('our-story');
         |                      ^
      51 |
      52 |       expect(result.success).toBe(true);
      53 |       if (result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:50:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should return 404 for non-existent slug

    ReferenceError: sectionsService is not defined

      63 |       });
      64 |
    > 65 |       const result = await sectionsService.getPageBySlug('non-existent');
         |                      ^
      66 |
      67 |       expect(result.success).toBe(false);
      68 |       if (!result.success) {

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:65:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Content Page Routing ‚Ä∫ should handle slugs with special characters

    ReferenceError: sectionsService is not defined

      85 |       });
      86 |
    > 87 |       const result = await sectionsService.getPageBySlug(
         |                      ^
      88 |         'costa-rica-travel-tips'
      89 |       );
      90 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:87:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should resolve activity by ID

    ReferenceError: sectionsService is not defined

      110 |       });
      111 |
    > 112 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      113 |         'activity',
      114 |         'activity-1'
      115 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:112:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should return 404 for non-existent activity

    ReferenceError: sectionsService is not defined

      128 |       });
      129 |
    > 130 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      131 |         'activity',
      132 |         'non-existent'
      133 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:130:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Activity Page Routing ‚Ä∫ should only return published activities

    ReferenceError: sectionsService is not defined

      152 |       });
      153 |
    > 154 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      155 |         'activity',
      156 |         'activity-1',
      157 |         { publishedOnly: true }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:154:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should resolve event by ID

    ReferenceError: sectionsService is not defined

      179 |       });
      180 |
    > 181 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      182 |         'event',
      183 |         'event-1'
      184 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:181:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Event Page Routing ‚Ä∫ should handle event visibility restrictions

    ReferenceError: sectionsService is not defined

      204 |       });
      205 |
    > 206 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      207 |         'event',
      208 |         'event-1',
      209 |         { guestType: 'wedding_guest' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:206:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve accommodation by ID

    ReferenceError: sectionsService is not defined

      230 |       });
      231 |
    > 232 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      233 |         'accommodation',
      234 |         'accommodation-1'
      235 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:232:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Accommodation Page Routing ‚Ä∫ should resolve room type by ID

    ReferenceError: sectionsService is not defined

      255 |       });
      256 |
    > 257 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      258 |         'room_type',
      259 |         'room-type-1'
      260 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:257:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should handle special characters in slug

    expect(received).toBe(expected) // Object.is equality

    Expected: "costa-ricas-best-beaches"
    Received: "costa-rica-s-best-beaches"

      280 |       const slug = generateSlug(title);
      281 |
    > 282 |       expect(slug).toBe('costa-ricas-best-beaches');
          |                    ^
      283 |     });
      284 |
      285 |     it('should handle multiple spaces', () => {

      at Object.toBe (__tests__/regression/dynamicRoutes.regression.test.ts:282:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Slug Generation ‚Ä∫ should ensure unique slugs

    ReferenceError: sectionsService is not defined

      313 |       });
      314 |
    > 315 |       const slug = await sectionsService.generateUniqueSlug(title);
          |                    ^
      316 |
      317 |       expect(slug).toBe('our-story-2');
      318 |     });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:315:20)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate page type parameter

    ReferenceError: sectionsService is not defined

      321 |   describe('Route Parameter Validation', () => {
      322 |     it('should validate page type parameter', async () => {
    > 323 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      324 |         'invalid_type' as any,
      325 |         'page-1'
      326 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:323:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate UUID format for IDs

    ReferenceError: sectionsService is not defined

      333 |
      334 |     it('should validate UUID format for IDs', async () => {
    > 335 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      336 |         'activity',
      337 |         'not-a-uuid'
      338 |       );

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:335:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Route Parameter Validation ‚Ä∫ should validate slug format

    ReferenceError: sectionsService is not defined

      345 |
      346 |     it('should validate slug format', async () => {
    > 347 |       const result = await sectionsService.getPageBySlug(
          |                      ^
      348 |         'invalid slug with spaces'
      349 |       );
      350 |

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:347:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve nested activity within event

    ReferenceError: sectionsService is not defined

      370 |       });
      371 |
    > 372 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      373 |         'activity',
      374 |         'activity-1',
      375 |         { parentEventId: 'event-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:372:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Nested Route Resolution ‚Ä∫ should resolve room type within accommodation

    ReferenceError: sectionsService is not defined

      395 |       });
      396 |
    > 397 |       const result = await sectionsService.getPageByTypeAndId(
          |                      ^
      398 |         'room_type',
      399 |         'room-type-1',
      400 |         { parentAccommodationId: 'accommodation-1' }

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:397:22)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should cache resolved routes

    ReferenceError: sectionsService is not defined

      422 |
      423 |       // First call
    > 424 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      425 |
      426 |       // Second call should use cache
      427 |       await sectionsService.getPageBySlug('our-story');

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:424:7)

  ‚óè Regression: Dynamic Route Resolution ‚Ä∫ Cache Handling ‚Ä∫ should invalidate cache on update

    ReferenceError: sectionsService is not defined

      444 |
      445 |       // Initial load
    > 446 |       await sectionsService.getPageBySlug('our-story');
          |       ^
      447 |
      448 |       // Update page
      449 |       await sectionsService.updatePage('page-1', { title: 'Updated' });

      at Object.<anonymous> (__tests__/regression/dynamicRoutes.regression.test.ts:446:7)

FAIL __tests__/integration/realApi.integration.test.ts
  ‚óè Real API Integration Tests ‚Ä∫ Authentication Endpoints ‚Ä∫ logout endpoint should exist and respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      124 |       
      125 |       const data = await response.json();
    > 126 |       expect(data).toHaveProperty('success');
          |                    ^
      127 |     }, TEST_TIMEOUT);
      128 |   });
      129 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:126:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ locations endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      136 |       
      137 |       const data = await response.json();
    > 138 |       expect(data).toHaveProperty('success');
          |                    ^
      139 |       
      140 |       if (!data.success) {
      141 |         expect(data).toHaveProperty('error');

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:138:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ content-pages endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      151 |       
      152 |       const data = await response.json();
    > 153 |       expect(data).toHaveProperty('success');
          |                    ^
      154 |     }, TEST_TIMEOUT);
      155 |
      156 |     test('guests endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:153:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ guests endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      161 |       
      162 |       const data = await response.json();
    > 163 |       expect(data).toHaveProperty('success');
          |                    ^
      164 |     }, TEST_TIMEOUT);
      165 |
      166 |     test('activities endpoint should respond', async () => {

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:163:20)

  ‚óè Real API Integration Tests ‚Ä∫ Admin API Endpoints ‚Ä∫ activities endpoint should respond

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      171 |       
      172 |       const data = await response.json();
    > 173 |       expect(data).toHaveProperty('success');
          |                    ^
      174 |     }, TEST_TIMEOUT);
      175 |   });
      176 |

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:173:20)

  ‚óè Real API Integration Tests ‚Ä∫ API Response Format ‚Ä∫ all API responses should have consistent format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      188 |         
      189 |         // All responses should have success field
    > 190 |         expect(data).toHaveProperty('success');
          |                      ^
      191 |         expect(typeof data.success).toBe('boolean');
      192 |         
      193 |         // If success is false, should have error object

      at Object.toHaveProperty (__tests__/integration/realApi.integration.test.ts:190:22)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid endpoints should return 404

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 200

      209 |     test('invalid endpoints should return 404', async () => {
      210 |       const response = await fetch(`${API_BASE_URL}/api/admin/nonexistent-endpoint`);
    > 211 |       expect(response.status).toBe(404);
          |                               ^
      212 |     }, TEST_TIMEOUT);
      213 |
      214 |     test('invalid methods should return 405', async () => {

      at Object.toBe (__tests__/integration/realApi.integration.test.ts:211:31)

  ‚óè Real API Integration Tests ‚Ä∫ Error Handling ‚Ä∫ invalid methods should return 405

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [401, 405]

      218 |       
      219 |       // Should be 405 (Method Not Allowed) or 401 (Unauthorized)
    > 220 |       expect([401, 405]).toContain(response.status);
          |                          ^
      221 |     }, TEST_TIMEOUT);
      222 |   });
      223 |

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:220:26)

  ‚óè Real API Integration Tests ‚Ä∫ CORS and Headers ‚Ä∫ API should set proper content-type headers

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      227 |       
      228 |       const contentType = response.headers.get('content-type');
    > 229 |       expect(contentType).toContain('application/json');
          |                           ^
      230 |     }, TEST_TIMEOUT);
      231 |   });
      232 | });

      at Object.toContain (__tests__/integration/realApi.integration.test.ts:229:27)

FAIL __tests__/smoke/apiRoutes.smoke.test.ts
  ‚óè API Smoke Tests ‚Ä∫ POST /api/auth/logout ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/locations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/content-pages ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/guests ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/activities ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/events ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ POST /api/admin/accommodations ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Expected value: 200
    Received array: [201, 400, 401]

      113 |       
      114 |       // Should return one of the expected status codes
    > 115 |       expect(expectedStatuses).toContain(response.status);
          |                                ^
      116 |       
      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:115:32)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/room-types ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvps ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/photos ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ PUT /api/admin/home-page ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/rsvp-analytics ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/audit-logs ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/arrivals ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/departures ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/transportation/vehicle-requirements ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/breakdown ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/subsidies ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/budget/payment-status ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ GET /api/admin/references/search ‚Ä∫ should respond with valid status code

    expect(received).toContain(expected) // indexOf

    Matcher error: received value must not be null nor undefined

    Received has value: null

      117 |       // Should return JSON
      118 |       const contentType = response.headers.get('content-type');
    > 119 |       expect(contentType).toContain('application/json');
          |                           ^
      120 |       
      121 |       // Should have valid JSON body
      122 |       const data = await response.json();

      at Object.toContain (__tests__/smoke/apiRoutes.smoke.test.ts:119:27)

  ‚óè API Smoke Tests ‚Ä∫ Response Format Consistency ‚Ä∫ all endpoints should return consistent error format

    expect(received).toHaveProperty(path)

    Expected path: "success"
    Received path: []

    Received value: {}

      144 |
      145 |         // Should have success field
    > 146 |         expect(data).toHaveProperty('success');
          |                      ^
      147 |         expect(typeof data.success).toBe('boolean');
      148 |
      149 |         // If error, should have proper error structure

      at Object.toHaveProperty (__tests__/smoke/apiRoutes.smoke.test.ts:146:22)

FAIL __tests__/integration/locationsApi.integration.test.ts
  ‚óè Test suite failed to run

    ReferenceError: Request is not defined

      19 |           getAll() {
      20 |             return cookieStore.getAll();
    > 21 |           },
         |             ^
      22 |           setAll(cookiesToSet) {
      23 |             cookiesToSet.forEach(({ name, value }) => {
      24 |               cookieStore.set(name, value);

      at Object.Request (node_modules/next/src/server/web/spec-extension/request.ts:14:34)
      at Object.<anonymous> (node_modules/next/server.js:2:16)
      at Object.<anonymous> (app/api/admin/locations/route.ts:21:17)
      at Object.<anonymous> (__tests__/integration/locationsApi.integration.test.ts:36:16)

FAIL __tests__/integration/homePageApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93459) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/roomTypesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93454) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/referenceSearchApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93456) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/sectionsApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93455) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/contentPagesApi.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93458) was terminated by another process: signal=SIGABRT, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)

FAIL __tests__/integration/apiRoutes.integration.test.ts
  ‚óè Test suite failed to run

    A jest worker process (pid=93460) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)


Test Suites: 52 failed, 3 skipped, 98 passed, 150 of 153 total
Tests:       330 failed, 25 skipped, 1697 passed, 2052 total
Snapshots:   0 total
Time:        2470.372 s
Ran all test suites.
